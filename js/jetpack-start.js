(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),DataActions={requestStarted:function(){AppDispatcher.dispatch({actionType:JPSConstants.SAVE_STARTED})},requestFinished:function(){AppDispatcher.dispatch({actionType:JPSConstants.SAVE_FINISHED})}};module.exports=DataActions;


},{"../constants/jetpack-start-constants":19,"../dispatcher/app-dispatcher":21}],2:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),FlashActions={notice:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SET_FLASH,message:t,severity:JPSConstants.FLASH_SEVERITY_NOTICE})},error:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SET_FLASH,message:t,severity:JPSConstants.FLASH_SEVERITY_ERROR})},unset:function(){AppDispatcher.dispatch({actionType:JPSConstants.UNSET_FLASH})}};module.exports=FlashActions;


},{"../constants/jetpack-start-constants":19,"../dispatcher/app-dispatcher":21}],3:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),Paths=require("../constants/jetpack-start-paths"),FlashActions=require("./flash-actions"),SiteActions=require("./site-actions"),WPAjax=require("../utils/wp-ajax"),SetupProgressStore=require("../stores/setup-progress-store"),SiteStore=require("../stores/site-store"),SetupProgressActions={resetData:function(){WPAjax.post(JPS.site_actions.reset_data).fail(function(t){FlashActions.error("Failed to save data: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.RESET_DATA})},completeStep:function(t,e){var s=SetupProgressStore.getStepFromSlug(t);AppDispatcher.dispatch({actionType:JPSConstants.STEP_COMPLETE,slug:t}),this._recordComplete(s,e)},completeAndNextStep:function(t,e){this.completeStep(t,e),AppDispatcher.dispatch({actionType:JPSConstants.STEP_NEXT,slug:t})},_recordComplete:function(t,e){"undefined"==typeof e&&(e={}),e.completion=SetupProgressStore.getProgressPercent(),WPAjax.post(JPS.step_actions.complete,{step:t.slug,data:e}).fail(function(t){FlashActions.error(t)})},skipStep:function(){FlashActions.unset();var t=SetupProgressStore.getCurrentStep();t.skipped||WPAjax.post(JPS.step_actions.skip,{step:t.slug}).fail(function(t){FlashActions.error(t)}),AppDispatcher.dispatch({actionType:JPSConstants.STEP_SKIP})},getStarted:function(){WPAjax.post(JPS.step_actions.start).fail(function(t){FlashActions.error(t)}),AppDispatcher.dispatch({actionType:JPSConstants.STEP_GET_STARTED})},setCurrentStep:function(t){FlashActions.unset(),AppDispatcher.dispatch({actionType:JPSConstants.STEP_SELECT,slug:t})},selectNextStep:function(){FlashActions.unset(),AppDispatcher.dispatch({actionType:JPSConstants.STEP_NEXT})},submitTitleStep:function(){SiteActions.saveTitleAndDescription().done(function(){this.completeAndNextStep(Paths.SITE_TITLE_STEP_SLUG)}.bind(this))},submitLayoutStep:function(t){SiteActions.setLayout(t).done(function(){this.completeAndNextStep(Paths.LAYOUT_STEP_SLUG)}.bind(this))},submitJetpackJumpstart:function(){SiteActions.enableJumpstart().done(function(){this.completeStep(Paths.JETPACK_MODULES_STEP_SLUG)}.bind(this))},setActiveTheme:function(t){SiteActions.setActiveTheme(t).done(function(){this.completeStep(Paths.DESIGN_STEP_SLUG,{themeId:t.id})}.bind(this))},saveDesignStep:function(){this.completeAndNextStep(Paths.DESIGN_STEP_SLUG,{themeId:SiteStore.getActiveThemeId()})}};module.exports=SetupProgressActions;


},{"../constants/jetpack-start-constants":19,"../constants/jetpack-start-paths":20,"../dispatcher/app-dispatcher":21,"../stores/setup-progress-store":25,"../stores/site-store":26,"../utils/wp-ajax":28,"./flash-actions":2,"./site-actions":4}],4:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),SiteStore=require("../stores/site-store"),FlashActions=require("./flash-actions.js"),SpinnerActions=require("./spinner-actions.js"),WPAjax=require("../utils/wp-ajax"),SiteActions={setTitle:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_TITLE,title:t})},setDescription:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_DESCRIPTION,description:t})},saveTitleAndDescription:function(){var t=SiteStore.getTitle(),e=SiteStore.getDescription();return WPAjax.post(JPS.site_actions.set_title,{title:t,description:e}).fail(function(t){FlashActions.error("Error setting title: "+t)}),jQuery("#wp-admin-bar-site-name .ab-item").html(t),AppDispatcher.dispatch({actionType:JPSConstants.SITE_SAVE_TITLE_AND_DESCRIPTION,title:t}),jQuery.Deferred().resolve()},_installTheme:function(t){return t.installed?jQuery.Deferred().resolve():(SpinnerActions.show("Installing '"+t.name+"'"),WPAjax.post(JPS.site_actions.install_theme,{themeId:t.id}).done(function(){t.installed=!0,AppDispatcher.dispatch({actionType:JPSConstants.SITE_INSTALL_THEME,theme:t})}).fail(function(t){FlashActions.error("Server error installing theme: "+t)}).always(function(){SpinnerActions.hide()}))},_activateTheme:function(t){WPAjax.post(JPS.site_actions.set_theme,{themeId:t.id}).fail(function(t){FlashActions.error("Server error setting theme: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_THEME,themeId:t.id})},setActiveTheme:function(t){return this._installTheme(t).done(function(){this._activateTheme(t)}.bind(this)),jQuery.Deferred().resolve()},setLayout:function(t){return WPAjax.post(JPS.site_actions.set_layout,{layout:t}).fail(function(t){FlashActions.error("Error setting layout: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_LAYOUT,layout:t}),jQuery.Deferred().resolve()},configureJetpack:function(t){return SpinnerActions.show("Connecting to WordPress.com"),WPAjax.post(JPS.site_actions.configure_jetpack,{return_to_step:t}).done(function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_CONFIGURED}),t.next?window.location.replace(t.next):SpinnerActions.hide()}).fail(function(t){FlashActions.error("Error enabling Jetpack: "+t),SpinnerActions.hide()})},activateJetpackModule:function(t){return WPAjax.post(JPS.site_actions.activate_jetpack_modules,{modules:[t]}).fail(function(t){FlashActions.error("Error activating Jetpack module: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_MODULE_ENABLED,slug:t}),jQuery.Deferred().resolve()},deactivateJetpackModule:function(t){return WPAjax.post(JPS.site_actions.deactivate_jetpack_modules,{modules:[t]}).fail(function(t){FlashActions.error("Error deactivating Jetpack module: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_MODULE_DISABLED,slug:t}),jQuery.Deferred().resolve()},loadAllJetpackModules:function(){return 0===SiteStore.getJetpackAdditionalModules().length?WPAjax.post(JPS.site_actions.list_jetpack_modules).done(function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_ADD_MODULES,modules:t})}).fail(function(t){FlashActions.error("Error fetching all Jetpack modules: "+t)}):jQuery.Deferred().resolve()},enableJumpstart:function(){return WPAjax.post(JPS.site_actions.activate_jetpack_modules,{modules:SiteStore.getJumpstartModuleSlugs()}).fail(function(t){FlashActions.error("Error activating Jetpack modules: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_JUMPSTART_ENABLED}),jQuery.Deferred().resolve()}};module.exports=SiteActions;


},{"../constants/jetpack-start-constants":19,"../dispatcher/app-dispatcher":21,"../stores/site-store":26,"../utils/wp-ajax":28,"./flash-actions.js":2,"./spinner-actions.js":5}],5:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),SpinnerActions={show:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SHOW_SPINNER,message:t})},hide:function(){AppDispatcher.dispatch({actionType:JPSConstants.HIDE_SPINNER})},showAsync:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SHOW_ASYNC_SPINNER,message:t})},hideAsync:function(){AppDispatcher.dispatch({actionType:JPSConstants.HIDE_ASYNC_SPINNER})}};module.exports=SpinnerActions;


},{"../constants/jetpack-start-constants":19,"../dispatcher/app-dispatcher":21}],6:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Button=require("@automattic/dops-react/js/components/button"),SiteStore=require("../stores/site-store"),AdvancedSettingsStep=React.createClass({displayName:"AdvancedSettingsStep",render:function(){return React.createElement("div",{className:"welcome__section",id:"welcome__advanced"},React.createElement("h4",null,"Advanced settings"),React.createElement("ul",{className:"welcome__advanced"},React.createElement("li",null,React.createElement("h5",null,"Fine-tune your site's layout and appearance"),"Customize your site’s colors, fonts, sidebars and other settings.",React.createElement("br",null),React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.customize_url},"Customize my site"),"   ",React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.themes_url},"Browse and add themes")),("blog"==SiteStore.getLayout()||"site-blog"==SiteStore.getLayout())&&React.createElement("li",null,React.createElement("h5",null,"Create your first blog post"),'An epic essay or just "Hello World!"',React.createElement("br",null),React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.new_blog_post_url},"Write a new blog post"),"  ",React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.manage_posts_url},"Manage posts")),React.createElement("li",null,React.createElement("h5",null,"Create a static page"),'"About me", "Our Services" or anything else you can imagine.',React.createElement("br",null),React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.new_page_url},"Create a new page"),"  ",React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.manage_pages_url},"Manage pages")),React.createElement("li",null,React.createElement("h5",null,"Extend your site's functionality"),"WordPress offers thousands of plugins from Jetpack and the WordPress community.",React.createElement("br",null),React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.plugins_url},"Manage plugins"),"   ",SiteStore.getJetpackConfigured()&&React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.jetpack_modules_url},"Manage Jetpack modules")),React.createElement("li",null,React.createElement("h5",null,"Learn more"),React.createElement("a",{href:"https://codex.wordpress.org/First_Steps_With_WordPress"},"First Steps with WordPress")," - an online guide from the creators of WordPress")))}});module.exports=AdvancedSettingsStep;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../stores/site-store":26,"@automattic/dops-react/js/components/button":30}],7:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,ContentBox=React.createClass({displayName:"ContentBox",render:function(){return React.createElement("div",{className:"welcome__content_box"},this.props.children,React.createElement("div",{className:"clear"}))}});module.exports=ContentBox;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],8:[function(require,module,exports){
(function (global){
function getThemeState(){return{themes:SiteStore.getThemes()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteStore=require("../stores/site-store"),SetupProgressActions=require("../actions/setup-progress-actions"),Tooltip=require("./tooltip"),ContentBox=require("./content-box"),Button=require("@automattic/dops-react/js/components/button"),DesignStep=React.createClass({displayName:"DesignStep",componentDidMount:function(){SiteStore.addChangeListener(this._onChange),this._loadPopularThemes()},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getThemeState())},getInitialState:function(){var e=getThemeState();return e.popularThemes=[],e},handleActivateTheme:function(e){e.preventDefault(),this.setState({tooltipTheme:null,tooltipPosition:null});var t=jQuery(e.currentTarget),n=t.data("theme-id"),o=this.findTheme(n),a=!o.installed,i=SetupProgressActions.setActiveTheme(o);a&&i.done(function(){this._loadPopularThemes()}.bind(this))},findTheme:function(e){return _.findWhere(this.state.themes,{id:e})||_.findWhere(this.state.popularThemes,{id:e})},handleContinue:function(e){e.preventDefault(),SetupProgressActions.saveDesignStep()},handleShowTooltip:function(e){e.preventDefault();var t=jQuery(e.currentTarget),n=this.findTheme(t.data("theme-id")),o=t.position(),a=t.outerWidth(),i=t.outerHeight(),s={top:o.top+i/2,left:o.left+a};this.setState({tooltipTheme:n,tooltipPosition:s})},handleHideTooltip:function(e){e.preventDefault(),this.setState({tooltipTheme:null,tooltipPosition:null})},handleGetPopularThemes:function(e){e.preventDefault(),this._loadPopularThemes()},_loadPopularThemes:function(){SiteStore.getPopularThemes().done(function(e){this.setState({popularThemes:e})}.bind(this))},render:function(){return React.createElement("div",{className:"welcome__section",id:"welcome__design"},React.createElement("h4",null,"Pick a design"),React.createElement("p",{className:"step-description"},'A "theme" controls the design of your site - colours, fonts and layout.'),React.createElement("p",{className:"step-description"},"Click any theme below to choose it for your site. And don't worry - you can easily change this later."),React.createElement("p",{className:"submit"},React.createElement(Button,{color:"blue",onClick:this.handleContinue},"Next Step →")),React.createElement(ContentBox,null,React.createElement("h3",null,"Installed themes"),React.createElement("div",{className:"theme-browser rendered"},this._renderThemeList())),React.createElement(ContentBox,null,React.createElement("h3",null,"Popular themes from WordPress.org",React.createElement(Button,{color:"blue",style:{"float":"right"},onClick:this.handleGetPopularThemes},"Load more themes")),React.createElement("div",{className:"theme-browser rendered"},this._renderPopularThemeList())),React.createElement("div",{style:{clear:"both"}}),this.state.tooltipTheme&&this._renderTooltip())},_renderTooltip:function(){var e=this.state.tooltipTheme,t=this.state.tooltipPosition;return React.createElement(Tooltip,{left:t.left,top:t.top,width:320,title:e.name},React.createElement("p",null,"By ",e.author),React.createElement("p",{dangerouslySetInnerHTML:{__html:_.unescape(e.description)}}))},_renderTheme:function(e){return React.createElement("div",{key:e.id,className:"theme"+(e.active?" active":""),"data-theme-id":e.id,onClick:this.handleActivateTheme,onMouseEnter:this.handleShowTooltip,onMouseLeave:this.handleHideTooltip,"aria-describedby":e.id+"-action "+e.id+"-name"},e.screenshot?React.createElement("div",{className:"theme-screenshot"},React.createElement("img",{src:e.screenshot,alt:""})):React.createElement("div",{className:"theme-screenshot blank"}),!e.active&&React.createElement("span",{className:"more-details"},e.installed?"Click to select":"Click to install"),React.createElement("h3",{className:"theme-name",id:e.id+"-name"},React.createElement("span",null,e.active?"Selected:":"")," ",e.name))},_renderPopularThemeList:function(){return this.state.popularThemes.map(this._renderTheme)},_renderThemeList:function(){return this.state.themes.map(this._renderTheme)}});module.exports=DesignStep;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/site-store":26,"./content-box":7,"./tooltip":16,"@automattic/dops-react/js/components/button":30}],9:[function(require,module,exports){
(function (global){
function getFlashState(){return FlashStore.getFlash()}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,FlashStore=require("../stores/flash-store"),Flash=React.createClass({displayName:"Flash",componentDidMount:function(){FlashStore.addChangeListener(this._onChange)},componentWillUnmount:function(){FlashStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getFlashState())},getInitialState:function(){return getFlashState()},render:function(){return this.state.message?React.createElement("div",{className:this.state.severity+" updated"},this.state.message):null}});module.exports=Flash;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../stores/flash-store":24}],10:[function(require,module,exports){
(function (global){
function getSetupState(){return{}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SetupProgressStore=require("../stores/setup-progress-store"),SetupProgressActions=require("../actions/setup-progress-actions"),Button=require("@automattic/dops-react/js/components/button"),GetStarted=React.createClass({displayName:"GetStarted",componentDidMount:function(){SetupProgressStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SetupProgressStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSetupState())},getInitialState:function(){return getSetupState()},handleGetStarted:function(e){e.preventDefault(),SetupProgressActions.getStarted()},render:function(){return React.createElement("div",{className:"getting-started__intro"},React.createElement("h3",null,"You're almost done!"),React.createElement("p",{className:"getting-started__subhead"},"Take these steps to supercharge your WordPress site."),React.createElement("p",{className:"getting-started__action"},React.createElement(Button,{color:"green",size:"big",theme:"jetpack",onClick:this.handleGetStarted},"Get Started →")))}});module.exports=GetStarted;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/setup-progress-store":25,"@automattic/dops-react/js/components/button":30}],11:[function(require,module,exports){
(function (global){
function getJetpackProgress(){return{jetpackConfigured:SiteStore.getJetpackConfigured()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteStore=require("../stores/site-store"),SiteActions=require("../actions/site-actions"),Paths=require("../constants/jetpack-start-paths"),JetpackJumpstartMenu=React.createClass({displayName:"JetpackJumpstartMenu",componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getJetpackProgress())},getInitialState:function(){return getJetpackProgress()},handleClickConnect:function(e){e.preventDefault(),console.log("clicked"),SiteActions.configureJetpack(Paths.JETPACK_MODULES_STEP_SLUG)},style:{color:"black",fontSize:12},render:function(){return React.createElement("div",{style:this.style},this.state.jetpackConfigured?React.createElement("div",null):React.createElement("div",null,"Boost traffic, enhance security, and improve performance with a connection to WordPress.com",React.createElement("br",null),React.createElement("a",{className:"button button-primary button-large",href:"#",onClick:this.handleClickConnect},"Connect to WordPress.com")))}});module.exports=JetpackJumpstartMenu;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/site-actions":4,"../constants/jetpack-start-paths":20,"../stores/site-store":26}],12:[function(require,module,exports){
(function (global){
function getJetpackState(){return{site_title:SiteStore.getTitle(),jetpackConfigured:SiteStore.getJetpackConfigured(),jumpstartEnabled:SiteStore.getJetpackJumpstartEnabled(),modulesEnabled:SiteStore.getActiveModuleSlugs()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SkipButton=require("./skip-button"),SiteStore=require("../stores/site-store"),SiteActions=require("../actions/site-actions"),Paths=require("../constants/jetpack-start-paths"),ContentBox=require("./content-box"),SetupProgressActions=require("../actions/setup-progress-actions"),SpinnerStore=require("../stores/spinner-store"),Button=require("@automattic/dops-react/js/components/button"),JetpackJumpstart=React.createClass({displayName:"JetpackJumpstart",componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getJetpackState())},getInitialState:function(){var e=getJetpackState();return e.showMoreModules=!1,e},handleJetpackConnect:function(e){e.preventDefault(),SiteActions.configureJetpack(Paths.JETPACK_MODULES_STEP_SLUG)},handleChangeModuleStatus:function(e){var t=jQuery(e.currentTarget),a=t.data("module-slug");SiteStore.isJetpackModuleEnabled(a)?SiteActions.deactivateJetpackModule(a):SiteActions.activateJetpackModule(a)},handleEnableAllModules:function(e){e.preventDefault(),SiteActions.enableJumpstart()},handleNext:function(e){e.preventDefault(),SetupProgressActions.completeAndNextStep(Paths.JETPACK_MODULES_STEP_SLUG)},handleShowMoreModules:function(e){e.preventDefault(),SiteActions.loadAllJetpackModules().done(function(){this.setState({showMoreModules:!0})}.bind(this))},handleShowFewerModules:function(e){e.preventDefault(),this.setState({showMoreModules:!1})},_renderModule:function(e){var t=SiteStore.isJetpackModuleEnabled(e.slug),a="jp-module-"+e.slug;return React.createElement("div",{key:"modules-"+e.slug,className:"welcome__jumpstart_module"},React.createElement("input",{id:a,type:"checkbox",checked:t,"data-module-slug":e.slug,onChange:this.handleChangeModuleStatus}),React.createElement("label",{htmlFor:a},React.createElement("strong",null,e.name)),React.createElement("small",{className:"jumpstart_module__description",dangerouslySetInnerHTML:{__html:e.description}}),t&&e.configure_url&&React.createElement("small",null,React.createElement("a",{target:"_configure",href:e.configure_url},"configure")))},render:function(){var e,t;this.state.jetpackConfigured||SpinnerStore.showing()||(e=React.createElement("div",{className:"welcome__jumpstart_overlay"}),t=React.createElement("div",{className:"welcome__jumpstart_overlay__body"},React.createElement("p",null,"These modules require a WordPress.com account - it's free!"),React.createElement("a",{href:"#",className:"download-jetpack",onClick:this.handleJetpackConnect},"Connect to WordPress.com"),React.createElement("p",null,React.createElement(SkipButton,null))));var a=SiteStore.getJumpstartModules().map(this._renderModule),n=SiteStore.getJetpackAdditionalModules().map(this._renderModule);return React.createElement("div",{className:"welcome__section"},React.createElement("h3",null,"Let's launch ",React.createElement("em",null,this.state.site_title)),React.createElement("h4",null,"Enable Jetpack features"),this.state.jetpackConfigured&&React.createElement("div",null,React.createElement("span",{className:"jetpack-logo"},"Powered by",React.createElement("br",null),React.createElement("a",{href:"http://192.168.59.103/wp-admin/admin.php?page=jetpack",title:"Jetpack",className:"current"},React.createElement("span",null,"Jetpack"))),React.createElement("p",{className:"step-description"},"Congratulations! You've enabled Jetpack and unlocked dozens of powerful features."),React.createElement("p",{className:"step-description"},"Check the boxes below to enable our most popular features.")),React.createElement("div",{className:"welcome__connect"},React.createElement("div",{className:"welcome__jumpstart_wrapper"},e,t,this.state.jetpackConfigured&&React.createElement("div",{className:"submit"},React.createElement(Button,{style:{"float":"right"},color:"blue",onClick:this.handleNext},"Next Step →"),React.createElement("div",{className:"clear"})),React.createElement(ContentBox,null,React.createElement("h3",null,"Popular features   ",React.createElement(Button,{disabled:this.state.jumpstartEnabled,color:"blue",onClick:this.handleEnableAllModules},this.state.jumpstartEnabled?"Enabled":"Enable all (recommended)")),a),this.state.showMoreModules?React.createElement("p",{className:"more"},React.createElement("a",{href:"#",onClick:this.handleShowFewerModules},"hide additional features")):React.createElement("p",{className:"more"},React.createElement("a",{href:"#",onClick:this.handleShowMoreModules},"show additional features")),this.state.showMoreModules&&React.createElement(ContentBox,null,React.createElement("h3",null,"Additional modules"),n))))}});module.exports=JetpackJumpstart;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../actions/site-actions":4,"../constants/jetpack-start-paths":20,"../stores/site-store":26,"../stores/spinner-store":27,"./content-box":7,"./skip-button":15,"@automattic/dops-react/js/components/button":30}],13:[function(require,module,exports){
(function (global){
function getSiteLayoutState(){return{site_title:SiteStore.getTitle(),layout:SiteStore.getLayout()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteStore=require("../stores/site-store"),Button=require("@automattic/dops-react/js/components/button"),SetupProgressActions=require("../actions/setup-progress-actions"),LayoutStep=React.createClass({displayName:"LayoutStep",componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSiteLayoutState())},getInitialState:function(){return getSiteLayoutState()},handleSetLayout:function(e){this.setState({layout:jQuery(e.currentTarget).val()})},handleSubmit:function(e){e.preventDefault(),SetupProgressActions.submitLayoutStep(this.state.layout)},render:function(){return React.createElement("div",{className:"welcome__section",id:"welcome__layout"},React.createElement("h3",null,"Let's launch ",React.createElement("em",null,this.state.site_title)),React.createElement("h4",null,"Select a layout"),React.createElement("p",{className:"step-description"},"WordPress can be a blog, a web site with a hierarchy of static pages, or a combination of the two."),React.createElement("form",{onSubmit:this.handleSubmit},React.createElement("label",null,React.createElement("input",{type:"radio",name:"site_layout",value:"website",checked:"website"===this.state.layout,onChange:this.handleSetLayout})," Static Website",React.createElement("p",{className:"description"},"A web site with a hierarchy of pages")),React.createElement("br",null),React.createElement("label",null,React.createElement("input",{type:"radio",name:"site_layout",value:"site-blog",checked:"site-blog"===this.state.layout,onChange:this.handleSetLayout})," Static Website with a blog",React.createElement("p",{className:"description"},"A web site with pages that also has a blog or news section")),React.createElement("br",null),React.createElement("label",null,React.createElement("input",{type:"radio",name:"site_layout",value:"blog",checked:"blog"===this.state.layout,onChange:this.handleSetLayout})," Just a blog",React.createElement("p",{className:"description"},"A web site that will constantly show new content (articles, photos, videos, etc.)")),React.createElement("p",{className:"submit"},React.createElement(Button,{color:"blue"},"Next Step →"))))}});module.exports=LayoutStep;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/site-store":26,"@automattic/dops-react/js/components/button":30}],14:[function(require,module,exports){
(function (global){
function getSiteTitleState(){return{title:SiteStore.getTitle(),description:SiteStore.getDescription()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteActions=require("../actions/site-actions"),SiteStore=require("../stores/site-store"),Button=require("@automattic/dops-react/js/components/button"),SetupProgressActions=require("../actions/setup-progress-actions"),SiteTitleStep=React.createClass({displayName:"SiteTitleStep",componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSiteTitleState())},getInitialState:function(){return getSiteTitleState()},handleChangeTitle:function(e){SiteActions.setTitle(e.currentTarget.value)},handleChangeDescription:function(e){SiteActions.setDescription(e.currentTarget.value)},handleSubmit:function(e){e.preventDefault(),SetupProgressActions.submitTitleStep()},render:function(){return React.createElement("div",{className:"welcome__section",id:"welcome__site-title"},React.createElement("h3",null,"Let's launch your new website"),React.createElement("h4",null,"Title and Description"),React.createElement("p",{className:"step-description"},"Make your site stand out with a catchy name."),React.createElement("form",{onSubmit:this.handleSubmit},React.createElement("table",{className:"form-table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("th",null,React.createElement("label",{htmlFor:"site_title"},"Site Title")),React.createElement("td",null,React.createElement("input",{type:"text",name:"site_title",id:"site-title",autoComplete:"off",onChange:this.handleChangeTitle,value:this.state.title,placeholder:"Site Title (this can be changed later)",required:!0}),React.createElement("p",{className:"description"},"The name of your site. This title appears at the top of pages and in search results."))),React.createElement("tr",null,React.createElement("th",null,React.createElement("label",{htmlFor:"site_description"},"Site Description")),React.createElement("td",null,React.createElement("input",{type:"text",name:"site_description",id:"site-description",autoComplete:"off",onChange:this.handleChangeDescription,value:this.state.description,placeholder:"Site Description",required:!0}),React.createElement("p",{className:"description"},'A motto or tagline. This appears below the title on your site, and next to the title in search results. Try to be brief and descriptive, e.g. "Your online bait and tackle store"'))))),React.createElement("p",{className:"submit"},React.createElement(Button,{color:"blue"},"Next Step →"))))}});module.exports=SiteTitleStep;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../actions/site-actions":4,"../stores/site-store":26,"@automattic/dops-react/js/components/button":30}],15:[function(require,module,exports){
(function (global){
function getSetupProgress(){return{completed:SetupProgressStore.getCurrentStep().completed}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SetupProgressStore=require("../stores/setup-progress-store"),SetupProgressActions=require("../actions/setup-progress-actions"),SkipButton=React.createClass({displayName:"SkipButton",componentDidMount:function(){SetupProgressStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SetupProgressStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSetupProgress())},getInitialState:function(){return getSetupProgress()},handleSkip:function(e){e.preventDefault(),SetupProgressActions.skipStep()},render:function(){var e=this.state.completed;return e?null:React.createElement("a",{className:"skip",href:"#",onClick:this.handleSkip},"Not now")}});module.exports=SkipButton;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/setup-progress-store":25}],16:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Tooltip=React.createClass({displayName:"Tooltip",propTypes:{left:React.PropTypes.number.isRequired,top:React.PropTypes.number.isRequired,width:React.PropTypes.number.isRequired,title:React.PropTypes.string.isRequired},handleDismiss:function(e){e.preventDefault()},componentDidMount:function(){this._recomputePosition()},componentWillReceiveProps:function(){this._recomputePosition()},getInitialState:function(){return{realTop:this.props.top}},_recomputePosition:function(){var e=jQuery(React.findDOMNode(this.refs.wrapper));this.setState({realTop:this.props.top-e.outerHeight()/2})},render:function(){return React.createElement("div",{ref:"wrapper",className:"wp-pointer wp-pointer-left",style:{position:"absolute",width:this.props.width,top:this.state.realTop,left:this.props.left,zIndex:9999}},React.createElement("div",{className:"wp-pointer-content"},React.createElement("h3",null,this.props.title),React.createElement("p",null,this.props.children)),React.createElement("div",{className:"wp-pointer-arrow"},React.createElement("div",{className:"wp-pointer-arrow-inner"})))}});module.exports=Tooltip;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],17:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,ProgressBar=require("@automattic/dops-react/js/components/progress-bar"),SetupProgressActions=require("../actions/setup-progress-actions"),stepShape=React.PropTypes.shape({name:React.PropTypes.string.isRequired,slug:React.PropTypes.string}),WelcomeMenu=React.createClass({displayName:"WelcomeMenu",propTypes:{currentStep:stepShape.isRequired,clickable:React.PropTypes.bool,allSteps:React.PropTypes.arrayOf(stepShape).isRequired,progressPercent:React.PropTypes.number.isRequired},getDefaultProps:function(){return{clickable:!0}},selectStep:function(e){e.preventDefault();var t=jQuery(e.currentTarget).data("step-slug");SetupProgressActions.setCurrentStep(t)},render:function(){var e=this.props.allSteps.map(function(e){var t,r,s,a;return this.props.clickable&&this.props.currentStep&&(r=this.props.currentStep.slug==e.slug),t=!e["static"]&&this.props.clickable?React.createElement("a",{href:"#","data-step-slug":e.slug,onClick:this.selectStep},e.name):e.name,e.menuView&&this.props.clickable&&(a=React.createElement(e.menuView,null)),s=e.completed?"completed":"",React.createElement("li",{key:e.slug,className:s+(r?" current":"")},t," ",e.skipped?"(skipped)":null,a)}.bind(this));return React.createElement("div",{className:"getting-started__steps"},React.createElement("h3",null,React.createElement("span",null,"Your Progress"),React.createElement("div",null,React.createElement(ProgressBar,{style:{"float":"left"},progressPercent:this.props.progressPercent}))),React.createElement("ol",null,e))}});module.exports=WelcomeMenu;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"@automattic/dops-react/js/components/progress-bar":31}],18:[function(require,module,exports){
(function (global){
function getSetupProgress(){return{newUser:SetupProgressStore.isNewUser(),showSpinner:SpinnerStore.showing(),spinnerMessage:SpinnerStore.getMessage(),currentStep:SetupProgressStore.getCurrentStep(),allSteps:SetupProgressStore.getAllSteps(),progressPercent:SetupProgressStore.getProgressPercent()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,WelcomeMenu=require("./welcome-menu"),SetupProgressStore=require("../stores/setup-progress-store"),SetupProgressActions=require("../actions/setup-progress-actions"),Flash=require("./flash"),GetStarted=require("./get-started"),SpinnerStore=require("../stores/spinner-store"),SpinnerActions=require("../actions/spinner-actions"),DataStore=require("../stores/data-store"),WelcomeWidget=React.createClass({displayName:"WelcomeWidget",componentDidMount:function(){SetupProgressStore.addChangeListener(this._onChange),SpinnerStore.addChangeListener(this._onSpinnerChange),DataStore.addChangeListener(this._onDataChange)},componentWillUnmount:function(){SetupProgressStore.removeChangeListener(this._onChange),SpinnerStore.removeChangeListener(this._onSpinnerChange),DataStore.removeChangeListener(this._onDataChange)},_onChange:function(){this.setState(getSetupProgress())},_onSpinnerChange:function(){this.setState({showSpinner:SpinnerStore.showing(),spinnerMessage:SpinnerStore.getMessage()})},_onDataChange:function(){this.setState({saving:DataStore.isSaving()})},getInitialState:function(){return getSetupProgress()},handleReset:function(e){e.preventDefault(),SetupProgressActions.resetData()},handleShowSpinner:function(e){e.preventDefault(),SpinnerActions.show("Testing spinner")},handleHideSpinner:function(e){e.preventDefault(),SpinnerActions.hide()},render:function(){return React.createElement("div",{className:"getting-started"},this._renderDebug(),React.createElement("div",{className:"getting-started__wrapper"},this._renderSpinner(),React.createElement("div",{className:"getting-started__sections"},React.createElement(Flash,null),this._renderSection()),React.createElement(WelcomeMenu,{clickable:!this.state.newUser,currentStep:this.state.currentStep,allSteps:this.state.allSteps,progressPercent:this.state.progressPercent}),React.createElement("div",{className:"clear"})))},_renderSection:function(){return this.state.newUser?React.createElement(GetStarted,null):this._renderCurrentView()},_renderDebug:function(){return JPS.debug?React.createElement("div",null,React.createElement("a",{href:"#",className:"button",onClick:this.handleReset},"Reset Wizard"),React.createElement("a",{href:"#",className:"button",onClick:this.handleShowSpinner},"Show spinner"),React.createElement("a",{href:"#",className:"button",onClick:this.handleHideSpinner},"Hide spinner")):null},_renderSpinner:function(){return this.state.showSpinner?React.createElement("div",{className:"loading"},React.createElement("div",{className:"loading__message"},React.createElement("img",{src:"/wp-admin/images/spinner-2x.gif",width:"16px",height:"16px"}),"  ",this.state.spinnerMessage)):null},_renderCurrentView:function(){return this.state.currentStep?React.createElement(this.state.currentStep.welcomeView,null):React.createElement("h3",null,"Nothing")}});module.exports=WelcomeWidget;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../actions/spinner-actions":5,"../stores/data-store":23,"../stores/setup-progress-store":25,"../stores/spinner-store":27,"./flash":9,"./get-started":10,"./welcome-menu":17}],19:[function(require,module,exports){
var keyMirror=require("keymirror");module.exports=keyMirror({STEP_COMPLETE:null,STEP_GET_STARTED:null,STEP_SELECT:null,STEP_NEXT:null,STEP_SKIP:null,SITE_SET_TITLE:null,SITE_SET_DESCRIPTION:null,SITE_SAVE_TITLE_AND_DESCRIPTION:null,SITE_SET_THEME:null,SITE_INSTALL_THEME:null,SITE_JETPACK_CONFIGURED:null,SITE_JETPACK_MODULE_ENABLED:null,SITE_JETPACK_MODULE_DISABLED:null,SITE_JETPACK_JUMPSTART_ENABLED:null,SITE_JETPACK_ADD_MODULES:null,SITE_SET_LAYOUT:null,SAVE_STARTED:null,SAVE_FINISHED:null,SET_FLASH:null,UNSET_FLASH:null,FLASH_SEVERITY_NOTICE:null,FLASH_SEVERITY_ERROR:null,RESET_DATA:null,SHOW_SPINNER:null,HIDE_SPINNER:null});


},{"keymirror":51}],20:[function(require,module,exports){
module.exports={SITE_TITLE_STEP_SLUG:"title",LAYOUT_STEP_SLUG:"layout",TRAFFIC_STEP_SLUG:"traffic",STATS_MONITORING_STEP_SLUG:"stats-monitoring",DESIGN_STEP_SLUG:"design",ADVANCED_STEP_SLUG:"advanced",JETPACK_MODULES_STEP_SLUG:"jetpack"};


},{}],21:[function(require,module,exports){
var Dispatcher=require("flux").Dispatcher;module.exports=new Dispatcher;


},{"flux":46}],22:[function(require,module,exports){
var WelcomePanel=require("./welcome-panel");WelcomePanel();


},{"./welcome-panel":29}],23:[function(require,module,exports){
function incrementSaveCounter(){_currentSaves+=1}function decrementSaveCounter(){_currentSaves-=1}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),_currentSaves=0,jpsTimeout,CHANGE_EVENT="change";jQuery(window).on("beforeunload",function(){return DataStore.isSaving()?(jpsTimeout=setTimeout(function(){},1e3),"Your site changes are still saving."):void 0}),jQuery(window).on("unload",function(){clearTimeout(jpsTimeout)});var DataStore=_.extend({},EventEmitter.prototype,{isSaving:function(){return _currentSaves>0},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)},emitChange:function(){this.emit(CHANGE_EVENT)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SAVE_STARTED:incrementSaveCounter(),DataStore.emitChange();break;case JPSConstants.SAVE_FINISHED:decrementSaveCounter(),DataStore.emitChange()}}),module.exports=DataStore;


},{"../constants/jetpack-start-constants":19,"../dispatcher/app-dispatcher":21,"events":49}],24:[function(require,module,exports){
function setFlash(e,t){message=e,severity=t}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),CHANGE_EVENT="change",message,severity,FlashStore=_.extend({},EventEmitter.prototype,{getFlash:function(){var e;switch(severity){case JPSConstants.FLASH_SEVERITY_ERROR:e="error";break;case JPSConstants.FLASH_SEVERITY_NOTICE:e="notice"}return{message:message,severity:e}},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)},emitChange:function(){this.emit(CHANGE_EVENT)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SET_FLASH:setFlash(e.message,e.severity),FlashStore.emitChange();break;case JPSConstants.UNSET_FLASH:setFlash(null,null),FlashStore.emitChange()}}),module.exports=FlashStore;


},{"../constants/jetpack-start-constants":19,"../dispatcher/app-dispatcher":21,"events":49}],25:[function(require,module,exports){
function setSteps(e){e.forEach(function(e){"undefined"==typeof e.completed&&(e.completed=JPS.step_status[e.slug]&&JPS.step_status[e.slug].completed||!1),"undefined"==typeof e.skipped&&(e.skipped=JPS.step_status[e.slug]&&JPS.step_status[e.slug].skipped||!1),"undefined"==typeof e["static"]&&(e["static"]=!1),"undefined"==typeof e.includeInProgress&&(e.includeInProgress=!0)}),_steps=e,ensureValidStepSlug()}function getStarted(){_started=!0,selectNextPendingStep()}function complete(e){var t=getStepFromSlug(e);t.completed=!0,t.skipped=!1}function skip(){var e=currentStepSlug(),t=getStepFromSlug(e);t.skipped=!0,selectNextPendingStep()}function getStepFromSlug(e){var t=null;return _.each(_steps,function(s){s.slug===e&&(t=s)}),t}function ensureValidStepSlug(){var e=currentStepSlug();e&&getStepFromSlug(e)||selectNextPendingStep()}function selectNextPendingStep(){var e=_.findWhere(_steps,{completed:!1,skipped:!1});null!==e&&select(e.slug)}function currentStepSlug(){if(0===window.location.hash.indexOf("#welcome/steps")){var e=window.location.hash.split("/"),t=e[e.length-1];return t}return null}function select(e){window.location.hash="welcome/steps/"+e}function reset(){JPS.step_status={},_.where(_steps,{"static":!1}).forEach(function(e){e.completed=!1,e.skipped=!1}),_started=!1}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),CHANGE_EVENT="change",_steps,_started=JPS.started,SetupProgressStore=_.extend({},EventEmitter.prototype,{init:function(e){setSteps(e)},getAllSteps:function(){return _steps},isNewUser:function(){return!_started},emitChange:function(){this.emit(CHANGE_EVENT)},getCurrentStep:function(){return getStepFromSlug(currentStepSlug())},getStepFromSlug:function(e){return getStepFromSlug(e)},getProgressPercent:function(){var e=_.where(_steps,{includeInProgress:!0}).length,t=_.where(_steps,{includeInProgress:!0,completed:!0}).length,s=t/e*90+10,n=10*Math.round(s/10);return n},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.STEP_GET_STARTED:getStarted(),SetupProgressStore.emitChange();break;case JPSConstants.STEP_SELECT:select(e.slug),SetupProgressStore.emitChange();break;case JPSConstants.STEP_NEXT:selectNextPendingStep(),SetupProgressStore.emitChange();break;case JPSConstants.STEP_COMPLETE:complete(e.slug),SetupProgressStore.emitChange();break;case JPSConstants.STEP_COMPLETE_AND_NEXT:complete(e.slug),selectNextPendingStep(),SetupProgressStore.emitChange();break;case JPSConstants.RESET_DATA:reset(),SetupProgressStore.emitChange();break;case JPSConstants.STEP_SKIP:skip(),SetupProgressStore.emitChange()}}),module.exports=SetupProgressStore;


},{"../constants/jetpack-start-constants":19,"../dispatcher/app-dispatcher":21,"events":49}],26:[function(require,module,exports){
function setTitle(e){JPS.bloginfo.name=e}function setDescription(e){JPS.bloginfo.description=e}function setActiveTheme(e){JPS.themes.forEach(function(t){t.id==e?t.active=!0:t.active=!1})}function installedTheme(e){JPS.themes.unshift(e),JPS.themes=JPS.themes.slice(0,3)}function setJetpackModuleActivated(e){-1===_.indexOf(JPS.jetpack.active_modules,e)&&JPS.jetpack.active_modules.push(e)}function setJetpackModuleDectivated(e){var t=_.indexOf(JPS.jetpack.active_modules,e);t>=0&&JPS.jetpack.active_modules.splice(t,1)}function setJetpackAdditionalModules(e){JPS.jetpack.additional_modules=_.filter(e,function(e){return-1==_.indexOf(JPS.jetpack.jumpstart_modules.map(function(e){return e.slug}),e.slug)})}function setLayout(e){layout=e}function setJetpackConfigured(){JPS.jetpack.configured=!0}function setJetpackJumpstartActivated(){JPS.jetpack.jumpstart_modules.forEach(function(e){setJetpackModuleActivated(e.slug)})}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),WPAjax=require("../utils/wp-ajax"),CHANGE_EVENT="change",layout=JPS.steps.layout.current,SiteStore=_.extend({},EventEmitter.prototype,{getTitle:function(){return JPS.bloginfo.name},getDescription:function(){return JPS.bloginfo.description},getThemes:function(){return JPS.themes},getActiveThemeId:function(){for(var e=0;e<JPS.themes.length;e++){var t=JPS.themes[e];if(t.active)return t.id}return null},getJetpackConfigured:function(){return JPS.jetpack.configured},getActiveModuleSlugs:function(){return JPS.jetpack.active_modules},isJetpackModuleEnabled:function(e){return _.indexOf(JPS.jetpack.active_modules,e)>=0},getJetpackAdditionalModules:function(){return JPS.jetpack.additional_modules},getJumpstartModuleSlugs:function(){return JPS.jetpack.jumpstart_modules.map(function(e){return e.slug})},getJumpstartModules:function(){return JPS.jetpack.jumpstart_modules},getPopularThemes:function(){return WPAjax.post(JPS.site_actions.get_popular_themes)},getJetpackJumpstartEnabled:function(){for(var e=0;e<JPS.jetpack.jumpstart_modules.length;e++){var t=JPS.jetpack.jumpstart_modules[e];if(!this.isJetpackModuleEnabled(t.slug))return!1}return!0},getLayout:function(){return layout},emitChange:function(){this.emit(CHANGE_EVENT)},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SITE_SET_TITLE:setTitle(e.title),SiteStore.emitChange();break;case JPSConstants.SITE_SET_DESCRIPTION:setDescription(e.description),SiteStore.emitChange();break;case JPSConstants.SITE_SET_THEME:setActiveTheme(e.themeId),SiteStore.emitChange();break;case JPSConstants.SITE_INSTALL_THEME:installedTheme(e.theme),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_CONFIGURED:setJetpackConfigured(),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_ADD_MODULES:setJetpackAdditionalModules(e.modules),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_MODULE_ENABLED:setJetpackModuleActivated(e.slug),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_MODULE_DISABLED:setJetpackModuleDectivated(e.slug),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_JUMPSTART_ENABLED:setJetpackJumpstartActivated(),SiteStore.emitChange();break;case JPSConstants.SITE_SET_LAYOUT:setLayout(e.layout),SiteStore.emitChange()}}),module.exports=SiteStore;


},{"../constants/jetpack-start-constants":19,"../dispatcher/app-dispatcher":21,"../utils/wp-ajax":28,"events":49}],27:[function(require,module,exports){
function show(e){spinnerEnabled=!0,spinnerMessage=e}function hide(){spinnerEnabled=!1,spinnerMessage=null}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),CHANGE_EVENT="change",spinnerEnabled=!1,spinnerMessage=null,SpinnerStore=_.extend({},EventEmitter.prototype,{showing:function(){return spinnerEnabled},getMessage:function(){return spinnerMessage},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)},emitChange:function(){this.emit(CHANGE_EVENT)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SHOW_SPINNER:show(e.message),SpinnerStore.emitChange();break;case JPSConstants.HIDE_SPINNER:hide(),SpinnerStore.emitChange()}}),module.exports=SpinnerStore;


},{"../constants/jetpack-start-constants":19,"../dispatcher/app-dispatcher":21,"events":49}],28:[function(require,module,exports){
var DataActions=require("../actions/data-actions"),WPAjax=function(){return{post:function(e,t){t="undefined"!=typeof t?t:{};var n=_.extend(t,{action:e,nonce:JPS.nonce}),a=jQuery.Deferred();return DataActions.requestStarted(),jQuery.post(ajaxurl,n).success(function(e){e.success?a.resolve(e.data):a.reject(e.data)}).fail(function(){a.reject("Server error")}).always(function(){DataActions.requestFinished()}),a}}}();module.exports=WPAjax;


},{"../actions/data-actions":1}],29:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,WelcomeWidget=require("./components/welcome-widget"),Paths=require("./constants/jetpack-start-paths"),SetupProgressStore=require("./stores/setup-progress-store");module.exports=function(){jQuery(document).ready(function(){SetupProgressStore.init([{name:"Site title",slug:Paths.SITE_TITLE_STEP_SLUG,welcomeView:require("./components/site-title-step")},{name:"Pick a layout",slug:Paths.LAYOUT_STEP_SLUG,welcomeView:require("./components/layout-step")},{name:"Pick a design",slug:Paths.DESIGN_STEP_SLUG,welcomeView:require("./components/design-step")},{name:"Enable Jetpack",slug:Paths.JETPACK_MODULES_STEP_SLUG,welcomeView:require("./components/jetpack-jumpstart-step"),menuView:require("./components/jetpack-jumpstart-menu")},{name:"Advanced settings",slug:Paths.ADVANCED_STEP_SLUG,welcomeView:require("./components/advanced-settings-step"),includeInProgress:!1}]),React.render(React.createElement(WelcomeWidget,{}),document.getElementById("jps-welcome-panel"))})};


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./components/advanced-settings-step":6,"./components/design-step":8,"./components/jetpack-jumpstart-menu":11,"./components/jetpack-jumpstart-step":12,"./components/layout-step":13,"./components/site-title-step":14,"./components/welcome-widget":18,"./constants/jetpack-start-paths":20,"./stores/setup-progress-store":25}],30:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,styles=require("../styles"),Radium=require("radium"),Button=React.createClass({displayName:"Button",propTypes:{size:React.PropTypes.oneOf(["tiny","normal","big"]),color:React.PropTypes.oneOf(["gray","blue","green"]),theme:React.PropTypes.oneOf(["wp","jetpack"]),inline:React.PropTypes.bool,onClick:React.PropTypes.func,href:React.PropTypes.string},getDefaultProps:function(){return{size:"normal",inline:!0,color:"gray",theme:"wp"}},handleCallbackHref:function(e){e.preventDefault(),window.location=this.props.href},styles:{basic:{borderRadius:3,boxShadow:"inset 0 1px 0 rgba(255, 255, 255, 0.3)",borderWidth:1,borderStyle:"solid",cursor:"pointer",display:"block",fontSize:14,fontWeight:"bold",padding:"10px 20px",textAlign:"center",textDecoration:"none",WebkitFontSmoothing:"antialiased",transition:"background 0.2s"},sizes:{tiny:{fontSize:10,padding:"2px 10px"},normal:{fontSize:13,padding:"5px 10px"},big:{fontSize:16,padding:"20px 40px"}},colors:{gray:{background:"linear-gradient(#fff, #f9f9f9)",borderColor:styles.colors.lightGray,color:styles.colors.darkGray,":hover":{color:styles.colors.gray}},blue:{background:styles.colors.blue,borderColor:"rgba(0,0,0,0.6)",color:"white",":hover":{background:styles.colors.lighterBlue}},green:{background:styles.colors.green,color:"white",borderColor:"rgba(0,0,0,0.6)",":hover":{background:styles.colors.lighterGreen}}},themes:{wp:{},jetpack:{padding:"18px 24px 15px",font:'400 20px/1 "Open Sans", Helvetica, sans-serif',borderRadius:6,boxShadow:"0 6px 0 #3e6c20,0 6px 3px rgba(0,0,0,0.4)"}},inline:{display:"inline-block"},disabled:{background:"#f9f9f9",borderColor:styles.colors.lightGray,color:styles.colors.lightGray,":hover":{background:"#f9f9f9",borderColor:styles.colors.lightGray,color:styles.colors.lightGray}}},render:function(){var e,o=this.props,r=o.size,t=o.color,s=o.inline,l=o.onClick,i=o.theme,n=o.href,a=function(e,o){var r={},t=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var s in e)t.call(e,s)&&!t.call(o,s)&&(r[s]=e[s]);return r}(o,{size:1,color:1,inline:1,onClick:1,theme:1,href:1}),c=[this.styles.basic,this.styles.sizes[r],this.styles.colors[t],this.styles.themes[i],this.props.disabled&&this.styles.disabled,s&&this.styles.inline,this.props.style];return e=n&&!l?this.handleCallbackHref:l,React.createElement("button",React.__spread({},a,{style:c,onClick:e,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut}),this.props.children)}});module.exports=Radium(Button);


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../styles":32,"radium":38}],31:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Radium=require("radium"),ProgressBar=React.createClass({displayName:"ProgressBar",propTypes:{style:React.PropTypes.object,progressPercent:React.PropTypes.number.isRequired},styles:{wrapper:{fontWeight:400,fontSize:"80%"},progress:{background:"#4ab866",width:"0%",transition:"width 0.5s",display:"block",height:"100%"},bar:{display:"inline-block",width:80,height:12,margin:"0 8px -2px 0",padding:2,borderRadius:2,background:"#f5f5f5"}},render:function(){return React.createElement("div",{style:[this.styles.wrapper,this.props.style]},React.createElement("div",{style:this.styles.bar},React.createElement("span",{style:[this.styles.progress,{width:this.props.progressPercent+"%"}]})),this.props.progressPercent,"% complete")}});module.exports=Radium(ProgressBar);


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"radium":38}],32:[function(require,module,exports){
module.exports={right:{"float":"right"},left:{"float":"left"},third:{width:"33%"},full:{width:"100%"},half:{width:"48%"},hidden:{display:"none"},clear:{clear:"both",display:"block"},accountStatus:{textTransform:"capitalize"},accountStatusNoticon:{borderRadius:"50%",width:16,height:16,marginRight:10,color:"#fff",background:"#81bf16"},box:{borderRadius:2,padding:"5px 10px",background:"#f5f5f5"},light:{color:"#999"},colors:{akismetGreen:"#5e8e14",blue:"#029dd6",lighterBlue:"#13AEE7",black:"#333",darkGray:"#444",gray:"#787878",lightGray:"#bbb",veryLightGray:"#eee",offWhite:"#f9f9f9",accountActive:"#81bf16",accountInactive:"#bbb",green:"#518d2a",lighterGreen:"#57972d"},fonts:{sans:'Open Sans, "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif',serif:"Merriweather, Georgia, serif",mono:'"Courier New", Courier, monospace'},input:{width:"100%",boxShadow:"none",background:"#fff",border:"1px solid #d5d5d5",fontSize:12,padding:"8px 10px"},select:{borderRadius:3,backgroundColor:"#fff",fontSize:12,height:35,width:"100%",border:"1px solid #d5d5d5",padding:"3px 5px",minWidth:0},checkbox:{marginRight:10},errorField:{border:"1px solid #dd3d36"},errorLabel:{border:"1px solid #dd3d36",color:"#a00",display:"block",fontSize:12,margin:"5px 0 0 0",padding:5}};


},{}],33:[function(require,module,exports){
(function (global){
"use strict";var createMarkupForStyles=require("../create-markup-for-styles"),Prefixer=require("../prefixer"),React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,buildCssString=function(e,t){if(e&&t){var r=Prefixer.getPrefixedStyle(t,"css"),i=createMarkupForStyles(r);return e+"{"+i+"}"}},Style=React.createClass({displayName:"Style",propTypes:{rules:React.PropTypes.object,scopeSelector:React.PropTypes.string},getDefaultProps:function(){return{scopeSelector:""}},_buildStyles:function(e){var t=this;return Object.keys(e).reduce(function(r,i){var s=e[i];if("mediaQueries"===i)r+=t._buildMediaQueryString(s);else{var n=(t.props.scopeSelector?t.props.scopeSelector+" ":"")+i;r+=buildCssString(n,s)}return r},"")},_buildMediaQueryString:function(e){var t=this,r=this._getContextMediaQueries(),i="";return Object.keys(e).forEach(function(s){var n=r[s]?r[s]:s;i+="@media "+n+"{"+t._buildStyles(e[s])+"}"}),i},_getContextMediaQueries:function(){var e={};return this.context&&this.context.mediaQueries&&Object.keys(this.context.mediaQueries).forEach(function(t){e[t]=this.context.mediaQueries[t].media}.bind(this)),e},render:function(){if(!this.props.rules)return null;var e=this._buildStyles(this.props.rules);return React.createElement("style",{dangerouslySetInnerHTML:{__html:e}})}});module.exports=Style;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../create-markup-for-styles":35,"../prefixer":41}],34:[function(require,module,exports){
"use strict";var ExecutionEnvironment=require("exenv"),_matchMediaFunction=ExecutionEnvironment.canUseDOM&&window&&window.matchMedia;module.exports={canMatchMedia:function(){return"function"==typeof _matchMediaFunction},matchMedia:function(n){return _matchMediaFunction(n)},setMatchMedia:function(n){_matchMediaFunction=n}};


},{"exenv":44}],35:[function(require,module,exports){
"use strict";var createMarkupForStyles=function(e,r){return r=r||"",Object.keys(e).map(function(t){return r+t+": "+e[t]+";"}).join("\n")};module.exports=createMarkupForStyles;


},{}],36:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_get=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;s=l=u=void 0,n=!1;var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;e=l,t=i,r=a,n=!0}},resolveStyles=require("./resolve-styles.js"),enhanceWithRadium=function(e){var t=e.displayName||e.name||"Component",r=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.state=this.state||{},this.state._radiumStyleState={}}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){var e=_get(Object.getPrototypeOf(t.prototype),"render",this).call(this);return resolveStyles(this,e)}},{key:"componentWillUnmount",value:function(){_get(Object.getPrototypeOf(t.prototype),"componentWillUnmount",this)&&_get(Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this),this._radiumMouseUpListener&&this._radiumMouseUpListener.remove(),this._radiumMediaQueryListenersByQuery&&Object.keys(this._radiumMediaQueryListenersByQuery).forEach(function(e){this._radiumMediaQueryListenersByQuery[e].remove()},this)}}]),t}(e);return r.displayName="Radium("+t+")",r};module.exports=enhanceWithRadium;


},{"./resolve-styles.js":42}],37:[function(require,module,exports){
"use strict";var VALID_KEYS=[":active",":focus",":hover"],getState=function(t,e,a){if(e=e||"main",-1===VALID_KEYS.indexOf(a))throw new Error("Radium.getState invalid value param: `"+a+"`");return!!(t&&t._radiumStyleState&&t._radiumStyleState[e]&&t._radiumStyleState[e][a])||!1};module.exports=getState;


},{}],38:[function(require,module,exports){
"use strict";var Enhancer=require("./enhancer");module.exports=function(e){return Enhancer(e)},module.exports.Style=require("./components/style"),module.exports.getState=require("./get-state"),module.exports.keyframes=require("./keyframes"),module.exports.Config=require("./config");


},{"./components/style":33,"./config":34,"./enhancer":36,"./get-state":37,"./keyframes":39}],39:[function(require,module,exports){
"use strict";var createMarkupForStyles=require("./create-markup-for-styles"),Prefixer=require("./prefixer"),ExecutionEnvironment=require("exenv"),isAnimationSupported=ExecutionEnvironment.canUseDOM&&Prefixer.getPrefixedPropertyName("animation")!==!1,animationIndex=1,animationStyleSheet=null,keyframesPrefixed=null;isAnimationSupported&&(animationStyleSheet=document.createElement("style"),document.head.appendChild(animationStyleSheet),keyframesPrefixed="keyframes",animationStyleSheet.textContent="@keyframes {}",animationStyleSheet.sheet.cssRules.length||(keyframesPrefixed=Prefixer.cssPrefix+"keyframes"));var keyframes=function(e){var t="Animation"+animationIndex;if(animationIndex+=1,!isAnimationSupported)return t;var n="@"+keyframesPrefixed+" "+t+" {\n"+Object.keys(e).map(function(t){var n=e[t],r=Prefixer.getPrefixedStyle(n,"css"),i=createMarkupForStyles(r,"  ");return"  "+t+" {\n  "+i+"\n  }"}).join("\n")+"\n}\n";if(!animationStyleSheet)throw new Error("keyframes not initialized properly");return animationStyleSheet.sheet.insertRule(n,animationStyleSheet.sheet.cssRules.length),t};module.exports=keyframes;


},{"./create-markup-for-styles":35,"./prefixer":41,"exenv":44}],40:[function(require,module,exports){
"use strict";var _callbacks=[],_mouseUpListenerIsActive=!1,_handleMouseUp=function(e){_callbacks.forEach(function(s){s(e)})},subscribe=function(e){return-1===_callbacks.indexOf(e)&&_callbacks.push(e),_mouseUpListenerIsActive||(window.addEventListener("mouseup",_handleMouseUp),_mouseUpListenerIsActive=!0),{remove:function(){var s=_callbacks.indexOf(e);_callbacks.splice(s,1),0===_callbacks.length&&_mouseUpListenerIsActive&&(window.removeEventListener("mouseup",_handleMouseUp),_mouseUpListenerIsActive=!1)}}};module.exports={subscribe:subscribe};


},{}],41:[function(require,module,exports){
"use strict";var ExecutionEnvironment=require("exenv"),arrayFind=require("array-find"),infoByCssPrefix={"-moz-":{cssPrefix:"-moz-",jsPrefix:"Moz",alternativeProperties:{flex:[{css:"-moz-box-flex",js:"MozBoxFlex"}],order:[{css:"-moz-box-ordinal-group",js:"MozBoxOrdinalGroup"}]},alternativeValues:{display:{flex:["-moz-box"]}}},"-ms-":{cssPrefix:"-ms-",jsPrefix:"ms",alternativeValues:{display:{flex:["-ms-flexbox"],order:["-ms-flex-order"]}}},"-o-":{cssPrefix:"-o-",jsPrefix:"O"},"-webkit-":{cssPrefix:"-webkit-",jsPrefix:"Webkit",alternativeProperties:{flex:[{css:"-webkit-box-flex",js:"WebkitBoxFlex"}],order:[{css:"-webkit-box-ordinal-group",js:"WebkitBoxOrdinalGroup"}]},alternativeValues:{display:{flex:["-webkit-box"]}}}},isUnitlessNumber={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},domStyle={},prefixedPropertyCache={},prefixedValueCache={},prefixInfo={cssPrefix:"",jsPrefix:""};if(ExecutionEnvironment.canUseDOM){domStyle=document.createElement("p").style;var windowStyles=window.getComputedStyle(document.documentElement,""),prefixMatch=Array.prototype.slice.call(windowStyles).join("").match(/-(moz|webkit|ms|o)-/),cssVendorPrefix=prefixMatch&&prefixMatch[0];prefixInfo=infoByCssPrefix[cssVendorPrefix]||prefixInfo}var _camelCaseRegex=/([a-z])?([A-Z])/g,_camelCaseReplacer=function(e,r,i){return r+"-"+i.toLowerCase()},_camelCaseToDashCase=function(e){return e.replace(_camelCaseRegex,_camelCaseReplacer)},getPrefixedPropertyName=function(e){if(prefixedPropertyCache.hasOwnProperty(e))return prefixedPropertyCache[e];var r={css:_camelCaseToDashCase(e),js:e,isDefaultForServer:!0},i=[{css:prefixInfo.cssPrefix+_camelCaseToDashCase(e),js:prefixInfo.jsPrefix+e[0].toUpperCase()+e.slice(1)},r];prefixInfo.alternativeProperties&&prefixInfo.alternativeProperties[e]&&(i=i.concat(prefixInfo.alternativeProperties[e]));var a=arrayFind(i,function(e){return e.js in domStyle?e:void 0})||!1;return prefixedPropertyCache[e]=a},_addPixelSuffixToValueIfNeeded=function(e,r){return 0===r||isNaN(r)||isUnitlessNumber[e]?r:r+"px"},_getPrefixedValue=function(e,r,i){if(!Array.isArray(r)){if(!isNaN(r))return _addPixelSuffixToValueIfNeeded(i,r);if("string"!=typeof r&&(r=r.toString()),!isNaN(parseInt(r,10)))return r}var a=Array.isArray(r)?r.join(" || "):e+r;if(prefixedValueCache.hasOwnProperty(a))return prefixedValueCache[a];var o;Array.isArray(r)?(o=r.map(function(e){return _addPixelSuffixToValueIfNeeded(i,e)}),o=o.concat(r.filter(function(e){return!isNaN(e)}).map(function(e){return prefixInfo.cssPrefix+e}))):o=[r,prefixInfo.cssPrefix+r],prefixInfo.alternativeValues&&prefixInfo.alternativeValues[i]&&prefixInfo.alternativeValues[i][r]&&(o=o.concat(prefixInfo.alternativeValues[i][r]));var t=arrayFind(o,function(r){return domStyle[e]="",domStyle[e]=r,!!domStyle[e]});return t?prefixedValueCache[a]=t:(prefixedValueCache[a]=r,console&&console.warn&&console.warn('Unsupported CSS value "'+r+'" for property "'+e+'"')),prefixedValueCache[a]},getPrefixedStyle=function(e,r){if(r=r||"js",!ExecutionEnvironment.canUseDOM)return Object.keys(e).reduce(function(i,a){var o=e[a],t="css"===r?_camelCaseToDashCase(a):a,s=Array.isArray(o)?o[0]:o;return i[t]=s,i},{});var i={};return Object.keys(e).forEach(function(a){var o=e[a],t=getPrefixedPropertyName(a);if(t===!1)return void(console&&console.warn&&console.warn('Unsupported CSS property "'+a+'"'));var s=_getPrefixedValue(t.js,o,a);i[t[r]]=s}),i};module.exports={getPrefixedPropertyName:getPrefixedPropertyName,getPrefixedStyle:getPrefixedStyle,cssPrefix:prefixInfo.cssPrefix,jsPrefix:prefixInfo.jsPrefix};


},{"array-find":43,"exenv":44}],42:[function(require,module,exports){
(function (process,global){
"use strict";var MouseUpListener=require("./mouse-up-listener"),getState=require("./get-state"),Prefixer=require("./prefixer"),Config=require("./config"),ExecutionEnvironment=require("exenv"),React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,objectAssign=require("object-assign"),mediaQueryListByQueryString={},_isSpecialKey=function(e){return":"===e[0]||"@"===e[0]},_getStyleState=function(e,t,r){return getState(e.state,t,r)},_setStyleState=function(e,t,r){var n=e.state&&e.state._radiumStyleState||{},i={_radiumStyleState:objectAssign({},n)};i._radiumStyleState[t]=i._radiumStyleState[t]||{},objectAssign(i._radiumStyleState[t],r),e.setState(i)},_mergeStyles=function e(t){var r={};return t.forEach(function(t){t&&"object"==typeof t&&!Array.isArray(t)&&Object.keys(t).forEach(function(n){_isSpecialKey(n)&&r[n]?r[n]=e([r[n],t[n]]):r[n]=t[n]})}),r},_mouseUp=function(e){Object.keys(e.state._radiumStyleState).forEach(function(t){_getStyleState(e,t,":active")&&_setStyleState(e,t,{":active":!1})})},_onMediaQueryChange=function(e,t,r){var n={};n[t]=r.matches,_setStyleState(e,"_all",n)},_resolveMediaQueryStyles=function(e,t){return Config.canMatchMedia()?(Object.keys(t).filter(function(e){return"@"===e[0]}).map(function(r){var n=t[r];r=r.replace("@media ","");var i=mediaQueryListByQueryString[r];if(i||(mediaQueryListByQueryString[r]=i=Config.matchMedia(r)),e._radiumMediaQueryListenersByQuery||(e._radiumMediaQueryListenersByQuery={}),!e._radiumMediaQueryListenersByQuery[r]){var o=_onMediaQueryChange.bind(null,e,r);i.addListener(o),e._radiumMediaQueryListenersByQuery[r]={remove:function(){i.removeListener(o)}}}i.matches&&(t=_mergeStyles([t,n]))}),t):t},resolveStyles=function t(e,r,n){if(n=n||{},!r)return r;var i=null,o=r.props.children;if(o){var a=typeof o;if("string"===a||"number"===a)i=o;else if(1===React.Children.count(o)&&o.type){var s=React.Children.only(o);i=t(e,s,n)}else i=React.Children.map(o,function(r){return React.isValidElement(r)?t(e,r,n):r})}if(!React.isValidElement(r)||"string"!=typeof r.type)return o===i?r:React.cloneElement(r,r.props,i);var u=r.props,c=u.style,l={};if(Array.isArray(c)&&(c=_mergeStyles(c)),"production"!==process.env.NODE_ENV){var y=["background","border","borderBottom","borderColor","borderLeft","borderRadius","borderRight","borderStyle","borderTop","borderWidth","font","listStyle","margin","padding","transform","transition"],f=function M(e){if("object"==typeof e){var t=Object.keys(e);y.forEach(function(r){e[r]&&t.some(function(e){return e!==r&&0===e.indexOf(r)})&&console.warn('Radium: property "'+r+'" in style object',c,": do not mix longhand and shorthand properties in the same style object. See https://github.com/FormidableLabs/radium/issues/95 for more information.")}),t.forEach(function(t){return M(e[t])})}};f(c)}if(!c||!Object.keys(c).some(_isSpecialKey))return c?(l.style=Prefixer.getPrefixedStyle(c),React.cloneElement(r,l,i)):i?React.cloneElement(r,{},i):r;var d=r.ref||r.key,S=d||"main";if(n[S])throw new Error("Radium requires each element with interactive styles to have a unique key, set using either the ref or key prop. "+(d?'Key "'+d+'" is a duplicate.':"Multiple elements have no key specified."));n[S]=!0,c=_resolveMediaQueryStyles(e,c);var m={};if(Object.keys(c).forEach(function(e){_isSpecialKey(e)||(m[e]=c[e])}),c[":hover"]||c[":active"]){var v=u.onMouseEnter;l.onMouseEnter=function(t){v&&v(t),_setStyleState(e,S,{":hover":!0})};var p=u.onMouseLeave;l.onMouseLeave=function(t){p&&p(t),_setStyleState(e,S,{":hover":!1})}}if(c[":active"]){var _=u.onMouseDown;l.onMouseDown=function(t){_&&_(t),e._lastMouseDown=Date.now(),_setStyleState(e,S,{":active":!0})}}if(c[":focus"]){var g=u.onFocus;l.onFocus=function(t){g&&g(t),_setStyleState(e,S,{":focus":!0})};var h=u.onBlur;l.onBlur=function(t){h&&h(t),_setStyleState(e,S,{":focus":!1})}}var b=Object.keys(c).filter(function(t){return":active"===t&&_getStyleState(e,S,":active")||":hover"===t&&_getStyleState(e,S,":hover")||":focus"===t&&_getStyleState(e,S,":focus")}).map(function(e){return c[e]});return b.length&&(m=_mergeStyles([m].concat(b))),c[":active"]&&!e._radiumMouseUpListener&&ExecutionEnvironment.canUseEventListeners&&(e._radiumMouseUpListener=MouseUpListener.subscribe(_mouseUp.bind(null,e))),l.style=Prefixer.getPrefixedStyle(m),React.cloneElement(r,l,i)};resolveStyles.__clearStateForTests=function(){mediaQueryListByQueryString={}},module.exports=resolveStyles;


}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./config":34,"./get-state":37,"./mouse-up-listener":40,"./prefixer":41,"_process":50,"exenv":44,"object-assign":45}],43:[function(require,module,exports){
"use strict";function find(n,t,r){if("function"==typeof Array.prototype.find)return n.find(t,r);r=r||this;var f,i=n.length;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(f=0;i>f;f++)if(t.call(r,n[f],f,n))return n[f]}module.exports=find;


},{}],44:[function(require,module,exports){
!function(){"use strict";var e=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:e,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:e&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:e&&!!window.screen};"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:window.ExecutionEnvironment=n}();


},{}],45:[function(require,module,exports){
"use strict";function ToObject(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function ownEnumerableKeys(e){var r=Object.getOwnPropertyNames(e);return Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e))),r.filter(function(r){return propIsEnumerable.call(e,r)})}var propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=Object.assign||function(e,r){for(var t,n,o=ToObject(e),c=1;c<arguments.length;c++){t=arguments[c],n=ownEnumerableKeys(Object(t));for(var u=0;u<n.length;u++)o[n[u]]=t[n[u]]}return o};


},{}],46:[function(require,module,exports){
module.exports.Dispatcher=require("./lib/Dispatcher");


},{"./lib/Dispatcher":47}],47:[function(require,module,exports){
"use strict";function Dispatcher(){this.$Dispatcher_callbacks={},this.$Dispatcher_isPending={},this.$Dispatcher_isHandled={},this.$Dispatcher_isDispatching=!1,this.$Dispatcher_pendingPayload=null}var invariant=require("./invariant"),_lastID=1,_prefix="ID_";Dispatcher.prototype.register=function(i){var t=_prefix+_lastID++;return this.$Dispatcher_callbacks[t]=i,t},Dispatcher.prototype.unregister=function(i){invariant(this.$Dispatcher_callbacks[i],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",i),delete this.$Dispatcher_callbacks[i]},Dispatcher.prototype.waitFor=function(i){invariant(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<i.length;t++){var a=i[t];this.$Dispatcher_isPending[a]?invariant(this.$Dispatcher_isHandled[a],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",a):(invariant(this.$Dispatcher_callbacks[a],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",a),this.$Dispatcher_invokeCallback(a))}},Dispatcher.prototype.dispatch=function(i){invariant(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this.$Dispatcher_startDispatching(i);try{for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]||this.$Dispatcher_invokeCallback(t)}finally{this.$Dispatcher_stopDispatching()}},Dispatcher.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching},Dispatcher.prototype.$Dispatcher_invokeCallback=function(i){this.$Dispatcher_isPending[i]=!0,this.$Dispatcher_callbacks[i](this.$Dispatcher_pendingPayload),this.$Dispatcher_isHandled[i]=!0},Dispatcher.prototype.$Dispatcher_startDispatching=function(i){for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]=!1,this.$Dispatcher_isHandled[t]=!1;this.$Dispatcher_pendingPayload=i,this.$Dispatcher_isDispatching=!0},Dispatcher.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null,this.$Dispatcher_isDispatching=!1},module.exports=Dispatcher;


},{"./invariant":48}],48:[function(require,module,exports){
"use strict";var invariant=function(r,e,n,i,o,a,t,f){if(!r){var s;if(void 0===e)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,i,o,a,t,f],l=0;s=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return d[l++]}))}throw s.framesToPop=1,s}};module.exports=invariant;


},{}],49:[function(require,module,exports){
function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,n,s,i,r,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],isUndefined(n))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];n.apply(this,i)}else if(isObject(n)){for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];for(o=n.slice(),s=o.length,r=0;s>r;r++)o[r].apply(this,i)}return!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned){var n;n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function n(){this.removeListener(e,n),s||(s=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var s=!1;return n.listener=t,this.on(e,n),this},EventEmitter.prototype.removeListener=function(e,t){var n,s,i,r;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,s=-1,n===t||isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(n)){for(r=i;r-->0;)if(n[r]===t||n[r].listener&&n[r].listener===t){s=r;break}if(0>s)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],isFunction(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?isFunction(e._events[t])?1:e._events[t].length:0};


},{}],50:[function(require,module,exports){
function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(!draining){var e=setTimeout(cleanUpNextTick);draining=!0;for(var n=queue.length;n;){for(currentQueue=queue,queue=[];++queueIndex<n;)currentQueue[queueIndex].run();queueIndex=-1,n=queue.length}currentQueue=null,draining=!1,clearTimeout(e)}}function Item(e,n){this.fun=e,this.array=n}function noop(){}var process=module.exports={},queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];queue.push(new Item(e,n)),draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};


},{}],51:[function(require,module,exports){
"use strict";var keyMirror=function(r){var e,o={};if(!(r instanceof Object)||Array.isArray(r))throw new Error("keyMirror(...): Argument must be an object.");for(e in r)r.hasOwnProperty(e)&&(o[e]=e);return o};module.exports=keyMirror;


},{}]},{},[22])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9ncnVudC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2FjdGlvbnMvZGF0YS1hY3Rpb25zLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9hY3Rpb25zL2ZsYXNoLWFjdGlvbnMuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2FjdGlvbnMvc2V0dXAtcHJvZ3Jlc3MtYWN0aW9ucy5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvYWN0aW9ucy9zaXRlLWFjdGlvbnMuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2FjdGlvbnMvc3Bpbm5lci1hY3Rpb25zLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb21wb25lbnRzL2FkdmFuY2VkLXNldHRpbmdzLXN0ZXAuanN4IiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb21wb25lbnRzL2NvbnRlbnQtYm94LmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29tcG9uZW50cy9kZXNpZ24tc3RlcC5qc3giLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvZmxhc2guanN4IiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb21wb25lbnRzL2dldC1zdGFydGVkLmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29tcG9uZW50cy9qZXRwYWNrLWp1bXBzdGFydC1tZW51LmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29tcG9uZW50cy9qZXRwYWNrLWp1bXBzdGFydC1zdGVwLmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29tcG9uZW50cy9sYXlvdXQtc3RlcC5qc3giLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvc2l0ZS10aXRsZS1zdGVwLmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29tcG9uZW50cy9za2lwLWJ1dHRvbi5qc3giLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvdG9vbHRpcC5qc3giLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvd2VsY29tZS1tZW51LmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29tcG9uZW50cy93ZWxjb21lLXdpZGdldC5qc3giLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LWNvbnN0YW50cy5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29uc3RhbnRzL2pldHBhY2stc3RhcnQtcGF0aHMuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2Rpc3BhdGNoZXIvYXBwLWRpc3BhdGNoZXIuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2pldHBhY2stc3RhcnQuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L3N0b3Jlcy9kYXRhLXN0b3JlLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9zdG9yZXMvZmxhc2gtc3RvcmUuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L3N0b3Jlcy9zZXR1cC1wcm9ncmVzcy1zdG9yZS5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvc3RvcmVzL3NpdGUtc3RvcmUuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L3N0b3Jlcy9zcGlubmVyLXN0b3JlLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC91dGlscy93cC1hamF4LmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC93ZWxjb21lLXBhbmVsLmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9qcy9jb21wb25lbnRzL2J1dHRvbi5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9qcy9jb21wb25lbnRzL3Byb2dyZXNzLWJhci5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9qcy9zdHlsZXMuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL0BhdXRvbWF0dGljL2RvcHMtcmVhY3Qvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvY29tcG9uZW50cy9zdHlsZS5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9jb25maWcuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL0BhdXRvbWF0dGljL2RvcHMtcmVhY3Qvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvY3JlYXRlLW1hcmt1cC1mb3Itc3R5bGVzLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL2VuaGFuY2VyLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL2dldC1zdGF0ZS5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9pbmRleC5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9rZXlmcmFtZXMuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL0BhdXRvbWF0dGljL2RvcHMtcmVhY3Qvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvbW91c2UtdXAtbGlzdGVuZXIuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL0BhdXRvbWF0dGljL2RvcHMtcmVhY3Qvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvcHJlZml4ZXIuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL0BhdXRvbWF0dGljL2RvcHMtcmVhY3Qvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvcmVzb2x2ZS1zdHlsZXMuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL0BhdXRvbWF0dGljL2RvcHMtcmVhY3Qvbm9kZV9tb2R1bGVzL3JhZGl1bS9ub2RlX21vZHVsZXMvYXJyYXktZmluZC9maW5kLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L25vZGVfbW9kdWxlcy9yYWRpdW0vbm9kZV9tb2R1bGVzL2V4ZW52L2luZGV4LmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L25vZGVfbW9kdWxlcy9yYWRpdW0vbm9kZV9tb2R1bGVzL29iamVjdC1hc3NpZ24vaW5kZXguanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL2ZsdXgvaW5kZXguanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL2ZsdXgvbGliL0Rpc3BhdGNoZXIuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL2ZsdXgvbGliL2ludmFyaWFudC5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvZ3J1bnQtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvZ3J1bnQtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9rZXltaXJyb3IvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxHQUFJLGVBQWdCLFFBQVEsZ0NBQzNCLGFBQWUsUUFBUSx3Q0FFcEIsYUFDSCxlQUFnQixXQUNmLGNBQWMsVUFDYixXQUFZLGFBQWEsZ0JBSTNCLGdCQUFpQixXQUNoQixjQUFjLFVBQ2IsV0FBWSxhQUFhLGlCQUs1QixRQUFPLFFBQVU7Ozs7QUNqQmpCLEdBQUksZUFBZ0IsUUFBUSxnQ0FDM0IsYUFBZSxRQUFRLHdDQUVwQixjQUNILE9BQVEsU0FBUyxHQUNoQixjQUFjLFVBQ2IsV0FBWSxhQUFhLFVBQ3pCLFFBQVMsRUFDVCxTQUFVLGFBQWEseUJBSXpCLE1BQU8sU0FBUyxHQUNmLGNBQWMsVUFDYixXQUFZLGFBQWEsVUFDekIsUUFBUyxFQUNULFNBQVUsYUFBYSx3QkFJekIsTUFBTyxXQUNOLGNBQWMsVUFDYixXQUFZLGFBQWEsZUFLNUIsUUFBTyxRQUFVOzs7O0FDM0JqQixHQUFJLGVBQWdCLFFBQVEsZ0NBQzNCLGFBQWUsUUFBUSx3Q0FDdkIsTUFBUSxRQUFRLG9DQUNoQixhQUFlLFFBQVEsbUJB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LE9BQU0sbUNBRXBCLFFBQVEsTUFBUSxXQUFhLE1BQU87Ozs7QUN4RXBDLFlBb0JBLElBQUksV0FBWSxTQUFTLEdBQ3ZCLEdBQ0ksR0FEQSxJQUVKLE1BQU0sWUFBZSxVQUFXLE1BQU0sUUFBUSxHQUM1QyxLQUFNLElBQUksT0FBTSw4Q0FFbEIsS0FBSyxJQUFPLEdBQ0wsRUFBSSxlQUFlLEtBR3hCLEVBQUksR0FBTyxFQUViLE9BQU8sR0FHVCxRQUFPLFFBQVUiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwidmFyIEFwcERpc3BhdGNoZXIgPSByZXF1aXJlKCcuLi9kaXNwYXRjaGVyL2FwcC1kaXNwYXRjaGVyJyksXG5cdEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LWNvbnN0YW50cycpO1xuXG52YXIgRGF0YUFjdGlvbnMgPSB7XG5cdHJlcXVlc3RTdGFydGVkOiBmdW5jdGlvbigpIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TQVZFX1NUQVJURURcblx0XHR9KTtcblx0fSxcblxuXHRyZXF1ZXN0RmluaXNoZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNBVkVfRklOSVNIRURcblx0XHR9KTtcblx0fVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBEYXRhQWN0aW9uczsiLCJ2YXIgQXBwRGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4uL2Rpc3BhdGNoZXIvYXBwLWRpc3BhdGNoZXInKSxcblx0SlBTQ29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtY29uc3RhbnRzJyk7XG5cbnZhciBGbGFzaEFjdGlvbnMgPSB7XG5cdG5vdGljZTogZnVuY3Rpb24obXNnKSB7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0VUX0ZMQVNILFxuXHRcdFx0bWVzc2FnZTogbXNnLFxuXHRcdFx0c2V2ZXJpdHk6IEpQU0NvbnN0YW50cy5GTEFTSF9TRVZFUklUWV9OT1RJQ0Vcblx0XHR9KTtcblx0fSxcblxuXHRlcnJvcjogZnVuY3Rpb24obXNnKSB7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0VUX0ZMQVNILFxuXHRcdFx0bWVzc2FnZTogbXNnLFxuXHRcdFx0c2V2ZXJpdHk6IEpQU0NvbnN0YW50cy5GTEFTSF9TRVZFUklUWV9FUlJPUlxuXHRcdH0pO1xuXHR9LFxuXG5cdHVuc2V0OiBmdW5jdGlvbigpIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5VTlNFVF9GTEFTSFxuXHRcdH0pO1xuXHR9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZsYXNoQWN0aW9uczsiLCJ2YXIgQXBwRGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4uL2Rpc3BhdGNoZXIvYXBwLWRpc3BhdGNoZXInKSxcblx0SlBTQ29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtY29uc3RhbnRzJyksXG5cdFBhdGhzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtcGF0aHMnKSxcblx0Rmxhc2hBY3Rpb25zID0gcmVxdWlyZSgnLi9mbGFzaC1hY3Rpb25zJyksXG5cdFNpdGVBY3Rpb25zID0gcmVxdWlyZSgnLi9zaXRlLWFjdGlvbnMnKSxcblx0V1BBamF4ID0gcmVxdWlyZSgnLi4vdXRpbHMvd3AtYWpheCcpLFxuXHRTZXR1cFByb2dyZXNzU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2V0dXAtcHJvZ3Jlc3Mtc3RvcmUnKSxcblx0U2l0ZVN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NpdGUtc3RvcmUnKTtcblxudmFyIFNldHVwUHJvZ3Jlc3NBY3Rpb25zID0ge1xuXHRyZXNldERhdGE6IGZ1bmN0aW9uKCkge1xuXHRcdFdQQWpheC5cblx0XHRcdHBvc3QoSlBTLnNpdGVfYWN0aW9ucy5yZXNldF9kYXRhKS5cblx0XHRcdGZhaWwoIGZ1bmN0aW9uICggbXNnICkge1xuXHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IoXCJGYWlsZWQgdG8gc2F2ZSBkYXRhOiBcIiArIG1zZyk7XG5cdFx0XHR9KTtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0ICAgICAgXHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuUkVTRVRfREFUQVxuXHQgICAgfSk7XG5cdH0sXG5cblx0Y29tcGxldGVTdGVwOiBmdW5jdGlvbihzbHVnLCBtZXRhKSB7XG5cdFx0dmFyIHN0ZXAgPSBTZXR1cFByb2dyZXNzU3RvcmUuZ2V0U3RlcEZyb21TbHVnKHNsdWcpO1xuXG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU1RFUF9DT01QTEVURSxcblx0XHRcdHNsdWc6IHNsdWdcblx0ICAgIH0pO1xuXG5cdFx0Ly8gTk9URTogdGhpcyBuZWVkcyB0byBjb21lIGFmdGVyIHRoZSBkaXNwYXRjaCwgc28gdGhhdCB0aGUgY29tcGxldGlvbiAlIFxuXHRcdC8vIGlzIGFscmVhZHkgdXBkYXRlZCBhbmQgY2FuIGJlIGluY2x1ZGVkIGluIHRoZSBtZXRhZGF0YVxuXHRcdHRoaXMuX3JlY29yZENvbXBsZXRlKHN0ZXAsIG1ldGEpO1xuXHR9LFxuXG5cdGNvbXBsZXRlQW5kTmV4dFN0ZXA6IGZ1bmN0aW9uKHNsdWcsIG1ldGEpIHtcblx0XHR0aGlzLmNvbXBsZXRlU3RlcChzbHVnLCBtZXRhKTtcblxuXHQgICAgQXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdCAgICAgIGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TVEVQX05FWFQsXG5cdCAgICAgIHNsdWc6IHNsdWdcblx0ICAgIH0pO1xuXHR9LFxuXG5cdF9yZWNvcmRDb21wbGV0ZTogZnVuY3Rpb24oc3RlcCwgbWV0YSkge1xuXHRcdGlmICh0eXBlb2YobWV0YSkgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRtZXRhID0ge307XG5cdFx0fVxuXG5cdFx0bWV0YS5jb21wbGV0aW9uID0gU2V0dXBQcm9ncmVzc1N0b3JlLmdldFByb2dyZXNzUGVyY2VudCgpO1xuXG5cdFx0V1BBamF4LlxuXHRcdCAgXHRwb3N0KEpQUy5zdGVwX2FjdGlvbnMuY29tcGxldGUsIHsgc3RlcDogc3RlcC5zbHVnLCBkYXRhOiBtZXRhIH0pLlxuXHRcdFx0ZmFpbCggZnVuY3Rpb24obXNnKSB7XG5cdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihtc2cpO1xuXHRcdFx0fSk7XG5cdH0sXG5cblx0Ly8gbWFyayBjdXJyZW50IHN0ZXAgYXMgc2tpcHBlZCBhbmQgbW92ZSBvblxuXHRza2lwU3RlcDogZnVuY3Rpb24oKSB7XG5cdFx0Rmxhc2hBY3Rpb25zLnVuc2V0KCk7XG5cdFx0XG5cdFx0dmFyIHN0ZXAgPSBTZXR1cFByb2dyZXNzU3RvcmUuZ2V0Q3VycmVudFN0ZXAoKTtcblxuXHRcdGlmICggISBzdGVwLnNraXBwZWQgKSB7XG5cdFx0ICAgIFdQQWpheC5cblx0XHRcdFx0cG9zdChKUFMuc3RlcF9hY3Rpb25zLnNraXAsIHsgc3RlcDogc3RlcC5zbHVnIH0pLlxuXHRcdFx0XHRmYWlsKCBmdW5jdGlvbihtc2cpIHtcblx0XHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IobXNnKTtcblx0XHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU1RFUF9TS0lQXG5cdCAgICB9KTtcblx0fSxcblxuXHRnZXRTdGFydGVkOiBmdW5jdGlvbigpIHtcblx0ICAgIFdQQWpheC5cblx0XHRcdHBvc3QoSlBTLnN0ZXBfYWN0aW9ucy5zdGFydCkuXG5cdFx0XHRmYWlsKCBmdW5jdGlvbihtc2cpIHtcblx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKG1zZyk7XG5cdFx0XHR9KTtcblxuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHQgICAgICBhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU1RFUF9HRVRfU1RBUlRFRFxuXHQgICAgfSk7XG5cdH0sXG5cblx0c2V0Q3VycmVudFN0ZXA6IGZ1bmN0aW9uKHNsdWcpIHtcblx0XHRGbGFzaEFjdGlvbnMudW5zZXQoKTtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0ICAgICAgYWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNURVBfU0VMRUNULFxuXHQgICAgICBzbHVnOiBzbHVnXG5cdCAgICB9KTtcblx0fSxcblxuXHQvLyBtb3ZlcyBvbiB0byB0aGUgbmV4dCBzdGVwLCBidXQgZG9lc24ndCBtYXJrIGl0IGFzIFwic2tpcHBlZFwiXG5cdHNlbGVjdE5leHRTdGVwOiBmdW5jdGlvbigpIHtcblx0XHRGbGFzaEFjdGlvbnMudW5zZXQoKTtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TVEVQX05FWFRcblx0ICAgIH0pO1xuXHR9LFxuXG5cdHN1Ym1pdFRpdGxlU3RlcDogZnVuY3Rpb24oKSB7XG5cdFx0U2l0ZUFjdGlvbnMuc2F2ZVRpdGxlQW5kRGVzY3JpcHRpb24oKS5kb25lKGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5jb21wbGV0ZUFuZE5leHRTdGVwKFBhdGhzLlNJVEVfVElUTEVfU1RFUF9TTFVHKTtcblx0XHR9LmJpbmQodGhpcykpO1xuXHR9LFxuXG5cdHN1Ym1pdExheW91dFN0ZXA6IGZ1bmN0aW9uKGxheW91dCkge1xuXHRcdFNpdGVBY3Rpb25zLnNldExheW91dChsYXlvdXQpLmRvbmUoZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmNvbXBsZXRlQW5kTmV4dFN0ZXAoUGF0aHMuTEFZT1VUX1NURVBfU0xVRyk7XG5cdFx0fS5iaW5kKHRoaXMpKTtcblx0fSxcblxuXHRzdWJtaXRKZXRwYWNrSnVtcHN0YXJ0OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlQWN0aW9ucy5lbmFibGVKdW1wc3RhcnQoKS5kb25lKGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5jb21wbGV0ZVN0ZXAoUGF0aHMuSkVUUEFDS19NT0RVTEVTX1NURVBfU0xVRyk7XG5cdFx0fS5iaW5kKHRoaXMpKTtcblx0fSxcblxuXHRzZXRBY3RpdmVUaGVtZTogZnVuY3Rpb24odGhlbWUpIHtcblx0XHRTaXRlQWN0aW9ucy5zZXRBY3RpdmVUaGVtZSh0aGVtZSkuZG9uZSggZnVuY3Rpb24gKCkge1xuXHRcdFx0dGhpcy5jb21wbGV0ZVN0ZXAoUGF0aHMuREVTSUdOX1NURVBfU0xVRywge3RoZW1lSWQ6IHRoZW1lLmlkfSk7XG5cdFx0fS5iaW5kKHRoaXMpKTtcblx0fSxcblxuXHRzYXZlRGVzaWduU3RlcDogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5jb21wbGV0ZUFuZE5leHRTdGVwKFBhdGhzLkRFU0lHTl9TVEVQX1NMVUcsIHt0aGVtZUlkOiBTaXRlU3RvcmUuZ2V0QWN0aXZlVGhlbWVJZCgpfSk7XG5cdH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gU2V0dXBQcm9ncmVzc0FjdGlvbnM7IiwidmFyIEFwcERpc3BhdGNoZXIgPSByZXF1aXJlKCcuLi9kaXNwYXRjaGVyL2FwcC1kaXNwYXRjaGVyJyksXG5cdEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LWNvbnN0YW50cycpLFxuXHRTaXRlU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2l0ZS1zdG9yZScpLFxuXHRGbGFzaEFjdGlvbnMgPSByZXF1aXJlKCcuL2ZsYXNoLWFjdGlvbnMuanMnKSxcblx0U3Bpbm5lckFjdGlvbnMgPSByZXF1aXJlKCcuL3NwaW5uZXItYWN0aW9ucy5qcycpLFxuXHRXUEFqYXggPSByZXF1aXJlKCcuLi91dGlscy93cC1hamF4Jyk7XG5cbnZhciBTaXRlQWN0aW9ucyA9IHtcblx0c2V0VGl0bGU6IGZ1bmN0aW9uKHRpdGxlKSB7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9TRVRfVElUTEUsXG5cdFx0XHR0aXRsZTogdGl0bGVcblx0ICAgIH0pO1xuXHR9LFxuXG5cdHNldERlc2NyaXB0aW9uOiBmdW5jdGlvbihkZXNjcmlwdGlvbikge1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNJVEVfU0VUX0RFU0NSSVBUSU9OLFxuXHRcdFx0ZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uXG5cdCAgICB9KTtcblx0fSxcblxuXHRzYXZlVGl0bGVBbmREZXNjcmlwdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHRpdGxlID0gU2l0ZVN0b3JlLmdldFRpdGxlKCk7XG5cdFx0dmFyIGRlc2NyaXB0aW9uID0gU2l0ZVN0b3JlLmdldERlc2NyaXB0aW9uKCk7XG5cdFx0XG5cdFx0V1BBamF4LlxuXHRcdFx0cG9zdCggSlBTLnNpdGVfYWN0aW9ucy5zZXRfdGl0bGUsIHsgdGl0bGU6IHRpdGxlLCBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24gfSApLlxuXHRcdFx0ZmFpbCggZnVuY3Rpb24gKCBtc2cgKSB7XG5cdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihcIkVycm9yIHNldHRpbmcgdGl0bGU6IFwiK21zZyk7XG5cdFx0XHR9KTtcblxuXHRcdGpRdWVyeSgnI3dwLWFkbWluLWJhci1zaXRlLW5hbWUgLmFiLWl0ZW0nKS5odG1sKHRpdGxlKTtcblx0XHQvLyBGbGFzaEFjdGlvbnMubm90aWNlKCBcIlNldCB0aXRsZSB0byAnXCIrdGl0bGUrXCInIGFuZCBkZXNjcmlwdGlvbiB0byAnXCIrZGVzY3JpcHRpb24rXCInXCIgKTtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSVRFX1NBVkVfVElUTEVfQU5EX0RFU0NSSVBUSU9OLFxuXHRcdFx0dGl0bGU6IHRpdGxlXG5cdCAgICB9KTtcblxuXHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoKS5yZXNvbHZlKCk7IC8vIFhYWCBIQUNLXG5cdH0sXG5cblx0X2luc3RhbGxUaGVtZTogZnVuY3Rpb24gKCB0aGVtZSApIHtcblx0XHRpZiAoICEgdGhlbWUuaW5zdGFsbGVkICkge1xuXHRcdFx0U3Bpbm5lckFjdGlvbnMuc2hvdyhcIkluc3RhbGxpbmcgJ1wiK3RoZW1lLm5hbWUrXCInXCIpO1xuXHRcdFx0cmV0dXJuIFdQQWpheC5cblx0XHRcdFx0cG9zdCggSlBTLnNpdGVfYWN0aW9ucy5pbnN0YWxsX3RoZW1lLCB7IHRoZW1lSWQ6IHRoZW1lLmlkIH0gKS5cblx0XHRcdFx0ZG9uZSggZnVuY3Rpb24gKCApIHtcblx0XHRcdFx0XHR0aGVtZS5pbnN0YWxsZWQgPSB0cnVlO1xuXHRcdFx0XHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0XHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNJVEVfSU5TVEFMTF9USEVNRSxcblx0XHRcdFx0XHRcdHRoZW1lOiB0aGVtZVxuXHRcdFx0XHQgICAgfSk7XG5cdFx0XHRcdH0pLlxuXHRcdFx0XHRmYWlsKCBmdW5jdGlvbiAoIG1zZyApIHtcblx0XHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IoXCJTZXJ2ZXIgZXJyb3IgaW5zdGFsbGluZyB0aGVtZTogXCIrbXNnKTtcblx0XHRcdFx0fSkuXG5cdFx0XHRcdGFsd2F5cyggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0U3Bpbm5lckFjdGlvbnMuaGlkZSgpO1xuXHRcdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZCgpLnJlc29sdmUoKTtcblx0XHR9XG5cdH0sXG5cblx0X2FjdGl2YXRlVGhlbWU6IGZ1bmN0aW9uICggdGhlbWUgKSB7XG5cdFx0V1BBamF4LlxuXHRcdFx0cG9zdCggSlBTLnNpdGVfYWN0aW9ucy5zZXRfdGhlbWUsIHsgdGhlbWVJZDogdGhlbWUuaWQgfSApLlxuXHRcdFx0ZmFpbCggZnVuY3Rpb24gKCBtc2cgKSB7XG5cdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihcIlNlcnZlciBlcnJvciBzZXR0aW5nIHRoZW1lOiBcIittc2cpO1xuXHRcdFx0fSk7XG5cblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSVRFX1NFVF9USEVNRSxcblx0XHRcdHRoZW1lSWQ6IHRoZW1lLmlkXG5cdCAgICB9KTtcblx0fSxcblxuXHRzZXRBY3RpdmVUaGVtZTogZnVuY3Rpb24oIHRoZW1lICkge1xuXG5cdFx0dGhpcy5faW5zdGFsbFRoZW1lKHRoZW1lKS5cblx0XHRcdGRvbmUoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aGlzLl9hY3RpdmF0ZVRoZW1lKHRoZW1lKTtcblx0XHRcdH0uYmluZCh0aGlzKSk7XG5cblx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCkucmVzb2x2ZSgpOyAvLyBYWFggSEFDS1xuXHR9LFxuXG5cdHNldExheW91dDogZnVuY3Rpb24oIGxheW91dE5hbWUgKSB7XG5cdFxuXHRcdFdQQWpheC5cblx0XHRcdHBvc3QoIEpQUy5zaXRlX2FjdGlvbnMuc2V0X2xheW91dCwgeyBsYXlvdXQ6IGxheW91dE5hbWUgfSApLlxuXHRcdFx0ZmFpbCggZnVuY3Rpb24gKG1zZyApIHtcblx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKFwiRXJyb3Igc2V0dGluZyBsYXlvdXQ6IFwiK21zZyk7XG5cdFx0XHR9KTtcblxuXHRcdC8vIEZsYXNoQWN0aW9ucy5ub3RpY2UoXCJTZXQgbGF5b3V0IHRvIFwiK2xheW91dE5hbWUpO1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNJVEVfU0VUX0xBWU9VVCxcblx0XHRcdGxheW91dDogbGF5b3V0TmFtZVxuXHQgICAgfSk7XG5cblx0ICAgIHJldHVybiBqUXVlcnkuRGVmZXJyZWQoKS5yZXNvbHZlKCk7IC8vIFhYWCBIQUNLXG5cdH0sXG5cblx0Y29uZmlndXJlSmV0cGFjazogZnVuY3Rpb24ocmV0dXJuX3RvX3N0ZXApIHtcblx0XHRTcGlubmVyQWN0aW9ucy5zaG93KFwiQ29ubmVjdGluZyB0byBXb3JkUHJlc3MuY29tXCIpO1xuXHRcdHJldHVybiBXUEFqYXguXG5cdFx0XHRwb3N0KCBKUFMuc2l0ZV9hY3Rpb25zLmNvbmZpZ3VyZV9qZXRwYWNrLCB7IHJldHVybl90b19zdGVwOiByZXR1cm5fdG9fc3RlcCB9ICkuXG5cdFx0XHRkb25lKCBmdW5jdGlvbiAoIGRhdGEgKSB7XG5cdFx0XHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSVRFX0pFVFBBQ0tfQ09ORklHVVJFRFxuXHRcdFx0ICAgIH0pO1xuXG5cdFx0XHRcdGlmICggZGF0YS5uZXh0ICkge1xuXHRcdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGRhdGEubmV4dCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0U3Bpbm5lckFjdGlvbnMuaGlkZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KS5cblx0XHRcdGZhaWwoIGZ1bmN0aW9uICggbXNnICkge1xuXHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IoXCJFcnJvciBlbmFibGluZyBKZXRwYWNrOiBcIittc2cpO1xuXHRcdFx0XHRTcGlubmVyQWN0aW9ucy5oaWRlKCk7XG5cdFx0XHR9KTtcblx0fSxcblxuXHRhY3RpdmF0ZUpldHBhY2tNb2R1bGU6IGZ1bmN0aW9uKG1vZHVsZV9zbHVnKSB7XG5cblx0XHRXUEFqYXguXG5cdFx0XHRwb3N0KCBKUFMuc2l0ZV9hY3Rpb25zLmFjdGl2YXRlX2pldHBhY2tfbW9kdWxlcywgeyBtb2R1bGVzOiBbbW9kdWxlX3NsdWddIH0pLlxuXHRcdFx0ZmFpbCggZnVuY3Rpb24gKCBtc2cgKSB7XG5cdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihcIkVycm9yIGFjdGl2YXRpbmcgSmV0cGFjayBtb2R1bGU6IFwiK21zZyk7XG5cdFx0XHR9KTtcblxuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNJVEVfSkVUUEFDS19NT0RVTEVfRU5BQkxFRCxcblx0XHRcdHNsdWc6IG1vZHVsZV9zbHVnXG5cdCAgICB9KTtcblxuXHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoKS5yZXNvbHZlKCk7IC8vIFhYWCBIQUNLXG5cdH0sXG5cblx0ZGVhY3RpdmF0ZUpldHBhY2tNb2R1bGU6IGZ1bmN0aW9uKG1vZHVsZV9zbHVnKSB7XG5cblx0XHRXUEFqYXguXG5cdFx0XHRwb3N0KCBKUFMuc2l0ZV9hY3Rpb25zLmRlYWN0aXZhdGVfamV0cGFja19tb2R1bGVzLCB7IG1vZHVsZXM6IFttb2R1bGVfc2x1Z10gfSkuXG5cdFx0XHRmYWlsKCBmdW5jdGlvbiAoIG1zZyApIHtcblx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKFwiRXJyb3IgZGVhY3RpdmF0aW5nIEpldHBhY2sgbW9kdWxlOiBcIittc2cpO1xuXHRcdFx0fSk7XG5cblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSVRFX0pFVFBBQ0tfTU9EVUxFX0RJU0FCTEVELFxuXHRcdFx0c2x1ZzogbW9kdWxlX3NsdWdcblx0ICAgIH0pO1xuXG5cdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZCgpLnJlc29sdmUoKTsgLy8gWFhYIEhBQ0tcblx0fSxcblxuXHRsb2FkQWxsSmV0cGFja01vZHVsZXM6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggU2l0ZVN0b3JlLmdldEpldHBhY2tBZGRpdGlvbmFsTW9kdWxlcygpLmxlbmd0aCA9PT0gMCApIHtcblx0XHRcdHJldHVybiBXUEFqYXguXG5cdFx0XHRcdHBvc3QoIEpQUy5zaXRlX2FjdGlvbnMubGlzdF9qZXRwYWNrX21vZHVsZXMgKS5cblx0XHRcdFx0ZG9uZSggZnVuY3Rpb24gKCBhbGxfbW9kdWxlcyApIHtcblx0XHRcdFx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdFx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSVRFX0pFVFBBQ0tfQUREX01PRFVMRVMsXG5cdFx0XHRcdFx0XHRtb2R1bGVzOiBhbGxfbW9kdWxlc1xuXHRcdFx0XHQgICAgfSk7XG5cdFx0XHRcdH0pLlxuXHRcdFx0XHRmYWlsKCBmdW5jdGlvbiAoIG1zZyApIHtcblx0XHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBhbGwgSmV0cGFjayBtb2R1bGVzOiBcIittc2cpO1xuXHRcdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZCgpLnJlc29sdmUoKTsgLy8gWFhYIEhBQ0tcblx0XHR9XG5cdH0sXG5cblx0ZW5hYmxlSnVtcHN0YXJ0OiBmdW5jdGlvbigpIHtcblx0XHRXUEFqYXguXG5cdFx0XHRwb3N0KCBKUFMuc2l0ZV9hY3Rpb25zLmFjdGl2YXRlX2pldHBhY2tfbW9kdWxlcywgeyBtb2R1bGVzOiBTaXRlU3RvcmUuZ2V0SnVtcHN0YXJ0TW9kdWxlU2x1Z3MoKSB9KS5cblx0XHRcdGZhaWwoIGZ1bmN0aW9uICggbXNnICkge1xuXHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IoXCJFcnJvciBhY3RpdmF0aW5nIEpldHBhY2sgbW9kdWxlczogXCIrbXNnKTtcblx0XHRcdH0pO1xuXG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9KRVRQQUNLX0pVTVBTVEFSVF9FTkFCTEVEXG5cdCAgICB9KTtcblxuXHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoKS5yZXNvbHZlKCk7IC8vIFhYWCBIQUNLXG5cdH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gU2l0ZUFjdGlvbnM7IiwidmFyIEFwcERpc3BhdGNoZXIgPSByZXF1aXJlKCcuLi9kaXNwYXRjaGVyL2FwcC1kaXNwYXRjaGVyJyksXG5cdEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LWNvbnN0YW50cycpO1xuXG52YXIgU3Bpbm5lckFjdGlvbnMgPSB7XG5cdHNob3c6IGZ1bmN0aW9uKG1zZykge1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNIT1dfU1BJTk5FUixcblx0XHRcdG1lc3NhZ2U6IG1zZ1xuXHRcdH0pO1xuXHR9LFxuXG5cdGhpZGU6IGZ1bmN0aW9uKCkge1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLkhJREVfU1BJTk5FUixcblx0XHR9KTtcdFxuXHR9LFxuXG5cdHNob3dBc3luYzogZnVuY3Rpb24obXNnKSB7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0hPV19BU1lOQ19TUElOTkVSLFxuXHRcdFx0bWVzc2FnZTogbXNnXG5cdFx0fSk7XHRcdFxuXHR9LFxuXG5cdGhpZGVBc3luYzogZnVuY3Rpb24oKSB7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuSElERV9BU1lOQ19TUElOTkVSXG5cdFx0fSk7XHRcdFx0XG5cdH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gU3Bpbm5lckFjdGlvbnM7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cuUmVhY3QgOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsLlJlYWN0IDogbnVsbCksXG5cdEJ1dHRvbiA9IHJlcXVpcmUoJ0BhdXRvbWF0dGljL2RvcHMtcmVhY3QvanMvY29tcG9uZW50cy9idXR0b24nKSxcblx0U2l0ZVN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NpdGUtc3RvcmUnKTtcblxudmFyIEFkdmFuY2VkU2V0dGluZ3NTdGVwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIkFkdmFuY2VkU2V0dGluZ3NTdGVwXCIsXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcIndlbGNvbWVfX3NlY3Rpb25cIiwgaWQ6IFwid2VsY29tZV9fYWR2YW5jZWRcIn0sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDRcIiwgbnVsbCwgXCJBZHZhbmNlZCBzZXR0aW5nc1wiKSwgXG5cblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInVsXCIsIHtjbGFzc05hbWU6IFwid2VsY29tZV9fYWR2YW5jZWRcIn0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoNVwiLCBudWxsLCBcIkZpbmUtdHVuZSB5b3VyIHNpdGUncyBsYXlvdXQgYW5kIGFwcGVhcmFuY2VcIiksIFxuXHRcdFx0XHRcdFx0XCJDdXN0b21pemUgeW91ciBzaXRl4oCZcyBjb2xvcnMsIGZvbnRzLCBzaWRlYmFycyBhbmQgb3RoZXIgc2V0dGluZ3MuXCIsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImJyXCIsIG51bGwpLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7Y29sb3I6IFwiYmx1ZVwiLCBocmVmOiBKUFMuc3RlcHMuYWR2YW5jZWRfc2V0dGluZ3MuY3VzdG9taXplX3VybH0sIFwiQ3VzdG9taXplIG15IHNpdGVcIiksIFxuXHRcdFx0XHRcdFx0XCLCoFwiICsgJyAnICtcblx0XHRcdFx0XHRcdFwiwqBcIiwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2NvbG9yOiBcImJsdWVcIiwgaHJlZjogSlBTLnN0ZXBzLmFkdmFuY2VkX3NldHRpbmdzLnRoZW1lc191cmx9LCBcIkJyb3dzZSBhbmQgYWRkIHRoZW1lc1wiKVxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0KSwgXG5cdFx0XHRcdFx0KFNpdGVTdG9yZS5nZXRMYXlvdXQoKSA9PSAnYmxvZycgfHwgU2l0ZVN0b3JlLmdldExheW91dCgpID09ICdzaXRlLWJsb2cnKSAmJiAoXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoNVwiLCBudWxsLCBcIkNyZWF0ZSB5b3VyIGZpcnN0IGJsb2cgcG9zdFwiKSwgXG5cdFx0XHRcdFx0XHRcdFwiQW4gZXBpYyBlc3NheSBvciBqdXN0IFxcXCJIZWxsbyBXb3JsZCFcXFwiXCIsIFxuXHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCksIFxuXHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2NvbG9yOiBcImJsdWVcIiwgaHJlZjogSlBTLnN0ZXBzLmFkdmFuY2VkX3NldHRpbmdzLm5ld19ibG9nX3Bvc3RfdXJsfSwgXCJXcml0ZSBhIG5ldyBibG9nIHBvc3RcIiksIFxuXHRcdFx0XHRcdFx0XHRcIsKgwqBcIiwgXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7Y29sb3I6IFwiYmx1ZVwiLCBocmVmOiBKUFMuc3RlcHMuYWR2YW5jZWRfc2V0dGluZ3MubWFuYWdlX3Bvc3RzX3VybH0sIFwiTWFuYWdlIHBvc3RzXCIpXG5cdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0KSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImg1XCIsIG51bGwsIFwiQ3JlYXRlIGEgc3RhdGljIHBhZ2VcIiksIFxuXHRcdFx0XHRcdFx0XCJcXFwiQWJvdXQgbWVcXFwiLCBcXFwiT3VyIFNlcnZpY2VzXFxcIiBvciBhbnl0aGluZyBlbHNlIHlvdSBjYW4gaW1hZ2luZS5cIiwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCksIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtjb2xvcjogXCJibHVlXCIsIGhyZWY6IEpQUy5zdGVwcy5hZHZhbmNlZF9zZXR0aW5ncy5uZXdfcGFnZV91cmx9LCBcIkNyZWF0ZSBhIG5ldyBwYWdlXCIpLCBcblx0XHRcdFx0XHRcdFwiwqDCoFwiLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7Y29sb3I6IFwiYmx1ZVwiLCBocmVmOiBKUFMuc3RlcHMuYWR2YW5jZWRfc2V0dGluZ3MubWFuYWdlX3BhZ2VzX3VybH0sIFwiTWFuYWdlIHBhZ2VzXCIpXG5cdFx0XHRcdFx0KSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImg1XCIsIG51bGwsIFwiRXh0ZW5kIHlvdXIgc2l0ZSdzIGZ1bmN0aW9uYWxpdHlcIiksIFxuXHRcdFx0XHRcdFx0XCJXb3JkUHJlc3Mgb2ZmZXJzIHRob3VzYW5kcyBvZiBwbHVnaW5zIGZyb20gSmV0cGFjayBhbmQgdGhlIFdvcmRQcmVzcyBjb21tdW5pdHkuXCIsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImJyXCIsIG51bGwpLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7Y29sb3I6IFwiYmx1ZVwiLCBocmVmOiBKUFMuc3RlcHMuYWR2YW5jZWRfc2V0dGluZ3MucGx1Z2luc191cmx9LCBcIk1hbmFnZSBwbHVnaW5zXCIpLCBcblx0XHRcdFx0XHRcdFwiwqBcIiArICcgJyArXG5cdFx0XHRcdFx0XHRcIsKgXCIsIFxuXHRcdFx0XHRcdFx0U2l0ZVN0b3JlLmdldEpldHBhY2tDb25maWd1cmVkKCkgJiYgKFxuXHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2NvbG9yOiBcImJsdWVcIiwgaHJlZjogSlBTLnN0ZXBzLmFkdmFuY2VkX3NldHRpbmdzLmpldHBhY2tfbW9kdWxlc191cmx9LCBcIk1hbmFnZSBKZXRwYWNrIG1vZHVsZXNcIilcblx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHQpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDVcIiwgbnVsbCwgXCJMZWFybiBtb3JlXCIpLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtocmVmOiBcImh0dHBzOi8vY29kZXgud29yZHByZXNzLm9yZy9GaXJzdF9TdGVwc19XaXRoX1dvcmRQcmVzc1wifSwgXCJGaXJzdCBTdGVwcyB3aXRoIFdvcmRQcmVzc1wiKSwgXCIgLSBhbiBvbmxpbmUgZ3VpZGUgZnJvbSB0aGUgY3JlYXRvcnMgb2YgV29yZFByZXNzXCJcblx0XHRcdFx0XHQpXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBBZHZhbmNlZFNldHRpbmdzU3RlcDsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdy5SZWFjdCA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwuUmVhY3QgOiBudWxsKTtcblxudmFyIENvbnRlbnRCb3ggPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiQ29udGVudEJveFwiLFxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwid2VsY29tZV9fY29udGVudF9ib3hcIn0sIFxuXHRcdFx0XHR0aGlzLnByb3BzLmNoaWxkcmVuLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcImNsZWFyXCJ9KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbnRlbnRCb3g7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cuUmVhY3QgOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsLlJlYWN0IDogbnVsbCksXG5cdFNpdGVTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zaXRlLXN0b3JlJyksXG5cdFNldHVwUHJvZ3Jlc3NBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zZXR1cC1wcm9ncmVzcy1hY3Rpb25zJyksXG5cdFRvb2x0aXAgPSByZXF1aXJlKCcuL3Rvb2x0aXAnKSxcblx0Q29udGVudEJveCA9IHJlcXVpcmUoJy4vY29udGVudC1ib3gnKSxcblx0QnV0dG9uID0gcmVxdWlyZSgnQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9qcy9jb21wb25lbnRzL2J1dHRvbicpO1xuXG5mdW5jdGlvbiBnZXRUaGVtZVN0YXRlKCkge1xuXHRyZXR1cm4geyB0aGVtZXM6IFNpdGVTdG9yZS5nZXRUaGVtZXMoKSB9O1xufVxuXG52YXIgRGVzaWduU3RlcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJEZXNpZ25TdGVwXCIsXG5cblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdFx0dGhpcy5fbG9hZFBvcHVsYXJUaGVtZXMoKTtcblx0fSxcblxuXHRjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0U2l0ZVN0b3JlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0fSxcblxuXHRfb25DaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICAgIFx0dGhpcy5zZXRTdGF0ZShnZXRUaGVtZVN0YXRlKCkpO1xuICBcdH0sXG5cblx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW5pdGlhbFN0YXRlID0gZ2V0VGhlbWVTdGF0ZSgpO1xuXHRcdGluaXRpYWxTdGF0ZS5wb3B1bGFyVGhlbWVzID0gW107XG5cdFx0cmV0dXJuIGluaXRpYWxTdGF0ZTtcblx0fSxcblxuXHRoYW5kbGVBY3RpdmF0ZVRoZW1lOiBmdW5jdGlvbiAoIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFxuXHRcdHRoaXMuc2V0U3RhdGUoe3Rvb2x0aXBUaGVtZTogbnVsbCwgdG9vbHRpcFBvc2l0aW9uOiBudWxsfSk7XG5cblx0XHR2YXIgJGVsID0galF1ZXJ5KGUuY3VycmVudFRhcmdldCksXG5cdFx0XHR0aGVtZUlkID0gJGVsLmRhdGEoJ3RoZW1lLWlkJyksXG5cdFx0XHR0aGVtZSA9IHRoaXMuZmluZFRoZW1lKHRoZW1lSWQpLFxuXHRcdFx0bmVlZHNJbnN0YWxsYXRpb24gPSAhdGhlbWUuaW5zdGFsbGVkO1xuXG5cdFx0dmFyIHJlc3BvbnNlID0gU2V0dXBQcm9ncmVzc0FjdGlvbnMuc2V0QWN0aXZlVGhlbWUodGhlbWUpO1xuXG5cdFx0Ly8gaWYgd2UganVzdCBpbnN0YWxsZWQgYSB0aGVtZSBmcm9tIHRoZSBcInBvcHVsYXJcIiBsaXN0LCBsZXQncyBsb2FkIHNvbWUgbmV3XG5cdFx0Ly8gc2VsZWN0aW9ucyBvbmNlIGluc3RhbGxhdGlvbiBpcyBmaW5pc2hlZFxuXHRcdGlmICggbmVlZHNJbnN0YWxsYXRpb24gKSB7XG5cdFx0XHRyZXNwb25zZS5kb25lKCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHRoaXMuX2xvYWRQb3B1bGFyVGhlbWVzKCk7XG5cdFx0XHR9LmJpbmQodGhpcykpO1xuXHRcdH1cblx0fSxcblxuXHRmaW5kVGhlbWU6IGZ1bmN0aW9uICggdGhlbWVJZCApXHR7XG5cdFx0cmV0dXJuIF8uZmluZFdoZXJlKHRoaXMuc3RhdGUudGhlbWVzLCB7aWQ6IHRoZW1lSWR9KSB8fCBfLmZpbmRXaGVyZSh0aGlzLnN0YXRlLnBvcHVsYXJUaGVtZXMsIHtpZDogdGhlbWVJZH0pO1xuXHR9LFxuXG5cdGhhbmRsZUNvbnRpbnVlOiBmdW5jdGlvbiAoIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFNldHVwUHJvZ3Jlc3NBY3Rpb25zLnNhdmVEZXNpZ25TdGVwKCk7XG5cdH0sXG5cblx0aGFuZGxlU2hvd1Rvb2x0aXA6IGZ1bmN0aW9uICggZSApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHR2YXIgJGVsICAgPSBqUXVlcnkoZS5jdXJyZW50VGFyZ2V0KSxcblx0XHRcdHRoZW1lID0gdGhpcy5maW5kVGhlbWUoJGVsLmRhdGEoJ3RoZW1lLWlkJykpLFxuXHRcdFx0b2Zmc2V0ID0gJGVsLnBvc2l0aW9uKCksXG5cdFx0XHR3aWR0aCA9ICRlbC5vdXRlcldpZHRoKCksXG5cdFx0XHRoZWlnaHQgPSAkZWwub3V0ZXJIZWlnaHQoKTtcblx0XHRcblx0XHQvL2Rlc2NyaWJlcyBhIHBvc2l0aW9uIGluIHRoZSBtaWRkbGUgb2YgdGhlIHJpZ2h0IHNpZGVcblx0XHR2YXIgcG9zaXRpb24gPSB7XG5cdFx0XHR0b3A6IG9mZnNldC50b3AgKyAoaGVpZ2h0LzIpLFxuXHRcdFx0bGVmdDogb2Zmc2V0LmxlZnQgKyB3aWR0aFxuXHRcdH07XG5cblx0XHR0aGlzLnNldFN0YXRlKHt0b29sdGlwVGhlbWU6IHRoZW1lLCB0b29sdGlwUG9zaXRpb246IHBvc2l0aW9ufSk7XG5cdH0sXG5cblx0aGFuZGxlSGlkZVRvb2x0aXA6IGZ1bmN0aW9uICggZSApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0dGhpcy5zZXRTdGF0ZSh7dG9vbHRpcFRoZW1lOiBudWxsLCB0b29sdGlwUG9zaXRpb246IG51bGx9KTtcblx0fSxcblxuXHRoYW5kbGVHZXRQb3B1bGFyVGhlbWVzOiBmdW5jdGlvbiAoIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHRoaXMuX2xvYWRQb3B1bGFyVGhlbWVzKCk7XHRcdFxuXHR9LFxuXG5cdF9sb2FkUG9wdWxhclRoZW1lczogZnVuY3Rpb24oKSB7XG5cdFx0U2l0ZVN0b3JlLmdldFBvcHVsYXJUaGVtZXMoKS5kb25lKGZ1bmN0aW9uKHRoZW1lcykge1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7cG9wdWxhclRoZW1lczogdGhlbWVzfSk7XG5cdFx0fS5iaW5kKHRoaXMpKTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ3ZWxjb21lX19zZWN0aW9uXCIsIGlkOiBcIndlbGNvbWVfX2Rlc2lnblwifSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoNFwiLCBudWxsLCBcIlBpY2sgYSBkZXNpZ25cIiksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcInN0ZXAtZGVzY3JpcHRpb25cIn0sIFwiQSBcXFwidGhlbWVcXFwiIGNvbnRyb2xzIHRoZSBkZXNpZ24gb2YgeW91ciBzaXRlIC0gY29sb3VycywgZm9udHMgYW5kIGxheW91dC5cIiksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcInN0ZXAtZGVzY3JpcHRpb25cIn0sIFwiQ2xpY2sgYW55IHRoZW1lIGJlbG93IHRvIGNob29zZSBpdCBmb3IgeW91ciBzaXRlLiBBbmQgZG9uJ3Qgd29ycnkgLSB5b3UgY2FuIGVhc2lseSBjaGFuZ2UgdGhpcyBsYXRlci5cIiksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcInN1Ym1pdFwifSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtjb2xvcjogXCJibHVlXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ29udGludWV9LCBcIk5leHQgU3RlcCDihpJcIilcblx0XHRcdFx0KSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGVudEJveCwgbnVsbCwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiSW5zdGFsbGVkIHRoZW1lc1wiKSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcInRoZW1lLWJyb3dzZXIgcmVuZGVyZWRcIn0sIFxuXHRcdFx0XHRcdFx0dGhpcy5fcmVuZGVyVGhlbWVMaXN0KClcblx0XHRcdFx0XHQpXG5cdFx0XHRcdCksIFxuXHRcdFx0XHRcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChDb250ZW50Qm94LCBudWxsLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJQb3B1bGFyIHRoZW1lcyBmcm9tIFdvcmRQcmVzcy5vcmdcIiwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtjb2xvcjogXCJibHVlXCIsIHN0eWxlOiB7ZmxvYXQ6ICdyaWdodCd9LCBvbkNsaWNrOiB0aGlzLmhhbmRsZUdldFBvcHVsYXJUaGVtZXN9LCBcIkxvYWQgbW9yZSB0aGVtZXNcIilcblx0XHRcdFx0XHQpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwidGhlbWUtYnJvd3NlciByZW5kZXJlZFwifSwgXG5cdFx0XHRcdFx0XHR0aGlzLl9yZW5kZXJQb3B1bGFyVGhlbWVMaXN0KClcblx0XHRcdFx0XHQpXG5cdFx0XHRcdCksIFxuXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge3N0eWxlOiB7Y2xlYXI6ICdib3RoJ319KSwgXG5cdFx0XHRcdHRoaXMuc3RhdGUudG9vbHRpcFRoZW1lICYmIHRoaXMuX3JlbmRlclRvb2x0aXAoKVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0X3JlbmRlclRvb2x0aXA6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aGVtZSA9IHRoaXMuc3RhdGUudG9vbHRpcFRoZW1lLCBwb3NpdGlvbiA9IHRoaXMuc3RhdGUudG9vbHRpcFBvc2l0aW9uO1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFRvb2x0aXAsIHtcblx0XHRcdFx0bGVmdDogcG9zaXRpb24ubGVmdCwgXG5cdFx0XHRcdHRvcDogcG9zaXRpb24udG9wLCBcblx0XHRcdFx0d2lkdGg6IDMyMCwgXG5cdFx0XHRcdHRpdGxlOiB0aGVtZS5uYW1lfSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIG51bGwsIFwiQnkgXCIsIHRoZW1lLmF1dGhvciksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7ZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHtfX2h0bWw6IF8udW5lc2NhcGUodGhlbWUuZGVzY3JpcHRpb24pfX0pXG5cdFx0XHQpXG5cdFx0KTtcblx0fSxcblxuXHRfcmVuZGVyVGhlbWU6IGZ1bmN0aW9uKHRoZW1lKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2tleTogdGhlbWUuaWQsIFxuXHRcdFx0XHRjbGFzc05hbWU6ICd0aGVtZScgKyAodGhlbWUuYWN0aXZlID8gJyBhY3RpdmUnIDogJycpLCBcblx0XHRcdFx0XCJkYXRhLXRoZW1lLWlkXCI6IHRoZW1lLmlkLCBcblx0XHRcdFx0b25DbGljazogdGhpcy5oYW5kbGVBY3RpdmF0ZVRoZW1lLCBcblx0XHRcdFx0b25Nb3VzZUVudGVyOiB0aGlzLmhhbmRsZVNob3dUb29sdGlwLCBcblx0XHRcdFx0b25Nb3VzZUxlYXZlOiB0aGlzLmhhbmRsZUhpZGVUb29sdGlwLCBcblx0XHRcdFx0XCJhcmlhLWRlc2NyaWJlZGJ5XCI6IHRoZW1lLmlkKyctYWN0aW9uICcrdGhlbWUuaWQrJy1uYW1lJ30sIFxuXG5cdFx0XHRcdHRoZW1lLnNjcmVlbnNob3QgPyAoXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcInRoZW1lLXNjcmVlbnNob3RcIn0sIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7c3JjOiB0aGVtZS5zY3JlZW5zaG90LCBhbHQ6IFwiXCJ9KVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KSA6IChcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwidGhlbWUtc2NyZWVuc2hvdCBibGFua1wifSlcblx0XHRcdFx0KSwgXG5cdFx0XHRcdCF0aGVtZS5hY3RpdmUgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtjbGFzc05hbWU6IFwibW9yZS1kZXRhaWxzXCJ9LCB0aGVtZS5pbnN0YWxsZWQgPyAnQ2xpY2sgdG8gc2VsZWN0JyA6ICdDbGljayB0byBpbnN0YWxsJykpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIHtjbGFzc05hbWU6IFwidGhlbWUtbmFtZVwiLCBpZDogdGhlbWUuaWQrJy1uYW1lJ30sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIHRoZW1lLmFjdGl2ZSA/ICdTZWxlY3RlZDonIDogJycpLCBcIiBcIiwgdGhlbWUubmFtZSlcblx0XHRcdClcblx0XHQpO1xuXHR9LFxuXG5cdF9yZW5kZXJQb3B1bGFyVGhlbWVMaXN0OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5zdGF0ZS5wb3B1bGFyVGhlbWVzLm1hcCggdGhpcy5fcmVuZGVyVGhlbWUgKTtcblx0fSxcblxuXHRfcmVuZGVyVGhlbWVMaXN0OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5zdGF0ZS50aGVtZXMubWFwKCB0aGlzLl9yZW5kZXJUaGVtZSApO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBEZXNpZ25TdGVwOyIsIi8qKlxuICogRGlzcGxheXMgYSBmbGFzaCBtZXNzYWdlLCBpZiBzZXQuXG4gKiBKU09OIHN0cnVjdHVyZTpcbiAqIHsgc2V2ZXJpdHk6ICdub3RpY2UnLCBtZXNzYWdlOiAnTXkgbWVzc2FnZScgfVxuICpcbiAqIFZhbGlkIHNldmVyaXRpZXM6XG4gKiAtIGVycm9yLCBub3RpY2VcbiAqL1xuXG52YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdy5SZWFjdCA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwuUmVhY3QgOiBudWxsKSxcblx0Rmxhc2hTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9mbGFzaC1zdG9yZScpO1xuXG5mdW5jdGlvbiBnZXRGbGFzaFN0YXRlKCkge1xuXHRyZXR1cm4gRmxhc2hTdG9yZS5nZXRGbGFzaCgpO1xufVxuXG52YXIgRmxhc2ggPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiRmxhc2hcIixcblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdEZsYXNoU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRGbGFzaFN0b3JlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0fSxcblxuXHRfb25DaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICAgIFx0dGhpcy5zZXRTdGF0ZShnZXRGbGFzaFN0YXRlKCkpO1xuICBcdH0sXG5cblx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZ2V0Rmxhc2hTdGF0ZSgpO1xuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCB0aGlzLnN0YXRlLm1lc3NhZ2UgKSB7XG5cdFx0XHRyZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogdGhpcy5zdGF0ZS5zZXZlcml0eSArICcgdXBkYXRlZCd9LCB0aGlzLnN0YXRlLm1lc3NhZ2UpKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBGbGFzaDsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdy5SZWFjdCA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwuUmVhY3QgOiBudWxsKSxcblx0U2V0dXBQcm9ncmVzc1N0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NldHVwLXByb2dyZXNzLXN0b3JlJyksXG5cdFNldHVwUHJvZ3Jlc3NBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zZXR1cC1wcm9ncmVzcy1hY3Rpb25zJyksXG5cdEJ1dHRvbiA9IHJlcXVpcmUoJ0BhdXRvbWF0dGljL2RvcHMtcmVhY3QvanMvY29tcG9uZW50cy9idXR0b24nKTtcblxuZnVuY3Rpb24gZ2V0U2V0dXBTdGF0ZSgpIHtcblx0cmV0dXJuIHt9O1xufVxuXG52YXIgR2V0U3RhcnRlZCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJHZXRTdGFydGVkXCIsXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTZXR1cFByb2dyZXNzU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTZXR1cFByb2dyZXNzU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdF9vbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgXHR0aGlzLnNldFN0YXRlKGdldFNldHVwU3RhdGUoKSk7XG4gIFx0fSxcblxuXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBnZXRTZXR1cFN0YXRlKCk7XG5cdH0sXG5cblx0aGFuZGxlR2V0U3RhcnRlZDogZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRTZXR1cFByb2dyZXNzQWN0aW9ucy5nZXRTdGFydGVkKCk7XG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcImdldHRpbmctc3RhcnRlZF9faW50cm9cIn0sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJZb3UncmUgYWxtb3N0IGRvbmUhXCIpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJnZXR0aW5nLXN0YXJ0ZWRfX3N1YmhlYWRcIn0sIFxuXHRcdFx0XHRcdFwiVGFrZSB0aGVzZSBzdGVwcyB0byBzdXBlcmNoYXJnZSB5b3VyIFdvcmRQcmVzcyBzaXRlLlwiXG5cdFx0XHRcdCksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcImdldHRpbmctc3RhcnRlZF9fYWN0aW9uXCJ9LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2NvbG9yOiBcImdyZWVuXCIsIHNpemU6IFwiYmlnXCIsIHRoZW1lOiBcImpldHBhY2tcIiwgb25DbGljazogdGhpcy5oYW5kbGVHZXRTdGFydGVkfSwgXCJHZXQgU3RhcnRlZCDihpJcIilcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEdldFN0YXJ0ZWQ7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cuUmVhY3QgOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsLlJlYWN0IDogbnVsbCksXG5cdFNpdGVTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zaXRlLXN0b3JlJyksXG5cdFNpdGVBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zaXRlLWFjdGlvbnMnKSxcblx0UGF0aHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1wYXRocycpO1xuXG5mdW5jdGlvbiBnZXRKZXRwYWNrUHJvZ3Jlc3MoKSB7XG5cdHJldHVybiB7IFxuXHRcdGpldHBhY2tDb25maWd1cmVkOiBTaXRlU3RvcmUuZ2V0SmV0cGFja0NvbmZpZ3VyZWQoKVxuXHR9O1xufVxuXG52YXIgSmV0cGFja0p1bXBzdGFydE1lbnUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiSmV0cGFja0p1bXBzdGFydE1lbnVcIixcblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0X29uQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICBcdHRoaXMuc2V0U3RhdGUoZ2V0SmV0cGFja1Byb2dyZXNzKCkpO1xuICBcdH0sXG5cbiAgXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBnZXRKZXRwYWNrUHJvZ3Jlc3MoKTtcblx0fSxcblxuXHRoYW5kbGVDbGlja0Nvbm5lY3Q6IGZ1bmN0aW9uKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0Y29uc29sZS5sb2coXCJjbGlja2VkXCIpO1xuXHRcdFNpdGVBY3Rpb25zLmNvbmZpZ3VyZUpldHBhY2soUGF0aHMuSkVUUEFDS19NT0RVTEVTX1NURVBfU0xVRyk7XG5cdH0sXG5cblx0c3R5bGU6IHtcblx0XHRjb2xvcjogJ2JsYWNrJyxcblx0XHRmb250U2l6ZTogMTJcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZTogdGhpcy5zdHlsZX0sIFxuXHRcdFx0XHR0aGlzLnN0YXRlLmpldHBhY2tDb25maWd1cmVkID8gKFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbClcblx0XHRcdFx0KSA6IChcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0XCJCb29zdCB0cmFmZmljLCBlbmhhbmNlIHNlY3VyaXR5LCBhbmQgaW1wcm92ZSBwZXJmb3JtYW5jZSB3aXRoIGEgY29ubmVjdGlvbiB0byBXb3JkUHJlc3MuY29tXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiclwiLCBudWxsKSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7Y2xhc3NOYW1lOiBcImJ1dHRvbiBidXR0b24tcHJpbWFyeSBidXR0b24tbGFyZ2VcIiwgaHJlZjogXCIjXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ2xpY2tDb25uZWN0fSwgXCJDb25uZWN0IHRvIFdvcmRQcmVzcy5jb21cIilcblx0XHRcdFx0XHQpXG5cdFx0XHRcdClcblx0XHRcdFx0XG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gSmV0cGFja0p1bXBzdGFydE1lbnU7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cuUmVhY3QgOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsLlJlYWN0IDogbnVsbCksXG5cdFNraXBCdXR0b24gPSByZXF1aXJlKCcuL3NraXAtYnV0dG9uJyksXG5cdFNpdGVTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zaXRlLXN0b3JlJyksXG5cdFNpdGVBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zaXRlLWFjdGlvbnMnKSxcblx0UGF0aHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1wYXRocycpLCBcblx0Q29udGVudEJveCA9IHJlcXVpcmUoJy4vY29udGVudC1ib3gnKSxcblx0U2V0dXBQcm9ncmVzc0FjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3NldHVwLXByb2dyZXNzLWFjdGlvbnMnKSxcblx0U3Bpbm5lclN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NwaW5uZXItc3RvcmUnKSxcblx0QnV0dG9uID0gcmVxdWlyZSgnQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9qcy9jb21wb25lbnRzL2J1dHRvbicpO1xuXG5mdW5jdGlvbiBnZXRKZXRwYWNrU3RhdGUoKSB7XG5cdHJldHVybiB7XG5cdFx0c2l0ZV90aXRsZTogU2l0ZVN0b3JlLmdldFRpdGxlKCksXG5cdFx0amV0cGFja0NvbmZpZ3VyZWQ6IFNpdGVTdG9yZS5nZXRKZXRwYWNrQ29uZmlndXJlZCgpLFxuXHRcdGp1bXBzdGFydEVuYWJsZWQ6IFNpdGVTdG9yZS5nZXRKZXRwYWNrSnVtcHN0YXJ0RW5hYmxlZCgpLFxuXHRcdG1vZHVsZXNFbmFibGVkOiBTaXRlU3RvcmUuZ2V0QWN0aXZlTW9kdWxlU2x1Z3MoKVx0XG5cdH07XG59XG5cbnZhciBKZXRwYWNrSnVtcHN0YXJ0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIkpldHBhY2tKdW1wc3RhcnRcIixcblxuXHRjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0U2l0ZVN0b3JlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0fSxcblxuXHRjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0U2l0ZVN0b3JlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0fSxcblxuXHRfb25DaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICAgIFx0dGhpcy5zZXRTdGF0ZShnZXRKZXRwYWNrU3RhdGUoKSk7XG4gIFx0fSxcblxuXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBzdGF0ZSA9IGdldEpldHBhY2tTdGF0ZSgpO1xuXHRcdHN0YXRlLnNob3dNb3JlTW9kdWxlcyA9IGZhbHNlO1xuXHRcdHJldHVybiBzdGF0ZTtcblx0fSxcblxuXHRoYW5kbGVKZXRwYWNrQ29ubmVjdDogZnVuY3Rpb24gKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRTaXRlQWN0aW9ucy5jb25maWd1cmVKZXRwYWNrKFBhdGhzLkpFVFBBQ0tfTU9EVUxFU19TVEVQX1NMVUcpO1xuXHR9LFxuXG5cdGhhbmRsZUNoYW5nZU1vZHVsZVN0YXR1czogZnVuY3Rpb24gKGUpIHtcblx0XHR2YXIgJHRhcmdldCA9IGpRdWVyeShlLmN1cnJlbnRUYXJnZXQpLFxuXHRcdFx0bW9kdWxlX3NsdWcgPSAkdGFyZ2V0LmRhdGEoJ21vZHVsZS1zbHVnJyk7XG5cblx0XHRpZiAoIFNpdGVTdG9yZS5pc0pldHBhY2tNb2R1bGVFbmFibGVkKG1vZHVsZV9zbHVnKSApIHtcblx0XHRcdFNpdGVBY3Rpb25zLmRlYWN0aXZhdGVKZXRwYWNrTW9kdWxlKG1vZHVsZV9zbHVnKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0U2l0ZUFjdGlvbnMuYWN0aXZhdGVKZXRwYWNrTW9kdWxlKG1vZHVsZV9zbHVnKTtcblx0XHR9XG5cdH0sXG5cblx0aGFuZGxlRW5hYmxlQWxsTW9kdWxlczogZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRTaXRlQWN0aW9ucy5lbmFibGVKdW1wc3RhcnQoKTtcblx0fSxcblxuXHRoYW5kbGVOZXh0OiBmdW5jdGlvbiAoZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFNldHVwUHJvZ3Jlc3NBY3Rpb25zLmNvbXBsZXRlQW5kTmV4dFN0ZXAoUGF0aHMuSkVUUEFDS19NT0RVTEVTX1NURVBfU0xVRyk7XG5cdH0sXG5cblx0aGFuZGxlU2hvd01vcmVNb2R1bGVzOiBmdW5jdGlvbiAoZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcblx0XHRTaXRlQWN0aW9ucy5sb2FkQWxsSmV0cGFja01vZHVsZXMoKS5kb25lKGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7c2hvd01vcmVNb2R1bGVzOiB0cnVlfSk7XG5cdFx0fS5iaW5kKHRoaXMpKTtcblx0fSxcblxuXHRoYW5kbGVTaG93RmV3ZXJNb2R1bGVzOiBmdW5jdGlvbiAoZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR0aGlzLnNldFN0YXRlKHtzaG93TW9yZU1vZHVsZXM6IGZhbHNlfSk7XG5cdH0sXG5cblx0X3JlbmRlck1vZHVsZTogZnVuY3Rpb24obW9kdWxlKSB7XG5cdFx0dmFyIGlzQWN0aXZlID0gU2l0ZVN0b3JlLmlzSmV0cGFja01vZHVsZUVuYWJsZWQobW9kdWxlLnNsdWcpO1xuXHRcdHZhciBtb2R1bGVJZCA9ICdqcC1tb2R1bGUtJyttb2R1bGUuc2x1Zztcblx0XHRcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7a2V5OiAnbW9kdWxlcy0nK21vZHVsZS5zbHVnLCBjbGFzc05hbWU6IFwid2VsY29tZV9fanVtcHN0YXJ0X21vZHVsZVwifSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7aWQ6IG1vZHVsZUlkLCB0eXBlOiBcImNoZWNrYm94XCIsIGNoZWNrZWQ6IGlzQWN0aXZlLCBcImRhdGEtbW9kdWxlLXNsdWdcIjogbW9kdWxlLnNsdWcsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZU1vZHVsZVN0YXR1c30pLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImxhYmVsXCIsIHtodG1sRm9yOiBtb2R1bGVJZH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdHJvbmdcIiwgbnVsbCwgbW9kdWxlLm5hbWUpKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzbWFsbFwiLCB7Y2xhc3NOYW1lOiBcImp1bXBzdGFydF9tb2R1bGVfX2Rlc2NyaXB0aW9uXCIsIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7X19odG1sOiBtb2R1bGUuZGVzY3JpcHRpb259fSksIFxuXHRcdFx0XHRpc0FjdGl2ZSAmJiBtb2R1bGUuY29uZmlndXJlX3VybCAmJiAoXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInNtYWxsXCIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHt0YXJnZXQ6IFwiX2NvbmZpZ3VyZVwiLCBocmVmOiBtb2R1bGUuY29uZmlndXJlX3VybH0sIFwiY29uZmlndXJlXCIpKVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBtb2R1bGVPdmVybGF5LCBtb2R1bGVPdmVybGF5Qm9keTtcblxuXG5cdFx0aWYgKCAhIHRoaXMuc3RhdGUuamV0cGFja0NvbmZpZ3VyZWQgJiYgIVNwaW5uZXJTdG9yZS5zaG93aW5nKCkgKSB7XG5cdFx0XHRtb2R1bGVPdmVybGF5ID0gKFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwid2VsY29tZV9fanVtcHN0YXJ0X292ZXJsYXlcIn0pXG5cdFx0XHQpO1xuXHRcdFx0bW9kdWxlT3ZlcmxheUJvZHkgPSAoXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ3ZWxjb21lX19qdW1wc3RhcnRfb3ZlcmxheV9fYm9keVwifSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwgbnVsbCwgXCJUaGVzZSBtb2R1bGVzIHJlcXVpcmUgYSBXb3JkUHJlc3MuY29tIGFjY291bnQgLSBpdCdzIGZyZWUhXCIpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7aHJlZjogXCIjXCIsIGNsYXNzTmFtZTogXCJkb3dubG9hZC1qZXRwYWNrXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlSmV0cGFja0Nvbm5lY3R9LCBcIkNvbm5lY3QgdG8gV29yZFByZXNzLmNvbVwiKSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFNraXBCdXR0b24sIG51bGwpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHZhciBtb2R1bGVEZXNjcmlwdGlvbnMgPSBTaXRlU3RvcmUuZ2V0SnVtcHN0YXJ0TW9kdWxlcygpLm1hcCh0aGlzLl9yZW5kZXJNb2R1bGUpO1xuXHRcdHZhciBtb3JlTW9kdWxlRGVzY3JpcHRpb25zID0gU2l0ZVN0b3JlLmdldEpldHBhY2tBZGRpdGlvbmFsTW9kdWxlcygpLm1hcCh0aGlzLl9yZW5kZXJNb2R1bGUpO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ3ZWxjb21lX19zZWN0aW9uXCJ9LCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiTGV0J3MgbGF1bmNoIFwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZW1cIiwgbnVsbCwgdGhpcy5zdGF0ZS5zaXRlX3RpdGxlKSksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDRcIiwgbnVsbCwgXCJFbmFibGUgSmV0cGFjayBmZWF0dXJlc1wiKSwgXG5cdFx0XHRcdHRoaXMuc3RhdGUuamV0cGFja0NvbmZpZ3VyZWQgJiYgKFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7Y2xhc3NOYW1lOiBcImpldHBhY2stbG9nb1wifSwgXCJQb3dlcmVkIGJ5XCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiclwiLCBudWxsKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge2hyZWY6IFwiaHR0cDovLzE5Mi4xNjguNTkuMTAzL3dwLWFkbWluL2FkbWluLnBocD9wYWdlPWpldHBhY2tcIiwgdGl0bGU6IFwiSmV0cGFja1wiLCBjbGFzc05hbWU6IFwiY3VycmVudFwifSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgXCJKZXRwYWNrXCIpKSksIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJzdGVwLWRlc2NyaXB0aW9uXCJ9LCBcIkNvbmdyYXR1bGF0aW9ucyEgWW91J3ZlIGVuYWJsZWQgSmV0cGFjayBhbmQgdW5sb2NrZWQgZG96ZW5zIG9mIHBvd2VyZnVsIGZlYXR1cmVzLlwiKSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcInN0ZXAtZGVzY3JpcHRpb25cIn0sIFwiQ2hlY2sgdGhlIGJveGVzIGJlbG93IHRvIGVuYWJsZSBvdXIgbW9zdCBwb3B1bGFyIGZlYXR1cmVzLlwiKVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ3ZWxjb21lX19jb25uZWN0XCJ9LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwid2VsY29tZV9fanVtcHN0YXJ0X3dyYXBwZXJcIn0sIFxuXHRcdFx0XHRcdFx0bW9kdWxlT3ZlcmxheSwgXG5cdFx0XHRcdFx0XHRtb2R1bGVPdmVybGF5Qm9keSwgXG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdHRoaXMuc3RhdGUuamV0cGFja0NvbmZpZ3VyZWQgJiYgKFxuXHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwic3VibWl0XCJ9LCBcblx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge3N0eWxlOiB7ZmxvYXQ6ICdyaWdodCd9LCBjb2xvcjogXCJibHVlXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlTmV4dH0sIFwiTmV4dCBTdGVwIOKGklwiKSwgXG5cdFx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcImNsZWFyXCJ9KVxuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHQpLCBcblxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChDb250ZW50Qm94LCBudWxsLCBcblx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiUG9wdWxhciBmZWF0dXJlc1wiICsgJyAnICtcblxuXHRcdFx0XHRcdFx0XHRcdFwiwqDCoFwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2Rpc2FibGVkOiB0aGlzLnN0YXRlLmp1bXBzdGFydEVuYWJsZWQsIGNvbG9yOiBcImJsdWVcIiwgb25DbGljazogdGhpcy5oYW5kbGVFbmFibGVBbGxNb2R1bGVzfSwgdGhpcy5zdGF0ZS5qdW1wc3RhcnRFbmFibGVkID8gJ0VuYWJsZWQnIDogJ0VuYWJsZSBhbGwgKHJlY29tbWVuZGVkKScpXG5cdFx0XHRcdFx0XHRcdCksIFxuXHRcdFx0XHRcdFx0XHRtb2R1bGVEZXNjcmlwdGlvbnNcblx0XHRcdFx0XHRcdCksIFxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHR0aGlzLnN0YXRlLnNob3dNb3JlTW9kdWxlcyA/IChcblx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJtb3JlXCJ9LCBcblx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7aHJlZjogXCIjXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlU2hvd0Zld2VyTW9kdWxlc30sIFwiaGlkZSBhZGRpdGlvbmFsIGZlYXR1cmVzXCIpXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCkgOiAoXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwibW9yZVwifSwgXG5cdFx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge2hyZWY6IFwiI1wiLCBvbkNsaWNrOiB0aGlzLmhhbmRsZVNob3dNb3JlTW9kdWxlc30sIFwic2hvdyBhZGRpdGlvbmFsIGZlYXR1cmVzXCIpXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCksIFxuXG5cdFx0XHRcdFx0XHR0aGlzLnN0YXRlLnNob3dNb3JlTW9kdWxlcyAmJiAoXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGVudEJveCwgbnVsbCwgXG5cdFx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiQWRkaXRpb25hbCBtb2R1bGVzXCIpLCBcblx0XHRcdFx0XHRcdFx0XHRtb3JlTW9kdWxlRGVzY3JpcHRpb25zXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHQpXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBKZXRwYWNrSnVtcHN0YXJ0OyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93LlJlYWN0IDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbC5SZWFjdCA6IG51bGwpLFxuXHRTaXRlU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2l0ZS1zdG9yZScpLFxuXHRCdXR0b24gPSByZXF1aXJlKCdAYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvYnV0dG9uJyksXG5cdFNldHVwUHJvZ3Jlc3NBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zZXR1cC1wcm9ncmVzcy1hY3Rpb25zJyk7XG5cbmZ1bmN0aW9uIGdldFNpdGVMYXlvdXRTdGF0ZSgpIHtcblx0cmV0dXJuIHtcblx0XHRzaXRlX3RpdGxlOiBTaXRlU3RvcmUuZ2V0VGl0bGUoKSxcblx0XHRsYXlvdXQ6IFNpdGVTdG9yZS5nZXRMYXlvdXQoKVxuXHR9O1xufVxuXG52YXIgTGF5b3V0U3RlcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJMYXlvdXRTdGVwXCIsXG5cblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0X29uQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICBcdHRoaXMuc2V0U3RhdGUoZ2V0U2l0ZUxheW91dFN0YXRlKCkpO1xuICBcdH0sXG5cblx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZ2V0U2l0ZUxheW91dFN0YXRlKCk7XG5cdH0sXG5cblx0aGFuZGxlU2V0TGF5b3V0OiBmdW5jdGlvbiggZSApIHtcblx0XHR0aGlzLnNldFN0YXRlKHsgbGF5b3V0OiBqUXVlcnkoZS5jdXJyZW50VGFyZ2V0KS52YWwoKSB9KTtcblx0fSxcblxuXHRoYW5kbGVTdWJtaXQ6IGZ1bmN0aW9uKCBlICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRTZXR1cFByb2dyZXNzQWN0aW9ucy5zdWJtaXRMYXlvdXRTdGVwKHRoaXMuc3RhdGUubGF5b3V0KTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwid2VsY29tZV9fc2VjdGlvblwiLCBpZDogXCJ3ZWxjb21lX19sYXlvdXRcIn0sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJMZXQncyBsYXVuY2ggXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJlbVwiLCBudWxsLCB0aGlzLnN0YXRlLnNpdGVfdGl0bGUpKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoNFwiLCBudWxsLCBcIlNlbGVjdCBhIGxheW91dFwiKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwic3RlcC1kZXNjcmlwdGlvblwifSwgXCJXb3JkUHJlc3MgY2FuIGJlIGEgYmxvZywgYSB3ZWIgc2l0ZSB3aXRoIGEgaGllcmFyY2h5IG9mIHN0YXRpYyBwYWdlcywgb3IgYSBjb21iaW5hdGlvbiBvZiB0aGUgdHdvLlwiKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIsIHtvblN1Ym1pdDogdGhpcy5oYW5kbGVTdWJtaXR9LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge3R5cGU6IFwicmFkaW9cIiwgbmFtZTogXCJzaXRlX2xheW91dFwiLCB2YWx1ZTogXCJ3ZWJzaXRlXCIsIGNoZWNrZWQ6IHRoaXMuc3RhdGUubGF5b3V0ID09PSAnd2Vic2l0ZScsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVNldExheW91dH0pLCBcIiBTdGF0aWMgV2Vic2l0ZVwiLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwiZGVzY3JpcHRpb25cIn0sIFwiQSB3ZWIgc2l0ZSB3aXRoIGEgaGllcmFyY2h5IG9mIHBhZ2VzXCIpXG5cdFx0XHRcdFx0KSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImJyXCIsIG51bGwpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge3R5cGU6IFwicmFkaW9cIiwgbmFtZTogXCJzaXRlX2xheW91dFwiLCB2YWx1ZTogXCJzaXRlLWJsb2dcIiwgY2hlY2tlZDogdGhpcy5zdGF0ZS5sYXlvdXQgPT09ICdzaXRlLWJsb2cnLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVTZXRMYXlvdXR9KSwgXCIgU3RhdGljIFdlYnNpdGUgd2l0aCBhIGJsb2dcIiwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcImRlc2NyaXB0aW9uXCJ9LCBcIkEgd2ViIHNpdGUgd2l0aCBwYWdlcyB0aGF0IGFsc28gaGFzIGEgYmxvZyBvciBuZXdzIHNlY3Rpb25cIilcblx0XHRcdFx0XHQpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7dHlwZTogXCJyYWRpb1wiLCBuYW1lOiBcInNpdGVfbGF5b3V0XCIsIHZhbHVlOiBcImJsb2dcIiwgY2hlY2tlZDogdGhpcy5zdGF0ZS5sYXlvdXQgPT09ICdibG9nJywgb25DaGFuZ2U6IHRoaXMuaGFuZGxlU2V0TGF5b3V0fSksIFwiIEp1c3QgYSBibG9nXCIsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJkZXNjcmlwdGlvblwifSwgXCJBIHdlYiBzaXRlIHRoYXQgd2lsbCBjb25zdGFudGx5IHNob3cgbmV3IGNvbnRlbnQgKGFydGljbGVzLCBwaG90b3MsIHZpZGVvcywgZXRjLilcIilcblx0XHRcdFx0XHQpLCBcblxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwic3VibWl0XCJ9LCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7Y29sb3I6IFwiYmx1ZVwifSwgXCJOZXh0IFN0ZXAg4oaSXCIpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gTGF5b3V0U3RlcDsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdy5SZWFjdCA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwuUmVhY3QgOiBudWxsKSxcblx0U2l0ZUFjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3NpdGUtYWN0aW9ucycpLFxuXHRTaXRlU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2l0ZS1zdG9yZScpLFxuXHRCdXR0b24gPSByZXF1aXJlKCdAYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvYnV0dG9uJyksXG5cdFNldHVwUHJvZ3Jlc3NBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zZXR1cC1wcm9ncmVzcy1hY3Rpb25zJyk7XG5cbmZ1bmN0aW9uIGdldFNpdGVUaXRsZVN0YXRlKCkge1xuXHRyZXR1cm4ge1xuXHRcdHRpdGxlOiBTaXRlU3RvcmUuZ2V0VGl0bGUoKSxcblx0XHRkZXNjcmlwdGlvbjogU2l0ZVN0b3JlLmdldERlc2NyaXB0aW9uKClcblx0fTtcbn1cblxudmFyIFNpdGVUaXRsZVN0ZXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiU2l0ZVRpdGxlU3RlcFwiLFxuXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdF9vbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgXHR0aGlzLnNldFN0YXRlKGdldFNpdGVUaXRsZVN0YXRlKCkpO1xuICBcdH0sXG5cblx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZ2V0U2l0ZVRpdGxlU3RhdGUoKTtcblx0fSxcblxuXHRoYW5kbGVDaGFuZ2VUaXRsZTogZnVuY3Rpb24oZSkge1xuXHRcdFNpdGVBY3Rpb25zLnNldFRpdGxlKGUuY3VycmVudFRhcmdldC52YWx1ZSk7XG5cdH0sXG5cblx0aGFuZGxlQ2hhbmdlRGVzY3JpcHRpb246IGZ1bmN0aW9uKGUpIHtcblx0XHRTaXRlQWN0aW9ucy5zZXREZXNjcmlwdGlvbihlLmN1cnJlbnRUYXJnZXQudmFsdWUpO1xuXHR9LFxuXG5cdGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRTZXR1cFByb2dyZXNzQWN0aW9ucy5zdWJtaXRUaXRsZVN0ZXAoKTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwid2VsY29tZV9fc2VjdGlvblwiLCBpZDogXCJ3ZWxjb21lX19zaXRlLXRpdGxlXCJ9LCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiTGV0J3MgbGF1bmNoIHlvdXIgbmV3IHdlYnNpdGVcIiksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDRcIiwgbnVsbCwgXCJUaXRsZSBhbmQgRGVzY3JpcHRpb25cIiksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcInN0ZXAtZGVzY3JpcHRpb25cIn0sIFxuXHRcdFx0XHRcdFwiTWFrZSB5b3VyIHNpdGUgc3RhbmQgb3V0IHdpdGggYSBjYXRjaHkgbmFtZS5cIlxuXHRcdFx0XHQpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImZvcm1cIiwge29uU3VibWl0OiB0aGlzLmhhbmRsZVN1Ym1pdH0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiLCB7Y2xhc3NOYW1lOiBcImZvcm0tdGFibGVcIn0sIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInRib2R5XCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwidHJcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInRoXCIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCB7aHRtbEZvcjogXCJzaXRlX3RpdGxlXCJ9LCBcIlNpdGUgVGl0bGVcIikpLCBcblx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwidGRcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge3R5cGU6IFwidGV4dFwiLCBuYW1lOiBcInNpdGVfdGl0bGVcIiwgaWQ6IFwic2l0ZS10aXRsZVwiLCBhdXRvQ29tcGxldGU6IFwib2ZmXCIsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZVRpdGxlLCB2YWx1ZTogdGhpcy5zdGF0ZS50aXRsZSwgXG5cdFx0XHRcdFx0ICAgICAgIHBsYWNlaG9sZGVyOiBcIlNpdGUgVGl0bGUgKHRoaXMgY2FuIGJlIGNoYW5nZWQgbGF0ZXIpXCIsIHJlcXVpcmVkOiB0cnVlfSksIFxuXHRcdFx0XHRcdCAgICAgICBcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcImRlc2NyaXB0aW9uXCJ9LCBcIlRoZSBuYW1lIG9mIHlvdXIgc2l0ZS4gVGhpcyB0aXRsZSBhcHBlYXJzIGF0IHRoZSB0b3Agb2YgcGFnZXMgYW5kIGluIHNlYXJjaCByZXN1bHRzLlwiKVxuXHRcdFx0XHRcdCAgICAgICBcdFx0KVxuXHRcdFx0XHRcdCAgICAgIFx0KSwgXG5cdFx0XHRcdFx0ICAgICAgXHRSZWFjdC5jcmVhdGVFbGVtZW50KFwidHJcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInRoXCIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCB7aHRtbEZvcjogXCJzaXRlX2Rlc2NyaXB0aW9uXCJ9LCBcIlNpdGUgRGVzY3JpcHRpb25cIikpLCBcblx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwidGRcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge3R5cGU6IFwidGV4dFwiLCBuYW1lOiBcInNpdGVfZGVzY3JpcHRpb25cIiwgaWQ6IFwic2l0ZS1kZXNjcmlwdGlvblwiLCBhdXRvQ29tcGxldGU6IFwib2ZmXCIsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZURlc2NyaXB0aW9uLCB2YWx1ZTogdGhpcy5zdGF0ZS5kZXNjcmlwdGlvbiwgXG5cdFx0XHRcdFx0ICAgICAgIHBsYWNlaG9sZGVyOiBcIlNpdGUgRGVzY3JpcHRpb25cIiwgcmVxdWlyZWQ6IHRydWV9KSwgXG5cdFx0XHRcdFx0ICAgICAgIFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwiZGVzY3JpcHRpb25cIn0sIFwiQSBtb3R0byBvciB0YWdsaW5lLiBUaGlzIGFwcGVhcnMgYmVsb3cgdGhlIHRpdGxlIG9uIHlvdXIgc2l0ZSwgYW5kIG5leHQgdG8gdGhlIHRpdGxlIGluIHNlYXJjaCByZXN1bHRzLiBUcnkgdG8gYmUgYnJpZWYgYW5kIGRlc2NyaXB0aXZlLCBlLmcuIFxcXCJZb3VyIG9ubGluZSBiYWl0IGFuZCB0YWNrbGUgc3RvcmVcXFwiXCIpXG5cdFx0XHRcdFx0ICAgICAgIFx0XHQpXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHQpLCBcblxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwic3VibWl0XCJ9LCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7Y29sb3I6IFwiYmx1ZVwifSwgXCJOZXh0IFN0ZXAg4oaSXCIpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU2l0ZVRpdGxlU3RlcDsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdy5SZWFjdCA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwuUmVhY3QgOiBudWxsKSxcblx0U2V0dXBQcm9ncmVzc1N0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NldHVwLXByb2dyZXNzLXN0b3JlJyksXG5cdFNldHVwUHJvZ3Jlc3NBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zZXR1cC1wcm9ncmVzcy1hY3Rpb25zJyk7XG5cbmZ1bmN0aW9uIGdldFNldHVwUHJvZ3Jlc3MoKSB7XG5cdHJldHVybiB7XG5cdFx0Y29tcGxldGVkOiBTZXR1cFByb2dyZXNzU3RvcmUuZ2V0Q3VycmVudFN0ZXAoKS5jb21wbGV0ZWRcblx0fTtcbn1cblxudmFyIFNraXBCdXR0b24gPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiU2tpcEJ1dHRvblwiLFxuXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTZXR1cFByb2dyZXNzU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTZXR1cFByb2dyZXNzU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdF9vbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgXHR0aGlzLnNldFN0YXRlKGdldFNldHVwUHJvZ3Jlc3MoKSk7XG4gIFx0fSxcblxuICBcdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGdldFNldHVwUHJvZ3Jlc3MoKTtcblx0fSxcblxuXHRoYW5kbGVTa2lwOiBmdW5jdGlvbiAoZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRTZXR1cFByb2dyZXNzQWN0aW9ucy5za2lwU3RlcCgpO1xuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGNvbXBsZXRlZCA9ICh0aGlzLnN0YXRlLmNvbXBsZXRlZCk7XG5cdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7Y2xhc3NOYW1lOiBcInNraXBcIiwgaHJlZjogXCIjXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlU2tpcH0sIFwiTm90IG5vd1wiKSk7XG5cdFx0fVxuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBTa2lwQnV0dG9uOyIsIlxudmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cuUmVhY3QgOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsLlJlYWN0IDogbnVsbCk7XG5cbnZhciBUb29sdGlwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIlRvb2x0aXBcIixcblx0cHJvcFR5cGVzOiB7XG5cdFx0bGVmdDogUmVhY3QuUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLCAgLy8gZS5nLiA2MDBcblx0XHR0b3A6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCwgICAvL2UuZy4gMTU3XG5cdFx0d2lkdGg6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCwgLy9lLmcuIDMyMFxuXHRcdHRpdGxlOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsICAvLyBlLmcuIERpc3RyYWN0aW9uLUZyZWUgV3JpdGluZ1xuXHR9LFxuXG5cdGhhbmRsZURpc21pc3M6IGZ1bmN0aW9uICggZSApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdH0sXG5cblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9yZWNvbXB1dGVQb3NpdGlvbigpO1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9yZWNvbXB1dGVQb3NpdGlvbigpO1xuXHR9LFxuXG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRyZWFsVG9wOiB0aGlzLnByb3BzLnRvcFxuXHRcdH07XG5cdH0sXG5cblx0X3JlY29tcHV0ZVBvc2l0aW9uOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyICR3cmFwcGVyID0galF1ZXJ5KFJlYWN0LmZpbmRET01Ob2RlKHRoaXMucmVmcy53cmFwcGVyKSk7XG5cblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdHJlYWxUb3A6IHRoaXMucHJvcHMudG9wIC0gKCR3cmFwcGVyLm91dGVySGVpZ2h0KCkvMilcblx0XHR9KTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtyZWY6IFwid3JhcHBlclwiLCBjbGFzc05hbWU6IFwid3AtcG9pbnRlciB3cC1wb2ludGVyLWxlZnRcIiwgc3R5bGU6IHtwb3NpdGlvbjogJ2Fic29sdXRlJywgd2lkdGg6IHRoaXMucHJvcHMud2lkdGgsIHRvcDogdGhpcy5zdGF0ZS5yZWFsVG9wLCBsZWZ0OiB0aGlzLnByb3BzLmxlZnQsIHpJbmRleDogOTk5OX19LCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcIndwLXBvaW50ZXItY29udGVudFwifSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIHRoaXMucHJvcHMudGl0bGUpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCBudWxsLCB0aGlzLnByb3BzLmNoaWxkcmVuKVxuXHRcdFx0XHQpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcIndwLXBvaW50ZXItYXJyb3dcIn0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ3cC1wb2ludGVyLWFycm93LWlubmVyXCJ9KVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gVG9vbHRpcDsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdy5SZWFjdCA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwuUmVhY3QgOiBudWxsKSxcblx0UHJvZ3Jlc3NCYXIgPSByZXF1aXJlKCdAYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvcHJvZ3Jlc3MtYmFyJyksXG5cdFNldHVwUHJvZ3Jlc3NBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zZXR1cC1wcm9ncmVzcy1hY3Rpb25zJyk7XG5cbnZhciBzdGVwU2hhcGUgPSBSZWFjdC5Qcm9wVHlwZXMuc2hhcGUoe1xuXHRuYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG5cdHNsdWc6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmdcbn0pO1xuXG4vKipcbiAqIFRoZSBtZW51IHdoaWNoIGFsbG93cyB0aGUgdXNlciB0byBzd2l0Y2ggc3RlcHNcbiAqKi9cbnZhciBXZWxjb21lTWVudSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJXZWxjb21lTWVudVwiLFxuXHRcblx0cHJvcFR5cGVzOiB7XG5cdFx0Y3VycmVudFN0ZXA6IHN0ZXBTaGFwZS5pc1JlcXVpcmVkLFxuXHRcdGNsaWNrYWJsZTogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdFx0YWxsU3RlcHM6IFJlYWN0LlByb3BUeXBlcy5hcnJheU9mKHN0ZXBTaGFwZSkuaXNSZXF1aXJlZCxcblx0XHRwcm9ncmVzc1BlcmNlbnQ6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxuXHR9LFxuXG5cdGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGNsaWNrYWJsZTogdHJ1ZVxuXHRcdH07XG5cdH0sXG5cblx0c2VsZWN0U3RlcDogZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcblx0XHR2YXIgc2x1ZyA9IGpRdWVyeShlLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ3N0ZXAtc2x1ZycpO1xuXG5cdFx0U2V0dXBQcm9ncmVzc0FjdGlvbnMuc2V0Q3VycmVudFN0ZXAoc2x1Zyk7XG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBtZW51SXRlbXMgPSB0aGlzLnByb3BzLmFsbFN0ZXBzLm1hcChmdW5jdGlvbiAoIHN0ZXAgKSB7XG5cdFx0XHR2YXIgdGl0bGUsIGN1cnJlbnQsIHN0YXR1cywgbWVudVZpZXc7XG5cblx0XHRcdGlmICggdGhpcy5wcm9wcy5jbGlja2FibGUgJiYgdGhpcy5wcm9wcy5jdXJyZW50U3RlcCApIHtcblx0XHRcdFx0Y3VycmVudCA9ICggdGhpcy5wcm9wcy5jdXJyZW50U3RlcC5zbHVnID09IHN0ZXAuc2x1ZyApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoICFzdGVwLnN0YXRpYyAmJiB0aGlzLnByb3BzLmNsaWNrYWJsZSApIHtcblx0XHRcdFx0dGl0bGUgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7aHJlZjogXCIjXCIsIFwiZGF0YS1zdGVwLXNsdWdcIjogc3RlcC5zbHVnLCBvbkNsaWNrOiB0aGlzLnNlbGVjdFN0ZXB9LCBzdGVwLm5hbWUpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGl0bGUgPSBzdGVwLm5hbWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggc3RlcC5tZW51VmlldyAmJiB0aGlzLnByb3BzLmNsaWNrYWJsZSApIHtcblx0XHRcdFx0bWVudVZpZXcgPSBSZWFjdC5jcmVhdGVFbGVtZW50KHN0ZXAubWVudVZpZXcsIG51bGwpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdGF0dXMgPSBzdGVwLmNvbXBsZXRlZCA/ICdjb21wbGV0ZWQnIDogJyc7XG5cdFx0XHRcblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7a2V5OiBzdGVwLnNsdWcsIGNsYXNzTmFtZTogc3RhdHVzICsgKGN1cnJlbnQgPyAnIGN1cnJlbnQnIDogJycpfSwgXG5cdFx0XHRcdFx0dGl0bGUsIFwiIFwiLCBzdGVwLnNraXBwZWQgPyAnKHNraXBwZWQpJyA6IG51bGwsIFxuXHRcdFx0XHRcdG1lbnVWaWV3XG5cdFx0XHRcdClcblx0XHRcdCk7XG5cdFx0fS5iaW5kKHRoaXMpICk7XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcImdldHRpbmctc3RhcnRlZF9fc3RlcHNcIn0sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgXCJZb3VyIFByb2dyZXNzXCIpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChQcm9ncmVzc0Jhciwge3N0eWxlOiB7IGZsb2F0OiAnbGVmdCd9LCBwcm9ncmVzc1BlcmNlbnQ6IHRoaXMucHJvcHMucHJvZ3Jlc3NQZXJjZW50fSlcblx0XHRcdFx0XHQpXG5cdFx0XHRcdCksIFxuXHRcdFx0XHRcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcIm9sXCIsIG51bGwsIFxuXHRcdFx0XHRcdG1lbnVJdGVtc1xuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gV2VsY29tZU1lbnU7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cuUmVhY3QgOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsLlJlYWN0IDogbnVsbCksXG5cdFdlbGNvbWVNZW51ID0gcmVxdWlyZSgnLi93ZWxjb21lLW1lbnUnKSxcblx0U2V0dXBQcm9ncmVzc1N0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NldHVwLXByb2dyZXNzLXN0b3JlJyksXG5cdFNldHVwUHJvZ3Jlc3NBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zZXR1cC1wcm9ncmVzcy1hY3Rpb25zJyksXG5cdEZsYXNoID0gcmVxdWlyZSgnLi9mbGFzaCcpLFxuXHRHZXRTdGFydGVkID0gcmVxdWlyZSgnLi9nZXQtc3RhcnRlZCcpLFxuXHRTcGlubmVyU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc3Bpbm5lci1zdG9yZScpLFxuXHRTcGlubmVyQWN0aW9ucyA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvc3Bpbm5lci1hY3Rpb25zJyksXG5cdERhdGFTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9kYXRhLXN0b3JlJyk7XG5cbmZ1bmN0aW9uIGdldFNldHVwUHJvZ3Jlc3MoKSB7XG5cdHJldHVybiB7IFxuXHRcdG5ld1VzZXI6IFNldHVwUHJvZ3Jlc3NTdG9yZS5pc05ld1VzZXIoKSwgXG5cdFx0c2hvd1NwaW5uZXI6IFNwaW5uZXJTdG9yZS5zaG93aW5nKCksIFxuXHRcdHNwaW5uZXJNZXNzYWdlOiBTcGlubmVyU3RvcmUuZ2V0TWVzc2FnZSgpLCBcblx0XHRjdXJyZW50U3RlcDogU2V0dXBQcm9ncmVzc1N0b3JlLmdldEN1cnJlbnRTdGVwKCksIFxuXHRcdGFsbFN0ZXBzOiBTZXR1cFByb2dyZXNzU3RvcmUuZ2V0QWxsU3RlcHMoKSwgXG5cdFx0cHJvZ3Jlc3NQZXJjZW50OiBTZXR1cFByb2dyZXNzU3RvcmUuZ2V0UHJvZ3Jlc3NQZXJjZW50KCkgXG5cdH07XG59XG5cbi8vIFRPRE86IHZpc3VhbCBcInNhdmluZ1wiIGZvciB0aGlzLnN0YXRlLnNhdmluZ1xudmFyIFdlbGNvbWVXaWRnZXQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiV2VsY29tZVdpZGdldFwiLFxuXHRjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0U2V0dXBQcm9ncmVzc1N0b3JlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0XHRTcGlubmVyU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25TcGlubmVyQ2hhbmdlKTtcblx0XHREYXRhU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25EYXRhQ2hhbmdlKTtcblx0fSxcblxuXHRjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0U2V0dXBQcm9ncmVzc1N0b3JlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0XHRTcGlubmVyU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25TcGlubmVyQ2hhbmdlKTtcblx0XHREYXRhU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25EYXRhQ2hhbmdlKTtcblx0fSxcblxuXHRfb25DaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICAgIFx0dGhpcy5zZXRTdGF0ZShnZXRTZXR1cFByb2dyZXNzKCkpO1xuICBcdH0sXG5cbiAgXHRfb25TcGlubmVyQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgXHRcdHRoaXMuc2V0U3RhdGUoeyBzaG93U3Bpbm5lcjogU3Bpbm5lclN0b3JlLnNob3dpbmcoKSwgc3Bpbm5lck1lc3NhZ2U6IFNwaW5uZXJTdG9yZS5nZXRNZXNzYWdlKCkgfSk7XG4gIFx0fSxcblxuICBcdF9vbkRhdGFDaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICBcdFx0dGhpcy5zZXRTdGF0ZSh7IHNhdmluZzogRGF0YVN0b3JlLmlzU2F2aW5nKCkgfSk7XG4gIFx0fSxcblxuXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBnZXRTZXR1cFByb2dyZXNzKCk7XG5cdH0sXG5cblx0aGFuZGxlUmVzZXQ6IGZ1bmN0aW9uKCBlICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRTZXR1cFByb2dyZXNzQWN0aW9ucy5yZXNldERhdGEoKTtcblx0fSxcblxuXHRoYW5kbGVTaG93U3Bpbm5lcjogZnVuY3Rpb24gKCBlICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRTcGlubmVyQWN0aW9ucy5zaG93KFwiVGVzdGluZyBzcGlubmVyXCIpO1xuXHR9LFxuXG5cdGhhbmRsZUhpZGVTcGlubmVyOiBmdW5jdGlvbiAoIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFNwaW5uZXJBY3Rpb25zLmhpZGUoKTtcblx0fSxcblxuICBcdHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gIFx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcImdldHRpbmctc3RhcnRlZFwifSwgXG5cdFx0XHRcdHRoaXMuX3JlbmRlckRlYnVnKCksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwiZ2V0dGluZy1zdGFydGVkX193cmFwcGVyXCJ9LCBcblx0XHRcdFx0XHR0aGlzLl9yZW5kZXJTcGlubmVyKCksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJnZXR0aW5nLXN0YXJ0ZWRfX3NlY3Rpb25zXCJ9LCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoRmxhc2gsIG51bGwpLCBcblx0XHRcdFx0XHRcdHRoaXMuX3JlbmRlclNlY3Rpb24oKVxuXHRcdFx0XHRcdCksIFxuXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChXZWxjb21lTWVudSwge2NsaWNrYWJsZTogIXRoaXMuc3RhdGUubmV3VXNlciwgY3VycmVudFN0ZXA6IHRoaXMuc3RhdGUuY3VycmVudFN0ZXAsIGFsbFN0ZXBzOiB0aGlzLnN0YXRlLmFsbFN0ZXBzLCBwcm9ncmVzc1BlcmNlbnQ6IHRoaXMuc3RhdGUucHJvZ3Jlc3NQZXJjZW50fSksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJjbGVhclwifSlcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0X3JlbmRlclNlY3Rpb246IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggdGhpcy5zdGF0ZS5uZXdVc2VyICkge1xuICBcdFx0XHRyZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoR2V0U3RhcnRlZCwgbnVsbCkpO1xuICBcdFx0fSBlbHNlIHtcbiAgXHRcdFx0cmV0dXJuIHRoaXMuX3JlbmRlckN1cnJlbnRWaWV3KCk7XG4gIFx0XHR9XG5cdH0sXG5cblx0X3JlbmRlckRlYnVnOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoIEpQUy5kZWJ1ZyApIHtcbiAgXHRcdFx0cmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIFxuICBcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtocmVmOiBcIiNcIiwgY2xhc3NOYW1lOiBcImJ1dHRvblwiLCBvbkNsaWNrOiB0aGlzLmhhbmRsZVJlc2V0fSwgXCJSZXNldCBXaXphcmRcIiksIFxuICBcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtocmVmOiBcIiNcIiwgY2xhc3NOYW1lOiBcImJ1dHRvblwiLCBvbkNsaWNrOiB0aGlzLmhhbmRsZVNob3dTcGlubmVyfSwgXCJTaG93IHNwaW5uZXJcIiksIFxuICBcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtocmVmOiBcIiNcIiwgY2xhc3NOYW1lOiBcImJ1dHRvblwiLCBvbkNsaWNrOiB0aGlzLmhhbmRsZUhpZGVTcGlubmVyfSwgXCJIaWRlIHNwaW5uZXJcIilcbiAgXHRcdFx0KSk7XG4gIFx0XHR9IGVsc2Uge1xuICBcdFx0XHRyZXR1cm4gbnVsbDtcbiAgXHRcdH1cblx0fSxcblxuXHRfcmVuZGVyU3Bpbm5lcjogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCB0aGlzLnN0YXRlLnNob3dTcGlubmVyICkge1xuICBcdFx0XHRyZXR1cm4gKFxuICBcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJsb2FkaW5nXCJ9LCBcbiAgXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJsb2FkaW5nX19tZXNzYWdlXCJ9LCBcbiAgXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7c3JjOiBcIi93cC1hZG1pbi9pbWFnZXMvc3Bpbm5lci0yeC5naWZcIiwgd2lkdGg6IFwiMTZweFwiLCBoZWlnaHQ6IFwiMTZweFwifSksIFxuICBcdFx0XHRcdFx0XHRcIsKgwqBcIiwgdGhpcy5zdGF0ZS5zcGlubmVyTWVzc2FnZVxuICBcdFx0XHRcdFx0KVxuICBcdFx0XHRcdClcbiAgXHRcdFx0KTtcblxuICBcdFx0fSBlbHNlIHtcbiAgXHRcdFx0cmV0dXJuIG51bGw7XG4gIFx0XHR9XG5cdH0sXG5cblx0X3JlbmRlckN1cnJlbnRWaWV3OiBmdW5jdGlvbigpIHtcblx0XHRpZiAoIHRoaXMuc3RhdGUuY3VycmVudFN0ZXAgKSB7XG4gIFx0XHRcdHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCh0aGlzLnN0YXRlLmN1cnJlbnRTdGVwLndlbGNvbWVWaWV3LCBudWxsKSk7XG4gIFx0XHR9IGVsc2Uge1xuICBcdFx0XHRyZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCBcIk5vdGhpbmdcIikpO1xuICBcdFx0fVxuXHR9LFxuXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBXZWxjb21lV2lkZ2V0OyIsInZhciBrZXlNaXJyb3IgPSByZXF1aXJlKCdrZXltaXJyb3InKTtcblxubW9kdWxlLmV4cG9ydHMgPSBrZXlNaXJyb3Ioe1xuXHRTVEVQX0NPTVBMRVRFOiBudWxsLFxuXHRTVEVQX0dFVF9TVEFSVEVEOiBudWxsLFxuXHRTVEVQX1NFTEVDVDogbnVsbCxcblx0U1RFUF9ORVhUOiBudWxsLFxuXHRTVEVQX1NLSVA6IG51bGwsXG5cdFNJVEVfU0VUX1RJVExFOiBudWxsLFxuXHRTSVRFX1NFVF9ERVNDUklQVElPTjogbnVsbCxcblx0U0lURV9TQVZFX1RJVExFX0FORF9ERVNDUklQVElPTjogbnVsbCxcblx0U0lURV9TRVRfVEhFTUU6IG51bGwsXG5cdFNJVEVfSU5TVEFMTF9USEVNRTogbnVsbCxcblx0U0lURV9KRVRQQUNLX0NPTkZJR1VSRUQ6IG51bGwsXG5cdFNJVEVfSkVUUEFDS19NT0RVTEVfRU5BQkxFRDogbnVsbCxcblx0U0lURV9KRVRQQUNLX01PRFVMRV9ESVNBQkxFRDogbnVsbCxcblx0U0lURV9KRVRQQUNLX0pVTVBTVEFSVF9FTkFCTEVEOiBudWxsLFxuXHRTSVRFX0pFVFBBQ0tfQUREX01PRFVMRVM6IG51bGwsXG5cdFNJVEVfU0VUX0xBWU9VVDogbnVsbCxcblxuXHRTQVZFX1NUQVJURUQ6IG51bGwsXG5cdFNBVkVfRklOSVNIRUQ6IG51bGwsXG5cblx0U0VUX0ZMQVNIOiBudWxsLFxuXHRVTlNFVF9GTEFTSDogbnVsbCxcblx0RkxBU0hfU0VWRVJJVFlfTk9USUNFOiBudWxsLFxuXHRGTEFTSF9TRVZFUklUWV9FUlJPUjogbnVsbCxcblxuXHRSRVNFVF9EQVRBOiBudWxsLFxuXG5cdFNIT1dfU1BJTk5FUjogbnVsbCxcblx0SElERV9TUElOTkVSOiBudWxsXG59KTsiLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0Ly8gc3RlcHNcblx0U0lURV9USVRMRV9TVEVQX1NMVUc6ICd0aXRsZScsXG5cdExBWU9VVF9TVEVQX1NMVUc6ICdsYXlvdXQnLFxuXHRUUkFGRklDX1NURVBfU0xVRzogJ3RyYWZmaWMnLFxuXHRTVEFUU19NT05JVE9SSU5HX1NURVBfU0xVRzogJ3N0YXRzLW1vbml0b3JpbmcnLFxuXHRERVNJR05fU1RFUF9TTFVHOiAnZGVzaWduJyxcblx0QURWQU5DRURfU1RFUF9TTFVHOiAnYWR2YW5jZWQnLFxuXHRKRVRQQUNLX01PRFVMRVNfU1RFUF9TTFVHOiAnamV0cGFjaydcbn07IiwiLypcbiAqIENvcHlyaWdodCAoYykgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQXBwRGlzcGF0Y2hlclxuICpcbiAqIEEgc2luZ2xldG9uIHRoYXQgb3BlcmF0ZXMgYXMgdGhlIGNlbnRyYWwgaHViIGZvciBhcHBsaWNhdGlvbiB1cGRhdGVzLlxuICovXG5cbnZhciBEaXNwYXRjaGVyID0gcmVxdWlyZSgnZmx1eCcpLkRpc3BhdGNoZXI7XG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IERpc3BhdGNoZXIoKTsiLCJ2YXIgV2VsY29tZVBhbmVsID0gcmVxdWlyZSgnLi93ZWxjb21lLXBhbmVsJyk7XG5cbldlbGNvbWVQYW5lbCgpOyIsInZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuXHRFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXIsXG5cdEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LWNvbnN0YW50cycpO1xuXG4vKlxuICogVGhpcyBpcyBhIHJlZmNvdW50ZWQgc2F2ZSBtb25pdG9yIHdoaWNoIHdhcm5zIGlmIHlvdSB0cnkgdG8gbGVhdmUgdGhlIHBhZ2Ugd2hpbGUgdGhlIGRhdGEgaXMgc3RpbGwgc2F2aW5nXG4gKi9cblxudmFyIF9jdXJyZW50U2F2ZXMgPSAwLCBqcHNUaW1lb3V0LCBDSEFOR0VfRVZFTlQgPSAnY2hhbmdlJztcblxualF1ZXJ5KHdpbmRvdykub24oJ2JlZm9yZXVubG9hZCcsIGZ1bmN0aW9uKCkge1xuXHRpZihEYXRhU3RvcmUuaXNTYXZpbmcoKSkge1xuXHRcdGpwc1RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIC8vIGFsZXJ0KCdZb3Ugc3RheWVkJyk7XG5cdCAgICAgICAgLy8gbm9vcFxuXHQgICAgfSwgMTAwMCk7XG5cdCAgICByZXR1cm4gXCJZb3VyIHNpdGUgY2hhbmdlcyBhcmUgc3RpbGwgc2F2aW5nLlwiO1xuXHR9XG59KTtcblxualF1ZXJ5KHdpbmRvdykub24oJ3VubG9hZCcsIGZ1bmN0aW9uKCkge1xuXHRjbGVhclRpbWVvdXQoanBzVGltZW91dCk7XG59KTtcblxuZnVuY3Rpb24gaW5jcmVtZW50U2F2ZUNvdW50ZXIoKSB7XG5cdF9jdXJyZW50U2F2ZXMgPSBfY3VycmVudFNhdmVzICsgMTtcbn1cblxuZnVuY3Rpb24gZGVjcmVtZW50U2F2ZUNvdW50ZXIoKSB7XG5cdF9jdXJyZW50U2F2ZXMgPSBfY3VycmVudFNhdmVzIC0gMTtcbn1cblxudmFyIERhdGFTdG9yZSA9IF8uZXh0ZW5kKHt9LCBFdmVudEVtaXR0ZXIucHJvdG90eXBlLCB7XG5cdGlzU2F2aW5nOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gX2N1cnJlbnRTYXZlcyA+IDA7XG5cdH0sXG5cblx0YWRkQ2hhbmdlTGlzdGVuZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdFx0dGhpcy5vbihDSEFOR0VfRVZFTlQsIGNhbGxiYWNrKTtcblx0fSxcblxuXHRyZW1vdmVDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0XHR0aGlzLnJlbW92ZUxpc3RlbmVyKENIQU5HRV9FVkVOVCwgY2FsbGJhY2spO1xuXHR9LFxuXG5cdGVtaXRDaGFuZ2U6IGZ1bmN0aW9uKCkge1xuXHQgICAgdGhpcy5lbWl0KENIQU5HRV9FVkVOVCk7XG5cdH0sXG59KTtcblxuQXBwRGlzcGF0Y2hlci5yZWdpc3RlcihmdW5jdGlvbihhY3Rpb24pIHtcblxuICBzd2l0Y2goYWN0aW9uLmFjdGlvblR5cGUpIHtcbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TQVZFX1NUQVJURUQ6XG4gICAgXHRpbmNyZW1lbnRTYXZlQ291bnRlcigpO1xuXHRcdERhdGFTdG9yZS5lbWl0Q2hhbmdlKCk7XG5cdFx0YnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TQVZFX0ZJTklTSEVEOlxuICAgIFx0ZGVjcmVtZW50U2F2ZUNvdW50ZXIoKTtcbiAgICAgXHREYXRhU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICBcdGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIG5vIG9wXG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERhdGFTdG9yZTsiLCJ2YXIgQXBwRGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4uL2Rpc3BhdGNoZXIvYXBwLWRpc3BhdGNoZXInKSxcblx0RXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyLFxuXHRKUFNDb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1jb25zdGFudHMnKTtcblxudmFyIENIQU5HRV9FVkVOVCA9ICdjaGFuZ2UnO1xudmFyIG1lc3NhZ2UsIHNldmVyaXR5O1xuXG5mdW5jdGlvbiBzZXRGbGFzaChuZXdNZXNzYWdlLCBuZXdTZXZlcml0eSkge1xuXHRtZXNzYWdlID0gbmV3TWVzc2FnZTtcblx0c2V2ZXJpdHkgPSBuZXdTZXZlcml0eTtcbn1cblxudmFyIEZsYXNoU3RvcmUgPSBfLmV4dGVuZCh7fSwgRXZlbnRFbWl0dGVyLnByb3RvdHlwZSwge1xuXHRnZXRGbGFzaDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHNldmVyaXR5U3RyaW5nO1xuXG5cdFx0c3dpdGNoKHNldmVyaXR5KSB7XG5cdFx0XHRjYXNlIEpQU0NvbnN0YW50cy5GTEFTSF9TRVZFUklUWV9FUlJPUjpcblx0XHRcdFx0c2V2ZXJpdHlTdHJpbmcgPSAnZXJyb3InO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgSlBTQ29uc3RhbnRzLkZMQVNIX1NFVkVSSVRZX05PVElDRTpcblx0XHRcdFx0c2V2ZXJpdHlTdHJpbmcgPSAnbm90aWNlJztcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHQvL25vb3Bcblx0XHR9XG5cdFx0cmV0dXJuIHttZXNzYWdlOiBtZXNzYWdlLCBzZXZlcml0eTogc2V2ZXJpdHlTdHJpbmd9O1xuXG5cdH0sXG5cblx0YWRkQ2hhbmdlTGlzdGVuZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdFx0dGhpcy5vbihDSEFOR0VfRVZFTlQsIGNhbGxiYWNrKTtcblx0fSxcblxuXHRyZW1vdmVDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0XHR0aGlzLnJlbW92ZUxpc3RlbmVyKENIQU5HRV9FVkVOVCwgY2FsbGJhY2spO1xuXHR9LFxuXG5cdGVtaXRDaGFuZ2U6IGZ1bmN0aW9uKCkge1xuXHQgICAgdGhpcy5lbWl0KENIQU5HRV9FVkVOVCk7XG5cdH0sXG59KTtcblxuQXBwRGlzcGF0Y2hlci5yZWdpc3RlcihmdW5jdGlvbihhY3Rpb24pIHtcblxuICBzd2l0Y2goYWN0aW9uLmFjdGlvblR5cGUpIHtcbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TRVRfRkxBU0g6XG5cdFx0c2V0Rmxhc2goYWN0aW9uLm1lc3NhZ2UsIGFjdGlvbi5zZXZlcml0eSk7XG5cdFx0Rmxhc2hTdG9yZS5lbWl0Q2hhbmdlKCk7XG5cdFx0YnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5VTlNFVF9GTEFTSDpcbiAgICAgXHRzZXRGbGFzaChudWxsLCBudWxsKTtcbiAgICAgXHRGbGFzaFN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgXHRicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBubyBvcFxuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBGbGFzaFN0b3JlOyIsIi8qXG4gKiBTdG9yZSB3aGljaCBtYW5hZ2VzIGFuZCBwZXJzaXN0cyBzZXR1cCB3aXphcmQgcHJvZ3Jlc3NcbiAqL1xuXG52YXIgQXBwRGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4uL2Rpc3BhdGNoZXIvYXBwLWRpc3BhdGNoZXInKSxcbiAgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyLFxuICBKUFNDb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1jb25zdGFudHMnKTtcblxudmFyIENIQU5HRV9FVkVOVCA9ICdjaGFuZ2UnO1xuXG52YXIgX3N0ZXBzLCBfc3RhcnRlZCA9IEpQUy5zdGFydGVkOyBcblxuZnVuY3Rpb24gc2V0U3RlcHMoc3RlcHMpIHtcblxuICAvLyBzZXQgdGhlIGNvbXBsZXRpb24gc3RhdHVzIG9mIGVhY2ggc3RlcCB0byB0aGUgc2F2ZWQgdmFsdWVzXG4gIHN0ZXBzLmZvckVhY2goIGZ1bmN0aW9uKHN0ZXApIHtcbiAgICBcbiAgICAvLyBkZWZhdWx0IHZhbHVlcyBmb3Igc2tpcHBlZCwgY29tcGxldGVkIGFuZCBzdGF0aWNcbiAgICBpZiAoIHR5cGVvZiggc3RlcC5jb21wbGV0ZWQgKSA9PT0gJ3VuZGVmaW5lZCcgKSB7XG4gICAgICBzdGVwLmNvbXBsZXRlZCA9IChKUFMuc3RlcF9zdGF0dXNbc3RlcC5zbHVnXSAmJiBKUFMuc3RlcF9zdGF0dXNbc3RlcC5zbHVnXS5jb21wbGV0ZWQpIHx8IGZhbHNlOyAgXG4gICAgfVxuXG4gICAgaWYgKCB0eXBlb2YoIHN0ZXAuc2tpcHBlZCApID09PSAndW5kZWZpbmVkJyApIHtcbiAgICAgIHN0ZXAuc2tpcHBlZCA9IChKUFMuc3RlcF9zdGF0dXNbc3RlcC5zbHVnXSAmJiBKUFMuc3RlcF9zdGF0dXNbc3RlcC5zbHVnXS5za2lwcGVkKSB8fCBmYWxzZTsgIFxuICAgIH1cblxuICAgIGlmICggdHlwZW9mKCBzdGVwLnN0YXRpYyApID09PSAndW5kZWZpbmVkJyApIHtcbiAgICAgIHN0ZXAuc3RhdGljID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gZGVmYXVsdCB2YWx1ZSBmb3IgaW5jbHVkZUluUHJvZ3Jlc3NcbiAgICBpZiAoIHR5cGVvZiggc3RlcC5pbmNsdWRlSW5Qcm9ncmVzcyApID09PSAndW5kZWZpbmVkJykge1xuICAgICAgc3RlcC5pbmNsdWRlSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgfVxuICB9KTsgXG4gIFxuICBfc3RlcHMgPSBzdGVwcztcbiAgXG4gIC8vIHNldCBsb2NhdGlvbiB0byBmaXJzdCBwZW5kaW5nIHN0ZXAsIGlmIG5vdCBzZXRcbiAgZW5zdXJlVmFsaWRTdGVwU2x1ZygpOyBcbn1cblxuZnVuY3Rpb24gZ2V0U3RhcnRlZCgpIHtcbiAgX3N0YXJ0ZWQgPSB0cnVlO1xuICBzZWxlY3ROZXh0UGVuZGluZ1N0ZXAoKTtcbn1cblxuZnVuY3Rpb24gY29tcGxldGUoc3RlcFNsdWcpIHtcbiAgdmFyIHN0ZXAgPSBnZXRTdGVwRnJvbVNsdWcoc3RlcFNsdWcpO1xuICBzdGVwLmNvbXBsZXRlZCA9IHRydWU7XG4gIHN0ZXAuc2tpcHBlZCA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBza2lwKCkge1xuICB2YXIgc3RlcFNsdWcgPSBjdXJyZW50U3RlcFNsdWcoKTtcbiAgdmFyIHN0ZXAgPSBnZXRTdGVwRnJvbVNsdWcoc3RlcFNsdWcpO1xuICBzdGVwLnNraXBwZWQgPSB0cnVlO1xuICBzZWxlY3ROZXh0UGVuZGluZ1N0ZXAoKTtcbn1cblxuZnVuY3Rpb24gZ2V0U3RlcEZyb21TbHVnKCBzdGVwU2x1ZyApIHtcbiAgdmFyIGN1cnJlbnRTdGVwID0gbnVsbDtcbiAgXy5lYWNoKCBfc3RlcHMsIGZ1bmN0aW9uKCBzdGVwICkge1xuICAgIGlmKCBzdGVwLnNsdWcgPT09IHN0ZXBTbHVnICkge1xuICAgICAgY3VycmVudFN0ZXAgPSBzdGVwO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBjdXJyZW50U3RlcDtcbn1cblxuZnVuY3Rpb24gZW5zdXJlVmFsaWRTdGVwU2x1ZygpIHtcbiAgdmFyIHN0ZXBTbHVnID0gY3VycmVudFN0ZXBTbHVnKCk7XG4gIGlmICggISAoIHN0ZXBTbHVnICYmIGdldFN0ZXBGcm9tU2x1Zyggc3RlcFNsdWcgKSApICkge1xuICAgIHNlbGVjdE5leHRQZW5kaW5nU3RlcCgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNlbGVjdE5leHRQZW5kaW5nU3RlcCgpIHtcbiAgdmFyIHBlbmRpbmdTdGVwID0gXy5maW5kV2hlcmUoIF9zdGVwcywgeyBjb21wbGV0ZWQ6IGZhbHNlLCBza2lwcGVkOiBmYWxzZSB9ICk7XG4gIGlmICggcGVuZGluZ1N0ZXAgIT09IG51bGwgKSB7XG4gICAgc2VsZWN0KHBlbmRpbmdTdGVwLnNsdWcpOyAvLyBhbHNvIHNldHMgdGhlIHdpbmRvdyBsb2NhdGlvbiBoYXNoXG4gIH1cbn1cblxuZnVuY3Rpb24gY3VycmVudFN0ZXBTbHVnKCkge1xuICBpZiAoIHdpbmRvdy5sb2NhdGlvbi5oYXNoLmluZGV4T2YoJyN3ZWxjb21lL3N0ZXBzJykgPT09IDAgKSB7XG4gICAgdmFyIHBhcnRzID0gd2luZG93LmxvY2F0aW9uLmhhc2guc3BsaXQoJy8nKTtcbiAgICB2YXIgc3RlcFNsdWcgPSBwYXJ0c1twYXJ0cy5sZW5ndGgtMV07XG4gICAgcmV0dXJuIHN0ZXBTbHVnO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNlbGVjdChzdGVwU2x1Zykge1xuICB3aW5kb3cubG9jYXRpb24uaGFzaCA9ICd3ZWxjb21lL3N0ZXBzLycrc3RlcFNsdWc7XG59XG5cbi8vcmVzZXQgZXZlcnl0aGluZyBiYWNrIHRvIGRlZmF1bHRzXG5mdW5jdGlvbiByZXNldCgpIHtcbiAgSlBTLnN0ZXBfc3RhdHVzID0ge307XG4gIF8ud2hlcmUoIF9zdGVwcywgeyBzdGF0aWM6IGZhbHNlfSApLmZvckVhY2goIGZ1bmN0aW9uICggc3RlcCApIHsgXG4gICAgc3RlcC5jb21wbGV0ZWQgPSBmYWxzZTtcbiAgICBzdGVwLnNraXBwZWQgPSBmYWxzZTtcbiAgfSApO1xuICBfc3RhcnRlZCA9IGZhbHNlO1xufVxuXG52YXIgU2V0dXBQcm9ncmVzc1N0b3JlID0gXy5leHRlbmQoe30sIEV2ZW50RW1pdHRlci5wcm90b3R5cGUsIHtcblxuICBpbml0OiBmdW5jdGlvbihzdGVwcykge1xuICAgIHNldFN0ZXBzKHN0ZXBzKTtcbiAgfSxcblxuICBnZXRBbGxTdGVwczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIF9zdGVwcztcbiAgfSxcblxuICBpc05ld1VzZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAhX3N0YXJ0ZWQ7XG4gIH0sXG5cbiAgZW1pdENoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5lbWl0KCBDSEFOR0VfRVZFTlQgKTtcbiAgfSxcblxuICBnZXRDdXJyZW50U3RlcDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGdldFN0ZXBGcm9tU2x1ZyggY3VycmVudFN0ZXBTbHVnKCkgKTtcbiAgfSxcblxuICBnZXRTdGVwRnJvbVNsdWc6IGZ1bmN0aW9uKHNsdWcpIHtcbiAgICByZXR1cm4gZ2V0U3RlcEZyb21TbHVnKCBzbHVnICk7XG4gIH0sXG5cbiAgZ2V0UHJvZ3Jlc3NQZXJjZW50OiBmdW5jdGlvbigpIHtcbiAgXHR2YXIgbnVtU3RlcHMgPSBfLndoZXJlKCBfc3RlcHMsIHsgaW5jbHVkZUluUHJvZ3Jlc3M6IHRydWUgfSApLmxlbmd0aDtcbiAgICB2YXIgY29tcGxldGVkU3RlcHMgPSBfLndoZXJlKCBfc3RlcHMsIHsgaW5jbHVkZUluUHJvZ3Jlc3M6IHRydWUsIGNvbXBsZXRlZDogdHJ1ZSB9ICkubGVuZ3RoO1xuICAgIHZhciBwZXJjZW50Q29tcGxldGUgPSAoY29tcGxldGVkU3RlcHMgLyBudW1TdGVwcykgKiA5MCArIDEwO1xuICAgIHZhciBvdXRwdXQgPSBNYXRoLnJvdW5kKHBlcmNlbnRDb21wbGV0ZSAvIDEwKSAqIDEwO1xuICAgIHJldHVybiBvdXRwdXQ7XG4gIH0sXG5cbiAgYWRkQ2hhbmdlTGlzdGVuZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5vbiggQ0hBTkdFX0VWRU5ULCBjYWxsYmFjayApO1xuICB9LFxuXG4gIHJlbW92ZUNoYW5nZUxpc3RlbmVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoIENIQU5HRV9FVkVOVCwgY2FsbGJhY2sgKTtcbiAgfVxufSk7XG5cbi8vIFJlZ2lzdGVyIGNhbGxiYWNrIHRvIGhhbmRsZSBhbGwgdXBkYXRlc1xuQXBwRGlzcGF0Y2hlci5yZWdpc3RlcihmdW5jdGlvbihhY3Rpb24pIHtcbiAgXG4gIHN3aXRjaChhY3Rpb24uYWN0aW9uVHlwZSkge1xuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNURVBfR0VUX1NUQVJURUQ6XG4gICAgICBnZXRTdGFydGVkKCk7XG4gICAgICBTZXR1cFByb2dyZXNzU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TVEVQX1NFTEVDVDpcbiAgICAgIHNlbGVjdChhY3Rpb24uc2x1Zyk7XG4gICAgICBTZXR1cFByb2dyZXNzU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TVEVQX05FWFQ6XG4gICAgICBzZWxlY3ROZXh0UGVuZGluZ1N0ZXAoKTtcbiAgICAgIFNldHVwUHJvZ3Jlc3NTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNURVBfQ09NUExFVEU6XG4gICAgICBjb21wbGV0ZShhY3Rpb24uc2x1Zyk7XG4gICAgICBTZXR1cFByb2dyZXNzU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TVEVQX0NPTVBMRVRFX0FORF9ORVhUOlxuICAgICAgY29tcGxldGUoYWN0aW9uLnNsdWcpO1xuICAgICAgc2VsZWN0TmV4dFBlbmRpbmdTdGVwKCk7XG4gICAgICBTZXR1cFByb2dyZXNzU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5SRVNFVF9EQVRBOlxuICAgICAgcmVzZXQoKTtcbiAgICAgIFNldHVwUHJvZ3Jlc3NTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNURVBfU0tJUDpcbiAgICAgIHNraXAoKTtcbiAgICAgIFNldHVwUHJvZ3Jlc3NTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBubyBvcFxuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBTZXR1cFByb2dyZXNzU3RvcmU7IiwiLypcbiAqIFN0b3JlIHdoaWNoIG1hbmFnZXMgYW5kIHBlcnNpc3RzIHNpdGUgaW5mb3JtYXRpb25cbiAqL1xuXG52YXIgQXBwRGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4uL2Rpc3BhdGNoZXIvYXBwLWRpc3BhdGNoZXInKSxcbiAgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyLFxuICBKUFNDb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1jb25zdGFudHMnKSxcbiAgV1BBamF4ID0gcmVxdWlyZSgnLi4vdXRpbHMvd3AtYWpheCcpO1xuXG52YXIgQ0hBTkdFX0VWRU5UID0gJ2NoYW5nZSc7XG5cbnZhciBsYXlvdXQgPSBKUFMuc3RlcHMubGF5b3V0LmN1cnJlbnQ7XG5cbmZ1bmN0aW9uIHNldFRpdGxlKG5ld1RpdGxlKSB7XG5cdEpQUy5ibG9naW5mby5uYW1lID0gbmV3VGl0bGU7XG59XG5cbmZ1bmN0aW9uIHNldERlc2NyaXB0aW9uKG5ld0Rlc2NyaXB0aW9uKSB7XG4gIEpQUy5ibG9naW5mby5kZXNjcmlwdGlvbiA9IG5ld0Rlc2NyaXB0aW9uOyBcbn1cblxuZnVuY3Rpb24gc2V0QWN0aXZlVGhlbWUoYWN0aXZlVGhlbWVJZCkge1xuICBKUFMudGhlbWVzLmZvckVhY2goIGZ1bmN0aW9uKCB0aGVtZSApIHtcbiAgICBpZiAoIHRoZW1lLmlkID09IGFjdGl2ZVRoZW1lSWQgKSB7XG4gICAgICB0aGVtZS5hY3RpdmUgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGVtZS5hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG4gIH0gKTtcbn1cblxuZnVuY3Rpb24gaW5zdGFsbGVkVGhlbWUodGhlbWUpIHtcbiAgSlBTLnRoZW1lcy51bnNoaWZ0KHRoZW1lKTtcbiAgSlBTLnRoZW1lcyA9IEpQUy50aGVtZXMuc2xpY2UoMCwgMyk7XG59XG5cbmZ1bmN0aW9uIHNldEpldHBhY2tNb2R1bGVBY3RpdmF0ZWQoc2x1Zykge1xuICBpZiAoIF8uaW5kZXhPZiggSlBTLmpldHBhY2suYWN0aXZlX21vZHVsZXMsIHNsdWcgKSA9PT0gLTEgKSB7XG4gICAgSlBTLmpldHBhY2suYWN0aXZlX21vZHVsZXMucHVzaChzbHVnKTsgIFxuICB9XG59XG5cbmZ1bmN0aW9uIHNldEpldHBhY2tNb2R1bGVEZWN0aXZhdGVkKHNsdWcpIHtcbiAgdmFyIGluZGV4ID0gXy5pbmRleE9mKCBKUFMuamV0cGFjay5hY3RpdmVfbW9kdWxlcywgc2x1ZyApO1xuICBpZiAoIGluZGV4ID49IDApIHtcbiAgICBKUFMuamV0cGFjay5hY3RpdmVfbW9kdWxlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNldEpldHBhY2tBZGRpdGlvbmFsTW9kdWxlcyhtb2R1bGVzKSB7XG4gIEpQUy5qZXRwYWNrLmFkZGl0aW9uYWxfbW9kdWxlcyA9IF8uZmlsdGVyKG1vZHVsZXMsIGZ1bmN0aW9uKG1vZHVsZSkge1xuICAgIHJldHVybiBfLmluZGV4T2YoSlBTLmpldHBhY2suanVtcHN0YXJ0X21vZHVsZXMubWFwKGZ1bmN0aW9uKG1vZCl7cmV0dXJuIG1vZC5zbHVnO30pLCBtb2R1bGUuc2x1ZykgPT0gLTE7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzZXRMYXlvdXQobGF5b3V0TmFtZSkge1xuICBsYXlvdXQgPSBsYXlvdXROYW1lOyAvLyBYWFggVE9ETzogZ2V0IHRoaXMgdmFsdWUgZHluYW1pY2FsbHkgZnJvbSB0aGUgc2VydmVyIVxufVxuXG5mdW5jdGlvbiBzZXRKZXRwYWNrQ29uZmlndXJlZCgpIHtcbiAgSlBTLmpldHBhY2suY29uZmlndXJlZCA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIHNldEpldHBhY2tKdW1wc3RhcnRBY3RpdmF0ZWQoKSB7XG4gIEpQUy5qZXRwYWNrLmp1bXBzdGFydF9tb2R1bGVzLmZvckVhY2goIGZ1bmN0aW9uKCBtb2R1bGUgKSB7XG4gICAgc2V0SmV0cGFja01vZHVsZUFjdGl2YXRlZCggbW9kdWxlLnNsdWcgKTtcbiAgfSk7XG59XG5cbnZhciBTaXRlU3RvcmUgPSBfLmV4dGVuZCh7fSwgRXZlbnRFbWl0dGVyLnByb3RvdHlwZSwge1xuXG4gIGdldFRpdGxlOiBmdW5jdGlvbigpIHtcbiAgXHRyZXR1cm4gSlBTLmJsb2dpbmZvLm5hbWU7XG4gIH0sXG5cbiAgZ2V0RGVzY3JpcHRpb246IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBKUFMuYmxvZ2luZm8uZGVzY3JpcHRpb247XG4gIH0sXG5cbiAgZ2V0VGhlbWVzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gSlBTLnRoZW1lcztcbiAgfSxcblxuICBnZXRBY3RpdmVUaGVtZUlkOiBmdW5jdGlvbigpIHtcbiAgICBmb3IodmFyIGk9MDsgaSA8IEpQUy50aGVtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB0aGVtZSA9IEpQUy50aGVtZXNbaV07XG4gICAgICBpZiAoIHRoZW1lLmFjdGl2ZSApIHtcbiAgICAgICAgcmV0dXJuIHRoZW1lLmlkO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcblxuICBnZXRKZXRwYWNrQ29uZmlndXJlZDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIEpQUy5qZXRwYWNrLmNvbmZpZ3VyZWQ7XG4gIH0sXG5cbiAgZ2V0QWN0aXZlTW9kdWxlU2x1Z3M6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBKUFMuamV0cGFjay5hY3RpdmVfbW9kdWxlcztcbiAgfSxcblxuICBpc0pldHBhY2tNb2R1bGVFbmFibGVkOiBmdW5jdGlvbihzbHVnKSB7XG4gICAgcmV0dXJuICggXy5pbmRleE9mKCBKUFMuamV0cGFjay5hY3RpdmVfbW9kdWxlcywgc2x1ZyApID49IDAgKTtcbiAgfSxcblxuICBnZXRKZXRwYWNrQWRkaXRpb25hbE1vZHVsZXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBKUFMuamV0cGFjay5hZGRpdGlvbmFsX21vZHVsZXM7XG4gIH0sXG5cbiAgZ2V0SnVtcHN0YXJ0TW9kdWxlU2x1Z3M6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBKUFMuamV0cGFjay5qdW1wc3RhcnRfbW9kdWxlcy5tYXAoZnVuY3Rpb24obW9kdWxlKSB7IHJldHVybiBtb2R1bGUuc2x1ZzsgfSk7XG4gIH0sXG5cbiAgZ2V0SnVtcHN0YXJ0TW9kdWxlczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIEpQUy5qZXRwYWNrLmp1bXBzdGFydF9tb2R1bGVzO1xuICB9LFxuXG4gIGdldFBvcHVsYXJUaGVtZXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBXUEFqYXgucG9zdChKUFMuc2l0ZV9hY3Rpb25zLmdldF9wb3B1bGFyX3RoZW1lcyk7XG4gIH0sXG5cbiAgZ2V0SmV0cGFja0p1bXBzdGFydEVuYWJsZWQ6IGZ1bmN0aW9uKCkge1xuICAgIGZvcih2YXIgaT0wOyBpIDwgSlBTLmpldHBhY2suanVtcHN0YXJ0X21vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBtb2R1bGUgPSBKUFMuamV0cGFjay5qdW1wc3RhcnRfbW9kdWxlc1tpXTtcbiAgICAgIGlmICggISB0aGlzLmlzSmV0cGFja01vZHVsZUVuYWJsZWQoIG1vZHVsZS5zbHVnICkgKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG5cbiAgZ2V0TGF5b3V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbGF5b3V0O1xuICB9LFxuXG4gIGVtaXRDaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZW1pdChDSEFOR0VfRVZFTlQpO1xuICB9LFxuXG4gIGFkZENoYW5nZUxpc3RlbmVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIHRoaXMub24oQ0hBTkdFX0VWRU5ULCBjYWxsYmFjayk7XG4gIH0sXG5cbiAgcmVtb3ZlQ2hhbmdlTGlzdGVuZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihDSEFOR0VfRVZFTlQsIGNhbGxiYWNrKTtcbiAgfVxufSk7XG5cbi8vIFJlZ2lzdGVyIGNhbGxiYWNrIHRvIGhhbmRsZSBhbGwgdXBkYXRlc1xuQXBwRGlzcGF0Y2hlci5yZWdpc3RlcihmdW5jdGlvbihhY3Rpb24pIHtcblxuICBzd2l0Y2goYWN0aW9uLmFjdGlvblR5cGUpIHtcbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TSVRFX1NFVF9USVRMRTpcbiAgICAgIHNldFRpdGxlKGFjdGlvbi50aXRsZSk7XG4gICAgICBTaXRlU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TSVRFX1NFVF9ERVNDUklQVElPTjpcbiAgICAgIHNldERlc2NyaXB0aW9uKGFjdGlvbi5kZXNjcmlwdGlvbik7XG4gICAgICBTaXRlU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TSVRFX1NFVF9USEVNRTpcbiAgICAgIHNldEFjdGl2ZVRoZW1lKGFjdGlvbi50aGVtZUlkKTtcbiAgICAgIFNpdGVTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfSU5TVEFMTF9USEVNRTpcbiAgICAgIGluc3RhbGxlZFRoZW1lKGFjdGlvbi50aGVtZSk7XG4gICAgICBTaXRlU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TSVRFX0pFVFBBQ0tfQ09ORklHVVJFRDpcbiAgICAgIHNldEpldHBhY2tDb25maWd1cmVkKCk7XG4gICAgICBTaXRlU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TSVRFX0pFVFBBQ0tfQUREX01PRFVMRVM6XG4gICAgICBzZXRKZXRwYWNrQWRkaXRpb25hbE1vZHVsZXMoYWN0aW9uLm1vZHVsZXMpO1xuICAgICAgU2l0ZVN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU0lURV9KRVRQQUNLX01PRFVMRV9FTkFCTEVEOlxuICAgICAgc2V0SmV0cGFja01vZHVsZUFjdGl2YXRlZChhY3Rpb24uc2x1Zyk7XG4gICAgICBTaXRlU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TSVRFX0pFVFBBQ0tfTU9EVUxFX0RJU0FCTEVEOlxuICAgICAgc2V0SmV0cGFja01vZHVsZURlY3RpdmF0ZWQoYWN0aW9uLnNsdWcpO1xuICAgICAgU2l0ZVN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU0lURV9KRVRQQUNLX0pVTVBTVEFSVF9FTkFCTEVEOiBcbiAgICAgIHNldEpldHBhY2tKdW1wc3RhcnRBY3RpdmF0ZWQoKTtcbiAgICAgIFNpdGVTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfU0VUX0xBWU9VVDpcbiAgICAgIHNldExheW91dChhY3Rpb24ubGF5b3V0KTtcbiAgICAgIFNpdGVTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBubyBvcFxuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBTaXRlU3RvcmU7IiwidmFyIEFwcERpc3BhdGNoZXIgPSByZXF1aXJlKCcuLi9kaXNwYXRjaGVyL2FwcC1kaXNwYXRjaGVyJyksXG5cdEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcixcblx0SlBTQ29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtY29uc3RhbnRzJyk7XG5cbnZhciBDSEFOR0VfRVZFTlQgPSAnY2hhbmdlJztcblxudmFyIHNwaW5uZXJFbmFibGVkID0gZmFsc2UsXG5cdHNwaW5uZXJNZXNzYWdlID0gbnVsbDtcblxuZnVuY3Rpb24gc2hvdyhtZXNzYWdlKSB7XG5cdHNwaW5uZXJFbmFibGVkID0gdHJ1ZTtcblx0c3Bpbm5lck1lc3NhZ2UgPSBtZXNzYWdlO1xufVxuXG5mdW5jdGlvbiBoaWRlKCkge1xuXHRzcGlubmVyRW5hYmxlZCA9IGZhbHNlO1xuXHRzcGlubmVyTWVzc2FnZSA9IG51bGw7XG59XG5cbnZhciBTcGlubmVyU3RvcmUgPSBfLmV4dGVuZCh7fSwgRXZlbnRFbWl0dGVyLnByb3RvdHlwZSwge1xuXHRzaG93aW5nOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc3Bpbm5lckVuYWJsZWQ7XG5cdH0sXG5cblx0Z2V0TWVzc2FnZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNwaW5uZXJNZXNzYWdlO1xuXHR9LFxuXG5cdGFkZENoYW5nZUxpc3RlbmVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRcdHRoaXMub24oIENIQU5HRV9FVkVOVCwgY2FsbGJhY2sgKTtcblx0fSxcblxuXHRyZW1vdmVDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0XHR0aGlzLnJlbW92ZUxpc3RlbmVyKCBDSEFOR0VfRVZFTlQsIGNhbGxiYWNrICk7XG5cdH0sXG5cblx0ZW1pdENoYW5nZTogZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLmVtaXQoIENIQU5HRV9FVkVOVCApO1xuXHR9LFxufSk7XG5cbkFwcERpc3BhdGNoZXIucmVnaXN0ZXIoZnVuY3Rpb24oYWN0aW9uKSB7XG5cbiAgc3dpdGNoKGFjdGlvbi5hY3Rpb25UeXBlKSB7XG4gICAgY2FzZSBKUFNDb25zdGFudHMuU0hPV19TUElOTkVSOlxuXHRcdHNob3coYWN0aW9uLm1lc3NhZ2UpO1xuXHRcdFNwaW5uZXJTdG9yZS5lbWl0Q2hhbmdlKCk7XG5cdFx0YnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5ISURFX1NQSU5ORVI6XG4gICAgIFx0aGlkZSgpO1xuICAgICBcdFNwaW5uZXJTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgIFx0YnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgLy8gbm8gb3BcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU3Bpbm5lclN0b3JlOyIsIi8qXG4gKiBBIHNpbXBsZSB3cmFwcGVyIGZvciBjYWxscyB0byBXUCdzIFwiYWpheHVybFwiLlxuICpcbiAqIFRoaXMgZXhpc3RzIGJlY2F1c2UgV1AncyB3cF9zZW5kX2pzb25fZXJyb3IgZG9lc24ndCBhY3R1YWxseSBzZW5kIGFuIGVycm9yIGNvZGUsIGJ1dCByYXRoZXJcbiAqIGEgMjAwIE9LIHJlc3BvbnNlIHdpdGggYSBzdHJ1Y3R1cmUgbGlrZSB0aGlzOlxuICoge3N1Y2Nlc3M6IGZhbHNlLCBkYXRhOiBcInNvbWV0aGluZyB3ZW50IHdyb25nXCJ9XG4gKlxuICogU28gdGhpcyBjbGFzcyBzbW9vdGhlcyB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIDUweCBlcnJvcnMgYW5kIFdQJ3MgZXJyb3Igb2JqZWN0LlxuICpcbiAqIEZvciBjb252ZW5pZW5jZSwgdGhpcyByZXR1cm5zIGEgalF1ZXJ5LkRlZmVycmVkIG9iamVjdCB3aGljaCBjYW4gaGF2ZSAuZG9uZSgpIFxuICogYW5kIC5mYWlsKCkgbWV0aG9kcyBjaGFpbmVkIG9udG8gaXQsIHNpbWlsYXIgdG8galF1ZXJ5LnBvc3QncyBcInN1Y2Nlc3NcIiBhbmQgXCJmYWlsXCJcbiAqXG4gKiBBbHNvLCBpdCBhY2NlcHRzIGFuIFwiYWN0aW9uXCIgcGFyYW0gaW5zdGVhZCBvZiBhIFVSTCwgc2luY2UgYWxsIFdQIGFqYXggcmVxdWVzdHNcbiAqIGFjdHVhbGx5IGdvIHZpYSB0aGUgc2FtZSBVUkwgd2l0aCBkaWZmZXJlbnQgcGFyYW1ldGVycywgYW5kIGl0IGludm9rZXMgY2FsbGJhY2tzIHdpdGhcbiAqIGp1c3QgdGhlIFwiZGF0YVwiIHBvcnRpb24gb2YgV1AncyBhamF4IHBheWxvYWQsIHJhdGhlciB0aGFuIHRoZSB3aG9sZSBzdHJ1Y3R1cmUuXG4gKiBcbiAqKi9cblxudmFyIERhdGFBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9kYXRhLWFjdGlvbnMnKTtcblxudmFyIFdQQWpheCA9IChmdW5jdGlvbigpIHtcblxuXHRyZXR1cm4ge1xuXHRcdHBvc3Q6IGZ1bmN0aW9uKGFjdGlvbiwgcGF5bG9hZCkge1xuXHRcdFx0cGF5bG9hZCA9IHR5cGVvZiBwYXlsb2FkICE9PSAndW5kZWZpbmVkJyA/IHBheWxvYWQgOiB7fTtcblx0XHRcdHZhciBkYXRhID0gXy5leHRlbmQocGF5bG9hZCwge2FjdGlvbjogYWN0aW9uLCBub25jZTogSlBTLm5vbmNlfSk7XG5cdFx0XHRcblx0XHRcdHZhciBkZWZlcnJlZCA9IGpRdWVyeS5EZWZlcnJlZCgpO1xuXG5cdFx0XHREYXRhQWN0aW9ucy5yZXF1ZXN0U3RhcnRlZCgpO1xuXG5cdFx0XHRqUXVlcnkucG9zdCggYWpheHVybCwgZGF0YSApXG5cdFx0XHRcdC5zdWNjZXNzKCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cdFx0XHRcdFx0aWYgKCAhIHJlc3BvbnNlLnN1Y2Nlc3MgKSB7XG5cdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QocmVzcG9uc2UuZGF0YSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocmVzcG9uc2UuZGF0YSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KVxuXHRcdFx0XHQuZmFpbCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KFwiU2VydmVyIGVycm9yXCIpO1xuXHRcdFx0XHR9KVxuXHRcdFx0XHQuYWx3YXlzKCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0RGF0YUFjdGlvbnMucmVxdWVzdEZpbmlzaGVkKCk7XG5cdFx0XHRcdH0pO1x0XG5cblx0XHRcdHJldHVybiBkZWZlcnJlZDtcblx0XHR9XG5cdH07XG5cbn0pKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gV1BBamF4OyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93LlJlYWN0IDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbC5SZWFjdCA6IG51bGwpLFxuICAgIFdlbGNvbWVXaWRnZXQgPSByZXF1aXJlKCcuL2NvbXBvbmVudHMvd2VsY29tZS13aWRnZXQnKSxcbiAgICBQYXRocyA9IHJlcXVpcmUoJy4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtcGF0aHMnKSxcbiAgICBTZXR1cFByb2dyZXNzU3RvcmUgPSByZXF1aXJlKCcuL3N0b3Jlcy9zZXR1cC1wcm9ncmVzcy1zdG9yZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgIGpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuXG4gICAgXHRTZXR1cFByb2dyZXNzU3RvcmUuaW5pdChbXG4gICAgXHRcdC8vIE5PVEU6IFlvdSBjYW4gaGF2ZSBcInN0YXRpYzogdHJ1ZVwiIHRvIGluY2x1ZGUgdW4tY2xpY2thYmxlIFxuICAgIFx0XHQvLyBwcmVmaWxsZWQgc3RlcHMgdGhhdCBhY3QgYXMgdGhvdWdoIHRoZXkndmUgYWxyZWFkeSBiZWVuIGNvbXBsZXRlZFxuXHRcdFx0Ly8ge1xuXHRcdFx0Ly8gXHRuYW1lOiBcIlNpZ24gdXBcIixcblx0XHRcdC8vIFx0Y29tcGxldGVkOiB0cnVlLFxuXHRcdFx0Ly8gXHRzdGF0aWM6IHRydWVcblx0XHRcdC8vIH0sXG5cdFx0XHR7XG5cdFx0XHRcdG5hbWU6ICdTaXRlIHRpdGxlJyxcblx0XHRcdFx0c2x1ZzogUGF0aHMuU0lURV9USVRMRV9TVEVQX1NMVUcsXG5cdFx0XHRcdHdlbGNvbWVWaWV3OiByZXF1aXJlKCcuL2NvbXBvbmVudHMvc2l0ZS10aXRsZS1zdGVwJylcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdG5hbWU6ICdQaWNrIGEgbGF5b3V0Jyxcblx0XHRcdFx0c2x1ZzogUGF0aHMuTEFZT1VUX1NURVBfU0xVRyxcblx0XHRcdFx0d2VsY29tZVZpZXc6IHJlcXVpcmUoJy4vY29tcG9uZW50cy9sYXlvdXQtc3RlcCcpXG5cdFx0XHR9LFxuXHRcdFx0eyBcblx0XHRcdFx0bmFtZTogXCJQaWNrIGEgZGVzaWduXCIsIFxuXHRcdFx0XHRzbHVnOiBQYXRocy5ERVNJR05fU1RFUF9TTFVHLFxuXHRcdFx0XHR3ZWxjb21lVmlldzogcmVxdWlyZSgnLi9jb21wb25lbnRzL2Rlc2lnbi1zdGVwJyksIFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0bmFtZTogJ0VuYWJsZSBKZXRwYWNrJyxcblx0XHRcdFx0c2x1ZzogUGF0aHMuSkVUUEFDS19NT0RVTEVTX1NURVBfU0xVRyxcblx0XHRcdFx0d2VsY29tZVZpZXc6IHJlcXVpcmUoJy4vY29tcG9uZW50cy9qZXRwYWNrLWp1bXBzdGFydC1zdGVwJyksXG5cdFx0XHRcdG1lbnVWaWV3OiByZXF1aXJlKCcuL2NvbXBvbmVudHMvamV0cGFjay1qdW1wc3RhcnQtbWVudScpXG5cdFx0XHR9LFxuXHRcdFx0eyBcblx0XHRcdFx0bmFtZTogXCJBZHZhbmNlZCBzZXR0aW5nc1wiLCBcblx0XHRcdFx0c2x1ZzogUGF0aHMuQURWQU5DRURfU1RFUF9TTFVHLFxuXHRcdFx0XHR3ZWxjb21lVmlldzogcmVxdWlyZSgnLi9jb21wb25lbnRzL2FkdmFuY2VkLXNldHRpbmdzLXN0ZXAnKSxcblx0XHRcdFx0aW5jbHVkZUluUHJvZ3Jlc3M6IGZhbHNlXG5cdFx0XHR9XG5cdFx0XSk7XG5cbiAgICAgICAgUmVhY3QucmVuZGVyKFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoV2VsY29tZVdpZGdldCwge30pLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnanBzLXdlbGNvbWUtcGFuZWwnKVxuICAgICAgICApO1xuICAgIH0pO1xufTsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdy5SZWFjdCA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwuUmVhY3QgOiBudWxsKSxcblx0c3R5bGVzID0gcmVxdWlyZSgnLi4vc3R5bGVzJyksXG5cdFJhZGl1bSA9IHJlcXVpcmUoJ3JhZGl1bScpO1xuXG52YXIgQnV0dG9uID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIkJ1dHRvblwiLFxuXG5cdHByb3BUeXBlczoge1xuXHRcdHNpemU6IFJlYWN0LlByb3BUeXBlcy5vbmVPZihbJ3RpbnknLCAnbm9ybWFsJywgJ2JpZyddKSxcblx0XHRjb2xvcjogUmVhY3QuUHJvcFR5cGVzLm9uZU9mKFsnZ3JheScsICdibHVlJywgJ2dyZWVuJ10pLFxuXHRcdHRoZW1lOiBSZWFjdC5Qcm9wVHlwZXMub25lT2YoWyd3cCcsICdqZXRwYWNrJ10pLFxuXHRcdGlubGluZTogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdFx0b25DbGljazogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdFx0aHJlZjogUmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xuXHR9LFxuXG5cdGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHsgc2l6ZTogJ25vcm1hbCcsIGlubGluZTogdHJ1ZSwgY29sb3I6ICdncmF5JywgdGhlbWU6ICd3cCcgfTtcblx0fSxcblxuXHRoYW5kbGVDYWxsYmFja0hyZWY6IGZ1bmN0aW9uKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0d2luZG93LmxvY2F0aW9uID0gdGhpcy5wcm9wcy5ocmVmO1xuXHR9LFxuXG5cdHN0eWxlczoge1xuXHRcdGJhc2ljOiB7XG5cdFx0XHRib3JkZXJSYWRpdXM6IDMsXG5cdFx0XHRib3hTaGFkb3c6ICdpbnNldCAwIDFweCAwIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zKScsXG5cdFx0XHRib3JkZXJXaWR0aDogMSxcblx0XHRcdGJvcmRlclN0eWxlOiAnc29saWQnLFxuXHRcdFx0Y3Vyc29yOiAncG9pbnRlcicsXG5cdFx0XHRkaXNwbGF5OiAnYmxvY2snLFxuXHRcdFx0Zm9udFNpemU6IDE0LFxuXHRcdFx0Zm9udFdlaWdodDogJ2JvbGQnLFxuXHRcdFx0cGFkZGluZzogJzEwcHggMjBweCcsXG5cdFx0XHR0ZXh0QWxpZ246ICdjZW50ZXInLFxuXHRcdFx0dGV4dERlY29yYXRpb246ICdub25lJyxcblx0XHRcdC8vIHRleHRUcmFuc2Zvcm06ICd1cHBlcmNhc2UnLFxuXHRcdFx0V2Via2l0Rm9udFNtb290aGluZzogJ2FudGlhbGlhc2VkJyxcblx0XHRcdHRyYW5zaXRpb246ICdiYWNrZ3JvdW5kIDAuMnMnXG5cdFx0fSxcblxuXHRcdHNpemVzOiB7XG5cdFx0XHR0aW55OiB7XG5cdFx0XHRcdGZvbnRTaXplOiAxMCxcblx0XHRcdFx0cGFkZGluZzogJzJweCAxMHB4Jyxcblx0XHRcdH0sXG5cdFx0XHRub3JtYWw6IHtcblx0XHRcdFx0Zm9udFNpemU6IDEzLFxuXHRcdFx0XHRwYWRkaW5nOiAnNXB4IDEwcHgnXG5cdFx0XHR9LFxuXHRcdFx0YmlnOiB7XG5cdFx0XHRcdGZvbnRTaXplOiAxNixcblx0XHRcdFx0cGFkZGluZzogJzIwcHggNDBweCdcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0Y29sb3JzOiB7XG5cdFx0XHRncmF5OiB7XG5cdFx0XHRcdGJhY2tncm91bmQ6ICdsaW5lYXItZ3JhZGllbnQoI2ZmZiwgI2Y5ZjlmOSknLFxuXHRcdFx0XHRib3JkZXJDb2xvcjogc3R5bGVzLmNvbG9ycy5saWdodEdyYXksXG5cdFx0XHRcdGNvbG9yOiBzdHlsZXMuY29sb3JzLmRhcmtHcmF5LFxuXHRcdFx0XHQnOmhvdmVyJzoge1xuXHRcdFx0XHRcdGNvbG9yOiBzdHlsZXMuY29sb3JzLmdyYXlcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGJsdWU6IHtcblx0XHRcdFx0YmFja2dyb3VuZDogc3R5bGVzLmNvbG9ycy5ibHVlLFxuXHRcdFx0XHRib3JkZXJDb2xvcjogJ3JnYmEoMCwwLDAsMC42KScsXG5cdFx0XHRcdGNvbG9yOiAnd2hpdGUnLFxuXHRcdFx0XHQnOmhvdmVyJzoge1xuXHRcdFx0XHRcdGJhY2tncm91bmQ6IHN0eWxlcy5jb2xvcnMubGlnaHRlckJsdWUsXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRncmVlbjoge1xuXHRcdFx0XHRiYWNrZ3JvdW5kOiBzdHlsZXMuY29sb3JzLmdyZWVuLFxuXHRcdFx0XHRjb2xvcjogJ3doaXRlJyxcblx0XHRcdFx0Ym9yZGVyQ29sb3I6ICdyZ2JhKDAsMCwwLDAuNiknLFxuXHRcdFx0XHQnOmhvdmVyJzoge1xuXHRcdFx0XHRcdGJhY2tncm91bmQ6IHN0eWxlcy5jb2xvcnMubGlnaHRlckdyZWVuLFxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0dGhlbWVzOiB7XG5cdFx0XHR3cDoge30sXG5cdFx0XHRqZXRwYWNrOiB7XG5cdFx0XHRcdHBhZGRpbmc6ICcxOHB4IDI0cHggMTVweCcsXG5cdFx0XHRcdGZvbnQ6ICc0MDAgMjBweC8xIFwiT3BlbiBTYW5zXCIsIEhlbHZldGljYSwgc2Fucy1zZXJpZicsXG5cdFx0XHRcdGJvcmRlclJhZGl1czogNixcblx0XHRcdFx0Ym94U2hhZG93OiAnMCA2cHggMCAjM2U2YzIwLDAgNnB4IDNweCByZ2JhKDAsMCwwLDAuNCknXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRcblx0XHRpbmxpbmU6IHtcblx0XHRcdGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snXG5cdFx0fSxcblxuXHRcdGRpc2FibGVkOiB7XG5cdFx0XHRiYWNrZ3JvdW5kOiAnI2Y5ZjlmOScsXG5cdFx0XHRib3JkZXJDb2xvcjogc3R5bGVzLmNvbG9ycy5saWdodEdyYXksXG5cdFx0XHRjb2xvcjogc3R5bGVzLmNvbG9ycy5saWdodEdyYXksXG5cdFx0XHQnOmhvdmVyJzoge1xuXHRcdFx0XHRiYWNrZ3JvdW5kOiAnI2Y5ZjlmOScsXG5cdFx0XHRcdGJvcmRlckNvbG9yOiBzdHlsZXMuY29sb3JzLmxpZ2h0R3JheSxcblx0XHRcdFx0Y29sb3I6IHN0eWxlcy5jb2xvcnMubGlnaHRHcmF5LFxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyICRfXzA9ICAgICAgICAgIHRoaXMucHJvcHMsc2l6ZT0kX18wLnNpemUsY29sb3I9JF9fMC5jb2xvcixpbmxpbmU9JF9fMC5pbmxpbmUsb25DbGljaz0kX18wLm9uQ2xpY2ssdGhlbWU9JF9fMC50aGVtZSxocmVmPSRfXzAuaHJlZixvdGhlcj0oZnVuY3Rpb24oc291cmNlLCBleGNsdXNpb24pIHt2YXIgcmVzdCA9IHt9O3ZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O2lmIChzb3VyY2UgPT0gbnVsbCkge3Rocm93IG5ldyBUeXBlRXJyb3IoKTt9Zm9yICh2YXIga2V5IGluIHNvdXJjZSkge2lmIChoYXNPd24uY2FsbChzb3VyY2UsIGtleSkgJiYgIWhhc093bi5jYWxsKGV4Y2x1c2lvbiwga2V5KSkge3Jlc3Rba2V5XSA9IHNvdXJjZVtrZXldO319cmV0dXJuIHJlc3Q7fSkoJF9fMCx7c2l6ZToxLGNvbG9yOjEsaW5saW5lOjEsb25DbGljazoxLHRoZW1lOjEsaHJlZjoxfSk7XG5cblx0XHR2YXIgY2FsbGJhY2s7XG5cblx0XHR2YXIgY29tYmluZWRTdHlsZSA9IFtcblx0XHRcdHRoaXMuc3R5bGVzLmJhc2ljLCBcblx0XHRcdHRoaXMuc3R5bGVzLnNpemVzW3NpemVdLFxuXHRcdFx0dGhpcy5zdHlsZXMuY29sb3JzW2NvbG9yXSxcblx0XHRcdHRoaXMuc3R5bGVzLnRoZW1lc1t0aGVtZV0sXG5cdFx0XHR0aGlzLnByb3BzLmRpc2FibGVkICYmIHRoaXMuc3R5bGVzLmRpc2FibGVkLFxuXHRcdFx0aW5saW5lICYmIHRoaXMuc3R5bGVzLmlubGluZSxcblx0XHRcdHRoaXMucHJvcHMuc3R5bGVcblx0XHRdO1xuXG5cdFx0aWYgKCBocmVmICYmICFvbkNsaWNrKSB7XG5cdFx0XHRjYWxsYmFjayA9IHRoaXMuaGFuZGxlQ2FsbGJhY2tIcmVmO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjYWxsYmFjayA9IG9uQ2xpY2s7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgUmVhY3QuX19zcHJlYWQoe30sICBvdGhlciwge3N0eWxlOiBjb21iaW5lZFN0eWxlLCBvbkNsaWNrOiBjYWxsYmFjaywgb25Nb3VzZU92ZXI6IHRoaXMuaGFuZGxlTW91c2VPdmVyLCBvbk1vdXNlT3V0OiB0aGlzLmhhbmRsZU1vdXNlT3V0fSksIFxuXHRcdFx0XHR0aGlzLnByb3BzLmNoaWxkcmVuXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmFkaXVtKEJ1dHRvbik7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cuUmVhY3QgOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsLlJlYWN0IDogbnVsbCksXG5cdFJhZGl1bSA9IHJlcXVpcmUoJ3JhZGl1bScpO1xuXG4vKipcbiAqIFNob3cgcHJvZ3Jlc3MgdGhyb3VnaCB0aGUgc3RlcHNcbiAqIE5PVEU6IHByb2dyZXNzUGVyY2VudCBNVVNUIGJlIHJvdW5kZWQgdG8gdGhlIG5lYXJlc3QgMTAsIGkuZS4gMTAsIDIwLCAzMCwgNDAuLi4xMDBcbiAqIFRoaXMgaXMgcmVxdWlyZWQgZm9yIHRoZSBDU1MgdG8gd29yayAod2lsbCBmaXggbGF0ZXIuLi4pXG4gKiovXG52YXIgUHJvZ3Jlc3NCYXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiUHJvZ3Jlc3NCYXJcIixcblxuXHRwcm9wVHlwZXM6IHtcblx0XHRzdHlsZTogUmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0XHRwcm9ncmVzc1BlcmNlbnQ6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxuXHR9LFxuXG5cdHN0eWxlczoge1xuXHRcdHdyYXBwZXI6IHtcblx0XHRcdGZvbnRXZWlnaHQ6IDQwMCxcblx0XHRcdGZvbnRTaXplOiAnODAlJ1xuXHRcdH0sXG5cdFx0cHJvZ3Jlc3M6IHtcblx0XHRcdGJhY2tncm91bmQ6ICcjNGFiODY2Jyxcblx0XHRcdHdpZHRoOiAnMCUnLFxuXHRcdFx0dHJhbnNpdGlvbjogJ3dpZHRoIDAuNXMnLFxuXHRcdFx0ZGlzcGxheTogJ2Jsb2NrJyxcblx0XHRcdGhlaWdodDogJzEwMCUnXG5cdFx0fSxcblx0XHRiYXI6IHtcblx0XHRcdGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuXHRcdFx0d2lkdGg6IDgwLFxuXHRcdFx0aGVpZ2h0OiAxMixcblx0XHRcdG1hcmdpbjogJzAgOHB4IC0ycHggMCcsXG5cdFx0XHRwYWRkaW5nOiAyLFxuXHRcdFx0Ym9yZGVyUmFkaXVzOiAyLFxuXHRcdFx0YmFja2dyb3VuZDogJyNmNWY1ZjUnXG5cdFx0fVxuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0Ly8gdmFyIGNsYXNzZXMgPSAnZ2V0dGluZy1zdGFydGVkX19wcm9ncmVzcyBwcm9ncmVzc18nK3RoaXMucHJvcHMucHJvZ3Jlc3NQZXJjZW50O1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZTogW3RoaXMuc3R5bGVzLndyYXBwZXIsIHRoaXMucHJvcHMuc3R5bGVdfSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge3N0eWxlOiB0aGlzLnN0eWxlcy5iYXJ9LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7c3R5bGU6IFt0aGlzLnN0eWxlcy5wcm9ncmVzcywgeyB3aWR0aDogdGhpcy5wcm9wcy5wcm9ncmVzc1BlcmNlbnQrJyUnIH1dfSlcblx0XHRcdFx0KSwgXG5cdFx0XHRcdHRoaXMucHJvcHMucHJvZ3Jlc3NQZXJjZW50LCBcIiUgY29tcGxldGVcIlxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJhZGl1bShQcm9ncmVzc0Jhcik7IiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdC8vbGF5b3V0XG5cdHJpZ2h0OiB7IGZsb2F0OiAncmlnaHQnIH0sXG5cdFxuXHRsZWZ0OiB7IGZsb2F0OiAnbGVmdCcgfSxcblx0XG5cdHRoaXJkOiB7IHdpZHRoOiAnMzMlJyB9LFxuXG5cdGZ1bGw6IHsgd2lkdGg6ICcxMDAlJyB9LFxuXG5cdGhhbGY6IHsgd2lkdGg6ICc0OCUnIH0sXG5cblx0aGlkZGVuOiB7IGRpc3BsYXk6ICdub25lJyB9LFxuXG5cdGNsZWFyOiB7XG5cdFx0Y2xlYXI6ICdib3RoJywgXG5cdFx0ZGlzcGxheTogJ2Jsb2NrJyBcblx0fSxcblxuXHQvL2FjY291bnQgc3RhdHVzIGluZGljYXRvclxuXHRhY2NvdW50U3RhdHVzOiB7XG5cdFx0dGV4dFRyYW5zZm9ybTogJ2NhcGl0YWxpemUnXG5cdH0sXG5cblx0YWNjb3VudFN0YXR1c05vdGljb246IHtcblx0XHRib3JkZXJSYWRpdXM6IFwiNTAlXCIsXG5cdFx0d2lkdGg6IDE2LFxuXHRcdGhlaWdodDogMTYsXG5cdFx0bWFyZ2luUmlnaHQ6IDEwLFxuXHRcdGNvbG9yOiAnI2ZmZicsXG5cdFx0YmFja2dyb3VuZDogJyM4MWJmMTYnXG5cdH0sXG5cblx0Ly9ib3ggd2lkZ2V0XG5cdGJveDoge1xuXHRcdGJvcmRlclJhZGl1czogMixcblx0XHRwYWRkaW5nOiAnNXB4IDEwcHgnLFxuXHRcdGJhY2tncm91bmQ6ICcjZjVmNWY1J1xuXHR9LFxuXG5cdC8vYmFzaWMgc3R5bGluZyAtIGZvbnRzIGFuZCBjb2xvcnNcblx0bGlnaHQ6IHsgY29sb3I6ICcjOTk5JyB9LFxuXHRjb2xvcnM6IHtcblx0XHRha2lzbWV0R3JlZW46ICcjNWU4ZTE0Jyxcblx0XHRibHVlOiAnIzAyOWRkNicsXG5cdFx0bGlnaHRlckJsdWU6ICcjMTNBRUU3Jyxcblx0XHRibGFjazogJyMzMzMnLFxuXHRcdGRhcmtHcmF5OiAnIzQ0NCcsXG5cdFx0Z3JheTogJyM3ODc4NzgnLFxuXHRcdGxpZ2h0R3JheTogJyNiYmInLFxuXHRcdHZlcnlMaWdodEdyYXk6ICcjZWVlJyxcblx0XHRvZmZXaGl0ZTogJyNmOWY5ZjknLFxuXHRcdGFjY291bnRBY3RpdmU6ICcjODFiZjE2Jyxcblx0XHRhY2NvdW50SW5hY3RpdmU6ICcjYmJiJyxcblx0XHRncmVlbjogJyM1MThkMmEnLFxuXHRcdGxpZ2h0ZXJHcmVlbjogJyM1Nzk3MmQnXG5cdH0sXG5cblx0Zm9udHM6IHtcblx0XHRzYW5zOiAnT3BlbiBTYW5zLCBcIk9wZW4gU2Fuc1wiLCBcIkhlbHZldGljYSBOZXVlXCIsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYnLFxuXHRcdHNlcmlmOiAnTWVycml3ZWF0aGVyLCBHZW9yZ2lhLCBzZXJpZicsXG5cdFx0bW9ubzogJ1wiQ291cmllciBOZXdcIiwgQ291cmllciwgbW9ub3NwYWNlJ1xuXHR9LFxuXG5cdC8vZm9ybXNcblx0aW5wdXQ6IHtcblx0XHR3aWR0aDogXCIxMDAlXCIsXG5cdFx0Ym94U2hhZG93OiAnbm9uZScsXG5cdFx0YmFja2dyb3VuZDogJyNmZmYnLFxuXHRcdGJvcmRlcjogJzFweCBzb2xpZCAjZDVkNWQ1Jyxcblx0XHRmb250U2l6ZTogMTIsXG5cdFx0cGFkZGluZzogJzhweCAxMHB4J1xuXHR9LFxuXG5cdHNlbGVjdDoge1xuXHRcdGJvcmRlclJhZGl1czogMyxcblx0XHRiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJyxcblx0XHRmb250U2l6ZTogMTIsXG5cdFx0aGVpZ2h0OiAzNSxcblx0XHR3aWR0aDogJzEwMCUnLFxuXHRcdGJvcmRlcjogJzFweCBzb2xpZCAjZDVkNWQ1Jyxcblx0XHRwYWRkaW5nOiAnM3B4IDVweCcsXG5cdFx0bWluV2lkdGg6IDBcblx0fSxcblxuXHRjaGVja2JveDoge1xuXHRcdG1hcmdpblJpZ2h0OiAxMFxuXHR9LFxuXG5cdGVycm9yRmllbGQ6IHtcblx0XHRib3JkZXI6ICcxcHggc29saWQgI2RkM2QzNidcblx0fSxcblx0XG5cdGVycm9yTGFiZWw6IHtcblx0XHRib3JkZXI6ICcxcHggc29saWQgI2RkM2QzNicsXG5cdFx0Y29sb3I6ICcjYTAwJyxcblx0XHRkaXNwbGF5OiAnYmxvY2snLFxuXHRcdGZvbnRTaXplOiAxMixcblx0XHRtYXJnaW46ICc1cHggMCAwIDAnLFxuXHRcdHBhZGRpbmc6IDVcblx0fVxufTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBjcmVhdGVNYXJrdXBGb3JTdHlsZXMgPSByZXF1aXJlKCcuLi9jcmVhdGUtbWFya3VwLWZvci1zdHlsZXMnKTtcbnZhciBQcmVmaXhlciA9IHJlcXVpcmUoJy4uL3ByZWZpeGVyJyk7XG5cbnZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93LlJlYWN0IDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbC5SZWFjdCA6IG51bGwpO1xuXG52YXIgYnVpbGRDc3NTdHJpbmcgPSBmdW5jdGlvbiBidWlsZENzc1N0cmluZyhzZWxlY3RvciwgcnVsZXMpIHtcbiAgaWYgKCFzZWxlY3RvciB8fCAhcnVsZXMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgcHJlZml4ZWRSdWxlcyA9IFByZWZpeGVyLmdldFByZWZpeGVkU3R5bGUocnVsZXMsICdjc3MnKTtcbiAgdmFyIHNlcmlhbGl6ZWRSdWxlcyA9IGNyZWF0ZU1hcmt1cEZvclN0eWxlcyhwcmVmaXhlZFJ1bGVzKTtcblxuICByZXR1cm4gc2VsZWN0b3IgKyAneycgKyBzZXJpYWxpemVkUnVsZXMgKyAnfSc7XG59O1xuXG52YXIgU3R5bGUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnU3R5bGUnLFxuXG4gIHByb3BUeXBlczoge1xuICAgIHJ1bGVzOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICAgIHNjb3BlU2VsZWN0b3I6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmdcbiAgfSxcblxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2NvcGVTZWxlY3RvcjogJydcbiAgICB9O1xuICB9LFxuXG4gIF9idWlsZFN0eWxlczogZnVuY3Rpb24gX2J1aWxkU3R5bGVzKHN0eWxlcykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICByZXR1cm4gT2JqZWN0LmtleXMoc3R5bGVzKS5yZWR1Y2UoZnVuY3Rpb24gKGFjY3VtdWxhdG9yLCBzZWxlY3Rvcikge1xuICAgICAgdmFyIHJ1bGVzID0gc3R5bGVzW3NlbGVjdG9yXTtcblxuICAgICAgaWYgKHNlbGVjdG9yID09PSAnbWVkaWFRdWVyaWVzJykge1xuICAgICAgICBhY2N1bXVsYXRvciArPSBfdGhpcy5fYnVpbGRNZWRpYVF1ZXJ5U3RyaW5nKHJ1bGVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBjb21wbGV0ZVNlbGVjdG9yID0gKF90aGlzLnByb3BzLnNjb3BlU2VsZWN0b3IgPyBfdGhpcy5wcm9wcy5zY29wZVNlbGVjdG9yICsgJyAnIDogJycpICsgc2VsZWN0b3I7XG4gICAgICAgIGFjY3VtdWxhdG9yICs9IGJ1aWxkQ3NzU3RyaW5nKGNvbXBsZXRlU2VsZWN0b3IsIHJ1bGVzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH0sICcnKTtcbiAgfSxcblxuICBfYnVpbGRNZWRpYVF1ZXJ5U3RyaW5nOiBmdW5jdGlvbiBfYnVpbGRNZWRpYVF1ZXJ5U3RyaW5nKG1lZGlhUXVlcnlPYmopIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBjb250ZXh0TWVkaWFRdWVyaWVzID0gdGhpcy5fZ2V0Q29udGV4dE1lZGlhUXVlcmllcygpO1xuICAgIHZhciBtZWRpYVF1ZXJ5U3RyaW5nID0gJyc7XG5cbiAgICBPYmplY3Qua2V5cyhtZWRpYVF1ZXJ5T2JqKS5mb3JFYWNoKGZ1bmN0aW9uIChxdWVyeSkge1xuICAgICAgdmFyIGNvbXBsZXRlUXVlcnkgPSBjb250ZXh0TWVkaWFRdWVyaWVzW3F1ZXJ5XSA/IGNvbnRleHRNZWRpYVF1ZXJpZXNbcXVlcnldIDogcXVlcnk7XG4gICAgICBtZWRpYVF1ZXJ5U3RyaW5nICs9ICdAbWVkaWEgJyArIGNvbXBsZXRlUXVlcnkgKyAneycgKyBfdGhpczIuX2J1aWxkU3R5bGVzKG1lZGlhUXVlcnlPYmpbcXVlcnldKSArICd9JztcbiAgICB9KTtcblxuICAgIHJldHVybiBtZWRpYVF1ZXJ5U3RyaW5nO1xuICB9LFxuXG4gIF9nZXRDb250ZXh0TWVkaWFRdWVyaWVzOiBmdW5jdGlvbiBfZ2V0Q29udGV4dE1lZGlhUXVlcmllcygpIHtcbiAgICB2YXIgY29udGV4dE1lZGlhUXVlcmllcyA9IHt9O1xuICAgIGlmICh0aGlzLmNvbnRleHQgJiYgdGhpcy5jb250ZXh0Lm1lZGlhUXVlcmllcykge1xuICAgICAgT2JqZWN0LmtleXModGhpcy5jb250ZXh0Lm1lZGlhUXVlcmllcykuZm9yRWFjaCgoZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgICAgIGNvbnRleHRNZWRpYVF1ZXJpZXNbcXVlcnldID0gdGhpcy5jb250ZXh0Lm1lZGlhUXVlcmllc1txdWVyeV0ubWVkaWE7XG4gICAgICB9KS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29udGV4dE1lZGlhUXVlcmllcztcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucnVsZXMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBzdHlsZXMgPSB0aGlzLl9idWlsZFN0eWxlcyh0aGlzLnByb3BzLnJ1bGVzKTtcblxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KCdzdHlsZScsIHsgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiBzdHlsZXMgfSB9KTtcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU3R5bGU7IiwiLyogQGZsb3cgKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCdleGVudicpO1xuXG52YXIgX21hdGNoTWVkaWFGdW5jdGlvbiA9IEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiB3aW5kb3cgJiYgd2luZG93Lm1hdGNoTWVkaWE7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjYW5NYXRjaE1lZGlhOiBmdW5jdGlvbiBjYW5NYXRjaE1lZGlhKCkge1xuICAgIHJldHVybiB0eXBlb2YgX21hdGNoTWVkaWFGdW5jdGlvbiA9PT0gJ2Z1bmN0aW9uJztcbiAgfSxcblxuICBtYXRjaE1lZGlhOiBmdW5jdGlvbiBtYXRjaE1lZGlhKHF1ZXJ5KSB7XG4gICAgcmV0dXJuIF9tYXRjaE1lZGlhRnVuY3Rpb24ocXVlcnkpO1xuICB9LFxuXG4gIHNldE1hdGNoTWVkaWE6IGZ1bmN0aW9uIHNldE1hdGNoTWVkaWEobmV4dE1hdGNoTWVkaWFGdW5jdGlvbikge1xuICAgIF9tYXRjaE1lZGlhRnVuY3Rpb24gPSBuZXh0TWF0Y2hNZWRpYUZ1bmN0aW9uO1xuICB9XG59OyIsIi8qIEBmbG93ICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGNyZWF0ZU1hcmt1cEZvclN0eWxlcyA9IGZ1bmN0aW9uIGNyZWF0ZU1hcmt1cEZvclN0eWxlcyhzdHlsZSwgc3BhY2VzKSB7XG4gIHNwYWNlcyA9IHNwYWNlcyB8fCAnJztcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHN0eWxlKS5tYXAoZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgcmV0dXJuIHNwYWNlcyArIHByb3BlcnR5ICsgJzogJyArIHN0eWxlW3Byb3BlcnR5XSArICc7JztcbiAgfSkuam9pbignXFxuJyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZU1hcmt1cEZvclN0eWxlczsiLCIvKiBAZmxvdyAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbnZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBkZXNjID0gcGFyZW50ID0gZ2V0dGVyID0gdW5kZWZpbmVkOyBfYWdhaW4gPSBmYWxzZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciByZXNvbHZlU3R5bGVzID0gcmVxdWlyZSgnLi9yZXNvbHZlLXN0eWxlcy5qcycpO1xuXG52YXIgZW5oYW5jZVdpdGhSYWRpdW0gPSBmdW5jdGlvbiBlbmhhbmNlV2l0aFJhZGl1bShDb21wb3NlZENvbXBvbmVudCkge1xuICB2YXIgZGlzcGxheU5hbWUgPSBDb21wb3NlZENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBDb21wb3NlZENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnO1xuXG4gIHZhciBSYWRpdW1FbmhhbmNlciA9IChmdW5jdGlvbiAoX0NvbXBvc2VkQ29tcG9uZW50KSB7XG4gICAgZnVuY3Rpb24gUmFkaXVtRW5oYW5jZXIoKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmFkaXVtRW5oYW5jZXIpO1xuXG4gICAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihSYWRpdW1FbmhhbmNlci5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgICB0aGlzLnN0YXRlID0gdGhpcy5zdGF0ZSB8fCB7fTtcbiAgICAgIHRoaXMuc3RhdGUuX3JhZGl1bVN0eWxlU3RhdGUgPSB7fTtcbiAgICB9XG5cbiAgICBfaW5oZXJpdHMoUmFkaXVtRW5oYW5jZXIsIF9Db21wb3NlZENvbXBvbmVudCk7XG5cbiAgICBfY3JlYXRlQ2xhc3MoUmFkaXVtRW5oYW5jZXIsIFt7XG4gICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVkRWxlbWVudCA9IF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFJhZGl1bUVuaGFuY2VyLnByb3RvdHlwZSksICdyZW5kZXInLCB0aGlzKS5jYWxsKHRoaXMpO1xuICAgICAgICByZXR1cm4gcmVzb2x2ZVN0eWxlcyh0aGlzLCByZW5kZXJlZEVsZW1lbnQpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFJhZGl1bUVuaGFuY2VyLnByb3RvdHlwZSksICdjb21wb25lbnRXaWxsVW5tb3VudCcsIHRoaXMpKSB7XG4gICAgICAgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmFkaXVtRW5oYW5jZXIucHJvdG90eXBlKSwgJ2NvbXBvbmVudFdpbGxVbm1vdW50JywgdGhpcykuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9yYWRpdW1Nb3VzZVVwTGlzdGVuZXIpIHtcbiAgICAgICAgICB0aGlzLl9yYWRpdW1Nb3VzZVVwTGlzdGVuZXIucmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcmFkaXVtTWVkaWFRdWVyeUxpc3RlbmVyc0J5UXVlcnkpIHtcbiAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9yYWRpdW1NZWRpYVF1ZXJ5TGlzdGVuZXJzQnlRdWVyeSkuZm9yRWFjaChmdW5jdGlvbiAocXVlcnkpIHtcbiAgICAgICAgICAgIHRoaXMuX3JhZGl1bU1lZGlhUXVlcnlMaXN0ZW5lcnNCeVF1ZXJ5W3F1ZXJ5XS5yZW1vdmUoKTtcbiAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBSYWRpdW1FbmhhbmNlcjtcbiAgfSkoQ29tcG9zZWRDb21wb25lbnQpO1xuXG4gIFJhZGl1bUVuaGFuY2VyLmRpc3BsYXlOYW1lID0gJ1JhZGl1bSgnICsgZGlzcGxheU5hbWUgKyAnKSc7XG5cbiAgcmV0dXJuIFJhZGl1bUVuaGFuY2VyO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBlbmhhbmNlV2l0aFJhZGl1bTsiLCIvKiBAZmxvdyAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBWQUxJRF9LRVlTID0gWyc6YWN0aXZlJywgJzpmb2N1cycsICc6aG92ZXInXTtcblxudmFyIGdldFN0YXRlID0gZnVuY3Rpb24gZ2V0U3RhdGUoc3RhdGUsIGVsZW1lbnRLZXksIHZhbHVlKSB7XG4gIGVsZW1lbnRLZXkgPSBlbGVtZW50S2V5IHx8ICdtYWluJztcblxuICBpZiAoVkFMSURfS0VZUy5pbmRleE9mKHZhbHVlKSA9PT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1JhZGl1bS5nZXRTdGF0ZSBpbnZhbGlkIHZhbHVlIHBhcmFtOiBgJyArIHZhbHVlICsgJ2AnKTtcbiAgfVxuXG4gIHJldHVybiAhIShzdGF0ZSAmJiBzdGF0ZS5fcmFkaXVtU3R5bGVTdGF0ZSAmJiBzdGF0ZS5fcmFkaXVtU3R5bGVTdGF0ZVtlbGVtZW50S2V5XSAmJiBzdGF0ZS5fcmFkaXVtU3R5bGVTdGF0ZVtlbGVtZW50S2V5XVt2YWx1ZV0pIHx8IGZhbHNlO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBnZXRTdGF0ZTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBFbmhhbmNlciA9IHJlcXVpcmUoJy4vZW5oYW5jZXInKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQ29tcG9zZWRDb21wb25lbnQpIHtcbiAgcmV0dXJuIEVuaGFuY2VyKENvbXBvc2VkQ29tcG9uZW50KTtcbn07XG5tb2R1bGUuZXhwb3J0cy5TdHlsZSA9IHJlcXVpcmUoJy4vY29tcG9uZW50cy9zdHlsZScpO1xubW9kdWxlLmV4cG9ydHMuZ2V0U3RhdGUgPSByZXF1aXJlKCcuL2dldC1zdGF0ZScpO1xubW9kdWxlLmV4cG9ydHMua2V5ZnJhbWVzID0gcmVxdWlyZSgnLi9rZXlmcmFtZXMnKTtcbm1vZHVsZS5leHBvcnRzLkNvbmZpZyA9IHJlcXVpcmUoJy4vY29uZmlnJyk7IiwiLyogQGZsb3cgKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3JlYXRlTWFya3VwRm9yU3R5bGVzID0gcmVxdWlyZSgnLi9jcmVhdGUtbWFya3VwLWZvci1zdHlsZXMnKTtcbnZhciBQcmVmaXhlciA9IHJlcXVpcmUoJy4vcHJlZml4ZXInKTtcblxudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZXhlbnYnKTtcblxudmFyIGlzQW5pbWF0aW9uU3VwcG9ydGVkID0gRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NICYmIFByZWZpeGVyLmdldFByZWZpeGVkUHJvcGVydHlOYW1lKCdhbmltYXRpb24nKSAhPT0gZmFsc2U7XG5cbnZhciBhbmltYXRpb25JbmRleCA9IDE7XG52YXIgYW5pbWF0aW9uU3R5bGVTaGVldCA9IG51bGw7XG52YXIga2V5ZnJhbWVzUHJlZml4ZWQgPSBudWxsO1xuXG5pZiAoaXNBbmltYXRpb25TdXBwb3J0ZWQpIHtcbiAgYW5pbWF0aW9uU3R5bGVTaGVldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYW5pbWF0aW9uU3R5bGVTaGVldCk7XG5cbiAgLy8gVGVzdCBpZiBwcmVmaXggbmVlZGVkIGZvciBrZXlmcmFtZXMgKGNvcGllZCBmcm9tIFByZWZpeEZyZWUpXG4gIGtleWZyYW1lc1ByZWZpeGVkID0gJ2tleWZyYW1lcyc7XG4gIGFuaW1hdGlvblN0eWxlU2hlZXQudGV4dENvbnRlbnQgPSAnQGtleWZyYW1lcyB7fSc7XG4gIGlmICghYW5pbWF0aW9uU3R5bGVTaGVldC5zaGVldC5jc3NSdWxlcy5sZW5ndGgpIHtcbiAgICBrZXlmcmFtZXNQcmVmaXhlZCA9IFByZWZpeGVyLmNzc1ByZWZpeCArICdrZXlmcmFtZXMnO1xuICB9XG59XG5cbi8vIFNpbXBsZSBhbmltYXRpb24gaGVscGVyIHRoYXQgaW5qZWN0cyBDU1MgaW50byBhIHN0eWxlIG9iamVjdCBjb250YWluaW5nIHRoZVxuLy8ga2V5ZnJhbWVzLCBhbmQgcmV0dXJucyBhIHN0cmluZyB3aXRoIHRoZSBnZW5lcmF0ZWQgYW5pbWF0aW9uIG5hbWUuXG52YXIga2V5ZnJhbWVzID0gZnVuY3Rpb24ga2V5ZnJhbWVzKGtleWZyYW1lUnVsZXMpIHtcbiAgdmFyIG5hbWUgPSAnQW5pbWF0aW9uJyArIGFuaW1hdGlvbkluZGV4O1xuICBhbmltYXRpb25JbmRleCArPSAxO1xuXG4gIGlmICghaXNBbmltYXRpb25TdXBwb3J0ZWQpIHtcbiAgICByZXR1cm4gbmFtZTtcbiAgfVxuXG4gIHZhciBydWxlID0gJ0AnICsga2V5ZnJhbWVzUHJlZml4ZWQgKyAnICcgKyBuYW1lICsgJyB7XFxuJyArIE9iamVjdC5rZXlzKGtleWZyYW1lUnVsZXMpLm1hcChmdW5jdGlvbiAocGVyY2VudGFnZSkge1xuICAgIHZhciBwcm9wcyA9IGtleWZyYW1lUnVsZXNbcGVyY2VudGFnZV07XG4gICAgdmFyIHByZWZpeGVkUHJvcHMgPSBQcmVmaXhlci5nZXRQcmVmaXhlZFN0eWxlKHByb3BzLCAnY3NzJyk7XG4gICAgdmFyIHNlcmlhbGl6ZWRQcm9wcyA9IGNyZWF0ZU1hcmt1cEZvclN0eWxlcyhwcmVmaXhlZFByb3BzLCAnICAnKTtcbiAgICByZXR1cm4gJyAgJyArIHBlcmNlbnRhZ2UgKyAnIHtcXG4gICcgKyBzZXJpYWxpemVkUHJvcHMgKyAnXFxuICB9JztcbiAgfSkuam9pbignXFxuJykgKyAnXFxufVxcbic7XG5cbiAgLy8gZm9yIGZsb3dcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKCFhbmltYXRpb25TdHlsZVNoZWV0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdrZXlmcmFtZXMgbm90IGluaXRpYWxpemVkIHByb3Blcmx5Jyk7XG4gIH1cblxuICBhbmltYXRpb25TdHlsZVNoZWV0LnNoZWV0Lmluc2VydFJ1bGUocnVsZSwgYW5pbWF0aW9uU3R5bGVTaGVldC5zaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICByZXR1cm4gbmFtZTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ga2V5ZnJhbWVzOyIsIi8qIEBmbG93ICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIF9jYWxsYmFja3MgPSBbXTtcbnZhciBfbW91c2VVcExpc3RlbmVySXNBY3RpdmUgPSBmYWxzZTtcblxudmFyIF9oYW5kbGVNb3VzZVVwID0gZnVuY3Rpb24gX2hhbmRsZU1vdXNlVXAoZXYpIHtcbiAgX2NhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKGV2KTtcbiAgfSk7XG59O1xuXG52YXIgc3Vic2NyaWJlID0gZnVuY3Rpb24gc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4gIGlmIChfY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spID09PSAtMSkge1xuICAgIF9jYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gIH1cblxuICBpZiAoIV9tb3VzZVVwTGlzdGVuZXJJc0FjdGl2ZSkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgX2hhbmRsZU1vdXNlVXApO1xuICAgIF9tb3VzZVVwTGlzdGVuZXJJc0FjdGl2ZSA9IHRydWU7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgdmFyIGluZGV4ID0gX2NhbGxiYWNrcy5pbmRleE9mKGNhbGxiYWNrKTtcbiAgICAgIF9jYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcblxuICAgICAgaWYgKF9jYWxsYmFja3MubGVuZ3RoID09PSAwICYmIF9tb3VzZVVwTGlzdGVuZXJJc0FjdGl2ZSkge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIF9oYW5kbGVNb3VzZVVwKTtcbiAgICAgICAgX21vdXNlVXBMaXN0ZW5lcklzQWN0aXZlID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHN1YnNjcmliZTogc3Vic2NyaWJlXG59OyIsIi8qKlxuICogQmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL2pzc3R5bGVzL2Nzcy12ZW5kb3IsIGJ1dCB3aXRob3V0IGhhdmluZyB0b1xuICogY29udmVydCBiZXR3ZWVuIGRpZmZlcmVudCBjYXNlcyBhbGwgdGhlIHRpbWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCdleGVudicpO1xudmFyIGFycmF5RmluZCA9IHJlcXVpcmUoJ2FycmF5LWZpbmQnKTtcblxudmFyIGluZm9CeUNzc1ByZWZpeCA9IHtcbiAgJy1tb3otJzoge1xuICAgIGNzc1ByZWZpeDogJy1tb3otJyxcbiAgICBqc1ByZWZpeDogJ01veicsXG4gICAgYWx0ZXJuYXRpdmVQcm9wZXJ0aWVzOiB7XG4gICAgICAvLyBPTEQgLSBGaXJlZm94IDE5LVxuICAgICAgZmxleDogW3sgY3NzOiAnLW1vei1ib3gtZmxleCcsIGpzOiAnTW96Qm94RmxleCcgfV0sXG4gICAgICBvcmRlcjogW3sgY3NzOiAnLW1vei1ib3gtb3JkaW5hbC1ncm91cCcsIGpzOiAnTW96Qm94T3JkaW5hbEdyb3VwJyB9XVxuICAgIH0sXG4gICAgYWx0ZXJuYXRpdmVWYWx1ZXM6IHtcbiAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgLy8gT0xEIC0gRmlyZWZveCAxOS1cbiAgICAgICAgZmxleDogWyctbW96LWJveCddXG4gICAgICB9XG4gICAgfVxuICB9LFxuICAnLW1zLSc6IHtcbiAgICBjc3NQcmVmaXg6ICctbXMtJyxcbiAgICBqc1ByZWZpeDogJ21zJyxcbiAgICBhbHRlcm5hdGl2ZVZhbHVlczoge1xuICAgICAgZGlzcGxheToge1xuICAgICAgICAvLyBUV0VFTkVSIC0gSUUgMTBcbiAgICAgICAgZmxleDogWyctbXMtZmxleGJveCddLFxuICAgICAgICBvcmRlcjogWyctbXMtZmxleC1vcmRlciddXG4gICAgICB9XG4gICAgfVxuICB9LFxuICAnLW8tJzoge1xuICAgIGNzc1ByZWZpeDogJy1vLScsXG4gICAganNQcmVmaXg6ICdPJ1xuICB9LFxuICAnLXdlYmtpdC0nOiB7XG4gICAgY3NzUHJlZml4OiAnLXdlYmtpdC0nLFxuICAgIGpzUHJlZml4OiAnV2Via2l0JyxcbiAgICBhbHRlcm5hdGl2ZVByb3BlcnRpZXM6IHtcbiAgICAgIC8vIE9MRCAtIGlPUyA2LSwgU2FmYXJpIDMuMS02XG4gICAgICBmbGV4OiBbeyBjc3M6ICctd2Via2l0LWJveC1mbGV4JywganM6ICdXZWJraXRCb3hGbGV4JyB9XSxcbiAgICAgIG9yZGVyOiBbeyBjc3M6ICctd2Via2l0LWJveC1vcmRpbmFsLWdyb3VwJywganM6ICdXZWJraXRCb3hPcmRpbmFsR3JvdXAnIH1dXG4gICAgfSxcbiAgICBhbHRlcm5hdGl2ZVZhbHVlczoge1xuICAgICAgZGlzcGxheToge1xuICAgICAgICBmbGV4OiBbJy13ZWJraXQtYm94J10gLy8gT0xEIC0gaU9TIDYtLCBTYWZhcmkgMy4xLTZcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogQ1NTIHByb3BlcnRpZXMgd2hpY2ggYWNjZXB0IG51bWJlcnMgYnV0IGFyZSBub3QgaW4gdW5pdHMgb2YgXCJweFwiLlxuICogQ29waWVkIGZyb20gUmVhY3QgY29yZSBKdW5lIDIyLCAyMDE1LlxuICogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2Jsb2IvXG4gKiBiYTgxYjYwYWQ4ZTkzYjc0N2JlNDJhMDNiNzk3MDY1OTMyYzQ5Yzk2L1xuICogc3JjL3JlbmRlcmVycy9kb20vc2hhcmVkL0NTU1Byb3BlcnR5LmpzXG4gKi9cbnZhciBpc1VuaXRsZXNzTnVtYmVyID0ge1xuICBib3hGbGV4OiB0cnVlLFxuICBib3hGbGV4R3JvdXA6IHRydWUsXG4gIGNvbHVtbkNvdW50OiB0cnVlLFxuICBmbGV4OiB0cnVlLFxuICBmbGV4R3JvdzogdHJ1ZSxcbiAgZmxleFBvc2l0aXZlOiB0cnVlLFxuICBmbGV4U2hyaW5rOiB0cnVlLFxuICBmbGV4TmVnYXRpdmU6IHRydWUsXG4gIGZvbnRXZWlnaHQ6IHRydWUsXG4gIGxpbmVDbGFtcDogdHJ1ZSxcbiAgbGluZUhlaWdodDogdHJ1ZSxcbiAgb3BhY2l0eTogdHJ1ZSxcbiAgb3JkZXI6IHRydWUsXG4gIG9ycGhhbnM6IHRydWUsXG4gIHRhYlNpemU6IHRydWUsXG4gIHdpZG93czogdHJ1ZSxcbiAgekluZGV4OiB0cnVlLFxuICB6b29tOiB0cnVlLFxuXG4gIC8vIFNWRy1yZWxhdGVkIHByb3BlcnRpZXNcbiAgZmlsbE9wYWNpdHk6IHRydWUsXG4gIHN0cm9rZURhc2hvZmZzZXQ6IHRydWUsXG4gIHN0cm9rZU9wYWNpdHk6IHRydWUsXG4gIHN0cm9rZVdpZHRoOiB0cnVlXG59O1xuXG52YXIgZG9tU3R5bGUgPSB7fTtcbnZhciBwcmVmaXhlZFByb3BlcnR5Q2FjaGUgPSB7fTtcbnZhciBwcmVmaXhlZFZhbHVlQ2FjaGUgPSB7fTtcbnZhciBwcmVmaXhJbmZvID0ge1xuICBjc3NQcmVmaXg6ICcnLFxuICBqc1ByZWZpeDogJydcbn07XG5cbmlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgZG9tU3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJykuc3R5bGU7XG5cbiAgLy8gQmFzZWQgb24gaHR0cDovL2Rhdmlkd2Fsc2gubmFtZS92ZW5kb3ItcHJlZml4XG4gIHZhciB3aW5kb3dTdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICcnKTtcbiAgdmFyIHByZWZpeE1hdGNoID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwod2luZG93U3R5bGVzKS5qb2luKCcnKS5tYXRjaCgvLShtb3p8d2Via2l0fG1zfG8pLS8pO1xuICB2YXIgY3NzVmVuZG9yUHJlZml4ID0gcHJlZml4TWF0Y2ggJiYgcHJlZml4TWF0Y2hbMF07XG5cbiAgcHJlZml4SW5mbyA9IGluZm9CeUNzc1ByZWZpeFtjc3NWZW5kb3JQcmVmaXhdIHx8IHByZWZpeEluZm87XG59XG5cbnZhciBfY2FtZWxDYXNlUmVnZXggPSAvKFthLXpdKT8oW0EtWl0pL2c7XG52YXIgX2NhbWVsQ2FzZVJlcGxhY2VyID0gZnVuY3Rpb24gX2NhbWVsQ2FzZVJlcGxhY2VyKG1hdGNoLCBwMSwgcDIpIHtcbiAgcmV0dXJuIHAxICsgJy0nICsgcDIudG9Mb3dlckNhc2UoKTtcbn07XG52YXIgX2NhbWVsQ2FzZVRvRGFzaENhc2UgPSBmdW5jdGlvbiBfY2FtZWxDYXNlVG9EYXNoQ2FzZShzKSB7XG4gIHJldHVybiBzLnJlcGxhY2UoX2NhbWVsQ2FzZVJlZ2V4LCBfY2FtZWxDYXNlUmVwbGFjZXIpO1xufTtcblxudmFyIGdldFByZWZpeGVkUHJvcGVydHlOYW1lID0gZnVuY3Rpb24gZ2V0UHJlZml4ZWRQcm9wZXJ0eU5hbWUocHJvcGVydHkpIHtcbiAgaWYgKHByZWZpeGVkUHJvcGVydHlDYWNoZS5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcbiAgICByZXR1cm4gcHJlZml4ZWRQcm9wZXJ0eUNhY2hlW3Byb3BlcnR5XTtcbiAgfVxuXG4gIHZhciB1bnByZWZpeGVkID0ge1xuICAgIGNzczogX2NhbWVsQ2FzZVRvRGFzaENhc2UocHJvcGVydHkpLFxuICAgIGpzOiBwcm9wZXJ0eSxcbiAgICBpc0RlZmF1bHRGb3JTZXJ2ZXI6IHRydWVcbiAgfTtcblxuICAvLyBUcnkgdGhlIHByZWZpeGVkIHZlcnNpb24gZmlyc3QuIENocm9tZSBpbiBwYXJ0aWN1bGFyIGhhcyB0aGUgYGZpbHRlcmAgYW5kXG4gIC8vIGB3ZWJraXRGaWx0ZXJgIHByb3BlcnRpZXMgYXZhaWxhbGJlIG9uIHRoZSBzdHlsZSBvYmplY3QsIGJ1dCBvbmx5IHRoZVxuICAvLyBwcmVmaXhlZCB2ZXJzaW9uIGFjdHVhbGx5IHdvcmtzLlxuICB2YXIgcG9zc2libGVQcm9wZXJ0eU5hbWVzID0gW1xuICAvLyBQcmVmaXhlZFxuICB7XG4gICAgY3NzOiBwcmVmaXhJbmZvLmNzc1ByZWZpeCArIF9jYW1lbENhc2VUb0Rhc2hDYXNlKHByb3BlcnR5KSxcbiAgICBqczogcHJlZml4SW5mby5qc1ByZWZpeCArIHByb3BlcnR5WzBdLnRvVXBwZXJDYXNlKCkgKyBwcm9wZXJ0eS5zbGljZSgxKVxuICB9LCB1bnByZWZpeGVkXTtcblxuICAvLyBBbHRlcm5hdGl2ZSBwcm9wZXJ0eSBuYW1lc1xuICBpZiAocHJlZml4SW5mby5hbHRlcm5hdGl2ZVByb3BlcnRpZXMgJiYgcHJlZml4SW5mby5hbHRlcm5hdGl2ZVByb3BlcnRpZXNbcHJvcGVydHldKSB7XG4gICAgcG9zc2libGVQcm9wZXJ0eU5hbWVzID0gcG9zc2libGVQcm9wZXJ0eU5hbWVzLmNvbmNhdChwcmVmaXhJbmZvLmFsdGVybmF0aXZlUHJvcGVydGllc1twcm9wZXJ0eV0pO1xuICB9XG5cbiAgdmFyIHdvcmtpbmdQcm9wZXJ0eSA9IGFycmF5RmluZChwb3NzaWJsZVByb3BlcnR5TmFtZXMsIGZ1bmN0aW9uIChwb3NzaWJsZVByb3BlcnR5TmFtZSkge1xuICAgIGlmIChwb3NzaWJsZVByb3BlcnR5TmFtZS5qcyBpbiBkb21TdHlsZSkge1xuICAgICAgcmV0dXJuIHBvc3NpYmxlUHJvcGVydHlOYW1lO1xuICAgIH1cbiAgfSkgfHwgZmFsc2U7XG5cbiAgcmV0dXJuIHByZWZpeGVkUHJvcGVydHlDYWNoZVtwcm9wZXJ0eV0gPSB3b3JraW5nUHJvcGVydHk7XG59O1xuXG4vLyBSZWFjdCBpcyBwbGFubmluZyB0byBkZXByZWNhdGUgYWRkaW5nIHB4IGF1dG9tYXRpY2FsbHlcbi8vIChodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzE4NzMpLCBhbmQgaWYgdGhleSBkbywgdGhpc1xuLy8gc2hvdWxkIGNoYW5nZSB0byBhIHdhcm5pbmcgb3IgYmUgcmVtb3ZlZCBpbiBmYXZvciBvZiBSZWFjdCdzIHdhcm5pbmcuXG4vLyBTYW1lIGdvZXMgZm9yIGJlbG93LlxudmFyIF9hZGRQaXhlbFN1ZmZpeFRvVmFsdWVJZk5lZWRlZCA9IGZ1bmN0aW9uIF9hZGRQaXhlbFN1ZmZpeFRvVmFsdWVJZk5lZWRlZChvcmlnaW5hbFByb3BlcnR5LCB2YWx1ZSkge1xuICBpZiAodmFsdWUgIT09IDAgJiYgIWlzTmFOKHZhbHVlKSAmJiAhaXNVbml0bGVzc051bWJlcltvcmlnaW5hbFByb3BlcnR5XSkge1xuICAgIHJldHVybiB2YWx1ZSArICdweCc7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufTtcblxudmFyIF9nZXRQcmVmaXhlZFZhbHVlID0gZnVuY3Rpb24gX2dldFByZWZpeGVkVmFsdWUocHJvcGVydHksIHZhbHVlLCBvcmlnaW5hbFByb3BlcnR5KSB7XG4gIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAvLyBkb24ndCB0ZXN0IG51bWJlcnMgKHB1cmUgb3Igc3RyaW5neSksIGJ1dCBkbyBhZGQgJ3B4JyBwcmVmaXggaWYgbmVlZGVkXG4gICAgaWYgKCFpc05hTih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBfYWRkUGl4ZWxTdWZmaXhUb1ZhbHVlSWZOZWVkZWQob3JpZ2luYWxQcm9wZXJ0eSwgdmFsdWUpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgLy8gZG9uJ3QgdGVzdCBudW1iZXJzIHdpdGggdW5pdHMgKGUuZy4gMTBlbSlcbiAgICBpZiAoIWlzTmFOKHBhcnNlSW50KHZhbHVlLCAxMCkpKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgdmFyIGNhY2hlS2V5ID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5qb2luKCcgfHwgJykgOiBwcm9wZXJ0eSArIHZhbHVlO1xuXG4gIGlmIChwcmVmaXhlZFZhbHVlQ2FjaGUuaGFzT3duUHJvcGVydHkoY2FjaGVLZXkpKSB7XG4gICAgcmV0dXJuIHByZWZpeGVkVmFsdWVDYWNoZVtjYWNoZUtleV07XG4gIH1cblxuICB2YXIgcG9zc2libGVWYWx1ZXM7XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIC8vIEFkZCBweCBmb3IgdGhlIHNhbWUgdmFsdWVzIFJlYWN0IHdvdWxkLCBvdGhlcndpc2UgdGhlIHRlc3RpbmcgYmVsb3cgd2lsbFxuICAgIC8vIGZhaWwgYW5kIGl0IHdpbGwgdHJ5IHRvIGZhbGxiYWNrLlxuICAgIHBvc3NpYmxlVmFsdWVzID0gdmFsdWUubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICByZXR1cm4gX2FkZFBpeGVsU3VmZml4VG9WYWx1ZUlmTmVlZGVkKG9yaWdpbmFsUHJvcGVydHksIHYpO1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIHByZWZpeGVkIHZlcnNpb25zXG4gICAgcG9zc2libGVWYWx1ZXMgPSBwb3NzaWJsZVZhbHVlcy5jb25jYXQodmFsdWUuZmlsdGVyKGZ1bmN0aW9uICh2KSB7XG4gICAgICByZXR1cm4gIWlzTmFOKHYpO1xuICAgIH0pIC8vIERvbid0IHByZWZpeCBudW1iZXJzXG4gICAgLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgcmV0dXJuIHByZWZpeEluZm8uY3NzUHJlZml4ICsgdjtcbiAgICB9KSk7XG4gIH0gZWxzZSB7XG4gICAgcG9zc2libGVWYWx1ZXMgPSBbXG4gICAgLy8gVW5wcmVmaXhlZFxuICAgIHZhbHVlLFxuICAgIC8vIFByZWZpeGVkXG4gICAgcHJlZml4SW5mby5jc3NQcmVmaXggKyB2YWx1ZV07XG4gIH1cblxuICAvLyBBbHRlcm5hdGl2ZSB2YWx1ZXNcbiAgaWYgKHByZWZpeEluZm8uYWx0ZXJuYXRpdmVWYWx1ZXMgJiYgcHJlZml4SW5mby5hbHRlcm5hdGl2ZVZhbHVlc1tvcmlnaW5hbFByb3BlcnR5XSAmJiBwcmVmaXhJbmZvLmFsdGVybmF0aXZlVmFsdWVzW29yaWdpbmFsUHJvcGVydHldW3ZhbHVlXSkge1xuICAgIHBvc3NpYmxlVmFsdWVzID0gcG9zc2libGVWYWx1ZXMuY29uY2F0KHByZWZpeEluZm8uYWx0ZXJuYXRpdmVWYWx1ZXNbb3JpZ2luYWxQcm9wZXJ0eV1bdmFsdWVdKTtcbiAgfVxuXG4gIC8vIFRlc3QgcG9zc2libGUgdmFsdWUgaW4gb3JkZXJcbiAgdmFyIHdvcmtpbmdWYWx1ZSA9IGFycmF5RmluZChwb3NzaWJsZVZhbHVlcywgZnVuY3Rpb24gKHBvc3NpYmxlVmFsdWUpIHtcbiAgICBkb21TdHlsZVtwcm9wZXJ0eV0gPSAnJztcbiAgICBkb21TdHlsZVtwcm9wZXJ0eV0gPSBwb3NzaWJsZVZhbHVlO1xuXG4gICAgLy8gTm90ZSB0aGF0IHdlIGp1c3QgbWFrZSBzdXJlIGl0IGlzIG5vdCBhbiBlbXB0eSBzdHJpbmcuIEJyb3dzZXJzIHdpbGxcbiAgICAvLyBzb21ldGltZXMgcmV3cml0ZSB2YWx1ZXMsIGJ1dCBzdGlsbCBhY2NlcHQgdGhlbS4gVGhleSB3aWxsIHNldCB0aGUgdmFsdWVcbiAgICAvLyB0byBhbiBlbXB0eSBzdHJpbmcgaWYgbm90IHN1cHBvcnRlZC5cbiAgICAvLyBFLmcuIGZvciBib3JkZXIsIFwic29saWQgMXB4IGJsYWNrXCIgYmVjb21lcyBcIjFweCBzb2xpZCBibGFja1wiXG4gICAgLy8gICAgICBidXQgXCJmb29iYXJcIiBiZWNvbWVzIFwiXCIsIHNpbmNlIGl0IGlzIG5vdCBzdXBwb3J0ZWQuXG4gICAgcmV0dXJuICEhZG9tU3R5bGVbcHJvcGVydHldO1xuICB9KTtcblxuICBpZiAod29ya2luZ1ZhbHVlKSB7XG4gICAgcHJlZml4ZWRWYWx1ZUNhY2hlW2NhY2hlS2V5XSA9IHdvcmtpbmdWYWx1ZTtcbiAgfSBlbHNlIHtcbiAgICAvLyBVbnN1cHBvcnRlZCwgYXNzdW1lIHVucHJlZml4ZWQgd29ya3MsIGJ1dCB3YXJuXG4gICAgcHJlZml4ZWRWYWx1ZUNhY2hlW2NhY2hlS2V5XSA9IHZhbHVlO1xuXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgIGlmIChjb25zb2xlICYmIGNvbnNvbGUud2Fybikge1xuICAgICAgY29uc29sZS53YXJuKCdVbnN1cHBvcnRlZCBDU1MgdmFsdWUgXCInICsgdmFsdWUgKyAnXCIgZm9yIHByb3BlcnR5IFwiJyArIHByb3BlcnR5ICsgJ1wiJyk7XG4gICAgfVxuICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICB9XG5cbiAgcmV0dXJuIHByZWZpeGVkVmFsdWVDYWNoZVtjYWNoZUtleV07XG59O1xuXG4vLyBSZXR1cm5zIGEgbmV3IHN0eWxlIG9iamVjdCB3aXRoIHZlbmRvciBwcmVmaXhlcyBhZGRlZCB0byBwcm9wZXJ0eSBuYW1lc1xuLy8gYW5kIHZhbHVlcy5cbnZhciBnZXRQcmVmaXhlZFN0eWxlID0gZnVuY3Rpb24gZ2V0UHJlZml4ZWRTdHlsZShzdHlsZSwgbW9kZSAvKiAnY3NzJyBvciAnanMnICovKSB7XG4gIG1vZGUgPSBtb2RlIHx8ICdqcyc7XG5cbiAgaWYgKCFFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoc3R5bGUpLnJlZHVjZShmdW5jdGlvbiAobmV3U3R5bGUsIGtleSkge1xuICAgICAgdmFyIHZhbHVlID0gc3R5bGVba2V5XTtcbiAgICAgIHZhciBuZXdLZXkgPSBtb2RlID09PSAnY3NzJyA/IF9jYW1lbENhc2VUb0Rhc2hDYXNlKGtleSkgOiBrZXk7XG4gICAgICB2YXIgbmV3VmFsdWUgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlWzBdIDogdmFsdWU7XG4gICAgICBuZXdTdHlsZVtuZXdLZXldID0gbmV3VmFsdWU7XG4gICAgICByZXR1cm4gbmV3U3R5bGU7XG4gICAgfSwge30pO1xuICB9XG5cbiAgdmFyIHByZWZpeGVkU3R5bGUgPSB7fTtcbiAgT2JqZWN0LmtleXMoc3R5bGUpLmZvckVhY2goZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgdmFyIHZhbHVlID0gc3R5bGVbcHJvcGVydHldO1xuXG4gICAgdmFyIG5ld1Byb3BlcnR5ID0gZ2V0UHJlZml4ZWRQcm9wZXJ0eU5hbWUocHJvcGVydHkpO1xuICAgIGlmIChuZXdQcm9wZXJ0eSA9PT0gZmFsc2UpIHtcbiAgICAgIC8vIElnbm9yZSB1bnN1cHBvcnRlZCBwcm9wZXJ0aWVzXG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gICAgICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdVbnN1cHBvcnRlZCBDU1MgcHJvcGVydHkgXCInICsgcHJvcGVydHkgKyAnXCInKTtcbiAgICAgIH1cbiAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBuZXdWYWx1ZSA9IF9nZXRQcmVmaXhlZFZhbHVlKG5ld1Byb3BlcnR5LmpzLCB2YWx1ZSwgcHJvcGVydHkpO1xuXG4gICAgcHJlZml4ZWRTdHlsZVtuZXdQcm9wZXJ0eVttb2RlXV0gPSBuZXdWYWx1ZTtcbiAgfSk7XG4gIHJldHVybiBwcmVmaXhlZFN0eWxlO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdldFByZWZpeGVkUHJvcGVydHlOYW1lOiBnZXRQcmVmaXhlZFByb3BlcnR5TmFtZSxcbiAgZ2V0UHJlZml4ZWRTdHlsZTogZ2V0UHJlZml4ZWRTdHlsZSxcbiAgY3NzUHJlZml4OiBwcmVmaXhJbmZvLmNzc1ByZWZpeCxcbiAganNQcmVmaXg6IHByZWZpeEluZm8uanNQcmVmaXhcbn07IiwiLyogQGZsb3cgKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgTW91c2VVcExpc3RlbmVyID0gcmVxdWlyZSgnLi9tb3VzZS11cC1saXN0ZW5lcicpO1xudmFyIGdldFN0YXRlID0gcmVxdWlyZSgnLi9nZXQtc3RhdGUnKTtcbnZhciBQcmVmaXhlciA9IHJlcXVpcmUoJy4vcHJlZml4ZXInKTtcbnZhciBDb25maWcgPSByZXF1aXJlKCcuL2NvbmZpZycpO1xuXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCdleGVudicpO1xudmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cuUmVhY3QgOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsLlJlYWN0IDogbnVsbCk7XG52YXIgb2JqZWN0QXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuXG4vLyBiYWJlbC1lc2xpbnQgMy4xLjcgZmFpbHMgaGVyZSBmb3Igc29tZSByZWFzb24sIGVycm9yOlxuLy8gICAwOjAgIGVycm9yICBDYW5ub3QgY2FsbCBtZXRob2QgJ2lzU2VxdWVuY2VFeHByZXNzaW9uJyBvZiB1bmRlZmluZWRcbi8vXG4vLyBkZWNsYXJlIGNsYXNzIFJhZGl1bUNvbXBvbmVudCBleHRlbmRzIFJlYWN0Q29tcG9uZW50IHtcbi8vICAgX2xhc3RNb3VzZURvd246IG51bWJlcixcbi8vICAgX3JhZGl1bU1lZGlhUXVlcnlMaXN0ZW5lcnNCeVF1ZXJ5OiBPYmplY3Q8c3RyaW5nLCB7cmVtb3ZlOiAoKSA9PiB2b2lkfT4sXG4vLyAgIF9yYWRpdW1Nb3VzZVVwTGlzdGVuZXI6IHtyZW1vdmU6ICgpID0+IHZvaWR9LFxuLy8gfVxuXG52YXIgbWVkaWFRdWVyeUxpc3RCeVF1ZXJ5U3RyaW5nID0ge307XG5cbnZhciBfaXNTcGVjaWFsS2V5ID0gZnVuY3Rpb24gX2lzU3BlY2lhbEtleShrZXkpIHtcbiAgcmV0dXJuIGtleVswXSA9PT0gJzonIHx8IGtleVswXSA9PT0gJ0AnO1xufTtcblxudmFyIF9nZXRTdHlsZVN0YXRlID0gZnVuY3Rpb24gX2dldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksIHZhbHVlKSB7XG4gIHJldHVybiBnZXRTdGF0ZShjb21wb25lbnQuc3RhdGUsIGtleSwgdmFsdWUpO1xufTtcblxudmFyIF9zZXRTdHlsZVN0YXRlID0gZnVuY3Rpb24gX3NldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksIG5ld1N0YXRlKSB7XG4gIHZhciBleGlzdGluZyA9IGNvbXBvbmVudC5zdGF0ZSAmJiBjb21wb25lbnQuc3RhdGUuX3JhZGl1bVN0eWxlU3RhdGUgfHwge307XG4gIHZhciBzdGF0ZSA9IHsgX3JhZGl1bVN0eWxlU3RhdGU6IG9iamVjdEFzc2lnbih7fSwgZXhpc3RpbmcpIH07XG4gIHN0YXRlLl9yYWRpdW1TdHlsZVN0YXRlW2tleV0gPSBzdGF0ZS5fcmFkaXVtU3R5bGVTdGF0ZVtrZXldIHx8IHt9O1xuICBvYmplY3RBc3NpZ24oc3RhdGUuX3JhZGl1bVN0eWxlU3RhdGVba2V5XSwgbmV3U3RhdGUpO1xuICBjb21wb25lbnQuc2V0U3RhdGUoc3RhdGUpO1xufTtcblxuLy8gTWVyZ2Ugc3R5bGUgb2JqZWN0cy4gU3BlY2lhbCBjYXNpbmcgZm9yIHByb3BzIHN0YXJ0aW5nIHdpdGggJzsnOyB0aGUgdmFsdWVzXG4vLyBzaG91bGQgYmUgb2JqZWN0cywgYW5kIGFyZSBtZXJnZWQgd2l0aCBvdGhlcnMgb2YgdGhlIHNhbWUgbmFtZSAoaW5zdGVhZCBvZlxuLy8gb3ZlcndyaXRpbmcpLlxudmFyIF9tZXJnZVN0eWxlcyA9IGZ1bmN0aW9uIF9tZXJnZVN0eWxlcyhzdHlsZXMpIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gIHN0eWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChzdHlsZSkge1xuICAgIGlmICghc3R5bGUgfHwgdHlwZW9mIHN0eWxlICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KHN0eWxlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIE9iamVjdC5rZXlzKHN0eWxlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmIChfaXNTcGVjaWFsS2V5KGtleSkgJiYgcmVzdWx0W2tleV0pIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSBfbWVyZ2VTdHlsZXMoW3Jlc3VsdFtrZXldLCBzdHlsZVtrZXldXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRba2V5XSA9IHN0eWxlW2tleV07XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG52YXIgX21vdXNlVXAgPSBmdW5jdGlvbiBfbW91c2VVcChjb21wb25lbnQpIHtcbiAgT2JqZWN0LmtleXMoY29tcG9uZW50LnN0YXRlLl9yYWRpdW1TdHlsZVN0YXRlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoX2dldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksICc6YWN0aXZlJykpIHtcbiAgICAgIF9zZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCB7ICc6YWN0aXZlJzogZmFsc2UgfSk7XG4gICAgfVxuICB9KTtcbn07XG5cbnZhciBfb25NZWRpYVF1ZXJ5Q2hhbmdlID0gZnVuY3Rpb24gX29uTWVkaWFRdWVyeUNoYW5nZShjb21wb25lbnQsIHF1ZXJ5LCBtZWRpYVF1ZXJ5TGlzdCkge1xuICB2YXIgc3RhdGUgPSB7fTtcbiAgc3RhdGVbcXVlcnldID0gbWVkaWFRdWVyeUxpc3QubWF0Y2hlcztcbiAgX3NldFN0eWxlU3RhdGUoY29tcG9uZW50LCAnX2FsbCcsIHN0YXRlKTtcbn07XG5cbnZhciBfcmVzb2x2ZU1lZGlhUXVlcnlTdHlsZXMgPSBmdW5jdGlvbiBfcmVzb2x2ZU1lZGlhUXVlcnlTdHlsZXMoY29tcG9uZW50LCBzdHlsZSkge1xuICBpZiAoIUNvbmZpZy5jYW5NYXRjaE1lZGlhKCkpIHtcbiAgICByZXR1cm4gc3R5bGU7XG4gIH1cblxuICBPYmplY3Qua2V5cyhzdHlsZSkuZmlsdGVyKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuIG5hbWVbMF0gPT09ICdAJztcbiAgfSkubWFwKGZ1bmN0aW9uIChxdWVyeSkge1xuICAgIHZhciBtZWRpYVF1ZXJ5U3R5bGVzID0gc3R5bGVbcXVlcnldO1xuICAgIHF1ZXJ5ID0gcXVlcnkucmVwbGFjZSgnQG1lZGlhICcsICcnKTtcblxuICAgIC8vIENyZWF0ZSBhIGdsb2JhbCBNZWRpYVF1ZXJ5TGlzdCBpZiBvbmUgZG9lc24ndCBhbHJlYWR5IGV4aXN0XG4gICAgdmFyIG1xbCA9IG1lZGlhUXVlcnlMaXN0QnlRdWVyeVN0cmluZ1txdWVyeV07XG4gICAgaWYgKCFtcWwpIHtcbiAgICAgIG1lZGlhUXVlcnlMaXN0QnlRdWVyeVN0cmluZ1txdWVyeV0gPSBtcWwgPSBDb25maWcubWF0Y2hNZWRpYShxdWVyeSk7XG4gICAgfVxuXG4gICAgLy8gS2VlcCB0cmFjayBvZiB3aGljaCBrZXlzIGFscmVhZHkgaGF2ZSBsaXN0ZW5lcnNcbiAgICBpZiAoIWNvbXBvbmVudC5fcmFkaXVtTWVkaWFRdWVyeUxpc3RlbmVyc0J5UXVlcnkpIHtcbiAgICAgIGNvbXBvbmVudC5fcmFkaXVtTWVkaWFRdWVyeUxpc3RlbmVyc0J5UXVlcnkgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoIWNvbXBvbmVudC5fcmFkaXVtTWVkaWFRdWVyeUxpc3RlbmVyc0J5UXVlcnlbcXVlcnldKSB7XG4gICAgICB2YXIgbGlzdGVuZXIgPSBfb25NZWRpYVF1ZXJ5Q2hhbmdlLmJpbmQobnVsbCwgY29tcG9uZW50LCBxdWVyeSk7XG4gICAgICBtcWwuYWRkTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgICAgY29tcG9uZW50Ll9yYWRpdW1NZWRpYVF1ZXJ5TGlzdGVuZXJzQnlRdWVyeVtxdWVyeV0gPSB7XG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgICAgIG1xbC5yZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gQXBwbHkgbWVkaWEgcXVlcnkgc3RhdGVzXG4gICAgaWYgKG1xbC5tYXRjaGVzKSB7XG4gICAgICBzdHlsZSA9IF9tZXJnZVN0eWxlcyhbc3R5bGUsIG1lZGlhUXVlcnlTdHlsZXNdKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBzdHlsZTtcbn07XG5cbi8vXG4vLyBUaGUgbnVjbGV1cyBvZiBSYWRpdW0uIHJlc29sdmVTdHlsZXMgaXMgY2FsbGVkIG9uIHRoZSByZW5kZXJlZCBlbGVtZW50c1xuLy8gYmVmb3JlIHRoZXkgYXJlIHJldHVybmVkIGluIHJlbmRlci4gSXQgaXRlcmF0ZXMgb3ZlciB0aGUgZWxlbWVudHMgYW5kXG4vLyBjaGlsZHJlbiwgcmV3cml0aW5nIHByb3BzIHRvIGFkZCBldmVudCBoYW5kbGVycyByZXF1aXJlZCB0byBjYXB0dXJlIHVzZXJcbi8vIGludGVyYWN0aW9ucyAoZS5nLiBtb3VzZSBvdmVyKS4gSXQgYWxzbyByZXBsYWNlcyB0aGUgc3R5bGUgcHJvcCBiZWNhdXNlIGl0XG4vLyBhZGRzIGluIHRoZSB2YXJpb3VzIGludGVyYWN0aW9uIHN0eWxlcyAoZS5nLiA6aG92ZXIpLlxuLy9cbnZhciByZXNvbHZlU3R5bGVzID0gZnVuY3Rpb24gcmVzb2x2ZVN0eWxlcyhjb21wb25lbnQsIC8vIFJlYWN0Q29tcG9uZW50LCBmbG93K2VzbGludCBjb21wbGFpbmluZ1xucmVuZGVyZWRFbGVtZW50LCAvLyBSZWFjdEVsZW1lbnRcbmV4aXN0aW5nS2V5TWFwKSB7XG4gIC8vIFJlYWN0RWxlbWVudFxuICBleGlzdGluZ0tleU1hcCA9IGV4aXN0aW5nS2V5TWFwIHx8IHt9O1xuXG4gIGlmICghcmVuZGVyZWRFbGVtZW50KSB7XG4gICAgcmV0dXJuIHJlbmRlcmVkRWxlbWVudDtcbiAgfVxuXG4gIC8vIFJlY3Vyc2Ugb3ZlciBjaGlsZHJlbiBmaXJzdCBpbiBjYXNlIHdlIGJhaWwgZWFybHkuIE5vdGUgdGhhdCBjaGlsZHJlbiBvbmx5XG4gIC8vIGluY2x1ZGUgdGhvc2UgcmVuZGVyZWQgaW4gYHRoaXNgIGNvbXBvbmVudC4gQ2hpbGQgbm9kZXMgaW4gb3RoZXIgY29tcG9uZW50c1xuICAvLyB3aWxsIG5vdCBiZSBoZXJlLCBzbyBlYWNoIGNvbXBvbmVudCBuZWVkcyB0byB1c2UgUmFkaXVtLlxuICB2YXIgbmV3Q2hpbGRyZW4gPSBudWxsO1xuICB2YXIgb2xkQ2hpbGRyZW4gPSByZW5kZXJlZEVsZW1lbnQucHJvcHMuY2hpbGRyZW47XG4gIGlmIChvbGRDaGlsZHJlbikge1xuICAgIHZhciBjaGlsZHJlblR5cGUgPSB0eXBlb2Ygb2xkQ2hpbGRyZW47XG4gICAgaWYgKGNoaWxkcmVuVHlwZSA9PT0gJ3N0cmluZycgfHwgY2hpbGRyZW5UeXBlID09PSAnbnVtYmVyJykge1xuICAgICAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgd2l0aCBhIHNpbmdsZSBwcmltaXRpdmUgY2hpbGRcbiAgICAgIG5ld0NoaWxkcmVuID0gb2xkQ2hpbGRyZW47XG4gICAgfSBlbHNlIGlmIChSZWFjdC5DaGlsZHJlbi5jb3VudChvbGRDaGlsZHJlbikgPT09IDEgJiYgb2xkQ2hpbGRyZW4udHlwZSkge1xuICAgICAgLy8gSWYgYSBSZWFjdCBFbGVtZW50IGlzIGFuIG9ubHkgY2hpbGQsIGRvbid0IHdyYXAgaXQgaW4gYW4gYXJyYXkgZm9yXG4gICAgICAvLyBSZWFjdC5DaGlsZHJlbi5tYXAoKSBmb3IgUmVhY3QuQ2hpbGRyZW4ub25seSgpIGNvbXBhdGliaWxpdHkuXG4gICAgICB2YXIgb25seUNoaWxkID0gUmVhY3QuQ2hpbGRyZW4ub25seShvbGRDaGlsZHJlbik7XG4gICAgICBuZXdDaGlsZHJlbiA9IHJlc29sdmVTdHlsZXMoY29tcG9uZW50LCBvbmx5Q2hpbGQsIGV4aXN0aW5nS2V5TWFwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3Q2hpbGRyZW4gPSBSZWFjdC5DaGlsZHJlbi5tYXAob2xkQ2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICBpZiAoUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmVTdHlsZXMoY29tcG9uZW50LCBjaGlsZCwgZXhpc3RpbmdLZXlNYXApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gQmFpbCBlYXJseSBpZiBlbGVtZW50IGlzIG5vdCBhIHNpbXBsZSBSZWFjdERPTUVsZW1lbnQuXG4gIGlmICghUmVhY3QuaXNWYWxpZEVsZW1lbnQocmVuZGVyZWRFbGVtZW50KSB8fCB0eXBlb2YgcmVuZGVyZWRFbGVtZW50LnR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKG9sZENoaWxkcmVuID09PSBuZXdDaGlsZHJlbikge1xuICAgICAgcmV0dXJuIHJlbmRlcmVkRWxlbWVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KHJlbmRlcmVkRWxlbWVudCwgcmVuZGVyZWRFbGVtZW50LnByb3BzLCBuZXdDaGlsZHJlbik7XG4gIH1cblxuICB2YXIgcHJvcHMgPSByZW5kZXJlZEVsZW1lbnQucHJvcHM7XG4gIHZhciBzdHlsZSA9IHByb3BzLnN0eWxlO1xuICB2YXIgbmV3UHJvcHMgPSB7fTtcblxuICAvLyBDb252ZW5pZW50IHN5bnRheCBmb3IgbXVsdGlwbGUgc3R5bGVzOiBgc3R5bGU9e1tzdHlsZTEsIHN0eWxlMiwgZXRjXX1gXG4gIC8vIElnbm9yZXMgbm9uLW9iamVjdHMsIHNvIHlvdSBjYW4gZG8gYHRoaXMuc3RhdGUuaXNDb29sICYmIHN0eWxlcy5jb29sYC5cbiAgaWYgKEFycmF5LmlzQXJyYXkoc3R5bGUpKSB7XG4gICAgc3R5bGUgPSBfbWVyZ2VTdHlsZXMoc3R5bGUpO1xuICB9XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAvLyBXYXJuIGlmIHlvdSB1c2UgbG9uZ2hhbmQgYW5kIHNob3J0aGFuZCBwcm9wZXJ0aWVzIGluIHRoZSBzYW1lIHN0eWxlXG4gICAgLy8gb2JqZWN0LlxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9TaG9ydGhhbmRfcHJvcGVydGllc1xuXG4gICAgdmFyIHNob3J0aGFuZFByb3BzID0gWydiYWNrZ3JvdW5kJywgJ2JvcmRlcicsICdib3JkZXJCb3R0b20nLCAnYm9yZGVyQ29sb3InLCAnYm9yZGVyTGVmdCcsICdib3JkZXJSYWRpdXMnLCAnYm9yZGVyUmlnaHQnLCAnYm9yZGVyU3R5bGUnLCAnYm9yZGVyVG9wJywgJ2JvcmRlcldpZHRoJywgJ2ZvbnQnLCAnbGlzdFN0eWxlJywgJ21hcmdpbicsICdwYWRkaW5nJywgJ3RyYW5zZm9ybScsICd0cmFuc2l0aW9uJ107XG5cbiAgICB2YXIgY2hlY2tQcm9wcyA9IGZ1bmN0aW9uIGNoZWNrUHJvcHMocykge1xuICAgICAgaWYgKHR5cGVvZiBzICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocyk7XG4gICAgICBzaG9ydGhhbmRQcm9wcy5mb3JFYWNoKGZ1bmN0aW9uIChzaG9ydGhhbmQpIHtcbiAgICAgICAgaWYgKHNbc2hvcnRoYW5kXSAmJiBrZXlzLnNvbWUoZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICByZXR1cm4gayAhPT0gc2hvcnRoYW5kICYmIGsuaW5kZXhPZihzaG9ydGhhbmQpID09PSAwO1xuICAgICAgICB9KSkge1xuICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICBjb25zb2xlLndhcm4oJ1JhZGl1bTogcHJvcGVydHkgXCInICsgc2hvcnRoYW5kICsgJ1wiIGluIHN0eWxlIG9iamVjdCcsIHN0eWxlLCAnOiBkbyBub3QgbWl4IGxvbmdoYW5kIGFuZCAnICsgJ3Nob3J0aGFuZCBwcm9wZXJ0aWVzIGluIHRoZSBzYW1lIHN0eWxlIG9iamVjdC4gU2VlICcgKyAnaHR0cHM6Ly9naXRodWIuY29tL0Zvcm1pZGFibGVMYWJzL3JhZGl1bS9pc3N1ZXMvOTUgZm9yIG1vcmUgJyArICdpbmZvcm1hdGlvbi4nKTtcbiAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICByZXR1cm4gY2hlY2tQcm9wcyhzW2tdKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgY2hlY2tQcm9wcyhzdHlsZSk7XG4gIH1cblxuICAvLyBCYWlsIGVhcmx5IGlmIG5vIGludGVyYWN0aXZlIHN0eWxlcy5cbiAgaWYgKCFzdHlsZSB8fCAhT2JqZWN0LmtleXMoc3R5bGUpLnNvbWUoX2lzU3BlY2lhbEtleSkpIHtcbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgIC8vIFN0aWxsIHBlcmZvcm0gdmVuZG9yIHByZWZpeGluZywgdGhvdWdoLlxuICAgICAgbmV3UHJvcHMuc3R5bGUgPSBQcmVmaXhlci5nZXRQcmVmaXhlZFN0eWxlKHN0eWxlKTtcbiAgICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQocmVuZGVyZWRFbGVtZW50LCBuZXdQcm9wcywgbmV3Q2hpbGRyZW4pO1xuICAgIH0gZWxzZSBpZiAobmV3Q2hpbGRyZW4pIHtcbiAgICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQocmVuZGVyZWRFbGVtZW50LCB7fSwgbmV3Q2hpbGRyZW4pO1xuICAgIH1cblxuICAgIHJldHVybiByZW5kZXJlZEVsZW1lbnQ7XG4gIH1cblxuICAvLyBXZSBuZWVkIGEgdW5pcXVlIGtleSB0byBjb3JyZWxhdGUgc3RhdGUgY2hhbmdlcyBkdWUgdG8gdXNlciBpbnRlcmFjdGlvblxuICAvLyB3aXRoIHRoZSByZW5kZXJlZCBlbGVtZW50LCBzbyB3ZSBrbm93IHRvIGFwcGx5IHRoZSBwcm9wZXIgaW50ZXJhY3RpdmVcbiAgLy8gc3R5bGVzLlxuICB2YXIgb3JpZ2luYWxLZXkgPSByZW5kZXJlZEVsZW1lbnQucmVmIHx8IHJlbmRlcmVkRWxlbWVudC5rZXk7XG4gIHZhciBrZXkgPSBvcmlnaW5hbEtleSB8fCAnbWFpbic7XG5cbiAgaWYgKGV4aXN0aW5nS2V5TWFwW2tleV0pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1JhZGl1bSByZXF1aXJlcyBlYWNoIGVsZW1lbnQgd2l0aCBpbnRlcmFjdGl2ZSBzdHlsZXMgdG8gaGF2ZSBhIHVuaXF1ZSAnICsgJ2tleSwgc2V0IHVzaW5nIGVpdGhlciB0aGUgcmVmIG9yIGtleSBwcm9wLiAnICsgKG9yaWdpbmFsS2V5ID8gJ0tleSBcIicgKyBvcmlnaW5hbEtleSArICdcIiBpcyBhIGR1cGxpY2F0ZS4nIDogJ011bHRpcGxlIGVsZW1lbnRzIGhhdmUgbm8ga2V5IHNwZWNpZmllZC4nKSk7XG4gIH1cblxuICBleGlzdGluZ0tleU1hcFtrZXldID0gdHJ1ZTtcblxuICAvLyBNZWRpYSBxdWVyaWVzIGNhbiBjb250YWluIHBzZXVkbyBzdHlsZXMsIGxpa2UgOmhvdmVyXG4gIHN0eWxlID0gX3Jlc29sdmVNZWRpYVF1ZXJ5U3R5bGVzKGNvbXBvbmVudCwgc3R5bGUpO1xuXG4gIHZhciBuZXdTdHlsZSA9IHt9O1xuICBPYmplY3Qua2V5cyhzdHlsZSkuZm9yRWFjaChmdW5jdGlvbiAoc3R5bGVLZXkpIHtcbiAgICBpZiAoIV9pc1NwZWNpYWxLZXkoc3R5bGVLZXkpKSB7XG4gICAgICBuZXdTdHlsZVtzdHlsZUtleV0gPSBzdHlsZVtzdHlsZUtleV07XG4gICAgfVxuICB9KTtcblxuICAvLyBPbmx5IGFkZCBoYW5kbGVycyBpZiBuZWNlc3NhcnlcbiAgaWYgKHN0eWxlWyc6aG92ZXInXSB8fCBzdHlsZVsnOmFjdGl2ZSddKSB7XG4gICAgLy8gQWx3YXlzIGNhbGwgdGhlIGV4aXN0aW5nIGhhbmRsZXIgaWYgb25lIGlzIGFscmVhZHkgZGVmaW5lZC5cbiAgICAvLyBUaGlzIGNvZGUsIGFuZCB0aGUgdmVyeSBzaW1pbGFyIG9uZXMgYmVsb3csIGNvdWxkIGJlIGFic3RyYWN0ZWQgYSBiaXRcbiAgICAvLyBtb3JlLCBidXQgaXQgaHVydHMgcmVhZGFiaWxpdHkgSU1PLlxuICAgIHZhciBleGlzdGluZ09uTW91c2VFbnRlciA9IHByb3BzLm9uTW91c2VFbnRlcjtcbiAgICBuZXdQcm9wcy5vbk1vdXNlRW50ZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZXhpc3RpbmdPbk1vdXNlRW50ZXIgJiYgZXhpc3RpbmdPbk1vdXNlRW50ZXIoZSk7XG4gICAgICBfc2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgeyAnOmhvdmVyJzogdHJ1ZSB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGV4aXN0aW5nT25Nb3VzZUxlYXZlID0gcHJvcHMub25Nb3VzZUxlYXZlO1xuICAgIG5ld1Byb3BzLm9uTW91c2VMZWF2ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBleGlzdGluZ09uTW91c2VMZWF2ZSAmJiBleGlzdGluZ09uTW91c2VMZWF2ZShlKTtcbiAgICAgIF9zZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCB7ICc6aG92ZXInOiBmYWxzZSB9KTtcbiAgICB9O1xuICB9XG5cbiAgaWYgKHN0eWxlWyc6YWN0aXZlJ10pIHtcbiAgICB2YXIgZXhpc3RpbmdPbk1vdXNlRG93biA9IHByb3BzLm9uTW91c2VEb3duO1xuICAgIG5ld1Byb3BzLm9uTW91c2VEb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGV4aXN0aW5nT25Nb3VzZURvd24gJiYgZXhpc3RpbmdPbk1vdXNlRG93bihlKTtcbiAgICAgIGNvbXBvbmVudC5fbGFzdE1vdXNlRG93biA9IERhdGUubm93KCk7XG4gICAgICBfc2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgeyAnOmFjdGl2ZSc6IHRydWUgfSk7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChzdHlsZVsnOmZvY3VzJ10pIHtcbiAgICB2YXIgZXhpc3RpbmdPbkZvY3VzID0gcHJvcHMub25Gb2N1cztcbiAgICBuZXdQcm9wcy5vbkZvY3VzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGV4aXN0aW5nT25Gb2N1cyAmJiBleGlzdGluZ09uRm9jdXMoZSk7XG4gICAgICBfc2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgeyAnOmZvY3VzJzogdHJ1ZSB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGV4aXN0aW5nT25CbHVyID0gcHJvcHMub25CbHVyO1xuICAgIG5ld1Byb3BzLm9uQmx1ciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBleGlzdGluZ09uQmx1ciAmJiBleGlzdGluZ09uQmx1cihlKTtcbiAgICAgIF9zZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCB7ICc6Zm9jdXMnOiBmYWxzZSB9KTtcbiAgICB9O1xuICB9XG5cbiAgLy8gTWVyZ2UgdGhlIHN0eWxlcyBpbiB0aGUgb3JkZXIgdGhleSB3ZXJlIGRlZmluZWRcbiAgdmFyIGludGVyYWN0aW9uU3R5bGVzID0gT2JqZWN0LmtleXMoc3R5bGUpLmZpbHRlcihmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiBuYW1lID09PSAnOmFjdGl2ZScgJiYgX2dldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksICc6YWN0aXZlJykgfHwgbmFtZSA9PT0gJzpob3ZlcicgJiYgX2dldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksICc6aG92ZXInKSB8fCBuYW1lID09PSAnOmZvY3VzJyAmJiBfZ2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgJzpmb2N1cycpO1xuICB9KS5tYXAoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gc3R5bGVbbmFtZV07XG4gIH0pO1xuXG4gIGlmIChpbnRlcmFjdGlvblN0eWxlcy5sZW5ndGgpIHtcbiAgICBuZXdTdHlsZSA9IF9tZXJnZVN0eWxlcyhbbmV3U3R5bGVdLmNvbmNhdChpbnRlcmFjdGlvblN0eWxlcykpO1xuICB9XG5cbiAgaWYgKHN0eWxlWyc6YWN0aXZlJ10gJiYgIWNvbXBvbmVudC5fcmFkaXVtTW91c2VVcExpc3RlbmVyICYmIEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZUV2ZW50TGlzdGVuZXJzKSB7XG4gICAgY29tcG9uZW50Ll9yYWRpdW1Nb3VzZVVwTGlzdGVuZXIgPSBNb3VzZVVwTGlzdGVuZXIuc3Vic2NyaWJlKF9tb3VzZVVwLmJpbmQobnVsbCwgY29tcG9uZW50KSk7XG4gIH1cblxuICBuZXdQcm9wcy5zdHlsZSA9IFByZWZpeGVyLmdldFByZWZpeGVkU3R5bGUobmV3U3R5bGUpO1xuXG4gIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQocmVuZGVyZWRFbGVtZW50LCBuZXdQcm9wcywgbmV3Q2hpbGRyZW4pO1xufTtcblxuLy8gRXhwb3NpbmcgbWV0aG9kcyBmb3IgdGVzdHMgaXMgdWdseSwgYnV0IHRoZSBhbHRlcm5hdGl2ZSwgcmUtcmVxdWlyaW5nIHRoZVxuLy8gbW9kdWxlIGVhY2ggdGltZSwgaXMgdG9vIHNsb3dcbnJlc29sdmVTdHlsZXMuX19jbGVhclN0YXRlRm9yVGVzdHMgPSBmdW5jdGlvbiAoKSB7XG4gIG1lZGlhUXVlcnlMaXN0QnlRdWVyeVN0cmluZyA9IHt9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSByZXNvbHZlU3R5bGVzOyIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gZmluZChhcnJheSwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gIGlmICh0eXBlb2YgQXJyYXkucHJvdG90eXBlLmZpbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYXJyYXkuZmluZChwcmVkaWNhdGUsIGNvbnRleHQpO1xuICB9XG5cbiAgY29udGV4dCA9IGNvbnRleHQgfHwgdGhpcztcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgdmFyIGk7XG5cbiAgaWYgKHR5cGVvZiBwcmVkaWNhdGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHByZWRpY2F0ZSArICcgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGlmIChwcmVkaWNhdGUuY2FsbChjb250ZXh0LCBhcnJheVtpXSwgaSwgYXJyYXkpKSB7XG4gICAgICByZXR1cm4gYXJyYXlbaV07XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZmluZDtcbiIsIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTUgSmVkIFdhdHNvbi5cbiAgQmFzZWQgb24gY29kZSB0aGF0IGlzIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4qL1xuXG4oZnVuY3Rpb24gKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGNhblVzZURPTSA9ICEhKFxuXHRcdHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG5cdFx0d2luZG93LmRvY3VtZW50ICYmXG5cdFx0d2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnRcblx0KTtcblxuXHR2YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSB7XG5cblx0XHRjYW5Vc2VET006IGNhblVzZURPTSxcblxuXHRcdGNhblVzZVdvcmtlcnM6IHR5cGVvZiBXb3JrZXIgIT09ICd1bmRlZmluZWQnLFxuXG5cdFx0Y2FuVXNlRXZlbnRMaXN0ZW5lcnM6XG5cdFx0XHRjYW5Vc2VET00gJiYgISEod2luZG93LmFkZEV2ZW50TGlzdGVuZXIgfHwgd2luZG93LmF0dGFjaEV2ZW50KSxcblxuXHRcdGNhblVzZVZpZXdwb3J0OiBjYW5Vc2VET00gJiYgISF3aW5kb3cuc2NyZWVuXG5cblx0fTtcblxuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdGRlZmluZShmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gRXhlY3V0aW9uRW52aXJvbm1lbnQ7XG5cdFx0fSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IEV4ZWN1dGlvbkVudmlyb25tZW50O1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5FeGVjdXRpb25FbnZpcm9ubWVudCA9IEV4ZWN1dGlvbkVudmlyb25tZW50O1xuXHR9XG5cbn0oKSk7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbmZ1bmN0aW9uIFRvT2JqZWN0KHZhbCkge1xuXHRpZiAodmFsID09IG51bGwpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZCcpO1xuXHR9XG5cblx0cmV0dXJuIE9iamVjdCh2YWwpO1xufVxuXG5mdW5jdGlvbiBvd25FbnVtZXJhYmxlS2V5cyhvYmopIHtcblx0dmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopO1xuXG5cdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG5cdFx0a2V5cyA9IGtleXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqKSk7XG5cdH1cblxuXHRyZXR1cm4ga2V5cy5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuXHRcdHJldHVybiBwcm9wSXNFbnVtZXJhYmxlLmNhbGwob2JqLCBrZXkpO1xuXHR9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuXHR2YXIgZnJvbTtcblx0dmFyIGtleXM7XG5cdHZhciB0byA9IFRvT2JqZWN0KHRhcmdldCk7XG5cblx0Zm9yICh2YXIgcyA9IDE7IHMgPCBhcmd1bWVudHMubGVuZ3RoOyBzKyspIHtcblx0XHRmcm9tID0gYXJndW1lbnRzW3NdO1xuXHRcdGtleXMgPSBvd25FbnVtZXJhYmxlS2V5cyhPYmplY3QoZnJvbSkpO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR0b1trZXlzW2ldXSA9IGZyb21ba2V5c1tpXV07XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cy5EaXNwYXRjaGVyID0gcmVxdWlyZSgnLi9saWIvRGlzcGF0Y2hlcicpXG4iLCIvKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIERpc3BhdGNoZXJcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCcuL2ludmFyaWFudCcpO1xuXG52YXIgX2xhc3RJRCA9IDE7XG52YXIgX3ByZWZpeCA9ICdJRF8nO1xuXG4vKipcbiAqIERpc3BhdGNoZXIgaXMgdXNlZCB0byBicm9hZGNhc3QgcGF5bG9hZHMgdG8gcmVnaXN0ZXJlZCBjYWxsYmFja3MuIFRoaXMgaXNcbiAqIGRpZmZlcmVudCBmcm9tIGdlbmVyaWMgcHViLXN1YiBzeXN0ZW1zIGluIHR3byB3YXlzOlxuICpcbiAqICAgMSkgQ2FsbGJhY2tzIGFyZSBub3Qgc3Vic2NyaWJlZCB0byBwYXJ0aWN1bGFyIGV2ZW50cy4gRXZlcnkgcGF5bG9hZCBpc1xuICogICAgICBkaXNwYXRjaGVkIHRvIGV2ZXJ5IHJlZ2lzdGVyZWQgY2FsbGJhY2suXG4gKiAgIDIpIENhbGxiYWNrcyBjYW4gYmUgZGVmZXJyZWQgaW4gd2hvbGUgb3IgcGFydCB1bnRpbCBvdGhlciBjYWxsYmFja3MgaGF2ZVxuICogICAgICBiZWVuIGV4ZWN1dGVkLlxuICpcbiAqIEZvciBleGFtcGxlLCBjb25zaWRlciB0aGlzIGh5cG90aGV0aWNhbCBmbGlnaHQgZGVzdGluYXRpb24gZm9ybSwgd2hpY2hcbiAqIHNlbGVjdHMgYSBkZWZhdWx0IGNpdHkgd2hlbiBhIGNvdW50cnkgaXMgc2VsZWN0ZWQ6XG4gKlxuICogICB2YXIgZmxpZ2h0RGlzcGF0Y2hlciA9IG5ldyBEaXNwYXRjaGVyKCk7XG4gKlxuICogICAvLyBLZWVwcyB0cmFjayBvZiB3aGljaCBjb3VudHJ5IGlzIHNlbGVjdGVkXG4gKiAgIHZhciBDb3VudHJ5U3RvcmUgPSB7Y291bnRyeTogbnVsbH07XG4gKlxuICogICAvLyBLZWVwcyB0cmFjayBvZiB3aGljaCBjaXR5IGlzIHNlbGVjdGVkXG4gKiAgIHZhciBDaXR5U3RvcmUgPSB7Y2l0eTogbnVsbH07XG4gKlxuICogICAvLyBLZWVwcyB0cmFjayBvZiB0aGUgYmFzZSBmbGlnaHQgcHJpY2Ugb2YgdGhlIHNlbGVjdGVkIGNpdHlcbiAqICAgdmFyIEZsaWdodFByaWNlU3RvcmUgPSB7cHJpY2U6IG51bGx9XG4gKlxuICogV2hlbiBhIHVzZXIgY2hhbmdlcyB0aGUgc2VsZWN0ZWQgY2l0eSwgd2UgZGlzcGF0Y2ggdGhlIHBheWxvYWQ6XG4gKlxuICogICBmbGlnaHREaXNwYXRjaGVyLmRpc3BhdGNoKHtcbiAqICAgICBhY3Rpb25UeXBlOiAnY2l0eS11cGRhdGUnLFxuICogICAgIHNlbGVjdGVkQ2l0eTogJ3BhcmlzJ1xuICogICB9KTtcbiAqXG4gKiBUaGlzIHBheWxvYWQgaXMgZGlnZXN0ZWQgYnkgYENpdHlTdG9yZWA6XG4gKlxuICogICBmbGlnaHREaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAqICAgICBpZiAocGF5bG9hZC5hY3Rpb25UeXBlID09PSAnY2l0eS11cGRhdGUnKSB7XG4gKiAgICAgICBDaXR5U3RvcmUuY2l0eSA9IHBheWxvYWQuc2VsZWN0ZWRDaXR5O1xuICogICAgIH1cbiAqICAgfSk7XG4gKlxuICogV2hlbiB0aGUgdXNlciBzZWxlY3RzIGEgY291bnRyeSwgd2UgZGlzcGF0Y2ggdGhlIHBheWxvYWQ6XG4gKlxuICogICBmbGlnaHREaXNwYXRjaGVyLmRpc3BhdGNoKHtcbiAqICAgICBhY3Rpb25UeXBlOiAnY291bnRyeS11cGRhdGUnLFxuICogICAgIHNlbGVjdGVkQ291bnRyeTogJ2F1c3RyYWxpYSdcbiAqICAgfSk7XG4gKlxuICogVGhpcyBwYXlsb2FkIGlzIGRpZ2VzdGVkIGJ5IGJvdGggc3RvcmVzOlxuICpcbiAqICAgIENvdW50cnlTdG9yZS5kaXNwYXRjaFRva2VuID0gZmxpZ2h0RGlzcGF0Y2hlci5yZWdpc3RlcihmdW5jdGlvbihwYXlsb2FkKSB7XG4gKiAgICAgaWYgKHBheWxvYWQuYWN0aW9uVHlwZSA9PT0gJ2NvdW50cnktdXBkYXRlJykge1xuICogICAgICAgQ291bnRyeVN0b3JlLmNvdW50cnkgPSBwYXlsb2FkLnNlbGVjdGVkQ291bnRyeTtcbiAqICAgICB9XG4gKiAgIH0pO1xuICpcbiAqIFdoZW4gdGhlIGNhbGxiYWNrIHRvIHVwZGF0ZSBgQ291bnRyeVN0b3JlYCBpcyByZWdpc3RlcmVkLCB3ZSBzYXZlIGEgcmVmZXJlbmNlXG4gKiB0byB0aGUgcmV0dXJuZWQgdG9rZW4uIFVzaW5nIHRoaXMgdG9rZW4gd2l0aCBgd2FpdEZvcigpYCwgd2UgY2FuIGd1YXJhbnRlZVxuICogdGhhdCBgQ291bnRyeVN0b3JlYCBpcyB1cGRhdGVkIGJlZm9yZSB0aGUgY2FsbGJhY2sgdGhhdCB1cGRhdGVzIGBDaXR5U3RvcmVgXG4gKiBuZWVkcyB0byBxdWVyeSBpdHMgZGF0YS5cbiAqXG4gKiAgIENpdHlTdG9yZS5kaXNwYXRjaFRva2VuID0gZmxpZ2h0RGlzcGF0Y2hlci5yZWdpc3RlcihmdW5jdGlvbihwYXlsb2FkKSB7XG4gKiAgICAgaWYgKHBheWxvYWQuYWN0aW9uVHlwZSA9PT0gJ2NvdW50cnktdXBkYXRlJykge1xuICogICAgICAgLy8gYENvdW50cnlTdG9yZS5jb3VudHJ5YCBtYXkgbm90IGJlIHVwZGF0ZWQuXG4gKiAgICAgICBmbGlnaHREaXNwYXRjaGVyLndhaXRGb3IoW0NvdW50cnlTdG9yZS5kaXNwYXRjaFRva2VuXSk7XG4gKiAgICAgICAvLyBgQ291bnRyeVN0b3JlLmNvdW50cnlgIGlzIG5vdyBndWFyYW50ZWVkIHRvIGJlIHVwZGF0ZWQuXG4gKlxuICogICAgICAgLy8gU2VsZWN0IHRoZSBkZWZhdWx0IGNpdHkgZm9yIHRoZSBuZXcgY291bnRyeVxuICogICAgICAgQ2l0eVN0b3JlLmNpdHkgPSBnZXREZWZhdWx0Q2l0eUZvckNvdW50cnkoQ291bnRyeVN0b3JlLmNvdW50cnkpO1xuICogICAgIH1cbiAqICAgfSk7XG4gKlxuICogVGhlIHVzYWdlIG9mIGB3YWl0Rm9yKClgIGNhbiBiZSBjaGFpbmVkLCBmb3IgZXhhbXBsZTpcbiAqXG4gKiAgIEZsaWdodFByaWNlU3RvcmUuZGlzcGF0Y2hUb2tlbiA9XG4gKiAgICAgZmxpZ2h0RGlzcGF0Y2hlci5yZWdpc3RlcihmdW5jdGlvbihwYXlsb2FkKSB7XG4gKiAgICAgICBzd2l0Y2ggKHBheWxvYWQuYWN0aW9uVHlwZSkge1xuICogICAgICAgICBjYXNlICdjb3VudHJ5LXVwZGF0ZSc6XG4gKiAgICAgICAgICAgZmxpZ2h0RGlzcGF0Y2hlci53YWl0Rm9yKFtDaXR5U3RvcmUuZGlzcGF0Y2hUb2tlbl0pO1xuICogICAgICAgICAgIEZsaWdodFByaWNlU3RvcmUucHJpY2UgPVxuICogICAgICAgICAgICAgZ2V0RmxpZ2h0UHJpY2VTdG9yZShDb3VudHJ5U3RvcmUuY291bnRyeSwgQ2l0eVN0b3JlLmNpdHkpO1xuICogICAgICAgICAgIGJyZWFrO1xuICpcbiAqICAgICAgICAgY2FzZSAnY2l0eS11cGRhdGUnOlxuICogICAgICAgICAgIEZsaWdodFByaWNlU3RvcmUucHJpY2UgPVxuICogICAgICAgICAgICAgRmxpZ2h0UHJpY2VTdG9yZShDb3VudHJ5U3RvcmUuY291bnRyeSwgQ2l0eVN0b3JlLmNpdHkpO1xuICogICAgICAgICAgIGJyZWFrO1xuICogICAgIH1cbiAqICAgfSk7XG4gKlxuICogVGhlIGBjb3VudHJ5LXVwZGF0ZWAgcGF5bG9hZCB3aWxsIGJlIGd1YXJhbnRlZWQgdG8gaW52b2tlIHRoZSBzdG9yZXMnXG4gKiByZWdpc3RlcmVkIGNhbGxiYWNrcyBpbiBvcmRlcjogYENvdW50cnlTdG9yZWAsIGBDaXR5U3RvcmVgLCB0aGVuXG4gKiBgRmxpZ2h0UHJpY2VTdG9yZWAuXG4gKi9cblxuICBmdW5jdGlvbiBEaXNwYXRjaGVyKCkge1xuICAgIHRoaXMuJERpc3BhdGNoZXJfY2FsbGJhY2tzID0ge307XG4gICAgdGhpcy4kRGlzcGF0Y2hlcl9pc1BlbmRpbmcgPSB7fTtcbiAgICB0aGlzLiREaXNwYXRjaGVyX2lzSGFuZGxlZCA9IHt9O1xuICAgIHRoaXMuJERpc3BhdGNoZXJfaXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuICAgIHRoaXMuJERpc3BhdGNoZXJfcGVuZGluZ1BheWxvYWQgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBhIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgd2l0aCBldmVyeSBkaXNwYXRjaGVkIHBheWxvYWQuIFJldHVybnNcbiAgICogYSB0b2tlbiB0aGF0IGNhbiBiZSB1c2VkIHdpdGggYHdhaXRGb3IoKWAuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIERpc3BhdGNoZXIucHJvdG90eXBlLnJlZ2lzdGVyPWZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgdmFyIGlkID0gX3ByZWZpeCArIF9sYXN0SUQrKztcbiAgICB0aGlzLiREaXNwYXRjaGVyX2NhbGxiYWNrc1tpZF0gPSBjYWxsYmFjaztcbiAgICByZXR1cm4gaWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBjYWxsYmFjayBiYXNlZCBvbiBpdHMgdG9rZW4uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgKi9cbiAgRGlzcGF0Y2hlci5wcm90b3R5cGUudW5yZWdpc3Rlcj1mdW5jdGlvbihpZCkge1xuICAgIGludmFyaWFudChcbiAgICAgIHRoaXMuJERpc3BhdGNoZXJfY2FsbGJhY2tzW2lkXSxcbiAgICAgICdEaXNwYXRjaGVyLnVucmVnaXN0ZXIoLi4uKTogYCVzYCBkb2VzIG5vdCBtYXAgdG8gYSByZWdpc3RlcmVkIGNhbGxiYWNrLicsXG4gICAgICBpZFxuICAgICk7XG4gICAgZGVsZXRlIHRoaXMuJERpc3BhdGNoZXJfY2FsbGJhY2tzW2lkXTtcbiAgfTtcblxuICAvKipcbiAgICogV2FpdHMgZm9yIHRoZSBjYWxsYmFja3Mgc3BlY2lmaWVkIHRvIGJlIGludm9rZWQgYmVmb3JlIGNvbnRpbnVpbmcgZXhlY3V0aW9uXG4gICAqIG9mIHRoZSBjdXJyZW50IGNhbGxiYWNrLiBUaGlzIG1ldGhvZCBzaG91bGQgb25seSBiZSB1c2VkIGJ5IGEgY2FsbGJhY2sgaW5cbiAgICogcmVzcG9uc2UgdG8gYSBkaXNwYXRjaGVkIHBheWxvYWQuXG4gICAqXG4gICAqIEBwYXJhbSB7YXJyYXk8c3RyaW5nPn0gaWRzXG4gICAqL1xuICBEaXNwYXRjaGVyLnByb3RvdHlwZS53YWl0Rm9yPWZ1bmN0aW9uKGlkcykge1xuICAgIGludmFyaWFudChcbiAgICAgIHRoaXMuJERpc3BhdGNoZXJfaXNEaXNwYXRjaGluZyxcbiAgICAgICdEaXNwYXRjaGVyLndhaXRGb3IoLi4uKTogTXVzdCBiZSBpbnZva2VkIHdoaWxlIGRpc3BhdGNoaW5nLidcbiAgICApO1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBpZHMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICB2YXIgaWQgPSBpZHNbaWldO1xuICAgICAgaWYgKHRoaXMuJERpc3BhdGNoZXJfaXNQZW5kaW5nW2lkXSkge1xuICAgICAgICBpbnZhcmlhbnQoXG4gICAgICAgICAgdGhpcy4kRGlzcGF0Y2hlcl9pc0hhbmRsZWRbaWRdLFxuICAgICAgICAgICdEaXNwYXRjaGVyLndhaXRGb3IoLi4uKTogQ2lyY3VsYXIgZGVwZW5kZW5jeSBkZXRlY3RlZCB3aGlsZSAnICtcbiAgICAgICAgICAnd2FpdGluZyBmb3IgYCVzYC4nLFxuICAgICAgICAgIGlkXG4gICAgICAgICk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaW52YXJpYW50KFxuICAgICAgICB0aGlzLiREaXNwYXRjaGVyX2NhbGxiYWNrc1tpZF0sXG4gICAgICAgICdEaXNwYXRjaGVyLndhaXRGb3IoLi4uKTogYCVzYCBkb2VzIG5vdCBtYXAgdG8gYSByZWdpc3RlcmVkIGNhbGxiYWNrLicsXG4gICAgICAgIGlkXG4gICAgICApO1xuICAgICAgdGhpcy4kRGlzcGF0Y2hlcl9pbnZva2VDYWxsYmFjayhpZCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBEaXNwYXRjaGVzIGEgcGF5bG9hZCB0byBhbGwgcmVnaXN0ZXJlZCBjYWxsYmFja3MuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXlsb2FkXG4gICAqL1xuICBEaXNwYXRjaGVyLnByb3RvdHlwZS5kaXNwYXRjaD1mdW5jdGlvbihwYXlsb2FkKSB7XG4gICAgaW52YXJpYW50KFxuICAgICAgIXRoaXMuJERpc3BhdGNoZXJfaXNEaXNwYXRjaGluZyxcbiAgICAgICdEaXNwYXRjaC5kaXNwYXRjaCguLi4pOiBDYW5ub3QgZGlzcGF0Y2ggaW4gdGhlIG1pZGRsZSBvZiBhIGRpc3BhdGNoLidcbiAgICApO1xuICAgIHRoaXMuJERpc3BhdGNoZXJfc3RhcnREaXNwYXRjaGluZyhwYXlsb2FkKTtcbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy4kRGlzcGF0Y2hlcl9jYWxsYmFja3MpIHtcbiAgICAgICAgaWYgKHRoaXMuJERpc3BhdGNoZXJfaXNQZW5kaW5nW2lkXSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuJERpc3BhdGNoZXJfaW52b2tlQ2FsbGJhY2soaWQpO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLiREaXNwYXRjaGVyX3N0b3BEaXNwYXRjaGluZygpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogSXMgdGhpcyBEaXNwYXRjaGVyIGN1cnJlbnRseSBkaXNwYXRjaGluZy5cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIERpc3BhdGNoZXIucHJvdG90eXBlLmlzRGlzcGF0Y2hpbmc9ZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuJERpc3BhdGNoZXJfaXNEaXNwYXRjaGluZztcbiAgfTtcblxuICAvKipcbiAgICogQ2FsbCB0aGUgY2FsbGJhY2sgc3RvcmVkIHdpdGggdGhlIGdpdmVuIGlkLiBBbHNvIGRvIHNvbWUgaW50ZXJuYWxcbiAgICogYm9va2tlZXBpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIERpc3BhdGNoZXIucHJvdG90eXBlLiREaXNwYXRjaGVyX2ludm9rZUNhbGxiYWNrPWZ1bmN0aW9uKGlkKSB7XG4gICAgdGhpcy4kRGlzcGF0Y2hlcl9pc1BlbmRpbmdbaWRdID0gdHJ1ZTtcbiAgICB0aGlzLiREaXNwYXRjaGVyX2NhbGxiYWNrc1tpZF0odGhpcy4kRGlzcGF0Y2hlcl9wZW5kaW5nUGF5bG9hZCk7XG4gICAgdGhpcy4kRGlzcGF0Y2hlcl9pc0hhbmRsZWRbaWRdID0gdHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IHVwIGJvb2trZWVwaW5nIG5lZWRlZCB3aGVuIGRpc3BhdGNoaW5nLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gcGF5bG9hZFxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIERpc3BhdGNoZXIucHJvdG90eXBlLiREaXNwYXRjaGVyX3N0YXJ0RGlzcGF0Y2hpbmc9ZnVuY3Rpb24ocGF5bG9hZCkge1xuICAgIGZvciAodmFyIGlkIGluIHRoaXMuJERpc3BhdGNoZXJfY2FsbGJhY2tzKSB7XG4gICAgICB0aGlzLiREaXNwYXRjaGVyX2lzUGVuZGluZ1tpZF0gPSBmYWxzZTtcbiAgICAgIHRoaXMuJERpc3BhdGNoZXJfaXNIYW5kbGVkW2lkXSA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLiREaXNwYXRjaGVyX3BlbmRpbmdQYXlsb2FkID0gcGF5bG9hZDtcbiAgICB0aGlzLiREaXNwYXRjaGVyX2lzRGlzcGF0Y2hpbmcgPSB0cnVlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDbGVhciBib29ra2VlcGluZyB1c2VkIGZvciBkaXNwYXRjaGluZy5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBEaXNwYXRjaGVyLnByb3RvdHlwZS4kRGlzcGF0Y2hlcl9zdG9wRGlzcGF0Y2hpbmc9ZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kRGlzcGF0Y2hlcl9wZW5kaW5nUGF5bG9hZCA9IG51bGw7XG4gICAgdGhpcy4kRGlzcGF0Y2hlcl9pc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG4gIH07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBEaXNwYXRjaGVyO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgaW52YXJpYW50XG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbnZhciBpbnZhcmlhbnQgPSBmdW5jdGlvbihjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICBpZiAoZmFsc2UpIHtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIHZhciBlcnJvcjtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICAnTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArXG4gICAgICAgICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLidcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICAnSW52YXJpYW50IFZpb2xhdGlvbjogJyArXG4gICAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107IH0pXG4gICAgICApO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbkV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKG4pIHtcbiAgaWYgKCFpc051bWJlcihuKSB8fCBuIDwgMCB8fCBpc05hTihuKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGVyLCBoYW5kbGVyLCBsZW4sIGFyZ3MsIGksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmICh0eXBlID09PSAnZXJyb3InKSB7XG4gICAgaWYgKCF0aGlzLl9ldmVudHMuZXJyb3IgfHxcbiAgICAgICAgKGlzT2JqZWN0KHRoaXMuX2V2ZW50cy5lcnJvcikgJiYgIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKSB7XG4gICAgICBlciA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgICAgfVxuICAgICAgdGhyb3cgVHlwZUVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgXCJlcnJvclwiIGV2ZW50LicpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzVW5kZWZpbmVkKGhhbmRsZXIpKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgLy8gZmFzdCBjYXNlc1xuICAgICAgY2FzZSAxOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gc2xvd2VyXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICBhcmdzID0gbmV3IEFycmF5KGxlbiAtIDEpO1xuICAgICAgICBmb3IgKGkgPSAxOyBpIDwgbGVuOyBpKyspXG4gICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIGhhbmRsZXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGhhbmRsZXIpKSB7XG4gICAgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBhcmdzID0gbmV3IEFycmF5KGxlbiAtIDEpO1xuICAgIGZvciAoaSA9IDE7IGkgPCBsZW47IGkrKylcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuXG4gICAgbGlzdGVuZXJzID0gaGFuZGxlci5zbGljZSgpO1xuICAgIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKVxuICAgICAgbGlzdGVuZXJzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIG07XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJcIi5cbiAgaWYgKHRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lcilcbiAgICB0aGlzLmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgaXNGdW5jdGlvbihsaXN0ZW5lci5saXN0ZW5lcikgP1xuICAgICAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgZWxzZSBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlXG4gICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gW3RoaXMuX2V2ZW50c1t0eXBlXSwgbGlzdGVuZXJdO1xuXG4gIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pICYmICF0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkKSB7XG4gICAgdmFyIG07XG4gICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLl9tYXhMaXN0ZW5lcnMpKSB7XG4gICAgICBtID0gdGhpcy5fbWF4TGlzdGVuZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gICAgfVxuXG4gICAgaWYgKG0gJiYgbSA+IDAgJiYgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCA+IG0pIHtcbiAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQgPSB0cnVlO1xuICAgICAgY29uc29sZS5lcnJvcignKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgJyArXG4gICAgICAgICAgICAgICAgICAgICdsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAnVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuJyxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCk7XG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUudHJhY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gbm90IHN1cHBvcnRlZCBpbiBJRSAxMFxuICAgICAgICBjb25zb2xlLnRyYWNlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIHZhciBmaXJlZCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGcoKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBnKTtcblxuICAgIGlmICghZmlyZWQpIHtcbiAgICAgIGZpcmVkID0gdHJ1ZTtcbiAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG5cbiAgZy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICB0aGlzLm9uKHR5cGUsIGcpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWRcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbGlzdCwgcG9zaXRpb24sIGxlbmd0aCwgaTtcblxuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXR1cm4gdGhpcztcblxuICBsaXN0ID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuICBsZW5ndGggPSBsaXN0Lmxlbmd0aDtcbiAgcG9zaXRpb24gPSAtMTtcblxuICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHxcbiAgICAgIChpc0Z1bmN0aW9uKGxpc3QubGlzdGVuZXIpICYmIGxpc3QubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG5cbiAgfSBlbHNlIGlmIChpc09iamVjdChsaXN0KSkge1xuICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tID4gMDspIHtcbiAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fFxuICAgICAgICAgIChsaXN0W2ldLmxpc3RlbmVyICYmIGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICByZXR1cm4gdGhpcztcblxuICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgbGlzdC5sZW5ndGggPSAwO1xuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGlzdC5zcGxpY2UocG9zaXRpb24sIDEpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGtleSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgaWYgKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIGVsc2UgaWYgKHRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICBmb3IgKGtleSBpbiB0aGlzLl9ldmVudHMpIHtcbiAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICB9XG4gICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXJzKSkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBMSUZPIG9yZGVyXG4gICAgd2hpbGUgKGxpc3RlbmVycy5sZW5ndGgpXG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tsaXN0ZW5lcnMubGVuZ3RoIC0gMV0pO1xuICB9XG4gIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIHJldDtcbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXQgPSBbXTtcbiAgZWxzZSBpZiAoaXNGdW5jdGlvbih0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIHJldCA9IFt0aGlzLl9ldmVudHNbdHlwZV1dO1xuICBlbHNlXG4gICAgcmV0ID0gdGhpcy5fZXZlbnRzW3R5cGVdLnNsaWNlKCk7XG4gIHJldHVybiByZXQ7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgdmFyIHJldDtcbiAgaWYgKCFlbWl0dGVyLl9ldmVudHMgfHwgIWVtaXR0ZXIuX2V2ZW50c1t0eXBlXSlcbiAgICByZXQgPSAwO1xuICBlbHNlIGlmIChpc0Z1bmN0aW9uKGVtaXR0ZXIuX2V2ZW50c1t0eXBlXSkpXG4gICAgcmV0ID0gMTtcbiAgZWxzZVxuICAgIHJldCA9IGVtaXR0ZXIuX2V2ZW50c1t0eXBlXS5sZW5ndGg7XG4gIHJldHVybiByZXQ7XG59O1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcblxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAoIWRyYWluaW5nKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZHJhaW5RdWV1ZSwgMCk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG4vLyBUT0RPKHNodHlsbWFuKVxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE0IEZhY2Vib29rLCBJbmMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYW4gZW51bWVyYXRpb24gd2l0aCBrZXlzIGVxdWFsIHRvIHRoZWlyIHZhbHVlLlxuICpcbiAqIEZvciBleGFtcGxlOlxuICpcbiAqICAgdmFyIENPTE9SUyA9IGtleU1pcnJvcih7Ymx1ZTogbnVsbCwgcmVkOiBudWxsfSk7XG4gKiAgIHZhciBteUNvbG9yID0gQ09MT1JTLmJsdWU7XG4gKiAgIHZhciBpc0NvbG9yVmFsaWQgPSAhIUNPTE9SU1tteUNvbG9yXTtcbiAqXG4gKiBUaGUgbGFzdCBsaW5lIGNvdWxkIG5vdCBiZSBwZXJmb3JtZWQgaWYgdGhlIHZhbHVlcyBvZiB0aGUgZ2VuZXJhdGVkIGVudW0gd2VyZVxuICogbm90IGVxdWFsIHRvIHRoZWlyIGtleXMuXG4gKlxuICogICBJbnB1dDogIHtrZXkxOiB2YWwxLCBrZXkyOiB2YWwyfVxuICogICBPdXRwdXQ6IHtrZXkxOiBrZXkxLCBrZXkyOiBrZXkyfVxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvYmpcbiAqIEByZXR1cm4ge29iamVjdH1cbiAqL1xudmFyIGtleU1pcnJvciA9IGZ1bmN0aW9uKG9iaikge1xuICB2YXIgcmV0ID0ge307XG4gIHZhciBrZXk7XG4gIGlmICghKG9iaiBpbnN0YW5jZW9mIE9iamVjdCAmJiAhQXJyYXkuaXNBcnJheShvYmopKSkge1xuICAgIHRocm93IG5ldyBFcnJvcigna2V5TWlycm9yKC4uLik6IEFyZ3VtZW50IG11c3QgYmUgYW4gb2JqZWN0LicpO1xuICB9XG4gIGZvciAoa2V5IGluIG9iaikge1xuICAgIGlmICghb2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICByZXRba2V5XSA9IGtleTtcbiAgfVxuICByZXR1cm4gcmV0O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBrZXlNaXJyb3I7XG4iXX0=
