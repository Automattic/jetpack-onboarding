(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),DataActions={requestStarted:function(){AppDispatcher.dispatch({actionType:JPSConstants.SAVE_STARTED})},requestFinished:function(){AppDispatcher.dispatch({actionType:JPSConstants.SAVE_FINISHED})}};module.exports=DataActions;


},{"../constants/jetpack-start-constants":19,"../dispatcher/app-dispatcher":21}],2:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),FlashActions={notice:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SET_FLASH,message:t,severity:JPSConstants.FLASH_SEVERITY_NOTICE})},error:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SET_FLASH,message:t,severity:JPSConstants.FLASH_SEVERITY_ERROR})},unset:function(){AppDispatcher.dispatch({actionType:JPSConstants.UNSET_FLASH})}};module.exports=FlashActions;


},{"../constants/jetpack-start-constants":19,"../dispatcher/app-dispatcher":21}],3:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),Paths=require("../constants/jetpack-start-paths"),FlashActions=require("./flash-actions"),SiteActions=require("./site-actions"),WPAjax=require("../utils/wp-ajax"),SetupProgressStore=require("../stores/setup-progress-store"),SiteStore=require("../stores/site-store"),SetupProgressActions={resetData:function(){WPAjax.post(JPS.site_actions.reset_data).fail(function(t){FlashActions.error("Failed to save data: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.RESET_DATA})},completeStep:function(t,e){var s=SetupProgressStore.getStepFromSlug(t);AppDispatcher.dispatch({actionType:JPSConstants.STEP_COMPLETE,slug:t}),this._recordComplete(s,e)},completeAndNextStep:function(t,e){this.completeStep(t,e),AppDispatcher.dispatch({actionType:JPSConstants.STEP_NEXT,slug:t})},_recordComplete:function(t,e){"undefined"==typeof e&&(e={}),e.completion=SetupProgressStore.getProgressPercent(),WPAjax.post(JPS.step_actions.complete,{step:t.slug,data:e}).fail(function(t){FlashActions.error(t)})},skipStep:function(){FlashActions.unset();var t=SetupProgressStore.getCurrentStep();t.skipped||WPAjax.post(JPS.step_actions.skip,{step:t.slug}).fail(function(t){FlashActions.error(t)}),AppDispatcher.dispatch({actionType:JPSConstants.STEP_SKIP})},getStarted:function(){WPAjax.post(JPS.step_actions.start).fail(function(t){FlashActions.error(t)}),AppDispatcher.dispatch({actionType:JPSConstants.STEP_GET_STARTED})},setCurrentStep:function(t){FlashActions.unset(),AppDispatcher.dispatch({actionType:JPSConstants.STEP_SELECT,slug:t})},selectNextStep:function(){FlashActions.unset(),AppDispatcher.dispatch({actionType:JPSConstants.STEP_NEXT})},submitTitleStep:function(){SiteActions.saveTitleAndDescription().done(function(){this.completeAndNextStep(Paths.SITE_TITLE_STEP_SLUG)}.bind(this))},submitLayoutStep:function(t){SiteActions.setLayout(t).done(function(){this.completeAndNextStep(Paths.LAYOUT_STEP_SLUG)}.bind(this))},submitJetpackJumpstart:function(){SiteActions.enableJumpstart().done(function(){this.completeStep(Paths.JETPACK_MODULES_STEP_SLUG)}.bind(this))},setActiveTheme:function(t){SiteActions.setActiveTheme(t).done(function(){this.completeStep(Paths.DESIGN_STEP_SLUG,{themeId:t.id})}.bind(this))},saveDesignStep:function(){this.completeAndNextStep(Paths.DESIGN_STEP_SLUG,{themeId:SiteStore.getActiveThemeId()})}};module.exports=SetupProgressActions;


},{"../constants/jetpack-start-constants":19,"../constants/jetpack-start-paths":20,"../dispatcher/app-dispatcher":21,"../stores/setup-progress-store":25,"../stores/site-store":26,"../utils/wp-ajax":28,"./flash-actions":2,"./site-actions":4}],4:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),SiteStore=require("../stores/site-store"),FlashActions=require("./flash-actions.js"),SpinnerActions=require("./spinner-actions.js"),WPAjax=require("../utils/wp-ajax"),SiteActions={setTitle:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_TITLE,title:t})},setDescription:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_DESCRIPTION,description:t})},saveTitleAndDescription:function(){var t=SiteStore.getTitle(),e=SiteStore.getDescription();return WPAjax.post(JPS.site_actions.set_title,{title:t,description:e}).fail(function(t){FlashActions.error("Error setting title: "+t)}),jQuery("#wp-admin-bar-site-name .ab-item").html(t),AppDispatcher.dispatch({actionType:JPSConstants.SITE_SAVE_TITLE_AND_DESCRIPTION,title:t}),jQuery.Deferred().resolve()},_installTheme:function(t){return t.installed?jQuery.Deferred().resolve():(SpinnerActions.show("Installing '"+t.name+"'"),WPAjax.post(JPS.site_actions.install_theme,{themeId:t.id}).done(function(){t.installed=!0,AppDispatcher.dispatch({actionType:JPSConstants.SITE_INSTALL_THEME,theme:t})}).fail(function(t){FlashActions.error("Server error installing theme: "+t)}).always(function(){SpinnerActions.hide()}))},_activateTheme:function(t){WPAjax.post(JPS.site_actions.set_theme,{themeId:t.id}).fail(function(t){FlashActions.error("Server error setting theme: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_THEME,themeId:t.id})},setActiveTheme:function(t){return this._installTheme(t).done(function(){this._activateTheme(t)}.bind(this)),jQuery.Deferred().resolve()},setLayout:function(t){return WPAjax.post(JPS.site_actions.set_layout,{layout:t}).fail(function(t){FlashActions.error("Error setting layout: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_LAYOUT,layout:t}),jQuery.Deferred().resolve()},configureJetpack:function(t){return SpinnerActions.show("Connecting to WordPress.com"),WPAjax.post(JPS.site_actions.configure_jetpack,{return_to_step:t}).done(function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_CONFIGURED}),t.next?window.location.replace(t.next):SpinnerActions.hide()}).fail(function(t){FlashActions.error("Error enabling Jetpack: "+t),SpinnerActions.hide()})},activateJetpackModule:function(t){return WPAjax.post(JPS.site_actions.activate_jetpack_modules,{modules:[t]}).fail(function(t){FlashActions.error("Error activating Jetpack module: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_MODULE_ENABLED,slug:t}),jQuery.Deferred().resolve()},deactivateJetpackModule:function(t){return WPAjax.post(JPS.site_actions.deactivate_jetpack_modules,{modules:[t]}).fail(function(t){FlashActions.error("Error deactivating Jetpack module: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_MODULE_DISABLED,slug:t}),jQuery.Deferred().resolve()},loadAllJetpackModules:function(){return 0===SiteStore.getJetpackAdditionalModules().length?WPAjax.post(JPS.site_actions.list_jetpack_modules).done(function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_ADD_MODULES,modules:t})}).fail(function(t){FlashActions.error("Error fetching all Jetpack modules: "+t)}):jQuery.Deferred().resolve()},enableJumpstart:function(){return WPAjax.post(JPS.site_actions.activate_jetpack_modules,{modules:SiteStore.getJumpstartModuleSlugs()}).fail(function(t){FlashActions.error("Error activating Jetpack modules: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_JUMPSTART_ENABLED}),jQuery.Deferred().resolve()}};module.exports=SiteActions;


},{"../constants/jetpack-start-constants":19,"../dispatcher/app-dispatcher":21,"../stores/site-store":26,"../utils/wp-ajax":28,"./flash-actions.js":2,"./spinner-actions.js":5}],5:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),SpinnerActions={show:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SHOW_SPINNER,message:t})},hide:function(){AppDispatcher.dispatch({actionType:JPSConstants.HIDE_SPINNER})},showAsync:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SHOW_ASYNC_SPINNER,message:t})},hideAsync:function(){AppDispatcher.dispatch({actionType:JPSConstants.HIDE_ASYNC_SPINNER})}};module.exports=SpinnerActions;


},{"../constants/jetpack-start-constants":19,"../dispatcher/app-dispatcher":21}],6:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteStore=require("../stores/site-store"),AdvancedSettingsStep=React.createClass({displayName:"AdvancedSettingsStep",render:function(){return React.createElement("div",{className:"welcome__section",id:"welcome__advanced"},React.createElement("h4",null,"Advanced settings"),React.createElement("ul",{className:"welcome__advanced"},React.createElement("li",null,React.createElement("h5",null,"Fine-tune your site's layout and appearance"),"Customize your site’s colors, fonts, sidebars and other settings.",React.createElement("br",null),React.createElement("a",{className:"button button-primary button-large",href:JPS.steps.advanced_settings.customize_url},"Customize my site"),"   ",React.createElement("a",{className:"button button-primary button-large",href:JPS.steps.advanced_settings.themes_url},"Browse and add themes")),("blog"==SiteStore.getLayout()||"site-blog"==SiteStore.getLayout())&&React.createElement("li",null,React.createElement("h5",null,"Create your first blog post"),'An epic essay or just "Hello World!"',React.createElement("br",null),React.createElement("a",{className:"button button-primary button-large",href:JPS.steps.advanced_settings.new_blog_post_url},"Write a new blog post"),"  ",React.createElement("a",{className:"button button-primary button-large",href:JPS.steps.advanced_settings.manage_posts_url},"Manage posts")),React.createElement("li",null,React.createElement("h5",null,"Create a static page"),'"About me", "Our Services" or anything else you can imagine.',React.createElement("br",null),React.createElement("a",{className:"button button-primary button-large",href:JPS.steps.advanced_settings.new_page_url},"Create a new page"),"  ",React.createElement("a",{className:"button button-primary button-large",href:JPS.steps.advanced_settings.manage_pages_url},"Manage pages")),React.createElement("li",null,React.createElement("h5",null,"Extend your site's functionality"),"WordPress offers thousands of plugins from Jetpack and the WordPress community.",React.createElement("br",null),React.createElement("a",{className:"button button-primary button-large",href:JPS.steps.advanced_settings.plugins_url},"Manage plugins"),"   ",SiteStore.getJetpackConfigured()&&React.createElement("a",{className:"button button-primary button-large",href:JPS.steps.advanced_settings.jetpack_modules_url},"Manage Jetpack modules")),React.createElement("li",null,React.createElement("h5",null,"Learn more"),React.createElement("a",{href:"https://codex.wordpress.org/First_Steps_With_WordPress"},"First Steps with WordPress")," - an online guide from the creators of WordPress")))}});module.exports=AdvancedSettingsStep;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../stores/site-store":26}],7:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,ContentBox=React.createClass({displayName:"ContentBox",render:function(){return React.createElement("div",{className:"welcome__content_box"},this.props.children,React.createElement("div",{className:"clear"}))}});module.exports=ContentBox;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],8:[function(require,module,exports){
(function (global){
function getThemeState(){return{themes:SiteStore.getThemes()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteStore=require("../stores/site-store"),SetupProgressActions=require("../actions/setup-progress-actions"),Tooltip=require("./tooltip"),ContentBox=require("./content-box"),DesignStep=React.createClass({displayName:"DesignStep",componentDidMount:function(){SiteStore.addChangeListener(this._onChange),this._loadPopularThemes()},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getThemeState())},getInitialState:function(){var e=getThemeState();return e.popularThemes=[],e},handleActivateTheme:function(e){e.preventDefault(),this.setState({tooltipTheme:null,tooltipPosition:null});var t=jQuery(e.currentTarget),n=t.data("theme-id"),a=this.findTheme(n),o=!a.installed,i=SetupProgressActions.setActiveTheme(a);o&&i.done(function(){this._loadPopularThemes()}.bind(this))},findTheme:function(e){return _.findWhere(this.state.themes,{id:e})||_.findWhere(this.state.popularThemes,{id:e})},handleContinue:function(e){e.preventDefault(),SetupProgressActions.saveDesignStep()},handleShowTooltip:function(e){e.preventDefault();var t=jQuery(e.currentTarget),n=this.findTheme(t.data("theme-id")),a=t.position(),o=t.outerWidth(),i=t.outerHeight(),s={top:a.top+i/2,left:a.left+o};this.setState({tooltipTheme:n,tooltipPosition:s})},handleHideTooltip:function(e){e.preventDefault(),this.setState({tooltipTheme:null,tooltipPosition:null})},handleGetPopularThemes:function(e){e.preventDefault(),this._loadPopularThemes()},_loadPopularThemes:function(){SiteStore.getPopularThemes().done(function(e){this.setState({popularThemes:e})}.bind(this))},render:function(){return React.createElement("div",{className:"welcome__section",id:"welcome__design"},React.createElement("h4",null,"Pick a design"),React.createElement("p",{className:"step-description"},'A "theme" controls the design of your site - colours, fonts and layout.'),React.createElement("p",{className:"step-description"},"Click any theme below to choose it for your site. And don't worry - you can easily change this later."),React.createElement("p",{className:"submit"},React.createElement("input",{type:"submit",name:"save",className:"button button-primary button-large",onClick:this.handleContinue,value:"Next Step →"})),React.createElement(ContentBox,null,React.createElement("h3",null,"Installed themes"),React.createElement("div",{className:"theme-browser rendered"},this._renderThemeList())),React.createElement(ContentBox,null,React.createElement("h3",null,"Popular themes from WordPress.org",React.createElement("a",{href:"#",className:"button button-primary button-large",style:{"float":"right"},onClick:this.handleGetPopularThemes},"Load more themes")),React.createElement("div",{className:"theme-browser rendered"},this._renderPopularThemeList())),React.createElement("div",{style:{clear:"both"}}),this.state.tooltipTheme&&this._renderTooltip())},_renderTooltip:function(){var e=this.state.tooltipTheme,t=this.state.tooltipPosition;return React.createElement(Tooltip,{left:t.left,top:t.top,width:320,title:e.name},React.createElement("p",null,"By ",e.author),React.createElement("p",{dangerouslySetInnerHTML:{__html:_.unescape(e.description)}}))},_renderTheme:function(e){return React.createElement("div",{key:e.id,className:"theme"+(e.active?" active":""),"data-theme-id":e.id,onClick:this.handleActivateTheme,onMouseEnter:this.handleShowTooltip,onMouseLeave:this.handleHideTooltip,"aria-describedby":e.id+"-action "+e.id+"-name"},e.screenshot?React.createElement("div",{className:"theme-screenshot"},React.createElement("img",{src:e.screenshot,alt:""})):React.createElement("div",{className:"theme-screenshot blank"}),!e.active&&React.createElement("span",{className:"more-details"},e.installed?"Click to select":"Click to install"),React.createElement("h3",{className:"theme-name",id:e.id+"-name"},React.createElement("span",null,e.active?"Selected:":"")," ",e.name))},_renderPopularThemeList:function(){return this.state.popularThemes.map(this._renderTheme)},_renderThemeList:function(){return this.state.themes.map(this._renderTheme)}});module.exports=DesignStep;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/site-store":26,"./content-box":7,"./tooltip":16}],9:[function(require,module,exports){
(function (global){
function getFlashState(){return FlashStore.getFlash()}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,FlashStore=require("../stores/flash-store"),Flash=React.createClass({displayName:"Flash",componentDidMount:function(){FlashStore.addChangeListener(this._onChange)},componentWillUnmount:function(){FlashStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getFlashState())},getInitialState:function(){return getFlashState()},render:function(){return this.state.message?React.createElement("div",{className:this.state.severity+" updated"},this.state.message):null}});module.exports=Flash;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../stores/flash-store":24}],10:[function(require,module,exports){
(function (global){
function getSetupState(){return{}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SetupProgressStore=require("../stores/setup-progress-store"),SetupProgressActions=require("../actions/setup-progress-actions"),GetStarted=React.createClass({displayName:"GetStarted",componentDidMount:function(){SetupProgressStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SetupProgressStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSetupState())},getInitialState:function(){return getSetupState()},handleGetStarted:function(e){e.preventDefault(),SetupProgressActions.getStarted()},render:function(){return React.createElement("div",{className:"getting-started__intro"},React.createElement("h3",null,"You're almost done!"),React.createElement("p",{className:"getting-started__subhead"},"Take these steps to supercharge your WordPress site."),React.createElement("p",{className:"getting-started__action"},React.createElement("a",{href:"#",className:"button button-primary button-large",onClick:this.handleGetStarted},"Get Started →")))}});module.exports=GetStarted;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/setup-progress-store":25}],11:[function(require,module,exports){
(function (global){
function getJetpackProgress(){return{jetpackConfigured:SiteStore.getJetpackConfigured()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteStore=require("../stores/site-store"),SiteActions=require("../actions/site-actions"),Paths=require("../constants/jetpack-start-paths"),JetpackJumpstartMenu=React.createClass({displayName:"JetpackJumpstartMenu",componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getJetpackProgress())},getInitialState:function(){return getJetpackProgress()},handleClickConnect:function(e){e.preventDefault(),console.log("clicked"),SiteActions.configureJetpack(Paths.JETPACK_MODULES_STEP_SLUG)},style:{color:"black",fontSize:12},render:function(){return React.createElement("div",{style:this.style},this.state.jetpackConfigured?React.createElement("div",null):React.createElement("div",null,"Boost traffic, enhance security, and improve performance with a connection to WordPress.com",React.createElement("br",null),React.createElement("a",{className:"button button-primary button-large",href:"#",onClick:this.handleClickConnect},"Connect to WordPress.com")))}});module.exports=JetpackJumpstartMenu;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/site-actions":4,"../constants/jetpack-start-paths":20,"../stores/site-store":26}],12:[function(require,module,exports){
(function (global){
function getJetpackState(){return{site_title:SiteStore.getTitle(),jetpackConfigured:SiteStore.getJetpackConfigured(),jumpstartEnabled:SiteStore.getJetpackJumpstartEnabled(),modulesEnabled:SiteStore.getActiveModuleSlugs()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SkipButton=require("./skip-button"),SiteStore=require("../stores/site-store"),SiteActions=require("../actions/site-actions"),Paths=require("../constants/jetpack-start-paths"),ContentBox=require("./content-box"),SetupProgressActions=require("../actions/setup-progress-actions"),SpinnerStore=require("../stores/spinner-store"),JetpackJumpstart=React.createClass({displayName:"JetpackJumpstart",componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getJetpackState())},getInitialState:function(){var e=getJetpackState();return e.showMoreModules=!1,e},handleJetpackConnect:function(e){e.preventDefault(),SiteActions.configureJetpack(Paths.JETPACK_MODULES_STEP_SLUG)},handleChangeModuleStatus:function(e){var t=jQuery(e.currentTarget),a=t.data("module-slug");SiteStore.isJetpackModuleEnabled(a)?SiteActions.deactivateJetpackModule(a):SiteActions.activateJetpackModule(a)},handleEnableAllModules:function(e){e.preventDefault(),SiteActions.enableJumpstart()},handleNext:function(e){e.preventDefault(),SetupProgressActions.completeAndNextStep(Paths.JETPACK_MODULES_STEP_SLUG)},handleShowMoreModules:function(e){e.preventDefault(),SiteActions.loadAllJetpackModules().done(function(){this.setState({showMoreModules:!0})}.bind(this))},handleShowFewerModules:function(e){e.preventDefault(),this.setState({showMoreModules:!1})},_renderModule:function(e){var t=SiteStore.isJetpackModuleEnabled(e.slug),a="jp-module-"+e.slug;return React.createElement("div",{key:"modules-"+e.slug,className:"welcome__jumpstart_module"},React.createElement("input",{id:a,type:"checkbox",checked:t,"data-module-slug":e.slug,onChange:this.handleChangeModuleStatus}),React.createElement("label",{htmlFor:a},React.createElement("strong",null,e.name)),React.createElement("small",{className:"jumpstart_module__description",dangerouslySetInnerHTML:{__html:e.description}}),t&&e.configure_url&&React.createElement("small",null,React.createElement("a",{target:"_configure",href:e.configure_url},"configure")))},render:function(){var e,t;this.state.jetpackConfigured||SpinnerStore.showing()||(e=React.createElement("div",{className:"welcome__jumpstart_overlay"}),t=React.createElement("div",{className:"welcome__jumpstart_overlay__body"},React.createElement("p",null,"These modules require a WordPress.com account - it's free!"),React.createElement("a",{href:"#",className:"download-jetpack",onClick:this.handleJetpackConnect},"Connect to WordPress.com"),React.createElement("p",null,React.createElement(SkipButton,null))));var a=SiteStore.getJumpstartModules().map(this._renderModule),n=SiteStore.getJetpackAdditionalModules().map(this._renderModule);return React.createElement("div",{className:"welcome__section"},React.createElement("h3",null,"Let's launch ",React.createElement("em",null,this.state.site_title)),React.createElement("h4",null,"Enable Jetpack features"),this.state.jetpackConfigured&&React.createElement("div",null,React.createElement("span",{className:"jetpack-logo"},"Powered by",React.createElement("br",null),React.createElement("a",{href:"http://192.168.59.103/wp-admin/admin.php?page=jetpack",title:"Jetpack",className:"current"},React.createElement("span",null,"Jetpack"))),React.createElement("p",{className:"step-description"},"Congratulations! You've enabled Jetpack and unlocked dozens of powerful features."),React.createElement("p",{className:"step-description"},"Check the boxes below to enable our most popular features.")),React.createElement("div",{className:"welcome__connect"},React.createElement("div",{className:"welcome__jumpstart_wrapper"},e,t,this.state.jetpackConfigured&&React.createElement("div",{className:"submit"},React.createElement("input",{style:{"float":"right"},type:"submit",name:"save",className:"button button-primary button-large",onClick:this.handleNext,value:"Next Step →"}),React.createElement("div",{className:"clear"})),React.createElement(ContentBox,null,React.createElement("h3",null,"Popular features   ",React.createElement("button",{disabled:this.state.jumpstartEnabled,className:"button button-primary",onClick:this.handleEnableAllModules},this.state.jumpstartEnabled?"Enabled":"Enable all (recommended)")),a),this.state.showMoreModules?React.createElement("p",{className:"more"},React.createElement("a",{href:"#",onClick:this.handleShowFewerModules},"hide additional features")):React.createElement("p",{className:"more"},React.createElement("a",{href:"#",onClick:this.handleShowMoreModules},"show additional features")),this.state.showMoreModules&&React.createElement(ContentBox,null,React.createElement("h3",null,"Additional modules"),n))))}});module.exports=JetpackJumpstart;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../actions/site-actions":4,"../constants/jetpack-start-paths":20,"../stores/site-store":26,"../stores/spinner-store":27,"./content-box":7,"./skip-button":15}],13:[function(require,module,exports){
(function (global){
function getSiteLayoutState(){return{site_title:SiteStore.getTitle(),layout:SiteStore.getLayout()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteStore=require("../stores/site-store"),SetupProgressActions=require("../actions/setup-progress-actions"),LayoutStep=React.createClass({displayName:"LayoutStep",componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSiteLayoutState())},getInitialState:function(){return getSiteLayoutState()},handleSetLayout:function(e){this.setState({layout:jQuery(e.currentTarget).val()})},handleSubmit:function(e){e.preventDefault(),SetupProgressActions.submitLayoutStep(this.state.layout)},render:function(){return React.createElement("div",{className:"welcome__section",id:"welcome__layout"},React.createElement("h3",null,"Let's launch ",React.createElement("em",null,this.state.site_title)),React.createElement("h4",null,"Select a layout"),React.createElement("p",{className:"step-description"},"WordPress can be a blog, a web site with a hierarchy of static pages, or a combination of the two."),React.createElement("form",{onSubmit:this.handleSubmit},React.createElement("label",null,React.createElement("input",{type:"radio",name:"site_layout",value:"website",checked:"website"===this.state.layout,onChange:this.handleSetLayout})," Static Website",React.createElement("p",{className:"description"},"A web site with a hierarchy of pages")),React.createElement("br",null),React.createElement("label",null,React.createElement("input",{type:"radio",name:"site_layout",value:"site-blog",checked:"site-blog"===this.state.layout,onChange:this.handleSetLayout})," Static Website with a blog",React.createElement("p",{className:"description"},"A web site with pages that also has a blog or news section")),React.createElement("br",null),React.createElement("label",null,React.createElement("input",{type:"radio",name:"site_layout",value:"blog",checked:"blog"===this.state.layout,onChange:this.handleSetLayout})," Just a blog",React.createElement("p",{className:"description"},"A web site that will constantly show new content (articles, photos, videos, etc.)")),React.createElement("p",{className:"submit"},React.createElement("input",{type:"submit",name:"save",className:"button button-primary button-large",value:"Next Step →"}))))}});module.exports=LayoutStep;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/site-store":26}],14:[function(require,module,exports){
(function (global){
function getSiteTitleState(){return{title:SiteStore.getTitle(),description:SiteStore.getDescription()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteActions=require("../actions/site-actions"),SiteStore=require("../stores/site-store"),SetupProgressActions=require("../actions/setup-progress-actions"),SiteTitleStep=React.createClass({displayName:"SiteTitleStep",componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSiteTitleState())},getInitialState:function(){return getSiteTitleState()},handleChangeTitle:function(e){SiteActions.setTitle(e.currentTarget.value)},handleChangeDescription:function(e){SiteActions.setDescription(e.currentTarget.value)},handleSubmit:function(e){e.preventDefault(),SetupProgressActions.submitTitleStep()},render:function(){return React.createElement("div",{className:"welcome__section",id:"welcome__site-title"},React.createElement("h3",null,"Let's launch your new website"),React.createElement("h4",null,"Title and Description"),React.createElement("p",{className:"step-description"},"Make your site stand out with a catchy name."),React.createElement("form",{onSubmit:this.handleSubmit},React.createElement("table",{className:"form-table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("th",null,React.createElement("label",{htmlFor:"site_title"},"Site Title")),React.createElement("td",null,React.createElement("input",{type:"text",name:"site_title",id:"site-title",autoComplete:"off",onChange:this.handleChangeTitle,value:this.state.title,placeholder:"Site Title (this can be changed later)",required:!0}),React.createElement("p",{className:"description"},"The name of your site. This title appears at the top of pages and in search results."))),React.createElement("tr",null,React.createElement("th",null,React.createElement("label",{htmlFor:"site_description"},"Site Description")),React.createElement("td",null,React.createElement("input",{type:"text",name:"site_description",id:"site-description",autoComplete:"off",onChange:this.handleChangeDescription,value:this.state.description,placeholder:"Site Description",required:!0}),React.createElement("p",{className:"description"},'A motto or tagline. This appears below the title on your site, and next to the title in search results. Try to be brief and descriptive, e.g. "Your online bait and tackle store"'))))),React.createElement("p",{className:"submit"},React.createElement("input",{type:"submit",name:"save",className:"button button-primary button-large",value:"Next Step →"}))))}});module.exports=SiteTitleStep;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../actions/site-actions":4,"../stores/site-store":26}],15:[function(require,module,exports){
(function (global){
function getSetupProgress(){return{completed:SetupProgressStore.getCurrentStep().completed}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SetupProgressStore=require("../stores/setup-progress-store"),SetupProgressActions=require("../actions/setup-progress-actions"),SkipButton=React.createClass({displayName:"SkipButton",componentDidMount:function(){SetupProgressStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SetupProgressStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSetupProgress())},getInitialState:function(){return getSetupProgress()},handleSkip:function(e){e.preventDefault(),SetupProgressActions.skipStep()},render:function(){var e=this.state.completed;return e?null:React.createElement("a",{className:"skip",href:"#",onClick:this.handleSkip},"Not now")}});module.exports=SkipButton;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/setup-progress-store":25}],16:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Tooltip=React.createClass({displayName:"Tooltip",propTypes:{left:React.PropTypes.number.isRequired,top:React.PropTypes.number.isRequired,width:React.PropTypes.number.isRequired,title:React.PropTypes.string.isRequired},handleDismiss:function(e){e.preventDefault()},componentDidMount:function(){this._recomputePosition()},componentWillReceiveProps:function(){this._recomputePosition()},getInitialState:function(){return{realTop:this.props.top}},_recomputePosition:function(){var e=jQuery(React.findDOMNode(this.refs.wrapper));this.setState({realTop:this.props.top-e.outerHeight()/2})},render:function(){return React.createElement("div",{ref:"wrapper",className:"wp-pointer wp-pointer-left",style:{position:"absolute",width:this.props.width,top:this.state.realTop,left:this.props.left,zIndex:9999}},React.createElement("div",{className:"wp-pointer-content"},React.createElement("h3",null,this.props.title),React.createElement("p",null,this.props.children)),React.createElement("div",{className:"wp-pointer-arrow"},React.createElement("div",{className:"wp-pointer-arrow-inner"})))}});module.exports=Tooltip;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],17:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,ProgressBar=require("@automattic/dops-react/js/components/progress-bar"),SetupProgressActions=require("../actions/setup-progress-actions"),stepShape=React.PropTypes.shape({name:React.PropTypes.string.isRequired,slug:React.PropTypes.string}),WelcomeMenu=React.createClass({displayName:"WelcomeMenu",propTypes:{currentStep:stepShape.isRequired,clickable:React.PropTypes.bool,allSteps:React.PropTypes.arrayOf(stepShape).isRequired,progressPercent:React.PropTypes.number.isRequired},getDefaultProps:function(){return{clickable:!0}},selectStep:function(e){e.preventDefault();var t=jQuery(e.currentTarget).data("step-slug");SetupProgressActions.setCurrentStep(t)},render:function(){var e=this.props.allSteps.map(function(e){var t,r,s,a;return this.props.clickable&&this.props.currentStep&&(r=this.props.currentStep.slug==e.slug),t=!e["static"]&&this.props.clickable?React.createElement("a",{href:"#","data-step-slug":e.slug,onClick:this.selectStep},e.name):e.name,e.menuView&&this.props.clickable&&(a=React.createElement(e.menuView,null)),s=e.completed?"completed":"",React.createElement("li",{key:e.slug,className:s+(r?" current":"")},t," ",e.skipped?"(skipped)":null,a)}.bind(this));return React.createElement("div",{className:"getting-started__steps"},React.createElement("h3",null,React.createElement("span",null,"Your Progress"),React.createElement("div",null,React.createElement(ProgressBar,{style:{"float":"left"},progressPercent:this.props.progressPercent}))),React.createElement("ol",null,e))}});module.exports=WelcomeMenu;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"@automattic/dops-react/js/components/progress-bar":30}],18:[function(require,module,exports){
(function (global){
function getSetupProgress(){return{newUser:SetupProgressStore.isNewUser(),showSpinner:SpinnerStore.showing(),spinnerMessage:SpinnerStore.getMessage(),currentStep:SetupProgressStore.getCurrentStep(),allSteps:SetupProgressStore.getAllSteps(),progressPercent:SetupProgressStore.getProgressPercent()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,WelcomeMenu=require("./welcome-menu"),SetupProgressStore=require("../stores/setup-progress-store"),SetupProgressActions=require("../actions/setup-progress-actions"),Flash=require("./flash"),GetStarted=require("./get-started"),SpinnerStore=require("../stores/spinner-store"),SpinnerActions=require("../actions/spinner-actions"),DataStore=require("../stores/data-store"),WelcomeWidget=React.createClass({displayName:"WelcomeWidget",componentDidMount:function(){SetupProgressStore.addChangeListener(this._onChange),SpinnerStore.addChangeListener(this._onSpinnerChange),DataStore.addChangeListener(this._onDataChange)},componentWillUnmount:function(){SetupProgressStore.removeChangeListener(this._onChange),SpinnerStore.removeChangeListener(this._onSpinnerChange),DataStore.removeChangeListener(this._onDataChange)},_onChange:function(){this.setState(getSetupProgress())},_onSpinnerChange:function(){this.setState({showSpinner:SpinnerStore.showing(),spinnerMessage:SpinnerStore.getMessage()})},_onDataChange:function(){this.setState({saving:DataStore.isSaving()})},getInitialState:function(){return getSetupProgress()},handleReset:function(e){e.preventDefault(),SetupProgressActions.resetData()},handleShowSpinner:function(e){e.preventDefault(),SpinnerActions.show("Testing spinner")},handleHideSpinner:function(e){e.preventDefault(),SpinnerActions.hide()},render:function(){return React.createElement("div",{className:"getting-started"},this._renderDebug(),React.createElement("div",{className:"getting-started__wrapper"},this._renderSpinner(),React.createElement("div",{className:"getting-started__sections"},React.createElement(Flash,null),this._renderSection()),React.createElement(WelcomeMenu,{clickable:!this.state.newUser,currentStep:this.state.currentStep,allSteps:this.state.allSteps,progressPercent:this.state.progressPercent}),React.createElement("div",{className:"clear"})))},_renderSection:function(){return this.state.newUser?React.createElement(GetStarted,null):this._renderCurrentView()},_renderDebug:function(){return JPS.debug?React.createElement("div",null,React.createElement("a",{href:"#",className:"button",onClick:this.handleReset},"Reset Wizard"),React.createElement("a",{href:"#",className:"button",onClick:this.handleShowSpinner},"Show spinner"),React.createElement("a",{href:"#",className:"button",onClick:this.handleHideSpinner},"Hide spinner")):null},_renderSpinner:function(){return this.state.showSpinner?React.createElement("div",{className:"loading"},React.createElement("div",{className:"loading__message"},React.createElement("img",{src:"/wp-admin/images/spinner-2x.gif",width:"16px",height:"16px"}),"  ",this.state.spinnerMessage)):null},_renderCurrentView:function(){return this.state.currentStep?React.createElement(this.state.currentStep.welcomeView,null):React.createElement("h3",null,"Nothing")}});module.exports=WelcomeWidget;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../actions/spinner-actions":5,"../stores/data-store":23,"../stores/setup-progress-store":25,"../stores/spinner-store":27,"./flash":9,"./get-started":10,"./welcome-menu":17}],19:[function(require,module,exports){
var keyMirror=require("keymirror");module.exports=keyMirror({STEP_COMPLETE:null,STEP_GET_STARTED:null,STEP_SELECT:null,STEP_NEXT:null,STEP_SKIP:null,SITE_SET_TITLE:null,SITE_SET_DESCRIPTION:null,SITE_SAVE_TITLE_AND_DESCRIPTION:null,SITE_SET_THEME:null,SITE_INSTALL_THEME:null,SITE_JETPACK_CONFIGURED:null,SITE_JETPACK_MODULE_ENABLED:null,SITE_JETPACK_MODULE_DISABLED:null,SITE_JETPACK_JUMPSTART_ENABLED:null,SITE_JETPACK_ADD_MODULES:null,SITE_SET_LAYOUT:null,SAVE_STARTED:null,SAVE_FINISHED:null,SET_FLASH:null,UNSET_FLASH:null,FLASH_SEVERITY_NOTICE:null,FLASH_SEVERITY_ERROR:null,RESET_DATA:null,SHOW_SPINNER:null,HIDE_SPINNER:null});


},{"keymirror":49}],20:[function(require,module,exports){
module.exports={SITE_TITLE_STEP_SLUG:"title",LAYOUT_STEP_SLUG:"layout",TRAFFIC_STEP_SLUG:"traffic",STATS_MONITORING_STEP_SLUG:"stats-monitoring",DESIGN_STEP_SLUG:"design",ADVANCED_STEP_SLUG:"advanced",JETPACK_MODULES_STEP_SLUG:"jetpack"};


},{}],21:[function(require,module,exports){
var Dispatcher=require("flux").Dispatcher;module.exports=new Dispatcher;


},{"flux":44}],22:[function(require,module,exports){
var WelcomePanel=require("./welcome-panel");WelcomePanel();


},{"./welcome-panel":29}],23:[function(require,module,exports){
function incrementSaveCounter(){_currentSaves+=1}function decrementSaveCounter(){_currentSaves-=1}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),_currentSaves=0,jpsTimeout,CHANGE_EVENT="change";jQuery(window).on("beforeunload",function(){return DataStore.isSaving()?(jpsTimeout=setTimeout(function(){},1e3),"Your site changes are still saving."):void 0}),jQuery(window).on("unload",function(){clearTimeout(jpsTimeout)});var DataStore=_.extend({},EventEmitter.prototype,{isSaving:function(){return _currentSaves>0},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)},emitChange:function(){this.emit(CHANGE_EVENT)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SAVE_STARTED:incrementSaveCounter(),DataStore.emitChange();break;case JPSConstants.SAVE_FINISHED:decrementSaveCounter(),DataStore.emitChange()}}),module.exports=DataStore;


},{"../constants/jetpack-start-constants":19,"../dispatcher/app-dispatcher":21,"events":47}],24:[function(require,module,exports){
function setFlash(e,t){message=e,severity=t}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),CHANGE_EVENT="change",message,severity,FlashStore=_.extend({},EventEmitter.prototype,{getFlash:function(){var e;switch(severity){case JPSConstants.FLASH_SEVERITY_ERROR:e="error";break;case JPSConstants.FLASH_SEVERITY_NOTICE:e="notice"}return{message:message,severity:e}},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)},emitChange:function(){this.emit(CHANGE_EVENT)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SET_FLASH:setFlash(e.message,e.severity),FlashStore.emitChange();break;case JPSConstants.UNSET_FLASH:setFlash(null,null),FlashStore.emitChange()}}),module.exports=FlashStore;


},{"../constants/jetpack-start-constants":19,"../dispatcher/app-dispatcher":21,"events":47}],25:[function(require,module,exports){
function setSteps(e){e.forEach(function(e){"undefined"==typeof e.completed&&(e.completed=JPS.step_status[e.slug]&&JPS.step_status[e.slug].completed||!1),"undefined"==typeof e.skipped&&(e.skipped=JPS.step_status[e.slug]&&JPS.step_status[e.slug].skipped||!1),"undefined"==typeof e["static"]&&(e["static"]=!1),"undefined"==typeof e.includeInProgress&&(e.includeInProgress=!0)}),_steps=e,ensureValidStepSlug()}function getStarted(){_started=!0,selectNextPendingStep()}function complete(e){var t=getStepFromSlug(e);t.completed=!0,t.skipped=!1}function skip(){var e=currentStepSlug(),t=getStepFromSlug(e);t.skipped=!0,selectNextPendingStep()}function getStepFromSlug(e){var t=null;return _.each(_steps,function(s){s.slug===e&&(t=s)}),t}function ensureValidStepSlug(){var e=currentStepSlug();e&&getStepFromSlug(e)||selectNextPendingStep()}function selectNextPendingStep(){var e=_.findWhere(_steps,{completed:!1,skipped:!1});null!==e&&select(e.slug)}function currentStepSlug(){if(0===window.location.hash.indexOf("#welcome/steps")){var e=window.location.hash.split("/"),t=e[e.length-1];return t}return null}function select(e){window.location.hash="welcome/steps/"+e}function reset(){JPS.step_status={},_.where(_steps,{"static":!1}).forEach(function(e){e.completed=!1,e.skipped=!1}),_started=!1}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),CHANGE_EVENT="change",_steps,_started=JPS.started,SetupProgressStore=_.extend({},EventEmitter.prototype,{init:function(e){setSteps(e)},getAllSteps:function(){return _steps},isNewUser:function(){return!_started},emitChange:function(){this.emit(CHANGE_EVENT)},getCurrentStep:function(){return getStepFromSlug(currentStepSlug())},getStepFromSlug:function(e){return getStepFromSlug(e)},getProgressPercent:function(){var e=_.where(_steps,{includeInProgress:!0}).length,t=_.where(_steps,{includeInProgress:!0,completed:!0}).length,s=t/e*90+10,n=10*Math.round(s/10);return n},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.STEP_GET_STARTED:getStarted(),SetupProgressStore.emitChange();break;case JPSConstants.STEP_SELECT:select(e.slug),SetupProgressStore.emitChange();break;case JPSConstants.STEP_NEXT:selectNextPendingStep(),SetupProgressStore.emitChange();break;case JPSConstants.STEP_COMPLETE:complete(e.slug),SetupProgressStore.emitChange();break;case JPSConstants.STEP_COMPLETE_AND_NEXT:complete(e.slug),selectNextPendingStep(),SetupProgressStore.emitChange();break;case JPSConstants.RESET_DATA:reset(),SetupProgressStore.emitChange();break;case JPSConstants.STEP_SKIP:skip(),SetupProgressStore.emitChange()}}),module.exports=SetupProgressStore;


},{"../constants/jetpack-start-constants":19,"../dispatcher/app-dispatcher":21,"events":47}],26:[function(require,module,exports){
function setTitle(e){JPS.bloginfo.name=e}function setDescription(e){JPS.bloginfo.description=e}function setActiveTheme(e){JPS.themes.forEach(function(t){t.id==e?t.active=!0:t.active=!1})}function installedTheme(e){JPS.themes.unshift(e),JPS.themes=JPS.themes.slice(0,3)}function setJetpackModuleActivated(e){-1===_.indexOf(JPS.jetpack.active_modules,e)&&JPS.jetpack.active_modules.push(e)}function setJetpackModuleDectivated(e){var t=_.indexOf(JPS.jetpack.active_modules,e);t>=0&&JPS.jetpack.active_modules.splice(t,1)}function setJetpackAdditionalModules(e){JPS.jetpack.additional_modules=_.filter(e,function(e){return-1==_.indexOf(JPS.jetpack.jumpstart_modules.map(function(e){return e.slug}),e.slug)})}function setLayout(e){layout=e}function setJetpackConfigured(){JPS.jetpack.configured=!0}function setJetpackJumpstartActivated(){JPS.jetpack.jumpstart_modules.forEach(function(e){setJetpackModuleActivated(e.slug)})}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),WPAjax=require("../utils/wp-ajax"),CHANGE_EVENT="change",layout=JPS.steps.layout.current,SiteStore=_.extend({},EventEmitter.prototype,{getTitle:function(){return JPS.bloginfo.name},getDescription:function(){return JPS.bloginfo.description},getThemes:function(){return JPS.themes},getActiveThemeId:function(){for(var e=0;e<JPS.themes.length;e++){var t=JPS.themes[e];if(t.active)return t.id}return null},getJetpackConfigured:function(){return JPS.jetpack.configured},getActiveModuleSlugs:function(){return JPS.jetpack.active_modules},isJetpackModuleEnabled:function(e){return _.indexOf(JPS.jetpack.active_modules,e)>=0},getJetpackAdditionalModules:function(){return JPS.jetpack.additional_modules},getJumpstartModuleSlugs:function(){return JPS.jetpack.jumpstart_modules.map(function(e){return e.slug})},getJumpstartModules:function(){return JPS.jetpack.jumpstart_modules},getPopularThemes:function(){return WPAjax.post(JPS.site_actions.get_popular_themes)},getJetpackJumpstartEnabled:function(){for(var e=0;e<JPS.jetpack.jumpstart_modules.length;e++){var t=JPS.jetpack.jumpstart_modules[e];if(!this.isJetpackModuleEnabled(t.slug))return!1}return!0},getLayout:function(){return layout},emitChange:function(){this.emit(CHANGE_EVENT)},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SITE_SET_TITLE:setTitle(e.title),SiteStore.emitChange();break;case JPSConstants.SITE_SET_DESCRIPTION:setDescription(e.description),SiteStore.emitChange();break;case JPSConstants.SITE_SET_THEME:setActiveTheme(e.themeId),SiteStore.emitChange();break;case JPSConstants.SITE_INSTALL_THEME:installedTheme(e.theme),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_CONFIGURED:setJetpackConfigured(),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_ADD_MODULES:setJetpackAdditionalModules(e.modules),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_MODULE_ENABLED:setJetpackModuleActivated(e.slug),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_MODULE_DISABLED:setJetpackModuleDectivated(e.slug),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_JUMPSTART_ENABLED:setJetpackJumpstartActivated(),SiteStore.emitChange();break;case JPSConstants.SITE_SET_LAYOUT:setLayout(e.layout),SiteStore.emitChange()}}),module.exports=SiteStore;


},{"../constants/jetpack-start-constants":19,"../dispatcher/app-dispatcher":21,"../utils/wp-ajax":28,"events":47}],27:[function(require,module,exports){
function show(e){spinnerEnabled=!0,spinnerMessage=e}function hide(){spinnerEnabled=!1,spinnerMessage=null}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),CHANGE_EVENT="change",spinnerEnabled=!1,spinnerMessage=null,SpinnerStore=_.extend({},EventEmitter.prototype,{showing:function(){return spinnerEnabled},getMessage:function(){return spinnerMessage},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)},emitChange:function(){this.emit(CHANGE_EVENT)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SHOW_SPINNER:show(e.message),SpinnerStore.emitChange();break;case JPSConstants.HIDE_SPINNER:hide(),SpinnerStore.emitChange()}}),module.exports=SpinnerStore;


},{"../constants/jetpack-start-constants":19,"../dispatcher/app-dispatcher":21,"events":47}],28:[function(require,module,exports){
var DataActions=require("../actions/data-actions"),WPAjax=function(){return{post:function(e,t){t="undefined"!=typeof t?t:{};var n=_.extend(t,{action:e,nonce:JPS.nonce}),a=jQuery.Deferred();return DataActions.requestStarted(),jQuery.post(ajaxurl,n).success(function(e){e.success?a.resolve(e.data):a.reject(e.data)}).fail(function(){a.reject("Server error")}).always(function(){DataActions.requestFinished()}),a}}}();module.exports=WPAjax;


},{"../actions/data-actions":1}],29:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,WelcomeWidget=require("./components/welcome-widget"),Paths=require("./constants/jetpack-start-paths"),SetupProgressStore=require("./stores/setup-progress-store");module.exports=function(){jQuery(document).ready(function(){SetupProgressStore.init([{name:"Site title",slug:Paths.SITE_TITLE_STEP_SLUG,welcomeView:require("./components/site-title-step")},{name:"Pick a layout",slug:Paths.LAYOUT_STEP_SLUG,welcomeView:require("./components/layout-step")},{name:"Pick a design",slug:Paths.DESIGN_STEP_SLUG,welcomeView:require("./components/design-step")},{name:"Enable Jetpack",slug:Paths.JETPACK_MODULES_STEP_SLUG,welcomeView:require("./components/jetpack-jumpstart-step"),menuView:require("./components/jetpack-jumpstart-menu")},{name:"Advanced settings",slug:Paths.ADVANCED_STEP_SLUG,welcomeView:require("./components/advanced-settings-step"),includeInProgress:!1}]),React.render(React.createElement(WelcomeWidget,{}),document.getElementById("jps-welcome-panel"))})};


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./components/advanced-settings-step":6,"./components/design-step":8,"./components/jetpack-jumpstart-menu":11,"./components/jetpack-jumpstart-step":12,"./components/layout-step":13,"./components/site-title-step":14,"./components/welcome-widget":18,"./constants/jetpack-start-paths":20,"./stores/setup-progress-store":25}],30:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Radium=require("radium"),ProgressBar=React.createClass({displayName:"ProgressBar",propTypes:{style:React.PropTypes.object,progressPercent:React.PropTypes.number.isRequired},styles:{wrapper:{fontWeight:400,fontSize:"80%"},progress:{background:"#4ab866",width:"0%",transition:"width 0.5s",display:"block",height:"100%"},bar:{display:"inline-block",width:80,height:12,margin:"0 8px -2px 0",padding:2,borderRadius:2,background:"#f5f5f5"}},render:function(){return React.createElement("div",{style:[this.styles.wrapper,this.props.style]},React.createElement("div",{style:this.styles.bar},React.createElement("span",{style:[this.styles.progress,{width:this.props.progressPercent+"%"}]})),this.props.progressPercent,"% complete")}});module.exports=Radium(ProgressBar);


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"radium":36}],31:[function(require,module,exports){
(function (global){
"use strict";var createMarkupForStyles=require("../create-markup-for-styles"),Prefixer=require("../prefixer"),React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,buildCssString=function(e,t){if(e&&t){var r=Prefixer.getPrefixedStyle(t,"css"),i=createMarkupForStyles(r);return e+"{"+i+"}"}},Style=React.createClass({displayName:"Style",propTypes:{rules:React.PropTypes.object,scopeSelector:React.PropTypes.string},getDefaultProps:function(){return{scopeSelector:""}},_buildStyles:function(e){var t=this;return Object.keys(e).reduce(function(r,i){var s=e[i];if("mediaQueries"===i)r+=t._buildMediaQueryString(s);else{var n=(t.props.scopeSelector?t.props.scopeSelector+" ":"")+i;r+=buildCssString(n,s)}return r},"")},_buildMediaQueryString:function(e){var t=this,r=this._getContextMediaQueries(),i="";return Object.keys(e).forEach(function(s){var n=r[s]?r[s]:s;i+="@media "+n+"{"+t._buildStyles(e[s])+"}"}),i},_getContextMediaQueries:function(){var e={};return this.context&&this.context.mediaQueries&&Object.keys(this.context.mediaQueries).forEach(function(t){e[t]=this.context.mediaQueries[t].media}.bind(this)),e},render:function(){if(!this.props.rules)return null;var e=this._buildStyles(this.props.rules);return React.createElement("style",{dangerouslySetInnerHTML:{__html:e}})}});module.exports=Style;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../create-markup-for-styles":33,"../prefixer":39}],32:[function(require,module,exports){
"use strict";var ExecutionEnvironment=require("exenv"),_matchMediaFunction=ExecutionEnvironment.canUseDOM&&window&&window.matchMedia;module.exports={canMatchMedia:function(){return"function"==typeof _matchMediaFunction},matchMedia:function(n){return _matchMediaFunction(n)},setMatchMedia:function(n){_matchMediaFunction=n}};


},{"exenv":42}],33:[function(require,module,exports){
"use strict";var createMarkupForStyles=function(e,r){return r=r||"",Object.keys(e).map(function(t){return r+t+": "+e[t]+";"}).join("\n")};module.exports=createMarkupForStyles;


},{}],34:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_get=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;s=l=u=void 0,n=!1;var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;e=l,t=i,r=a,n=!0}},resolveStyles=require("./resolve-styles.js"),enhanceWithRadium=function(e){var t=e.displayName||e.name||"Component",r=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.state=this.state||{},this.state._radiumStyleState={}}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){var e=_get(Object.getPrototypeOf(t.prototype),"render",this).call(this);return resolveStyles(this,e)}},{key:"componentWillUnmount",value:function(){_get(Object.getPrototypeOf(t.prototype),"componentWillUnmount",this)&&_get(Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this),this._radiumMouseUpListener&&this._radiumMouseUpListener.remove(),this._radiumMediaQueryListenersByQuery&&Object.keys(this._radiumMediaQueryListenersByQuery).forEach(function(e){this._radiumMediaQueryListenersByQuery[e].remove()},this)}}]),t}(e);return r.displayName="Radium("+t+")",r};module.exports=enhanceWithRadium;


},{"./resolve-styles.js":40}],35:[function(require,module,exports){
"use strict";var VALID_KEYS=[":active",":focus",":hover"],getState=function(t,e,a){if(e=e||"main",-1===VALID_KEYS.indexOf(a))throw new Error("Radium.getState invalid value param: `"+a+"`");return!!(t&&t._radiumStyleState&&t._radiumStyleState[e]&&t._radiumStyleState[e][a])||!1};module.exports=getState;


},{}],36:[function(require,module,exports){
"use strict";var Enhancer=require("./enhancer");module.exports=function(e){return Enhancer(e)},module.exports.Style=require("./components/style"),module.exports.getState=require("./get-state"),module.exports.keyframes=require("./keyframes"),module.exports.Config=require("./config");


},{"./components/style":31,"./config":32,"./enhancer":34,"./get-state":35,"./keyframes":37}],37:[function(require,module,exports){
"use strict";var createMarkupForStyles=require("./create-markup-for-styles"),Prefixer=require("./prefixer"),ExecutionEnvironment=require("exenv"),isAnimationSupported=ExecutionEnvironment.canUseDOM&&Prefixer.getPrefixedPropertyName("animation")!==!1,animationIndex=1,animationStyleSheet=null,keyframesPrefixed=null;isAnimationSupported&&(animationStyleSheet=document.createElement("style"),document.head.appendChild(animationStyleSheet),keyframesPrefixed="keyframes",animationStyleSheet.textContent="@keyframes {}",animationStyleSheet.sheet.cssRules.length||(keyframesPrefixed=Prefixer.cssPrefix+"keyframes"));var keyframes=function(e){var t="Animation"+animationIndex;if(animationIndex+=1,!isAnimationSupported)return t;var n="@"+keyframesPrefixed+" "+t+" {\n"+Object.keys(e).map(function(t){var n=e[t],r=Prefixer.getPrefixedStyle(n,"css"),i=createMarkupForStyles(r,"  ");return"  "+t+" {\n  "+i+"\n  }"}).join("\n")+"\n}\n";if(!animationStyleSheet)throw new Error("keyframes not initialized properly");return animationStyleSheet.sheet.insertRule(n,animationStyleSheet.sheet.cssRules.length),t};module.exports=keyframes;


},{"./create-markup-for-styles":33,"./prefixer":39,"exenv":42}],38:[function(require,module,exports){
"use strict";var _callbacks=[],_mouseUpListenerIsActive=!1,_handleMouseUp=function(e){_callbacks.forEach(function(s){s(e)})},subscribe=function(e){return-1===_callbacks.indexOf(e)&&_callbacks.push(e),_mouseUpListenerIsActive||(window.addEventListener("mouseup",_handleMouseUp),_mouseUpListenerIsActive=!0),{remove:function(){var s=_callbacks.indexOf(e);_callbacks.splice(s,1),0===_callbacks.length&&_mouseUpListenerIsActive&&(window.removeEventListener("mouseup",_handleMouseUp),_mouseUpListenerIsActive=!1)}}};module.exports={subscribe:subscribe};


},{}],39:[function(require,module,exports){
"use strict";var ExecutionEnvironment=require("exenv"),arrayFind=require("array-find"),infoByCssPrefix={"-moz-":{cssPrefix:"-moz-",jsPrefix:"Moz",alternativeProperties:{flex:[{css:"-moz-box-flex",js:"MozBoxFlex"}],order:[{css:"-moz-box-ordinal-group",js:"MozBoxOrdinalGroup"}]},alternativeValues:{display:{flex:["-moz-box"]}}},"-ms-":{cssPrefix:"-ms-",jsPrefix:"ms",alternativeValues:{display:{flex:["-ms-flexbox"],order:["-ms-flex-order"]}}},"-o-":{cssPrefix:"-o-",jsPrefix:"O"},"-webkit-":{cssPrefix:"-webkit-",jsPrefix:"Webkit",alternativeProperties:{flex:[{css:"-webkit-box-flex",js:"WebkitBoxFlex"}],order:[{css:"-webkit-box-ordinal-group",js:"WebkitBoxOrdinalGroup"}]},alternativeValues:{display:{flex:["-webkit-box"]}}}},isUnitlessNumber={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},domStyle={},prefixedPropertyCache={},prefixedValueCache={},prefixInfo={cssPrefix:"",jsPrefix:""};if(ExecutionEnvironment.canUseDOM){domStyle=document.createElement("p").style;var windowStyles=window.getComputedStyle(document.documentElement,""),prefixMatch=Array.prototype.slice.call(windowStyles).join("").match(/-(moz|webkit|ms|o)-/),cssVendorPrefix=prefixMatch&&prefixMatch[0];prefixInfo=infoByCssPrefix[cssVendorPrefix]||prefixInfo}var _camelCaseRegex=/([a-z])?([A-Z])/g,_camelCaseReplacer=function(e,r,i){return r+"-"+i.toLowerCase()},_camelCaseToDashCase=function(e){return e.replace(_camelCaseRegex,_camelCaseReplacer)},getPrefixedPropertyName=function(e){if(prefixedPropertyCache.hasOwnProperty(e))return prefixedPropertyCache[e];var r={css:_camelCaseToDashCase(e),js:e,isDefaultForServer:!0},i=[{css:prefixInfo.cssPrefix+_camelCaseToDashCase(e),js:prefixInfo.jsPrefix+e[0].toUpperCase()+e.slice(1)},r];prefixInfo.alternativeProperties&&prefixInfo.alternativeProperties[e]&&(i=i.concat(prefixInfo.alternativeProperties[e]));var a=arrayFind(i,function(e){return e.js in domStyle?e:void 0})||!1;return prefixedPropertyCache[e]=a},_addPixelSuffixToValueIfNeeded=function(e,r){return 0===r||isNaN(r)||isUnitlessNumber[e]?r:r+"px"},_getPrefixedValue=function(e,r,i){if(!Array.isArray(r)){if(!isNaN(r))return _addPixelSuffixToValueIfNeeded(i,r);if("string"!=typeof r&&(r=r.toString()),!isNaN(parseInt(r,10)))return r}var a=Array.isArray(r)?r.join(" || "):e+r;if(prefixedValueCache.hasOwnProperty(a))return prefixedValueCache[a];var o;Array.isArray(r)?(o=r.map(function(e){return _addPixelSuffixToValueIfNeeded(i,e)}),o=o.concat(r.filter(function(e){return!isNaN(e)}).map(function(e){return prefixInfo.cssPrefix+e}))):o=[r,prefixInfo.cssPrefix+r],prefixInfo.alternativeValues&&prefixInfo.alternativeValues[i]&&prefixInfo.alternativeValues[i][r]&&(o=o.concat(prefixInfo.alternativeValues[i][r]));var t=arrayFind(o,function(r){return domStyle[e]="",domStyle[e]=r,!!domStyle[e]});return t?prefixedValueCache[a]=t:(prefixedValueCache[a]=r,console&&console.warn&&console.warn('Unsupported CSS value "'+r+'" for property "'+e+'"')),prefixedValueCache[a]},getPrefixedStyle=function(e,r){if(r=r||"js",!ExecutionEnvironment.canUseDOM)return Object.keys(e).reduce(function(i,a){var o=e[a],t="css"===r?_camelCaseToDashCase(a):a,s=Array.isArray(o)?o[0]:o;return i[t]=s,i},{});var i={};return Object.keys(e).forEach(function(a){var o=e[a],t=getPrefixedPropertyName(a);if(t===!1)return void(console&&console.warn&&console.warn('Unsupported CSS property "'+a+'"'));var s=_getPrefixedValue(t.js,o,a);i[t[r]]=s}),i};module.exports={getPrefixedPropertyName:getPrefixedPropertyName,getPrefixedStyle:getPrefixedStyle,cssPrefix:prefixInfo.cssPrefix,jsPrefix:prefixInfo.jsPrefix};


},{"array-find":41,"exenv":42}],40:[function(require,module,exports){
(function (process,global){
"use strict";var MouseUpListener=require("./mouse-up-listener"),getState=require("./get-state"),Prefixer=require("./prefixer"),Config=require("./config"),ExecutionEnvironment=require("exenv"),React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,objectAssign=require("object-assign"),mediaQueryListByQueryString={},_isSpecialKey=function(e){return":"===e[0]||"@"===e[0]},_getStyleState=function(e,t,r){return getState(e.state,t,r)},_setStyleState=function(e,t,r){var n=e.state&&e.state._radiumStyleState||{},i={_radiumStyleState:objectAssign({},n)};i._radiumStyleState[t]=i._radiumStyleState[t]||{},objectAssign(i._radiumStyleState[t],r),e.setState(i)},_mergeStyles=function e(t){var r={};return t.forEach(function(t){t&&"object"==typeof t&&!Array.isArray(t)&&Object.keys(t).forEach(function(n){_isSpecialKey(n)&&r[n]?r[n]=e([r[n],t[n]]):r[n]=t[n]})}),r},_mouseUp=function(e){Object.keys(e.state._radiumStyleState).forEach(function(t){_getStyleState(e,t,":active")&&_setStyleState(e,t,{":active":!1})})},_onMediaQueryChange=function(e,t,r){var n={};n[t]=r.matches,_setStyleState(e,"_all",n)},_resolveMediaQueryStyles=function(e,t){return Config.canMatchMedia()?(Object.keys(t).filter(function(e){return"@"===e[0]}).map(function(r){var n=t[r];r=r.replace("@media ","");var i=mediaQueryListByQueryString[r];if(i||(mediaQueryListByQueryString[r]=i=Config.matchMedia(r)),e._radiumMediaQueryListenersByQuery||(e._radiumMediaQueryListenersByQuery={}),!e._radiumMediaQueryListenersByQuery[r]){var o=_onMediaQueryChange.bind(null,e,r);i.addListener(o),e._radiumMediaQueryListenersByQuery[r]={remove:function(){i.removeListener(o)}}}i.matches&&(t=_mergeStyles([t,n]))}),t):t},resolveStyles=function t(e,r,n){if(n=n||{},!r)return r;var i=null,o=r.props.children;if(o){var a=typeof o;if("string"===a||"number"===a)i=o;else if(1===React.Children.count(o)&&o.type){var s=React.Children.only(o);i=t(e,s,n)}else i=React.Children.map(o,function(r){return React.isValidElement(r)?t(e,r,n):r})}if(!React.isValidElement(r)||"string"!=typeof r.type)return o===i?r:React.cloneElement(r,r.props,i);var u=r.props,c=u.style,l={};if(Array.isArray(c)&&(c=_mergeStyles(c)),"production"!==process.env.NODE_ENV){var y=["background","border","borderBottom","borderColor","borderLeft","borderRadius","borderRight","borderStyle","borderTop","borderWidth","font","listStyle","margin","padding","transform","transition"],f=function M(e){if("object"==typeof e){var t=Object.keys(e);y.forEach(function(r){e[r]&&t.some(function(e){return e!==r&&0===e.indexOf(r)})&&console.warn('Radium: property "'+r+'" in style object',c,": do not mix longhand and shorthand properties in the same style object. See https://github.com/FormidableLabs/radium/issues/95 for more information.")}),t.forEach(function(t){return M(e[t])})}};f(c)}if(!c||!Object.keys(c).some(_isSpecialKey))return c?(l.style=Prefixer.getPrefixedStyle(c),React.cloneElement(r,l,i)):i?React.cloneElement(r,{},i):r;var d=r.ref||r.key,S=d||"main";if(n[S])throw new Error("Radium requires each element with interactive styles to have a unique key, set using either the ref or key prop. "+(d?'Key "'+d+'" is a duplicate.':"Multiple elements have no key specified."));n[S]=!0,c=_resolveMediaQueryStyles(e,c);var m={};if(Object.keys(c).forEach(function(e){_isSpecialKey(e)||(m[e]=c[e])}),c[":hover"]||c[":active"]){var v=u.onMouseEnter;l.onMouseEnter=function(t){v&&v(t),_setStyleState(e,S,{":hover":!0})};var p=u.onMouseLeave;l.onMouseLeave=function(t){p&&p(t),_setStyleState(e,S,{":hover":!1})}}if(c[":active"]){var _=u.onMouseDown;l.onMouseDown=function(t){_&&_(t),e._lastMouseDown=Date.now(),_setStyleState(e,S,{":active":!0})}}if(c[":focus"]){var g=u.onFocus;l.onFocus=function(t){g&&g(t),_setStyleState(e,S,{":focus":!0})};var h=u.onBlur;l.onBlur=function(t){h&&h(t),_setStyleState(e,S,{":focus":!1})}}var b=Object.keys(c).filter(function(t){return":active"===t&&_getStyleState(e,S,":active")||":hover"===t&&_getStyleState(e,S,":hover")||":focus"===t&&_getStyleState(e,S,":focus")}).map(function(e){return c[e]});return b.length&&(m=_mergeStyles([m].concat(b))),c[":active"]&&!e._radiumMouseUpListener&&ExecutionEnvironment.canUseEventListeners&&(e._radiumMouseUpListener=MouseUpListener.subscribe(_mouseUp.bind(null,e))),l.style=Prefixer.getPrefixedStyle(m),React.cloneElement(r,l,i)};resolveStyles.__clearStateForTests=function(){mediaQueryListByQueryString={}},module.exports=resolveStyles;


}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./config":32,"./get-state":35,"./mouse-up-listener":38,"./prefixer":39,"_process":48,"exenv":42,"object-assign":43}],41:[function(require,module,exports){
"use strict";function find(n,t,r){if("function"==typeof Array.prototype.find)return n.find(t,r);r=r||this;var f,i=n.length;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(f=0;i>f;f++)if(t.call(r,n[f],f,n))return n[f]}module.exports=find;


},{}],42:[function(require,module,exports){
!function(){"use strict";var e=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:e,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:e&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:e&&!!window.screen};"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:window.ExecutionEnvironment=n}();


},{}],43:[function(require,module,exports){
"use strict";function ToObject(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function ownEnumerableKeys(e){var r=Object.getOwnPropertyNames(e);return Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e))),r.filter(function(r){return propIsEnumerable.call(e,r)})}var propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=Object.assign||function(e,r){for(var t,n,o=ToObject(e),c=1;c<arguments.length;c++){t=arguments[c],n=ownEnumerableKeys(Object(t));for(var u=0;u<n.length;u++)o[n[u]]=t[n[u]]}return o};


},{}],44:[function(require,module,exports){
module.exports.Dispatcher=require("./lib/Dispatcher");


},{"./lib/Dispatcher":45}],45:[function(require,module,exports){
"use strict";function Dispatcher(){this.$Dispatcher_callbacks={},this.$Dispatcher_isPending={},this.$Dispatcher_isHandled={},this.$Dispatcher_isDispatching=!1,this.$Dispatcher_pendingPayload=null}var invariant=require("./invariant"),_lastID=1,_prefix="ID_";Dispatcher.prototype.register=function(i){var t=_prefix+_lastID++;return this.$Dispatcher_callbacks[t]=i,t},Dispatcher.prototype.unregister=function(i){invariant(this.$Dispatcher_callbacks[i],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",i),delete this.$Dispatcher_callbacks[i]},Dispatcher.prototype.waitFor=function(i){invariant(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<i.length;t++){var a=i[t];this.$Dispatcher_isPending[a]?invariant(this.$Dispatcher_isHandled[a],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",a):(invariant(this.$Dispatcher_callbacks[a],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",a),this.$Dispatcher_invokeCallback(a))}},Dispatcher.prototype.dispatch=function(i){invariant(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this.$Dispatcher_startDispatching(i);try{for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]||this.$Dispatcher_invokeCallback(t)}finally{this.$Dispatcher_stopDispatching()}},Dispatcher.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching},Dispatcher.prototype.$Dispatcher_invokeCallback=function(i){this.$Dispatcher_isPending[i]=!0,this.$Dispatcher_callbacks[i](this.$Dispatcher_pendingPayload),this.$Dispatcher_isHandled[i]=!0},Dispatcher.prototype.$Dispatcher_startDispatching=function(i){for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]=!1,this.$Dispatcher_isHandled[t]=!1;this.$Dispatcher_pendingPayload=i,this.$Dispatcher_isDispatching=!0},Dispatcher.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null,this.$Dispatcher_isDispatching=!1},module.exports=Dispatcher;


},{"./invariant":46}],46:[function(require,module,exports){
"use strict";var invariant=function(r,e,n,i,o,a,t,f){if(!r){var s;if(void 0===e)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,i,o,a,t,f],l=0;s=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return d[l++]}))}throw s.framesToPop=1,s}};module.exports=invariant;


},{}],47:[function(require,module,exports){
function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,n,s,i,r,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],isUndefined(n))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];n.apply(this,i)}else if(isObject(n)){for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];for(o=n.slice(),s=o.length,r=0;s>r;r++)o[r].apply(this,i)}return!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned){var n;n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function n(){this.removeListener(e,n),s||(s=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var s=!1;return n.listener=t,this.on(e,n),this},EventEmitter.prototype.removeListener=function(e,t){var n,s,i,r;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,s=-1,n===t||isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(n)){for(r=i;r-->0;)if(n[r]===t||n[r].listener&&n[r].listener===t){s=r;break}if(0>s)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],isFunction(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?isFunction(e._events[t])?1:e._events[t].length:0};


},{}],48:[function(require,module,exports){
function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(!draining){var e=setTimeout(cleanUpNextTick);draining=!0;for(var n=queue.length;n;){for(currentQueue=queue,queue=[];++queueIndex<n;)currentQueue[queueIndex].run();queueIndex=-1,n=queue.length}currentQueue=null,draining=!1,clearTimeout(e)}}function Item(e,n){this.fun=e,this.array=n}function noop(){}var process=module.exports={},queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];queue.push(new Item(e,n)),draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};


},{}],49:[function(require,module,exports){
"use strict";var keyMirror=function(r){var e,o={};if(!(r instanceof Object)||Array.isArray(r))throw new Error("keyMirror(...): Argument must be an object.");for(e in r)r.hasOwnProperty(e)&&(o[e]=e);return o};module.exports=keyMirror;


},{}]},{},[22])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9ncnVudC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2FjdGlvbnMvZGF0YS1hY3Rpb25zLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9hY3Rpb25zL2ZsYXNoLWFjdGlvbnMuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2FjdGlvbnMvc2V0dXAtcHJvZ3Jlc3MtYWN0aW9ucy5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvYWN0aW9ucy9zaXRlLWFjdGlvbnMuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2FjdGlvbnMvc3Bpbm5lci1hY3Rpb25zLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb21wb25lbnRzL2FkdmFuY2VkLXNldHRpbmdzLXN0ZXAuanN4IiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb21wb25lbnRzL2NvbnRlbnQtYm94LmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29tcG9uZW50cy9kZXNpZ24tc3RlcC5qc3giLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvZmxhc2guanN4IiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb21wb25lbnRzL2dldC1zdGFydGVkLmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29tcG9uZW50cy9qZXRwYWNrLWp1bXBzdGFydC1tZW51LmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29tcG9uZW50cy9qZXRwYWNrLWp1bXBzdGFydC1zdGVwLmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29tcG9uZW50cy9sYXlvdXQtc3RlcC5qc3giLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvc2l0ZS10aXRsZS1zdGVwLmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29tcG9uZW50cy9za2lwLWJ1dHRvbi5qc3giLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvdG9vbHRpcC5qc3giLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvd2VsY29tZS1tZW51LmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29tcG9uZW50cy93ZWxjb21lLXdpZGdldC5qc3giLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LWNvbnN0YW50cy5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29uc3RhbnRzL2pldHBhY2stc3RhcnQtcGF0aHMuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2Rpc3BhdGNoZXIvYXBwLWRpc3BhdGNoZXIuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2pldHBhY2stc3RhcnQuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L3N0b3Jlcy9kYXRhLXN0b3JlLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9zdG9yZXMvZmxhc2gtc3RvcmUuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L3N0b3Jlcy9zZXR1cC1wcm9ncmVzcy1zdG9yZS5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvc3RvcmVzL3NpdGUtc3RvcmUuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L3N0b3Jlcy9zcGlubmVyLXN0b3JlLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC91dGlscy93cC1hamF4LmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC93ZWxjb21lLXBhbmVsLmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9qcy9jb21wb25lbnRzL3Byb2dyZXNzLWJhci5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9jb21wb25lbnRzL3N0eWxlLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL2NvbmZpZy5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9jcmVhdGUtbWFya3VwLWZvci1zdHlsZXMuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL0BhdXRvbWF0dGljL2RvcHMtcmVhY3Qvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvZW5oYW5jZXIuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL0BhdXRvbWF0dGljL2RvcHMtcmVhY3Qvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvZ2V0LXN0YXRlLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL2luZGV4LmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL2tleWZyYW1lcy5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9tb3VzZS11cC1saXN0ZW5lci5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9wcmVmaXhlci5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9yZXNvbHZlLXN0eWxlcy5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9ub2RlX21vZHVsZXMvcmFkaXVtL25vZGVfbW9kdWxlcy9hcnJheS1maW5kL2ZpbmQuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL0BhdXRvbWF0dGljL2RvcHMtcmVhY3Qvbm9kZV9tb2R1bGVzL3JhZGl1bS9ub2RlX21vZHVsZXMvZXhlbnYvaW5kZXguanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL0BhdXRvbWF0dGljL2RvcHMtcmVhY3Qvbm9kZV9tb2R1bGVzL3JhZGl1bS9ub2RlX21vZHVsZXMvb2JqZWN0LWFzc2lnbi9pbmRleC5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvZmx1eC9pbmRleC5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvZmx1eC9saWIvRGlzcGF0Y2hlci5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvZmx1eC9saWIvaW52YXJpYW50LmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9ncnVudC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9ldmVudHMvZXZlbnRzLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9ncnVudC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL2tleW1pcnJvci9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBLEdBQUksZUFBZ0IsUUFBUSxnQ0FDM0IsYUFBZSxRQUFRLHdDQUVwQixhQUNILGVBQWdCLFdBQ2YsY0FBYyxVQUNiLFdBQVksYUFBYSxnQkFJM0IsZ0JBQWlCLFdBQ2hCLGNBQWMsVUFDYixXQUFZLGFBQWEsaUJBSzVCLFFBQU8sUUFBVTs7OztBQ2pCakIsR0FBSSxlQUFnQixRQUFRLGdDQUMzQixhQUFlLFFBQVEsd0NBRXBCLGNBQ0gsT0FBUSxTQUFTLEdBQ2hCLGNBQWMsVUFDYixXQUFZLGFBQWEsVUFDekIsUUFBUyxFQUNULFNBQVUsYUFBYSx5QkFJekIsTUFBTyxTQUFTLEdBQ2YsY0FBYyxVQUNiLFdBQVksYUFBYSxVQUN6QixRQUFTLEVBQ1QsU0FBVSxhQUFhLHdCQUl6QixNQUFPLFdBQ04sY0FBYyxVQUNiLFdBQVksYUFBYSxlQUs1QixRQUFPLFFBQVU7Ozs7QUMzQmpCLEdBQUksZUFBZ0IsUUFBUSxnQ0FDM0IsYUFBZSxRQUFRLHdDQUN2QixNQUFRLFFBQVEsb0NBQ2hCLGFBQWUsUUFBUSxtQkFDdkIsWUFBYyxRQUFRLGtCQUN0QixPQUFTLFFBQVEsb0JBQ2pCLG1CQUFxQixRQUFRLGtDQUM3QixVQUFZLFFBQVEsd0JBRWpCLHNCQUNILFVBQVcsV0FDVixPQUNDLEtBQUssSUFBSSxhQUFhLFlBQ3RCLEtBQU0sU0FBVyxHQUNoQixhQUFhLE1BQU0sd0JBQTBCLEtBRS9DLGNBQWMsVUFDUixXQUFZLGFBQWEsY0FJaEMsYUFBYyxTQUFTLEVBQU0sR0FDNUIsR0FBSSxHQUFPLG1CQUFtQixnQkFBZ0IsRUFFOUMsZUFB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SUFBSSxPQUFNLHFDQUlwQixRQUFRLElBQU0sV0FBYyxNQUFPLEtBQ25DLFFBQVEsTUFBUSxTQUFVLEdBQ3RCLEtBQU0sSUFBSSxPQUFNLG1DQUVwQixRQUFRLE1BQVEsV0FBYSxNQUFPOzs7O0FDeEVwQyxZQW9CQSxJQUFJLFdBQVksU0FBUyxHQUN2QixHQUNJLEdBREEsSUFFSixNQUFNLFlBQWUsVUFBVyxNQUFNLFFBQVEsR0FDNUMsS0FBTSxJQUFJLE9BQU0sOENBRWxCLEtBQUssSUFBTyxHQUNMLEVBQUksZUFBZSxLQUd4QixFQUFJLEdBQU8sRUFFYixPQUFPLEdBR1QsUUFBTyxRQUFVIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsInZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuXHRKUFNDb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1jb25zdGFudHMnKTtcblxudmFyIERhdGFBY3Rpb25zID0ge1xuXHRyZXF1ZXN0U3RhcnRlZDogZnVuY3Rpb24oKSB7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0FWRV9TVEFSVEVEXG5cdFx0fSk7XG5cdH0sXG5cblx0cmVxdWVzdEZpbmlzaGVkOiBmdW5jdGlvbigpIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TQVZFX0ZJTklTSEVEXG5cdFx0fSk7XG5cdH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRGF0YUFjdGlvbnM7IiwidmFyIEFwcERpc3BhdGNoZXIgPSByZXF1aXJlKCcuLi9kaXNwYXRjaGVyL2FwcC1kaXNwYXRjaGVyJyksXG5cdEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LWNvbnN0YW50cycpO1xuXG52YXIgRmxhc2hBY3Rpb25zID0ge1xuXHRub3RpY2U6IGZ1bmN0aW9uKG1zZykge1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNFVF9GTEFTSCxcblx0XHRcdG1lc3NhZ2U6IG1zZyxcblx0XHRcdHNldmVyaXR5OiBKUFNDb25zdGFudHMuRkxBU0hfU0VWRVJJVFlfTk9USUNFXG5cdFx0fSk7XG5cdH0sXG5cblx0ZXJyb3I6IGZ1bmN0aW9uKG1zZykge1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNFVF9GTEFTSCxcblx0XHRcdG1lc3NhZ2U6IG1zZyxcblx0XHRcdHNldmVyaXR5OiBKUFNDb25zdGFudHMuRkxBU0hfU0VWRVJJVFlfRVJST1Jcblx0XHR9KTtcblx0fSxcblxuXHR1bnNldDogZnVuY3Rpb24oKSB7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuVU5TRVRfRkxBU0hcblx0XHR9KTtcblx0fVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBGbGFzaEFjdGlvbnM7IiwidmFyIEFwcERpc3BhdGNoZXIgPSByZXF1aXJlKCcuLi9kaXNwYXRjaGVyL2FwcC1kaXNwYXRjaGVyJyksXG5cdEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LWNvbnN0YW50cycpLFxuXHRQYXRocyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LXBhdGhzJyksXG5cdEZsYXNoQWN0aW9ucyA9IHJlcXVpcmUoJy4vZmxhc2gtYWN0aW9ucycpLFxuXHRTaXRlQWN0aW9ucyA9IHJlcXVpcmUoJy4vc2l0ZS1hY3Rpb25zJyksXG5cdFdQQWpheCA9IHJlcXVpcmUoJy4uL3V0aWxzL3dwLWFqYXgnKSxcblx0U2V0dXBQcm9ncmVzc1N0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NldHVwLXByb2dyZXNzLXN0b3JlJyksXG5cdFNpdGVTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zaXRlLXN0b3JlJyk7XG5cbnZhciBTZXR1cFByb2dyZXNzQWN0aW9ucyA9IHtcblx0cmVzZXREYXRhOiBmdW5jdGlvbigpIHtcblx0XHRXUEFqYXguXG5cdFx0XHRwb3N0KEpQUy5zaXRlX2FjdGlvbnMucmVzZXRfZGF0YSkuXG5cdFx0XHRmYWlsKCBmdW5jdGlvbiAoIG1zZyApIHtcblx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKFwiRmFpbGVkIHRvIHNhdmUgZGF0YTogXCIgKyBtc2cpO1xuXHRcdFx0fSk7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdCAgICAgIFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlJFU0VUX0RBVEFcblx0ICAgIH0pO1xuXHR9LFxuXG5cdGNvbXBsZXRlU3RlcDogZnVuY3Rpb24oc2x1ZywgbWV0YSkge1xuXHRcdHZhciBzdGVwID0gU2V0dXBQcm9ncmVzc1N0b3JlLmdldFN0ZXBGcm9tU2x1ZyhzbHVnKTtcblxuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNURVBfQ09NUExFVEUsXG5cdFx0XHRzbHVnOiBzbHVnXG5cdCAgICB9KTtcblxuXHRcdC8vIE5PVEU6IHRoaXMgbmVlZHMgdG8gY29tZSBhZnRlciB0aGUgZGlzcGF0Y2gsIHNvIHRoYXQgdGhlIGNvbXBsZXRpb24gJSBcblx0XHQvLyBpcyBhbHJlYWR5IHVwZGF0ZWQgYW5kIGNhbiBiZSBpbmNsdWRlZCBpbiB0aGUgbWV0YWRhdGFcblx0XHR0aGlzLl9yZWNvcmRDb21wbGV0ZShzdGVwLCBtZXRhKTtcblx0fSxcblxuXHRjb21wbGV0ZUFuZE5leHRTdGVwOiBmdW5jdGlvbihzbHVnLCBtZXRhKSB7XG5cdFx0dGhpcy5jb21wbGV0ZVN0ZXAoc2x1ZywgbWV0YSk7XG5cblx0ICAgIEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHQgICAgICBhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU1RFUF9ORVhULFxuXHQgICAgICBzbHVnOiBzbHVnXG5cdCAgICB9KTtcblx0fSxcblxuXHRfcmVjb3JkQ29tcGxldGU6IGZ1bmN0aW9uKHN0ZXAsIG1ldGEpIHtcblx0XHRpZiAodHlwZW9mKG1ldGEpID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0bWV0YSA9IHt9O1xuXHRcdH1cblxuXHRcdG1ldGEuY29tcGxldGlvbiA9IFNldHVwUHJvZ3Jlc3NTdG9yZS5nZXRQcm9ncmVzc1BlcmNlbnQoKTtcblxuXHRcdFdQQWpheC5cblx0XHQgIFx0cG9zdChKUFMuc3RlcF9hY3Rpb25zLmNvbXBsZXRlLCB7IHN0ZXA6IHN0ZXAuc2x1ZywgZGF0YTogbWV0YSB9KS5cblx0XHRcdGZhaWwoIGZ1bmN0aW9uKG1zZykge1xuXHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IobXNnKTtcblx0XHRcdH0pO1xuXHR9LFxuXG5cdC8vIG1hcmsgY3VycmVudCBzdGVwIGFzIHNraXBwZWQgYW5kIG1vdmUgb25cblx0c2tpcFN0ZXA6IGZ1bmN0aW9uKCkge1xuXHRcdEZsYXNoQWN0aW9ucy51bnNldCgpO1xuXHRcdFxuXHRcdHZhciBzdGVwID0gU2V0dXBQcm9ncmVzc1N0b3JlLmdldEN1cnJlbnRTdGVwKCk7XG5cblx0XHRpZiAoICEgc3RlcC5za2lwcGVkICkge1xuXHRcdCAgICBXUEFqYXguXG5cdFx0XHRcdHBvc3QoSlBTLnN0ZXBfYWN0aW9ucy5za2lwLCB7IHN0ZXA6IHN0ZXAuc2x1ZyB9KS5cblx0XHRcdFx0ZmFpbCggZnVuY3Rpb24obXNnKSB7XG5cdFx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKG1zZyk7XG5cdFx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNURVBfU0tJUFxuXHQgICAgfSk7XG5cdH0sXG5cblx0Z2V0U3RhcnRlZDogZnVuY3Rpb24oKSB7XG5cdCAgICBXUEFqYXguXG5cdFx0XHRwb3N0KEpQUy5zdGVwX2FjdGlvbnMuc3RhcnQpLlxuXHRcdFx0ZmFpbCggZnVuY3Rpb24obXNnKSB7XG5cdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihtc2cpO1xuXHRcdFx0fSk7XG5cblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0ICAgICAgYWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNURVBfR0VUX1NUQVJURURcblx0ICAgIH0pO1xuXHR9LFxuXG5cdHNldEN1cnJlbnRTdGVwOiBmdW5jdGlvbihzbHVnKSB7XG5cdFx0Rmxhc2hBY3Rpb25zLnVuc2V0KCk7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdCAgICAgIGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TVEVQX1NFTEVDVCxcblx0ICAgICAgc2x1Zzogc2x1Z1xuXHQgICAgfSk7XG5cdH0sXG5cblx0Ly8gbW92ZXMgb24gdG8gdGhlIG5leHQgc3RlcCwgYnV0IGRvZXNuJ3QgbWFyayBpdCBhcyBcInNraXBwZWRcIlxuXHRzZWxlY3ROZXh0U3RlcDogZnVuY3Rpb24oKSB7XG5cdFx0Rmxhc2hBY3Rpb25zLnVuc2V0KCk7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU1RFUF9ORVhUXG5cdCAgICB9KTtcblx0fSxcblxuXHRzdWJtaXRUaXRsZVN0ZXA6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVBY3Rpb25zLnNhdmVUaXRsZUFuZERlc2NyaXB0aW9uKCkuZG9uZShmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuY29tcGxldGVBbmROZXh0U3RlcChQYXRocy5TSVRFX1RJVExFX1NURVBfU0xVRyk7XG5cdFx0fS5iaW5kKHRoaXMpKTtcblx0fSxcblxuXHRzdWJtaXRMYXlvdXRTdGVwOiBmdW5jdGlvbihsYXlvdXQpIHtcblx0XHRTaXRlQWN0aW9ucy5zZXRMYXlvdXQobGF5b3V0KS5kb25lKGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5jb21wbGV0ZUFuZE5leHRTdGVwKFBhdGhzLkxBWU9VVF9TVEVQX1NMVUcpO1xuXHRcdH0uYmluZCh0aGlzKSk7XG5cdH0sXG5cblx0c3VibWl0SmV0cGFja0p1bXBzdGFydDogZnVuY3Rpb24oKSB7XG5cdFx0U2l0ZUFjdGlvbnMuZW5hYmxlSnVtcHN0YXJ0KCkuZG9uZShmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuY29tcGxldGVTdGVwKFBhdGhzLkpFVFBBQ0tfTU9EVUxFU19TVEVQX1NMVUcpO1xuXHRcdH0uYmluZCh0aGlzKSk7XG5cdH0sXG5cblx0c2V0QWN0aXZlVGhlbWU6IGZ1bmN0aW9uKHRoZW1lKSB7XG5cdFx0U2l0ZUFjdGlvbnMuc2V0QWN0aXZlVGhlbWUodGhlbWUpLmRvbmUoIGZ1bmN0aW9uICgpIHtcblx0XHRcdHRoaXMuY29tcGxldGVTdGVwKFBhdGhzLkRFU0lHTl9TVEVQX1NMVUcsIHt0aGVtZUlkOiB0aGVtZS5pZH0pO1xuXHRcdH0uYmluZCh0aGlzKSk7XG5cdH0sXG5cblx0c2F2ZURlc2lnblN0ZXA6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuY29tcGxldGVBbmROZXh0U3RlcChQYXRocy5ERVNJR05fU1RFUF9TTFVHLCB7dGhlbWVJZDogU2l0ZVN0b3JlLmdldEFjdGl2ZVRoZW1lSWQoKX0pO1xuXHR9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNldHVwUHJvZ3Jlc3NBY3Rpb25zOyIsInZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuXHRKUFNDb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1jb25zdGFudHMnKSxcblx0U2l0ZVN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NpdGUtc3RvcmUnKSxcblx0Rmxhc2hBY3Rpb25zID0gcmVxdWlyZSgnLi9mbGFzaC1hY3Rpb25zLmpzJyksXG5cdFNwaW5uZXJBY3Rpb25zID0gcmVxdWlyZSgnLi9zcGlubmVyLWFjdGlvbnMuanMnKSxcblx0V1BBamF4ID0gcmVxdWlyZSgnLi4vdXRpbHMvd3AtYWpheCcpO1xuXG52YXIgU2l0ZUFjdGlvbnMgPSB7XG5cdHNldFRpdGxlOiBmdW5jdGlvbih0aXRsZSkge1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNJVEVfU0VUX1RJVExFLFxuXHRcdFx0dGl0bGU6IHRpdGxlXG5cdCAgICB9KTtcblx0fSxcblxuXHRzZXREZXNjcmlwdGlvbjogZnVuY3Rpb24oZGVzY3JpcHRpb24pIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSVRFX1NFVF9ERVNDUklQVElPTixcblx0XHRcdGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvblxuXHQgICAgfSk7XG5cdH0sXG5cblx0c2F2ZVRpdGxlQW5kRGVzY3JpcHRpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aXRsZSA9IFNpdGVTdG9yZS5nZXRUaXRsZSgpO1xuXHRcdHZhciBkZXNjcmlwdGlvbiA9IFNpdGVTdG9yZS5nZXREZXNjcmlwdGlvbigpO1xuXHRcdFxuXHRcdFdQQWpheC5cblx0XHRcdHBvc3QoIEpQUy5zaXRlX2FjdGlvbnMuc2V0X3RpdGxlLCB7IHRpdGxlOiB0aXRsZSwgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uIH0gKS5cblx0XHRcdGZhaWwoIGZ1bmN0aW9uICggbXNnICkge1xuXHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IoXCJFcnJvciBzZXR0aW5nIHRpdGxlOiBcIittc2cpO1xuXHRcdFx0fSk7XG5cblx0XHRqUXVlcnkoJyN3cC1hZG1pbi1iYXItc2l0ZS1uYW1lIC5hYi1pdGVtJykuaHRtbCh0aXRsZSk7XG5cdFx0Ly8gRmxhc2hBY3Rpb25zLm5vdGljZSggXCJTZXQgdGl0bGUgdG8gJ1wiK3RpdGxlK1wiJyBhbmQgZGVzY3JpcHRpb24gdG8gJ1wiK2Rlc2NyaXB0aW9uK1wiJ1wiICk7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9TQVZFX1RJVExFX0FORF9ERVNDUklQVElPTixcblx0XHRcdHRpdGxlOiB0aXRsZVxuXHQgICAgfSk7XG5cblx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCkucmVzb2x2ZSgpOyAvLyBYWFggSEFDS1xuXHR9LFxuXG5cdF9pbnN0YWxsVGhlbWU6IGZ1bmN0aW9uICggdGhlbWUgKSB7XG5cdFx0aWYgKCAhIHRoZW1lLmluc3RhbGxlZCApIHtcblx0XHRcdFNwaW5uZXJBY3Rpb25zLnNob3coXCJJbnN0YWxsaW5nICdcIit0aGVtZS5uYW1lK1wiJ1wiKTtcblx0XHRcdHJldHVybiBXUEFqYXguXG5cdFx0XHRcdHBvc3QoIEpQUy5zaXRlX2FjdGlvbnMuaW5zdGFsbF90aGVtZSwgeyB0aGVtZUlkOiB0aGVtZS5pZCB9ICkuXG5cdFx0XHRcdGRvbmUoIGZ1bmN0aW9uICggKSB7XG5cdFx0XHRcdFx0dGhlbWUuaW5zdGFsbGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdFx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSVRFX0lOU1RBTExfVEhFTUUsXG5cdFx0XHRcdFx0XHR0aGVtZTogdGhlbWVcblx0XHRcdFx0ICAgIH0pO1xuXHRcdFx0XHR9KS5cblx0XHRcdFx0ZmFpbCggZnVuY3Rpb24gKCBtc2cgKSB7XG5cdFx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKFwiU2VydmVyIGVycm9yIGluc3RhbGxpbmcgdGhlbWU6IFwiK21zZyk7XG5cdFx0XHRcdH0pLlxuXHRcdFx0XHRhbHdheXMoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFNwaW5uZXJBY3Rpb25zLmhpZGUoKTtcblx0XHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoKS5yZXNvbHZlKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9hY3RpdmF0ZVRoZW1lOiBmdW5jdGlvbiAoIHRoZW1lICkge1xuXHRcdFdQQWpheC5cblx0XHRcdHBvc3QoIEpQUy5zaXRlX2FjdGlvbnMuc2V0X3RoZW1lLCB7IHRoZW1lSWQ6IHRoZW1lLmlkIH0gKS5cblx0XHRcdGZhaWwoIGZ1bmN0aW9uICggbXNnICkge1xuXHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IoXCJTZXJ2ZXIgZXJyb3Igc2V0dGluZyB0aGVtZTogXCIrbXNnKTtcblx0XHRcdH0pO1xuXG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9TRVRfVEhFTUUsXG5cdFx0XHR0aGVtZUlkOiB0aGVtZS5pZFxuXHQgICAgfSk7XG5cdH0sXG5cblx0c2V0QWN0aXZlVGhlbWU6IGZ1bmN0aW9uKCB0aGVtZSApIHtcblxuXHRcdHRoaXMuX2luc3RhbGxUaGVtZSh0aGVtZSkuXG5cdFx0XHRkb25lKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhpcy5fYWN0aXZhdGVUaGVtZSh0aGVtZSk7XG5cdFx0XHR9LmJpbmQodGhpcykpO1xuXG5cdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZCgpLnJlc29sdmUoKTsgLy8gWFhYIEhBQ0tcblx0fSxcblxuXHRzZXRMYXlvdXQ6IGZ1bmN0aW9uKCBsYXlvdXROYW1lICkge1xuXHRcblx0XHRXUEFqYXguXG5cdFx0XHRwb3N0KCBKUFMuc2l0ZV9hY3Rpb25zLnNldF9sYXlvdXQsIHsgbGF5b3V0OiBsYXlvdXROYW1lIH0gKS5cblx0XHRcdGZhaWwoIGZ1bmN0aW9uIChtc2cgKSB7XG5cdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihcIkVycm9yIHNldHRpbmcgbGF5b3V0OiBcIittc2cpO1xuXHRcdFx0fSk7XG5cblx0XHQvLyBGbGFzaEFjdGlvbnMubm90aWNlKFwiU2V0IGxheW91dCB0byBcIitsYXlvdXROYW1lKTtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSVRFX1NFVF9MQVlPVVQsXG5cdFx0XHRsYXlvdXQ6IGxheW91dE5hbWVcblx0ICAgIH0pO1xuXG5cdCAgICByZXR1cm4galF1ZXJ5LkRlZmVycmVkKCkucmVzb2x2ZSgpOyAvLyBYWFggSEFDS1xuXHR9LFxuXG5cdGNvbmZpZ3VyZUpldHBhY2s6IGZ1bmN0aW9uKHJldHVybl90b19zdGVwKSB7XG5cdFx0U3Bpbm5lckFjdGlvbnMuc2hvdyhcIkNvbm5lY3RpbmcgdG8gV29yZFByZXNzLmNvbVwiKTtcblx0XHRyZXR1cm4gV1BBamF4LlxuXHRcdFx0cG9zdCggSlBTLnNpdGVfYWN0aW9ucy5jb25maWd1cmVfamV0cGFjaywgeyByZXR1cm5fdG9fc3RlcDogcmV0dXJuX3RvX3N0ZXAgfSApLlxuXHRcdFx0ZG9uZSggZnVuY3Rpb24gKCBkYXRhICkge1xuXHRcdFx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9KRVRQQUNLX0NPTkZJR1VSRURcblx0XHRcdCAgICB9KTtcblxuXHRcdFx0XHRpZiAoIGRhdGEubmV4dCApIHtcblx0XHRcdFx0XHR3aW5kb3cubG9jYXRpb24ucmVwbGFjZShkYXRhLm5leHQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFNwaW5uZXJBY3Rpb25zLmhpZGUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSkuXG5cdFx0XHRmYWlsKCBmdW5jdGlvbiAoIG1zZyApIHtcblx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKFwiRXJyb3IgZW5hYmxpbmcgSmV0cGFjazogXCIrbXNnKTtcblx0XHRcdFx0U3Bpbm5lckFjdGlvbnMuaGlkZSgpO1xuXHRcdFx0fSk7XG5cdH0sXG5cblx0YWN0aXZhdGVKZXRwYWNrTW9kdWxlOiBmdW5jdGlvbihtb2R1bGVfc2x1Zykge1xuXG5cdFx0V1BBamF4LlxuXHRcdFx0cG9zdCggSlBTLnNpdGVfYWN0aW9ucy5hY3RpdmF0ZV9qZXRwYWNrX21vZHVsZXMsIHsgbW9kdWxlczogW21vZHVsZV9zbHVnXSB9KS5cblx0XHRcdGZhaWwoIGZ1bmN0aW9uICggbXNnICkge1xuXHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IoXCJFcnJvciBhY3RpdmF0aW5nIEpldHBhY2sgbW9kdWxlOiBcIittc2cpO1xuXHRcdFx0fSk7XG5cblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSVRFX0pFVFBBQ0tfTU9EVUxFX0VOQUJMRUQsXG5cdFx0XHRzbHVnOiBtb2R1bGVfc2x1Z1xuXHQgICAgfSk7XG5cblx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCkucmVzb2x2ZSgpOyAvLyBYWFggSEFDS1xuXHR9LFxuXG5cdGRlYWN0aXZhdGVKZXRwYWNrTW9kdWxlOiBmdW5jdGlvbihtb2R1bGVfc2x1Zykge1xuXG5cdFx0V1BBamF4LlxuXHRcdFx0cG9zdCggSlBTLnNpdGVfYWN0aW9ucy5kZWFjdGl2YXRlX2pldHBhY2tfbW9kdWxlcywgeyBtb2R1bGVzOiBbbW9kdWxlX3NsdWddIH0pLlxuXHRcdFx0ZmFpbCggZnVuY3Rpb24gKCBtc2cgKSB7XG5cdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihcIkVycm9yIGRlYWN0aXZhdGluZyBKZXRwYWNrIG1vZHVsZTogXCIrbXNnKTtcblx0XHRcdH0pO1xuXG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9KRVRQQUNLX01PRFVMRV9ESVNBQkxFRCxcblx0XHRcdHNsdWc6IG1vZHVsZV9zbHVnXG5cdCAgICB9KTtcblxuXHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoKS5yZXNvbHZlKCk7IC8vIFhYWCBIQUNLXG5cdH0sXG5cblx0bG9hZEFsbEpldHBhY2tNb2R1bGVzOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoIFNpdGVTdG9yZS5nZXRKZXRwYWNrQWRkaXRpb25hbE1vZHVsZXMoKS5sZW5ndGggPT09IDAgKSB7XG5cdFx0XHRyZXR1cm4gV1BBamF4LlxuXHRcdFx0XHRwb3N0KCBKUFMuc2l0ZV9hY3Rpb25zLmxpc3RfamV0cGFja19tb2R1bGVzICkuXG5cdFx0XHRcdGRvbmUoIGZ1bmN0aW9uICggYWxsX21vZHVsZXMgKSB7XG5cdFx0XHRcdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRcdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9KRVRQQUNLX0FERF9NT0RVTEVTLFxuXHRcdFx0XHRcdFx0bW9kdWxlczogYWxsX21vZHVsZXNcblx0XHRcdFx0ICAgIH0pO1xuXHRcdFx0XHR9KS5cblx0XHRcdFx0ZmFpbCggZnVuY3Rpb24gKCBtc2cgKSB7XG5cdFx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgYWxsIEpldHBhY2sgbW9kdWxlczogXCIrbXNnKTtcblx0XHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoKS5yZXNvbHZlKCk7IC8vIFhYWCBIQUNLXG5cdFx0fVxuXHR9LFxuXG5cdGVuYWJsZUp1bXBzdGFydDogZnVuY3Rpb24oKSB7XG5cdFx0V1BBamF4LlxuXHRcdFx0cG9zdCggSlBTLnNpdGVfYWN0aW9ucy5hY3RpdmF0ZV9qZXRwYWNrX21vZHVsZXMsIHsgbW9kdWxlczogU2l0ZVN0b3JlLmdldEp1bXBzdGFydE1vZHVsZVNsdWdzKCkgfSkuXG5cdFx0XHRmYWlsKCBmdW5jdGlvbiAoIG1zZyApIHtcblx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKFwiRXJyb3IgYWN0aXZhdGluZyBKZXRwYWNrIG1vZHVsZXM6IFwiK21zZyk7XG5cdFx0XHR9KTtcblxuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNJVEVfSkVUUEFDS19KVU1QU1RBUlRfRU5BQkxFRFxuXHQgICAgfSk7XG5cblx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCkucmVzb2x2ZSgpOyAvLyBYWFggSEFDS1xuXHR9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNpdGVBY3Rpb25zOyIsInZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuXHRKUFNDb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1jb25zdGFudHMnKTtcblxudmFyIFNwaW5uZXJBY3Rpb25zID0ge1xuXHRzaG93OiBmdW5jdGlvbihtc2cpIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSE9XX1NQSU5ORVIsXG5cdFx0XHRtZXNzYWdlOiBtc2dcblx0XHR9KTtcblx0fSxcblxuXHRoaWRlOiBmdW5jdGlvbigpIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5ISURFX1NQSU5ORVIsXG5cdFx0fSk7XHRcblx0fSxcblxuXHRzaG93QXN5bmM6IGZ1bmN0aW9uKG1zZykge1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNIT1dfQVNZTkNfU1BJTk5FUixcblx0XHRcdG1lc3NhZ2U6IG1zZ1xuXHRcdH0pO1x0XHRcblx0fSxcblxuXHRoaWRlQXN5bmM6IGZ1bmN0aW9uKCkge1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLkhJREVfQVNZTkNfU1BJTk5FUlxuXHRcdH0pO1x0XHRcdFxuXHR9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNwaW5uZXJBY3Rpb25zOyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93LlJlYWN0IDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbC5SZWFjdCA6IG51bGwpLFxuXHRTaXRlU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2l0ZS1zdG9yZScpO1xuXG52YXIgQWR2YW5jZWRTZXR0aW5nc1N0ZXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiQWR2YW5jZWRTZXR0aW5nc1N0ZXBcIixcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwid2VsY29tZV9fc2VjdGlvblwiLCBpZDogXCJ3ZWxjb21lX19hZHZhbmNlZFwifSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoNFwiLCBudWxsLCBcIkFkdmFuY2VkIHNldHRpbmdzXCIpLCBcblxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwidWxcIiwge2NsYXNzTmFtZTogXCJ3ZWxjb21lX19hZHZhbmNlZFwifSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImg1XCIsIG51bGwsIFwiRmluZS10dW5lIHlvdXIgc2l0ZSdzIGxheW91dCBhbmQgYXBwZWFyYW5jZVwiKSwgXG5cdFx0XHRcdFx0XHRcIkN1c3RvbWl6ZSB5b3VyIHNpdGXigJlzIGNvbG9ycywgZm9udHMsIHNpZGViYXJzIGFuZCBvdGhlciBzZXR0aW5ncy5cIiwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCksIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge2NsYXNzTmFtZTogXCJidXR0b24gYnV0dG9uLXByaW1hcnkgYnV0dG9uLWxhcmdlXCIsIGhyZWY6IEpQUy5zdGVwcy5hZHZhbmNlZF9zZXR0aW5ncy5jdXN0b21pemVfdXJsfSwgXCJDdXN0b21pemUgbXkgc2l0ZVwiKSwgXG5cdFx0XHRcdFx0XHRcIsKgXCIgKyAnICcgK1xuXHRcdFx0XHRcdFx0XCLCoFwiLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtjbGFzc05hbWU6IFwiYnV0dG9uIGJ1dHRvbi1wcmltYXJ5IGJ1dHRvbi1sYXJnZVwiLCBocmVmOiBKUFMuc3RlcHMuYWR2YW5jZWRfc2V0dGluZ3MudGhlbWVzX3VybH0sIFwiQnJvd3NlIGFuZCBhZGQgdGhlbWVzXCIpXG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHQpLCBcblx0XHRcdFx0XHQoU2l0ZVN0b3JlLmdldExheW91dCgpID09ICdibG9nJyB8fCBTaXRlU3RvcmUuZ2V0TGF5b3V0KCkgPT0gJ3NpdGUtYmxvZycpICYmIChcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImg1XCIsIG51bGwsIFwiQ3JlYXRlIHlvdXIgZmlyc3QgYmxvZyBwb3N0XCIpLCBcblx0XHRcdFx0XHRcdFx0XCJBbiBlcGljIGVzc2F5IG9yIGp1c3QgXFxcIkhlbGxvIFdvcmxkIVxcXCJcIiwgXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiclwiLCBudWxsKSwgXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtjbGFzc05hbWU6IFwiYnV0dG9uIGJ1dHRvbi1wcmltYXJ5IGJ1dHRvbi1sYXJnZVwiLCBocmVmOiBKUFMuc3RlcHMuYWR2YW5jZWRfc2V0dGluZ3MubmV3X2Jsb2dfcG9zdF91cmx9LCBcIldyaXRlIGEgbmV3IGJsb2cgcG9zdFwiKSwgXG5cdFx0XHRcdFx0XHRcdFwiwqDCoFwiLCBcblx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge2NsYXNzTmFtZTogXCJidXR0b24gYnV0dG9uLXByaW1hcnkgYnV0dG9uLWxhcmdlXCIsIGhyZWY6IEpQUy5zdGVwcy5hZHZhbmNlZF9zZXR0aW5ncy5tYW5hZ2VfcG9zdHNfdXJsfSwgXCJNYW5hZ2UgcG9zdHNcIilcblx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHQpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDVcIiwgbnVsbCwgXCJDcmVhdGUgYSBzdGF0aWMgcGFnZVwiKSwgXG5cdFx0XHRcdFx0XHRcIlxcXCJBYm91dCBtZVxcXCIsIFxcXCJPdXIgU2VydmljZXNcXFwiIG9yIGFueXRoaW5nIGVsc2UgeW91IGNhbiBpbWFnaW5lLlwiLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiclwiLCBudWxsKSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7Y2xhc3NOYW1lOiBcImJ1dHRvbiBidXR0b24tcHJpbWFyeSBidXR0b24tbGFyZ2VcIiwgaHJlZjogSlBTLnN0ZXBzLmFkdmFuY2VkX3NldHRpbmdzLm5ld19wYWdlX3VybH0sIFwiQ3JlYXRlIGEgbmV3IHBhZ2VcIiksIFxuXHRcdFx0XHRcdFx0XCLCoMKgXCIsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge2NsYXNzTmFtZTogXCJidXR0b24gYnV0dG9uLXByaW1hcnkgYnV0dG9uLWxhcmdlXCIsIGhyZWY6IEpQUy5zdGVwcy5hZHZhbmNlZF9zZXR0aW5ncy5tYW5hZ2VfcGFnZXNfdXJsfSwgXCJNYW5hZ2UgcGFnZXNcIilcblx0XHRcdFx0XHQpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDVcIiwgbnVsbCwgXCJFeHRlbmQgeW91ciBzaXRlJ3MgZnVuY3Rpb25hbGl0eVwiKSwgXG5cdFx0XHRcdFx0XHRcIldvcmRQcmVzcyBvZmZlcnMgdGhvdXNhbmRzIG9mIHBsdWdpbnMgZnJvbSBKZXRwYWNrIGFuZCB0aGUgV29yZFByZXNzIGNvbW11bml0eS5cIiwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCksIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge2NsYXNzTmFtZTogXCJidXR0b24gYnV0dG9uLXByaW1hcnkgYnV0dG9uLWxhcmdlXCIsIGhyZWY6IEpQUy5zdGVwcy5hZHZhbmNlZF9zZXR0aW5ncy5wbHVnaW5zX3VybH0sIFwiTWFuYWdlIHBsdWdpbnNcIiksIFxuXHRcdFx0XHRcdFx0XCLCoFwiICsgJyAnICtcblx0XHRcdFx0XHRcdFwiwqBcIiwgXG5cdFx0XHRcdFx0XHRTaXRlU3RvcmUuZ2V0SmV0cGFja0NvbmZpZ3VyZWQoKSAmJiAoXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtjbGFzc05hbWU6IFwiYnV0dG9uIGJ1dHRvbi1wcmltYXJ5IGJ1dHRvbi1sYXJnZVwiLCBocmVmOiBKUFMuc3RlcHMuYWR2YW5jZWRfc2V0dGluZ3MuamV0cGFja19tb2R1bGVzX3VybH0sIFwiTWFuYWdlIEpldHBhY2sgbW9kdWxlc1wiKVxuXHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdCksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoNVwiLCBudWxsLCBcIkxlYXJuIG1vcmVcIiksIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge2hyZWY6IFwiaHR0cHM6Ly9jb2RleC53b3JkcHJlc3Mub3JnL0ZpcnN0X1N0ZXBzX1dpdGhfV29yZFByZXNzXCJ9LCBcIkZpcnN0IFN0ZXBzIHdpdGggV29yZFByZXNzXCIpLCBcIiAtIGFuIG9ubGluZSBndWlkZSBmcm9tIHRoZSBjcmVhdG9ycyBvZiBXb3JkUHJlc3NcIlxuXHRcdFx0XHRcdClcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFkdmFuY2VkU2V0dGluZ3NTdGVwOyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93LlJlYWN0IDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbC5SZWFjdCA6IG51bGwpO1xuXG52YXIgQ29udGVudEJveCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJDb250ZW50Qm94XCIsXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ3ZWxjb21lX19jb250ZW50X2JveFwifSwgXG5cdFx0XHRcdHRoaXMucHJvcHMuY2hpbGRyZW4sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwiY2xlYXJcIn0pXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQ29udGVudEJveDsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdy5SZWFjdCA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwuUmVhY3QgOiBudWxsKSxcblx0U2l0ZVN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NpdGUtc3RvcmUnKSxcblx0U2V0dXBQcm9ncmVzc0FjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3NldHVwLXByb2dyZXNzLWFjdGlvbnMnKSxcblx0VG9vbHRpcCA9IHJlcXVpcmUoJy4vdG9vbHRpcCcpLFxuXHRDb250ZW50Qm94ID0gcmVxdWlyZSgnLi9jb250ZW50LWJveCcpO1xuXG5mdW5jdGlvbiBnZXRUaGVtZVN0YXRlKCkge1xuXHRyZXR1cm4geyB0aGVtZXM6IFNpdGVTdG9yZS5nZXRUaGVtZXMoKSB9O1xufVxuXG52YXIgRGVzaWduU3RlcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJEZXNpZ25TdGVwXCIsXG5cblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdFx0dGhpcy5fbG9hZFBvcHVsYXJUaGVtZXMoKTtcblx0fSxcblxuXHRjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0U2l0ZVN0b3JlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0fSxcblxuXHRfb25DaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICAgIFx0dGhpcy5zZXRTdGF0ZShnZXRUaGVtZVN0YXRlKCkpO1xuICBcdH0sXG5cblx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW5pdGlhbFN0YXRlID0gZ2V0VGhlbWVTdGF0ZSgpO1xuXHRcdGluaXRpYWxTdGF0ZS5wb3B1bGFyVGhlbWVzID0gW107XG5cdFx0cmV0dXJuIGluaXRpYWxTdGF0ZTtcblx0fSxcblxuXHRoYW5kbGVBY3RpdmF0ZVRoZW1lOiBmdW5jdGlvbiAoIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFxuXHRcdHRoaXMuc2V0U3RhdGUoe3Rvb2x0aXBUaGVtZTogbnVsbCwgdG9vbHRpcFBvc2l0aW9uOiBudWxsfSk7XG5cblx0XHR2YXIgJGVsID0galF1ZXJ5KGUuY3VycmVudFRhcmdldCksXG5cdFx0XHR0aGVtZUlkID0gJGVsLmRhdGEoJ3RoZW1lLWlkJyksXG5cdFx0XHR0aGVtZSA9IHRoaXMuZmluZFRoZW1lKHRoZW1lSWQpLFxuXHRcdFx0bmVlZHNJbnN0YWxsYXRpb24gPSAhdGhlbWUuaW5zdGFsbGVkO1xuXG5cdFx0dmFyIHJlc3BvbnNlID0gU2V0dXBQcm9ncmVzc0FjdGlvbnMuc2V0QWN0aXZlVGhlbWUodGhlbWUpO1xuXG5cdFx0Ly8gaWYgd2UganVzdCBpbnN0YWxsZWQgYSB0aGVtZSBmcm9tIHRoZSBcInBvcHVsYXJcIiBsaXN0LCBsZXQncyBsb2FkIHNvbWUgbmV3XG5cdFx0Ly8gc2VsZWN0aW9ucyBvbmNlIGluc3RhbGxhdGlvbiBpcyBmaW5pc2hlZFxuXHRcdGlmICggbmVlZHNJbnN0YWxsYXRpb24gKSB7XG5cdFx0XHRyZXNwb25zZS5kb25lKCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHRoaXMuX2xvYWRQb3B1bGFyVGhlbWVzKCk7XG5cdFx0XHR9LmJpbmQodGhpcykpO1xuXHRcdH1cblx0fSxcblxuXHRmaW5kVGhlbWU6IGZ1bmN0aW9uICggdGhlbWVJZCApXHR7XG5cdFx0cmV0dXJuIF8uZmluZFdoZXJlKHRoaXMuc3RhdGUudGhlbWVzLCB7aWQ6IHRoZW1lSWR9KSB8fCBfLmZpbmRXaGVyZSh0aGlzLnN0YXRlLnBvcHVsYXJUaGVtZXMsIHtpZDogdGhlbWVJZH0pO1xuXHR9LFxuXG5cdGhhbmRsZUNvbnRpbnVlOiBmdW5jdGlvbiAoIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFNldHVwUHJvZ3Jlc3NBY3Rpb25zLnNhdmVEZXNpZ25TdGVwKCk7XG5cdH0sXG5cblx0aGFuZGxlU2hvd1Rvb2x0aXA6IGZ1bmN0aW9uICggZSApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHR2YXIgJGVsICAgPSBqUXVlcnkoZS5jdXJyZW50VGFyZ2V0KSxcblx0XHRcdHRoZW1lID0gdGhpcy5maW5kVGhlbWUoJGVsLmRhdGEoJ3RoZW1lLWlkJykpLFxuXHRcdFx0b2Zmc2V0ID0gJGVsLnBvc2l0aW9uKCksXG5cdFx0XHR3aWR0aCA9ICRlbC5vdXRlcldpZHRoKCksXG5cdFx0XHRoZWlnaHQgPSAkZWwub3V0ZXJIZWlnaHQoKTtcblx0XHRcblx0XHQvL2Rlc2NyaWJlcyBhIHBvc2l0aW9uIGluIHRoZSBtaWRkbGUgb2YgdGhlIHJpZ2h0IHNpZGVcblx0XHR2YXIgcG9zaXRpb24gPSB7XG5cdFx0XHR0b3A6IG9mZnNldC50b3AgKyAoaGVpZ2h0LzIpLFxuXHRcdFx0bGVmdDogb2Zmc2V0LmxlZnQgKyB3aWR0aFxuXHRcdH07XG5cblx0XHR0aGlzLnNldFN0YXRlKHt0b29sdGlwVGhlbWU6IHRoZW1lLCB0b29sdGlwUG9zaXRpb246IHBvc2l0aW9ufSk7XG5cdH0sXG5cblx0aGFuZGxlSGlkZVRvb2x0aXA6IGZ1bmN0aW9uICggZSApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0dGhpcy5zZXRTdGF0ZSh7dG9vbHRpcFRoZW1lOiBudWxsLCB0b29sdGlwUG9zaXRpb246IG51bGx9KTtcblx0fSxcblxuXHRoYW5kbGVHZXRQb3B1bGFyVGhlbWVzOiBmdW5jdGlvbiAoIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHRoaXMuX2xvYWRQb3B1bGFyVGhlbWVzKCk7XHRcdFxuXHR9LFxuXG5cdF9sb2FkUG9wdWxhclRoZW1lczogZnVuY3Rpb24oKSB7XG5cdFx0U2l0ZVN0b3JlLmdldFBvcHVsYXJUaGVtZXMoKS5kb25lKGZ1bmN0aW9uKHRoZW1lcykge1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7cG9wdWxhclRoZW1lczogdGhlbWVzfSk7XG5cdFx0fS5iaW5kKHRoaXMpKTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ3ZWxjb21lX19zZWN0aW9uXCIsIGlkOiBcIndlbGNvbWVfX2Rlc2lnblwifSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoNFwiLCBudWxsLCBcIlBpY2sgYSBkZXNpZ25cIiksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcInN0ZXAtZGVzY3JpcHRpb25cIn0sIFwiQSBcXFwidGhlbWVcXFwiIGNvbnRyb2xzIHRoZSBkZXNpZ24gb2YgeW91ciBzaXRlIC0gY29sb3VycywgZm9udHMgYW5kIGxheW91dC5cIiksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcInN0ZXAtZGVzY3JpcHRpb25cIn0sIFwiQ2xpY2sgYW55IHRoZW1lIGJlbG93IHRvIGNob29zZSBpdCBmb3IgeW91ciBzaXRlLiBBbmQgZG9uJ3Qgd29ycnkgLSB5b3UgY2FuIGVhc2lseSBjaGFuZ2UgdGhpcyBsYXRlci5cIiksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcInN1Ym1pdFwifSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHt0eXBlOiBcInN1Ym1pdFwiLCBuYW1lOiBcInNhdmVcIiwgY2xhc3NOYW1lOiBcImJ1dHRvbiBidXR0b24tcHJpbWFyeSBidXR0b24tbGFyZ2VcIiwgb25DbGljazogdGhpcy5oYW5kbGVDb250aW51ZSwgdmFsdWU6IFwiTmV4dCBTdGVwIOKGklwifSlcblx0XHRcdFx0KSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGVudEJveCwgbnVsbCwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiSW5zdGFsbGVkIHRoZW1lc1wiKSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcInRoZW1lLWJyb3dzZXIgcmVuZGVyZWRcIn0sIFxuXHRcdFx0XHRcdFx0dGhpcy5fcmVuZGVyVGhlbWVMaXN0KClcblx0XHRcdFx0XHQpXG5cdFx0XHRcdCksIFxuXHRcdFx0XHRcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChDb250ZW50Qm94LCBudWxsLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJQb3B1bGFyIHRoZW1lcyBmcm9tIFdvcmRQcmVzcy5vcmdcIiwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge2hyZWY6IFwiI1wiLCBjbGFzc05hbWU6IFwiYnV0dG9uIGJ1dHRvbi1wcmltYXJ5IGJ1dHRvbi1sYXJnZVwiLCBzdHlsZToge2Zsb2F0OiAncmlnaHQnfSwgb25DbGljazogdGhpcy5oYW5kbGVHZXRQb3B1bGFyVGhlbWVzfSwgXCJMb2FkIG1vcmUgdGhlbWVzXCIpXG5cdFx0XHRcdFx0KSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcInRoZW1lLWJyb3dzZXIgcmVuZGVyZWRcIn0sIFxuXHRcdFx0XHRcdFx0dGhpcy5fcmVuZGVyUG9wdWxhclRoZW1lTGlzdCgpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpLCBcblxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZToge2NsZWFyOiAnYm90aCd9fSksIFxuXHRcdFx0XHR0aGlzLnN0YXRlLnRvb2x0aXBUaGVtZSAmJiB0aGlzLl9yZW5kZXJUb29sdGlwKClcblx0XHRcdClcblx0XHQpO1xuXHR9LFxuXG5cdF9yZW5kZXJUb29sdGlwOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGhlbWUgPSB0aGlzLnN0YXRlLnRvb2x0aXBUaGVtZSwgcG9zaXRpb24gPSB0aGlzLnN0YXRlLnRvb2x0aXBQb3NpdGlvbjtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChUb29sdGlwLCB7XG5cdFx0XHRcdGxlZnQ6IHBvc2l0aW9uLmxlZnQsIFxuXHRcdFx0XHR0b3A6IHBvc2l0aW9uLnRvcCwgXG5cdFx0XHRcdHdpZHRoOiAzMjAsIFxuXHRcdFx0XHR0aXRsZTogdGhlbWUubmFtZX0sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCBudWxsLCBcIkJ5IFwiLCB0aGVtZS5hdXRob3IpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7X19odG1sOiBfLnVuZXNjYXBlKHRoZW1lLmRlc2NyaXB0aW9uKX19KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0X3JlbmRlclRoZW1lOiBmdW5jdGlvbih0aGVtZSkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtrZXk6IHRoZW1lLmlkLCBcblx0XHRcdFx0Y2xhc3NOYW1lOiAndGhlbWUnICsgKHRoZW1lLmFjdGl2ZSA/ICcgYWN0aXZlJyA6ICcnKSwgXG5cdFx0XHRcdFwiZGF0YS10aGVtZS1pZFwiOiB0aGVtZS5pZCwgXG5cdFx0XHRcdG9uQ2xpY2s6IHRoaXMuaGFuZGxlQWN0aXZhdGVUaGVtZSwgXG5cdFx0XHRcdG9uTW91c2VFbnRlcjogdGhpcy5oYW5kbGVTaG93VG9vbHRpcCwgXG5cdFx0XHRcdG9uTW91c2VMZWF2ZTogdGhpcy5oYW5kbGVIaWRlVG9vbHRpcCwgXG5cdFx0XHRcdFwiYXJpYS1kZXNjcmliZWRieVwiOiB0aGVtZS5pZCsnLWFjdGlvbiAnK3RoZW1lLmlkKyctbmFtZSd9LCBcblxuXHRcdFx0XHR0aGVtZS5zY3JlZW5zaG90ID8gKFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ0aGVtZS1zY3JlZW5zaG90XCJ9LCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwge3NyYzogdGhlbWUuc2NyZWVuc2hvdCwgYWx0OiBcIlwifSlcblx0XHRcdFx0XHQpXG5cdFx0XHRcdCkgOiAoXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcInRoZW1lLXNjcmVlbnNob3QgYmxhbmtcIn0pXG5cdFx0XHRcdCksIFxuXHRcdFx0XHQhdGhlbWUuYWN0aXZlICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7Y2xhc3NOYW1lOiBcIm1vcmUtZGV0YWlsc1wifSwgdGhlbWUuaW5zdGFsbGVkID8gJ0NsaWNrIHRvIHNlbGVjdCcgOiAnQ2xpY2sgdG8gaW5zdGFsbCcpKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCB7Y2xhc3NOYW1lOiBcInRoZW1lLW5hbWVcIiwgaWQ6IHRoZW1lLmlkKyctbmFtZSd9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCB0aGVtZS5hY3RpdmUgPyAnU2VsZWN0ZWQ6JyA6ICcnKSwgXCIgXCIsIHRoZW1lLm5hbWUpXG5cdFx0XHQpXG5cdFx0KTtcblx0fSxcblxuXHRfcmVuZGVyUG9wdWxhclRoZW1lTGlzdDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuc3RhdGUucG9wdWxhclRoZW1lcy5tYXAoIHRoaXMuX3JlbmRlclRoZW1lICk7XG5cdH0sXG5cblx0X3JlbmRlclRoZW1lTGlzdDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuc3RhdGUudGhlbWVzLm1hcCggdGhpcy5fcmVuZGVyVGhlbWUgKTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gRGVzaWduU3RlcDsiLCIvKipcbiAqIERpc3BsYXlzIGEgZmxhc2ggbWVzc2FnZSwgaWYgc2V0LlxuICogSlNPTiBzdHJ1Y3R1cmU6XG4gKiB7IHNldmVyaXR5OiAnbm90aWNlJywgbWVzc2FnZTogJ015IG1lc3NhZ2UnIH1cbiAqXG4gKiBWYWxpZCBzZXZlcml0aWVzOlxuICogLSBlcnJvciwgbm90aWNlXG4gKi9cblxudmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cuUmVhY3QgOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsLlJlYWN0IDogbnVsbCksXG5cdEZsYXNoU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvZmxhc2gtc3RvcmUnKTtcblxuZnVuY3Rpb24gZ2V0Rmxhc2hTdGF0ZSgpIHtcblx0cmV0dXJuIEZsYXNoU3RvcmUuZ2V0Rmxhc2goKTtcbn1cblxudmFyIEZsYXNoID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIkZsYXNoXCIsXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRGbGFzaFN0b3JlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0fSxcblxuXHRjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0Rmxhc2hTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0X29uQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICBcdHRoaXMuc2V0U3RhdGUoZ2V0Rmxhc2hTdGF0ZSgpKTtcbiAgXHR9LFxuXG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGdldEZsYXNoU3RhdGUoKTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggdGhpcy5zdGF0ZS5tZXNzYWdlICkge1xuXHRcdFx0cmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IHRoaXMuc3RhdGUuc2V2ZXJpdHkgKyAnIHVwZGF0ZWQnfSwgdGhpcy5zdGF0ZS5tZXNzYWdlKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gRmxhc2g7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cuUmVhY3QgOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsLlJlYWN0IDogbnVsbCksXG5cdFNldHVwUHJvZ3Jlc3NTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zZXR1cC1wcm9ncmVzcy1zdG9yZScpLFxuXHRTZXR1cFByb2dyZXNzQWN0aW9ucyA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvc2V0dXAtcHJvZ3Jlc3MtYWN0aW9ucycpO1xuXG5mdW5jdGlvbiBnZXRTZXR1cFN0YXRlKCkge1xuXHRyZXR1cm4ge307XG59XG5cbnZhciBHZXRTdGFydGVkID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIkdldFN0YXJ0ZWRcIixcblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNldHVwUHJvZ3Jlc3NTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNldHVwUHJvZ3Jlc3NTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0X29uQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICBcdHRoaXMuc2V0U3RhdGUoZ2V0U2V0dXBTdGF0ZSgpKTtcbiAgXHR9LFxuXG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGdldFNldHVwU3RhdGUoKTtcblx0fSxcblxuXHRoYW5kbGVHZXRTdGFydGVkOiBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFNldHVwUHJvZ3Jlc3NBY3Rpb25zLmdldFN0YXJ0ZWQoKTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwiZ2V0dGluZy1zdGFydGVkX19pbnRyb1wifSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCBcIllvdSdyZSBhbG1vc3QgZG9uZSFcIiksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcImdldHRpbmctc3RhcnRlZF9fc3ViaGVhZFwifSwgXG5cdFx0XHRcdFx0XCJUYWtlIHRoZXNlIHN0ZXBzIHRvIHN1cGVyY2hhcmdlIHlvdXIgV29yZFByZXNzIHNpdGUuXCJcblx0XHRcdFx0KSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwiZ2V0dGluZy1zdGFydGVkX19hY3Rpb25cIn0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtocmVmOiBcIiNcIiwgY2xhc3NOYW1lOiBcImJ1dHRvbiBidXR0b24tcHJpbWFyeSBidXR0b24tbGFyZ2VcIiwgb25DbGljazogdGhpcy5oYW5kbGVHZXRTdGFydGVkfSwgXCJHZXQgU3RhcnRlZCDihpJcIilcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEdldFN0YXJ0ZWQ7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cuUmVhY3QgOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsLlJlYWN0IDogbnVsbCksXG5cdFNpdGVTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zaXRlLXN0b3JlJyksXG5cdFNpdGVBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zaXRlLWFjdGlvbnMnKSxcblx0UGF0aHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1wYXRocycpO1xuXG5mdW5jdGlvbiBnZXRKZXRwYWNrUHJvZ3Jlc3MoKSB7XG5cdHJldHVybiB7IFxuXHRcdGpldHBhY2tDb25maWd1cmVkOiBTaXRlU3RvcmUuZ2V0SmV0cGFja0NvbmZpZ3VyZWQoKVxuXHR9O1xufVxuXG52YXIgSmV0cGFja0p1bXBzdGFydE1lbnUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiSmV0cGFja0p1bXBzdGFydE1lbnVcIixcblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0X29uQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICBcdHRoaXMuc2V0U3RhdGUoZ2V0SmV0cGFja1Byb2dyZXNzKCkpO1xuICBcdH0sXG5cbiAgXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBnZXRKZXRwYWNrUHJvZ3Jlc3MoKTtcblx0fSxcblxuXHRoYW5kbGVDbGlja0Nvbm5lY3Q6IGZ1bmN0aW9uKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0Y29uc29sZS5sb2coXCJjbGlja2VkXCIpO1xuXHRcdFNpdGVBY3Rpb25zLmNvbmZpZ3VyZUpldHBhY2soUGF0aHMuSkVUUEFDS19NT0RVTEVTX1NURVBfU0xVRyk7XG5cdH0sXG5cblx0c3R5bGU6IHtcblx0XHRjb2xvcjogJ2JsYWNrJyxcblx0XHRmb250U2l6ZTogMTJcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZTogdGhpcy5zdHlsZX0sIFxuXHRcdFx0XHR0aGlzLnN0YXRlLmpldHBhY2tDb25maWd1cmVkID8gKFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbClcblx0XHRcdFx0KSA6IChcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0XCJCb29zdCB0cmFmZmljLCBlbmhhbmNlIHNlY3VyaXR5LCBhbmQgaW1wcm92ZSBwZXJmb3JtYW5jZSB3aXRoIGEgY29ubmVjdGlvbiB0byBXb3JkUHJlc3MuY29tXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiclwiLCBudWxsKSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7Y2xhc3NOYW1lOiBcImJ1dHRvbiBidXR0b24tcHJpbWFyeSBidXR0b24tbGFyZ2VcIiwgaHJlZjogXCIjXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ2xpY2tDb25uZWN0fSwgXCJDb25uZWN0IHRvIFdvcmRQcmVzcy5jb21cIilcblx0XHRcdFx0XHQpXG5cdFx0XHRcdClcblx0XHRcdFx0XG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gSmV0cGFja0p1bXBzdGFydE1lbnU7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cuUmVhY3QgOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsLlJlYWN0IDogbnVsbCksXG5cdFNraXBCdXR0b24gPSByZXF1aXJlKCcuL3NraXAtYnV0dG9uJyksXG5cdFNpdGVTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zaXRlLXN0b3JlJyksXG5cdFNpdGVBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zaXRlLWFjdGlvbnMnKSxcblx0UGF0aHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1wYXRocycpLCBcblx0Q29udGVudEJveCA9IHJlcXVpcmUoJy4vY29udGVudC1ib3gnKSxcblx0U2V0dXBQcm9ncmVzc0FjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3NldHVwLXByb2dyZXNzLWFjdGlvbnMnKSxcblx0U3Bpbm5lclN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NwaW5uZXItc3RvcmUnKTtcblxuZnVuY3Rpb24gZ2V0SmV0cGFja1N0YXRlKCkge1xuXHRyZXR1cm4ge1xuXHRcdHNpdGVfdGl0bGU6IFNpdGVTdG9yZS5nZXRUaXRsZSgpLFxuXHRcdGpldHBhY2tDb25maWd1cmVkOiBTaXRlU3RvcmUuZ2V0SmV0cGFja0NvbmZpZ3VyZWQoKSxcblx0XHRqdW1wc3RhcnRFbmFibGVkOiBTaXRlU3RvcmUuZ2V0SmV0cGFja0p1bXBzdGFydEVuYWJsZWQoKSxcblx0XHRtb2R1bGVzRW5hYmxlZDogU2l0ZVN0b3JlLmdldEFjdGl2ZU1vZHVsZVNsdWdzKClcdFxuXHR9O1xufVxuXG52YXIgSmV0cGFja0p1bXBzdGFydCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJKZXRwYWNrSnVtcHN0YXJ0XCIsXG5cblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0X29uQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICBcdHRoaXMuc2V0U3RhdGUoZ2V0SmV0cGFja1N0YXRlKCkpO1xuICBcdH0sXG5cblx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgc3RhdGUgPSBnZXRKZXRwYWNrU3RhdGUoKTtcblx0XHRzdGF0ZS5zaG93TW9yZU1vZHVsZXMgPSBmYWxzZTtcblx0XHRyZXR1cm4gc3RhdGU7XG5cdH0sXG5cblx0aGFuZGxlSmV0cGFja0Nvbm5lY3Q6IGZ1bmN0aW9uIChlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0U2l0ZUFjdGlvbnMuY29uZmlndXJlSmV0cGFjayhQYXRocy5KRVRQQUNLX01PRFVMRVNfU1RFUF9TTFVHKTtcblx0fSxcblxuXHRoYW5kbGVDaGFuZ2VNb2R1bGVTdGF0dXM6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyICR0YXJnZXQgPSBqUXVlcnkoZS5jdXJyZW50VGFyZ2V0KSxcblx0XHRcdG1vZHVsZV9zbHVnID0gJHRhcmdldC5kYXRhKCdtb2R1bGUtc2x1ZycpO1xuXG5cdFx0aWYgKCBTaXRlU3RvcmUuaXNKZXRwYWNrTW9kdWxlRW5hYmxlZChtb2R1bGVfc2x1ZykgKSB7XG5cdFx0XHRTaXRlQWN0aW9ucy5kZWFjdGl2YXRlSmV0cGFja01vZHVsZShtb2R1bGVfc2x1Zyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdFNpdGVBY3Rpb25zLmFjdGl2YXRlSmV0cGFja01vZHVsZShtb2R1bGVfc2x1Zyk7XG5cdFx0fVxuXHR9LFxuXG5cdGhhbmRsZUVuYWJsZUFsbE1vZHVsZXM6IGZ1bmN0aW9uKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0U2l0ZUFjdGlvbnMuZW5hYmxlSnVtcHN0YXJ0KCk7XG5cdH0sXG5cblx0aGFuZGxlTmV4dDogZnVuY3Rpb24gKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRTZXR1cFByb2dyZXNzQWN0aW9ucy5jb21wbGV0ZUFuZE5leHRTdGVwKFBhdGhzLkpFVFBBQ0tfTU9EVUxFU19TVEVQX1NMVUcpO1xuXHR9LFxuXG5cdGhhbmRsZVNob3dNb3JlTW9kdWxlczogZnVuY3Rpb24gKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XG5cdFx0U2l0ZUFjdGlvbnMubG9hZEFsbEpldHBhY2tNb2R1bGVzKCkuZG9uZShmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuc2V0U3RhdGUoe3Nob3dNb3JlTW9kdWxlczogdHJ1ZX0pO1xuXHRcdH0uYmluZCh0aGlzKSk7XG5cdH0sXG5cblx0aGFuZGxlU2hvd0Zld2VyTW9kdWxlczogZnVuY3Rpb24gKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0dGhpcy5zZXRTdGF0ZSh7c2hvd01vcmVNb2R1bGVzOiBmYWxzZX0pO1xuXHR9LFxuXG5cdF9yZW5kZXJNb2R1bGU6IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRcdHZhciBpc0FjdGl2ZSA9IFNpdGVTdG9yZS5pc0pldHBhY2tNb2R1bGVFbmFibGVkKG1vZHVsZS5zbHVnKTtcblx0XHR2YXIgbW9kdWxlSWQgPSAnanAtbW9kdWxlLScrbW9kdWxlLnNsdWc7XG5cdFx0XG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2tleTogJ21vZHVsZXMtJyttb2R1bGUuc2x1ZywgY2xhc3NOYW1lOiBcIndlbGNvbWVfX2p1bXBzdGFydF9tb2R1bGVcIn0sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge2lkOiBtb2R1bGVJZCwgdHlwZTogXCJjaGVja2JveFwiLCBjaGVja2VkOiBpc0FjdGl2ZSwgXCJkYXRhLW1vZHVsZS1zbHVnXCI6IG1vZHVsZS5zbHVnLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2VNb2R1bGVTdGF0dXN9KSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCB7aHRtbEZvcjogbW9kdWxlSWR9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3Ryb25nXCIsIG51bGwsIG1vZHVsZS5uYW1lKSksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwic21hbGxcIiwge2NsYXNzTmFtZTogXCJqdW1wc3RhcnRfbW9kdWxlX19kZXNjcmlwdGlvblwiLCBkYW5nZXJvdXNseVNldElubmVySFRNTDoge19faHRtbDogbW9kdWxlLmRlc2NyaXB0aW9ufX0pLCBcblx0XHRcdFx0aXNBY3RpdmUgJiYgbW9kdWxlLmNvbmZpZ3VyZV91cmwgJiYgKFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzbWFsbFwiLCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7dGFyZ2V0OiBcIl9jb25maWd1cmVcIiwgaHJlZjogbW9kdWxlLmNvbmZpZ3VyZV91cmx9LCBcImNvbmZpZ3VyZVwiKSlcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgbW9kdWxlT3ZlcmxheSwgbW9kdWxlT3ZlcmxheUJvZHk7XG5cblxuXHRcdGlmICggISB0aGlzLnN0YXRlLmpldHBhY2tDb25maWd1cmVkICYmICFTcGlubmVyU3RvcmUuc2hvd2luZygpICkge1xuXHRcdFx0bW9kdWxlT3ZlcmxheSA9IChcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcIndlbGNvbWVfX2p1bXBzdGFydF9vdmVybGF5XCJ9KVxuXHRcdFx0KTtcblx0XHRcdG1vZHVsZU92ZXJsYXlCb2R5ID0gKFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwid2VsY29tZV9fanVtcHN0YXJ0X292ZXJsYXlfX2JvZHlcIn0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIG51bGwsIFwiVGhlc2UgbW9kdWxlcyByZXF1aXJlIGEgV29yZFByZXNzLmNvbSBhY2NvdW50IC0gaXQncyBmcmVlIVwiKSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge2hyZWY6IFwiI1wiLCBjbGFzc05hbWU6IFwiZG93bmxvYWQtamV0cGFja1wiLCBvbkNsaWNrOiB0aGlzLmhhbmRsZUpldHBhY2tDb25uZWN0fSwgXCJDb25uZWN0IHRvIFdvcmRQcmVzcy5jb21cIiksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChTa2lwQnV0dG9uLCBudWxsKVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KVxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHR2YXIgbW9kdWxlRGVzY3JpcHRpb25zID0gU2l0ZVN0b3JlLmdldEp1bXBzdGFydE1vZHVsZXMoKS5tYXAodGhpcy5fcmVuZGVyTW9kdWxlKTtcblx0XHR2YXIgbW9yZU1vZHVsZURlc2NyaXB0aW9ucyA9IFNpdGVTdG9yZS5nZXRKZXRwYWNrQWRkaXRpb25hbE1vZHVsZXMoKS5tYXAodGhpcy5fcmVuZGVyTW9kdWxlKTtcblxuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwid2VsY29tZV9fc2VjdGlvblwifSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCBcIkxldCdzIGxhdW5jaCBcIiwgUmVhY3QuY3JlYXRlRWxlbWVudChcImVtXCIsIG51bGwsIHRoaXMuc3RhdGUuc2l0ZV90aXRsZSkpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImg0XCIsIG51bGwsIFwiRW5hYmxlIEpldHBhY2sgZmVhdHVyZXNcIiksIFxuXHRcdFx0XHR0aGlzLnN0YXRlLmpldHBhY2tDb25maWd1cmVkICYmIChcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge2NsYXNzTmFtZTogXCJqZXRwYWNrLWxvZ29cIn0sIFwiUG93ZXJlZCBieVwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtocmVmOiBcImh0dHA6Ly8xOTIuMTY4LjU5LjEwMy93cC1hZG1pbi9hZG1pbi5waHA/cGFnZT1qZXRwYWNrXCIsIHRpdGxlOiBcIkpldHBhY2tcIiwgY2xhc3NOYW1lOiBcImN1cnJlbnRcIn0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIFwiSmV0cGFja1wiKSkpLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwic3RlcC1kZXNjcmlwdGlvblwifSwgXCJDb25ncmF0dWxhdGlvbnMhIFlvdSd2ZSBlbmFibGVkIEpldHBhY2sgYW5kIHVubG9ja2VkIGRvemVucyBvZiBwb3dlcmZ1bCBmZWF0dXJlcy5cIiksIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJzdGVwLWRlc2NyaXB0aW9uXCJ9LCBcIkNoZWNrIHRoZSBib3hlcyBiZWxvdyB0byBlbmFibGUgb3VyIG1vc3QgcG9wdWxhciBmZWF0dXJlcy5cIilcblx0XHRcdFx0XHQpXG5cdFx0XHRcdCksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwid2VsY29tZV9fY29ubmVjdFwifSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcIndlbGNvbWVfX2p1bXBzdGFydF93cmFwcGVyXCJ9LCBcblx0XHRcdFx0XHRcdG1vZHVsZU92ZXJsYXksIFxuXHRcdFx0XHRcdFx0bW9kdWxlT3ZlcmxheUJvZHksIFxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHR0aGlzLnN0YXRlLmpldHBhY2tDb25maWd1cmVkICYmIChcblx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcInN1Ym1pdFwifSwgXG5cdFx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtzdHlsZToge2Zsb2F0OiAncmlnaHQnfSwgdHlwZTogXCJzdWJtaXRcIiwgbmFtZTogXCJzYXZlXCIsIGNsYXNzTmFtZTogXCJidXR0b24gYnV0dG9uLXByaW1hcnkgYnV0dG9uLWxhcmdlXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlTmV4dCwgdmFsdWU6IFwiTmV4dCBTdGVwIOKGklwifSksIFxuXHRcdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJjbGVhclwifSlcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0KSwgXG5cblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGVudEJveCwgbnVsbCwgXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCBcIlBvcHVsYXIgZmVhdHVyZXNcIiArICcgJyArXG5cdFx0XHRcdFx0XHRcdFx0XCLCoMKgXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge2Rpc2FibGVkOiB0aGlzLnN0YXRlLmp1bXBzdGFydEVuYWJsZWQsIGNsYXNzTmFtZTogXCJidXR0b24gYnV0dG9uLXByaW1hcnlcIiwgb25DbGljazogdGhpcy5oYW5kbGVFbmFibGVBbGxNb2R1bGVzfSwgdGhpcy5zdGF0ZS5qdW1wc3RhcnRFbmFibGVkID8gJ0VuYWJsZWQnIDogJ0VuYWJsZSBhbGwgKHJlY29tbWVuZGVkKScpXG5cdFx0XHRcdFx0XHRcdCksIFxuXHRcdFx0XHRcdFx0XHRtb2R1bGVEZXNjcmlwdGlvbnNcblx0XHRcdFx0XHRcdCksIFxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHR0aGlzLnN0YXRlLnNob3dNb3JlTW9kdWxlcyA/IChcblx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJtb3JlXCJ9LCBcblx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7aHJlZjogXCIjXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlU2hvd0Zld2VyTW9kdWxlc30sIFwiaGlkZSBhZGRpdGlvbmFsIGZlYXR1cmVzXCIpXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCkgOiAoXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwibW9yZVwifSwgXG5cdFx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge2hyZWY6IFwiI1wiLCBvbkNsaWNrOiB0aGlzLmhhbmRsZVNob3dNb3JlTW9kdWxlc30sIFwic2hvdyBhZGRpdGlvbmFsIGZlYXR1cmVzXCIpXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCksIFxuXG5cdFx0XHRcdFx0XHR0aGlzLnN0YXRlLnNob3dNb3JlTW9kdWxlcyAmJiAoXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGVudEJveCwgbnVsbCwgXG5cdFx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiQWRkaXRpb25hbCBtb2R1bGVzXCIpLCBcblx0XHRcdFx0XHRcdFx0XHRtb3JlTW9kdWxlRGVzY3JpcHRpb25zXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHQpXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBKZXRwYWNrSnVtcHN0YXJ0OyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93LlJlYWN0IDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbC5SZWFjdCA6IG51bGwpLFxuXHRTaXRlU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2l0ZS1zdG9yZScpLFxuXHRTZXR1cFByb2dyZXNzQWN0aW9ucyA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvc2V0dXAtcHJvZ3Jlc3MtYWN0aW9ucycpO1xuXG5mdW5jdGlvbiBnZXRTaXRlTGF5b3V0U3RhdGUoKSB7XG5cdHJldHVybiB7XG5cdFx0c2l0ZV90aXRsZTogU2l0ZVN0b3JlLmdldFRpdGxlKCksXG5cdFx0bGF5b3V0OiBTaXRlU3RvcmUuZ2V0TGF5b3V0KClcblx0fTtcbn1cblxudmFyIExheW91dFN0ZXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiTGF5b3V0U3RlcFwiLFxuXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdF9vbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgXHR0aGlzLnNldFN0YXRlKGdldFNpdGVMYXlvdXRTdGF0ZSgpKTtcbiAgXHR9LFxuXG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGdldFNpdGVMYXlvdXRTdGF0ZSgpO1xuXHR9LFxuXG5cdGhhbmRsZVNldExheW91dDogZnVuY3Rpb24oIGUgKSB7XG5cdFx0dGhpcy5zZXRTdGF0ZSh7IGxheW91dDogalF1ZXJ5KGUuY3VycmVudFRhcmdldCkudmFsKCkgfSk7XG5cdH0sXG5cblx0aGFuZGxlU3VibWl0OiBmdW5jdGlvbiggZSApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0U2V0dXBQcm9ncmVzc0FjdGlvbnMuc3VibWl0TGF5b3V0U3RlcCh0aGlzLnN0YXRlLmxheW91dCk7XG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcIndlbGNvbWVfX3NlY3Rpb25cIiwgaWQ6IFwid2VsY29tZV9fbGF5b3V0XCJ9LCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiTGV0J3MgbGF1bmNoIFwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZW1cIiwgbnVsbCwgdGhpcy5zdGF0ZS5zaXRlX3RpdGxlKSksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDRcIiwgbnVsbCwgXCJTZWxlY3QgYSBsYXlvdXRcIiksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcInN0ZXAtZGVzY3JpcHRpb25cIn0sIFwiV29yZFByZXNzIGNhbiBiZSBhIGJsb2csIGEgd2ViIHNpdGUgd2l0aCBhIGhpZXJhcmNoeSBvZiBzdGF0aWMgcGFnZXMsIG9yIGEgY29tYmluYXRpb24gb2YgdGhlIHR3by5cIiksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiLCB7b25TdWJtaXQ6IHRoaXMuaGFuZGxlU3VibWl0fSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImxhYmVsXCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHt0eXBlOiBcInJhZGlvXCIsIG5hbWU6IFwic2l0ZV9sYXlvdXRcIiwgdmFsdWU6IFwid2Vic2l0ZVwiLCBjaGVja2VkOiB0aGlzLnN0YXRlLmxheW91dCA9PT0gJ3dlYnNpdGUnLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVTZXRMYXlvdXR9KSwgXCIgU3RhdGljIFdlYnNpdGVcIiwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcImRlc2NyaXB0aW9uXCJ9LCBcIkEgd2ViIHNpdGUgd2l0aCBhIGhpZXJhcmNoeSBvZiBwYWdlc1wiKVxuXHRcdFx0XHRcdCksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiclwiLCBudWxsKSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImxhYmVsXCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHt0eXBlOiBcInJhZGlvXCIsIG5hbWU6IFwic2l0ZV9sYXlvdXRcIiwgdmFsdWU6IFwic2l0ZS1ibG9nXCIsIGNoZWNrZWQ6IHRoaXMuc3RhdGUubGF5b3V0ID09PSAnc2l0ZS1ibG9nJywgb25DaGFuZ2U6IHRoaXMuaGFuZGxlU2V0TGF5b3V0fSksIFwiIFN0YXRpYyBXZWJzaXRlIHdpdGggYSBibG9nXCIsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJkZXNjcmlwdGlvblwifSwgXCJBIHdlYiBzaXRlIHdpdGggcGFnZXMgdGhhdCBhbHNvIGhhcyBhIGJsb2cgb3IgbmV3cyBzZWN0aW9uXCIpXG5cdFx0XHRcdFx0KSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImJyXCIsIG51bGwpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge3R5cGU6IFwicmFkaW9cIiwgbmFtZTogXCJzaXRlX2xheW91dFwiLCB2YWx1ZTogXCJibG9nXCIsIGNoZWNrZWQ6IHRoaXMuc3RhdGUubGF5b3V0ID09PSAnYmxvZycsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVNldExheW91dH0pLCBcIiBKdXN0IGEgYmxvZ1wiLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwiZGVzY3JpcHRpb25cIn0sIFwiQSB3ZWIgc2l0ZSB0aGF0IHdpbGwgY29uc3RhbnRseSBzaG93IG5ldyBjb250ZW50IChhcnRpY2xlcywgcGhvdG9zLCB2aWRlb3MsIGV0Yy4pXCIpXG5cdFx0XHRcdFx0KSwgXG5cblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcInN1Ym1pdFwifSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge3R5cGU6IFwic3VibWl0XCIsIG5hbWU6IFwic2F2ZVwiLCBjbGFzc05hbWU6IFwiYnV0dG9uIGJ1dHRvbi1wcmltYXJ5IGJ1dHRvbi1sYXJnZVwiLCB2YWx1ZTogXCJOZXh0IFN0ZXAg4oaSXCJ9KVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IExheW91dFN0ZXA7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cuUmVhY3QgOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsLlJlYWN0IDogbnVsbCksXG5cdFNpdGVBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zaXRlLWFjdGlvbnMnKSxcblx0U2l0ZVN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NpdGUtc3RvcmUnKSxcblx0U2V0dXBQcm9ncmVzc0FjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3NldHVwLXByb2dyZXNzLWFjdGlvbnMnKTtcblxuZnVuY3Rpb24gZ2V0U2l0ZVRpdGxlU3RhdGUoKSB7XG5cdHJldHVybiB7XG5cdFx0dGl0bGU6IFNpdGVTdG9yZS5nZXRUaXRsZSgpLFxuXHRcdGRlc2NyaXB0aW9uOiBTaXRlU3RvcmUuZ2V0RGVzY3JpcHRpb24oKVxuXHR9O1xufVxuXG52YXIgU2l0ZVRpdGxlU3RlcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJTaXRlVGl0bGVTdGVwXCIsXG5cblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0X29uQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICBcdHRoaXMuc2V0U3RhdGUoZ2V0U2l0ZVRpdGxlU3RhdGUoKSk7XG4gIFx0fSxcblxuXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBnZXRTaXRlVGl0bGVTdGF0ZSgpO1xuXHR9LFxuXG5cdGhhbmRsZUNoYW5nZVRpdGxlOiBmdW5jdGlvbihlKSB7XG5cdFx0U2l0ZUFjdGlvbnMuc2V0VGl0bGUoZS5jdXJyZW50VGFyZ2V0LnZhbHVlKTtcblx0fSxcblxuXHRoYW5kbGVDaGFuZ2VEZXNjcmlwdGlvbjogZnVuY3Rpb24oZSkge1xuXHRcdFNpdGVBY3Rpb25zLnNldERlc2NyaXB0aW9uKGUuY3VycmVudFRhcmdldC52YWx1ZSk7XG5cdH0sXG5cblx0aGFuZGxlU3VibWl0OiBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFNldHVwUHJvZ3Jlc3NBY3Rpb25zLnN1Ym1pdFRpdGxlU3RlcCgpO1xuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ3ZWxjb21lX19zZWN0aW9uXCIsIGlkOiBcIndlbGNvbWVfX3NpdGUtdGl0bGVcIn0sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJMZXQncyBsYXVuY2ggeW91ciBuZXcgd2Vic2l0ZVwiKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoNFwiLCBudWxsLCBcIlRpdGxlIGFuZCBEZXNjcmlwdGlvblwiKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwic3RlcC1kZXNjcmlwdGlvblwifSwgXG5cdFx0XHRcdFx0XCJNYWtlIHlvdXIgc2l0ZSBzdGFuZCBvdXQgd2l0aCBhIGNhdGNoeSBuYW1lLlwiXG5cdFx0XHRcdCksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiLCB7b25TdWJtaXQ6IHRoaXMuaGFuZGxlU3VibWl0fSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInRhYmxlXCIsIHtjbGFzc05hbWU6IFwiZm9ybS10YWJsZVwifSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwidGJvZHlcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0clwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwidGhcIiwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChcImxhYmVsXCIsIHtodG1sRm9yOiBcInNpdGVfdGl0bGVcIn0sIFwiU2l0ZSBUaXRsZVwiKSksIFxuXHRcdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7dHlwZTogXCJ0ZXh0XCIsIG5hbWU6IFwic2l0ZV90aXRsZVwiLCBpZDogXCJzaXRlLXRpdGxlXCIsIGF1dG9Db21wbGV0ZTogXCJvZmZcIiwgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlVGl0bGUsIHZhbHVlOiB0aGlzLnN0YXRlLnRpdGxlLCBcblx0XHRcdFx0XHQgICAgICAgcGxhY2Vob2xkZXI6IFwiU2l0ZSBUaXRsZSAodGhpcyBjYW4gYmUgY2hhbmdlZCBsYXRlcilcIiwgcmVxdWlyZWQ6IHRydWV9KSwgXG5cdFx0XHRcdFx0ICAgICAgIFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwiZGVzY3JpcHRpb25cIn0sIFwiVGhlIG5hbWUgb2YgeW91ciBzaXRlLiBUaGlzIHRpdGxlIGFwcGVhcnMgYXQgdGhlIHRvcCBvZiBwYWdlcyBhbmQgaW4gc2VhcmNoIHJlc3VsdHMuXCIpXG5cdFx0XHRcdFx0ICAgICAgIFx0XHQpXG5cdFx0XHRcdFx0ICAgICAgXHQpLCBcblx0XHRcdFx0XHQgICAgICBcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0clwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwidGhcIiwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChcImxhYmVsXCIsIHtodG1sRm9yOiBcInNpdGVfZGVzY3JpcHRpb25cIn0sIFwiU2l0ZSBEZXNjcmlwdGlvblwiKSksIFxuXHRcdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7dHlwZTogXCJ0ZXh0XCIsIG5hbWU6IFwic2l0ZV9kZXNjcmlwdGlvblwiLCBpZDogXCJzaXRlLWRlc2NyaXB0aW9uXCIsIGF1dG9Db21wbGV0ZTogXCJvZmZcIiwgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlRGVzY3JpcHRpb24sIHZhbHVlOiB0aGlzLnN0YXRlLmRlc2NyaXB0aW9uLCBcblx0XHRcdFx0XHQgICAgICAgcGxhY2Vob2xkZXI6IFwiU2l0ZSBEZXNjcmlwdGlvblwiLCByZXF1aXJlZDogdHJ1ZX0pLCBcblx0XHRcdFx0XHQgICAgICAgXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJkZXNjcmlwdGlvblwifSwgXCJBIG1vdHRvIG9yIHRhZ2xpbmUuIFRoaXMgYXBwZWFycyBiZWxvdyB0aGUgdGl0bGUgb24geW91ciBzaXRlLCBhbmQgbmV4dCB0byB0aGUgdGl0bGUgaW4gc2VhcmNoIHJlc3VsdHMuIFRyeSB0byBiZSBicmllZiBhbmQgZGVzY3JpcHRpdmUsIGUuZy4gXFxcIllvdXIgb25saW5lIGJhaXQgYW5kIHRhY2tsZSBzdG9yZVxcXCJcIilcblx0XHRcdFx0XHQgICAgICAgXHRcdClcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdCksIFxuXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJzdWJtaXRcIn0sIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHt0eXBlOiBcInN1Ym1pdFwiLCBuYW1lOiBcInNhdmVcIiwgY2xhc3NOYW1lOiBcImJ1dHRvbiBidXR0b24tcHJpbWFyeSBidXR0b24tbGFyZ2VcIiwgdmFsdWU6IFwiTmV4dCBTdGVwIOKGklwifSlcblx0XHRcdFx0XHQpXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBTaXRlVGl0bGVTdGVwOyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93LlJlYWN0IDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbC5SZWFjdCA6IG51bGwpLFxuXHRTZXR1cFByb2dyZXNzU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2V0dXAtcHJvZ3Jlc3Mtc3RvcmUnKSxcblx0U2V0dXBQcm9ncmVzc0FjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3NldHVwLXByb2dyZXNzLWFjdGlvbnMnKTtcblxuZnVuY3Rpb24gZ2V0U2V0dXBQcm9ncmVzcygpIHtcblx0cmV0dXJuIHtcblx0XHRjb21wbGV0ZWQ6IFNldHVwUHJvZ3Jlc3NTdG9yZS5nZXRDdXJyZW50U3RlcCgpLmNvbXBsZXRlZFxuXHR9O1xufVxuXG52YXIgU2tpcEJ1dHRvbiA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJTa2lwQnV0dG9uXCIsXG5cblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNldHVwUHJvZ3Jlc3NTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNldHVwUHJvZ3Jlc3NTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0X29uQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICBcdHRoaXMuc2V0U3RhdGUoZ2V0U2V0dXBQcm9ncmVzcygpKTtcbiAgXHR9LFxuXG4gIFx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZ2V0U2V0dXBQcm9ncmVzcygpO1xuXHR9LFxuXG5cdGhhbmRsZVNraXA6IGZ1bmN0aW9uIChlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFNldHVwUHJvZ3Jlc3NBY3Rpb25zLnNraXBTdGVwKCk7XG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgY29tcGxldGVkID0gKHRoaXMuc3RhdGUuY29tcGxldGVkKTtcblx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtjbGFzc05hbWU6IFwic2tpcFwiLCBocmVmOiBcIiNcIiwgb25DbGljazogdGhpcy5oYW5kbGVTa2lwfSwgXCJOb3Qgbm93XCIpKTtcblx0XHR9XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNraXBCdXR0b247IiwiXG52YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdy5SZWFjdCA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwuUmVhY3QgOiBudWxsKTtcblxudmFyIFRvb2x0aXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiVG9vbHRpcFwiLFxuXHRwcm9wVHlwZXM6IHtcblx0XHRsZWZ0OiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsICAvLyBlLmcuIDYwMFxuXHRcdHRvcDogUmVhY3QuUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLCAgIC8vZS5nLiAxNTdcblx0XHR3aWR0aDogUmVhY3QuUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLCAvL2UuZy4gMzIwXG5cdFx0dGl0bGU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCwgIC8vIGUuZy4gRGlzdHJhY3Rpb24tRnJlZSBXcml0aW5nXG5cdH0sXG5cblx0aGFuZGxlRGlzbWlzczogZnVuY3Rpb24gKCBlICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0fSxcblxuXHRjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX3JlY29tcHV0ZVBvc2l0aW9uKCk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX3JlY29tcHV0ZVBvc2l0aW9uKCk7XG5cdH0sXG5cblx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHJlYWxUb3A6IHRoaXMucHJvcHMudG9wXG5cdFx0fTtcblx0fSxcblxuXHRfcmVjb21wdXRlUG9zaXRpb246IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgJHdyYXBwZXIgPSBqUXVlcnkoUmVhY3QuZmluZERPTU5vZGUodGhpcy5yZWZzLndyYXBwZXIpKTtcblxuXHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0cmVhbFRvcDogdGhpcy5wcm9wcy50b3AgLSAoJHdyYXBwZXIub3V0ZXJIZWlnaHQoKS8yKVxuXHRcdH0pO1xuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge3JlZjogXCJ3cmFwcGVyXCIsIGNsYXNzTmFtZTogXCJ3cC1wb2ludGVyIHdwLXBvaW50ZXItbGVmdFwiLCBzdHlsZToge3Bvc2l0aW9uOiAnYWJzb2x1dGUnLCB3aWR0aDogdGhpcy5wcm9wcy53aWR0aCwgdG9wOiB0aGlzLnN0YXRlLnJlYWxUb3AsIGxlZnQ6IHRoaXMucHJvcHMubGVmdCwgekluZGV4OiA5OTk5fX0sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwid3AtcG9pbnRlci1jb250ZW50XCJ9LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgdGhpcy5wcm9wcy50aXRsZSksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIG51bGwsIHRoaXMucHJvcHMuY2hpbGRyZW4pXG5cdFx0XHRcdCksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwid3AtcG9pbnRlci1hcnJvd1wifSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcIndwLXBvaW50ZXItYXJyb3ctaW5uZXJcIn0pXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBUb29sdGlwOyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93LlJlYWN0IDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbC5SZWFjdCA6IG51bGwpLFxuXHRQcm9ncmVzc0JhciA9IHJlcXVpcmUoJ0BhdXRvbWF0dGljL2RvcHMtcmVhY3QvanMvY29tcG9uZW50cy9wcm9ncmVzcy1iYXInKSxcblx0U2V0dXBQcm9ncmVzc0FjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3NldHVwLXByb2dyZXNzLWFjdGlvbnMnKTtcblxudmFyIHN0ZXBTaGFwZSA9IFJlYWN0LlByb3BUeXBlcy5zaGFwZSh7XG5cdG5hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcblx0c2x1ZzogUmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xufSk7XG5cbi8qKlxuICogVGhlIG1lbnUgd2hpY2ggYWxsb3dzIHRoZSB1c2VyIHRvIHN3aXRjaCBzdGVwc1xuICoqL1xudmFyIFdlbGNvbWVNZW51ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIldlbGNvbWVNZW51XCIsXG5cdFxuXHRwcm9wVHlwZXM6IHtcblx0XHRjdXJyZW50U3RlcDogc3RlcFNoYXBlLmlzUmVxdWlyZWQsXG5cdFx0Y2xpY2thYmxlOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0XHRhbGxTdGVwczogUmVhY3QuUHJvcFR5cGVzLmFycmF5T2Yoc3RlcFNoYXBlKS5pc1JlcXVpcmVkLFxuXHRcdHByb2dyZXNzUGVyY2VudDogUmVhY3QuUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkXG5cdH0sXG5cblx0Z2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Y2xpY2thYmxlOiB0cnVlXG5cdFx0fTtcblx0fSxcblxuXHRzZWxlY3RTdGVwOiBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFxuXHRcdHZhciBzbHVnID0galF1ZXJ5KGUuY3VycmVudFRhcmdldCkuZGF0YSgnc3RlcC1zbHVnJyk7XG5cblx0XHRTZXR1cFByb2dyZXNzQWN0aW9ucy5zZXRDdXJyZW50U3RlcChzbHVnKTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIG1lbnVJdGVtcyA9IHRoaXMucHJvcHMuYWxsU3RlcHMubWFwKGZ1bmN0aW9uICggc3RlcCApIHtcblx0XHRcdHZhciB0aXRsZSwgY3VycmVudCwgc3RhdHVzLCBtZW51VmlldztcblxuXHRcdFx0aWYgKCB0aGlzLnByb3BzLmNsaWNrYWJsZSAmJiB0aGlzLnByb3BzLmN1cnJlbnRTdGVwICkge1xuXHRcdFx0XHRjdXJyZW50ID0gKCB0aGlzLnByb3BzLmN1cnJlbnRTdGVwLnNsdWcgPT0gc3RlcC5zbHVnICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggIXN0ZXAuc3RhdGljICYmIHRoaXMucHJvcHMuY2xpY2thYmxlICkge1xuXHRcdFx0XHR0aXRsZSA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtocmVmOiBcIiNcIiwgXCJkYXRhLXN0ZXAtc2x1Z1wiOiBzdGVwLnNsdWcsIG9uQ2xpY2s6IHRoaXMuc2VsZWN0U3RlcH0sIHN0ZXAubmFtZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aXRsZSA9IHN0ZXAubmFtZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBzdGVwLm1lbnVWaWV3ICYmIHRoaXMucHJvcHMuY2xpY2thYmxlICkge1xuXHRcdFx0XHRtZW51VmlldyA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoc3RlcC5tZW51VmlldywgbnVsbCk7XG5cdFx0XHR9XG5cblx0XHRcdHN0YXR1cyA9IHN0ZXAuY29tcGxldGVkID8gJ2NvbXBsZXRlZCcgOiAnJztcblx0XHRcdFxuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIHtrZXk6IHN0ZXAuc2x1ZywgY2xhc3NOYW1lOiBzdGF0dXMgKyAoY3VycmVudCA/ICcgY3VycmVudCcgOiAnJyl9LCBcblx0XHRcdFx0XHR0aXRsZSwgXCIgXCIsIHN0ZXAuc2tpcHBlZCA/ICcoc2tpcHBlZCknIDogbnVsbCwgXG5cdFx0XHRcdFx0bWVudVZpZXdcblx0XHRcdFx0KVxuXHRcdFx0KTtcblx0XHR9LmJpbmQodGhpcykgKTtcblxuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwiZ2V0dGluZy1zdGFydGVkX19zdGVwc1wifSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBcIllvdXIgUHJvZ3Jlc3NcIiksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFByb2dyZXNzQmFyLCB7c3R5bGU6IHsgZmxvYXQ6ICdsZWZ0J30sIHByb2dyZXNzUGVyY2VudDogdGhpcy5wcm9wcy5wcm9ncmVzc1BlcmNlbnR9KVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KSwgXG5cdFx0XHRcdFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwib2xcIiwgbnVsbCwgXG5cdFx0XHRcdFx0bWVudUl0ZW1zXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBXZWxjb21lTWVudTsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdy5SZWFjdCA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwuUmVhY3QgOiBudWxsKSxcblx0V2VsY29tZU1lbnUgPSByZXF1aXJlKCcuL3dlbGNvbWUtbWVudScpLFxuXHRTZXR1cFByb2dyZXNzU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2V0dXAtcHJvZ3Jlc3Mtc3RvcmUnKSxcblx0U2V0dXBQcm9ncmVzc0FjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3NldHVwLXByb2dyZXNzLWFjdGlvbnMnKSxcblx0Rmxhc2ggPSByZXF1aXJlKCcuL2ZsYXNoJyksXG5cdEdldFN0YXJ0ZWQgPSByZXF1aXJlKCcuL2dldC1zdGFydGVkJyksXG5cdFNwaW5uZXJTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zcGlubmVyLXN0b3JlJyksXG5cdFNwaW5uZXJBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zcGlubmVyLWFjdGlvbnMnKSxcblx0RGF0YVN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL2RhdGEtc3RvcmUnKTtcblxuZnVuY3Rpb24gZ2V0U2V0dXBQcm9ncmVzcygpIHtcblx0cmV0dXJuIHsgXG5cdFx0bmV3VXNlcjogU2V0dXBQcm9ncmVzc1N0b3JlLmlzTmV3VXNlcigpLCBcblx0XHRzaG93U3Bpbm5lcjogU3Bpbm5lclN0b3JlLnNob3dpbmcoKSwgXG5cdFx0c3Bpbm5lck1lc3NhZ2U6IFNwaW5uZXJTdG9yZS5nZXRNZXNzYWdlKCksIFxuXHRcdGN1cnJlbnRTdGVwOiBTZXR1cFByb2dyZXNzU3RvcmUuZ2V0Q3VycmVudFN0ZXAoKSwgXG5cdFx0YWxsU3RlcHM6IFNldHVwUHJvZ3Jlc3NTdG9yZS5nZXRBbGxTdGVwcygpLCBcblx0XHRwcm9ncmVzc1BlcmNlbnQ6IFNldHVwUHJvZ3Jlc3NTdG9yZS5nZXRQcm9ncmVzc1BlcmNlbnQoKSBcblx0fTtcbn1cblxuLy8gVE9ETzogdmlzdWFsIFwic2F2aW5nXCIgZm9yIHRoaXMuc3RhdGUuc2F2aW5nXG52YXIgV2VsY29tZVdpZGdldCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJXZWxjb21lV2lkZ2V0XCIsXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTZXR1cFByb2dyZXNzU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHRcdFNwaW5uZXJTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vblNwaW5uZXJDaGFuZ2UpO1xuXHRcdERhdGFTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkRhdGFDaGFuZ2UpO1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTZXR1cFByb2dyZXNzU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHRcdFNwaW5uZXJTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vblNwaW5uZXJDaGFuZ2UpO1xuXHRcdERhdGFTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkRhdGFDaGFuZ2UpO1xuXHR9LFxuXG5cdF9vbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgXHR0aGlzLnNldFN0YXRlKGdldFNldHVwUHJvZ3Jlc3MoKSk7XG4gIFx0fSxcblxuICBcdF9vblNwaW5uZXJDaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICBcdFx0dGhpcy5zZXRTdGF0ZSh7IHNob3dTcGlubmVyOiBTcGlubmVyU3RvcmUuc2hvd2luZygpLCBzcGlubmVyTWVzc2FnZTogU3Bpbm5lclN0b3JlLmdldE1lc3NhZ2UoKSB9KTtcbiAgXHR9LFxuXG4gIFx0X29uRGF0YUNoYW5nZTogZnVuY3Rpb24oKSB7XG4gIFx0XHR0aGlzLnNldFN0YXRlKHsgc2F2aW5nOiBEYXRhU3RvcmUuaXNTYXZpbmcoKSB9KTtcbiAgXHR9LFxuXG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGdldFNldHVwUHJvZ3Jlc3MoKTtcblx0fSxcblxuXHRoYW5kbGVSZXNldDogZnVuY3Rpb24oIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFNldHVwUHJvZ3Jlc3NBY3Rpb25zLnJlc2V0RGF0YSgpO1xuXHR9LFxuXG5cdGhhbmRsZVNob3dTcGlubmVyOiBmdW5jdGlvbiAoIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFNwaW5uZXJBY3Rpb25zLnNob3coXCJUZXN0aW5nIHNwaW5uZXJcIik7XG5cdH0sXG5cblx0aGFuZGxlSGlkZVNwaW5uZXI6IGZ1bmN0aW9uICggZSApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0U3Bpbm5lckFjdGlvbnMuaGlkZSgpO1xuXHR9LFxuXG4gIFx0cmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwiZ2V0dGluZy1zdGFydGVkXCJ9LCBcblx0XHRcdFx0dGhpcy5fcmVuZGVyRGVidWcoKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJnZXR0aW5nLXN0YXJ0ZWRfX3dyYXBwZXJcIn0sIFxuXHRcdFx0XHRcdHRoaXMuX3JlbmRlclNwaW5uZXIoKSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcImdldHRpbmctc3RhcnRlZF9fc2VjdGlvbnNcIn0sIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChGbGFzaCwgbnVsbCksIFxuXHRcdFx0XHRcdFx0dGhpcy5fcmVuZGVyU2VjdGlvbigpXG5cdFx0XHRcdFx0KSwgXG5cblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFdlbGNvbWVNZW51LCB7Y2xpY2thYmxlOiAhdGhpcy5zdGF0ZS5uZXdVc2VyLCBjdXJyZW50U3RlcDogdGhpcy5zdGF0ZS5jdXJyZW50U3RlcCwgYWxsU3RlcHM6IHRoaXMuc3RhdGUuYWxsU3RlcHMsIHByb2dyZXNzUGVyY2VudDogdGhpcy5zdGF0ZS5wcm9ncmVzc1BlcmNlbnR9KSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcImNsZWFyXCJ9KVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KTtcblx0fSxcblxuXHRfcmVuZGVyU2VjdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCB0aGlzLnN0YXRlLm5ld1VzZXIgKSB7XG4gIFx0XHRcdHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChHZXRTdGFydGVkLCBudWxsKSk7XG4gIFx0XHR9IGVsc2Uge1xuICBcdFx0XHRyZXR1cm4gdGhpcy5fcmVuZGVyQ3VycmVudFZpZXcoKTtcbiAgXHRcdH1cblx0fSxcblxuXHRfcmVuZGVyRGVidWc6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggSlBTLmRlYnVnICkge1xuICBcdFx0XHRyZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgXG4gIFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge2hyZWY6IFwiI1wiLCBjbGFzc05hbWU6IFwiYnV0dG9uXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlUmVzZXR9LCBcIlJlc2V0IFdpemFyZFwiKSwgXG4gIFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge2hyZWY6IFwiI1wiLCBjbGFzc05hbWU6IFwiYnV0dG9uXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlU2hvd1NwaW5uZXJ9LCBcIlNob3cgc3Bpbm5lclwiKSwgXG4gIFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge2hyZWY6IFwiI1wiLCBjbGFzc05hbWU6IFwiYnV0dG9uXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlSGlkZVNwaW5uZXJ9LCBcIkhpZGUgc3Bpbm5lclwiKVxuICBcdFx0XHQpKTtcbiAgXHRcdH0gZWxzZSB7XG4gIFx0XHRcdHJldHVybiBudWxsO1xuICBcdFx0fVxuXHR9LFxuXG5cdF9yZW5kZXJTcGlubmVyOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoIHRoaXMuc3RhdGUuc2hvd1NwaW5uZXIgKSB7XG4gIFx0XHRcdHJldHVybiAoXG4gIFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcImxvYWRpbmdcIn0sIFxuICBcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcImxvYWRpbmdfX21lc3NhZ2VcIn0sIFxuICBcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIHtzcmM6IFwiL3dwLWFkbWluL2ltYWdlcy9zcGlubmVyLTJ4LmdpZlwiLCB3aWR0aDogXCIxNnB4XCIsIGhlaWdodDogXCIxNnB4XCJ9KSwgXG4gIFx0XHRcdFx0XHRcdFwiwqDCoFwiLCB0aGlzLnN0YXRlLnNwaW5uZXJNZXNzYWdlXG4gIFx0XHRcdFx0XHQpXG4gIFx0XHRcdFx0KVxuICBcdFx0XHQpO1xuXG4gIFx0XHR9IGVsc2Uge1xuICBcdFx0XHRyZXR1cm4gbnVsbDtcbiAgXHRcdH1cblx0fSxcblxuXHRfcmVuZGVyQ3VycmVudFZpZXc6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggdGhpcy5zdGF0ZS5jdXJyZW50U3RlcCApIHtcbiAgXHRcdFx0cmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KHRoaXMuc3RhdGUuY3VycmVudFN0ZXAud2VsY29tZVZpZXcsIG51bGwpKTtcbiAgXHRcdH0gZWxzZSB7XG4gIFx0XHRcdHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiTm90aGluZ1wiKSk7XG4gIFx0XHR9XG5cdH0sXG5cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFdlbGNvbWVXaWRnZXQ7IiwidmFyIGtleU1pcnJvciA9IHJlcXVpcmUoJ2tleW1pcnJvcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGtleU1pcnJvcih7XG5cdFNURVBfQ09NUExFVEU6IG51bGwsXG5cdFNURVBfR0VUX1NUQVJURUQ6IG51bGwsXG5cdFNURVBfU0VMRUNUOiBudWxsLFxuXHRTVEVQX05FWFQ6IG51bGwsXG5cdFNURVBfU0tJUDogbnVsbCxcblx0U0lURV9TRVRfVElUTEU6IG51bGwsXG5cdFNJVEVfU0VUX0RFU0NSSVBUSU9OOiBudWxsLFxuXHRTSVRFX1NBVkVfVElUTEVfQU5EX0RFU0NSSVBUSU9OOiBudWxsLFxuXHRTSVRFX1NFVF9USEVNRTogbnVsbCxcblx0U0lURV9JTlNUQUxMX1RIRU1FOiBudWxsLFxuXHRTSVRFX0pFVFBBQ0tfQ09ORklHVVJFRDogbnVsbCxcblx0U0lURV9KRVRQQUNLX01PRFVMRV9FTkFCTEVEOiBudWxsLFxuXHRTSVRFX0pFVFBBQ0tfTU9EVUxFX0RJU0FCTEVEOiBudWxsLFxuXHRTSVRFX0pFVFBBQ0tfSlVNUFNUQVJUX0VOQUJMRUQ6IG51bGwsXG5cdFNJVEVfSkVUUEFDS19BRERfTU9EVUxFUzogbnVsbCxcblx0U0lURV9TRVRfTEFZT1VUOiBudWxsLFxuXG5cdFNBVkVfU1RBUlRFRDogbnVsbCxcblx0U0FWRV9GSU5JU0hFRDogbnVsbCxcblxuXHRTRVRfRkxBU0g6IG51bGwsXG5cdFVOU0VUX0ZMQVNIOiBudWxsLFxuXHRGTEFTSF9TRVZFUklUWV9OT1RJQ0U6IG51bGwsXG5cdEZMQVNIX1NFVkVSSVRZX0VSUk9SOiBudWxsLFxuXG5cdFJFU0VUX0RBVEE6IG51bGwsXG5cblx0U0hPV19TUElOTkVSOiBudWxsLFxuXHRISURFX1NQSU5ORVI6IG51bGxcbn0pOyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHQvLyBzdGVwc1xuXHRTSVRFX1RJVExFX1NURVBfU0xVRzogJ3RpdGxlJyxcblx0TEFZT1VUX1NURVBfU0xVRzogJ2xheW91dCcsXG5cdFRSQUZGSUNfU1RFUF9TTFVHOiAndHJhZmZpYycsXG5cdFNUQVRTX01PTklUT1JJTkdfU1RFUF9TTFVHOiAnc3RhdHMtbW9uaXRvcmluZycsXG5cdERFU0lHTl9TVEVQX1NMVUc6ICdkZXNpZ24nLFxuXHRBRFZBTkNFRF9TVEVQX1NMVUc6ICdhZHZhbmNlZCcsXG5cdEpFVFBBQ0tfTU9EVUxFU19TVEVQX1NMVUc6ICdqZXRwYWNrJ1xufTsiLCIvKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBBcHBEaXNwYXRjaGVyXG4gKlxuICogQSBzaW5nbGV0b24gdGhhdCBvcGVyYXRlcyBhcyB0aGUgY2VudHJhbCBodWIgZm9yIGFwcGxpY2F0aW9uIHVwZGF0ZXMuXG4gKi9cblxudmFyIERpc3BhdGNoZXIgPSByZXF1aXJlKCdmbHV4JykuRGlzcGF0Y2hlcjtcblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgRGlzcGF0Y2hlcigpOyIsInZhciBXZWxjb21lUGFuZWwgPSByZXF1aXJlKCcuL3dlbGNvbWUtcGFuZWwnKTtcblxuV2VsY29tZVBhbmVsKCk7IiwidmFyIEFwcERpc3BhdGNoZXIgPSByZXF1aXJlKCcuLi9kaXNwYXRjaGVyL2FwcC1kaXNwYXRjaGVyJyksXG5cdEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcixcblx0SlBTQ29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtY29uc3RhbnRzJyk7XG5cbi8qXG4gKiBUaGlzIGlzIGEgcmVmY291bnRlZCBzYXZlIG1vbml0b3Igd2hpY2ggd2FybnMgaWYgeW91IHRyeSB0byBsZWF2ZSB0aGUgcGFnZSB3aGlsZSB0aGUgZGF0YSBpcyBzdGlsbCBzYXZpbmdcbiAqL1xuXG52YXIgX2N1cnJlbnRTYXZlcyA9IDAsIGpwc1RpbWVvdXQsIENIQU5HRV9FVkVOVCA9ICdjaGFuZ2UnO1xuXG5qUXVlcnkod2luZG93KS5vbignYmVmb3JldW5sb2FkJywgZnVuY3Rpb24oKSB7XG5cdGlmKERhdGFTdG9yZS5pc1NhdmluZygpKSB7XG5cdFx0anBzVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgLy8gYWxlcnQoJ1lvdSBzdGF5ZWQnKTtcblx0ICAgICAgICAvLyBub29wXG5cdCAgICB9LCAxMDAwKTtcblx0ICAgIHJldHVybiBcIllvdXIgc2l0ZSBjaGFuZ2VzIGFyZSBzdGlsbCBzYXZpbmcuXCI7XG5cdH1cbn0pO1xuXG5qUXVlcnkod2luZG93KS5vbigndW5sb2FkJywgZnVuY3Rpb24oKSB7XG5cdGNsZWFyVGltZW91dChqcHNUaW1lb3V0KTtcbn0pO1xuXG5mdW5jdGlvbiBpbmNyZW1lbnRTYXZlQ291bnRlcigpIHtcblx0X2N1cnJlbnRTYXZlcyA9IF9jdXJyZW50U2F2ZXMgKyAxO1xufVxuXG5mdW5jdGlvbiBkZWNyZW1lbnRTYXZlQ291bnRlcigpIHtcblx0X2N1cnJlbnRTYXZlcyA9IF9jdXJyZW50U2F2ZXMgLSAxO1xufVxuXG52YXIgRGF0YVN0b3JlID0gXy5leHRlbmQoe30sIEV2ZW50RW1pdHRlci5wcm90b3R5cGUsIHtcblx0aXNTYXZpbmc6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBfY3VycmVudFNhdmVzID4gMDtcblx0fSxcblxuXHRhZGRDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0XHR0aGlzLm9uKENIQU5HRV9FVkVOVCwgY2FsbGJhY2spO1xuXHR9LFxuXG5cdHJlbW92ZUNoYW5nZUxpc3RlbmVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRcdHRoaXMucmVtb3ZlTGlzdGVuZXIoQ0hBTkdFX0VWRU5ULCBjYWxsYmFjayk7XG5cdH0sXG5cblx0ZW1pdENoYW5nZTogZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLmVtaXQoQ0hBTkdFX0VWRU5UKTtcblx0fSxcbn0pO1xuXG5BcHBEaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuXG4gIHN3aXRjaChhY3Rpb24uYWN0aW9uVHlwZSkge1xuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNBVkVfU1RBUlRFRDpcbiAgICBcdGluY3JlbWVudFNhdmVDb3VudGVyKCk7XG5cdFx0RGF0YVN0b3JlLmVtaXRDaGFuZ2UoKTtcblx0XHRicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNBVkVfRklOSVNIRUQ6XG4gICAgXHRkZWNyZW1lbnRTYXZlQ291bnRlcigpO1xuICAgICBcdERhdGFTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgIFx0YnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgLy8gbm8gb3BcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gRGF0YVN0b3JlOyIsInZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuXHRFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXIsXG5cdEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LWNvbnN0YW50cycpO1xuXG52YXIgQ0hBTkdFX0VWRU5UID0gJ2NoYW5nZSc7XG52YXIgbWVzc2FnZSwgc2V2ZXJpdHk7XG5cbmZ1bmN0aW9uIHNldEZsYXNoKG5ld01lc3NhZ2UsIG5ld1NldmVyaXR5KSB7XG5cdG1lc3NhZ2UgPSBuZXdNZXNzYWdlO1xuXHRzZXZlcml0eSA9IG5ld1NldmVyaXR5O1xufVxuXG52YXIgRmxhc2hTdG9yZSA9IF8uZXh0ZW5kKHt9LCBFdmVudEVtaXR0ZXIucHJvdG90eXBlLCB7XG5cdGdldEZsYXNoOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgc2V2ZXJpdHlTdHJpbmc7XG5cblx0XHRzd2l0Y2goc2V2ZXJpdHkpIHtcblx0XHRcdGNhc2UgSlBTQ29uc3RhbnRzLkZMQVNIX1NFVkVSSVRZX0VSUk9SOlxuXHRcdFx0XHRzZXZlcml0eVN0cmluZyA9ICdlcnJvcic7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBKUFNDb25zdGFudHMuRkxBU0hfU0VWRVJJVFlfTk9USUNFOlxuXHRcdFx0XHRzZXZlcml0eVN0cmluZyA9ICdub3RpY2UnO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdC8vbm9vcFxuXHRcdH1cblx0XHRyZXR1cm4ge21lc3NhZ2U6IG1lc3NhZ2UsIHNldmVyaXR5OiBzZXZlcml0eVN0cmluZ307XG5cblx0fSxcblxuXHRhZGRDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0XHR0aGlzLm9uKENIQU5HRV9FVkVOVCwgY2FsbGJhY2spO1xuXHR9LFxuXG5cdHJlbW92ZUNoYW5nZUxpc3RlbmVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRcdHRoaXMucmVtb3ZlTGlzdGVuZXIoQ0hBTkdFX0VWRU5ULCBjYWxsYmFjayk7XG5cdH0sXG5cblx0ZW1pdENoYW5nZTogZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLmVtaXQoQ0hBTkdFX0VWRU5UKTtcblx0fSxcbn0pO1xuXG5BcHBEaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuXG4gIHN3aXRjaChhY3Rpb24uYWN0aW9uVHlwZSkge1xuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNFVF9GTEFTSDpcblx0XHRzZXRGbGFzaChhY3Rpb24ubWVzc2FnZSwgYWN0aW9uLnNldmVyaXR5KTtcblx0XHRGbGFzaFN0b3JlLmVtaXRDaGFuZ2UoKTtcblx0XHRicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlVOU0VUX0ZMQVNIOlxuICAgICBcdHNldEZsYXNoKG51bGwsIG51bGwpO1xuICAgICBcdEZsYXNoU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICBcdGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIG5vIG9wXG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZsYXNoU3RvcmU7IiwiLypcbiAqIFN0b3JlIHdoaWNoIG1hbmFnZXMgYW5kIHBlcnNpc3RzIHNldHVwIHdpemFyZCBwcm9ncmVzc1xuICovXG5cbnZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuICBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXIsXG4gIEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LWNvbnN0YW50cycpO1xuXG52YXIgQ0hBTkdFX0VWRU5UID0gJ2NoYW5nZSc7XG5cbnZhciBfc3RlcHMsIF9zdGFydGVkID0gSlBTLnN0YXJ0ZWQ7IFxuXG5mdW5jdGlvbiBzZXRTdGVwcyhzdGVwcykge1xuXG4gIC8vIHNldCB0aGUgY29tcGxldGlvbiBzdGF0dXMgb2YgZWFjaCBzdGVwIHRvIHRoZSBzYXZlZCB2YWx1ZXNcbiAgc3RlcHMuZm9yRWFjaCggZnVuY3Rpb24oc3RlcCkge1xuICAgIFxuICAgIC8vIGRlZmF1bHQgdmFsdWVzIGZvciBza2lwcGVkLCBjb21wbGV0ZWQgYW5kIHN0YXRpY1xuICAgIGlmICggdHlwZW9mKCBzdGVwLmNvbXBsZXRlZCApID09PSAndW5kZWZpbmVkJyApIHtcbiAgICAgIHN0ZXAuY29tcGxldGVkID0gKEpQUy5zdGVwX3N0YXR1c1tzdGVwLnNsdWddICYmIEpQUy5zdGVwX3N0YXR1c1tzdGVwLnNsdWddLmNvbXBsZXRlZCkgfHwgZmFsc2U7ICBcbiAgICB9XG5cbiAgICBpZiAoIHR5cGVvZiggc3RlcC5za2lwcGVkICkgPT09ICd1bmRlZmluZWQnICkge1xuICAgICAgc3RlcC5za2lwcGVkID0gKEpQUy5zdGVwX3N0YXR1c1tzdGVwLnNsdWddICYmIEpQUy5zdGVwX3N0YXR1c1tzdGVwLnNsdWddLnNraXBwZWQpIHx8IGZhbHNlOyAgXG4gICAgfVxuXG4gICAgaWYgKCB0eXBlb2YoIHN0ZXAuc3RhdGljICkgPT09ICd1bmRlZmluZWQnICkge1xuICAgICAgc3RlcC5zdGF0aWMgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBkZWZhdWx0IHZhbHVlIGZvciBpbmNsdWRlSW5Qcm9ncmVzc1xuICAgIGlmICggdHlwZW9mKCBzdGVwLmluY2x1ZGVJblByb2dyZXNzICkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBzdGVwLmluY2x1ZGVJblByb2dyZXNzID0gdHJ1ZTtcbiAgICB9XG4gIH0pOyBcbiAgXG4gIF9zdGVwcyA9IHN0ZXBzO1xuICBcbiAgLy8gc2V0IGxvY2F0aW9uIHRvIGZpcnN0IHBlbmRpbmcgc3RlcCwgaWYgbm90IHNldFxuICBlbnN1cmVWYWxpZFN0ZXBTbHVnKCk7IFxufVxuXG5mdW5jdGlvbiBnZXRTdGFydGVkKCkge1xuICBfc3RhcnRlZCA9IHRydWU7XG4gIHNlbGVjdE5leHRQZW5kaW5nU3RlcCgpO1xufVxuXG5mdW5jdGlvbiBjb21wbGV0ZShzdGVwU2x1Zykge1xuICB2YXIgc3RlcCA9IGdldFN0ZXBGcm9tU2x1ZyhzdGVwU2x1Zyk7XG4gIHN0ZXAuY29tcGxldGVkID0gdHJ1ZTtcbiAgc3RlcC5za2lwcGVkID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHNraXAoKSB7XG4gIHZhciBzdGVwU2x1ZyA9IGN1cnJlbnRTdGVwU2x1ZygpO1xuICB2YXIgc3RlcCA9IGdldFN0ZXBGcm9tU2x1ZyhzdGVwU2x1Zyk7XG4gIHN0ZXAuc2tpcHBlZCA9IHRydWU7XG4gIHNlbGVjdE5leHRQZW5kaW5nU3RlcCgpO1xufVxuXG5mdW5jdGlvbiBnZXRTdGVwRnJvbVNsdWcoIHN0ZXBTbHVnICkge1xuICB2YXIgY3VycmVudFN0ZXAgPSBudWxsO1xuICBfLmVhY2goIF9zdGVwcywgZnVuY3Rpb24oIHN0ZXAgKSB7XG4gICAgaWYoIHN0ZXAuc2x1ZyA9PT0gc3RlcFNsdWcgKSB7XG4gICAgICBjdXJyZW50U3RlcCA9IHN0ZXA7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGN1cnJlbnRTdGVwO1xufVxuXG5mdW5jdGlvbiBlbnN1cmVWYWxpZFN0ZXBTbHVnKCkge1xuICB2YXIgc3RlcFNsdWcgPSBjdXJyZW50U3RlcFNsdWcoKTtcbiAgaWYgKCAhICggc3RlcFNsdWcgJiYgZ2V0U3RlcEZyb21TbHVnKCBzdGVwU2x1ZyApICkgKSB7XG4gICAgc2VsZWN0TmV4dFBlbmRpbmdTdGVwKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2VsZWN0TmV4dFBlbmRpbmdTdGVwKCkge1xuICB2YXIgcGVuZGluZ1N0ZXAgPSBfLmZpbmRXaGVyZSggX3N0ZXBzLCB7IGNvbXBsZXRlZDogZmFsc2UsIHNraXBwZWQ6IGZhbHNlIH0gKTtcbiAgaWYgKCBwZW5kaW5nU3RlcCAhPT0gbnVsbCApIHtcbiAgICBzZWxlY3QocGVuZGluZ1N0ZXAuc2x1Zyk7IC8vIGFsc28gc2V0cyB0aGUgd2luZG93IGxvY2F0aW9uIGhhc2hcbiAgfVxufVxuXG5mdW5jdGlvbiBjdXJyZW50U3RlcFNsdWcoKSB7XG4gIGlmICggd2luZG93LmxvY2F0aW9uLmhhc2guaW5kZXhPZignI3dlbGNvbWUvc3RlcHMnKSA9PT0gMCApIHtcbiAgICB2YXIgcGFydHMgPSB3aW5kb3cubG9jYXRpb24uaGFzaC5zcGxpdCgnLycpO1xuICAgIHZhciBzdGVwU2x1ZyA9IHBhcnRzW3BhcnRzLmxlbmd0aC0xXTtcbiAgICByZXR1cm4gc3RlcFNsdWc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2VsZWN0KHN0ZXBTbHVnKSB7XG4gIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gJ3dlbGNvbWUvc3RlcHMvJytzdGVwU2x1Zztcbn1cblxuLy9yZXNldCBldmVyeXRoaW5nIGJhY2sgdG8gZGVmYXVsdHNcbmZ1bmN0aW9uIHJlc2V0KCkge1xuICBKUFMuc3RlcF9zdGF0dXMgPSB7fTtcbiAgXy53aGVyZSggX3N0ZXBzLCB7IHN0YXRpYzogZmFsc2V9ICkuZm9yRWFjaCggZnVuY3Rpb24gKCBzdGVwICkgeyBcbiAgICBzdGVwLmNvbXBsZXRlZCA9IGZhbHNlO1xuICAgIHN0ZXAuc2tpcHBlZCA9IGZhbHNlO1xuICB9ICk7XG4gIF9zdGFydGVkID0gZmFsc2U7XG59XG5cbnZhciBTZXR1cFByb2dyZXNzU3RvcmUgPSBfLmV4dGVuZCh7fSwgRXZlbnRFbWl0dGVyLnByb3RvdHlwZSwge1xuXG4gIGluaXQ6IGZ1bmN0aW9uKHN0ZXBzKSB7XG4gICAgc2V0U3RlcHMoc3RlcHMpO1xuICB9LFxuXG4gIGdldEFsbFN0ZXBzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gX3N0ZXBzO1xuICB9LFxuXG4gIGlzTmV3VXNlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICFfc3RhcnRlZDtcbiAgfSxcblxuICBlbWl0Q2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmVtaXQoIENIQU5HRV9FVkVOVCApO1xuICB9LFxuXG4gIGdldEN1cnJlbnRTdGVwOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZ2V0U3RlcEZyb21TbHVnKCBjdXJyZW50U3RlcFNsdWcoKSApO1xuICB9LFxuXG4gIGdldFN0ZXBGcm9tU2x1ZzogZnVuY3Rpb24oc2x1Zykge1xuICAgIHJldHVybiBnZXRTdGVwRnJvbVNsdWcoIHNsdWcgKTtcbiAgfSxcblxuICBnZXRQcm9ncmVzc1BlcmNlbnQ6IGZ1bmN0aW9uKCkge1xuICBcdHZhciBudW1TdGVwcyA9IF8ud2hlcmUoIF9zdGVwcywgeyBpbmNsdWRlSW5Qcm9ncmVzczogdHJ1ZSB9ICkubGVuZ3RoO1xuICAgIHZhciBjb21wbGV0ZWRTdGVwcyA9IF8ud2hlcmUoIF9zdGVwcywgeyBpbmNsdWRlSW5Qcm9ncmVzczogdHJ1ZSwgY29tcGxldGVkOiB0cnVlIH0gKS5sZW5ndGg7XG4gICAgdmFyIHBlcmNlbnRDb21wbGV0ZSA9IChjb21wbGV0ZWRTdGVwcyAvIG51bVN0ZXBzKSAqIDkwICsgMTA7XG4gICAgdmFyIG91dHB1dCA9IE1hdGgucm91bmQocGVyY2VudENvbXBsZXRlIC8gMTApICogMTA7XG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfSxcblxuICBhZGRDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICB0aGlzLm9uKCBDSEFOR0VfRVZFTlQsIGNhbGxiYWNrICk7XG4gIH0sXG5cbiAgcmVtb3ZlQ2hhbmdlTGlzdGVuZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lciggQ0hBTkdFX0VWRU5ULCBjYWxsYmFjayApO1xuICB9XG59KTtcblxuLy8gUmVnaXN0ZXIgY2FsbGJhY2sgdG8gaGFuZGxlIGFsbCB1cGRhdGVzXG5BcHBEaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuICBcbiAgc3dpdGNoKGFjdGlvbi5hY3Rpb25UeXBlKSB7XG4gICAgY2FzZSBKUFNDb25zdGFudHMuU1RFUF9HRVRfU1RBUlRFRDpcbiAgICAgIGdldFN0YXJ0ZWQoKTtcbiAgICAgIFNldHVwUHJvZ3Jlc3NTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNURVBfU0VMRUNUOlxuICAgICAgc2VsZWN0KGFjdGlvbi5zbHVnKTtcbiAgICAgIFNldHVwUHJvZ3Jlc3NTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNURVBfTkVYVDpcbiAgICAgIHNlbGVjdE5leHRQZW5kaW5nU3RlcCgpO1xuICAgICAgU2V0dXBQcm9ncmVzc1N0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU1RFUF9DT01QTEVURTpcbiAgICAgIGNvbXBsZXRlKGFjdGlvbi5zbHVnKTtcbiAgICAgIFNldHVwUHJvZ3Jlc3NTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNURVBfQ09NUExFVEVfQU5EX05FWFQ6XG4gICAgICBjb21wbGV0ZShhY3Rpb24uc2x1Zyk7XG4gICAgICBzZWxlY3ROZXh0UGVuZGluZ1N0ZXAoKTtcbiAgICAgIFNldHVwUHJvZ3Jlc3NTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlJFU0VUX0RBVEE6XG4gICAgICByZXNldCgpO1xuICAgICAgU2V0dXBQcm9ncmVzc1N0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU1RFUF9TS0lQOlxuICAgICAgc2tpcCgpO1xuICAgICAgU2V0dXBQcm9ncmVzc1N0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIG5vIG9wXG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNldHVwUHJvZ3Jlc3NTdG9yZTsiLCIvKlxuICogU3RvcmUgd2hpY2ggbWFuYWdlcyBhbmQgcGVyc2lzdHMgc2l0ZSBpbmZvcm1hdGlvblxuICovXG5cbnZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuICBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXIsXG4gIEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LWNvbnN0YW50cycpLFxuICBXUEFqYXggPSByZXF1aXJlKCcuLi91dGlscy93cC1hamF4Jyk7XG5cbnZhciBDSEFOR0VfRVZFTlQgPSAnY2hhbmdlJztcblxudmFyIGxheW91dCA9IEpQUy5zdGVwcy5sYXlvdXQuY3VycmVudDtcblxuZnVuY3Rpb24gc2V0VGl0bGUobmV3VGl0bGUpIHtcblx0SlBTLmJsb2dpbmZvLm5hbWUgPSBuZXdUaXRsZTtcbn1cblxuZnVuY3Rpb24gc2V0RGVzY3JpcHRpb24obmV3RGVzY3JpcHRpb24pIHtcbiAgSlBTLmJsb2dpbmZvLmRlc2NyaXB0aW9uID0gbmV3RGVzY3JpcHRpb247IFxufVxuXG5mdW5jdGlvbiBzZXRBY3RpdmVUaGVtZShhY3RpdmVUaGVtZUlkKSB7XG4gIEpQUy50aGVtZXMuZm9yRWFjaCggZnVuY3Rpb24oIHRoZW1lICkge1xuICAgIGlmICggdGhlbWUuaWQgPT0gYWN0aXZlVGhlbWVJZCApIHtcbiAgICAgIHRoZW1lLmFjdGl2ZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoZW1lLmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgfSApO1xufVxuXG5mdW5jdGlvbiBpbnN0YWxsZWRUaGVtZSh0aGVtZSkge1xuICBKUFMudGhlbWVzLnVuc2hpZnQodGhlbWUpO1xuICBKUFMudGhlbWVzID0gSlBTLnRoZW1lcy5zbGljZSgwLCAzKTtcbn1cblxuZnVuY3Rpb24gc2V0SmV0cGFja01vZHVsZUFjdGl2YXRlZChzbHVnKSB7XG4gIGlmICggXy5pbmRleE9mKCBKUFMuamV0cGFjay5hY3RpdmVfbW9kdWxlcywgc2x1ZyApID09PSAtMSApIHtcbiAgICBKUFMuamV0cGFjay5hY3RpdmVfbW9kdWxlcy5wdXNoKHNsdWcpOyAgXG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0SmV0cGFja01vZHVsZURlY3RpdmF0ZWQoc2x1Zykge1xuICB2YXIgaW5kZXggPSBfLmluZGV4T2YoIEpQUy5qZXRwYWNrLmFjdGl2ZV9tb2R1bGVzLCBzbHVnICk7XG4gIGlmICggaW5kZXggPj0gMCkge1xuICAgIEpQUy5qZXRwYWNrLmFjdGl2ZV9tb2R1bGVzLnNwbGljZShpbmRleCwgMSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0SmV0cGFja0FkZGl0aW9uYWxNb2R1bGVzKG1vZHVsZXMpIHtcbiAgSlBTLmpldHBhY2suYWRkaXRpb25hbF9tb2R1bGVzID0gXy5maWx0ZXIobW9kdWxlcywgZnVuY3Rpb24obW9kdWxlKSB7XG4gICAgcmV0dXJuIF8uaW5kZXhPZihKUFMuamV0cGFjay5qdW1wc3RhcnRfbW9kdWxlcy5tYXAoZnVuY3Rpb24obW9kKXtyZXR1cm4gbW9kLnNsdWc7fSksIG1vZHVsZS5zbHVnKSA9PSAtMTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNldExheW91dChsYXlvdXROYW1lKSB7XG4gIGxheW91dCA9IGxheW91dE5hbWU7IC8vIFhYWCBUT0RPOiBnZXQgdGhpcyB2YWx1ZSBkeW5hbWljYWxseSBmcm9tIHRoZSBzZXJ2ZXIhXG59XG5cbmZ1bmN0aW9uIHNldEpldHBhY2tDb25maWd1cmVkKCkge1xuICBKUFMuamV0cGFjay5jb25maWd1cmVkID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gc2V0SmV0cGFja0p1bXBzdGFydEFjdGl2YXRlZCgpIHtcbiAgSlBTLmpldHBhY2suanVtcHN0YXJ0X21vZHVsZXMuZm9yRWFjaCggZnVuY3Rpb24oIG1vZHVsZSApIHtcbiAgICBzZXRKZXRwYWNrTW9kdWxlQWN0aXZhdGVkKCBtb2R1bGUuc2x1ZyApO1xuICB9KTtcbn1cblxudmFyIFNpdGVTdG9yZSA9IF8uZXh0ZW5kKHt9LCBFdmVudEVtaXR0ZXIucHJvdG90eXBlLCB7XG5cbiAgZ2V0VGl0bGU6IGZ1bmN0aW9uKCkge1xuICBcdHJldHVybiBKUFMuYmxvZ2luZm8ubmFtZTtcbiAgfSxcblxuICBnZXREZXNjcmlwdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIEpQUy5ibG9naW5mby5kZXNjcmlwdGlvbjtcbiAgfSxcblxuICBnZXRUaGVtZXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBKUFMudGhlbWVzO1xuICB9LFxuXG4gIGdldEFjdGl2ZVRoZW1lSWQ6IGZ1bmN0aW9uKCkge1xuICAgIGZvcih2YXIgaT0wOyBpIDwgSlBTLnRoZW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHRoZW1lID0gSlBTLnRoZW1lc1tpXTtcbiAgICAgIGlmICggdGhlbWUuYWN0aXZlICkge1xuICAgICAgICByZXR1cm4gdGhlbWUuaWQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9LFxuXG4gIGdldEpldHBhY2tDb25maWd1cmVkOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gSlBTLmpldHBhY2suY29uZmlndXJlZDtcbiAgfSxcblxuICBnZXRBY3RpdmVNb2R1bGVTbHVnczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIEpQUy5qZXRwYWNrLmFjdGl2ZV9tb2R1bGVzO1xuICB9LFxuXG4gIGlzSmV0cGFja01vZHVsZUVuYWJsZWQ6IGZ1bmN0aW9uKHNsdWcpIHtcbiAgICByZXR1cm4gKCBfLmluZGV4T2YoIEpQUy5qZXRwYWNrLmFjdGl2ZV9tb2R1bGVzLCBzbHVnICkgPj0gMCApO1xuICB9LFxuXG4gIGdldEpldHBhY2tBZGRpdGlvbmFsTW9kdWxlczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIEpQUy5qZXRwYWNrLmFkZGl0aW9uYWxfbW9kdWxlcztcbiAgfSxcblxuICBnZXRKdW1wc3RhcnRNb2R1bGVTbHVnczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIEpQUy5qZXRwYWNrLmp1bXBzdGFydF9tb2R1bGVzLm1hcChmdW5jdGlvbihtb2R1bGUpIHsgcmV0dXJuIG1vZHVsZS5zbHVnOyB9KTtcbiAgfSxcblxuICBnZXRKdW1wc3RhcnRNb2R1bGVzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gSlBTLmpldHBhY2suanVtcHN0YXJ0X21vZHVsZXM7XG4gIH0sXG5cbiAgZ2V0UG9wdWxhclRoZW1lczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFdQQWpheC5wb3N0KEpQUy5zaXRlX2FjdGlvbnMuZ2V0X3BvcHVsYXJfdGhlbWVzKTtcbiAgfSxcblxuICBnZXRKZXRwYWNrSnVtcHN0YXJ0RW5hYmxlZDogZnVuY3Rpb24oKSB7XG4gICAgZm9yKHZhciBpPTA7IGkgPCBKUFMuamV0cGFjay5qdW1wc3RhcnRfbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG1vZHVsZSA9IEpQUy5qZXRwYWNrLmp1bXBzdGFydF9tb2R1bGVzW2ldO1xuICAgICAgaWYgKCAhIHRoaXMuaXNKZXRwYWNrTW9kdWxlRW5hYmxlZCggbW9kdWxlLnNsdWcgKSApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcblxuICBnZXRMYXlvdXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBsYXlvdXQ7XG4gIH0sXG5cbiAgZW1pdENoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5lbWl0KENIQU5HRV9FVkVOVCk7XG4gIH0sXG5cbiAgYWRkQ2hhbmdlTGlzdGVuZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5vbihDSEFOR0VfRVZFTlQsIGNhbGxiYWNrKTtcbiAgfSxcblxuICByZW1vdmVDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKENIQU5HRV9FVkVOVCwgY2FsbGJhY2spO1xuICB9XG59KTtcblxuLy8gUmVnaXN0ZXIgY2FsbGJhY2sgdG8gaGFuZGxlIGFsbCB1cGRhdGVzXG5BcHBEaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuXG4gIHN3aXRjaChhY3Rpb24uYWN0aW9uVHlwZSkge1xuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfU0VUX1RJVExFOlxuICAgICAgc2V0VGl0bGUoYWN0aW9uLnRpdGxlKTtcbiAgICAgIFNpdGVTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfU0VUX0RFU0NSSVBUSU9OOlxuICAgICAgc2V0RGVzY3JpcHRpb24oYWN0aW9uLmRlc2NyaXB0aW9uKTtcbiAgICAgIFNpdGVTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfU0VUX1RIRU1FOlxuICAgICAgc2V0QWN0aXZlVGhlbWUoYWN0aW9uLnRoZW1lSWQpO1xuICAgICAgU2l0ZVN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU0lURV9JTlNUQUxMX1RIRU1FOlxuICAgICAgaW5zdGFsbGVkVGhlbWUoYWN0aW9uLnRoZW1lKTtcbiAgICAgIFNpdGVTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfSkVUUEFDS19DT05GSUdVUkVEOlxuICAgICAgc2V0SmV0cGFja0NvbmZpZ3VyZWQoKTtcbiAgICAgIFNpdGVTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfSkVUUEFDS19BRERfTU9EVUxFUzpcbiAgICAgIHNldEpldHBhY2tBZGRpdGlvbmFsTW9kdWxlcyhhY3Rpb24ubW9kdWxlcyk7XG4gICAgICBTaXRlU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TSVRFX0pFVFBBQ0tfTU9EVUxFX0VOQUJMRUQ6XG4gICAgICBzZXRKZXRwYWNrTW9kdWxlQWN0aXZhdGVkKGFjdGlvbi5zbHVnKTtcbiAgICAgIFNpdGVTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfSkVUUEFDS19NT0RVTEVfRElTQUJMRUQ6XG4gICAgICBzZXRKZXRwYWNrTW9kdWxlRGVjdGl2YXRlZChhY3Rpb24uc2x1Zyk7XG4gICAgICBTaXRlU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TSVRFX0pFVFBBQ0tfSlVNUFNUQVJUX0VOQUJMRUQ6IFxuICAgICAgc2V0SmV0cGFja0p1bXBzdGFydEFjdGl2YXRlZCgpO1xuICAgICAgU2l0ZVN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU0lURV9TRVRfTEFZT1VUOlxuICAgICAgc2V0TGF5b3V0KGFjdGlvbi5sYXlvdXQpO1xuICAgICAgU2l0ZVN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIG5vIG9wXG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNpdGVTdG9yZTsiLCJ2YXIgQXBwRGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4uL2Rpc3BhdGNoZXIvYXBwLWRpc3BhdGNoZXInKSxcblx0RXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyLFxuXHRKUFNDb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1jb25zdGFudHMnKTtcblxudmFyIENIQU5HRV9FVkVOVCA9ICdjaGFuZ2UnO1xuXG52YXIgc3Bpbm5lckVuYWJsZWQgPSBmYWxzZSxcblx0c3Bpbm5lck1lc3NhZ2UgPSBudWxsO1xuXG5mdW5jdGlvbiBzaG93KG1lc3NhZ2UpIHtcblx0c3Bpbm5lckVuYWJsZWQgPSB0cnVlO1xuXHRzcGlubmVyTWVzc2FnZSA9IG1lc3NhZ2U7XG59XG5cbmZ1bmN0aW9uIGhpZGUoKSB7XG5cdHNwaW5uZXJFbmFibGVkID0gZmFsc2U7XG5cdHNwaW5uZXJNZXNzYWdlID0gbnVsbDtcbn1cblxudmFyIFNwaW5uZXJTdG9yZSA9IF8uZXh0ZW5kKHt9LCBFdmVudEVtaXR0ZXIucHJvdG90eXBlLCB7XG5cdHNob3dpbmc6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBzcGlubmVyRW5hYmxlZDtcblx0fSxcblxuXHRnZXRNZXNzYWdlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc3Bpbm5lck1lc3NhZ2U7XG5cdH0sXG5cblx0YWRkQ2hhbmdlTGlzdGVuZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdFx0dGhpcy5vbiggQ0hBTkdFX0VWRU5ULCBjYWxsYmFjayApO1xuXHR9LFxuXG5cdHJlbW92ZUNoYW5nZUxpc3RlbmVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRcdHRoaXMucmVtb3ZlTGlzdGVuZXIoIENIQU5HRV9FVkVOVCwgY2FsbGJhY2sgKTtcblx0fSxcblxuXHRlbWl0Q2hhbmdlOiBmdW5jdGlvbigpIHtcblx0ICAgIHRoaXMuZW1pdCggQ0hBTkdFX0VWRU5UICk7XG5cdH0sXG59KTtcblxuQXBwRGlzcGF0Y2hlci5yZWdpc3RlcihmdW5jdGlvbihhY3Rpb24pIHtcblxuICBzd2l0Y2goYWN0aW9uLmFjdGlvblR5cGUpIHtcbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TSE9XX1NQSU5ORVI6XG5cdFx0c2hvdyhhY3Rpb24ubWVzc2FnZSk7XG5cdFx0U3Bpbm5lclN0b3JlLmVtaXRDaGFuZ2UoKTtcblx0XHRicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLkhJREVfU1BJTk5FUjpcbiAgICAgXHRoaWRlKCk7XG4gICAgIFx0U3Bpbm5lclN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgXHRicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBubyBvcFxuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBTcGlubmVyU3RvcmU7IiwiLypcbiAqIEEgc2ltcGxlIHdyYXBwZXIgZm9yIGNhbGxzIHRvIFdQJ3MgXCJhamF4dXJsXCIuXG4gKlxuICogVGhpcyBleGlzdHMgYmVjYXVzZSBXUCdzIHdwX3NlbmRfanNvbl9lcnJvciBkb2Vzbid0IGFjdHVhbGx5IHNlbmQgYW4gZXJyb3IgY29kZSwgYnV0IHJhdGhlclxuICogYSAyMDAgT0sgcmVzcG9uc2Ugd2l0aCBhIHN0cnVjdHVyZSBsaWtlIHRoaXM6XG4gKiB7c3VjY2VzczogZmFsc2UsIGRhdGE6IFwic29tZXRoaW5nIHdlbnQgd3JvbmdcIn1cbiAqXG4gKiBTbyB0aGlzIGNsYXNzIHNtb290aGVzIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gNTB4IGVycm9ycyBhbmQgV1AncyBlcnJvciBvYmplY3QuXG4gKlxuICogRm9yIGNvbnZlbmllbmNlLCB0aGlzIHJldHVybnMgYSBqUXVlcnkuRGVmZXJyZWQgb2JqZWN0IHdoaWNoIGNhbiBoYXZlIC5kb25lKCkgXG4gKiBhbmQgLmZhaWwoKSBtZXRob2RzIGNoYWluZWQgb250byBpdCwgc2ltaWxhciB0byBqUXVlcnkucG9zdCdzIFwic3VjY2Vzc1wiIGFuZCBcImZhaWxcIlxuICpcbiAqIEFsc28sIGl0IGFjY2VwdHMgYW4gXCJhY3Rpb25cIiBwYXJhbSBpbnN0ZWFkIG9mIGEgVVJMLCBzaW5jZSBhbGwgV1AgYWpheCByZXF1ZXN0c1xuICogYWN0dWFsbHkgZ28gdmlhIHRoZSBzYW1lIFVSTCB3aXRoIGRpZmZlcmVudCBwYXJhbWV0ZXJzLCBhbmQgaXQgaW52b2tlcyBjYWxsYmFja3Mgd2l0aFxuICoganVzdCB0aGUgXCJkYXRhXCIgcG9ydGlvbiBvZiBXUCdzIGFqYXggcGF5bG9hZCwgcmF0aGVyIHRoYW4gdGhlIHdob2xlIHN0cnVjdHVyZS5cbiAqIFxuICoqL1xuXG52YXIgRGF0YUFjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL2RhdGEtYWN0aW9ucycpO1xuXG52YXIgV1BBamF4ID0gKGZ1bmN0aW9uKCkge1xuXG5cdHJldHVybiB7XG5cdFx0cG9zdDogZnVuY3Rpb24oYWN0aW9uLCBwYXlsb2FkKSB7XG5cdFx0XHRwYXlsb2FkID0gdHlwZW9mIHBheWxvYWQgIT09ICd1bmRlZmluZWQnID8gcGF5bG9hZCA6IHt9O1xuXHRcdFx0dmFyIGRhdGEgPSBfLmV4dGVuZChwYXlsb2FkLCB7YWN0aW9uOiBhY3Rpb24sIG5vbmNlOiBKUFMubm9uY2V9KTtcblx0XHRcdFxuXHRcdFx0dmFyIGRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCk7XG5cblx0XHRcdERhdGFBY3Rpb25zLnJlcXVlc3RTdGFydGVkKCk7XG5cblx0XHRcdGpRdWVyeS5wb3N0KCBhamF4dXJsLCBkYXRhIClcblx0XHRcdFx0LnN1Y2Nlc3MoIGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblx0XHRcdFx0XHRpZiAoICEgcmVzcG9uc2Uuc3VjY2VzcyApIHtcblx0XHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdChyZXNwb25zZS5kYXRhKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShyZXNwb25zZS5kYXRhKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5mYWlsKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoXCJTZXJ2ZXIgZXJyb3JcIik7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5hbHdheXMoIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHREYXRhQWN0aW9ucy5yZXF1ZXN0RmluaXNoZWQoKTtcblx0XHRcdFx0fSk7XHRcblxuXHRcdFx0cmV0dXJuIGRlZmVycmVkO1xuXHRcdH1cblx0fTtcblxufSkoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBXUEFqYXg7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cuUmVhY3QgOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsLlJlYWN0IDogbnVsbCksXG4gICAgV2VsY29tZVdpZGdldCA9IHJlcXVpcmUoJy4vY29tcG9uZW50cy93ZWxjb21lLXdpZGdldCcpLFxuICAgIFBhdGhzID0gcmVxdWlyZSgnLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1wYXRocycpLFxuICAgIFNldHVwUHJvZ3Jlc3NTdG9yZSA9IHJlcXVpcmUoJy4vc3RvcmVzL3NldHVwLXByb2dyZXNzLXN0b3JlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgalF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG5cbiAgICBcdFNldHVwUHJvZ3Jlc3NTdG9yZS5pbml0KFtcbiAgICBcdFx0Ly8gTk9URTogWW91IGNhbiBoYXZlIFwic3RhdGljOiB0cnVlXCIgdG8gaW5jbHVkZSB1bi1jbGlja2FibGUgXG4gICAgXHRcdC8vIHByZWZpbGxlZCBzdGVwcyB0aGF0IGFjdCBhcyB0aG91Z2ggdGhleSd2ZSBhbHJlYWR5IGJlZW4gY29tcGxldGVkXG5cdFx0XHQvLyB7XG5cdFx0XHQvLyBcdG5hbWU6IFwiU2lnbiB1cFwiLFxuXHRcdFx0Ly8gXHRjb21wbGV0ZWQ6IHRydWUsXG5cdFx0XHQvLyBcdHN0YXRpYzogdHJ1ZVxuXHRcdFx0Ly8gfSxcblx0XHRcdHtcblx0XHRcdFx0bmFtZTogJ1NpdGUgdGl0bGUnLFxuXHRcdFx0XHRzbHVnOiBQYXRocy5TSVRFX1RJVExFX1NURVBfU0xVRyxcblx0XHRcdFx0d2VsY29tZVZpZXc6IHJlcXVpcmUoJy4vY29tcG9uZW50cy9zaXRlLXRpdGxlLXN0ZXAnKVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0bmFtZTogJ1BpY2sgYSBsYXlvdXQnLFxuXHRcdFx0XHRzbHVnOiBQYXRocy5MQVlPVVRfU1RFUF9TTFVHLFxuXHRcdFx0XHR3ZWxjb21lVmlldzogcmVxdWlyZSgnLi9jb21wb25lbnRzL2xheW91dC1zdGVwJylcblx0XHRcdH0sXG5cdFx0XHR7IFxuXHRcdFx0XHRuYW1lOiBcIlBpY2sgYSBkZXNpZ25cIiwgXG5cdFx0XHRcdHNsdWc6IFBhdGhzLkRFU0lHTl9TVEVQX1NMVUcsXG5cdFx0XHRcdHdlbGNvbWVWaWV3OiByZXF1aXJlKCcuL2NvbXBvbmVudHMvZGVzaWduLXN0ZXAnKSwgXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRuYW1lOiAnRW5hYmxlIEpldHBhY2snLFxuXHRcdFx0XHRzbHVnOiBQYXRocy5KRVRQQUNLX01PRFVMRVNfU1RFUF9TTFVHLFxuXHRcdFx0XHR3ZWxjb21lVmlldzogcmVxdWlyZSgnLi9jb21wb25lbnRzL2pldHBhY2stanVtcHN0YXJ0LXN0ZXAnKSxcblx0XHRcdFx0bWVudVZpZXc6IHJlcXVpcmUoJy4vY29tcG9uZW50cy9qZXRwYWNrLWp1bXBzdGFydC1tZW51Jylcblx0XHRcdH0sXG5cdFx0XHR7IFxuXHRcdFx0XHRuYW1lOiBcIkFkdmFuY2VkIHNldHRpbmdzXCIsIFxuXHRcdFx0XHRzbHVnOiBQYXRocy5BRFZBTkNFRF9TVEVQX1NMVUcsXG5cdFx0XHRcdHdlbGNvbWVWaWV3OiByZXF1aXJlKCcuL2NvbXBvbmVudHMvYWR2YW5jZWQtc2V0dGluZ3Mtc3RlcCcpLFxuXHRcdFx0XHRpbmNsdWRlSW5Qcm9ncmVzczogZmFsc2Vcblx0XHRcdH1cblx0XHRdKTtcblxuICAgICAgICBSZWFjdC5yZW5kZXIoXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChXZWxjb21lV2lkZ2V0LCB7fSksIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqcHMtd2VsY29tZS1wYW5lbCcpXG4gICAgICAgICk7XG4gICAgfSk7XG59OyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93LlJlYWN0IDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbC5SZWFjdCA6IG51bGwpLFxuXHRSYWRpdW0gPSByZXF1aXJlKCdyYWRpdW0nKTtcblxuLyoqXG4gKiBTaG93IHByb2dyZXNzIHRocm91Z2ggdGhlIHN0ZXBzXG4gKiBOT1RFOiBwcm9ncmVzc1BlcmNlbnQgTVVTVCBiZSByb3VuZGVkIHRvIHRoZSBuZWFyZXN0IDEwLCBpLmUuIDEwLCAyMCwgMzAsIDQwLi4uMTAwXG4gKiBUaGlzIGlzIHJlcXVpcmVkIGZvciB0aGUgQ1NTIHRvIHdvcmsgKHdpbGwgZml4IGxhdGVyLi4uKVxuICoqL1xudmFyIFByb2dyZXNzQmFyID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIlByb2dyZXNzQmFyXCIsXG5cblx0cHJvcFR5cGVzOiB7XG5cdFx0c3R5bGU6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdFx0cHJvZ3Jlc3NQZXJjZW50OiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcblx0fSxcblxuXHRzdHlsZXM6IHtcblx0XHR3cmFwcGVyOiB7XG5cdFx0XHRmb250V2VpZ2h0OiA0MDAsXG5cdFx0XHRmb250U2l6ZTogJzgwJSdcblx0XHR9LFxuXHRcdHByb2dyZXNzOiB7XG5cdFx0XHRiYWNrZ3JvdW5kOiAnIzRhYjg2NicsXG5cdFx0XHR3aWR0aDogJzAlJyxcblx0XHRcdHRyYW5zaXRpb246ICd3aWR0aCAwLjVzJyxcblx0XHRcdGRpc3BsYXk6ICdibG9jaycsXG5cdFx0XHRoZWlnaHQ6ICcxMDAlJ1xuXHRcdH0sXG5cdFx0YmFyOiB7XG5cdFx0XHRkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcblx0XHRcdHdpZHRoOiA4MCxcblx0XHRcdGhlaWdodDogMTIsXG5cdFx0XHRtYXJnaW46ICcwIDhweCAtMnB4IDAnLFxuXHRcdFx0cGFkZGluZzogMixcblx0XHRcdGJvcmRlclJhZGl1czogMixcblx0XHRcdGJhY2tncm91bmQ6ICcjZjVmNWY1J1xuXHRcdH1cblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdC8vIHZhciBjbGFzc2VzID0gJ2dldHRpbmctc3RhcnRlZF9fcHJvZ3Jlc3MgcHJvZ3Jlc3NfJyt0aGlzLnByb3BzLnByb2dyZXNzUGVyY2VudDtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7c3R5bGU6IFt0aGlzLnN0eWxlcy53cmFwcGVyLCB0aGlzLnByb3BzLnN0eWxlXX0sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZTogdGhpcy5zdHlsZXMuYmFyfSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge3N0eWxlOiBbdGhpcy5zdHlsZXMucHJvZ3Jlc3MsIHsgd2lkdGg6IHRoaXMucHJvcHMucHJvZ3Jlc3NQZXJjZW50KyclJyB9XX0pXG5cdFx0XHRcdCksIFxuXHRcdFx0XHR0aGlzLnByb3BzLnByb2dyZXNzUGVyY2VudCwgXCIlIGNvbXBsZXRlXCJcblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSYWRpdW0oUHJvZ3Jlc3NCYXIpOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIGNyZWF0ZU1hcmt1cEZvclN0eWxlcyA9IHJlcXVpcmUoJy4uL2NyZWF0ZS1tYXJrdXAtZm9yLXN0eWxlcycpO1xudmFyIFByZWZpeGVyID0gcmVxdWlyZSgnLi4vcHJlZml4ZXInKTtcblxudmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cuUmVhY3QgOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsLlJlYWN0IDogbnVsbCk7XG5cbnZhciBidWlsZENzc1N0cmluZyA9IGZ1bmN0aW9uIGJ1aWxkQ3NzU3RyaW5nKHNlbGVjdG9yLCBydWxlcykge1xuICBpZiAoIXNlbGVjdG9yIHx8ICFydWxlcykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBwcmVmaXhlZFJ1bGVzID0gUHJlZml4ZXIuZ2V0UHJlZml4ZWRTdHlsZShydWxlcywgJ2NzcycpO1xuICB2YXIgc2VyaWFsaXplZFJ1bGVzID0gY3JlYXRlTWFya3VwRm9yU3R5bGVzKHByZWZpeGVkUnVsZXMpO1xuXG4gIHJldHVybiBzZWxlY3RvciArICd7JyArIHNlcmlhbGl6ZWRSdWxlcyArICd9Jztcbn07XG5cbnZhciBTdHlsZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdTdHlsZScsXG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgcnVsZXM6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgc2NvcGVTZWxlY3RvcjogUmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xuICB9LFxuXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzY29wZVNlbGVjdG9yOiAnJ1xuICAgIH07XG4gIH0sXG5cbiAgX2J1aWxkU3R5bGVzOiBmdW5jdGlvbiBfYnVpbGRTdHlsZXMoc3R5bGVzKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHJldHVybiBPYmplY3Qua2V5cyhzdHlsZXMpLnJlZHVjZShmdW5jdGlvbiAoYWNjdW11bGF0b3IsIHNlbGVjdG9yKSB7XG4gICAgICB2YXIgcnVsZXMgPSBzdHlsZXNbc2VsZWN0b3JdO1xuXG4gICAgICBpZiAoc2VsZWN0b3IgPT09ICdtZWRpYVF1ZXJpZXMnKSB7XG4gICAgICAgIGFjY3VtdWxhdG9yICs9IF90aGlzLl9idWlsZE1lZGlhUXVlcnlTdHJpbmcocnVsZXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGNvbXBsZXRlU2VsZWN0b3IgPSAoX3RoaXMucHJvcHMuc2NvcGVTZWxlY3RvciA/IF90aGlzLnByb3BzLnNjb3BlU2VsZWN0b3IgKyAnICcgOiAnJykgKyBzZWxlY3RvcjtcbiAgICAgICAgYWNjdW11bGF0b3IgKz0gYnVpbGRDc3NTdHJpbmcoY29tcGxldGVTZWxlY3RvciwgcnVsZXMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfSwgJycpO1xuICB9LFxuXG4gIF9idWlsZE1lZGlhUXVlcnlTdHJpbmc6IGZ1bmN0aW9uIF9idWlsZE1lZGlhUXVlcnlTdHJpbmcobWVkaWFRdWVyeU9iaikge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIGNvbnRleHRNZWRpYVF1ZXJpZXMgPSB0aGlzLl9nZXRDb250ZXh0TWVkaWFRdWVyaWVzKCk7XG4gICAgdmFyIG1lZGlhUXVlcnlTdHJpbmcgPSAnJztcblxuICAgIE9iamVjdC5rZXlzKG1lZGlhUXVlcnlPYmopLmZvckVhY2goZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgICB2YXIgY29tcGxldGVRdWVyeSA9IGNvbnRleHRNZWRpYVF1ZXJpZXNbcXVlcnldID8gY29udGV4dE1lZGlhUXVlcmllc1txdWVyeV0gOiBxdWVyeTtcbiAgICAgIG1lZGlhUXVlcnlTdHJpbmcgKz0gJ0BtZWRpYSAnICsgY29tcGxldGVRdWVyeSArICd7JyArIF90aGlzMi5fYnVpbGRTdHlsZXMobWVkaWFRdWVyeU9ialtxdWVyeV0pICsgJ30nO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG1lZGlhUXVlcnlTdHJpbmc7XG4gIH0sXG5cbiAgX2dldENvbnRleHRNZWRpYVF1ZXJpZXM6IGZ1bmN0aW9uIF9nZXRDb250ZXh0TWVkaWFRdWVyaWVzKCkge1xuICAgIHZhciBjb250ZXh0TWVkaWFRdWVyaWVzID0ge307XG4gICAgaWYgKHRoaXMuY29udGV4dCAmJiB0aGlzLmNvbnRleHQubWVkaWFRdWVyaWVzKSB7XG4gICAgICBPYmplY3Qua2V5cyh0aGlzLmNvbnRleHQubWVkaWFRdWVyaWVzKS5mb3JFYWNoKChmdW5jdGlvbiAocXVlcnkpIHtcbiAgICAgICAgY29udGV4dE1lZGlhUXVlcmllc1txdWVyeV0gPSB0aGlzLmNvbnRleHQubWVkaWFRdWVyaWVzW3F1ZXJ5XS5tZWRpYTtcbiAgICAgIH0pLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIHJldHVybiBjb250ZXh0TWVkaWFRdWVyaWVzO1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5ydWxlcykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHN0eWxlcyA9IHRoaXMuX2J1aWxkU3R5bGVzKHRoaXMucHJvcHMucnVsZXMpO1xuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJywgeyBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6IHN0eWxlcyB9IH0pO1xuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBTdHlsZTsiLCIvKiBAZmxvdyAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJ2V4ZW52Jyk7XG5cbnZhciBfbWF0Y2hNZWRpYUZ1bmN0aW9uID0gRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NICYmIHdpbmRvdyAmJiB3aW5kb3cubWF0Y2hNZWRpYTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNhbk1hdGNoTWVkaWE6IGZ1bmN0aW9uIGNhbk1hdGNoTWVkaWEoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBfbWF0Y2hNZWRpYUZ1bmN0aW9uID09PSAnZnVuY3Rpb24nO1xuICB9LFxuXG4gIG1hdGNoTWVkaWE6IGZ1bmN0aW9uIG1hdGNoTWVkaWEocXVlcnkpIHtcbiAgICByZXR1cm4gX21hdGNoTWVkaWFGdW5jdGlvbihxdWVyeSk7XG4gIH0sXG5cbiAgc2V0TWF0Y2hNZWRpYTogZnVuY3Rpb24gc2V0TWF0Y2hNZWRpYShuZXh0TWF0Y2hNZWRpYUZ1bmN0aW9uKSB7XG4gICAgX21hdGNoTWVkaWFGdW5jdGlvbiA9IG5leHRNYXRjaE1lZGlhRnVuY3Rpb247XG4gIH1cbn07IiwiLyogQGZsb3cgKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3JlYXRlTWFya3VwRm9yU3R5bGVzID0gZnVuY3Rpb24gY3JlYXRlTWFya3VwRm9yU3R5bGVzKHN0eWxlLCBzcGFjZXMpIHtcbiAgc3BhY2VzID0gc3BhY2VzIHx8ICcnO1xuICByZXR1cm4gT2JqZWN0LmtleXMoc3R5bGUpLm1hcChmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICByZXR1cm4gc3BhY2VzICsgcHJvcGVydHkgKyAnOiAnICsgc3R5bGVbcHJvcGVydHldICsgJzsnO1xuICB9KS5qb2luKCdcXG4nKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlTWFya3VwRm9yU3R5bGVzOyIsIi8qIEBmbG93ICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxudmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IGRlc2MgPSBwYXJlbnQgPSBnZXR0ZXIgPSB1bmRlZmluZWQ7IF9hZ2FpbiA9IGZhbHNlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHJlc29sdmVTdHlsZXMgPSByZXF1aXJlKCcuL3Jlc29sdmUtc3R5bGVzLmpzJyk7XG5cbnZhciBlbmhhbmNlV2l0aFJhZGl1bSA9IGZ1bmN0aW9uIGVuaGFuY2VXaXRoUmFkaXVtKENvbXBvc2VkQ29tcG9uZW50KSB7XG4gIHZhciBkaXNwbGF5TmFtZSA9IENvbXBvc2VkQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvc2VkQ29tcG9uZW50Lm5hbWUgfHwgJ0NvbXBvbmVudCc7XG5cbiAgdmFyIFJhZGl1bUVuaGFuY2VyID0gKGZ1bmN0aW9uIChfQ29tcG9zZWRDb21wb25lbnQpIHtcbiAgICBmdW5jdGlvbiBSYWRpdW1FbmhhbmNlcigpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSYWRpdW1FbmhhbmNlcik7XG5cbiAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFJhZGl1bUVuaGFuY2VyLnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLnN0YXRlIHx8IHt9O1xuICAgICAgdGhpcy5zdGF0ZS5fcmFkaXVtU3R5bGVTdGF0ZSA9IHt9O1xuICAgIH1cblxuICAgIF9pbmhlcml0cyhSYWRpdW1FbmhhbmNlciwgX0NvbXBvc2VkQ29tcG9uZW50KTtcblxuICAgIF9jcmVhdGVDbGFzcyhSYWRpdW1FbmhhbmNlciwgW3tcbiAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgcmVuZGVyZWRFbGVtZW50ID0gX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmFkaXVtRW5oYW5jZXIucHJvdG90eXBlKSwgJ3JlbmRlcicsIHRoaXMpLmNhbGwodGhpcyk7XG4gICAgICAgIHJldHVybiByZXNvbHZlU3R5bGVzKHRoaXMsIHJlbmRlcmVkRWxlbWVudCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBpZiAoX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmFkaXVtRW5oYW5jZXIucHJvdG90eXBlKSwgJ2NvbXBvbmVudFdpbGxVbm1vdW50JywgdGhpcykpIHtcbiAgICAgICAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihSYWRpdW1FbmhhbmNlci5wcm90b3R5cGUpLCAnY29tcG9uZW50V2lsbFVubW91bnQnLCB0aGlzKS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3JhZGl1bU1vdXNlVXBMaXN0ZW5lcikge1xuICAgICAgICAgIHRoaXMuX3JhZGl1bU1vdXNlVXBMaXN0ZW5lci5yZW1vdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9yYWRpdW1NZWRpYVF1ZXJ5TGlzdGVuZXJzQnlRdWVyeSkge1xuICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuX3JhZGl1bU1lZGlhUXVlcnlMaXN0ZW5lcnNCeVF1ZXJ5KS5mb3JFYWNoKGZ1bmN0aW9uIChxdWVyeSkge1xuICAgICAgICAgICAgdGhpcy5fcmFkaXVtTWVkaWFRdWVyeUxpc3RlbmVyc0J5UXVlcnlbcXVlcnldLnJlbW92ZSgpO1xuICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFJhZGl1bUVuaGFuY2VyO1xuICB9KShDb21wb3NlZENvbXBvbmVudCk7XG5cbiAgUmFkaXVtRW5oYW5jZXIuZGlzcGxheU5hbWUgPSAnUmFkaXVtKCcgKyBkaXNwbGF5TmFtZSArICcpJztcblxuICByZXR1cm4gUmFkaXVtRW5oYW5jZXI7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVuaGFuY2VXaXRoUmFkaXVtOyIsIi8qIEBmbG93ICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFZBTElEX0tFWVMgPSBbJzphY3RpdmUnLCAnOmZvY3VzJywgJzpob3ZlciddO1xuXG52YXIgZ2V0U3RhdGUgPSBmdW5jdGlvbiBnZXRTdGF0ZShzdGF0ZSwgZWxlbWVudEtleSwgdmFsdWUpIHtcbiAgZWxlbWVudEtleSA9IGVsZW1lbnRLZXkgfHwgJ21haW4nO1xuXG4gIGlmIChWQUxJRF9LRVlTLmluZGV4T2YodmFsdWUpID09PSAtMSkge1xuICAgIHRocm93IG5ldyBFcnJvcignUmFkaXVtLmdldFN0YXRlIGludmFsaWQgdmFsdWUgcGFyYW06IGAnICsgdmFsdWUgKyAnYCcpO1xuICB9XG5cbiAgcmV0dXJuICEhKHN0YXRlICYmIHN0YXRlLl9yYWRpdW1TdHlsZVN0YXRlICYmIHN0YXRlLl9yYWRpdW1TdHlsZVN0YXRlW2VsZW1lbnRLZXldICYmIHN0YXRlLl9yYWRpdW1TdHlsZVN0YXRlW2VsZW1lbnRLZXldW3ZhbHVlXSkgfHwgZmFsc2U7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFN0YXRlOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIEVuaGFuY2VyID0gcmVxdWlyZSgnLi9lbmhhbmNlcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChDb21wb3NlZENvbXBvbmVudCkge1xuICByZXR1cm4gRW5oYW5jZXIoQ29tcG9zZWRDb21wb25lbnQpO1xufTtcbm1vZHVsZS5leHBvcnRzLlN0eWxlID0gcmVxdWlyZSgnLi9jb21wb25lbnRzL3N0eWxlJyk7XG5tb2R1bGUuZXhwb3J0cy5nZXRTdGF0ZSA9IHJlcXVpcmUoJy4vZ2V0LXN0YXRlJyk7XG5tb2R1bGUuZXhwb3J0cy5rZXlmcmFtZXMgPSByZXF1aXJlKCcuL2tleWZyYW1lcycpO1xubW9kdWxlLmV4cG9ydHMuQ29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcnKTsiLCIvKiBAZmxvdyAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBjcmVhdGVNYXJrdXBGb3JTdHlsZXMgPSByZXF1aXJlKCcuL2NyZWF0ZS1tYXJrdXAtZm9yLXN0eWxlcycpO1xudmFyIFByZWZpeGVyID0gcmVxdWlyZSgnLi9wcmVmaXhlcicpO1xuXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCdleGVudicpO1xuXG52YXIgaXNBbmltYXRpb25TdXBwb3J0ZWQgPSBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgUHJlZml4ZXIuZ2V0UHJlZml4ZWRQcm9wZXJ0eU5hbWUoJ2FuaW1hdGlvbicpICE9PSBmYWxzZTtcblxudmFyIGFuaW1hdGlvbkluZGV4ID0gMTtcbnZhciBhbmltYXRpb25TdHlsZVNoZWV0ID0gbnVsbDtcbnZhciBrZXlmcmFtZXNQcmVmaXhlZCA9IG51bGw7XG5cbmlmIChpc0FuaW1hdGlvblN1cHBvcnRlZCkge1xuICBhbmltYXRpb25TdHlsZVNoZWV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChhbmltYXRpb25TdHlsZVNoZWV0KTtcblxuICAvLyBUZXN0IGlmIHByZWZpeCBuZWVkZWQgZm9yIGtleWZyYW1lcyAoY29waWVkIGZyb20gUHJlZml4RnJlZSlcbiAga2V5ZnJhbWVzUHJlZml4ZWQgPSAna2V5ZnJhbWVzJztcbiAgYW5pbWF0aW9uU3R5bGVTaGVldC50ZXh0Q29udGVudCA9ICdAa2V5ZnJhbWVzIHt9JztcbiAgaWYgKCFhbmltYXRpb25TdHlsZVNoZWV0LnNoZWV0LmNzc1J1bGVzLmxlbmd0aCkge1xuICAgIGtleWZyYW1lc1ByZWZpeGVkID0gUHJlZml4ZXIuY3NzUHJlZml4ICsgJ2tleWZyYW1lcyc7XG4gIH1cbn1cblxuLy8gU2ltcGxlIGFuaW1hdGlvbiBoZWxwZXIgdGhhdCBpbmplY3RzIENTUyBpbnRvIGEgc3R5bGUgb2JqZWN0IGNvbnRhaW5pbmcgdGhlXG4vLyBrZXlmcmFtZXMsIGFuZCByZXR1cm5zIGEgc3RyaW5nIHdpdGggdGhlIGdlbmVyYXRlZCBhbmltYXRpb24gbmFtZS5cbnZhciBrZXlmcmFtZXMgPSBmdW5jdGlvbiBrZXlmcmFtZXMoa2V5ZnJhbWVSdWxlcykge1xuICB2YXIgbmFtZSA9ICdBbmltYXRpb24nICsgYW5pbWF0aW9uSW5kZXg7XG4gIGFuaW1hdGlvbkluZGV4ICs9IDE7XG5cbiAgaWYgKCFpc0FuaW1hdGlvblN1cHBvcnRlZCkge1xuICAgIHJldHVybiBuYW1lO1xuICB9XG5cbiAgdmFyIHJ1bGUgPSAnQCcgKyBrZXlmcmFtZXNQcmVmaXhlZCArICcgJyArIG5hbWUgKyAnIHtcXG4nICsgT2JqZWN0LmtleXMoa2V5ZnJhbWVSdWxlcykubWFwKGZ1bmN0aW9uIChwZXJjZW50YWdlKSB7XG4gICAgdmFyIHByb3BzID0ga2V5ZnJhbWVSdWxlc1twZXJjZW50YWdlXTtcbiAgICB2YXIgcHJlZml4ZWRQcm9wcyA9IFByZWZpeGVyLmdldFByZWZpeGVkU3R5bGUocHJvcHMsICdjc3MnKTtcbiAgICB2YXIgc2VyaWFsaXplZFByb3BzID0gY3JlYXRlTWFya3VwRm9yU3R5bGVzKHByZWZpeGVkUHJvcHMsICcgICcpO1xuICAgIHJldHVybiAnICAnICsgcGVyY2VudGFnZSArICcge1xcbiAgJyArIHNlcmlhbGl6ZWRQcm9wcyArICdcXG4gIH0nO1xuICB9KS5qb2luKCdcXG4nKSArICdcXG59XFxuJztcblxuICAvLyBmb3IgZmxvd1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAoIWFuaW1hdGlvblN0eWxlU2hlZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2tleWZyYW1lcyBub3QgaW5pdGlhbGl6ZWQgcHJvcGVybHknKTtcbiAgfVxuXG4gIGFuaW1hdGlvblN0eWxlU2hlZXQuc2hlZXQuaW5zZXJ0UnVsZShydWxlLCBhbmltYXRpb25TdHlsZVNoZWV0LnNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gIHJldHVybiBuYW1lO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBrZXlmcmFtZXM7IiwiLyogQGZsb3cgKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NhbGxiYWNrcyA9IFtdO1xudmFyIF9tb3VzZVVwTGlzdGVuZXJJc0FjdGl2ZSA9IGZhbHNlO1xuXG52YXIgX2hhbmRsZU1vdXNlVXAgPSBmdW5jdGlvbiBfaGFuZGxlTW91c2VVcChldikge1xuICBfY2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2soZXYpO1xuICB9KTtcbn07XG5cbnZhciBzdWJzY3JpYmUgPSBmdW5jdGlvbiBzdWJzY3JpYmUoY2FsbGJhY2spIHtcbiAgaWYgKF9jYWxsYmFja3MuaW5kZXhPZihjYWxsYmFjaykgPT09IC0xKSB7XG4gICAgX2NhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgfVxuXG4gIGlmICghX21vdXNlVXBMaXN0ZW5lcklzQWN0aXZlKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBfaGFuZGxlTW91c2VVcCk7XG4gICAgX21vdXNlVXBMaXN0ZW5lcklzQWN0aXZlID0gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICB2YXIgaW5kZXggPSBfY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgX2NhbGxiYWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuXG4gICAgICBpZiAoX2NhbGxiYWNrcy5sZW5ndGggPT09IDAgJiYgX21vdXNlVXBMaXN0ZW5lcklzQWN0aXZlKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgX2hhbmRsZU1vdXNlVXApO1xuICAgICAgICBfbW91c2VVcExpc3RlbmVySXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc3Vic2NyaWJlOiBzdWJzY3JpYmVcbn07IiwiLyoqXG4gKiBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vanNzdHlsZXMvY3NzLXZlbmRvciwgYnV0IHdpdGhvdXQgaGF2aW5nIHRvXG4gKiBjb252ZXJ0IGJldHdlZW4gZGlmZmVyZW50IGNhc2VzIGFsbCB0aGUgdGltZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJ2V4ZW52Jyk7XG52YXIgYXJyYXlGaW5kID0gcmVxdWlyZSgnYXJyYXktZmluZCcpO1xuXG52YXIgaW5mb0J5Q3NzUHJlZml4ID0ge1xuICAnLW1vei0nOiB7XG4gICAgY3NzUHJlZml4OiAnLW1vei0nLFxuICAgIGpzUHJlZml4OiAnTW96JyxcbiAgICBhbHRlcm5hdGl2ZVByb3BlcnRpZXM6IHtcbiAgICAgIC8vIE9MRCAtIEZpcmVmb3ggMTktXG4gICAgICBmbGV4OiBbeyBjc3M6ICctbW96LWJveC1mbGV4JywganM6ICdNb3pCb3hGbGV4JyB9XSxcbiAgICAgIG9yZGVyOiBbeyBjc3M6ICctbW96LWJveC1vcmRpbmFsLWdyb3VwJywganM6ICdNb3pCb3hPcmRpbmFsR3JvdXAnIH1dXG4gICAgfSxcbiAgICBhbHRlcm5hdGl2ZVZhbHVlczoge1xuICAgICAgZGlzcGxheToge1xuICAgICAgICAvLyBPTEQgLSBGaXJlZm94IDE5LVxuICAgICAgICBmbGV4OiBbJy1tb3otYm94J11cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gICctbXMtJzoge1xuICAgIGNzc1ByZWZpeDogJy1tcy0nLFxuICAgIGpzUHJlZml4OiAnbXMnLFxuICAgIGFsdGVybmF0aXZlVmFsdWVzOiB7XG4gICAgICBkaXNwbGF5OiB7XG4gICAgICAgIC8vIFRXRUVORVIgLSBJRSAxMFxuICAgICAgICBmbGV4OiBbJy1tcy1mbGV4Ym94J10sXG4gICAgICAgIG9yZGVyOiBbJy1tcy1mbGV4LW9yZGVyJ11cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gICctby0nOiB7XG4gICAgY3NzUHJlZml4OiAnLW8tJyxcbiAgICBqc1ByZWZpeDogJ08nXG4gIH0sXG4gICctd2Via2l0LSc6IHtcbiAgICBjc3NQcmVmaXg6ICctd2Via2l0LScsXG4gICAganNQcmVmaXg6ICdXZWJraXQnLFxuICAgIGFsdGVybmF0aXZlUHJvcGVydGllczoge1xuICAgICAgLy8gT0xEIC0gaU9TIDYtLCBTYWZhcmkgMy4xLTZcbiAgICAgIGZsZXg6IFt7IGNzczogJy13ZWJraXQtYm94LWZsZXgnLCBqczogJ1dlYmtpdEJveEZsZXgnIH1dLFxuICAgICAgb3JkZXI6IFt7IGNzczogJy13ZWJraXQtYm94LW9yZGluYWwtZ3JvdXAnLCBqczogJ1dlYmtpdEJveE9yZGluYWxHcm91cCcgfV1cbiAgICB9LFxuICAgIGFsdGVybmF0aXZlVmFsdWVzOiB7XG4gICAgICBkaXNwbGF5OiB7XG4gICAgICAgIGZsZXg6IFsnLXdlYmtpdC1ib3gnXSAvLyBPTEQgLSBpT1MgNi0sIFNhZmFyaSAzLjEtNlxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBDU1MgcHJvcGVydGllcyB3aGljaCBhY2NlcHQgbnVtYmVycyBidXQgYXJlIG5vdCBpbiB1bml0cyBvZiBcInB4XCIuXG4gKiBDb3BpZWQgZnJvbSBSZWFjdCBjb3JlIEp1bmUgMjIsIDIwMTUuXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9cbiAqIGJhODFiNjBhZDhlOTNiNzQ3YmU0MmEwM2I3OTcwNjU5MzJjNDljOTYvXG4gKiBzcmMvcmVuZGVyZXJzL2RvbS9zaGFyZWQvQ1NTUHJvcGVydHkuanNcbiAqL1xudmFyIGlzVW5pdGxlc3NOdW1iZXIgPSB7XG4gIGJveEZsZXg6IHRydWUsXG4gIGJveEZsZXhHcm91cDogdHJ1ZSxcbiAgY29sdW1uQ291bnQ6IHRydWUsXG4gIGZsZXg6IHRydWUsXG4gIGZsZXhHcm93OiB0cnVlLFxuICBmbGV4UG9zaXRpdmU6IHRydWUsXG4gIGZsZXhTaHJpbms6IHRydWUsXG4gIGZsZXhOZWdhdGl2ZTogdHJ1ZSxcbiAgZm9udFdlaWdodDogdHJ1ZSxcbiAgbGluZUNsYW1wOiB0cnVlLFxuICBsaW5lSGVpZ2h0OiB0cnVlLFxuICBvcGFjaXR5OiB0cnVlLFxuICBvcmRlcjogdHJ1ZSxcbiAgb3JwaGFuczogdHJ1ZSxcbiAgdGFiU2l6ZTogdHJ1ZSxcbiAgd2lkb3dzOiB0cnVlLFxuICB6SW5kZXg6IHRydWUsXG4gIHpvb206IHRydWUsXG5cbiAgLy8gU1ZHLXJlbGF0ZWQgcHJvcGVydGllc1xuICBmaWxsT3BhY2l0eTogdHJ1ZSxcbiAgc3Ryb2tlRGFzaG9mZnNldDogdHJ1ZSxcbiAgc3Ryb2tlT3BhY2l0eTogdHJ1ZSxcbiAgc3Ryb2tlV2lkdGg6IHRydWVcbn07XG5cbnZhciBkb21TdHlsZSA9IHt9O1xudmFyIHByZWZpeGVkUHJvcGVydHlDYWNoZSA9IHt9O1xudmFyIHByZWZpeGVkVmFsdWVDYWNoZSA9IHt9O1xudmFyIHByZWZpeEluZm8gPSB7XG4gIGNzc1ByZWZpeDogJycsXG4gIGpzUHJlZml4OiAnJ1xufTtcblxuaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICBkb21TdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKS5zdHlsZTtcblxuICAvLyBCYXNlZCBvbiBodHRwOi8vZGF2aWR3YWxzaC5uYW1lL3ZlbmRvci1wcmVmaXhcbiAgdmFyIHdpbmRvd1N0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgJycpO1xuICB2YXIgcHJlZml4TWF0Y2ggPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh3aW5kb3dTdHlsZXMpLmpvaW4oJycpLm1hdGNoKC8tKG1venx3ZWJraXR8bXN8byktLyk7XG4gIHZhciBjc3NWZW5kb3JQcmVmaXggPSBwcmVmaXhNYXRjaCAmJiBwcmVmaXhNYXRjaFswXTtcblxuICBwcmVmaXhJbmZvID0gaW5mb0J5Q3NzUHJlZml4W2Nzc1ZlbmRvclByZWZpeF0gfHwgcHJlZml4SW5mbztcbn1cblxudmFyIF9jYW1lbENhc2VSZWdleCA9IC8oW2Etel0pPyhbQS1aXSkvZztcbnZhciBfY2FtZWxDYXNlUmVwbGFjZXIgPSBmdW5jdGlvbiBfY2FtZWxDYXNlUmVwbGFjZXIobWF0Y2gsIHAxLCBwMikge1xuICByZXR1cm4gcDEgKyAnLScgKyBwMi50b0xvd2VyQ2FzZSgpO1xufTtcbnZhciBfY2FtZWxDYXNlVG9EYXNoQ2FzZSA9IGZ1bmN0aW9uIF9jYW1lbENhc2VUb0Rhc2hDYXNlKHMpIHtcbiAgcmV0dXJuIHMucmVwbGFjZShfY2FtZWxDYXNlUmVnZXgsIF9jYW1lbENhc2VSZXBsYWNlcik7XG59O1xuXG52YXIgZ2V0UHJlZml4ZWRQcm9wZXJ0eU5hbWUgPSBmdW5jdGlvbiBnZXRQcmVmaXhlZFByb3BlcnR5TmFtZShwcm9wZXJ0eSkge1xuICBpZiAocHJlZml4ZWRQcm9wZXJ0eUNhY2hlLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgIHJldHVybiBwcmVmaXhlZFByb3BlcnR5Q2FjaGVbcHJvcGVydHldO1xuICB9XG5cbiAgdmFyIHVucHJlZml4ZWQgPSB7XG4gICAgY3NzOiBfY2FtZWxDYXNlVG9EYXNoQ2FzZShwcm9wZXJ0eSksXG4gICAganM6IHByb3BlcnR5LFxuICAgIGlzRGVmYXVsdEZvclNlcnZlcjogdHJ1ZVxuICB9O1xuXG4gIC8vIFRyeSB0aGUgcHJlZml4ZWQgdmVyc2lvbiBmaXJzdC4gQ2hyb21lIGluIHBhcnRpY3VsYXIgaGFzIHRoZSBgZmlsdGVyYCBhbmRcbiAgLy8gYHdlYmtpdEZpbHRlcmAgcHJvcGVydGllcyBhdmFpbGFsYmUgb24gdGhlIHN0eWxlIG9iamVjdCwgYnV0IG9ubHkgdGhlXG4gIC8vIHByZWZpeGVkIHZlcnNpb24gYWN0dWFsbHkgd29ya3MuXG4gIHZhciBwb3NzaWJsZVByb3BlcnR5TmFtZXMgPSBbXG4gIC8vIFByZWZpeGVkXG4gIHtcbiAgICBjc3M6IHByZWZpeEluZm8uY3NzUHJlZml4ICsgX2NhbWVsQ2FzZVRvRGFzaENhc2UocHJvcGVydHkpLFxuICAgIGpzOiBwcmVmaXhJbmZvLmpzUHJlZml4ICsgcHJvcGVydHlbMF0udG9VcHBlckNhc2UoKSArIHByb3BlcnR5LnNsaWNlKDEpXG4gIH0sIHVucHJlZml4ZWRdO1xuXG4gIC8vIEFsdGVybmF0aXZlIHByb3BlcnR5IG5hbWVzXG4gIGlmIChwcmVmaXhJbmZvLmFsdGVybmF0aXZlUHJvcGVydGllcyAmJiBwcmVmaXhJbmZvLmFsdGVybmF0aXZlUHJvcGVydGllc1twcm9wZXJ0eV0pIHtcbiAgICBwb3NzaWJsZVByb3BlcnR5TmFtZXMgPSBwb3NzaWJsZVByb3BlcnR5TmFtZXMuY29uY2F0KHByZWZpeEluZm8uYWx0ZXJuYXRpdmVQcm9wZXJ0aWVzW3Byb3BlcnR5XSk7XG4gIH1cblxuICB2YXIgd29ya2luZ1Byb3BlcnR5ID0gYXJyYXlGaW5kKHBvc3NpYmxlUHJvcGVydHlOYW1lcywgZnVuY3Rpb24gKHBvc3NpYmxlUHJvcGVydHlOYW1lKSB7XG4gICAgaWYgKHBvc3NpYmxlUHJvcGVydHlOYW1lLmpzIGluIGRvbVN0eWxlKSB7XG4gICAgICByZXR1cm4gcG9zc2libGVQcm9wZXJ0eU5hbWU7XG4gICAgfVxuICB9KSB8fCBmYWxzZTtcblxuICByZXR1cm4gcHJlZml4ZWRQcm9wZXJ0eUNhY2hlW3Byb3BlcnR5XSA9IHdvcmtpbmdQcm9wZXJ0eTtcbn07XG5cbi8vIFJlYWN0IGlzIHBsYW5uaW5nIHRvIGRlcHJlY2F0ZSBhZGRpbmcgcHggYXV0b21hdGljYWxseVxuLy8gKGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTg3MyksIGFuZCBpZiB0aGV5IGRvLCB0aGlzXG4vLyBzaG91bGQgY2hhbmdlIHRvIGEgd2FybmluZyBvciBiZSByZW1vdmVkIGluIGZhdm9yIG9mIFJlYWN0J3Mgd2FybmluZy5cbi8vIFNhbWUgZ29lcyBmb3IgYmVsb3cuXG52YXIgX2FkZFBpeGVsU3VmZml4VG9WYWx1ZUlmTmVlZGVkID0gZnVuY3Rpb24gX2FkZFBpeGVsU3VmZml4VG9WYWx1ZUlmTmVlZGVkKG9yaWdpbmFsUHJvcGVydHksIHZhbHVlKSB7XG4gIGlmICh2YWx1ZSAhPT0gMCAmJiAhaXNOYU4odmFsdWUpICYmICFpc1VuaXRsZXNzTnVtYmVyW29yaWdpbmFsUHJvcGVydHldKSB7XG4gICAgcmV0dXJuIHZhbHVlICsgJ3B4JztcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59O1xuXG52YXIgX2dldFByZWZpeGVkVmFsdWUgPSBmdW5jdGlvbiBfZ2V0UHJlZml4ZWRWYWx1ZShwcm9wZXJ0eSwgdmFsdWUsIG9yaWdpbmFsUHJvcGVydHkpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIC8vIGRvbid0IHRlc3QgbnVtYmVycyAocHVyZSBvciBzdHJpbmd5KSwgYnV0IGRvIGFkZCAncHgnIHByZWZpeCBpZiBuZWVkZWRcbiAgICBpZiAoIWlzTmFOKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIF9hZGRQaXhlbFN1ZmZpeFRvVmFsdWVJZk5lZWRlZChvcmlnaW5hbFByb3BlcnR5LCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICAvLyBkb24ndCB0ZXN0IG51bWJlcnMgd2l0aCB1bml0cyAoZS5nLiAxMGVtKVxuICAgIGlmICghaXNOYU4ocGFyc2VJbnQodmFsdWUsIDEwKSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH1cblxuICB2YXIgY2FjaGVLZXkgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLmpvaW4oJyB8fCAnKSA6IHByb3BlcnR5ICsgdmFsdWU7XG5cbiAgaWYgKHByZWZpeGVkVmFsdWVDYWNoZS5oYXNPd25Qcm9wZXJ0eShjYWNoZUtleSkpIHtcbiAgICByZXR1cm4gcHJlZml4ZWRWYWx1ZUNhY2hlW2NhY2hlS2V5XTtcbiAgfVxuXG4gIHZhciBwb3NzaWJsZVZhbHVlcztcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgLy8gQWRkIHB4IGZvciB0aGUgc2FtZSB2YWx1ZXMgUmVhY3Qgd291bGQsIG90aGVyd2lzZSB0aGUgdGVzdGluZyBiZWxvdyB3aWxsXG4gICAgLy8gZmFpbCBhbmQgaXQgd2lsbCB0cnkgdG8gZmFsbGJhY2suXG4gICAgcG9zc2libGVWYWx1ZXMgPSB2YWx1ZS5tYXAoZnVuY3Rpb24gKHYpIHtcbiAgICAgIHJldHVybiBfYWRkUGl4ZWxTdWZmaXhUb1ZhbHVlSWZOZWVkZWQob3JpZ2luYWxQcm9wZXJ0eSwgdik7XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgcHJlZml4ZWQgdmVyc2lvbnNcbiAgICBwb3NzaWJsZVZhbHVlcyA9IHBvc3NpYmxlVmFsdWVzLmNvbmNhdCh2YWx1ZS5maWx0ZXIoZnVuY3Rpb24gKHYpIHtcbiAgICAgIHJldHVybiAhaXNOYU4odik7XG4gICAgfSkgLy8gRG9uJ3QgcHJlZml4IG51bWJlcnNcbiAgICAubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICByZXR1cm4gcHJlZml4SW5mby5jc3NQcmVmaXggKyB2O1xuICAgIH0pKTtcbiAgfSBlbHNlIHtcbiAgICBwb3NzaWJsZVZhbHVlcyA9IFtcbiAgICAvLyBVbnByZWZpeGVkXG4gICAgdmFsdWUsXG4gICAgLy8gUHJlZml4ZWRcbiAgICBwcmVmaXhJbmZvLmNzc1ByZWZpeCArIHZhbHVlXTtcbiAgfVxuXG4gIC8vIEFsdGVybmF0aXZlIHZhbHVlc1xuICBpZiAocHJlZml4SW5mby5hbHRlcm5hdGl2ZVZhbHVlcyAmJiBwcmVmaXhJbmZvLmFsdGVybmF0aXZlVmFsdWVzW29yaWdpbmFsUHJvcGVydHldICYmIHByZWZpeEluZm8uYWx0ZXJuYXRpdmVWYWx1ZXNbb3JpZ2luYWxQcm9wZXJ0eV1bdmFsdWVdKSB7XG4gICAgcG9zc2libGVWYWx1ZXMgPSBwb3NzaWJsZVZhbHVlcy5jb25jYXQocHJlZml4SW5mby5hbHRlcm5hdGl2ZVZhbHVlc1tvcmlnaW5hbFByb3BlcnR5XVt2YWx1ZV0pO1xuICB9XG5cbiAgLy8gVGVzdCBwb3NzaWJsZSB2YWx1ZSBpbiBvcmRlclxuICB2YXIgd29ya2luZ1ZhbHVlID0gYXJyYXlGaW5kKHBvc3NpYmxlVmFsdWVzLCBmdW5jdGlvbiAocG9zc2libGVWYWx1ZSkge1xuICAgIGRvbVN0eWxlW3Byb3BlcnR5XSA9ICcnO1xuICAgIGRvbVN0eWxlW3Byb3BlcnR5XSA9IHBvc3NpYmxlVmFsdWU7XG5cbiAgICAvLyBOb3RlIHRoYXQgd2UganVzdCBtYWtlIHN1cmUgaXQgaXMgbm90IGFuIGVtcHR5IHN0cmluZy4gQnJvd3NlcnMgd2lsbFxuICAgIC8vIHNvbWV0aW1lcyByZXdyaXRlIHZhbHVlcywgYnV0IHN0aWxsIGFjY2VwdCB0aGVtLiBUaGV5IHdpbGwgc2V0IHRoZSB2YWx1ZVxuICAgIC8vIHRvIGFuIGVtcHR5IHN0cmluZyBpZiBub3Qgc3VwcG9ydGVkLlxuICAgIC8vIEUuZy4gZm9yIGJvcmRlciwgXCJzb2xpZCAxcHggYmxhY2tcIiBiZWNvbWVzIFwiMXB4IHNvbGlkIGJsYWNrXCJcbiAgICAvLyAgICAgIGJ1dCBcImZvb2JhclwiIGJlY29tZXMgXCJcIiwgc2luY2UgaXQgaXMgbm90IHN1cHBvcnRlZC5cbiAgICByZXR1cm4gISFkb21TdHlsZVtwcm9wZXJ0eV07XG4gIH0pO1xuXG4gIGlmICh3b3JraW5nVmFsdWUpIHtcbiAgICBwcmVmaXhlZFZhbHVlQ2FjaGVbY2FjaGVLZXldID0gd29ya2luZ1ZhbHVlO1xuICB9IGVsc2Uge1xuICAgIC8vIFVuc3VwcG9ydGVkLCBhc3N1bWUgdW5wcmVmaXhlZCB3b3JrcywgYnV0IHdhcm5cbiAgICBwcmVmaXhlZFZhbHVlQ2FjaGVbY2FjaGVLZXldID0gdmFsdWU7XG5cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gICAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1Vuc3VwcG9ydGVkIENTUyB2YWx1ZSBcIicgKyB2YWx1ZSArICdcIiBmb3IgcHJvcGVydHkgXCInICsgcHJvcGVydHkgKyAnXCInKTtcbiAgICB9XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gIH1cblxuICByZXR1cm4gcHJlZml4ZWRWYWx1ZUNhY2hlW2NhY2hlS2V5XTtcbn07XG5cbi8vIFJldHVybnMgYSBuZXcgc3R5bGUgb2JqZWN0IHdpdGggdmVuZG9yIHByZWZpeGVzIGFkZGVkIHRvIHByb3BlcnR5IG5hbWVzXG4vLyBhbmQgdmFsdWVzLlxudmFyIGdldFByZWZpeGVkU3R5bGUgPSBmdW5jdGlvbiBnZXRQcmVmaXhlZFN0eWxlKHN0eWxlLCBtb2RlIC8qICdjc3MnIG9yICdqcycgKi8pIHtcbiAgbW9kZSA9IG1vZGUgfHwgJ2pzJztcblxuICBpZiAoIUV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhzdHlsZSkucmVkdWNlKGZ1bmN0aW9uIChuZXdTdHlsZSwga2V5KSB7XG4gICAgICB2YXIgdmFsdWUgPSBzdHlsZVtrZXldO1xuICAgICAgdmFyIG5ld0tleSA9IG1vZGUgPT09ICdjc3MnID8gX2NhbWVsQ2FzZVRvRGFzaENhc2Uoa2V5KSA6IGtleTtcbiAgICAgIHZhciBuZXdWYWx1ZSA9IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWVbMF0gOiB2YWx1ZTtcbiAgICAgIG5ld1N0eWxlW25ld0tleV0gPSBuZXdWYWx1ZTtcbiAgICAgIHJldHVybiBuZXdTdHlsZTtcbiAgICB9LCB7fSk7XG4gIH1cblxuICB2YXIgcHJlZml4ZWRTdHlsZSA9IHt9O1xuICBPYmplY3Qua2V5cyhzdHlsZSkuZm9yRWFjaChmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICB2YXIgdmFsdWUgPSBzdHlsZVtwcm9wZXJ0eV07XG5cbiAgICB2YXIgbmV3UHJvcGVydHkgPSBnZXRQcmVmaXhlZFByb3BlcnR5TmFtZShwcm9wZXJ0eSk7XG4gICAgaWYgKG5ld1Byb3BlcnR5ID09PSBmYWxzZSkge1xuICAgICAgLy8gSWdub3JlIHVuc3VwcG9ydGVkIHByb3BlcnRpZXNcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgIGlmIChjb25zb2xlICYmIGNvbnNvbGUud2Fybikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1Vuc3VwcG9ydGVkIENTUyBwcm9wZXJ0eSBcIicgKyBwcm9wZXJ0eSArICdcIicpO1xuICAgICAgfVxuICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG5ld1ZhbHVlID0gX2dldFByZWZpeGVkVmFsdWUobmV3UHJvcGVydHkuanMsIHZhbHVlLCBwcm9wZXJ0eSk7XG5cbiAgICBwcmVmaXhlZFN0eWxlW25ld1Byb3BlcnR5W21vZGVdXSA9IG5ld1ZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIHByZWZpeGVkU3R5bGU7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0UHJlZml4ZWRQcm9wZXJ0eU5hbWU6IGdldFByZWZpeGVkUHJvcGVydHlOYW1lLFxuICBnZXRQcmVmaXhlZFN0eWxlOiBnZXRQcmVmaXhlZFN0eWxlLFxuICBjc3NQcmVmaXg6IHByZWZpeEluZm8uY3NzUHJlZml4LFxuICBqc1ByZWZpeDogcHJlZml4SW5mby5qc1ByZWZpeFxufTsiLCIvKiBAZmxvdyAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBNb3VzZVVwTGlzdGVuZXIgPSByZXF1aXJlKCcuL21vdXNlLXVwLWxpc3RlbmVyJyk7XG52YXIgZ2V0U3RhdGUgPSByZXF1aXJlKCcuL2dldC1zdGF0ZScpO1xudmFyIFByZWZpeGVyID0gcmVxdWlyZSgnLi9wcmVmaXhlcicpO1xudmFyIENvbmZpZyA9IHJlcXVpcmUoJy4vY29uZmlnJyk7XG5cbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJ2V4ZW52Jyk7XG52YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdy5SZWFjdCA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwuUmVhY3QgOiBudWxsKTtcbnZhciBvYmplY3RBc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG5cbi8vIGJhYmVsLWVzbGludCAzLjEuNyBmYWlscyBoZXJlIGZvciBzb21lIHJlYXNvbiwgZXJyb3I6XG4vLyAgIDA6MCAgZXJyb3IgIENhbm5vdCBjYWxsIG1ldGhvZCAnaXNTZXF1ZW5jZUV4cHJlc3Npb24nIG9mIHVuZGVmaW5lZFxuLy9cbi8vIGRlY2xhcmUgY2xhc3MgUmFkaXVtQ29tcG9uZW50IGV4dGVuZHMgUmVhY3RDb21wb25lbnQge1xuLy8gICBfbGFzdE1vdXNlRG93bjogbnVtYmVyLFxuLy8gICBfcmFkaXVtTWVkaWFRdWVyeUxpc3RlbmVyc0J5UXVlcnk6IE9iamVjdDxzdHJpbmcsIHtyZW1vdmU6ICgpID0+IHZvaWR9Pixcbi8vICAgX3JhZGl1bU1vdXNlVXBMaXN0ZW5lcjoge3JlbW92ZTogKCkgPT4gdm9pZH0sXG4vLyB9XG5cbnZhciBtZWRpYVF1ZXJ5TGlzdEJ5UXVlcnlTdHJpbmcgPSB7fTtcblxudmFyIF9pc1NwZWNpYWxLZXkgPSBmdW5jdGlvbiBfaXNTcGVjaWFsS2V5KGtleSkge1xuICByZXR1cm4ga2V5WzBdID09PSAnOicgfHwga2V5WzBdID09PSAnQCc7XG59O1xuXG52YXIgX2dldFN0eWxlU3RhdGUgPSBmdW5jdGlvbiBfZ2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIGdldFN0YXRlKGNvbXBvbmVudC5zdGF0ZSwga2V5LCB2YWx1ZSk7XG59O1xuXG52YXIgX3NldFN0eWxlU3RhdGUgPSBmdW5jdGlvbiBfc2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgbmV3U3RhdGUpIHtcbiAgdmFyIGV4aXN0aW5nID0gY29tcG9uZW50LnN0YXRlICYmIGNvbXBvbmVudC5zdGF0ZS5fcmFkaXVtU3R5bGVTdGF0ZSB8fCB7fTtcbiAgdmFyIHN0YXRlID0geyBfcmFkaXVtU3R5bGVTdGF0ZTogb2JqZWN0QXNzaWduKHt9LCBleGlzdGluZykgfTtcbiAgc3RhdGUuX3JhZGl1bVN0eWxlU3RhdGVba2V5XSA9IHN0YXRlLl9yYWRpdW1TdHlsZVN0YXRlW2tleV0gfHwge307XG4gIG9iamVjdEFzc2lnbihzdGF0ZS5fcmFkaXVtU3R5bGVTdGF0ZVtrZXldLCBuZXdTdGF0ZSk7XG4gIGNvbXBvbmVudC5zZXRTdGF0ZShzdGF0ZSk7XG59O1xuXG4vLyBNZXJnZSBzdHlsZSBvYmplY3RzLiBTcGVjaWFsIGNhc2luZyBmb3IgcHJvcHMgc3RhcnRpbmcgd2l0aCAnOyc7IHRoZSB2YWx1ZXNcbi8vIHNob3VsZCBiZSBvYmplY3RzLCBhbmQgYXJlIG1lcmdlZCB3aXRoIG90aGVycyBvZiB0aGUgc2FtZSBuYW1lIChpbnN0ZWFkIG9mXG4vLyBvdmVyd3JpdGluZykuXG52YXIgX21lcmdlU3R5bGVzID0gZnVuY3Rpb24gX21lcmdlU3R5bGVzKHN0eWxlcykge1xuICB2YXIgcmVzdWx0ID0ge307XG5cbiAgc3R5bGVzLmZvckVhY2goZnVuY3Rpb24gKHN0eWxlKSB7XG4gICAgaWYgKCFzdHlsZSB8fCB0eXBlb2Ygc3R5bGUgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkoc3R5bGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgT2JqZWN0LmtleXMoc3R5bGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKF9pc1NwZWNpYWxLZXkoa2V5KSAmJiByZXN1bHRba2V5XSkge1xuICAgICAgICByZXN1bHRba2V5XSA9IF9tZXJnZVN0eWxlcyhbcmVzdWx0W2tleV0sIHN0eWxlW2tleV1dKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gc3R5bGVba2V5XTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbnZhciBfbW91c2VVcCA9IGZ1bmN0aW9uIF9tb3VzZVVwKGNvbXBvbmVudCkge1xuICBPYmplY3Qua2V5cyhjb21wb25lbnQuc3RhdGUuX3JhZGl1bVN0eWxlU3RhdGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmIChfZ2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgJzphY3RpdmUnKSkge1xuICAgICAgX3NldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksIHsgJzphY3RpdmUnOiBmYWxzZSB9KTtcbiAgICB9XG4gIH0pO1xufTtcblxudmFyIF9vbk1lZGlhUXVlcnlDaGFuZ2UgPSBmdW5jdGlvbiBfb25NZWRpYVF1ZXJ5Q2hhbmdlKGNvbXBvbmVudCwgcXVlcnksIG1lZGlhUXVlcnlMaXN0KSB7XG4gIHZhciBzdGF0ZSA9IHt9O1xuICBzdGF0ZVtxdWVyeV0gPSBtZWRpYVF1ZXJ5TGlzdC5tYXRjaGVzO1xuICBfc2V0U3R5bGVTdGF0ZShjb21wb25lbnQsICdfYWxsJywgc3RhdGUpO1xufTtcblxudmFyIF9yZXNvbHZlTWVkaWFRdWVyeVN0eWxlcyA9IGZ1bmN0aW9uIF9yZXNvbHZlTWVkaWFRdWVyeVN0eWxlcyhjb21wb25lbnQsIHN0eWxlKSB7XG4gIGlmICghQ29uZmlnLmNhbk1hdGNoTWVkaWEoKSkge1xuICAgIHJldHVybiBzdHlsZTtcbiAgfVxuXG4gIE9iamVjdC5rZXlzKHN0eWxlKS5maWx0ZXIoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gbmFtZVswXSA9PT0gJ0AnO1xuICB9KS5tYXAoZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgdmFyIG1lZGlhUXVlcnlTdHlsZXMgPSBzdHlsZVtxdWVyeV07XG4gICAgcXVlcnkgPSBxdWVyeS5yZXBsYWNlKCdAbWVkaWEgJywgJycpO1xuXG4gICAgLy8gQ3JlYXRlIGEgZ2xvYmFsIE1lZGlhUXVlcnlMaXN0IGlmIG9uZSBkb2Vzbid0IGFscmVhZHkgZXhpc3RcbiAgICB2YXIgbXFsID0gbWVkaWFRdWVyeUxpc3RCeVF1ZXJ5U3RyaW5nW3F1ZXJ5XTtcbiAgICBpZiAoIW1xbCkge1xuICAgICAgbWVkaWFRdWVyeUxpc3RCeVF1ZXJ5U3RyaW5nW3F1ZXJ5XSA9IG1xbCA9IENvbmZpZy5tYXRjaE1lZGlhKHF1ZXJ5KTtcbiAgICB9XG5cbiAgICAvLyBLZWVwIHRyYWNrIG9mIHdoaWNoIGtleXMgYWxyZWFkeSBoYXZlIGxpc3RlbmVyc1xuICAgIGlmICghY29tcG9uZW50Ll9yYWRpdW1NZWRpYVF1ZXJ5TGlzdGVuZXJzQnlRdWVyeSkge1xuICAgICAgY29tcG9uZW50Ll9yYWRpdW1NZWRpYVF1ZXJ5TGlzdGVuZXJzQnlRdWVyeSA9IHt9O1xuICAgIH1cblxuICAgIGlmICghY29tcG9uZW50Ll9yYWRpdW1NZWRpYVF1ZXJ5TGlzdGVuZXJzQnlRdWVyeVtxdWVyeV0pIHtcbiAgICAgIHZhciBsaXN0ZW5lciA9IF9vbk1lZGlhUXVlcnlDaGFuZ2UuYmluZChudWxsLCBjb21wb25lbnQsIHF1ZXJ5KTtcbiAgICAgIG1xbC5hZGRMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICBjb21wb25lbnQuX3JhZGl1bU1lZGlhUXVlcnlMaXN0ZW5lcnNCeVF1ZXJ5W3F1ZXJ5XSA9IHtcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICAgICAgbXFsLnJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBBcHBseSBtZWRpYSBxdWVyeSBzdGF0ZXNcbiAgICBpZiAobXFsLm1hdGNoZXMpIHtcbiAgICAgIHN0eWxlID0gX21lcmdlU3R5bGVzKFtzdHlsZSwgbWVkaWFRdWVyeVN0eWxlc10pO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHN0eWxlO1xufTtcblxuLy9cbi8vIFRoZSBudWNsZXVzIG9mIFJhZGl1bS4gcmVzb2x2ZVN0eWxlcyBpcyBjYWxsZWQgb24gdGhlIHJlbmRlcmVkIGVsZW1lbnRzXG4vLyBiZWZvcmUgdGhleSBhcmUgcmV0dXJuZWQgaW4gcmVuZGVyLiBJdCBpdGVyYXRlcyBvdmVyIHRoZSBlbGVtZW50cyBhbmRcbi8vIGNoaWxkcmVuLCByZXdyaXRpbmcgcHJvcHMgdG8gYWRkIGV2ZW50IGhhbmRsZXJzIHJlcXVpcmVkIHRvIGNhcHR1cmUgdXNlclxuLy8gaW50ZXJhY3Rpb25zIChlLmcuIG1vdXNlIG92ZXIpLiBJdCBhbHNvIHJlcGxhY2VzIHRoZSBzdHlsZSBwcm9wIGJlY2F1c2UgaXRcbi8vIGFkZHMgaW4gdGhlIHZhcmlvdXMgaW50ZXJhY3Rpb24gc3R5bGVzIChlLmcuIDpob3ZlcikuXG4vL1xudmFyIHJlc29sdmVTdHlsZXMgPSBmdW5jdGlvbiByZXNvbHZlU3R5bGVzKGNvbXBvbmVudCwgLy8gUmVhY3RDb21wb25lbnQsIGZsb3crZXNsaW50IGNvbXBsYWluaW5nXG5yZW5kZXJlZEVsZW1lbnQsIC8vIFJlYWN0RWxlbWVudFxuZXhpc3RpbmdLZXlNYXApIHtcbiAgLy8gUmVhY3RFbGVtZW50XG4gIGV4aXN0aW5nS2V5TWFwID0gZXhpc3RpbmdLZXlNYXAgfHwge307XG5cbiAgaWYgKCFyZW5kZXJlZEVsZW1lbnQpIHtcbiAgICByZXR1cm4gcmVuZGVyZWRFbGVtZW50O1xuICB9XG5cbiAgLy8gUmVjdXJzZSBvdmVyIGNoaWxkcmVuIGZpcnN0IGluIGNhc2Ugd2UgYmFpbCBlYXJseS4gTm90ZSB0aGF0IGNoaWxkcmVuIG9ubHlcbiAgLy8gaW5jbHVkZSB0aG9zZSByZW5kZXJlZCBpbiBgdGhpc2AgY29tcG9uZW50LiBDaGlsZCBub2RlcyBpbiBvdGhlciBjb21wb25lbnRzXG4gIC8vIHdpbGwgbm90IGJlIGhlcmUsIHNvIGVhY2ggY29tcG9uZW50IG5lZWRzIHRvIHVzZSBSYWRpdW0uXG4gIHZhciBuZXdDaGlsZHJlbiA9IG51bGw7XG4gIHZhciBvbGRDaGlsZHJlbiA9IHJlbmRlcmVkRWxlbWVudC5wcm9wcy5jaGlsZHJlbjtcbiAgaWYgKG9sZENoaWxkcmVuKSB7XG4gICAgdmFyIGNoaWxkcmVuVHlwZSA9IHR5cGVvZiBvbGRDaGlsZHJlbjtcbiAgICBpZiAoY2hpbGRyZW5UeXBlID09PSAnc3RyaW5nJyB8fCBjaGlsZHJlblR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAvLyBEb24ndCBkbyBhbnl0aGluZyB3aXRoIGEgc2luZ2xlIHByaW1pdGl2ZSBjaGlsZFxuICAgICAgbmV3Q2hpbGRyZW4gPSBvbGRDaGlsZHJlbjtcbiAgICB9IGVsc2UgaWYgKFJlYWN0LkNoaWxkcmVuLmNvdW50KG9sZENoaWxkcmVuKSA9PT0gMSAmJiBvbGRDaGlsZHJlbi50eXBlKSB7XG4gICAgICAvLyBJZiBhIFJlYWN0IEVsZW1lbnQgaXMgYW4gb25seSBjaGlsZCwgZG9uJ3Qgd3JhcCBpdCBpbiBhbiBhcnJheSBmb3JcbiAgICAgIC8vIFJlYWN0LkNoaWxkcmVuLm1hcCgpIGZvciBSZWFjdC5DaGlsZHJlbi5vbmx5KCkgY29tcGF0aWJpbGl0eS5cbiAgICAgIHZhciBvbmx5Q2hpbGQgPSBSZWFjdC5DaGlsZHJlbi5vbmx5KG9sZENoaWxkcmVuKTtcbiAgICAgIG5ld0NoaWxkcmVuID0gcmVzb2x2ZVN0eWxlcyhjb21wb25lbnQsIG9ubHlDaGlsZCwgZXhpc3RpbmdLZXlNYXApO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdDaGlsZHJlbiA9IFJlYWN0LkNoaWxkcmVuLm1hcChvbGRDaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIGlmIChSZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZCkpIHtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZVN0eWxlcyhjb21wb25lbnQsIGNoaWxkLCBleGlzdGluZ0tleU1hcCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvLyBCYWlsIGVhcmx5IGlmIGVsZW1lbnQgaXMgbm90IGEgc2ltcGxlIFJlYWN0RE9NRWxlbWVudC5cbiAgaWYgKCFSZWFjdC5pc1ZhbGlkRWxlbWVudChyZW5kZXJlZEVsZW1lbnQpIHx8IHR5cGVvZiByZW5kZXJlZEVsZW1lbnQudHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICBpZiAob2xkQ2hpbGRyZW4gPT09IG5ld0NoaWxkcmVuKSB7XG4gICAgICByZXR1cm4gcmVuZGVyZWRFbGVtZW50O1xuICAgIH1cblxuICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQocmVuZGVyZWRFbGVtZW50LCByZW5kZXJlZEVsZW1lbnQucHJvcHMsIG5ld0NoaWxkcmVuKTtcbiAgfVxuXG4gIHZhciBwcm9wcyA9IHJlbmRlcmVkRWxlbWVudC5wcm9wcztcbiAgdmFyIHN0eWxlID0gcHJvcHMuc3R5bGU7XG4gIHZhciBuZXdQcm9wcyA9IHt9O1xuXG4gIC8vIENvbnZlbmllbnQgc3ludGF4IGZvciBtdWx0aXBsZSBzdHlsZXM6IGBzdHlsZT17W3N0eWxlMSwgc3R5bGUyLCBldGNdfWBcbiAgLy8gSWdub3JlcyBub24tb2JqZWN0cywgc28geW91IGNhbiBkbyBgdGhpcy5zdGF0ZS5pc0Nvb2wgJiYgc3R5bGVzLmNvb2xgLlxuICBpZiAoQXJyYXkuaXNBcnJheShzdHlsZSkpIHtcbiAgICBzdHlsZSA9IF9tZXJnZVN0eWxlcyhzdHlsZSk7XG4gIH1cblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIC8vIFdhcm4gaWYgeW91IHVzZSBsb25naGFuZCBhbmQgc2hvcnRoYW5kIHByb3BlcnRpZXMgaW4gdGhlIHNhbWUgc3R5bGVcbiAgICAvLyBvYmplY3QuXG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL1Nob3J0aGFuZF9wcm9wZXJ0aWVzXG5cbiAgICB2YXIgc2hvcnRoYW5kUHJvcHMgPSBbJ2JhY2tncm91bmQnLCAnYm9yZGVyJywgJ2JvcmRlckJvdHRvbScsICdib3JkZXJDb2xvcicsICdib3JkZXJMZWZ0JywgJ2JvcmRlclJhZGl1cycsICdib3JkZXJSaWdodCcsICdib3JkZXJTdHlsZScsICdib3JkZXJUb3AnLCAnYm9yZGVyV2lkdGgnLCAnZm9udCcsICdsaXN0U3R5bGUnLCAnbWFyZ2luJywgJ3BhZGRpbmcnLCAndHJhbnNmb3JtJywgJ3RyYW5zaXRpb24nXTtcblxuICAgIHZhciBjaGVja1Byb3BzID0gZnVuY3Rpb24gY2hlY2tQcm9wcyhzKSB7XG4gICAgICBpZiAodHlwZW9mIHMgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzKTtcbiAgICAgIHNob3J0aGFuZFByb3BzLmZvckVhY2goZnVuY3Rpb24gKHNob3J0aGFuZCkge1xuICAgICAgICBpZiAoc1tzaG9ydGhhbmRdICYmIGtleXMuc29tZShmdW5jdGlvbiAoaykge1xuICAgICAgICAgIHJldHVybiBrICE9PSBzaG9ydGhhbmQgJiYgay5pbmRleE9mKHNob3J0aGFuZCkgPT09IDA7XG4gICAgICAgIH0pKSB7XG4gICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgICAgICAgIGNvbnNvbGUud2FybignUmFkaXVtOiBwcm9wZXJ0eSBcIicgKyBzaG9ydGhhbmQgKyAnXCIgaW4gc3R5bGUgb2JqZWN0Jywgc3R5bGUsICc6IGRvIG5vdCBtaXggbG9uZ2hhbmQgYW5kICcgKyAnc2hvcnRoYW5kIHByb3BlcnRpZXMgaW4gdGhlIHNhbWUgc3R5bGUgb2JqZWN0LiBTZWUgJyArICdodHRwczovL2dpdGh1Yi5jb20vRm9ybWlkYWJsZUxhYnMvcmFkaXVtL2lzc3Vlcy85NSBmb3IgbW9yZSAnICsgJ2luZm9ybWF0aW9uLicpO1xuICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgIHJldHVybiBjaGVja1Byb3BzKHNba10pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjaGVja1Byb3BzKHN0eWxlKTtcbiAgfVxuXG4gIC8vIEJhaWwgZWFybHkgaWYgbm8gaW50ZXJhY3RpdmUgc3R5bGVzLlxuICBpZiAoIXN0eWxlIHx8ICFPYmplY3Qua2V5cyhzdHlsZSkuc29tZShfaXNTcGVjaWFsS2V5KSkge1xuICAgIGlmIChzdHlsZSkge1xuICAgICAgLy8gU3RpbGwgcGVyZm9ybSB2ZW5kb3IgcHJlZml4aW5nLCB0aG91Z2guXG4gICAgICBuZXdQcm9wcy5zdHlsZSA9IFByZWZpeGVyLmdldFByZWZpeGVkU3R5bGUoc3R5bGUpO1xuICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChyZW5kZXJlZEVsZW1lbnQsIG5ld1Byb3BzLCBuZXdDaGlsZHJlbik7XG4gICAgfSBlbHNlIGlmIChuZXdDaGlsZHJlbikge1xuICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChyZW5kZXJlZEVsZW1lbnQsIHt9LCBuZXdDaGlsZHJlbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbmRlcmVkRWxlbWVudDtcbiAgfVxuXG4gIC8vIFdlIG5lZWQgYSB1bmlxdWUga2V5IHRvIGNvcnJlbGF0ZSBzdGF0ZSBjaGFuZ2VzIGR1ZSB0byB1c2VyIGludGVyYWN0aW9uXG4gIC8vIHdpdGggdGhlIHJlbmRlcmVkIGVsZW1lbnQsIHNvIHdlIGtub3cgdG8gYXBwbHkgdGhlIHByb3BlciBpbnRlcmFjdGl2ZVxuICAvLyBzdHlsZXMuXG4gIHZhciBvcmlnaW5hbEtleSA9IHJlbmRlcmVkRWxlbWVudC5yZWYgfHwgcmVuZGVyZWRFbGVtZW50LmtleTtcbiAgdmFyIGtleSA9IG9yaWdpbmFsS2V5IHx8ICdtYWluJztcblxuICBpZiAoZXhpc3RpbmdLZXlNYXBba2V5XSkge1xuICAgIHRocm93IG5ldyBFcnJvcignUmFkaXVtIHJlcXVpcmVzIGVhY2ggZWxlbWVudCB3aXRoIGludGVyYWN0aXZlIHN0eWxlcyB0byBoYXZlIGEgdW5pcXVlICcgKyAna2V5LCBzZXQgdXNpbmcgZWl0aGVyIHRoZSByZWYgb3Iga2V5IHByb3AuICcgKyAob3JpZ2luYWxLZXkgPyAnS2V5IFwiJyArIG9yaWdpbmFsS2V5ICsgJ1wiIGlzIGEgZHVwbGljYXRlLicgOiAnTXVsdGlwbGUgZWxlbWVudHMgaGF2ZSBubyBrZXkgc3BlY2lmaWVkLicpKTtcbiAgfVxuXG4gIGV4aXN0aW5nS2V5TWFwW2tleV0gPSB0cnVlO1xuXG4gIC8vIE1lZGlhIHF1ZXJpZXMgY2FuIGNvbnRhaW4gcHNldWRvIHN0eWxlcywgbGlrZSA6aG92ZXJcbiAgc3R5bGUgPSBfcmVzb2x2ZU1lZGlhUXVlcnlTdHlsZXMoY29tcG9uZW50LCBzdHlsZSk7XG5cbiAgdmFyIG5ld1N0eWxlID0ge307XG4gIE9iamVjdC5rZXlzKHN0eWxlKS5mb3JFYWNoKGZ1bmN0aW9uIChzdHlsZUtleSkge1xuICAgIGlmICghX2lzU3BlY2lhbEtleShzdHlsZUtleSkpIHtcbiAgICAgIG5ld1N0eWxlW3N0eWxlS2V5XSA9IHN0eWxlW3N0eWxlS2V5XTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIE9ubHkgYWRkIGhhbmRsZXJzIGlmIG5lY2Vzc2FyeVxuICBpZiAoc3R5bGVbJzpob3ZlciddIHx8IHN0eWxlWyc6YWN0aXZlJ10pIHtcbiAgICAvLyBBbHdheXMgY2FsbCB0aGUgZXhpc3RpbmcgaGFuZGxlciBpZiBvbmUgaXMgYWxyZWFkeSBkZWZpbmVkLlxuICAgIC8vIFRoaXMgY29kZSwgYW5kIHRoZSB2ZXJ5IHNpbWlsYXIgb25lcyBiZWxvdywgY291bGQgYmUgYWJzdHJhY3RlZCBhIGJpdFxuICAgIC8vIG1vcmUsIGJ1dCBpdCBodXJ0cyByZWFkYWJpbGl0eSBJTU8uXG4gICAgdmFyIGV4aXN0aW5nT25Nb3VzZUVudGVyID0gcHJvcHMub25Nb3VzZUVudGVyO1xuICAgIG5ld1Byb3BzLm9uTW91c2VFbnRlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBleGlzdGluZ09uTW91c2VFbnRlciAmJiBleGlzdGluZ09uTW91c2VFbnRlcihlKTtcbiAgICAgIF9zZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCB7ICc6aG92ZXInOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICB2YXIgZXhpc3RpbmdPbk1vdXNlTGVhdmUgPSBwcm9wcy5vbk1vdXNlTGVhdmU7XG4gICAgbmV3UHJvcHMub25Nb3VzZUxlYXZlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGV4aXN0aW5nT25Nb3VzZUxlYXZlICYmIGV4aXN0aW5nT25Nb3VzZUxlYXZlKGUpO1xuICAgICAgX3NldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksIHsgJzpob3Zlcic6IGZhbHNlIH0pO1xuICAgIH07XG4gIH1cblxuICBpZiAoc3R5bGVbJzphY3RpdmUnXSkge1xuICAgIHZhciBleGlzdGluZ09uTW91c2VEb3duID0gcHJvcHMub25Nb3VzZURvd247XG4gICAgbmV3UHJvcHMub25Nb3VzZURvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZXhpc3RpbmdPbk1vdXNlRG93biAmJiBleGlzdGluZ09uTW91c2VEb3duKGUpO1xuICAgICAgY29tcG9uZW50Ll9sYXN0TW91c2VEb3duID0gRGF0ZS5ub3coKTtcbiAgICAgIF9zZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCB7ICc6YWN0aXZlJzogdHJ1ZSB9KTtcbiAgICB9O1xuICB9XG5cbiAgaWYgKHN0eWxlWyc6Zm9jdXMnXSkge1xuICAgIHZhciBleGlzdGluZ09uRm9jdXMgPSBwcm9wcy5vbkZvY3VzO1xuICAgIG5ld1Byb3BzLm9uRm9jdXMgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZXhpc3RpbmdPbkZvY3VzICYmIGV4aXN0aW5nT25Gb2N1cyhlKTtcbiAgICAgIF9zZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCB7ICc6Zm9jdXMnOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICB2YXIgZXhpc3RpbmdPbkJsdXIgPSBwcm9wcy5vbkJsdXI7XG4gICAgbmV3UHJvcHMub25CbHVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGV4aXN0aW5nT25CbHVyICYmIGV4aXN0aW5nT25CbHVyKGUpO1xuICAgICAgX3NldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksIHsgJzpmb2N1cyc6IGZhbHNlIH0pO1xuICAgIH07XG4gIH1cblxuICAvLyBNZXJnZSB0aGUgc3R5bGVzIGluIHRoZSBvcmRlciB0aGV5IHdlcmUgZGVmaW5lZFxuICB2YXIgaW50ZXJhY3Rpb25TdHlsZXMgPSBPYmplY3Qua2V5cyhzdHlsZSkuZmlsdGVyKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuIG5hbWUgPT09ICc6YWN0aXZlJyAmJiBfZ2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgJzphY3RpdmUnKSB8fCBuYW1lID09PSAnOmhvdmVyJyAmJiBfZ2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgJzpob3ZlcicpIHx8IG5hbWUgPT09ICc6Zm9jdXMnICYmIF9nZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCAnOmZvY3VzJyk7XG4gIH0pLm1hcChmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiBzdHlsZVtuYW1lXTtcbiAgfSk7XG5cbiAgaWYgKGludGVyYWN0aW9uU3R5bGVzLmxlbmd0aCkge1xuICAgIG5ld1N0eWxlID0gX21lcmdlU3R5bGVzKFtuZXdTdHlsZV0uY29uY2F0KGludGVyYWN0aW9uU3R5bGVzKSk7XG4gIH1cblxuICBpZiAoc3R5bGVbJzphY3RpdmUnXSAmJiAhY29tcG9uZW50Ll9yYWRpdW1Nb3VzZVVwTGlzdGVuZXIgJiYgRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRXZlbnRMaXN0ZW5lcnMpIHtcbiAgICBjb21wb25lbnQuX3JhZGl1bU1vdXNlVXBMaXN0ZW5lciA9IE1vdXNlVXBMaXN0ZW5lci5zdWJzY3JpYmUoX21vdXNlVXAuYmluZChudWxsLCBjb21wb25lbnQpKTtcbiAgfVxuXG4gIG5ld1Byb3BzLnN0eWxlID0gUHJlZml4ZXIuZ2V0UHJlZml4ZWRTdHlsZShuZXdTdHlsZSk7XG5cbiAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChyZW5kZXJlZEVsZW1lbnQsIG5ld1Byb3BzLCBuZXdDaGlsZHJlbik7XG59O1xuXG4vLyBFeHBvc2luZyBtZXRob2RzIGZvciB0ZXN0cyBpcyB1Z2x5LCBidXQgdGhlIGFsdGVybmF0aXZlLCByZS1yZXF1aXJpbmcgdGhlXG4vLyBtb2R1bGUgZWFjaCB0aW1lLCBpcyB0b28gc2xvd1xucmVzb2x2ZVN0eWxlcy5fX2NsZWFyU3RhdGVGb3JUZXN0cyA9IGZ1bmN0aW9uICgpIHtcbiAgbWVkaWFRdWVyeUxpc3RCeVF1ZXJ5U3RyaW5nID0ge307XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlc29sdmVTdHlsZXM7IiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBmaW5kKGFycmF5LCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgaWYgKHR5cGVvZiBBcnJheS5wcm90b3R5cGUuZmluZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBhcnJheS5maW5kKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gIH1cblxuICBjb250ZXh0ID0gY29udGV4dCB8fCB0aGlzO1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICB2YXIgaTtcblxuICBpZiAodHlwZW9mIHByZWRpY2F0ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocHJlZGljYXRlICsgJyBpcyBub3QgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIGFycmF5W2ldLCBpLCBhcnJheSkpIHtcbiAgICAgIHJldHVybiBhcnJheVtpXTtcbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmaW5kO1xuIiwiLyohXG4gIENvcHlyaWdodCAoYykgMjAxNSBKZWQgV2F0c29uLlxuICBCYXNlZCBvbiBjb2RlIHRoYXQgaXMgQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgY2FuVXNlRE9NID0gISEoXG5cdFx0dHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcblx0XHR3aW5kb3cuZG9jdW1lbnQgJiZcblx0XHR3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudFxuXHQpO1xuXG5cdHZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHtcblxuXHRcdGNhblVzZURPTTogY2FuVXNlRE9NLFxuXG5cdFx0Y2FuVXNlV29ya2VyczogdHlwZW9mIFdvcmtlciAhPT0gJ3VuZGVmaW5lZCcsXG5cblx0XHRjYW5Vc2VFdmVudExpc3RlbmVyczpcblx0XHRcdGNhblVzZURPTSAmJiAhISh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciB8fCB3aW5kb3cuYXR0YWNoRXZlbnQpLFxuXG5cdFx0Y2FuVXNlVmlld3BvcnQ6IGNhblVzZURPTSAmJiAhIXdpbmRvdy5zY3JlZW5cblxuXHR9O1xuXG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0ZGVmaW5lKGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBFeGVjdXRpb25FbnZpcm9ubWVudDtcblx0XHR9KTtcblx0fSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gRXhlY3V0aW9uRW52aXJvbm1lbnQ7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LkV4ZWN1dGlvbkVudmlyb25tZW50ID0gRXhlY3V0aW9uRW52aXJvbm1lbnQ7XG5cdH1cblxufSgpKTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBwcm9wSXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuZnVuY3Rpb24gVG9PYmplY3QodmFsKSB7XG5cdGlmICh2YWwgPT0gbnVsbCkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkJyk7XG5cdH1cblxuXHRyZXR1cm4gT2JqZWN0KHZhbCk7XG59XG5cbmZ1bmN0aW9uIG93bkVudW1lcmFibGVLZXlzKG9iaikge1xuXHR2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaik7XG5cblx0aWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcblx0XHRrZXlzID0ga2V5cy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmopKTtcblx0fVxuXG5cdHJldHVybiBrZXlzLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG5cdFx0cmV0dXJuIHByb3BJc0VudW1lcmFibGUuY2FsbChvYmosIGtleSk7XG5cdH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdHZhciBmcm9tO1xuXHR2YXIga2V5cztcblx0dmFyIHRvID0gVG9PYmplY3QodGFyZ2V0KTtcblxuXHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdGZyb20gPSBhcmd1bWVudHNbc107XG5cdFx0a2V5cyA9IG93bkVudW1lcmFibGVLZXlzKE9iamVjdChmcm9tKSk7XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHRvW2tleXNbaV1dID0gZnJvbVtrZXlzW2ldXTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdG87XG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cbm1vZHVsZS5leHBvcnRzLkRpc3BhdGNoZXIgPSByZXF1aXJlKCcuL2xpYi9EaXNwYXRjaGVyJylcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgRGlzcGF0Y2hlclxuICogQHR5cGVjaGVja3NcbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJy4vaW52YXJpYW50Jyk7XG5cbnZhciBfbGFzdElEID0gMTtcbnZhciBfcHJlZml4ID0gJ0lEXyc7XG5cbi8qKlxuICogRGlzcGF0Y2hlciBpcyB1c2VkIHRvIGJyb2FkY2FzdCBwYXlsb2FkcyB0byByZWdpc3RlcmVkIGNhbGxiYWNrcy4gVGhpcyBpc1xuICogZGlmZmVyZW50IGZyb20gZ2VuZXJpYyBwdWItc3ViIHN5c3RlbXMgaW4gdHdvIHdheXM6XG4gKlxuICogICAxKSBDYWxsYmFja3MgYXJlIG5vdCBzdWJzY3JpYmVkIHRvIHBhcnRpY3VsYXIgZXZlbnRzLiBFdmVyeSBwYXlsb2FkIGlzXG4gKiAgICAgIGRpc3BhdGNoZWQgdG8gZXZlcnkgcmVnaXN0ZXJlZCBjYWxsYmFjay5cbiAqICAgMikgQ2FsbGJhY2tzIGNhbiBiZSBkZWZlcnJlZCBpbiB3aG9sZSBvciBwYXJ0IHVudGlsIG90aGVyIGNhbGxiYWNrcyBoYXZlXG4gKiAgICAgIGJlZW4gZXhlY3V0ZWQuXG4gKlxuICogRm9yIGV4YW1wbGUsIGNvbnNpZGVyIHRoaXMgaHlwb3RoZXRpY2FsIGZsaWdodCBkZXN0aW5hdGlvbiBmb3JtLCB3aGljaFxuICogc2VsZWN0cyBhIGRlZmF1bHQgY2l0eSB3aGVuIGEgY291bnRyeSBpcyBzZWxlY3RlZDpcbiAqXG4gKiAgIHZhciBmbGlnaHREaXNwYXRjaGVyID0gbmV3IERpc3BhdGNoZXIoKTtcbiAqXG4gKiAgIC8vIEtlZXBzIHRyYWNrIG9mIHdoaWNoIGNvdW50cnkgaXMgc2VsZWN0ZWRcbiAqICAgdmFyIENvdW50cnlTdG9yZSA9IHtjb3VudHJ5OiBudWxsfTtcbiAqXG4gKiAgIC8vIEtlZXBzIHRyYWNrIG9mIHdoaWNoIGNpdHkgaXMgc2VsZWN0ZWRcbiAqICAgdmFyIENpdHlTdG9yZSA9IHtjaXR5OiBudWxsfTtcbiAqXG4gKiAgIC8vIEtlZXBzIHRyYWNrIG9mIHRoZSBiYXNlIGZsaWdodCBwcmljZSBvZiB0aGUgc2VsZWN0ZWQgY2l0eVxuICogICB2YXIgRmxpZ2h0UHJpY2VTdG9yZSA9IHtwcmljZTogbnVsbH1cbiAqXG4gKiBXaGVuIGEgdXNlciBjaGFuZ2VzIHRoZSBzZWxlY3RlZCBjaXR5LCB3ZSBkaXNwYXRjaCB0aGUgcGF5bG9hZDpcbiAqXG4gKiAgIGZsaWdodERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuICogICAgIGFjdGlvblR5cGU6ICdjaXR5LXVwZGF0ZScsXG4gKiAgICAgc2VsZWN0ZWRDaXR5OiAncGFyaXMnXG4gKiAgIH0pO1xuICpcbiAqIFRoaXMgcGF5bG9hZCBpcyBkaWdlc3RlZCBieSBgQ2l0eVN0b3JlYDpcbiAqXG4gKiAgIGZsaWdodERpc3BhdGNoZXIucmVnaXN0ZXIoZnVuY3Rpb24ocGF5bG9hZCkge1xuICogICAgIGlmIChwYXlsb2FkLmFjdGlvblR5cGUgPT09ICdjaXR5LXVwZGF0ZScpIHtcbiAqICAgICAgIENpdHlTdG9yZS5jaXR5ID0gcGF5bG9hZC5zZWxlY3RlZENpdHk7XG4gKiAgICAgfVxuICogICB9KTtcbiAqXG4gKiBXaGVuIHRoZSB1c2VyIHNlbGVjdHMgYSBjb3VudHJ5LCB3ZSBkaXNwYXRjaCB0aGUgcGF5bG9hZDpcbiAqXG4gKiAgIGZsaWdodERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuICogICAgIGFjdGlvblR5cGU6ICdjb3VudHJ5LXVwZGF0ZScsXG4gKiAgICAgc2VsZWN0ZWRDb3VudHJ5OiAnYXVzdHJhbGlhJ1xuICogICB9KTtcbiAqXG4gKiBUaGlzIHBheWxvYWQgaXMgZGlnZXN0ZWQgYnkgYm90aCBzdG9yZXM6XG4gKlxuICogICAgQ291bnRyeVN0b3JlLmRpc3BhdGNoVG9rZW4gPSBmbGlnaHREaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAqICAgICBpZiAocGF5bG9hZC5hY3Rpb25UeXBlID09PSAnY291bnRyeS11cGRhdGUnKSB7XG4gKiAgICAgICBDb3VudHJ5U3RvcmUuY291bnRyeSA9IHBheWxvYWQuc2VsZWN0ZWRDb3VudHJ5O1xuICogICAgIH1cbiAqICAgfSk7XG4gKlxuICogV2hlbiB0aGUgY2FsbGJhY2sgdG8gdXBkYXRlIGBDb3VudHJ5U3RvcmVgIGlzIHJlZ2lzdGVyZWQsIHdlIHNhdmUgYSByZWZlcmVuY2VcbiAqIHRvIHRoZSByZXR1cm5lZCB0b2tlbi4gVXNpbmcgdGhpcyB0b2tlbiB3aXRoIGB3YWl0Rm9yKClgLCB3ZSBjYW4gZ3VhcmFudGVlXG4gKiB0aGF0IGBDb3VudHJ5U3RvcmVgIGlzIHVwZGF0ZWQgYmVmb3JlIHRoZSBjYWxsYmFjayB0aGF0IHVwZGF0ZXMgYENpdHlTdG9yZWBcbiAqIG5lZWRzIHRvIHF1ZXJ5IGl0cyBkYXRhLlxuICpcbiAqICAgQ2l0eVN0b3JlLmRpc3BhdGNoVG9rZW4gPSBmbGlnaHREaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAqICAgICBpZiAocGF5bG9hZC5hY3Rpb25UeXBlID09PSAnY291bnRyeS11cGRhdGUnKSB7XG4gKiAgICAgICAvLyBgQ291bnRyeVN0b3JlLmNvdW50cnlgIG1heSBub3QgYmUgdXBkYXRlZC5cbiAqICAgICAgIGZsaWdodERpc3BhdGNoZXIud2FpdEZvcihbQ291bnRyeVN0b3JlLmRpc3BhdGNoVG9rZW5dKTtcbiAqICAgICAgIC8vIGBDb3VudHJ5U3RvcmUuY291bnRyeWAgaXMgbm93IGd1YXJhbnRlZWQgdG8gYmUgdXBkYXRlZC5cbiAqXG4gKiAgICAgICAvLyBTZWxlY3QgdGhlIGRlZmF1bHQgY2l0eSBmb3IgdGhlIG5ldyBjb3VudHJ5XG4gKiAgICAgICBDaXR5U3RvcmUuY2l0eSA9IGdldERlZmF1bHRDaXR5Rm9yQ291bnRyeShDb3VudHJ5U3RvcmUuY291bnRyeSk7XG4gKiAgICAgfVxuICogICB9KTtcbiAqXG4gKiBUaGUgdXNhZ2Ugb2YgYHdhaXRGb3IoKWAgY2FuIGJlIGNoYWluZWQsIGZvciBleGFtcGxlOlxuICpcbiAqICAgRmxpZ2h0UHJpY2VTdG9yZS5kaXNwYXRjaFRva2VuID1cbiAqICAgICBmbGlnaHREaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAqICAgICAgIHN3aXRjaCAocGF5bG9hZC5hY3Rpb25UeXBlKSB7XG4gKiAgICAgICAgIGNhc2UgJ2NvdW50cnktdXBkYXRlJzpcbiAqICAgICAgICAgICBmbGlnaHREaXNwYXRjaGVyLndhaXRGb3IoW0NpdHlTdG9yZS5kaXNwYXRjaFRva2VuXSk7XG4gKiAgICAgICAgICAgRmxpZ2h0UHJpY2VTdG9yZS5wcmljZSA9XG4gKiAgICAgICAgICAgICBnZXRGbGlnaHRQcmljZVN0b3JlKENvdW50cnlTdG9yZS5jb3VudHJ5LCBDaXR5U3RvcmUuY2l0eSk7XG4gKiAgICAgICAgICAgYnJlYWs7XG4gKlxuICogICAgICAgICBjYXNlICdjaXR5LXVwZGF0ZSc6XG4gKiAgICAgICAgICAgRmxpZ2h0UHJpY2VTdG9yZS5wcmljZSA9XG4gKiAgICAgICAgICAgICBGbGlnaHRQcmljZVN0b3JlKENvdW50cnlTdG9yZS5jb3VudHJ5LCBDaXR5U3RvcmUuY2l0eSk7XG4gKiAgICAgICAgICAgYnJlYWs7XG4gKiAgICAgfVxuICogICB9KTtcbiAqXG4gKiBUaGUgYGNvdW50cnktdXBkYXRlYCBwYXlsb2FkIHdpbGwgYmUgZ3VhcmFudGVlZCB0byBpbnZva2UgdGhlIHN0b3JlcydcbiAqIHJlZ2lzdGVyZWQgY2FsbGJhY2tzIGluIG9yZGVyOiBgQ291bnRyeVN0b3JlYCwgYENpdHlTdG9yZWAsIHRoZW5cbiAqIGBGbGlnaHRQcmljZVN0b3JlYC5cbiAqL1xuXG4gIGZ1bmN0aW9uIERpc3BhdGNoZXIoKSB7XG4gICAgdGhpcy4kRGlzcGF0Y2hlcl9jYWxsYmFja3MgPSB7fTtcbiAgICB0aGlzLiREaXNwYXRjaGVyX2lzUGVuZGluZyA9IHt9O1xuICAgIHRoaXMuJERpc3BhdGNoZXJfaXNIYW5kbGVkID0ge307XG4gICAgdGhpcy4kRGlzcGF0Y2hlcl9pc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG4gICAgdGhpcy4kRGlzcGF0Y2hlcl9wZW5kaW5nUGF5bG9hZCA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGEgY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aXRoIGV2ZXJ5IGRpc3BhdGNoZWQgcGF5bG9hZC4gUmV0dXJuc1xuICAgKiBhIHRva2VuIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCBgd2FpdEZvcigpYC5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgRGlzcGF0Y2hlci5wcm90b3R5cGUucmVnaXN0ZXI9ZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICB2YXIgaWQgPSBfcHJlZml4ICsgX2xhc3RJRCsrO1xuICAgIHRoaXMuJERpc3BhdGNoZXJfY2FsbGJhY2tzW2lkXSA9IGNhbGxiYWNrO1xuICAgIHJldHVybiBpZDtcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlcyBhIGNhbGxiYWNrIGJhc2VkIG9uIGl0cyB0b2tlbi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAqL1xuICBEaXNwYXRjaGVyLnByb3RvdHlwZS51bnJlZ2lzdGVyPWZ1bmN0aW9uKGlkKSB7XG4gICAgaW52YXJpYW50KFxuICAgICAgdGhpcy4kRGlzcGF0Y2hlcl9jYWxsYmFja3NbaWRdLFxuICAgICAgJ0Rpc3BhdGNoZXIudW5yZWdpc3RlciguLi4pOiBgJXNgIGRvZXMgbm90IG1hcCB0byBhIHJlZ2lzdGVyZWQgY2FsbGJhY2suJyxcbiAgICAgIGlkXG4gICAgKTtcbiAgICBkZWxldGUgdGhpcy4kRGlzcGF0Y2hlcl9jYWxsYmFja3NbaWRdO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXYWl0cyBmb3IgdGhlIGNhbGxiYWNrcyBzcGVjaWZpZWQgdG8gYmUgaW52b2tlZCBiZWZvcmUgY29udGludWluZyBleGVjdXRpb25cbiAgICogb2YgdGhlIGN1cnJlbnQgY2FsbGJhY2suIFRoaXMgbWV0aG9kIHNob3VsZCBvbmx5IGJlIHVzZWQgYnkgYSBjYWxsYmFjayBpblxuICAgKiByZXNwb25zZSB0byBhIGRpc3BhdGNoZWQgcGF5bG9hZC5cbiAgICpcbiAgICogQHBhcmFtIHthcnJheTxzdHJpbmc+fSBpZHNcbiAgICovXG4gIERpc3BhdGNoZXIucHJvdG90eXBlLndhaXRGb3I9ZnVuY3Rpb24oaWRzKSB7XG4gICAgaW52YXJpYW50KFxuICAgICAgdGhpcy4kRGlzcGF0Y2hlcl9pc0Rpc3BhdGNoaW5nLFxuICAgICAgJ0Rpc3BhdGNoZXIud2FpdEZvciguLi4pOiBNdXN0IGJlIGludm9rZWQgd2hpbGUgZGlzcGF0Y2hpbmcuJ1xuICAgICk7XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGlkcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgIHZhciBpZCA9IGlkc1tpaV07XG4gICAgICBpZiAodGhpcy4kRGlzcGF0Y2hlcl9pc1BlbmRpbmdbaWRdKSB7XG4gICAgICAgIGludmFyaWFudChcbiAgICAgICAgICB0aGlzLiREaXNwYXRjaGVyX2lzSGFuZGxlZFtpZF0sXG4gICAgICAgICAgJ0Rpc3BhdGNoZXIud2FpdEZvciguLi4pOiBDaXJjdWxhciBkZXBlbmRlbmN5IGRldGVjdGVkIHdoaWxlICcgK1xuICAgICAgICAgICd3YWl0aW5nIGZvciBgJXNgLicsXG4gICAgICAgICAgaWRcbiAgICAgICAgKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIHRoaXMuJERpc3BhdGNoZXJfY2FsbGJhY2tzW2lkXSxcbiAgICAgICAgJ0Rpc3BhdGNoZXIud2FpdEZvciguLi4pOiBgJXNgIGRvZXMgbm90IG1hcCB0byBhIHJlZ2lzdGVyZWQgY2FsbGJhY2suJyxcbiAgICAgICAgaWRcbiAgICAgICk7XG4gICAgICB0aGlzLiREaXNwYXRjaGVyX2ludm9rZUNhbGxiYWNrKGlkKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIERpc3BhdGNoZXMgYSBwYXlsb2FkIHRvIGFsbCByZWdpc3RlcmVkIGNhbGxiYWNrcy5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IHBheWxvYWRcbiAgICovXG4gIERpc3BhdGNoZXIucHJvdG90eXBlLmRpc3BhdGNoPWZ1bmN0aW9uKHBheWxvYWQpIHtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAhdGhpcy4kRGlzcGF0Y2hlcl9pc0Rpc3BhdGNoaW5nLFxuICAgICAgJ0Rpc3BhdGNoLmRpc3BhdGNoKC4uLik6IENhbm5vdCBkaXNwYXRjaCBpbiB0aGUgbWlkZGxlIG9mIGEgZGlzcGF0Y2guJ1xuICAgICk7XG4gICAgdGhpcy4kRGlzcGF0Y2hlcl9zdGFydERpc3BhdGNoaW5nKHBheWxvYWQpO1xuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLiREaXNwYXRjaGVyX2NhbGxiYWNrcykge1xuICAgICAgICBpZiAodGhpcy4kRGlzcGF0Y2hlcl9pc1BlbmRpbmdbaWRdKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kRGlzcGF0Y2hlcl9pbnZva2VDYWxsYmFjayhpZCk7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRoaXMuJERpc3BhdGNoZXJfc3RvcERpc3BhdGNoaW5nKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBJcyB0aGlzIERpc3BhdGNoZXIgY3VycmVudGx5IGRpc3BhdGNoaW5nLlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgRGlzcGF0Y2hlci5wcm90b3R5cGUuaXNEaXNwYXRjaGluZz1mdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy4kRGlzcGF0Y2hlcl9pc0Rpc3BhdGNoaW5nO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDYWxsIHRoZSBjYWxsYmFjayBzdG9yZWQgd2l0aCB0aGUgZ2l2ZW4gaWQuIEFsc28gZG8gc29tZSBpbnRlcm5hbFxuICAgKiBib29ra2VlcGluZy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgRGlzcGF0Y2hlci5wcm90b3R5cGUuJERpc3BhdGNoZXJfaW52b2tlQ2FsbGJhY2s9ZnVuY3Rpb24oaWQpIHtcbiAgICB0aGlzLiREaXNwYXRjaGVyX2lzUGVuZGluZ1tpZF0gPSB0cnVlO1xuICAgIHRoaXMuJERpc3BhdGNoZXJfY2FsbGJhY2tzW2lkXSh0aGlzLiREaXNwYXRjaGVyX3BlbmRpbmdQYXlsb2FkKTtcbiAgICB0aGlzLiREaXNwYXRjaGVyX2lzSGFuZGxlZFtpZF0gPSB0cnVlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdXAgYm9va2tlZXBpbmcgbmVlZGVkIHdoZW4gZGlzcGF0Y2hpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXlsb2FkXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgRGlzcGF0Y2hlci5wcm90b3R5cGUuJERpc3BhdGNoZXJfc3RhcnREaXNwYXRjaGluZz1mdW5jdGlvbihwYXlsb2FkKSB7XG4gICAgZm9yICh2YXIgaWQgaW4gdGhpcy4kRGlzcGF0Y2hlcl9jYWxsYmFja3MpIHtcbiAgICAgIHRoaXMuJERpc3BhdGNoZXJfaXNQZW5kaW5nW2lkXSA9IGZhbHNlO1xuICAgICAgdGhpcy4kRGlzcGF0Y2hlcl9pc0hhbmRsZWRbaWRdID0gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuJERpc3BhdGNoZXJfcGVuZGluZ1BheWxvYWQgPSBwYXlsb2FkO1xuICAgIHRoaXMuJERpc3BhdGNoZXJfaXNEaXNwYXRjaGluZyA9IHRydWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIENsZWFyIGJvb2trZWVwaW5nIHVzZWQgZm9yIGRpc3BhdGNoaW5nLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIERpc3BhdGNoZXIucHJvdG90eXBlLiREaXNwYXRjaGVyX3N0b3BEaXNwYXRjaGluZz1mdW5jdGlvbigpIHtcbiAgICB0aGlzLiREaXNwYXRjaGVyX3BlbmRpbmdQYXlsb2FkID0gbnVsbDtcbiAgICB0aGlzLiREaXNwYXRjaGVyX2lzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcbiAgfTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IERpc3BhdGNoZXI7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBpbnZhcmlhbnRcbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG4gKlxuICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcbiAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuICogZXhwZWN0aW5nLlxuICpcbiAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG4gKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG4gKi9cblxudmFyIGludmFyaWFudCA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIGlmIChmYWxzZSkge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgfVxuXG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdmFyIGVycm9yO1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICtcbiAgICAgICAgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJ1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICdJbnZhcmlhbnQgVmlvbGF0aW9uOiAnICtcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJnc1thcmdJbmRleCsrXTsgfSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgZXJyb3IuZnJhbWVzVG9Qb3AgPSAxOyAvLyB3ZSBkb24ndCBjYXJlIGFib3V0IGludmFyaWFudCdzIG93biBmcmFtZVxuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCB7fTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxuRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24obikge1xuICBpZiAoIWlzTnVtYmVyKG4pIHx8IG4gPCAwIHx8IGlzTmFOKG4pKVxuICAgIHRocm93IFR5cGVFcnJvcignbiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgZXIsIGhhbmRsZXIsIGxlbiwgYXJncywgaSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgaWYgKHR5cGUgPT09ICdlcnJvcicpIHtcbiAgICBpZiAoIXRoaXMuX2V2ZW50cy5lcnJvciB8fFxuICAgICAgICAoaXNPYmplY3QodGhpcy5fZXZlbnRzLmVycm9yKSAmJiAhdGhpcy5fZXZlbnRzLmVycm9yLmxlbmd0aCkpIHtcbiAgICAgIGVyID0gYXJndW1lbnRzWzFdO1xuICAgICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgICB9XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCBcImVycm9yXCIgZXZlbnQuJyk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAoaXNVbmRlZmluZWQoaGFuZGxlcikpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAvLyBmYXN0IGNhc2VzXG4gICAgICBjYXNlIDE6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBzbG93ZXJcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0gMSk7XG4gICAgICAgIGZvciAoaSA9IDE7IGkgPCBsZW47IGkrKylcbiAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgaGFuZGxlci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QoaGFuZGxlcikpIHtcbiAgICBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0gMSk7XG4gICAgZm9yIChpID0gMTsgaSA8IGxlbjsgaSsrKVxuICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG5cbiAgICBsaXN0ZW5lcnMgPSBoYW5kbGVyLnNsaWNlKCk7XG4gICAgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspXG4gICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkodGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbTtcblxuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgdGhpcy5fZXZlbnRzID0ge307XG5cbiAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICBpZiAodGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyKVxuICAgIHRoaXMuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICBpc0Z1bmN0aW9uKGxpc3RlbmVyLmxpc3RlbmVyKSA/XG4gICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICBlbHNlIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2VcbiAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBbdGhpcy5fZXZlbnRzW3R5cGVdLCBsaXN0ZW5lcl07XG5cbiAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkgJiYgIXRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQpIHtcbiAgICB2YXIgbTtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX21heExpc3RlbmVycykpIHtcbiAgICAgIG0gPSB0aGlzLl9tYXhMaXN0ZW5lcnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgICB9XG5cbiAgICBpZiAobSAmJiBtID4gMCAmJiB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoID4gbSkge1xuICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCA9IHRydWU7XG4gICAgICBjb25zb2xlLmVycm9yKCcobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2xlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICdVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC4nLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoKTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZS50cmFjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBub3Qgc3VwcG9ydGVkIGluIElFIDEwXG4gICAgICAgIGNvbnNvbGUudHJhY2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgdmFyIGZpcmVkID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gZygpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGcpO1xuXG4gICAgaWYgKCFmaXJlZCkge1xuICAgICAgZmlyZWQgPSB0cnVlO1xuICAgICAgbGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cblxuICBnLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHRoaXMub24odHlwZSwgZyk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBlbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWZmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZFxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBsaXN0LCBwb3NpdGlvbiwgbGVuZ3RoLCBpO1xuXG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIGxpc3QgPSB0aGlzLl9ldmVudHNbdHlwZV07XG4gIGxlbmd0aCA9IGxpc3QubGVuZ3RoO1xuICBwb3NpdGlvbiA9IC0xO1xuXG4gIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fFxuICAgICAgKGlzRnVuY3Rpb24obGlzdC5saXN0ZW5lcikgJiYgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcblxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGxpc3QpKSB7XG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gPiAwOykge1xuICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8XG4gICAgICAgICAgKGxpc3RbaV0ubGlzdGVuZXIgJiYgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKSB7XG4gICAgICBsaXN0Lmxlbmd0aCA9IDA7XG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaXN0LnNwbGljZShwb3NpdGlvbiwgMSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIga2V5LCBsaXN0ZW5lcnM7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICBpZiAoIXRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgZWxzZSBpZiAodGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIGZvciAoa2V5IGluIHRoaXMuX2V2ZW50cykge1xuICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgIH1cbiAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcnMpKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICB9IGVsc2Uge1xuICAgIC8vIExJRk8gb3JkZXJcbiAgICB3aGlsZSAobGlzdGVuZXJzLmxlbmd0aClcbiAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2xpc3RlbmVycy5sZW5ndGggLSAxXSk7XG4gIH1cbiAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgcmV0O1xuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldCA9IFtdO1xuICBlbHNlIGlmIChpc0Z1bmN0aW9uKHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgcmV0ID0gW3RoaXMuX2V2ZW50c1t0eXBlXV07XG4gIGVsc2VcbiAgICByZXQgPSB0aGlzLl9ldmVudHNbdHlwZV0uc2xpY2UoKTtcbiAgcmV0dXJuIHJldDtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICB2YXIgcmV0O1xuICBpZiAoIWVtaXR0ZXIuX2V2ZW50cyB8fCAhZW1pdHRlci5fZXZlbnRzW3R5cGVdKVxuICAgIHJldCA9IDA7XG4gIGVsc2UgaWYgKGlzRnVuY3Rpb24oZW1pdHRlci5fZXZlbnRzW3R5cGVdKSlcbiAgICByZXQgPSAxO1xuICBlbHNlXG4gICAgcmV0ID0gZW1pdHRlci5fZXZlbnRzW3R5cGVdLmxlbmd0aDtcbiAgcmV0dXJuIHJldDtcbn07XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmICghZHJhaW5pbmcpIHtcbiAgICAgICAgc2V0VGltZW91dChkcmFpblF1ZXVlLCAwKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbi8vIFRPRE8oc2h0eWxtYW4pXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTQgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQ29uc3RydWN0cyBhbiBlbnVtZXJhdGlvbiB3aXRoIGtleXMgZXF1YWwgdG8gdGhlaXIgdmFsdWUuXG4gKlxuICogRm9yIGV4YW1wbGU6XG4gKlxuICogICB2YXIgQ09MT1JTID0ga2V5TWlycm9yKHtibHVlOiBudWxsLCByZWQ6IG51bGx9KTtcbiAqICAgdmFyIG15Q29sb3IgPSBDT0xPUlMuYmx1ZTtcbiAqICAgdmFyIGlzQ29sb3JWYWxpZCA9ICEhQ09MT1JTW215Q29sb3JdO1xuICpcbiAqIFRoZSBsYXN0IGxpbmUgY291bGQgbm90IGJlIHBlcmZvcm1lZCBpZiB0aGUgdmFsdWVzIG9mIHRoZSBnZW5lcmF0ZWQgZW51bSB3ZXJlXG4gKiBub3QgZXF1YWwgdG8gdGhlaXIga2V5cy5cbiAqXG4gKiAgIElucHV0OiAge2tleTE6IHZhbDEsIGtleTI6IHZhbDJ9XG4gKiAgIE91dHB1dDoge2tleTE6IGtleTEsIGtleTI6IGtleTJ9XG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9ialxuICogQHJldHVybiB7b2JqZWN0fVxuICovXG52YXIga2V5TWlycm9yID0gZnVuY3Rpb24ob2JqKSB7XG4gIHZhciByZXQgPSB7fTtcbiAgdmFyIGtleTtcbiAgaWYgKCEob2JqIGluc3RhbmNlb2YgT2JqZWN0ICYmICFBcnJheS5pc0FycmF5KG9iaikpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdrZXlNaXJyb3IoLi4uKTogQXJndW1lbnQgbXVzdCBiZSBhbiBvYmplY3QuJyk7XG4gIH1cbiAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgaWYgKCFvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHJldFtrZXldID0ga2V5O1xuICB9XG4gIHJldHVybiByZXQ7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGtleU1pcnJvcjtcbiJdfQ==
