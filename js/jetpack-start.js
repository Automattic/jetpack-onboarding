(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),DataActions={requestStarted:function(){AppDispatcher.dispatch({actionType:JPSConstants.SAVE_STARTED})},requestFinished:function(){AppDispatcher.dispatch({actionType:JPSConstants.SAVE_FINISHED})}};module.exports=DataActions;

},{"../constants/jetpack-start-constants":21,"../dispatcher/app-dispatcher":23}],2:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),FlashActions={notice:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SET_FLASH,message:t,severity:JPSConstants.FLASH_SEVERITY_NOTICE})},error:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SET_FLASH,message:t,severity:JPSConstants.FLASH_SEVERITY_ERROR})},unset:function(){AppDispatcher.dispatch({actionType:JPSConstants.UNSET_FLASH})}};module.exports=FlashActions;

},{"../constants/jetpack-start-constants":21,"../dispatcher/app-dispatcher":23}],3:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),Paths=require("../constants/jetpack-start-paths"),FlashActions=require("./flash-actions"),SiteActions=require("./site-actions"),WPAjax=require("../utils/wp-ajax"),SpinnerActions=require("./spinner-actions"),SetupProgressStore=require("../stores/setup-progress-store"),SiteStore=require("../stores/site-store"),SetupProgressActions={resetData:function(){WPAjax.post(JPS.site_actions.reset_data).fail(function(t){FlashActions.error("Failed to save data: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.RESET_DATA})},completeStep:function(t,e){var s=SetupProgressStore.getStepFromSlug(t);AppDispatcher.dispatch({actionType:JPSConstants.STEP_COMPLETE,slug:t}),this._recordComplete(s,e)},completeAndNextStep:function(t,e){this.completeStep(t,e),AppDispatcher.dispatch({actionType:JPSConstants.STEP_NEXT})},_recordComplete:function(t,e){"undefined"==typeof e&&(e={}),e.completion=SetupProgressStore.getProgressPercent(),WPAjax.post(JPS.step_actions.complete,{step:t.slug,data:e}).fail(function(t){FlashActions.error(t)})},skipStep:function(){FlashActions.unset();var t=SetupProgressStore.getCurrentStep();t.skipped||WPAjax.post(JPS.step_actions.skip,{step:t.slug}).fail(function(t){FlashActions.error(t)}),AppDispatcher.dispatch({actionType:JPSConstants.STEP_SKIP})},getStarted:function(){SpinnerActions.show("Loading"),WPAjax.post(JPS.step_actions.start).fail(function(t){FlashActions.error(t)}).always(function(){SpinnerActions.hide(),AppDispatcher.dispatch({actionType:JPSConstants.STEP_GET_STARTED})})},disableJPS:function(){SpinnerActions.show(""),WPAjax.post(JPS.step_actions.disable).fail(function(t){FlashActions.error(t)}).always(function(){window.location.reload()})},setCurrentStep:function(t){FlashActions.unset(),AppDispatcher.dispatch({actionType:JPSConstants.STEP_SELECT,slug:t})},selectNextStep:function(){FlashActions.unset(),AppDispatcher.dispatch({actionType:JPSConstants.STEP_NEXT})},submitTitleStep:function(){SiteActions.saveTitleAndDescription().done(function(){this.completeAndNextStep(Paths.SITE_TITLE_STEP_SLUG)}.bind(this))},submitLayoutStep:function(t){SiteActions.setLayout(t).done(function(){this.completeAndNextStep(Paths.LAYOUT_STEP_SLUG)}.bind(this))},submitJetpackJumpstart:function(){SiteActions.enableJumpstart().done(function(){this.completeStep(Paths.JETPACK_MODULES_STEP_SLUG)}.bind(this))},setActiveTheme:function(t){SiteActions.setActiveTheme(t).done(function(){this.completeStep(Paths.DESIGN_STEP_SLUG,{themeId:t.id})}.bind(this))},saveDesignStep:function(){this.completeAndNextStep(Paths.DESIGN_STEP_SLUG,{themeId:SiteStore.getActiveThemeId()})}};module.exports=SetupProgressActions;

},{"../constants/jetpack-start-constants":21,"../constants/jetpack-start-paths":22,"../dispatcher/app-dispatcher":23,"../stores/setup-progress-store":27,"../stores/site-store":28,"../utils/wp-ajax":31,"./flash-actions":2,"./site-actions":4,"./spinner-actions":5}],4:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),SiteStore=require("../stores/site-store"),FlashActions=require("./flash-actions.js"),SpinnerActions=require("./spinner-actions.js"),WPAjax=require("../utils/wp-ajax"),SiteActions={setTitle:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_TITLE,title:t})},setDescription:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_DESCRIPTION,description:t})},saveTitleAndDescription:function(){var t=SiteStore.getTitle(),e=SiteStore.getDescription();return WPAjax.post(JPS.site_actions.set_title,{title:t,description:e}).fail(function(t){FlashActions.error("Error setting title: "+t)}),jQuery("#wp-admin-bar-site-name .ab-item").html(t),AppDispatcher.dispatch({actionType:JPSConstants.SITE_SAVE_TITLE_AND_DESCRIPTION,title:t}),jQuery.Deferred().resolve()},_installTheme:function(t){return t.installed?jQuery.Deferred().resolve():(SpinnerActions.show("Installing '"+t.name+"'"),WPAjax.post(JPS.site_actions.install_theme,{themeId:t.id}).done(function(){t.installed=!0,AppDispatcher.dispatch({actionType:JPSConstants.SITE_INSTALL_THEME,theme:t})}).fail(function(t){FlashActions.error("Server error installing theme: "+t)}).always(function(){SpinnerActions.hide()}))},_activateTheme:function(t){WPAjax.post(JPS.site_actions.set_theme,{themeId:t.id}).fail(function(t){FlashActions.error("Server error setting theme: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_THEME,themeId:t.id})},setActiveTheme:function(t){return this._installTheme(t).done(function(){this._activateTheme(t)}.bind(this)),jQuery.Deferred().resolve()},setLayout:function(t){return WPAjax.post(JPS.site_actions.set_layout,{layout:t}).fail(function(t){FlashActions.error("Error setting layout: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_LAYOUT,layout:t}),jQuery.Deferred().resolve()},configureJetpack:function(t){return SpinnerActions.show("Connecting to WordPress.com"),WPAjax.post(JPS.site_actions.configure_jetpack,{return_to_step:t}).done(function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_CONFIGURED}),t.next?window.location.replace(t.next):SpinnerActions.hide()}).fail(function(t){FlashActions.error("Error enabling Jetpack: "+t),SpinnerActions.hide()})},activateJetpackModule:function(t){return WPAjax.post(JPS.site_actions.activate_jetpack_modules,{modules:[t]}).fail(function(t){FlashActions.error("Error activating Jetpack module: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_MODULE_ENABLED,slug:t}),jQuery.Deferred().resolve()},deactivateJetpackModule:function(t){return WPAjax.post(JPS.site_actions.deactivate_jetpack_modules,{modules:[t]}).fail(function(t){FlashActions.error("Error deactivating Jetpack module: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_MODULE_DISABLED,slug:t}),jQuery.Deferred().resolve()},loadAllJetpackModules:function(){return 0===SiteStore.getJetpackAdditionalModules().length?WPAjax.post(JPS.site_actions.list_jetpack_modules).done(function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_ADD_MODULES,modules:t})}).fail(function(t){FlashActions.error("Error fetching all Jetpack modules: "+t)}):jQuery.Deferred().resolve()},enableJumpstart:function(){return WPAjax.post(JPS.site_actions.activate_jetpack_modules,{modules:SiteStore.getJumpstartModuleSlugs()}).fail(function(t){FlashActions.error("Error activating Jetpack modules: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_JUMPSTART_ENABLED}),jQuery.Deferred().resolve()}};module.exports=SiteActions;

},{"../constants/jetpack-start-constants":21,"../dispatcher/app-dispatcher":23,"../stores/site-store":28,"../utils/wp-ajax":31,"./flash-actions.js":2,"./spinner-actions.js":5}],5:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),SpinnerActions={show:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SHOW_SPINNER,message:t})},hide:function(){AppDispatcher.dispatch({actionType:JPSConstants.HIDE_SPINNER})},showAsync:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SHOW_ASYNC_SPINNER,message:t})},hideAsync:function(){AppDispatcher.dispatch({actionType:JPSConstants.HIDE_ASYNC_SPINNER})}};module.exports=SpinnerActions;

},{"../constants/jetpack-start-constants":21,"../dispatcher/app-dispatcher":23}],6:[function(require,module,exports){
(function (global){
function getSiteState(){return{site_title:SiteStore.getTitle()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Button=require("@automattic/dops-react/js/components/button"),SiteStore=require("../stores/site-store"),WelcomeSection=require("./welcome-section"),SettingsItem=React.createClass({displayName:"SettingsItem",styles:{item:{padding:"1em",marginBottom:"1em",listStyle:"none",background:"#f5f5f5",border:"1px solid #ddd"},heading:{margin:0,fontSize:"1.2em",fontWeight:800}},render:function(){return React.createElement("li",{style:this.styles.item},React.createElement("h5",{style:this.styles.heading},this.props.title),this.props.children)}}),AdvancedSettingsStep=React.createClass({displayName:"AdvancedSettingsStep",styles:{wrapper:{marginLeft:0}},getInitialState:function(){return getSiteState()},componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSiteState())},render:function(){return React.createElement(WelcomeSection,null,React.createElement("h3",null,"Let's launch ",React.createElement("em",null,this.state.site_title)),React.createElement("h4",null,"Advanced settings"),React.createElement("ul",{style:this.styles.wrapper},React.createElement(SettingsItem,{title:"Fine-tune your site's layout and appearance"},"Customize your site’s colors, fonts, sidebars and other settings.",React.createElement("br",null),React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.customize_url},"Customize my site"),"  ",React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.themes_url},"Browse and add themes")),("blog"==SiteStore.getLayout()||"site-blog"==SiteStore.getLayout())&&React.createElement(SettingsItem,{title:"Create your first blog post"},'An epic essay or just "Hello World!"',React.createElement("br",null),React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.new_blog_post_url},"Write a new blog post"),"  ",React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.manage_posts_url},"Manage posts")),React.createElement(SettingsItem,{title:"Create a static page"},'"About me", "Our Services" or anything else you can imagine.',React.createElement("br",null),React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.new_page_url},"Create a new page"),"  ",React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.manage_pages_url},"Manage pages")),React.createElement(SettingsItem,{title:"Extend your site's functionality"},"WordPress offers thousands of plugins from Jetpack and the WordPress community.",React.createElement("br",null),React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.plugins_url},"Manage plugins"),"  ",SiteStore.getJetpackConfigured()&&React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.jetpack_modules_url},"Manage Jetpack modules")),React.createElement(SettingsItem,{title:"Learn more"},React.createElement("a",{href:"https://codex.wordpress.org/First_Steps_With_WordPress"},"First Steps with WordPress")," - an online guide from the creators of WordPress")))}});module.exports=AdvancedSettingsStep;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../stores/site-store":28,"./welcome-section":19,"@automattic/dops-react/js/components/button":33}],7:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,ContentBox=React.createClass({displayName:"ContentBox",render:function(){return React.createElement("div",{className:"welcome__content_box"},this.props.children,React.createElement("div",{className:"clear"}))}});module.exports=ContentBox;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],8:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Dashicon=React.createClass({displayName:"Dashicon",propTypes:{name:React.PropTypes.string.isRequired,style:React.PropTypes.object,onMouseOver:React.PropTypes.func,onMouseOut:React.PropTypes.func},render:function(){return React.createElement("span",{style:this.props.style,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut,className:"dashicons dashicons-"+this.props.name},this.props.children)}});module.exports=Dashicon;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],9:[function(require,module,exports){
(function (global){
function getThemeState(){return{themes:SiteStore.getThemes(),site_title:SiteStore.getTitle()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteStore=require("../stores/site-store"),SetupProgressActions=require("../actions/setup-progress-actions"),Tooltip=require("./tooltip"),WelcomeSection=require("./welcome-section"),ContentBox=require("./content-box"),styles=require("../styles"),Button=require("@automattic/dops-react/js/components/button"),DesignStep=React.createClass({displayName:"DesignStep",componentDidMount:function(){SiteStore.addChangeListener(this._onChange),this._loadPopularThemes()},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getThemeState())},getInitialState:function(){var e=getThemeState();return e.popularThemes=[],e},handleActivateTheme:function(e){e.preventDefault(),this.setState({tooltipTheme:null,tooltipPosition:null});var t=jQuery(e.currentTarget),n=t.data("theme-id"),o=this.findTheme(n),a=!o.installed,i=SetupProgressActions.setActiveTheme(o);a&&i.done(function(){this._loadPopularThemes()}.bind(this))},findTheme:function(e){return _.findWhere(this.state.themes,{id:e})||_.findWhere(this.state.popularThemes,{id:e})},handleContinue:function(e){e.preventDefault(),SetupProgressActions.saveDesignStep()},handleShowTooltip:function(e){e.preventDefault();var t=jQuery(e.currentTarget),n=this.findTheme(t.data("theme-id")),o=t.position(),a=t.outerWidth(),i=t.outerHeight(),l={top:o.top+i/2,left:o.left+a};this.setState({tooltipTheme:n,tooltipPosition:l})},handleHideTooltip:function(e){e.preventDefault(),this.setState({tooltipTheme:null,tooltipPosition:null})},handleGetPopularThemes:function(e){e.preventDefault(),this._loadPopularThemes()},_loadPopularThemes:function(){SiteStore.getPopularThemes().done(function(e){this.setState({popularThemes:e})}.bind(this))},render:function(){return React.createElement(WelcomeSection,{id:"welcome__design"},React.createElement("h3",null,"Let's launch ",React.createElement("em",null,this.state.site_title)),React.createElement("h4",null,"Pick a design"),React.createElement("p",{style:styles.content},'A "theme" controls the design of your site - colours, fonts and layout.'),React.createElement("p",{style:styles.content},"Click any theme below to choose it for your site. And don't worry - you can easily change this later."),React.createElement("p",{className:"submit"},React.createElement(Button,{color:"blue",onClick:this.handleContinue},"Next Step →")),React.createElement(ContentBox,null,React.createElement("h3",null,"Installed themes"),React.createElement("div",{className:"theme-browser rendered"},this._renderThemeList())),React.createElement(ContentBox,null,React.createElement("h3",null,"Popular themes from WordPress.org",React.createElement(Button,{color:"blue",style:{"float":"right"},onClick:this.handleGetPopularThemes},"Load more themes")),React.createElement("div",{className:"theme-browser rendered"},this._renderPopularThemeList())),React.createElement("div",{style:{clear:"both"}}),this.state.tooltipTheme&&this._renderTooltip())},_renderTooltip:function(){var e=this.state.tooltipTheme,t=this.state.tooltipPosition;return React.createElement(Tooltip,{left:t.left,top:t.top,width:320,title:e.name},React.createElement("p",null,"By ",e.author),React.createElement("p",{dangerouslySetInnerHTML:{__html:_.unescape(e.description)}}))},_renderTheme:function(e){return React.createElement("div",{key:e.id,className:"theme"+(e.active?" active":""),"data-theme-id":e.id,onClick:this.handleActivateTheme,onMouseEnter:this.handleShowTooltip,onMouseLeave:this.handleHideTooltip,"aria-describedby":e.id+"-action "+e.id+"-name"},e.screenshot?React.createElement("div",{className:"theme-screenshot"},React.createElement("img",{src:e.screenshot,alt:""})):React.createElement("div",{className:"theme-screenshot blank"}),!e.active&&React.createElement("span",{className:"more-details"},e.installed?"Click to select":"Click to install"),React.createElement("h3",{className:"theme-name",id:e.id+"-name"},React.createElement("span",null,e.active?"Selected:":"")," ",e.name))},_renderPopularThemeList:function(){return this.state.popularThemes.map(this._renderTheme)},_renderThemeList:function(){return this.state.themes.map(this._renderTheme)}});module.exports=DesignStep;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/site-store":28,"../styles":30,"./content-box":7,"./tooltip":17,"./welcome-section":19,"@automattic/dops-react/js/components/button":33}],10:[function(require,module,exports){
(function (global){
function getFlashState(){return FlashStore.getFlash()}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,FlashStore=require("../stores/flash-store"),Flash=React.createClass({displayName:"Flash",componentDidMount:function(){FlashStore.addChangeListener(this._onChange)},componentWillUnmount:function(){FlashStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getFlashState())},getInitialState:function(){return getFlashState()},render:function(){return this.state.message?React.createElement("div",{className:this.state.severity+" updated"},this.state.message):null}});module.exports=Flash;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../stores/flash-store":26}],11:[function(require,module,exports){
(function (global){
function getSetupState(){return{}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SetupProgressStore=require("../stores/setup-progress-store"),SetupProgressActions=require("../actions/setup-progress-actions"),Button=require("@automattic/dops-react/js/components/button"),Radium=require("radium"),GetStarted=React.createClass({displayName:"GetStarted",componentDidMount:function(){SetupProgressStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SetupProgressStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSetupState())},getInitialState:function(){return getSetupState()},handleGetStarted:function(e){e.preventDefault(),SetupProgressActions.getStarted()},handleNoThanks:function(e){e.preventDefault(),SetupProgressActions.disableJPS()},_isIE8:function(){jQuery("html").is(".ie8")},styles:{wrapper:{textAlign:"center",backgroundRepeat:"no-repeat",backgroundPosition:"center bottom",backgroundSize:"520px auto",position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"#fff",paddingTop:100,zIndex:999},wrapperIE8:{backgroundImage:"none"},subhead:{margin:"20px 0 15px",color:"#666",fontSize:18,lineHeight:1.6,textAlign:"center","@media (max-width: 600px)":{marginBottom:15,fontSize:15},"@media (max-width: 320px)":{fontSize:13}},button:{borderRadius:6,fontFamily:"proxima-nova, 'Open Sans', Helvetica, sans-serif",fontSize:16,lineHeight:1,padding:"0.64286em 0.85714em 0.53571em",green:{border:"1px solid rgb(62, 108, 32)",background:"rgb(81, 141, 42)",boxShadow:"rgb(62, 108, 32) 0px 3px 0px, rgba(0, 0, 0, 0.4) 0px 4px 3px",color:"#fff"},gray:{background:"linear-gradient(rgb(255, 255, 255), rgb(249, 249, 249))",boxShadow:"rgb(150, 150, 150) 0px 3px 0px, rgba(0, 0, 0, 0.4) 0px 4px 3px;",color:"#333"}}},render:function(){return React.createElement("div",{key:"welcome-intro",style:[this.styles.wrapper,this._isIE8()&&this.styles.wrapperIE8]},React.createElement("h3",{style:{fontSize:30,marginTop:30}},"Welcome to WordPress"),React.createElement("p",{style:this.styles.subhead},"Would you like help launching your site?"),React.createElement("p",null,React.createElement(Button,{style:Object.assign({},this.styles.button,this.styles.button.green),onClick:this.handleGetStarted},"Yes"),"   ",React.createElement(Button,{style:Object.assign({},this.styles.button,this.styles.button.gray),onClick:this.handleNoThanks},"No thanks")))}});module.exports=Radium(GetStarted);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/setup-progress-store":27,"@automattic/dops-react/js/components/button":33,"radium":66}],12:[function(require,module,exports){
(function (global){
function getJetpackProgress(){return{jetpackConfigured:SiteStore.getJetpackConfigured()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteStore=require("../stores/site-store"),SiteActions=require("../actions/site-actions"),Paths=require("../constants/jetpack-start-paths"),JetpackJumpstartMenu=React.createClass({displayName:"JetpackJumpstartMenu",componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getJetpackProgress())},getInitialState:function(){return getJetpackProgress()},handleClickConnect:function(e){e.preventDefault(),SiteActions.configureJetpack(Paths.JETPACK_MODULES_STEP_SLUG)},style:{color:"black",fontSize:12,marginTop:5,marginLeft:20},primaryConnectBtn:{marginTop:10,marginBottom:20},render:function(){return React.createElement("div",{style:this.style},this.state.jetpackConfigured?React.createElement("div",null):React.createElement("div",null,"Boost traffic, enhance security, and improve performance with a connection to WordPress.com",React.createElement("br",null),React.createElement("a",{className:"button button-primary button-large",style:this.primaryConnectBtn,href:"#",onClick:this.handleClickConnect},"Connect to WordPress.com")))}});module.exports=JetpackJumpstartMenu;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/site-actions":4,"../constants/jetpack-start-paths":22,"../stores/site-store":28}],13:[function(require,module,exports){
(function (global){
function getJetpackState(){return{site_title:SiteStore.getTitle(),jetpackConfigured:SiteStore.getJetpackConfigured(),jumpstartEnabled:SiteStore.getJetpackJumpstartEnabled(),modulesEnabled:SiteStore.getActiveModuleSlugs()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Radium=require("radium"),SkipButton=require("./skip-button"),SiteStore=require("../stores/site-store"),SiteActions=require("../actions/site-actions"),Paths=require("../constants/jetpack-start-paths"),ContentBox=require("./content-box"),styles=require("../styles"),WelcomeSection=require("./welcome-section"),SetupProgressActions=require("../actions/setup-progress-actions"),SpinnerStore=require("../stores/spinner-store"),Button=require("@automattic/dops-react/js/components/button"),JetpackLogo=React.createClass({displayName:"JetpackLogo",styles:{jetpackLogoWrapper:{display:"block",textAlign:"center",height:70,color:"white",marginLeft:5,backgroundColor:"#81a844"},jetpackLogo:{display:"inline-block",position:"relative",width:214,marginRight:6,background:"url("+JPS.jetpack.logo_url+") center center no-repeat",backgroundSize:"183px auto",color:"#fff",fontWeight:"normal",padding:"5px 0px"},jetpackLogoName:{textIndent:-9999,visibility:"hidden"}},render:function(){return React.createElement("span",{style:[this.styles.jetpackLogoWrapper,this.props.style]},"Powered by",React.createElement("br",null),React.createElement("a",{href:"/wp-admin/admin.php?page=jetpack",title:"Jetpack",style:this.styles.jetpackLogo},React.createElement("span",{style:this.styles.jetpackLogoName},"Jetpack")))}});JetpackLogo=Radium(JetpackLogo);var JetpackJumpstart=React.createClass({displayName:"JetpackJumpstart",styles:{jetpackLogo:{"float":"right","@media (max-width: 782px)":{"float":"none",marginLeft:0}},jumpstartModule:{"float":"left",position:"relative",height:160,padding:10,"@media (min-width: 782px)":{width:"33%"}},jumpstartModuleDesc:{display:"block",marginTop:5,lineHeight:"150%"},overlayContent:{marginTop:10,marginBottom:10},overlayBefore:{display:"block",position:"absolute",width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.2)"},overlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",minHeight:"100%",zIndex:700},overlayBody:{textAlign:"center",position:"absolute",borderRadius:3,boxShadow:"0 0 4px rgba(0,0,0,0.2)",zIndex:800,left:"50%",top:"50%",padding:15,transform:"translate(-50%,-50%)",width:"70%",backgroundColor:"#fff"},moreLink:{textAlign:"center"}},componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getJetpackState())},getInitialState:function(){var e=getJetpackState();return e.showMoreModules=!1,e},handleJetpackConnect:function(e){e.preventDefault(),SiteActions.configureJetpack(Paths.JETPACK_MODULES_STEP_SLUG)},handleChangeModuleStatus:function(e){var t=jQuery(e.currentTarget),a=t.data("module-slug");SiteStore.isJetpackModuleEnabled(a)?SiteActions.deactivateJetpackModule(a):SiteActions.activateJetpackModule(a)},handleEnableAllModules:function(e){e.preventDefault(),SiteActions.enableJumpstart()},handleNext:function(e){e.preventDefault(),SetupProgressActions.completeAndNextStep(Paths.JETPACK_MODULES_STEP_SLUG)},handleShowMoreModules:function(e){e.preventDefault(),SiteActions.loadAllJetpackModules().done(function(){this.setState({showMoreModules:!0})}.bind(this))},handleShowFewerModules:function(e){e.preventDefault(),this.setState({showMoreModules:!1})},_renderModule:function(e){var t=SiteStore.isJetpackModuleEnabled(e.slug),a="jp-module-"+e.slug;return React.createElement("div",{key:"modules-"+e.slug,style:this.styles.jumpstartModule},React.createElement("input",{id:a,type:"checkbox",checked:t,"data-module-slug":e.slug,onChange:this.handleChangeModuleStatus}),React.createElement("label",{htmlFor:a},React.createElement("strong",null,e.name)),React.createElement("div",{style:this.styles.jumpstartModuleDesc},React.createElement("div",{dangerouslySetInnerHTML:{__html:e.description}}),t&&e.configure_url&&React.createElement("div",null,React.createElement("a",{target:"_configure",href:e.configure_url},"configure"))))},render:function(){var e,t,a;this.state.jetpackConfigured||SpinnerStore.showing()||(e=React.createElement("div",{style:this.styles.overlayBefore}),t=React.createElement("div",{style:this.styles.overlay}),a=React.createElement("div",{style:this.styles.overlayBody},React.createElement("p",{style:this.styles.overlayContent},"These modules require a WordPress.com account - it's free!"),React.createElement(Button,{color:"green",size:"big",theme:"jetpack",onClick:this.handleJetpackConnect},"Connect to WordPress.com"),React.createElement("p",{style:this.styles.overlayContent},React.createElement(SkipButton,null))));var o=SiteStore.getJumpstartModules().map(this._renderModule),n=SiteStore.getJetpackAdditionalModules().map(this._renderModule);return React.createElement(WelcomeSection,null,React.createElement("h3",null,"Let's launch ",React.createElement("em",null,this.state.site_title)),React.createElement("h4",null,"Enable Jetpack features"),this.state.jetpackConfigured&&React.createElement("div",null,React.createElement(JetpackLogo,{style:this.styles.jetpackLogo}),React.createElement("p",{style:styles.content},"Congratulations! You've enabled Jetpack and unlocked dozens of powerful features."),React.createElement("p",{style:styles.content},"Check the boxes below to enable our most popular features."),React.createElement("div",{className:"clear"})),React.createElement("div",{className:"welcome__connect"},React.createElement("div",{style:{position:"relative"}},e,t,a,this.state.jetpackConfigured&&React.createElement("div",{className:"submit"},React.createElement(Button,{style:{"float":"right"},color:"blue",onClick:this.handleNext},"Next Step →"),React.createElement("div",{className:"clear"})),React.createElement(ContentBox,null,React.createElement("h3",null,"Popular features   ",React.createElement(Button,{disabled:this.state.jumpstartEnabled,color:"blue",onClick:this.handleEnableAllModules},this.state.jumpstartEnabled?"Enabled All":"Enable all (recommended)")),o),this.state.showMoreModules?React.createElement("p",{style:this.styles.moreLink},React.createElement("a",{href:"#",onClick:this.handleShowFewerModules},"hide additional features")):React.createElement("p",{style:this.styles.moreLink},React.createElement("a",{href:"#",onClick:this.handleShowMoreModules},"show additional features")),this.state.showMoreModules&&React.createElement(ContentBox,null,React.createElement("h3",null,"Additional modules"),n))))}});module.exports=Radium(JetpackJumpstart);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../actions/site-actions":4,"../constants/jetpack-start-paths":22,"../stores/site-store":28,"../stores/spinner-store":29,"../styles":30,"./content-box":7,"./skip-button":16,"./welcome-section":19,"@automattic/dops-react/js/components/button":33,"radium":66}],14:[function(require,module,exports){
(function (global){
function getSiteLayoutState(){return{site_title:SiteStore.getTitle(),layout:SiteStore.getLayout()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteStore=require("../stores/site-store"),Button=require("@automattic/dops-react/js/components/button"),WelcomeSection=require("./welcome-section"),styles=require("../styles"),SetupProgressActions=require("../actions/setup-progress-actions"),LayoutStep=React.createClass({displayName:"LayoutStep",componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSiteLayoutState())},getInitialState:function(){return getSiteLayoutState()},handleSetLayout:function(e){this.setState({layout:jQuery(e.currentTarget).val()})},handleSubmit:function(e){e.preventDefault(),SetupProgressActions.submitLayoutStep(this.state.layout)},render:function(){return React.createElement(WelcomeSection,{id:"welcome__layout"},React.createElement("h3",null,"Let's launch ",React.createElement("em",null,this.state.site_title)),React.createElement("h4",null,"Select a Layout"),React.createElement("p",{style:styles.content},"WordPress can be a blog, a web site with a hierarchy of static pages, or a combination of the two."),React.createElement("form",{onSubmit:this.handleSubmit},React.createElement("label",null,React.createElement("input",{type:"radio",name:"site_layout",value:"website",checked:"website"===this.state.layout,onChange:this.handleSetLayout})," Static Website",React.createElement("p",{className:"description"},"A web site with a hierarchy of pages")),React.createElement("br",null),React.createElement("label",null,React.createElement("input",{type:"radio",name:"site_layout",value:"site-blog",checked:"site-blog"===this.state.layout,onChange:this.handleSetLayout})," Static Website with a blog",React.createElement("p",{className:"description"},"A web site with pages that also has a blog or news section")),React.createElement("br",null),React.createElement("label",null,React.createElement("input",{type:"radio",name:"site_layout",value:"blog",checked:"blog"===this.state.layout,onChange:this.handleSetLayout})," Just a blog",React.createElement("p",{className:"description"},"A web site that will constantly show new content (articles, photos, videos, etc.)")),React.createElement("p",{className:"submit"},React.createElement(Button,{color:"blue"},"Next Step →"))))}});module.exports=LayoutStep;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/site-store":28,"../styles":30,"./welcome-section":19,"@automattic/dops-react/js/components/button":33}],15:[function(require,module,exports){
(function (global){
function getSiteTitleState(){return{title:SiteStore.getTitle(),description:SiteStore.getDescription()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteActions=require("../actions/site-actions"),SiteStore=require("../stores/site-store"),WelcomeSection=require("./welcome-section"),styles=require("../styles"),Button=require("@automattic/dops-react/js/components/button"),SetupProgressActions=require("../actions/setup-progress-actions"),SiteTitleStep=React.createClass({displayName:"SiteTitleStep",componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSiteTitleState())},getInitialState:function(){return getSiteTitleState()},handleChangeTitle:function(e){SiteActions.setTitle(e.currentTarget.value)},handleChangeDescription:function(e){SiteActions.setDescription(e.currentTarget.value)},handleSubmit:function(e){e.preventDefault(),SetupProgressActions.submitTitleStep()},render:function(){return React.createElement(WelcomeSection,{id:"welcome__site-title"},React.createElement("h3",null,"Let's launch your new website"),React.createElement("h4",null,"Enter a Title and Description"),React.createElement("p",{style:styles.content},"Make your site stand out with a catchy name."),React.createElement("form",{onSubmit:this.handleSubmit},React.createElement("table",{className:"form-table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("th",null,React.createElement("label",{htmlFor:"site_title"},"Site Title")),React.createElement("td",null,React.createElement("input",{type:"text",name:"site_title",id:"site-title",autoComplete:"off",onChange:this.handleChangeTitle,value:this.state.title,placeholder:"Site Title (this can be changed later)",required:!0}),React.createElement("p",{className:"description"},"The name of your site. This title appears at the top of pages and in search results."))),React.createElement("tr",null,React.createElement("th",null,React.createElement("label",{htmlFor:"site_description"},"Site Description")),React.createElement("td",null,React.createElement("input",{type:"text",name:"site_description",id:"site-description",autoComplete:"off",onChange:this.handleChangeDescription,value:this.state.description,placeholder:"Site Description",required:!0}),React.createElement("p",{className:"description"},'A motto or tagline. This appears below the title on your site, and next to the title in search results. Try to be brief and descriptive, e.g. "Your online bait and tackle store"'))))),React.createElement("p",{className:"submit"},React.createElement(Button,{color:"blue"},"Next Step →"))))}});module.exports=SiteTitleStep;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../actions/site-actions":4,"../stores/site-store":28,"../styles":30,"./welcome-section":19,"@automattic/dops-react/js/components/button":33}],16:[function(require,module,exports){
(function (global){
function getSetupProgress(){return{completed:SetupProgressStore.getCurrentStep().completed}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SetupProgressStore=require("../stores/setup-progress-store"),SetupProgressActions=require("../actions/setup-progress-actions"),SkipButton=React.createClass({displayName:"SkipButton",style:{color:"#bbb",fontSize:"90%",marginLeft:20,borderBottom:"1px dotted #bbb"},componentDidMount:function(){SetupProgressStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SetupProgressStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSetupProgress())},getInitialState:function(){return getSetupProgress()},handleSkip:function(e){e.preventDefault(),SetupProgressActions.skipStep()},render:function(){var e=this.state.completed;return e?null:React.createElement("a",{style:this.style,href:"#",onClick:this.handleSkip},"Not now")}});module.exports=SkipButton;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/setup-progress-store":27}],17:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Tooltip=React.createClass({displayName:"Tooltip",propTypes:{left:React.PropTypes.number.isRequired,top:React.PropTypes.number.isRequired,width:React.PropTypes.number.isRequired,title:React.PropTypes.string.isRequired},handleDismiss:function(e){e.preventDefault()},componentDidMount:function(){this._recomputePosition()},componentWillReceiveProps:function(){this._recomputePosition()},getInitialState:function(){return{realTop:this.props.top}},_recomputePosition:function(){var e=jQuery(React.findDOMNode(this.refs.wrapper));this.setState({realTop:this.props.top-e.outerHeight()/2})},render:function(){return React.createElement("div",{ref:"wrapper",className:"wp-pointer wp-pointer-left",style:{position:"absolute",width:this.props.width,top:this.state.realTop,left:this.props.left,zIndex:9999}},React.createElement("div",{className:"wp-pointer-content"},React.createElement("h3",null,this.props.title),React.createElement("p",null,this.props.children)),React.createElement("div",{className:"wp-pointer-arrow"},React.createElement("div",{className:"wp-pointer-arrow-inner"})))}});module.exports=Tooltip;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],18:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Radium=require("radium"),ProgressBar=require("@automattic/dops-react/js/components/progress-bar"),SetupProgressActions=require("../actions/setup-progress-actions"),Dashicon=require("./dashicon"),stepShape=React.PropTypes.shape({name:React.PropTypes.string.isRequired,slug:React.PropTypes.string}),WelcomeMenu=React.createClass({displayName:"WelcomeMenu",propTypes:{currentStep:stepShape.isRequired,clickable:React.PropTypes.bool,allSteps:React.PropTypes.arrayOf(stepShape).isRequired,progressPercent:React.PropTypes.number.isRequired},getDefaultProps:function(){return{clickable:!0}},styles:{wrapper:{"float":"right",width:"28%",height:"100%",background:"#fafafa",border:"1px solid #eee"},title:{margin:0,padding:12,overflow:"hidden",background:"#444",color:"#fff",fontSize:12,textTransform:"uppercase"},list:{margin:"13px 10px",listStyle:"none","@media (max-width: 600px)":{margin:"5px 4px"}},menuItem:{marginBottom:6,position:"relative",color:"#333",lineHeight:1.7,"@media (max-width: 782px)":{fontSize:"small"},"@media (max-width: 600px)":{fontSize:"smaller"}},menuItemCompleted:{color:"#4AB866"},icon:{fontSize:16,top:3,position:"relative"},menuItemLink:{color:"inherit",borderBottom:"1px dashed"},menuItemCurrent:{color:"#0074A2"}},selectStep:function(e){e.preventDefault();var t=jQuery(e.currentTarget).data("step-slug");SetupProgressActions.setCurrentStep(t)},render:function(){var e=this.props.allSteps.map(function(e){var t,r,s,a;return this.props.clickable&&this.props.currentStep&&(r=this.props.currentStep.slug==e.slug),t=!e["static"]&&this.props.clickable?React.createElement("a",{href:"#",style:this.styles.menuItemLink,"data-step-slug":e.slug,onClick:this.selectStep},e.name):e.name,e.menuView&&this.props.clickable&&(s=React.createElement(e.menuView,null)),a=e.completed?"yes":"arrow-right-alt2",React.createElement("li",{key:e.slug,style:[this.styles.menuItem,e.completed&&this.styles.menuItemCompleted,r&&this.styles.menuItemCurrent]},React.createElement(Dashicon,{style:this.styles.icon,name:a}),t," ",e.skipped?"(skipped)":null,s)}.bind(this));return React.createElement("div",{style:[this.styles.wrapper,this.props.style]},React.createElement("h3",{style:this.styles.title},React.createElement("span",{style:{"float":"left",marginRight:10}},"Your Progress"),React.createElement("div",null,React.createElement(ProgressBar,{style:{"float":"left"},progressPercent:this.props.progressPercent}))),React.createElement("ol",{style:this.styles.list},e))}});module.exports=Radium(WelcomeMenu);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"./dashicon":8,"@automattic/dops-react/js/components/progress-bar":34,"radium":66}],19:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,WelcomeSection=React.createClass({displayName:"WelcomeSection",render:function(){var e=this.props,t=function(e,t){var o={},r=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var n in e)r.call(e,n)&&!r.call(t,n)&&(o[n]=e[n]);return o}(e,{});return React.createElement("div",React.__spread({},t,{className:"welcome__section"}),this.props.children)}});module.exports=WelcomeSection;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],20:[function(require,module,exports){
(function (global){
function getSetupProgress(){return{newUser:SetupProgressStore.isNewUser(),showSpinner:SpinnerStore.showing(),spinnerMessage:SpinnerStore.getMessage(),currentStep:SetupProgressStore.getCurrentStep(),allSteps:SetupProgressStore.getAllSteps(),progressPercent:SetupProgressStore.getProgressPercent()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,WelcomeMenu=require("./welcome-menu"),SetupProgressStore=require("../stores/setup-progress-store"),Reset=require("@automattic/dops-react/js/components/reset"),SetupProgressActions=require("../actions/setup-progress-actions"),Flash=require("./flash"),styles=require("../styles"),GetStarted=require("./get-started"),SpinnerStore=require("../stores/spinner-store"),SpinnerActions=require("../actions/spinner-actions"),DataStore=require("../stores/data-store"),WelcomeWidget=React.createClass({displayName:"WelcomeWidget",styles:{wrapper:{position:"relative"},loadingOverlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",minHeight:"100%",zIndex:999,backgroundColor:"rgba(255,255,255,0.6)"},loadingMessage:{position:"absolute",width:"50%",minWidth:300,borderRadius:2,padding:20,border:"1px solid black",backgroundColor:"white",textAlign:"center",left:"50%",top:100,transform:"translate(-50%,-50%)"},container:{"float":"left",width:"70%",padding:"0 10px"},menu:{marginTop:25}},componentDidMount:function(){SetupProgressStore.addChangeListener(this._onChange),SpinnerStore.addChangeListener(this._onSpinnerChange),DataStore.addChangeListener(this._onDataChange)},componentWillUnmount:function(){SetupProgressStore.removeChangeListener(this._onChange),SpinnerStore.removeChangeListener(this._onSpinnerChange),DataStore.removeChangeListener(this._onDataChange)},_onChange:function(){this.setState(getSetupProgress())},_onSpinnerChange:function(){this.setState({showSpinner:SpinnerStore.showing(),spinnerMessage:SpinnerStore.getMessage()})},_onDataChange:function(){this.setState({saving:DataStore.isSaving()})},getInitialState:function(){return getSetupProgress()},handleReset:function(e){e.preventDefault(),SetupProgressActions.resetData()},handleShowSpinner:function(e){e.preventDefault(),SpinnerActions.show("Testing spinner")},handleHideSpinner:function(e){e.preventDefault(),SpinnerActions.hide()},render:function(){return React.createElement(Reset,{css:styles.css},this._renderDebug(),React.createElement("div",{style:this.styles.wrapper},this._renderSpinner(),React.createElement("div",{style:this.styles.container},React.createElement(Flash,null),this._renderSection()),React.createElement(WelcomeMenu,{style:this.styles.menu,clickable:!this.state.newUser,currentStep:this.state.currentStep,allSteps:this.state.allSteps,progressPercent:this.state.progressPercent}),React.createElement("div",{className:"clear"})))},_renderSection:function(){return this.state.newUser?React.createElement(GetStarted,null):this._renderCurrentView()},_renderDebug:function(){return null},_renderSpinner:function(){return this.state.showSpinner?React.createElement("div",{style:this.styles.loadingOverlay},React.createElement("div",{style:this.styles.loadingMessage},React.createElement("img",{src:"/wp-admin/images/spinner-2x.gif",width:"16px",height:"16px"}),"  ",this.state.spinnerMessage)):null},_renderCurrentView:function(){return this.state.currentStep?React.createElement(this.state.currentStep.welcomeView,null):React.createElement("h3",null,"Nothing")}});module.exports=WelcomeWidget;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../actions/spinner-actions":5,"../stores/data-store":25,"../stores/setup-progress-store":27,"../stores/spinner-store":29,"../styles":30,"./flash":10,"./get-started":11,"./welcome-menu":18,"@automattic/dops-react/js/components/reset":35}],21:[function(require,module,exports){
var keyMirror=require("keymirror");module.exports=keyMirror({STEP_COMPLETE:null,STEP_GET_STARTED:null,STEP_SELECT:null,STEP_NEXT:null,STEP_SKIP:null,SITE_SET_TITLE:null,SITE_SET_DESCRIPTION:null,SITE_SAVE_TITLE_AND_DESCRIPTION:null,SITE_SET_THEME:null,SITE_INSTALL_THEME:null,SITE_JETPACK_CONFIGURED:null,SITE_JETPACK_MODULE_ENABLED:null,SITE_JETPACK_MODULE_DISABLED:null,SITE_JETPACK_JUMPSTART_ENABLED:null,SITE_JETPACK_ADD_MODULES:null,SITE_SET_LAYOUT:null,SAVE_STARTED:null,SAVE_FINISHED:null,SET_FLASH:null,UNSET_FLASH:null,FLASH_SEVERITY_NOTICE:null,FLASH_SEVERITY_ERROR:null,RESET_DATA:null,SHOW_SPINNER:null,HIDE_SPINNER:null});

},{"keymirror":58}],22:[function(require,module,exports){
module.exports={SITE_TITLE_STEP_SLUG:"title",LAYOUT_STEP_SLUG:"layout",TRAFFIC_STEP_SLUG:"traffic",STATS_MONITORING_STEP_SLUG:"stats-monitoring",DESIGN_STEP_SLUG:"design",ADVANCED_STEP_SLUG:"advanced",JETPACK_MODULES_STEP_SLUG:"jetpack"};

},{}],23:[function(require,module,exports){
var Dispatcher=require("flux").Dispatcher;module.exports=new Dispatcher;

},{"flux":53}],24:[function(require,module,exports){
var WelcomePanel=require("./welcome-panel");WelcomePanel();

},{"./welcome-panel":32}],25:[function(require,module,exports){
function incrementSaveCounter(){_currentSaves+=1}function decrementSaveCounter(){_currentSaves-=1}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),_currentSaves=0,jpsTimeout,CHANGE_EVENT="change";jQuery(window).on("beforeunload",function(){return DataStore.isSaving()?(jpsTimeout=setTimeout(function(){},1e3),"Your site changes are still saving."):void 0}),jQuery(window).on("unload",function(){clearTimeout(jpsTimeout)});var DataStore=_.extend({},EventEmitter.prototype,{isSaving:function(){return _currentSaves>0},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)},emitChange:function(){this.emit(CHANGE_EVENT)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SAVE_STARTED:incrementSaveCounter(),DataStore.emitChange();break;case JPSConstants.SAVE_FINISHED:decrementSaveCounter(),DataStore.emitChange()}}),module.exports=DataStore;

},{"../constants/jetpack-start-constants":21,"../dispatcher/app-dispatcher":23,"events":56}],26:[function(require,module,exports){
function setFlash(e,t){message=e,severity=t}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),CHANGE_EVENT="change",message,severity,FlashStore=_.extend({},EventEmitter.prototype,{getFlash:function(){var e;switch(severity){case JPSConstants.FLASH_SEVERITY_ERROR:e="error";break;case JPSConstants.FLASH_SEVERITY_NOTICE:e="notice"}return{message:message,severity:e}},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)},emitChange:function(){this.emit(CHANGE_EVENT)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SET_FLASH:setFlash(e.message,e.severity),FlashStore.emitChange();break;case JPSConstants.UNSET_FLASH:setFlash(null,null),FlashStore.emitChange()}}),module.exports=FlashStore;

},{"../constants/jetpack-start-constants":21,"../dispatcher/app-dispatcher":23,"events":56}],27:[function(require,module,exports){
function setSteps(e){e.forEach(function(e){"undefined"==typeof e.completed&&(e.completed=JPS.step_status[e.slug]&&JPS.step_status[e.slug].completed||!1),"undefined"==typeof e.skipped&&(e.skipped=JPS.step_status[e.slug]&&JPS.step_status[e.slug].skipped||!1),"undefined"==typeof e["static"]&&(e["static"]=!1),"undefined"==typeof e.neverSkip&&(e.neverSkip=!1),"undefined"==typeof e.includeInProgress&&(e.includeInProgress=!0)}),_steps=e,ensureValidStepSlug()}function setStarted(){_started=!0,selectNextPendingStep()}function complete(e){var t=getStepFromSlug(e);t.completed=!0,t.skipped=!1}function skip(){var e=currentStepSlug(),t=getStepFromSlug(e);t.skipped=!0,selectNextPendingStep()}function getStepFromSlug(e){var t=null;return _.each(_steps,function(n){n.slug===e&&(t=n)}),t}function ensureValidStepSlug(){var e=currentStepSlug();if(!e||!getStepFromSlug(e)){var t=getNextPendingStep();null!==t&&(window.location.hash="welcome/steps/"+t.slug)}}function selectNextPendingStep(){var e=getNextPendingStep();null!==e&&select(e.slug)}function getNextPendingStep(){var e=currentStepIndex();return e&&_steps[e+1]&&_steps[e+1].neverSkip===!0?_steps[e+1]:_.findWhere(_steps,{completed:!1,skipped:!1})}function currentStepSlug(){if(0===window.location.hash.indexOf("#welcome/steps")){var e=window.location.hash.split("/"),t=e[e.length-1];return t}return null}function currentStepIndex(){for(var e=currentStepSlug(),t=0;t<_steps.length;t++)if(_steps[t].slug===e)return t;return!1}function select(e){window.location.hash="welcome/steps/"+e,WPAjax.post(JPS.step_actions.view,{step:e},{quiet:!0})}function reset(){JPS.step_status={},_.where(_steps,{"static":!1}).forEach(function(e){e.completed=!1,e.skipped=!1}),_started=!1}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),WPAjax=require("../utils/wp-ajax"),CHANGE_EVENT="change",_steps,_started=JPS.started,SetupProgressStore=_.extend({},EventEmitter.prototype,{init:function(e){setSteps(e)},getAllSteps:function(){return _steps},isNewUser:function(){return!_started},emitChange:function(){this.emit(CHANGE_EVENT)},getCurrentStep:function(){return getStepFromSlug(currentStepSlug())},getNextPendingStep:function(){return getNextPendingStep()},getStepFromSlug:function(e){return getStepFromSlug(e)},getProgressPercent:function(){var e=_.where(_steps,{includeInProgress:!0}).length,t=_.where(_steps,{includeInProgress:!0,completed:!0}).length,n=t/e*90+10,s=10*Math.round(n/10);return s},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.STEP_GET_STARTED:setStarted(),SetupProgressStore.emitChange();break;case JPSConstants.STEP_SELECT:select(e.slug),SetupProgressStore.emitChange();break;case JPSConstants.STEP_NEXT:selectNextPendingStep(),SetupProgressStore.emitChange();break;case JPSConstants.STEP_COMPLETE:complete(e.slug),SetupProgressStore.emitChange();break;case JPSConstants.STEP_COMPLETE_AND_NEXT:complete(e.slug),selectNextPendingStep(),SetupProgressStore.emitChange();break;case JPSConstants.RESET_DATA:reset(),SetupProgressStore.emitChange();break;case JPSConstants.STEP_SKIP:skip(),SetupProgressStore.emitChange()}}),module.exports=SetupProgressStore;

},{"../constants/jetpack-start-constants":21,"../dispatcher/app-dispatcher":23,"../utils/wp-ajax":31,"events":56}],28:[function(require,module,exports){
function setTitle(e){JPS.bloginfo.name=e}function setDescription(e){JPS.bloginfo.description=e}function setActiveTheme(e){JPS.themes.forEach(function(t){t.id==e?t.active=!0:t.active=!1})}function installedTheme(e){JPS.themes.unshift(e),JPS.themes=JPS.themes.slice(0,3)}function setJetpackModuleActivated(e){-1===_.indexOf(JPS.jetpack.active_modules,e)&&JPS.jetpack.active_modules.push(e)}function setJetpackModuleDectivated(e){var t=_.indexOf(JPS.jetpack.active_modules,e);t>=0&&JPS.jetpack.active_modules.splice(t,1)}function setJetpackAdditionalModules(e){JPS.jetpack.additional_modules=_.filter(e,function(e){return-1==_.indexOf(JPS.jetpack.jumpstart_modules.map(function(e){return e.slug}),e.slug)})}function setLayout(e){layout=e}function setJetpackConfigured(){JPS.jetpack.configured=!0}function setJetpackJumpstartActivated(){JPS.jetpack.jumpstart_modules.forEach(function(e){setJetpackModuleActivated(e.slug)})}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),WPAjax=require("../utils/wp-ajax"),CHANGE_EVENT="change",layout=JPS.steps.layout.current,SiteStore=_.extend({},EventEmitter.prototype,{getTitle:function(){return JPS.bloginfo.name},getDescription:function(){return JPS.bloginfo.description},getThemes:function(){return JPS.themes},getActiveThemeId:function(){for(var e=0;e<JPS.themes.length;e++){var t=JPS.themes[e];if(t.active)return t.id}return null},getJetpackConfigured:function(){return JPS.jetpack.configured},getActiveModuleSlugs:function(){return JPS.jetpack.active_modules},isJetpackModuleEnabled:function(e){return _.indexOf(JPS.jetpack.active_modules,e)>=0},getJetpackAdditionalModules:function(){return JPS.jetpack.additional_modules},getJumpstartModuleSlugs:function(){return JPS.jetpack.jumpstart_modules.map(function(e){return e.slug})},getJumpstartModules:function(){return JPS.jetpack.jumpstart_modules},getPopularThemes:function(){return WPAjax.post(JPS.site_actions.get_popular_themes)},getJetpackJumpstartEnabled:function(){for(var e=0;e<JPS.jetpack.jumpstart_modules.length;e++){var t=JPS.jetpack.jumpstart_modules[e];if(!this.isJetpackModuleEnabled(t.slug))return!1}return!0},getLayout:function(){return layout},emitChange:function(){this.emit(CHANGE_EVENT)},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SITE_SET_TITLE:setTitle(e.title),SiteStore.emitChange();break;case JPSConstants.SITE_SET_DESCRIPTION:setDescription(e.description),SiteStore.emitChange();break;case JPSConstants.SITE_SET_THEME:setActiveTheme(e.themeId),SiteStore.emitChange();break;case JPSConstants.SITE_INSTALL_THEME:installedTheme(e.theme),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_CONFIGURED:setJetpackConfigured(),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_ADD_MODULES:setJetpackAdditionalModules(e.modules),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_MODULE_ENABLED:setJetpackModuleActivated(e.slug),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_MODULE_DISABLED:setJetpackModuleDectivated(e.slug),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_JUMPSTART_ENABLED:setJetpackJumpstartActivated(),SiteStore.emitChange();break;case JPSConstants.SITE_SET_LAYOUT:setLayout(e.layout),SiteStore.emitChange()}}),module.exports=SiteStore;

},{"../constants/jetpack-start-constants":21,"../dispatcher/app-dispatcher":23,"../utils/wp-ajax":31,"events":56}],29:[function(require,module,exports){
function show(e){spinnerEnabled=!0,spinnerMessage=e}function hide(){spinnerEnabled=!1,spinnerMessage=null}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),CHANGE_EVENT="change",spinnerEnabled=!1,spinnerMessage=null,SpinnerStore=_.extend({},EventEmitter.prototype,{showing:function(){return spinnerEnabled},getMessage:function(){return spinnerMessage},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)},emitChange:function(){this.emit(CHANGE_EVENT)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SHOW_SPINNER:show(e.message),SpinnerStore.emitChange();break;case JPSConstants.HIDE_SPINNER:hide(),SpinnerStore.emitChange()}}),module.exports=SpinnerStore;

},{"../constants/jetpack-start-constants":21,"../dispatcher/app-dispatcher":23,"events":56}],30:[function(require,module,exports){
module.exports={h3:{fontWeight:"normal"},content:{fontSize:"larger",color:"#777",lineHeight:1.5,margin:"1em 0"},css:{h4:{marginBottom:10},h5:{marginTop:0,fontSize:"1em",fontWeight:400},"input, select":{margin:1,padding:"3px 5px"},'input[type="text"]':{width:"100%"},".submit":{margin:"0px !important",padding:"5px 5px !important",backgroundColor:"#EEE",textAlign:"right"}}};

},{}],31:[function(require,module,exports){
var DataActions=require("../actions/data-actions"),WPAjax=function(){return{post:function(e,t,n){n="undefined"!=typeof n?n:{},t="undefined"!=typeof t?t:{};var a=_.extend(t,{action:e,nonce:JPS.nonce}),r=jQuery.Deferred();return n.quiet||DataActions.requestStarted(),jQuery.post(ajaxurl,a).success(function(e){e.success?r.resolve(e.data):r.reject(e.data)}).fail(function(){r.reject("Server error")}).always(function(){n.quiet||DataActions.requestFinished()}),r}}}();module.exports=WPAjax;

},{"../actions/data-actions":1}],32:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,WelcomeWidget=require("./components/welcome-widget"),Paths=require("./constants/jetpack-start-paths"),SetupProgressStore=require("./stores/setup-progress-store");module.exports=function(){jQuery(document).ready(function(){SetupProgressStore.init([{name:"Site title",slug:Paths.SITE_TITLE_STEP_SLUG,welcomeView:require("./components/site-title-step")},{name:"Pick a layout",slug:Paths.LAYOUT_STEP_SLUG,welcomeView:require("./components/layout-step")},{name:"Pick a design",slug:Paths.DESIGN_STEP_SLUG,welcomeView:require("./components/design-step")},{name:"Enable Jetpack",slug:Paths.JETPACK_MODULES_STEP_SLUG,neverSkip:!0,welcomeView:require("./components/jetpack-jumpstart-step"),menuView:require("./components/jetpack-jumpstart-menu")},{name:"Advanced settings",slug:Paths.ADVANCED_STEP_SLUG,welcomeView:require("./components/advanced-settings-step"),includeInProgress:!1}]),React.render(React.createElement(WelcomeWidget,{}),document.getElementById("jps-welcome-panel"))})};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./components/advanced-settings-step":6,"./components/design-step":9,"./components/jetpack-jumpstart-menu":12,"./components/jetpack-jumpstart-step":13,"./components/layout-step":14,"./components/site-title-step":15,"./components/welcome-widget":20,"./constants/jetpack-start-paths":22,"./stores/setup-progress-store":27}],33:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,styles=require("../styles"),Radium=require("radium"),Button=React.createClass({displayName:"Button",propTypes:{size:React.PropTypes.oneOf(["tiny","normal","big"]),color:React.PropTypes.oneOf(["gray","blue","green"]),theme:React.PropTypes.oneOf(["wp","jetpack"]),inline:React.PropTypes.bool,onClick:React.PropTypes.func,disabled:React.PropTypes.bool,href:React.PropTypes.string},getDefaultProps:function(){return{size:"normal",inline:!0,color:"gray",theme:"wp",disabled:!1}},handleCallbackHref:function(e){e.preventDefault(),window.location=this.props.href},styles:{basic:{borderRadius:3,boxShadow:"inset 0 1px 0 rgba(255, 255, 255, 0.3)",borderWidth:1,borderStyle:"solid",cursor:"pointer",display:"block",fontSize:14,fontWeight:"bold",padding:"10px 20px",textAlign:"center",textDecoration:"none",WebkitFontSmoothing:"antialiased",transition:"background 0.2s"},sizes:{tiny:{fontSize:10,padding:"2px 10px"},normal:{fontSize:13,padding:"5px 10px"},big:{fontSize:16,padding:"20px 40px"}},colors:{gray:{background:"linear-gradient(#fff, #f9f9f9)",borderColor:styles.colors.lightGray,color:styles.colors.darkGray,":hover":{color:styles.colors.gray}},blue:{background:styles.colors.blue,borderColor:"rgba(0,0,0,0.6)",color:"white",":hover":{background:styles.colors.lighterBlue}},green:{background:styles.colors.green,color:"white",borderColor:"rgba(0,0,0,0.6)",":hover":{background:styles.colors.lighterGreen}}},themes:{wp:{},jetpack:{padding:"18px 24px 15px",borderRadius:6,borderStyle:"none",boxShadow:"0 6px 0 #3e6c20,0 6px 3px rgba(0,0,0,0.4)"}},inline:{display:"inline-block"},disabled:{background:"#f9f9f9",borderColor:styles.colors.lightGray,color:styles.colors.lightGray,":hover":{background:"#f9f9f9",borderColor:styles.colors.lightGray,color:styles.colors.lightGray}}},render:function(){var e,o=this.props,r=o.size,t=o.color,l=o.inline,s=o.onClick,i=o.theme,n=o.href,a=function(e,o){var r={},t=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var l in e)t.call(e,l)&&!t.call(o,l)&&(r[l]=e[l]);return r}(o,{size:1,color:1,inline:1,onClick:1,theme:1,href:1}),c=[this.styles.basic,this.styles.sizes[r],this.styles.colors[t],this.styles.themes[i],this.props.disabled&&this.styles.disabled,l&&this.styles.inline,this.props.style];return e=n&&!s?this.handleCallbackHref:s,React.createElement("button",React.__spread({},a,{style:c,onClick:e,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut}),this.props.children)}});module.exports=Radium(Button);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../styles":36,"radium":45}],34:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Radium=require("radium"),ProgressBar=React.createClass({displayName:"ProgressBar",propTypes:{style:React.PropTypes.object,progressPercent:React.PropTypes.number.isRequired},styles:{wrapper:{fontWeight:400,fontSize:"80%"},progress:{background:"#4ab866",width:"0%",transition:"width 0.5s",display:"block",height:"100%"},bar:{display:"inline-block",width:80,height:12,margin:"0 8px -2px 0",padding:2,borderRadius:2,background:"#f5f5f5"}},render:function(){return React.createElement("div",{style:[this.styles.wrapper,this.props.style]},React.createElement("div",{style:this.styles.bar},React.createElement("span",{style:[this.styles.progress,{width:this.props.progressPercent+"%"}]})),this.props.progressPercent,"% complete")}});module.exports=Radium(ProgressBar);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"radium":45}],35:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Radium=require("radium"),m=require("../utils/m"),idCounter=0,Reset=React.createClass({displayName:"Reset",propTypes:{css:React.PropTypes.object},style:{resets:{"*":{boxSizing:"border-box"},"div, ul, ol, li, h1, h2, h3, h4, h5, h6, form, fieldset, legend, input, button, textarea, p, blockquote, th, td":{margin:0,padding:0},img:{border:"none",maxWidth:"100%"},td:{verticalAlign:"top"},".slideDown-enter":{overflowY:"hidden",maxHeight:0,transition:"all .5s ease-out"},".slideDown-enter-active":{overflowY:"hidden",maxHeight:400},".slideDown-leave":{overflowY:"hidden",maxHeight:400,transition:"all .5s ease-out"},".slideDown-leave-active":{overflowY:"hidden",maxHeight:0},".slideRTL-enter":{position:"absolute",left:"100%",transition:"all .2s linear"},".slideRTL-enter-active":{position:"absolute",left:"0%"},".slideRTL-leave":{position:"absolute",left:"0%",transition:"all .2s linear"},".slideRTL-leave-active":{position:"absolute",left:"-100%"},".slideLTR-enter":{position:"absolute",left:"-100%",transition:"all .2s linear"},".slideLTR-enter-active":{position:"absolute",left:"0%"},".slideLTR-leave":{position:"absolute",left:"0%",transition:"all .2s linear"},".slideLTR-leave-active":{position:"absolute",left:"100%"}}},render:function(){var e=this.props,t=function(e,t){var i={},l=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var o in e)l.call(e,o)&&!l.call(t,o)&&(i[o]=e[o]);return i}(e,{}),i=this._generateId();return React.createElement("div",React.__spread({id:i},t),React.createElement(Radium.Style,{scopeSelector:"#"+i,rules:m(this.style.resets,this.props.css)}),this.props.children)},_generateId:function(){return"dopsid"+idCounter++}});module.exports=Reset;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../utils/m":37,"radium":45}],36:[function(require,module,exports){
var styles={right:{"float":"right"},left:{"float":"left"},third:{width:"33%"},full:{width:"100%"},half:{width:"48%"},hidden:{display:"none"},clear:{clear:"both",display:"block"},accountStatus:{textTransform:"capitalize"},accountStatusNoticon:{borderRadius:"50%",width:16,height:16,marginRight:10,color:"#fff",background:"#81bf16"},box:{borderRadius:2,padding:"5px 10px",background:"#f5f5f5"},light:{color:"#999"},colors:{akismetGreen:"#5e8e14",blue:"#029dd6",lighterBlue:"#13AEE7",black:"#333",darkGray:"#444",gray:"#787878",lightGray:"#bbb",veryLightGray:"#eee",offWhite:"#f9f9f9",accountActive:"#81bf16",accountInactive:"#bbb",green:"#518d2a",lighterGreen:"#57972d"},fonts:{sans:'Open Sans, "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif',serif:"Merriweather, Georgia, serif",mono:'"Courier New", Courier, monospace'},input:{width:"100%",boxShadow:"none",background:"#fff",border:"1px solid #d5d5d5",fontSize:12,padding:"8px 10px"},select:{borderRadius:3,backgroundColor:"#fff",fontSize:12,height:35,width:"100%",border:"1px solid #d5d5d5",padding:"3px 5px",minWidth:0},checkbox:{marginRight:10},errorField:{border:"1px solid #dd3d36"},errorLabel:{border:"1px solid #dd3d36",color:"#a00",display:"block",fontSize:12,margin:"5px 0 0 0",padding:5}};styles.css={"> *":{font:"14px/1.5 "+styles.fonts.sans,color:styles.colors.black},a:{color:styles.colors.blue,textDecoration:"none"},"a:hover":{textDecoration:"underline"},h1:{fontSize:34},h2:{color:styles.colors.gray,fontSize:16},h3:{fontSize:18},"h1, h2, h3":{fontFamily:styles.fonts.serif,fontWeight:500}},module.exports=styles;

},{}],37:[function(require,module,exports){
module.exports=function(){for(var e={},r=0;r<arguments.length;++r)arguments[r]&&jQuery.extend(e,arguments[r]);return e};

},{}],38:[function(require,module,exports){
(function (global){
"use strict";var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Style=require("./style.js"),printStyles=require("../print-styles.js"),PrintStyle=React.createClass({displayName:"PrintStyle",getInitialState:function(){return this._getStylesState()},componentDidMount:function(){this.subscription=printStyles.subscribe(this._onChange)},componentWillUnmount:function(){this.subscription.remove()},_onChange:function(){this.setState(this._getStylesState())},_getStylesState:function(){return{styles:printStyles.getPrintStyles()}},render:function(){return React.createElement(Style,{rules:{mediaQueries:{print:this.state.styles}}})}});module.exports=PrintStyle;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../print-styles.js":49,"./style.js":39}],39:[function(require,module,exports){
(function (global){
"use strict";var createMarkupForStyles=require("../create-markup-for-styles"),Prefixer=require("../prefixer"),React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,buildCssString=function(e,t,r){if(t&&r){var i=Prefixer.getPrefixedStyle(e,r,"css"),s=createMarkupForStyles(i);return t+"{"+s+"}"}},Style=React.createClass({displayName:"Style",propTypes:{rules:React.PropTypes.object,scopeSelector:React.PropTypes.string},getDefaultProps:function(){return{scopeSelector:""}},_buildStyles:function(e){var t=this;return Object.keys(e).reduce(function(r,i){var s=e[i];if("mediaQueries"===i)r+=t._buildMediaQueryString(s);else{var n=(t.props.scopeSelector?t.props.scopeSelector+" ":"")+i;r+=buildCssString(t,n,s)}return r},"")},_buildMediaQueryString:function(e){var t=this,r=this._getContextMediaQueries(),i="";return Object.keys(e).forEach(function(s){var n=r[s]?r[s]:s;i+="@media "+n+"{"+t._buildStyles(e[s])+"}"}),i},_getContextMediaQueries:function(){var e={};return this.context&&this.context.mediaQueries&&Object.keys(this.context.mediaQueries).forEach(function(t){e[t]=this.context.mediaQueries[t].media}.bind(this)),e},render:function(){if(!this.props.rules)return null;var e=this._buildStyles(this.props.rules);return React.createElement("style",{dangerouslySetInnerHTML:{__html:e}})}});module.exports=Style;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../create-markup-for-styles":41,"../prefixer":48}],40:[function(require,module,exports){
"use strict";var ExecutionEnvironment=require("exenv"),_matchMediaFunction=ExecutionEnvironment.canUseDOM&&window&&window.matchMedia&&function(n){return window.matchMedia(n)};module.exports={canMatchMedia:function(){return"function"==typeof _matchMediaFunction},matchMedia:function(n){return _matchMediaFunction(n)},setMatchMedia:function(n){_matchMediaFunction=n}};

},{"exenv":52}],41:[function(require,module,exports){
"use strict";var createMarkupForStyles=function(e,r){return r=r||"",Object.keys(e).map(function(t){return r+t+": "+e[t]+";"}).join("\n")};module.exports=createMarkupForStyles;

},{}],42:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),_get=function(t,e,r){for(var o=!0;o;){var n=t,i=e,s=r;a=u=l=void 0,o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(n);if(null===u)return void 0;t=u,e=i,r=s,o=!0}},resolveStyles=require("./resolve-styles.js"),printStyles=require("./print-styles.js"),enhanceWithRadium=function(t){var e=function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments),this.state=this.state||{},this.state._radiumStyleState={},e.printStyleClass&&(this.printStyleClass=e.printStyleClass)}return _inherits(e,t),_createClass(e,[{key:"render",value:function(){var t=_get(Object.getPrototypeOf(e.prototype),"render",this).call(this);return resolveStyles(this,t)}},{key:"componentWillUnmount",value:function(){_get(Object.getPrototypeOf(e.prototype),"componentWillUnmount",this)&&_get(Object.getPrototypeOf(e.prototype),"componentWillUnmount",this).call(this),this._radiumMouseUpListener&&this._radiumMouseUpListener.remove(),this._radiumMediaQueryListenersByQuery&&Object.keys(this._radiumMediaQueryListenersByQuery).forEach(function(t){this._radiumMediaQueryListenersByQuery[t].remove()},this)}}]),e}(t);return Object.getOwnPropertyNames(t.prototype).forEach(function(r){if(!e.prototype.hasOwnProperty(r)){var o=Object.getOwnPropertyDescriptor(t.prototype,r);Object.defineProperty(e.prototype,r,o)}}),e.displayName=t.displayName||t.name||"Component",e.printStyleClass=printStyles.addPrintStyles(e),e};module.exports=enhanceWithRadium;

},{"./print-styles.js":49,"./resolve-styles.js":50}],43:[function(require,module,exports){
"use strict";var getStateKey=function(t){return null===t||void 0===t?"main":t.toString()};module.exports=getStateKey;

},{}],44:[function(require,module,exports){
"use strict";var getStateKey=require("./get-state-key"),VALID_KEYS=[":active",":focus",":hover"],getState=function(t,e,a){if(-1===VALID_KEYS.indexOf(a))throw new Error("Radium.getState invalid value param: `"+a+"`");var r=getStateKey(e);return!!(t&&t._radiumStyleState&&t._radiumStyleState[r]&&t._radiumStyleState[r][a])};module.exports=getState;

},{"./get-state-key":43}],45:[function(require,module,exports){
"use strict";var Enhancer=require("./enhancer");module.exports=function(e){return Enhancer(e)},module.exports.Style=require("./components/style"),module.exports.PrintStyleSheet=require("./components/print-style-sheet"),module.exports.getState=require("./get-state"),module.exports.keyframes=require("./keyframes"),module.exports.Config=require("./config");

},{"./components/print-style-sheet":38,"./components/style":39,"./config":40,"./enhancer":42,"./get-state":44,"./keyframes":46}],46:[function(require,module,exports){
"use strict";var createMarkupForStyles=require("./create-markup-for-styles"),Prefixer=require("./prefixer"),ExecutionEnvironment=require("exenv"),isAnimationSupported=ExecutionEnvironment.canUseDOM&&Prefixer.getPrefixedPropertyName("animation")!==!1,animationIndex=1,animationStyleSheet=null,keyframesPrefixed="keyframes";isAnimationSupported&&(animationStyleSheet=document.createElement("style"),document.head.appendChild(animationStyleSheet),animationStyleSheet.textContent="@keyframes {}",animationStyleSheet.sheet.cssRules.length||(keyframesPrefixed=Prefixer.cssPrefix+"keyframes"));var keyframes=function(e,t){var n="Animation"+animationIndex;if(animationIndex+=1,!isAnimationSupported)return n;var r="@"+keyframesPrefixed+" "+n+" {\n"+Object.keys(e).map(function(n){var r=e[n],i=Prefixer.getPrefixedStyle(t,r,"css"),a=createMarkupForStyles(i,"  ");return"  "+n+" {\n  "+a+"\n  }"}).join("\n")+"\n}\n";if(!animationStyleSheet)throw new Error("keyframes not initialized properly");return animationStyleSheet.sheet.insertRule(r,animationStyleSheet.sheet.cssRules.length),n};module.exports=keyframes;

},{"./create-markup-for-styles":41,"./prefixer":48,"exenv":52}],47:[function(require,module,exports){
"use strict";var _callbacks=[],_mouseUpListenerIsActive=!1,_handleMouseUp=function(e){_callbacks.forEach(function(s){s(e)})},subscribe=function(e){return-1===_callbacks.indexOf(e)&&_callbacks.push(e),_mouseUpListenerIsActive||(window.addEventListener("mouseup",_handleMouseUp),_mouseUpListenerIsActive=!0),{remove:function(){var s=_callbacks.indexOf(e);_callbacks.splice(s,1),0===_callbacks.length&&_mouseUpListenerIsActive&&(window.removeEventListener("mouseup",_handleMouseUp),_mouseUpListenerIsActive=!1)}}};module.exports={subscribe:subscribe};

},{}],48:[function(require,module,exports){
(function (process){
"use strict";var ExecutionEnvironment=require("exenv"),arrayFind=require("array-find"),VENDOR_PREFIX_REGEX=/-(moz|webkit|ms|o)-/,vendorPrefixes=["Webkit","ms","Moz","O"],infoByCssPrefix={"-moz-":{cssPrefix:"-moz-",jsPrefix:"Moz",alternativeProperties:{alignItems:[{css:"-moz-box-align",js:"MozBoxAlign"}],flex:[{css:"-moz-box-flex",js:"MozBoxFlex"}],flexDirection:[{css:"-moz-box-orient",js:"MozBoxOrient"}],justifyContent:[{css:"-moz-box-pack",js:"MozBoxPack"}],order:[{css:"-moz-box-ordinal-group",js:"MozBoxOrdinalGroup"}]},alternativeValues:{alignItems:{"flex-start":["start"],"flex-end":["end"]},display:{flex:["-moz-box"]},flexDirection:{column:["vertical"],row:["horizontal"]},justifyContent:{"flex-start":["start"],"flex-end":["end"],"space-between":["justify"]}}},"-ms-":{cssPrefix:"-ms-",jsPrefix:"ms",alternativeProperties:{alignContent:[{css:"-ms-flex-line-pack",js:"msFlexLinePack"}],alignItems:[{css:"-ms-flex-align",js:"msFlexAlign"}],alignSelf:[{css:"-ms-flex-align-item",js:"msFlexAlignItem"}],justifyContent:[{css:"-ms-flex-pack",js:"msFlexPack"}],order:[{css:"-ms-flex-order",js:"msFlexOrder"}]},alternativeValues:{alignContent:{"flex-start":["start"],"flex-end":["end"],"space-between":["justify"],"space-around":["distribute"]},alignItems:{"flex-start":["start"],"flex-end":["end"]},alignSelf:{"flex-start":["start"],"flex-end":["end"]},display:{flex:["-ms-flexbox"],"inline-flex":["-ms-inline-flexbox"]},justifyContent:{"flex-start":["start"],"flex-end":["end"],"space-between":["justify"],"space-around":["distribute"]}}},"-o-":{cssPrefix:"-o-",jsPrefix:"O"},"-webkit-":{cssPrefix:"-webkit-",jsPrefix:"Webkit",alternativeProperties:{alignItems:[{css:"-webkit-box-align",js:"WebkitBoxAlign"}],flex:[{css:"-webkit-box-flex",js:"MozBoxFlex"}],flexDirection:[{css:"-webkit-box-orient",js:"WebkitBoxOrient"}],justifyContent:[{css:"-webkit-box-pack",js:"WebkitBoxPack"}],order:[{css:"-webkit-box-ordinal-group",js:"WebkitBoxOrdinalGroup"}]},alternativeValues:{alignItems:{"flex-start":["start"],"flex-end":["end"]},display:{flex:["-webkit-box"]},flexDirection:{row:["horizontal"],column:["vertical"]},justifyContent:{"flex-start":["start"],"flex-end":["end"],"space-between":["justify"]}}}},isUnitlessNumber={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},domStyle={},prefixedPropertyCache={},prefixedValueCache={},prefixInfo={cssPrefix:"",jsPrefix:""};if(ExecutionEnvironment.canUseDOM){domStyle=document.createElement("p").style,void 0===domStyle["float"]&&(domStyle["float"]="");for(var prefixMatch,windowStyles=window.getComputedStyle(document.documentElement,""),i=0;i<windowStyles.length&&!(prefixMatch=windowStyles[i].match(VENDOR_PREFIX_REGEX));i++);var cssVendorPrefix=prefixMatch&&prefixMatch[0];prefixInfo=cssVendorPrefix&&infoByCssPrefix[cssVendorPrefix]?infoByCssPrefix[cssVendorPrefix]:prefixInfo}var _camelCaseRegex=/([a-z])?([A-Z])/g,_camelCaseReplacer=function(e,r,t){return r+"-"+t.toLowerCase()},_camelCaseToDashCase=function(e){return e.replace(_camelCaseRegex,_camelCaseReplacer)},getPrefixedPropertyName=function(e){if(prefixedPropertyCache.hasOwnProperty(e))return prefixedPropertyCache[e];var r={css:_camelCaseToDashCase(e),js:e,isDefaultForServer:!0},t=[{css:prefixInfo.cssPrefix+_camelCaseToDashCase(e),js:prefixInfo.jsPrefix+e[0].toUpperCase()+e.slice(1)},r];prefixInfo.alternativeProperties&&prefixInfo.alternativeProperties[e]&&(t=t.concat(prefixInfo.alternativeProperties[e]));var i=arrayFind(t,function(e){return e.js in domStyle?e:void 0})||!1;return prefixedPropertyCache[e]=i},_getUnprefixedProperty=function(e){var r=e;return vendorPrefixes.some(function(t){return 0===e.indexOf(t)?(r=r.replace(t,""),r=r.charAt(0).toLowerCase()+r.slice(1),!0):void 0}),r},_addPixelSuffixToValueIfNeeded=function(e,r){var t=_getUnprefixedProperty(e);return 0===r||isNaN(r)||isUnitlessNumber[t]?r:r+"px"},_getPrefixedValue=function(e,r,t,i){if(!Array.isArray(t)){if(!isNaN(t)&&null!==t)return _addPixelSuffixToValueIfNeeded(i,t);if("string"!=typeof t){if(null===t||void 0===t)return t;t=t.toString()}if(!isNaN(parseInt(t,10)))return t}var s=Array.isArray(t)?t.join(" || "):r+t;if(prefixedValueCache.hasOwnProperty(s))return prefixedValueCache[s];var n;Array.isArray(t)?(n=t.map(function(e){return _addPixelSuffixToValueIfNeeded(i,e)}),n=n.concat(t.filter(function(e){return!isNaN(e)}).map(function(e){return prefixInfo.cssPrefix+e}))):n=[t,prefixInfo.cssPrefix+t],prefixInfo.alternativeValues&&prefixInfo.alternativeValues[i]&&prefixInfo.alternativeValues[i][t]&&(n=n.concat(prefixInfo.alternativeValues[i][t]));var o=arrayFind(n,function(e){return domStyle[r]="",domStyle[r]=e,!!domStyle[r]});if(o)prefixedValueCache[s]=o;else if(prefixedValueCache[s]=t,"production"!==process.env.NODE_ENV&&console&&console.warn){var a=e?' in component "'+e.constructor.displayName+'"':"";console.warn('Unsupported CSS value "'+t+'" for property "'+r+'$"'+a)}return prefixedValueCache[s]},getPrefixedStyle=function(e,r){var t=arguments.length<=2||void 0===arguments[2]?"js":arguments[2];if(!ExecutionEnvironment.canUseDOM)return Object.keys(r).reduce(function(e,i){var s=r[i],n="css"===t?_camelCaseToDashCase(i):i,o=Array.isArray(s)?s[0]:s;return e[n]=o,e},{});var i={};return Object.keys(r).forEach(function(s){var n=r[s],o=getPrefixedPropertyName(s);if(o!==!1||"production"===process.env.NODE_ENV){var a=_getPrefixedValue(e,o.js,n,s);i[o[t]]=a}else if(console&&console.warn){var f=e?' in component "'+e.constructor.displayName+'"':"";console.warn('Unsupported CSS property "'+s+'$"'+f)}}),i};module.exports={getPrefixedPropertyName:getPrefixedPropertyName,getPrefixedStyle:getPrefixedStyle,cssPrefix:prefixInfo.cssPrefix,jsPrefix:prefixInfo.jsPrefix};

}).call(this,require('_process'))

},{"_process":57,"array-find":51,"exenv":52}],49:[function(require,module,exports){
"use strict";var allPrintStyles={},listeners=[],subscribe=function(t){return-1===listeners.indexOf(t)&&listeners.push(t),{remove:function(){var e=listeners.indexOf(t);e>-1&&listeners.splice(e,1)}}},_emitChange=function(){listeners.forEach(function(t){return t()})},_appendImportantToEachValue=function(t){var e={};return Object.keys(t).forEach(function(n){var r=t[n];r+=" !important",e[n]=r}),e},addPrintStyles=function(t){if(t.printStyles){var e={};return Object.keys(t.printStyles).forEach(function(n){var r=t.printStyles[n],i="Radium-"+t.displayName+"-"+n;allPrintStyles["."+i]=_appendImportantToEachValue(r),e[n]=i}),_emitChange(),e}},getPrintStyles=function(){return allPrintStyles};module.exports={addPrintStyles:addPrintStyles,getPrintStyles:getPrintStyles,subscribe:subscribe};

},{}],50:[function(require,module,exports){
(function (process,global){
"use strict";var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},MouseUpListener=require("./mouse-up-listener"),getState=require("./get-state"),getStateKey=require("./get-state-key"),Prefixer=require("./prefixer"),Config=require("./config"),ExecutionEnvironment=require("exenv"),React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,mediaQueryListByQueryString={},_isSpecialKey=function(e){return":"===e[0]||"@"===e[0]},_getStyleState=function(e,t,r){return getState(e.state,t,r)},_setStyleState=function(e,t,r){var o=e._lastRadiumState||e.state&&e.state._radiumStyleState||{},n={_radiumStyleState:_extends({},o)};n._radiumStyleState[t]=_extends({},n._radiumStyleState[t],r),e._lastRadiumState=n._radiumStyleState,e.setState(n)},_mergeStyles=function e(t){var r={};return t.forEach(function(t){t&&"object"==typeof t&&!Array.isArray(t)&&Object.keys(t).forEach(function(o){_isSpecialKey(o)&&r[o]?r[o]=e([r[o],t[o]]):r[o]=t[o]})}),r},_mouseUp=function(e){Object.keys(e.state._radiumStyleState).forEach(function(t){_getStyleState(e,t,":active")&&_setStyleState(e,t,{":active":!1})})},_onMediaQueryChange=function(e,t,r){var o={};o[t]=r.matches,_setStyleState(e,"_all",o)},_resolveMediaQueryStyles=function(e,t){return Config.canMatchMedia()?(Object.keys(t).filter(function(e){return"@"===e[0]}).map(function(r){var o=t[r];r=r.replace("@media ","");var n=mediaQueryListByQueryString[r];if(n||(mediaQueryListByQueryString[r]=n=Config.matchMedia(r)),e._radiumMediaQueryListenersByQuery||(e._radiumMediaQueryListenersByQuery={}),!e._radiumMediaQueryListenersByQuery[r]){var i=_onMediaQueryChange.bind(null,e,r);n.addListener(i),e._radiumMediaQueryListenersByQuery[r]={remove:function(){n.removeListener(i)}}}n.matches&&(t=_mergeStyles([t,o]))}),t):t},_cloneElement=function(e,t,r){return"string"==typeof e.type&&(t=_extends({},t,{_radiumDidResolveStyles:!0})),React.cloneElement(e,t,r)},resolveStyles=function t(e,r,o){if(o=o||{},!r||r.props&&r.props._radiumDidResolveStyles)return r;var n=r.props.children,i=n;if(n){var a=typeof n;if("string"===a||"number"===a)i=n;else if("function"===a)i=function(){var r=n.apply(this,arguments);return React.isValidElement(r)?t(e,r,o):r};else if(1===React.Children.count(n)&&n.type){var s=React.Children.only(n);i=t(e,s,o)}else i=React.Children.map(n,function(r){return React.isValidElement(r)?t(e,r,o):r})}var u=r.props,d={};Object.keys(u).forEach(function(r){if("children"!==r){var n=u[r];React.isValidElement(n)&&(d[r]=t(e,n,o))}});var c=Object.keys(d).length>0;if(!React.isValidElement(r)||"string"!=typeof r.type)return n!==i||c?_cloneElement(r,c?d:{},i):r;var l=u.style;if(Array.isArray(l)&&(l=_mergeStyles(l)),"production"!==process.env.NODE_ENV){var y={background:["backgroundAttachment","backgroundBlendMode","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPosition","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundRepeatX","backgroundRepeatY","backgroundSize"],border:["borderBottom","borderBottomColor","borderBottomStyle","borderBottomWidth","borderColor","borderLeft","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRight","borderRightColor","borderRightStyle","borderRightWidth","borderStyle","borderTop","borderTopColor","borderTopStyle","borderTopWidth","borderWidth"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],font:["fontFamily","fontKerning","fontSize","fontStretch","fontStyle","fontVariant","fontVariantLigatures","fontWeight","lineHeight"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"]},f=function k(t){if("object"==typeof t&&t){var r=Object.keys(t);r.forEach(function(t){y[t]&&y[t].some(function(e){return-1!==r.indexOf(e)})&&"production"!==process.env.NODE_ENV&&console.warn('Radium: property "'+t+'" in style object',l,": do not mix longhand and shorthand properties in the same style object. Check the render method of "+e.constructor.displayName+".","See https://github.com/FormidableLabs/radium/issues/95 for more information.")}),r.forEach(function(e){return k(t[e])})}};f(l)}if(!l||!Object.keys(l).some(_isSpecialKey))return l?(d.style=Prefixer.getPrefixedStyle(e,l),_cloneElement(r,d,i)):i||c?_cloneElement(r,d,i):r;var m=r.ref||r.key,g=getStateKey(m);if(o[g])throw new Error("Radium requires each element with interactive styles to have a unique key, set using either the ref or key prop. "+(m?'Key "'+m+'" is a duplicate.':"Multiple elements have no key specified."));o[g]=!0,l=_resolveMediaQueryStyles(e,l);var S={};if(Object.keys(l).forEach(function(e){_isSpecialKey(e)||(S[e]=l[e])}),l[":hover"]||l[":active"]){var p=u.onMouseEnter;d.onMouseEnter=function(t){p&&p(t),_setStyleState(e,g,{":hover":!0})};var b=u.onMouseLeave;d.onMouseLeave=function(t){b&&b(t),_setStyleState(e,g,{":hover":!1})}}if(l[":active"]){var h=u.onMouseDown;d.onMouseDown=function(t){h&&h(t),e._lastMouseDown=Date.now(),_setStyleState(e,g,{":active":!0})}}if(l[":focus"]){var v=u.onFocus;d.onFocus=function(t){v&&v(t),_setStyleState(e,g,{":focus":!0})};var _=u.onBlur;d.onBlur=function(t){_&&_(t),_setStyleState(e,g,{":focus":!1})}}var R=Object.keys(l).filter(function(t){return":active"===t&&_getStyleState(e,g,":active")||":hover"===t&&_getStyleState(e,g,":hover")||":focus"===t&&_getStyleState(e,g,":focus")}).map(function(e){return l[e]});return R.length&&(S=_mergeStyles([S].concat(R))),l[":active"]&&!e._radiumMouseUpListener&&ExecutionEnvironment.canUseEventListeners&&(e._radiumMouseUpListener=MouseUpListener.subscribe(_mouseUp.bind(null,e))),d.style=Prefixer.getPrefixedStyle(e,S),_cloneElement(r,d,i)};resolveStyles.__clearStateForTests=function(){mediaQueryListByQueryString={}},module.exports=resolveStyles;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./config":40,"./get-state":44,"./get-state-key":43,"./mouse-up-listener":47,"./prefixer":48,"_process":57,"exenv":52}],51:[function(require,module,exports){
"use strict";function find(n,t,r){if("function"==typeof Array.prototype.find)return n.find(t,r);r=r||this;var f,i=n.length;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(f=0;i>f;f++)if(t.call(r,n[f],f,n))return n[f]}module.exports=find;

},{}],52:[function(require,module,exports){
!function(){"use strict";var e=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:e,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:e&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:e&&!!window.screen};"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:window.ExecutionEnvironment=n}();

},{}],53:[function(require,module,exports){
module.exports.Dispatcher=require("./lib/Dispatcher");

},{"./lib/Dispatcher":54}],54:[function(require,module,exports){
(function (process){
"use strict";function _classCallCheck(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var invariant=require("fbjs/lib/invariant"),_prefix="ID_",Dispatcher=function(){function i(){_classCallCheck(this,i),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return i.prototype.register=function(i){var t=_prefix+this._lastID++;return this._callbacks[t]=i,t},i.prototype.unregister=function(i){this._callbacks[i]?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"Dispatcher.unregister(...): `%s` does not map to a registered callback.",i):invariant(!1),delete this._callbacks[i]},i.prototype.waitFor=function(i){this._isDispatching?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"Dispatcher.waitFor(...): Must be invoked while dispatching."):invariant(!1);for(var t=0;t<i.length;t++){var s=i[t];this._isPending[s]?this._isHandled[s]?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",s):invariant(!1):(this._callbacks[s]?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",s):invariant(!1),this._invokeCallback(s))}},i.prototype.dispatch=function(i){this._isDispatching?"production"!==process.env.NODE_ENV?invariant(!1,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."):invariant(!1):void 0,this._startDispatching(i);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},i.prototype.isDispatching=function(){return this._isDispatching},i.prototype._invokeCallback=function(i){this._isPending[i]=!0,this._callbacks[i](this._pendingPayload),this._isHandled[i]=!0},i.prototype._startDispatching=function(i){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=i,this._isDispatching=!0},i.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},i}();module.exports=Dispatcher;

}).call(this,require('_process'))

},{"_process":57,"fbjs/lib/invariant":55}],55:[function(require,module,exports){
(function (process){
"use strict";var invariant=function(r,e,n,i,o,a,t,s){if("production"!==process.env.NODE_ENV&&void 0===e)throw new Error("invariant requires an error message argument");if(!r){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[n,i,o,a,t,s],d=0;u=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return v[d++]}))}throw u.framesToPop=1,u}};module.exports=invariant;

}).call(this,require('_process'))

},{"_process":57}],56:[function(require,module,exports){
function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,n,s,i,r,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],isUndefined(n))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];n.apply(this,i)}else if(isObject(n)){for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];for(o=n.slice(),s=o.length,r=0;s>r;r++)o[r].apply(this,i)}return!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned){var n;n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function n(){this.removeListener(e,n),s||(s=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var s=!1;return n.listener=t,this.on(e,n),this},EventEmitter.prototype.removeListener=function(e,t){var n,s,i,r;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,s=-1,n===t||isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(n)){for(r=i;r-->0;)if(n[r]===t||n[r].listener&&n[r].listener===t){s=r;break}if(0>s)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],isFunction(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?isFunction(e._events[t])?1:e._events[t].length:0};

},{}],57:[function(require,module,exports){
function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(!draining){var e=setTimeout(cleanUpNextTick);draining=!0;for(var n=queue.length;n;){for(currentQueue=queue,queue=[];++queueIndex<n;)currentQueue[queueIndex].run();queueIndex=-1,n=queue.length}currentQueue=null,draining=!1,clearTimeout(e)}}function Item(e,n){this.fun=e,this.array=n}function noop(){}var process=module.exports={},queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];queue.push(new Item(e,n)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}],58:[function(require,module,exports){
"use strict";var keyMirror=function(r){var e,o={};if(!(r instanceof Object)||Array.isArray(r))throw new Error("keyMirror(...): Argument must be an object.");for(e in r)r.hasOwnProperty(e)&&(o[e]=e);return o};module.exports=keyMirror;

},{}],59:[function(require,module,exports){
(function (global){
"use strict";var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Style=require("./style.js"),printStyles=require("../print-styles.js"),PrintStyle=React.createClass({displayName:"PrintStyle",getInitialState:function(){return this._getStylesState()},componentDidMount:function(){this.subscription=printStyles.subscribe(this._onChange)},componentWillUnmount:function(){this.subscription.remove()},_onChange:function(){this.setState(this._getStylesState())},_getStylesState:function(){return{styles:printStyles.getPrintStyles()}},render:function(){return React.createElement(Style,{rules:{mediaQueries:{print:this.state.styles}}})}});module.exports=PrintStyle;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../print-styles.js":70,"./style.js":60}],60:[function(require,module,exports){
(function (global){
"use strict";var createMarkupForStyles=require("../create-markup-for-styles"),Prefixer=require("../prefixer"),React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,buildCssString=function(e,t,r){if(t&&r){var i=Prefixer.getPrefixedStyle(e,r,"css"),s=createMarkupForStyles(i);return t+"{"+s+"}"}},Style=React.createClass({displayName:"Style",propTypes:{rules:React.PropTypes.object,scopeSelector:React.PropTypes.string},getDefaultProps:function(){return{scopeSelector:""}},_buildStyles:function(e){var t=this;return Object.keys(e).reduce(function(r,i){var s=e[i];if("mediaQueries"===i)r+=t._buildMediaQueryString(s);else{var n=(t.props.scopeSelector?t.props.scopeSelector+" ":"")+i;r+=buildCssString(t,n,s)}return r},"")},_buildMediaQueryString:function(e){var t=this,r=this._getContextMediaQueries(),i="";return Object.keys(e).forEach(function(s){var n=r[s]?r[s]:s;i+="@media "+n+"{"+t._buildStyles(e[s])+"}"}),i},_getContextMediaQueries:function(){var e={};return this.context&&this.context.mediaQueries&&Object.keys(this.context.mediaQueries).forEach(function(t){e[t]=this.context.mediaQueries[t].media}.bind(this)),e},render:function(){if(!this.props.rules)return null;var e=this._buildStyles(this.props.rules);return React.createElement("style",{dangerouslySetInnerHTML:{__html:e}})}});module.exports=Style;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../create-markup-for-styles":62,"../prefixer":69}],61:[function(require,module,exports){
"use strict";var ExecutionEnvironment=require("exenv"),_matchMediaFunction=ExecutionEnvironment.canUseDOM&&window&&window.matchMedia&&function(n){return window.matchMedia(n)};module.exports={canMatchMedia:function(){return"function"==typeof _matchMediaFunction},matchMedia:function(n){return _matchMediaFunction(n)},setMatchMedia:function(n){_matchMediaFunction=n}};

},{"exenv":73}],62:[function(require,module,exports){
"use strict";var createMarkupForStyles=function(e,r){return r=r||"",Object.keys(e).map(function(t){return r+t+": "+e[t]+";"}).join("\n")};module.exports=createMarkupForStyles;

},{}],63:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),_get=function(t,e,r){for(var o=!0;o;){var n=t,i=e,s=r;a=u=l=void 0,o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(n);if(null===u)return void 0;t=u,e=i,r=s,o=!0}},resolveStyles=require("./resolve-styles.js"),printStyles=require("./print-styles.js"),enhanceWithRadium=function(t){var e=function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments),this.state=this.state||{},this.state._radiumStyleState={},e.printStyleClass&&(this.printStyleClass=e.printStyleClass)}return _inherits(e,t),_createClass(e,[{key:"render",value:function(){var t=_get(Object.getPrototypeOf(e.prototype),"render",this).call(this);return resolveStyles(this,t)}},{key:"componentWillUnmount",value:function(){_get(Object.getPrototypeOf(e.prototype),"componentWillUnmount",this)&&_get(Object.getPrototypeOf(e.prototype),"componentWillUnmount",this).call(this),this._radiumMouseUpListener&&this._radiumMouseUpListener.remove(),this._radiumMediaQueryListenersByQuery&&Object.keys(this._radiumMediaQueryListenersByQuery).forEach(function(t){this._radiumMediaQueryListenersByQuery[t].remove()},this)}}]),e}(t);return Object.getOwnPropertyNames(t.prototype).forEach(function(r){if(!e.prototype.hasOwnProperty(r)){var o=Object.getOwnPropertyDescriptor(t.prototype,r);Object.defineProperty(e.prototype,r,o)}}),e.displayName=t.displayName||t.name||"Component",e.printStyleClass=printStyles.addPrintStyles(e),e};module.exports=enhanceWithRadium;

},{"./print-styles.js":70,"./resolve-styles.js":71}],64:[function(require,module,exports){
"use strict";var getStateKey=function(t){return null===t||void 0===t?"main":t.toString()};module.exports=getStateKey;

},{}],65:[function(require,module,exports){
"use strict";var getStateKey=require("./get-state-key"),VALID_KEYS=[":active",":focus",":hover"],getState=function(t,e,a){if(-1===VALID_KEYS.indexOf(a))throw new Error("Radium.getState invalid value param: `"+a+"`");var r=getStateKey(e);return!!(t&&t._radiumStyleState&&t._radiumStyleState[r]&&t._radiumStyleState[r][a])};module.exports=getState;

},{"./get-state-key":64}],66:[function(require,module,exports){
"use strict";var Enhancer=require("./enhancer");module.exports=function(e){return Enhancer(e)},module.exports.Style=require("./components/style"),module.exports.PrintStyleSheet=require("./components/print-style-sheet"),module.exports.getState=require("./get-state"),module.exports.keyframes=require("./keyframes"),module.exports.Config=require("./config");

},{"./components/print-style-sheet":59,"./components/style":60,"./config":61,"./enhancer":63,"./get-state":65,"./keyframes":67}],67:[function(require,module,exports){
"use strict";var createMarkupForStyles=require("./create-markup-for-styles"),Prefixer=require("./prefixer"),ExecutionEnvironment=require("exenv"),isAnimationSupported=ExecutionEnvironment.canUseDOM&&Prefixer.getPrefixedPropertyName("animation")!==!1,animationIndex=1,animationStyleSheet=null,keyframesPrefixed="keyframes";isAnimationSupported&&(animationStyleSheet=document.createElement("style"),document.head.appendChild(animationStyleSheet),animationStyleSheet.textContent="@keyframes {}",animationStyleSheet.sheet.cssRules.length||(keyframesPrefixed=Prefixer.cssPrefix+"keyframes"));var keyframes=function(e,t){var n="Animation"+animationIndex;if(animationIndex+=1,!isAnimationSupported)return n;var r="@"+keyframesPrefixed+" "+n+" {\n"+Object.keys(e).map(function(n){var r=e[n],i=Prefixer.getPrefixedStyle(t,r,"css"),a=createMarkupForStyles(i,"  ");return"  "+n+" {\n  "+a+"\n  }"}).join("\n")+"\n}\n";if(!animationStyleSheet)throw new Error("keyframes not initialized properly");return animationStyleSheet.sheet.insertRule(r,animationStyleSheet.sheet.cssRules.length),n};module.exports=keyframes;

},{"./create-markup-for-styles":62,"./prefixer":69,"exenv":73}],68:[function(require,module,exports){
"use strict";var _callbacks=[],_mouseUpListenerIsActive=!1,_handleMouseUp=function(e){_callbacks.forEach(function(s){s(e)})},subscribe=function(e){return-1===_callbacks.indexOf(e)&&_callbacks.push(e),_mouseUpListenerIsActive||(window.addEventListener("mouseup",_handleMouseUp),_mouseUpListenerIsActive=!0),{remove:function(){var s=_callbacks.indexOf(e);_callbacks.splice(s,1),0===_callbacks.length&&_mouseUpListenerIsActive&&(window.removeEventListener("mouseup",_handleMouseUp),_mouseUpListenerIsActive=!1)}}};module.exports={subscribe:subscribe};

},{}],69:[function(require,module,exports){
(function (process){
"use strict";var ExecutionEnvironment=require("exenv"),arrayFind=require("array-find"),VENDOR_PREFIX_REGEX=/-(moz|webkit|ms|o)-/,vendorPrefixes=["Webkit","ms","Moz","O"],infoByCssPrefix={"-moz-":{cssPrefix:"-moz-",jsPrefix:"Moz",alternativeProperties:{alignItems:[{css:"-moz-box-align",js:"MozBoxAlign"}],flex:[{css:"-moz-box-flex",js:"MozBoxFlex"}],flexDirection:[{css:"-moz-box-orient",js:"MozBoxOrient"}],justifyContent:[{css:"-moz-box-pack",js:"MozBoxPack"}],order:[{css:"-moz-box-ordinal-group",js:"MozBoxOrdinalGroup"}]},alternativeValues:{alignItems:{"flex-start":["start"],"flex-end":["end"]},display:{flex:["-moz-box"]},flexDirection:{column:["vertical"],row:["horizontal"]},justifyContent:{"flex-start":["start"],"flex-end":["end"],"space-between":["justify"]}}},"-ms-":{cssPrefix:"-ms-",jsPrefix:"ms",alternativeProperties:{alignContent:[{css:"-ms-flex-line-pack",js:"msFlexLinePack"}],alignItems:[{css:"-ms-flex-align",js:"msFlexAlign"}],alignSelf:[{css:"-ms-flex-align-item",js:"msFlexAlignItem"}],justifyContent:[{css:"-ms-flex-pack",js:"msFlexPack"}],order:[{css:"-ms-flex-order",js:"msFlexOrder"}]},alternativeValues:{alignContent:{"flex-start":["start"],"flex-end":["end"],"space-between":["justify"],"space-around":["distribute"]},alignItems:{"flex-start":["start"],"flex-end":["end"]},alignSelf:{"flex-start":["start"],"flex-end":["end"]},display:{flex:["-ms-flexbox"],"inline-flex":["-ms-inline-flexbox"]},justifyContent:{"flex-start":["start"],"flex-end":["end"],"space-between":["justify"],"space-around":["distribute"]}}},"-o-":{cssPrefix:"-o-",jsPrefix:"O"},"-webkit-":{cssPrefix:"-webkit-",jsPrefix:"Webkit",alternativeProperties:{alignItems:[{css:"-webkit-box-align",js:"WebkitBoxAlign"}],flex:[{css:"-webkit-box-flex",js:"MozBoxFlex"}],flexDirection:[{css:"-webkit-box-orient",js:"WebkitBoxOrient"}],justifyContent:[{css:"-webkit-box-pack",js:"WebkitBoxPack"}],order:[{css:"-webkit-box-ordinal-group",js:"WebkitBoxOrdinalGroup"}]},alternativeValues:{alignItems:{"flex-start":["start"],"flex-end":["end"]},display:{flex:["-webkit-box"]},flexDirection:{row:["horizontal"],column:["vertical"]},justifyContent:{"flex-start":["start"],"flex-end":["end"],"space-between":["justify"]}}}},isUnitlessNumber={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},domStyle={},prefixedPropertyCache={},prefixedValueCache={},prefixInfo={cssPrefix:"",jsPrefix:""};if(ExecutionEnvironment.canUseDOM){domStyle=document.createElement("p").style,void 0===domStyle["float"]&&(domStyle["float"]="");for(var prefixMatch,windowStyles=window.getComputedStyle(document.documentElement,""),i=0;i<windowStyles.length&&!(prefixMatch=windowStyles[i].match(VENDOR_PREFIX_REGEX));i++);var cssVendorPrefix=prefixMatch&&prefixMatch[0];prefixInfo=cssVendorPrefix&&infoByCssPrefix[cssVendorPrefix]?infoByCssPrefix[cssVendorPrefix]:prefixInfo}var _camelCaseRegex=/([a-z])?([A-Z])/g,_camelCaseReplacer=function(e,r,t){return r+"-"+t.toLowerCase()},_camelCaseToDashCase=function(e){return e.replace(_camelCaseRegex,_camelCaseReplacer)},getPrefixedPropertyName=function(e){if(prefixedPropertyCache.hasOwnProperty(e))return prefixedPropertyCache[e];var r={css:_camelCaseToDashCase(e),js:e,isDefaultForServer:!0},t=[{css:prefixInfo.cssPrefix+_camelCaseToDashCase(e),js:prefixInfo.jsPrefix+e[0].toUpperCase()+e.slice(1)},r];prefixInfo.alternativeProperties&&prefixInfo.alternativeProperties[e]&&(t=t.concat(prefixInfo.alternativeProperties[e]));var i=arrayFind(t,function(e){return e.js in domStyle?e:void 0})||!1;return prefixedPropertyCache[e]=i},_getUnprefixedProperty=function(e){var r=e;return vendorPrefixes.some(function(t){return 0===e.indexOf(t)?(r=r.replace(t,""),r=r.charAt(0).toLowerCase()+r.slice(1),!0):void 0}),r},_addPixelSuffixToValueIfNeeded=function(e,r){var t=_getUnprefixedProperty(e);return 0===r||isNaN(r)||isUnitlessNumber[t]?r:r+"px"},_getPrefixedValue=function(e,r,t,i){if(!Array.isArray(t)){if(!isNaN(t)&&null!==t)return _addPixelSuffixToValueIfNeeded(i,t);if("string"!=typeof t){if(null===t||void 0===t)return t;t=t.toString()}if(!isNaN(parseInt(t,10)))return t}var s=Array.isArray(t)?t.join(" || "):r+t;if(prefixedValueCache.hasOwnProperty(s))return prefixedValueCache[s];var n;Array.isArray(t)?(n=t.map(function(e){return _addPixelSuffixToValueIfNeeded(i,e)}),n=n.concat(t.filter(function(e){return!isNaN(e)}).map(function(e){return prefixInfo.cssPrefix+e}))):n=[t,prefixInfo.cssPrefix+t],prefixInfo.alternativeValues&&prefixInfo.alternativeValues[i]&&prefixInfo.alternativeValues[i][t]&&(n=n.concat(prefixInfo.alternativeValues[i][t]));var o=arrayFind(n,function(e){return domStyle[r]="",domStyle[r]=e,!!domStyle[r]});if(o)prefixedValueCache[s]=o;else if(prefixedValueCache[s]=t,"production"!==process.env.NODE_ENV&&console&&console.warn){var a=e?' in component "'+e.constructor.displayName+'"':"";console.warn('Unsupported CSS value "'+t+'" for property "'+r+'$"'+a)}return prefixedValueCache[s]},getPrefixedStyle=function(e,r){var t=arguments.length<=2||void 0===arguments[2]?"js":arguments[2];if(!ExecutionEnvironment.canUseDOM)return Object.keys(r).reduce(function(e,i){var s=r[i],n="css"===t?_camelCaseToDashCase(i):i,o=Array.isArray(s)?s[0]:s;return e[n]=o,e},{});var i={};return Object.keys(r).forEach(function(s){var n=r[s],o=getPrefixedPropertyName(s);if(o!==!1||"production"===process.env.NODE_ENV){var a=_getPrefixedValue(e,o.js,n,s);i[o[t]]=a}else if(console&&console.warn){var f=e?' in component "'+e.constructor.displayName+'"':"";console.warn('Unsupported CSS property "'+s+'$"'+f)}}),i};module.exports={getPrefixedPropertyName:getPrefixedPropertyName,getPrefixedStyle:getPrefixedStyle,cssPrefix:prefixInfo.cssPrefix,jsPrefix:prefixInfo.jsPrefix};

}).call(this,require('_process'))

},{"_process":57,"array-find":72,"exenv":73}],70:[function(require,module,exports){
"use strict";var allPrintStyles={},listeners=[],subscribe=function(t){return-1===listeners.indexOf(t)&&listeners.push(t),{remove:function(){var e=listeners.indexOf(t);e>-1&&listeners.splice(e,1)}}},_emitChange=function(){listeners.forEach(function(t){return t()})},_appendImportantToEachValue=function(t){var e={};return Object.keys(t).forEach(function(n){var r=t[n];r+=" !important",e[n]=r}),e},addPrintStyles=function(t){if(t.printStyles){var e={};return Object.keys(t.printStyles).forEach(function(n){var r=t.printStyles[n],i="Radium-"+t.displayName+"-"+n;allPrintStyles["."+i]=_appendImportantToEachValue(r),e[n]=i}),_emitChange(),e}},getPrintStyles=function(){return allPrintStyles};module.exports={addPrintStyles:addPrintStyles,getPrintStyles:getPrintStyles,subscribe:subscribe};

},{}],71:[function(require,module,exports){
(function (process,global){
"use strict";var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},MouseUpListener=require("./mouse-up-listener"),getState=require("./get-state"),getStateKey=require("./get-state-key"),Prefixer=require("./prefixer"),Config=require("./config"),ExecutionEnvironment=require("exenv"),React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,mediaQueryListByQueryString={},_isSpecialKey=function(e){return":"===e[0]||"@"===e[0]},_getStyleState=function(e,t,r){return getState(e.state,t,r)},_setStyleState=function(e,t,r){var o=e._lastRadiumState||e.state&&e.state._radiumStyleState||{},n={_radiumStyleState:_extends({},o)};n._radiumStyleState[t]=_extends({},n._radiumStyleState[t],r),e._lastRadiumState=n._radiumStyleState,e.setState(n)},_mergeStyles=function e(t){var r={};return t.forEach(function(t){t&&"object"==typeof t&&!Array.isArray(t)&&Object.keys(t).forEach(function(o){_isSpecialKey(o)&&r[o]?r[o]=e([r[o],t[o]]):r[o]=t[o]})}),r},_mouseUp=function(e){Object.keys(e.state._radiumStyleState).forEach(function(t){_getStyleState(e,t,":active")&&_setStyleState(e,t,{":active":!1})})},_onMediaQueryChange=function(e,t,r){var o={};o[t]=r.matches,_setStyleState(e,"_all",o)},_resolveMediaQueryStyles=function(e,t){return Config.canMatchMedia()?(Object.keys(t).filter(function(e){return"@"===e[0]}).map(function(r){var o=t[r];r=r.replace("@media ","");var n=mediaQueryListByQueryString[r];if(n||(mediaQueryListByQueryString[r]=n=Config.matchMedia(r)),e._radiumMediaQueryListenersByQuery||(e._radiumMediaQueryListenersByQuery={}),!e._radiumMediaQueryListenersByQuery[r]){var i=_onMediaQueryChange.bind(null,e,r);n.addListener(i),e._radiumMediaQueryListenersByQuery[r]={remove:function(){n.removeListener(i)}}}n.matches&&(t=_mergeStyles([t,o]))}),t):t},_cloneElement=function(e,t,r){return"string"==typeof e.type&&(t=_extends({},t,{_radiumDidResolveStyles:!0})),React.cloneElement(e,t,r)},resolveStyles=function t(e,r,o){if(o=o||{},!r||r.props&&r.props._radiumDidResolveStyles)return r;var n=r.props.children,i=n;if(n){var a=typeof n;if("string"===a||"number"===a)i=n;else if("function"===a)i=function(){var r=n.apply(this,arguments);return React.isValidElement(r)?t(e,r,o):r};else if(1===React.Children.count(n)&&n.type){var s=React.Children.only(n);i=t(e,s,o)}else i=React.Children.map(n,function(r){return React.isValidElement(r)?t(e,r,o):r})}var u=r.props,d={};Object.keys(u).forEach(function(r){if("children"!==r){var n=u[r];React.isValidElement(n)&&(d[r]=t(e,n,o))}});var c=Object.keys(d).length>0;if(!React.isValidElement(r)||"string"!=typeof r.type)return n!==i||c?_cloneElement(r,c?d:{},i):r;var l=u.style;if(Array.isArray(l)&&(l=_mergeStyles(l)),"production"!==process.env.NODE_ENV){var y={background:["backgroundAttachment","backgroundBlendMode","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPosition","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundRepeatX","backgroundRepeatY","backgroundSize"],border:["borderBottom","borderBottomColor","borderBottomStyle","borderBottomWidth","borderColor","borderLeft","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRight","borderRightColor","borderRightStyle","borderRightWidth","borderStyle","borderTop","borderTopColor","borderTopStyle","borderTopWidth","borderWidth"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],font:["fontFamily","fontKerning","fontSize","fontStretch","fontStyle","fontVariant","fontVariantLigatures","fontWeight","lineHeight"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"]},f=function k(t){if("object"==typeof t&&t){var r=Object.keys(t);r.forEach(function(t){y[t]&&y[t].some(function(e){return-1!==r.indexOf(e)})&&"production"!==process.env.NODE_ENV&&console.warn('Radium: property "'+t+'" in style object',l,": do not mix longhand and shorthand properties in the same style object. Check the render method of "+e.constructor.displayName+".","See https://github.com/FormidableLabs/radium/issues/95 for more information.")}),r.forEach(function(e){return k(t[e])})}};f(l)}if(!l||!Object.keys(l).some(_isSpecialKey))return l?(d.style=Prefixer.getPrefixedStyle(e,l),_cloneElement(r,d,i)):i||c?_cloneElement(r,d,i):r;var m=r.ref||r.key,g=getStateKey(m);if(o[g])throw new Error("Radium requires each element with interactive styles to have a unique key, set using either the ref or key prop. "+(m?'Key "'+m+'" is a duplicate.':"Multiple elements have no key specified."));o[g]=!0,l=_resolveMediaQueryStyles(e,l);var S={};if(Object.keys(l).forEach(function(e){_isSpecialKey(e)||(S[e]=l[e])}),l[":hover"]||l[":active"]){var p=u.onMouseEnter;d.onMouseEnter=function(t){p&&p(t),_setStyleState(e,g,{":hover":!0})};var b=u.onMouseLeave;d.onMouseLeave=function(t){b&&b(t),_setStyleState(e,g,{":hover":!1})}}if(l[":active"]){var h=u.onMouseDown;d.onMouseDown=function(t){h&&h(t),e._lastMouseDown=Date.now(),_setStyleState(e,g,{":active":!0})}}if(l[":focus"]){var v=u.onFocus;d.onFocus=function(t){v&&v(t),_setStyleState(e,g,{":focus":!0})};var _=u.onBlur;d.onBlur=function(t){_&&_(t),_setStyleState(e,g,{":focus":!1})}}var R=Object.keys(l).filter(function(t){return":active"===t&&_getStyleState(e,g,":active")||":hover"===t&&_getStyleState(e,g,":hover")||":focus"===t&&_getStyleState(e,g,":focus")}).map(function(e){return l[e]});return R.length&&(S=_mergeStyles([S].concat(R))),l[":active"]&&!e._radiumMouseUpListener&&ExecutionEnvironment.canUseEventListeners&&(e._radiumMouseUpListener=MouseUpListener.subscribe(_mouseUp.bind(null,e))),d.style=Prefixer.getPrefixedStyle(e,S),_cloneElement(r,d,i)};resolveStyles.__clearStateForTests=function(){mediaQueryListByQueryString={}},module.exports=resolveStyles;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./config":61,"./get-state":65,"./get-state-key":64,"./mouse-up-listener":68,"./prefixer":69,"_process":57,"exenv":73}],72:[function(require,module,exports){
"use strict";function find(n,t,r){if("function"==typeof Array.prototype.find)return n.find(t,r);r=r||this;var f,i=n.length;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(f=0;i>f;f++)if(t.call(r,n[f],f,n))return n[f]}module.exports=find;

},{}],73:[function(require,module,exports){
!function(){"use strict";var e=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:e,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:e&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:e&&!!window.screen};"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:window.ExecutionEnvironment=n}();

},{}]},{},[24])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9ncnVudC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2FjdGlvbnMvZGF0YS1hY3Rpb25zLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9hY3Rpb25zL2ZsYXNoLWFjdGlvbnMuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2FjdGlvbnMvc2V0dXAtcHJvZ3Jlc3MtYWN0aW9ucy5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvYWN0aW9ucy9zaXRlLWFjdGlvbnMuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2FjdGlvbnMvc3Bpbm5lci1hY3Rpb25zLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb21wb25lbnRzL2FkdmFuY2VkLXNldHRpbmdzLXN0ZXAuanN4IiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb21wb25lbnRzL2NvbnRlbnQtYm94LmpzeCIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29tcG9uZW50cy9kYXNoaWNvbi5qc3giLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvZGVzaWduLXN0ZXAuanN4IiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb21wb25lbnRzL2ZsYXNoLmpzeCIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29tcG9uZW50cy9nZXQtc3RhcnRlZC5qc3giLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvamV0cGFjay1qdW1wc3RhcnQtbWVudS5qc3giLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvamV0cGFjay1qdW1wc3RhcnQtc3RlcC5qc3giLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvbGF5b3V0LXN0ZXAuanN4IiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb21wb25lbnRzL3NpdGUtdGl0bGUtc3RlcC5qc3giLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvc2tpcC1idXR0b24uanN4IiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb21wb25lbnRzL3Rvb2x0aXAuanN4IiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb21wb25lbnRzL3dlbGNvbWUtbWVudS5qc3giLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvd2VsY29tZS1zZWN0aW9uLmpzeCIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29tcG9uZW50cy93ZWxjb21lLXdpZGdldC5qc3giLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LWNvbnN0YW50cy5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29uc3RhbnRzL2pldHBhY2stc3RhcnQtcGF0aHMuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2Rpc3BhdGNoZXIvYXBwLWRpc3BhdGNoZXIuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2pldHBhY2stc3RhcnQuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L3N0b3Jlcy9kYXRhLXN0b3JlLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9zdG9yZXMvZmxhc2gtc3RvcmUuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L3N0b3Jlcy9zZXR1cC1wcm9ncmVzcy1zdG9yZS5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvc3RvcmVzL3NpdGUtc3RvcmUuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L3N0b3Jlcy9zcGlubmVyLXN0b3JlLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9zdHlsZXMuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L3V0aWxzL3dwLWFqYXguanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L3dlbGNvbWUtcGFuZWwuanN4IiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvYnV0dG9uLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvcHJvZ3Jlc3MtYmFyLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvcmVzZXQuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL0BhdXRvbWF0dGljL2RvcHMtcmVhY3QvanMvc3R5bGVzLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL3V0aWxzL20uanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL0BhdXRvbWF0dGljL2RvcHMtcmVhY3Qvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvY29tcG9uZW50cy9wcmludC1zdHlsZS1zaGVldC5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9jb21wb25lbnRzL3N0eWxlLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL2NvbmZpZy5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9jcmVhdGUtbWFya3VwLWZvci1zdHlsZXMuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL0BhdXRvbWF0dGljL2RvcHMtcmVhY3Qvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvZW5oYW5jZXIuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL0BhdXRvbWF0dGljL2RvcHMtcmVhY3Qvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvZ2V0LXN0YXRlLWtleS5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9nZXQtc3RhdGUuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL0BhdXRvbWF0dGljL2RvcHMtcmVhY3Qvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvaW5kZXguanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL0BhdXRvbWF0dGljL2RvcHMtcmVhY3Qvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIva2V5ZnJhbWVzLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL21vdXNlLXVwLWxpc3RlbmVyLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL3ByZWZpeGVyLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL3ByaW50LXN0eWxlcy5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9yZXNvbHZlLXN0eWxlcy5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9ub2RlX21vZHVsZXMvcmFkaXVtL25vZGVfbW9kdWxlcy9hcnJheS1maW5kL2ZpbmQuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL0BhdXRvbWF0dGljL2RvcHMtcmVhY3Qvbm9kZV9tb2R1bGVzL3JhZGl1bS9ub2RlX21vZHVsZXMvZXhlbnYvaW5kZXguanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL2ZsdXgvaW5kZXguanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL2ZsdXgvbGliL0Rpc3BhdGNoZXIuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL2ZsdXgvbm9kZV9tb2R1bGVzL2ZianMvbGliL2ludmFyaWFudC5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvZ3J1bnQtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvZ3J1bnQtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9rZXltaXJyb3IvaW5kZXguanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvY29tcG9uZW50cy9wcmludC1zdHlsZS1zaGVldC5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9jb21wb25lbnRzL3N0eWxlLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL2NvbmZpZy5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9jcmVhdGUtbWFya3VwLWZvci1zdHlsZXMuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvZW5oYW5jZXIuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvZ2V0LXN0YXRlLWtleS5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9nZXQtc3RhdGUuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvaW5kZXguanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIva2V5ZnJhbWVzLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL21vdXNlLXVwLWxpc3RlbmVyLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL3ByZWZpeGVyLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL3ByaW50LXN0eWxlcy5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9yZXNvbHZlLXN0eWxlcy5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvcmFkaXVtL25vZGVfbW9kdWxlcy9hcnJheS1maW5kL2ZpbmQuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL3JhZGl1bS9ub2RlX21vZHVsZXMvZXhlbnYvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxHQUFJLGVBQWdCLFFBQVEsZ0NBQzNCLGFBQWUsUUFBUSx3Q0FFcEIsYUFDSCxlQUFnQixXQUNmLGNBQWMsVUFDYixXQUFZLGFBQWEsZ0JBSTNCLGdCQUFpQixXQUNoQixjQUFjLFVBQ2IsV0FBWSxhQUFhLGlCQUs1QixRQUFPLFFBQVU7OztBQ2pCakIsR0FBSSxlQUFnQixRQUFRLGdDQUMzQixhQUFlLFFBQVEsd0NBRXBCLGNBQ0gsT0FBUSxTQUFTLEdBQ2hCLGNBQWMsVUFDYixXQUFZLGFBQWEsVUFDekIsUUFBUyxFQUNULFNBQVUsYUFBYSx5QkFJekIsTUFBTyxTQUFTLEdBQ2YsY0FBYyxVQUNiLFdBQVksYUFBYSxVQUN6QixRQUFTLEVBQ1QsU0FBVSxhQUFhLHdCQUl6QixNQUFPLFdBQ04sY0FBYyxVQUNiLFdBQVksYUFBYSxlQUs1QixRQUFPLFFBQVU7OztBQzNCakIsR0FBSSxlQUFnQixRQUFRLGdDQUMzQixhQUFlLFFBQVEsd0NBQ3ZCLE1BQVEsUUFBUSxvQ0FDaEIsYUFBZSxRQUFRLG1CQUN2QixZQUFjLFFBQVEsa0JBQ3RCLE9BQVMsUUFBUSxvQkFDakIsZUFBaUIsUUFBUSxxQkFDekIsbUJBQXFCLFFBQVEsa0NBQzdCLFVBQVksUUFBUSx3QkFFakIsc0JBQ0gsVUFBVyxXQUNWLE9BQ0MsS0FBSyxJQUFJ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Um9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwidmFyIEFwcERpc3BhdGNoZXIgPSByZXF1aXJlKCcuLi9kaXNwYXRjaGVyL2FwcC1kaXNwYXRjaGVyJyksXG5cdEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LWNvbnN0YW50cycpO1xuXG52YXIgRGF0YUFjdGlvbnMgPSB7XG5cdHJlcXVlc3RTdGFydGVkOiBmdW5jdGlvbigpIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TQVZFX1NUQVJURURcblx0XHR9KTtcblx0fSxcblxuXHRyZXF1ZXN0RmluaXNoZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNBVkVfRklOSVNIRURcblx0XHR9KTtcblx0fVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBEYXRhQWN0aW9uczsiLCJ2YXIgQXBwRGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4uL2Rpc3BhdGNoZXIvYXBwLWRpc3BhdGNoZXInKSxcblx0SlBTQ29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtY29uc3RhbnRzJyk7XG5cbnZhciBGbGFzaEFjdGlvbnMgPSB7XG5cdG5vdGljZTogZnVuY3Rpb24obXNnKSB7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0VUX0ZMQVNILFxuXHRcdFx0bWVzc2FnZTogbXNnLFxuXHRcdFx0c2V2ZXJpdHk6IEpQU0NvbnN0YW50cy5GTEFTSF9TRVZFUklUWV9OT1RJQ0Vcblx0XHR9KTtcblx0fSxcblxuXHRlcnJvcjogZnVuY3Rpb24obXNnKSB7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0VUX0ZMQVNILFxuXHRcdFx0bWVzc2FnZTogbXNnLFxuXHRcdFx0c2V2ZXJpdHk6IEpQU0NvbnN0YW50cy5GTEFTSF9TRVZFUklUWV9FUlJPUlxuXHRcdH0pO1xuXHR9LFxuXG5cdHVuc2V0OiBmdW5jdGlvbigpIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5VTlNFVF9GTEFTSFxuXHRcdH0pO1xuXHR9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZsYXNoQWN0aW9uczsiLCJ2YXIgQXBwRGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4uL2Rpc3BhdGNoZXIvYXBwLWRpc3BhdGNoZXInKSxcblx0SlBTQ29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtY29uc3RhbnRzJyksXG5cdFBhdGhzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtcGF0aHMnKSxcblx0Rmxhc2hBY3Rpb25zID0gcmVxdWlyZSgnLi9mbGFzaC1hY3Rpb25zJyksXG5cdFNpdGVBY3Rpb25zID0gcmVxdWlyZSgnLi9zaXRlLWFjdGlvbnMnKSxcblx0V1BBamF4ID0gcmVxdWlyZSgnLi4vdXRpbHMvd3AtYWpheCcpLFxuXHRTcGlubmVyQWN0aW9ucyA9IHJlcXVpcmUoJy4vc3Bpbm5lci1hY3Rpb25zJyksXG5cdFNldHVwUHJvZ3Jlc3NTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zZXR1cC1wcm9ncmVzcy1zdG9yZScpLFxuXHRTaXRlU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2l0ZS1zdG9yZScpO1xuXG52YXIgU2V0dXBQcm9ncmVzc0FjdGlvbnMgPSB7XG5cdHJlc2V0RGF0YTogZnVuY3Rpb24oKSB7XG5cdFx0V1BBamF4LlxuXHRcdFx0cG9zdChKUFMuc2l0ZV9hY3Rpb25zLnJlc2V0X2RhdGEpLlxuXHRcdFx0ZmFpbCggZnVuY3Rpb24gKCBtc2cgKSB7XG5cdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihcIkZhaWxlZCB0byBzYXZlIGRhdGE6IFwiICsgbXNnKTtcblx0XHRcdH0pO1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHQgICAgICBcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5SRVNFVF9EQVRBXG5cdCAgICB9KTtcblx0fSxcblxuXHRjb21wbGV0ZVN0ZXA6IGZ1bmN0aW9uKHNsdWcsIG1ldGEpIHtcblx0XHR2YXIgc3RlcCA9IFNldHVwUHJvZ3Jlc3NTdG9yZS5nZXRTdGVwRnJvbVNsdWcoc2x1Zyk7XG5cblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TVEVQX0NPTVBMRVRFLFxuXHRcdFx0c2x1Zzogc2x1Z1xuXHQgICAgfSk7XG5cblx0XHQvLyBOT1RFOiB0aGlzIG5lZWRzIHRvIGNvbWUgYWZ0ZXIgdGhlIGRpc3BhdGNoLCBzbyB0aGF0IHRoZSBjb21wbGV0aW9uICUgXG5cdFx0Ly8gaXMgYWxyZWFkeSB1cGRhdGVkIGFuZCBjYW4gYmUgaW5jbHVkZWQgaW4gdGhlIG1ldGFkYXRhXG5cdFx0dGhpcy5fcmVjb3JkQ29tcGxldGUoc3RlcCwgbWV0YSk7XG5cdH0sXG5cblx0Y29tcGxldGVBbmROZXh0U3RlcDogZnVuY3Rpb24oc2x1ZywgbWV0YSkge1xuXHRcdHRoaXMuY29tcGxldGVTdGVwKHNsdWcsIG1ldGEpO1xuXG5cdCAgICBBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0ICAgICAgYWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNURVBfTkVYVFxuXHQgICAgfSk7XG5cdH0sXG5cblx0X3JlY29yZENvbXBsZXRlOiBmdW5jdGlvbihzdGVwLCBtZXRhKSB7XG5cdFx0aWYgKHR5cGVvZihtZXRhKSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdG1ldGEgPSB7fTtcblx0XHR9XG5cblx0XHRtZXRhLmNvbXBsZXRpb24gPSBTZXR1cFByb2dyZXNzU3RvcmUuZ2V0UHJvZ3Jlc3NQZXJjZW50KCk7XG5cblx0XHRXUEFqYXguXG5cdFx0ICBcdHBvc3QoSlBTLnN0ZXBfYWN0aW9ucy5jb21wbGV0ZSwgeyBzdGVwOiBzdGVwLnNsdWcsIGRhdGE6IG1ldGEgfSkuXG5cdFx0XHRmYWlsKCBmdW5jdGlvbihtc2cpIHtcblx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKG1zZyk7XG5cdFx0XHR9KTtcblx0fSxcblxuXHQvLyBtYXJrIGN1cnJlbnQgc3RlcCBhcyBza2lwcGVkIGFuZCBtb3ZlIG9uXG5cdHNraXBTdGVwOiBmdW5jdGlvbigpIHtcblx0XHRGbGFzaEFjdGlvbnMudW5zZXQoKTtcblx0XHRcblx0XHR2YXIgc3RlcCA9IFNldHVwUHJvZ3Jlc3NTdG9yZS5nZXRDdXJyZW50U3RlcCgpO1xuXG5cdFx0aWYgKCAhIHN0ZXAuc2tpcHBlZCApIHtcblx0XHQgICAgV1BBamF4LlxuXHRcdFx0XHRwb3N0KEpQUy5zdGVwX2FjdGlvbnMuc2tpcCwgeyBzdGVwOiBzdGVwLnNsdWcgfSkuXG5cdFx0XHRcdGZhaWwoIGZ1bmN0aW9uKG1zZykge1xuXHRcdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihtc2cpO1xuXHRcdFx0XHR9KTtcblx0XHR9XG5cblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TVEVQX1NLSVBcblx0ICAgIH0pO1xuXHR9LFxuXG5cdGdldFN0YXJ0ZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNwaW5uZXJBY3Rpb25zLnNob3coXCJMb2FkaW5nXCIpO1xuXHQgICAgV1BBamF4LlxuXHRcdFx0cG9zdChKUFMuc3RlcF9hY3Rpb25zLnN0YXJ0KS5cblx0XHRcdGZhaWwoIGZ1bmN0aW9uKG1zZykge1xuXHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IobXNnKTtcblx0XHRcdH0pLlxuXHRcdFx0YWx3YXlzKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0U3Bpbm5lckFjdGlvbnMuaGlkZSgpO1xuXHRcdFx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdCAgICAgIGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TVEVQX0dFVF9TVEFSVEVEXG5cdFx0XHQgICAgfSk7XHRcdFxuXHRcdFx0fSk7XG5cdH0sXG5cblx0ZGlzYWJsZUpQUzogZnVuY3Rpb24oKSB7XG5cdFx0U3Bpbm5lckFjdGlvbnMuc2hvdyhcIlwiKTtcblx0XHRXUEFqYXguXG5cdFx0XHRwb3N0KEpQUy5zdGVwX2FjdGlvbnMuZGlzYWJsZSkuXG5cdFx0XHRmYWlsKCBmdW5jdGlvbihtc2cpIHtcblx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKG1zZyk7XG5cdFx0XHR9KS5cblx0XHRcdGFsd2F5cyggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcblx0XHRcdH0pO1xuXHR9LFxuXG5cdHNldEN1cnJlbnRTdGVwOiBmdW5jdGlvbihzbHVnKSB7XG5cdFx0Rmxhc2hBY3Rpb25zLnVuc2V0KCk7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdCAgICAgIGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TVEVQX1NFTEVDVCxcblx0ICAgICAgc2x1Zzogc2x1Z1xuXHQgICAgfSk7XG5cdH0sXG5cblx0Ly8gbW92ZXMgb24gdG8gdGhlIG5leHQgc3RlcCwgYnV0IGRvZXNuJ3QgbWFyayBpdCBhcyBcInNraXBwZWRcIlxuXHRzZWxlY3ROZXh0U3RlcDogZnVuY3Rpb24oKSB7XG5cdFx0Rmxhc2hBY3Rpb25zLnVuc2V0KCk7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU1RFUF9ORVhUXG5cdCAgICB9KTtcblx0fSxcblxuXHRzdWJtaXRUaXRsZVN0ZXA6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVBY3Rpb25zLnNhdmVUaXRsZUFuZERlc2NyaXB0aW9uKCkuZG9uZShmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuY29tcGxldGVBbmROZXh0U3RlcChQYXRocy5TSVRFX1RJVExFX1NURVBfU0xVRyk7XG5cdFx0fS5iaW5kKHRoaXMpKTtcblx0fSxcblxuXHRzdWJtaXRMYXlvdXRTdGVwOiBmdW5jdGlvbihsYXlvdXQpIHtcblx0XHRTaXRlQWN0aW9ucy5zZXRMYXlvdXQobGF5b3V0KS5kb25lKGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5jb21wbGV0ZUFuZE5leHRTdGVwKFBhdGhzLkxBWU9VVF9TVEVQX1NMVUcpO1xuXHRcdH0uYmluZCh0aGlzKSk7XG5cdH0sXG5cblx0c3VibWl0SmV0cGFja0p1bXBzdGFydDogZnVuY3Rpb24oKSB7XG5cdFx0U2l0ZUFjdGlvbnMuZW5hYmxlSnVtcHN0YXJ0KCkuZG9uZShmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuY29tcGxldGVTdGVwKFBhdGhzLkpFVFBBQ0tfTU9EVUxFU19TVEVQX1NMVUcpO1xuXHRcdH0uYmluZCh0aGlzKSk7XG5cdH0sXG5cblx0c2V0QWN0aXZlVGhlbWU6IGZ1bmN0aW9uKHRoZW1lKSB7XG5cdFx0U2l0ZUFjdGlvbnMuc2V0QWN0aXZlVGhlbWUodGhlbWUpLmRvbmUoIGZ1bmN0aW9uICgpIHtcblx0XHRcdHRoaXMuY29tcGxldGVTdGVwKFBhdGhzLkRFU0lHTl9TVEVQX1NMVUcsIHt0aGVtZUlkOiB0aGVtZS5pZH0pO1xuXHRcdH0uYmluZCh0aGlzKSk7XG5cdH0sXG5cblx0c2F2ZURlc2lnblN0ZXA6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuY29tcGxldGVBbmROZXh0U3RlcChQYXRocy5ERVNJR05fU1RFUF9TTFVHLCB7dGhlbWVJZDogU2l0ZVN0b3JlLmdldEFjdGl2ZVRoZW1lSWQoKX0pO1xuXHR9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNldHVwUHJvZ3Jlc3NBY3Rpb25zOyIsInZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuXHRKUFNDb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1jb25zdGFudHMnKSxcblx0U2l0ZVN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NpdGUtc3RvcmUnKSxcblx0Rmxhc2hBY3Rpb25zID0gcmVxdWlyZSgnLi9mbGFzaC1hY3Rpb25zLmpzJyksXG5cdFNwaW5uZXJBY3Rpb25zID0gcmVxdWlyZSgnLi9zcGlubmVyLWFjdGlvbnMuanMnKSxcblx0V1BBamF4ID0gcmVxdWlyZSgnLi4vdXRpbHMvd3AtYWpheCcpO1xuXG52YXIgU2l0ZUFjdGlvbnMgPSB7XG5cdHNldFRpdGxlOiBmdW5jdGlvbih0aXRsZSkge1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNJVEVfU0VUX1RJVExFLFxuXHRcdFx0dGl0bGU6IHRpdGxlXG5cdCAgICB9KTtcblx0fSxcblxuXHRzZXREZXNjcmlwdGlvbjogZnVuY3Rpb24oZGVzY3JpcHRpb24pIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSVRFX1NFVF9ERVNDUklQVElPTixcblx0XHRcdGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvblxuXHQgICAgfSk7XG5cdH0sXG5cblx0c2F2ZVRpdGxlQW5kRGVzY3JpcHRpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aXRsZSA9IFNpdGVTdG9yZS5nZXRUaXRsZSgpO1xuXHRcdHZhciBkZXNjcmlwdGlvbiA9IFNpdGVTdG9yZS5nZXREZXNjcmlwdGlvbigpO1xuXHRcdFxuXHRcdFdQQWpheC5cblx0XHRcdHBvc3QoIEpQUy5zaXRlX2FjdGlvbnMuc2V0X3RpdGxlLCB7IHRpdGxlOiB0aXRsZSwgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uIH0gKS5cblx0XHRcdGZhaWwoIGZ1bmN0aW9uICggbXNnICkge1xuXHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IoXCJFcnJvciBzZXR0aW5nIHRpdGxlOiBcIittc2cpO1xuXHRcdFx0fSk7XG5cblx0XHRqUXVlcnkoJyN3cC1hZG1pbi1iYXItc2l0ZS1uYW1lIC5hYi1pdGVtJykuaHRtbCh0aXRsZSk7XG5cdFx0Ly8gRmxhc2hBY3Rpb25zLm5vdGljZSggXCJTZXQgdGl0bGUgdG8gJ1wiK3RpdGxlK1wiJyBhbmQgZGVzY3JpcHRpb24gdG8gJ1wiK2Rlc2NyaXB0aW9uK1wiJ1wiICk7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9TQVZFX1RJVExFX0FORF9ERVNDUklQVElPTixcblx0XHRcdHRpdGxlOiB0aXRsZVxuXHQgICAgfSk7XG5cblx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCkucmVzb2x2ZSgpOyAvLyBYWFggSEFDS1xuXHR9LFxuXG5cdF9pbnN0YWxsVGhlbWU6IGZ1bmN0aW9uICggdGhlbWUgKSB7XG5cdFx0aWYgKCAhIHRoZW1lLmluc3RhbGxlZCApIHtcblx0XHRcdFNwaW5uZXJBY3Rpb25zLnNob3coXCJJbnN0YWxsaW5nICdcIit0aGVtZS5uYW1lK1wiJ1wiKTtcblx0XHRcdHJldHVybiBXUEFqYXguXG5cdFx0XHRcdHBvc3QoIEpQUy5zaXRlX2FjdGlvbnMuaW5zdGFsbF90aGVtZSwgeyB0aGVtZUlkOiB0aGVtZS5pZCB9ICkuXG5cdFx0XHRcdGRvbmUoIGZ1bmN0aW9uICggKSB7XG5cdFx0XHRcdFx0dGhlbWUuaW5zdGFsbGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdFx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSVRFX0lOU1RBTExfVEhFTUUsXG5cdFx0XHRcdFx0XHR0aGVtZTogdGhlbWVcblx0XHRcdFx0ICAgIH0pO1xuXHRcdFx0XHR9KS5cblx0XHRcdFx0ZmFpbCggZnVuY3Rpb24gKCBtc2cgKSB7XG5cdFx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKFwiU2VydmVyIGVycm9yIGluc3RhbGxpbmcgdGhlbWU6IFwiK21zZyk7XG5cdFx0XHRcdH0pLlxuXHRcdFx0XHRhbHdheXMoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFNwaW5uZXJBY3Rpb25zLmhpZGUoKTtcblx0XHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoKS5yZXNvbHZlKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9hY3RpdmF0ZVRoZW1lOiBmdW5jdGlvbiAoIHRoZW1lICkge1xuXHRcdFdQQWpheC5cblx0XHRcdHBvc3QoIEpQUy5zaXRlX2FjdGlvbnMuc2V0X3RoZW1lLCB7IHRoZW1lSWQ6IHRoZW1lLmlkIH0gKS5cblx0XHRcdGZhaWwoIGZ1bmN0aW9uICggbXNnICkge1xuXHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IoXCJTZXJ2ZXIgZXJyb3Igc2V0dGluZyB0aGVtZTogXCIrbXNnKTtcblx0XHRcdH0pO1xuXG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9TRVRfVEhFTUUsXG5cdFx0XHR0aGVtZUlkOiB0aGVtZS5pZFxuXHQgICAgfSk7XG5cdH0sXG5cblx0c2V0QWN0aXZlVGhlbWU6IGZ1bmN0aW9uKCB0aGVtZSApIHtcblxuXHRcdHRoaXMuX2luc3RhbGxUaGVtZSh0aGVtZSkuXG5cdFx0XHRkb25lKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhpcy5fYWN0aXZhdGVUaGVtZSh0aGVtZSk7XG5cdFx0XHR9LmJpbmQodGhpcykpO1xuXG5cdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZCgpLnJlc29sdmUoKTsgLy8gWFhYIEhBQ0tcblx0fSxcblxuXHRzZXRMYXlvdXQ6IGZ1bmN0aW9uKCBsYXlvdXROYW1lICkge1xuXHRcblx0XHRXUEFqYXguXG5cdFx0XHRwb3N0KCBKUFMuc2l0ZV9hY3Rpb25zLnNldF9sYXlvdXQsIHsgbGF5b3V0OiBsYXlvdXROYW1lIH0gKS5cblx0XHRcdGZhaWwoIGZ1bmN0aW9uIChtc2cgKSB7XG5cdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihcIkVycm9yIHNldHRpbmcgbGF5b3V0OiBcIittc2cpO1xuXHRcdFx0fSk7XG5cblx0XHQvLyBGbGFzaEFjdGlvbnMubm90aWNlKFwiU2V0IGxheW91dCB0byBcIitsYXlvdXROYW1lKTtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSVRFX1NFVF9MQVlPVVQsXG5cdFx0XHRsYXlvdXQ6IGxheW91dE5hbWVcblx0ICAgIH0pO1xuXG5cdCAgICByZXR1cm4galF1ZXJ5LkRlZmVycmVkKCkucmVzb2x2ZSgpOyAvLyBYWFggSEFDS1xuXHR9LFxuXG5cdGNvbmZpZ3VyZUpldHBhY2s6IGZ1bmN0aW9uKHJldHVybl90b19zdGVwKSB7XG5cdFx0U3Bpbm5lckFjdGlvbnMuc2hvdyhcIkNvbm5lY3RpbmcgdG8gV29yZFByZXNzLmNvbVwiKTtcblx0XHRyZXR1cm4gV1BBamF4LlxuXHRcdFx0cG9zdCggSlBTLnNpdGVfYWN0aW9ucy5jb25maWd1cmVfamV0cGFjaywgeyByZXR1cm5fdG9fc3RlcDogcmV0dXJuX3RvX3N0ZXAgfSApLlxuXHRcdFx0ZG9uZSggZnVuY3Rpb24gKCBkYXRhICkge1xuXHRcdFx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9KRVRQQUNLX0NPTkZJR1VSRURcblx0XHRcdCAgICB9KTtcblxuXHRcdFx0XHRpZiAoIGRhdGEubmV4dCApIHtcblx0XHRcdFx0XHR3aW5kb3cubG9jYXRpb24ucmVwbGFjZShkYXRhLm5leHQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFNwaW5uZXJBY3Rpb25zLmhpZGUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSkuXG5cdFx0XHRmYWlsKCBmdW5jdGlvbiAoIG1zZyApIHtcblx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKFwiRXJyb3IgZW5hYmxpbmcgSmV0cGFjazogXCIrbXNnKTtcblx0XHRcdFx0U3Bpbm5lckFjdGlvbnMuaGlkZSgpO1xuXHRcdFx0fSk7XG5cdH0sXG5cblx0YWN0aXZhdGVKZXRwYWNrTW9kdWxlOiBmdW5jdGlvbihtb2R1bGVfc2x1Zykge1xuXG5cdFx0V1BBamF4LlxuXHRcdFx0cG9zdCggSlBTLnNpdGVfYWN0aW9ucy5hY3RpdmF0ZV9qZXRwYWNrX21vZHVsZXMsIHsgbW9kdWxlczogW21vZHVsZV9zbHVnXSB9KS5cblx0XHRcdGZhaWwoIGZ1bmN0aW9uICggbXNnICkge1xuXHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IoXCJFcnJvciBhY3RpdmF0aW5nIEpldHBhY2sgbW9kdWxlOiBcIittc2cpO1xuXHRcdFx0fSk7XG5cblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSVRFX0pFVFBBQ0tfTU9EVUxFX0VOQUJMRUQsXG5cdFx0XHRzbHVnOiBtb2R1bGVfc2x1Z1xuXHQgICAgfSk7XG5cblx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCkucmVzb2x2ZSgpOyAvLyBYWFggSEFDS1xuXHR9LFxuXG5cdGRlYWN0aXZhdGVKZXRwYWNrTW9kdWxlOiBmdW5jdGlvbihtb2R1bGVfc2x1Zykge1xuXG5cdFx0V1BBamF4LlxuXHRcdFx0cG9zdCggSlBTLnNpdGVfYWN0aW9ucy5kZWFjdGl2YXRlX2pldHBhY2tfbW9kdWxlcywgeyBtb2R1bGVzOiBbbW9kdWxlX3NsdWddIH0pLlxuXHRcdFx0ZmFpbCggZnVuY3Rpb24gKCBtc2cgKSB7XG5cdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihcIkVycm9yIGRlYWN0aXZhdGluZyBKZXRwYWNrIG1vZHVsZTogXCIrbXNnKTtcblx0XHRcdH0pO1xuXG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9KRVRQQUNLX01PRFVMRV9ESVNBQkxFRCxcblx0XHRcdHNsdWc6IG1vZHVsZV9zbHVnXG5cdCAgICB9KTtcblxuXHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoKS5yZXNvbHZlKCk7IC8vIFhYWCBIQUNLXG5cdH0sXG5cblx0bG9hZEFsbEpldHBhY2tNb2R1bGVzOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoIFNpdGVTdG9yZS5nZXRKZXRwYWNrQWRkaXRpb25hbE1vZHVsZXMoKS5sZW5ndGggPT09IDAgKSB7XG5cdFx0XHRyZXR1cm4gV1BBamF4LlxuXHRcdFx0XHRwb3N0KCBKUFMuc2l0ZV9hY3Rpb25zLmxpc3RfamV0cGFja19tb2R1bGVzICkuXG5cdFx0XHRcdGRvbmUoIGZ1bmN0aW9uICggYWxsX21vZHVsZXMgKSB7XG5cdFx0XHRcdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRcdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9KRVRQQUNLX0FERF9NT0RVTEVTLFxuXHRcdFx0XHRcdFx0bW9kdWxlczogYWxsX21vZHVsZXNcblx0XHRcdFx0ICAgIH0pO1xuXHRcdFx0XHR9KS5cblx0XHRcdFx0ZmFpbCggZnVuY3Rpb24gKCBtc2cgKSB7XG5cdFx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgYWxsIEpldHBhY2sgbW9kdWxlczogXCIrbXNnKTtcblx0XHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoKS5yZXNvbHZlKCk7IC8vIFhYWCBIQUNLXG5cdFx0fVxuXHR9LFxuXG5cdGVuYWJsZUp1bXBzdGFydDogZnVuY3Rpb24oKSB7XG5cdFx0V1BBamF4LlxuXHRcdFx0cG9zdCggSlBTLnNpdGVfYWN0aW9ucy5hY3RpdmF0ZV9qZXRwYWNrX21vZHVsZXMsIHsgbW9kdWxlczogU2l0ZVN0b3JlLmdldEp1bXBzdGFydE1vZHVsZVNsdWdzKCkgfSkuXG5cdFx0XHRmYWlsKCBmdW5jdGlvbiAoIG1zZyApIHtcblx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKFwiRXJyb3IgYWN0aXZhdGluZyBKZXRwYWNrIG1vZHVsZXM6IFwiK21zZyk7XG5cdFx0XHR9KTtcblxuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNJVEVfSkVUUEFDS19KVU1QU1RBUlRfRU5BQkxFRFxuXHQgICAgfSk7XG5cblx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCkucmVzb2x2ZSgpOyAvLyBYWFggSEFDS1xuXHR9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNpdGVBY3Rpb25zOyIsInZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuXHRKUFNDb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1jb25zdGFudHMnKTtcblxudmFyIFNwaW5uZXJBY3Rpb25zID0ge1xuXHRzaG93OiBmdW5jdGlvbihtc2cpIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSE9XX1NQSU5ORVIsXG5cdFx0XHRtZXNzYWdlOiBtc2dcblx0XHR9KTtcblx0fSxcblxuXHRoaWRlOiBmdW5jdGlvbigpIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5ISURFX1NQSU5ORVIsXG5cdFx0fSk7XHRcblx0fSxcblxuXHRzaG93QXN5bmM6IGZ1bmN0aW9uKG1zZykge1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNIT1dfQVNZTkNfU1BJTk5FUixcblx0XHRcdG1lc3NhZ2U6IG1zZ1xuXHRcdH0pO1x0XHRcblx0fSxcblxuXHRoaWRlQXN5bmM6IGZ1bmN0aW9uKCkge1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLkhJREVfQVNZTkNfU1BJTk5FUlxuXHRcdH0pO1x0XHRcdFxuXHR9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNwaW5uZXJBY3Rpb25zOyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpLFxuXHRCdXR0b24gPSByZXF1aXJlKCdAYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvYnV0dG9uJyksXG5cdFNpdGVTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zaXRlLXN0b3JlJyksXG5cdFdlbGNvbWVTZWN0aW9uID0gcmVxdWlyZSgnLi93ZWxjb21lLXNlY3Rpb24nKTtcblxuZnVuY3Rpb24gZ2V0U2l0ZVN0YXRlKCkge1xuXHRyZXR1cm4ge1xuXHRcdHNpdGVfdGl0bGU6IFNpdGVTdG9yZS5nZXRUaXRsZSgpXG5cdH07XG59XG5cbnZhciBTZXR0aW5nc0l0ZW0gPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiU2V0dGluZ3NJdGVtXCIsXG5cdHN0eWxlczoge1xuXHRcdGl0ZW06IHtcblx0XHRcdHBhZGRpbmc6ICcxZW0nLFxuXHRcdFx0bWFyZ2luQm90dG9tOiAnMWVtJyxcblx0XHRcdGxpc3RTdHlsZTogJ25vbmUnLFxuXHRcdFx0YmFja2dyb3VuZDogJyNmNWY1ZjUnLFxuXHRcdFx0Ym9yZGVyOiAnMXB4IHNvbGlkICNkZGQnXG5cdFx0fSxcblxuXHRcdGhlYWRpbmc6IHtcblx0XHRcdG1hcmdpbjogMCxcblx0XHRcdGZvbnRTaXplOiAnMS4yZW0nLFxuXHRcdFx0Zm9udFdlaWdodDogODAwXG5cdFx0fVxuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLml0ZW19LCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImg1XCIsIHtzdHlsZTogdGhpcy5zdHlsZXMuaGVhZGluZ30sIHRoaXMucHJvcHMudGl0bGUpLCBcblx0XHRcdFx0dGhpcy5wcm9wcy5jaGlsZHJlblx0XHRcdFx0XG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbnZhciBBZHZhbmNlZFNldHRpbmdzU3RlcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJBZHZhbmNlZFNldHRpbmdzU3RlcFwiLFxuXG5cdHN0eWxlczoge1xuXHRcdHdyYXBwZXI6IHtcblx0XHRcdG1hcmdpbkxlZnQ6IDBcblx0XHR9XG5cdH0sXG5cbiAgXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBnZXRTaXRlU3RhdGUoKTtcblx0fSxcblxuXHRjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0U2l0ZVN0b3JlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0fSxcblxuXHRjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0U2l0ZVN0b3JlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0fSxcblxuXHRfb25DaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICAgIFx0dGhpcy5zZXRTdGF0ZShnZXRTaXRlU3RhdGUoKSk7XG4gIFx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFdlbGNvbWVTZWN0aW9uLCBudWxsLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiTGV0J3MgbGF1bmNoIFwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZW1cIiwgbnVsbCwgdGhpcy5zdGF0ZS5zaXRlX3RpdGxlKSksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDRcIiwgbnVsbCwgXCJBZHZhbmNlZCBzZXR0aW5nc1wiKSwgXG5cblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInVsXCIsIHtzdHlsZTogdGhpcy5zdHlsZXMud3JhcHBlcn0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2V0dGluZ3NJdGVtLCB7dGl0bGU6IFwiRmluZS10dW5lIHlvdXIgc2l0ZSdzIGxheW91dCBhbmQgYXBwZWFyYW5jZVwifSwgXG5cdFx0XHRcdFx0XHRcIkN1c3RvbWl6ZSB5b3VyIHNpdGXigJlzIGNvbG9ycywgZm9udHMsIHNpZGViYXJzIGFuZCBvdGhlciBzZXR0aW5ncy5cIiwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCksIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtjb2xvcjogXCJibHVlXCIsIGhyZWY6IEpQUy5zdGVwcy5hZHZhbmNlZF9zZXR0aW5ncy5jdXN0b21pemVfdXJsfSwgXCJDdXN0b21pemUgbXkgc2l0ZVwiKSwgXG5cdFx0XHRcdFx0XHRcIsKgwqBcIiwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2NvbG9yOiBcImJsdWVcIiwgaHJlZjogSlBTLnN0ZXBzLmFkdmFuY2VkX3NldHRpbmdzLnRoZW1lc191cmx9LCBcIkJyb3dzZSBhbmQgYWRkIHRoZW1lc1wiKVxuXHRcdFx0XHRcdCksIFxuXG5cdFx0XHRcdFx0KFNpdGVTdG9yZS5nZXRMYXlvdXQoKSA9PSAnYmxvZycgfHwgU2l0ZVN0b3JlLmdldExheW91dCgpID09ICdzaXRlLWJsb2cnKSAmJiAoXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFNldHRpbmdzSXRlbSwge3RpdGxlOiBcIkNyZWF0ZSB5b3VyIGZpcnN0IGJsb2cgcG9zdFwifSwgXG5cdFx0XHRcdFx0XHRcdFwiQW4gZXBpYyBlc3NheSBvciBqdXN0IFxcXCJIZWxsbyBXb3JsZCFcXFwiXCIsIFxuXHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCksIFxuXHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2NvbG9yOiBcImJsdWVcIiwgaHJlZjogSlBTLnN0ZXBzLmFkdmFuY2VkX3NldHRpbmdzLm5ld19ibG9nX3Bvc3RfdXJsfSwgXCJXcml0ZSBhIG5ldyBibG9nIHBvc3RcIiksIFxuXHRcdFx0XHRcdFx0XHRcIsKgwqBcIiwgXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7Y29sb3I6IFwiYmx1ZVwiLCBocmVmOiBKUFMuc3RlcHMuYWR2YW5jZWRfc2V0dGluZ3MubWFuYWdlX3Bvc3RzX3VybH0sIFwiTWFuYWdlIHBvc3RzXCIpXG5cdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0KSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChTZXR0aW5nc0l0ZW0sIHt0aXRsZTogXCJDcmVhdGUgYSBzdGF0aWMgcGFnZVwifSwgXG5cdFx0XHRcdFx0XHRcIlxcXCJBYm91dCBtZVxcXCIsIFxcXCJPdXIgU2VydmljZXNcXFwiIG9yIGFueXRoaW5nIGVsc2UgeW91IGNhbiBpbWFnaW5lLlwiLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiclwiLCBudWxsKSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2NvbG9yOiBcImJsdWVcIiwgaHJlZjogSlBTLnN0ZXBzLmFkdmFuY2VkX3NldHRpbmdzLm5ld19wYWdlX3VybH0sIFwiQ3JlYXRlIGEgbmV3IHBhZ2VcIiksIFxuXHRcdFx0XHRcdFx0XCLCoMKgXCIsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtjb2xvcjogXCJibHVlXCIsIGhyZWY6IEpQUy5zdGVwcy5hZHZhbmNlZF9zZXR0aW5ncy5tYW5hZ2VfcGFnZXNfdXJsfSwgXCJNYW5hZ2UgcGFnZXNcIilcblx0XHRcdFx0XHQpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFNldHRpbmdzSXRlbSwge3RpdGxlOiBcIkV4dGVuZCB5b3VyIHNpdGUncyBmdW5jdGlvbmFsaXR5XCJ9LCBcblx0XHRcdFx0XHRcdFwiV29yZFByZXNzIG9mZmVycyB0aG91c2FuZHMgb2YgcGx1Z2lucyBmcm9tIEpldHBhY2sgYW5kIHRoZSBXb3JkUHJlc3MgY29tbXVuaXR5LlwiLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiclwiLCBudWxsKSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2NvbG9yOiBcImJsdWVcIiwgaHJlZjogSlBTLnN0ZXBzLmFkdmFuY2VkX3NldHRpbmdzLnBsdWdpbnNfdXJsfSwgXCJNYW5hZ2UgcGx1Z2luc1wiKSwgXG5cdFx0XHRcdFx0XHRcIsKgwqBcIiwgXG5cdFx0XHRcdFx0XHRTaXRlU3RvcmUuZ2V0SmV0cGFja0NvbmZpZ3VyZWQoKSAmJiAoXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7Y29sb3I6IFwiYmx1ZVwiLCBocmVmOiBKUFMuc3RlcHMuYWR2YW5jZWRfc2V0dGluZ3MuamV0cGFja19tb2R1bGVzX3VybH0sIFwiTWFuYWdlIEpldHBhY2sgbW9kdWxlc1wiKVxuXHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdCksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2V0dGluZ3NJdGVtLCB7dGl0bGU6IFwiTGVhcm4gbW9yZVwifSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7aHJlZjogXCJodHRwczovL2NvZGV4LndvcmRwcmVzcy5vcmcvRmlyc3RfU3RlcHNfV2l0aF9Xb3JkUHJlc3NcIn0sIFwiRmlyc3QgU3RlcHMgd2l0aCBXb3JkUHJlc3NcIiksIFwiIC0gYW4gb25saW5lIGd1aWRlIGZyb20gdGhlIGNyZWF0b3JzIG9mIFdvcmRQcmVzc1wiXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQWR2YW5jZWRTZXR0aW5nc1N0ZXA7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCk7XG5cbnZhciBDb250ZW50Qm94ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIkNvbnRlbnRCb3hcIixcblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcIndlbGNvbWVfX2NvbnRlbnRfYm94XCJ9LCBcblx0XHRcdFx0dGhpcy5wcm9wcy5jaGlsZHJlbiwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJjbGVhclwifSlcblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBDb250ZW50Qm94OyIsIi8vIHNpbXBsZSBub3RpY29uIHdyYXBwZXJcblxudmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCk7XG5cbnZhciBEYXNoaWNvbiA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJEYXNoaWNvblwiLFxuXHRcblx0cHJvcFR5cGVzOiB7XG5cdFx0bmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuXHRcdHN0eWxlOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHRcdG9uTW91c2VPdmVyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0XHRvbk1vdXNlT3V0OiBSZWFjdC5Qcm9wVHlwZXMuZnVuY1xuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcblx0XHRcdFx0c3R5bGU6IHRoaXMucHJvcHMuc3R5bGUsIFxuXHRcdFx0XHRvbk1vdXNlT3ZlcjogdGhpcy5wcm9wcy5vbk1vdXNlT3ZlciwgXG5cdFx0XHRcdG9uTW91c2VPdXQ6IHRoaXMucHJvcHMub25Nb3VzZU91dCwgXG5cdFx0XHRcdGNsYXNzTmFtZTogXCJkYXNoaWNvbnMgZGFzaGljb25zLVwiK3RoaXMucHJvcHMubmFtZX0sIFxuXG5cdFx0XHRcdHRoaXMucHJvcHMuY2hpbGRyZW5cblx0XHRcdFx0XG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gRGFzaGljb247IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCksXG5cdFNpdGVTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zaXRlLXN0b3JlJyksXG5cdFNldHVwUHJvZ3Jlc3NBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zZXR1cC1wcm9ncmVzcy1hY3Rpb25zJyksXG5cdFRvb2x0aXAgPSByZXF1aXJlKCcuL3Rvb2x0aXAnKSxcblx0V2VsY29tZVNlY3Rpb24gPSByZXF1aXJlKCcuL3dlbGNvbWUtc2VjdGlvbicpLFxuXHRDb250ZW50Qm94ID0gcmVxdWlyZSgnLi9jb250ZW50LWJveCcpLFxuXHRzdHlsZXMgPSByZXF1aXJlKCcuLi9zdHlsZXMnKSxcblx0QnV0dG9uID0gcmVxdWlyZSgnQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9qcy9jb21wb25lbnRzL2J1dHRvbicpO1xuXG5mdW5jdGlvbiBnZXRUaGVtZVN0YXRlKCkge1xuXHRyZXR1cm4geyB0aGVtZXM6IFNpdGVTdG9yZS5nZXRUaGVtZXMoKSwgc2l0ZV90aXRsZTogU2l0ZVN0b3JlLmdldFRpdGxlKCkgfTtcbn1cblxudmFyIERlc2lnblN0ZXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiRGVzaWduU3RlcFwiLFxuXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHRcdHRoaXMuX2xvYWRQb3B1bGFyVGhlbWVzKCk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0X29uQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICBcdHRoaXMuc2V0U3RhdGUoZ2V0VGhlbWVTdGF0ZSgpKTtcbiAgXHR9LFxuXG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGluaXRpYWxTdGF0ZSA9IGdldFRoZW1lU3RhdGUoKTtcblx0XHRpbml0aWFsU3RhdGUucG9wdWxhclRoZW1lcyA9IFtdO1xuXHRcdHJldHVybiBpbml0aWFsU3RhdGU7XG5cdH0sXG5cblx0aGFuZGxlQWN0aXZhdGVUaGVtZTogZnVuY3Rpb24gKCBlICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcblx0XHR0aGlzLnNldFN0YXRlKHt0b29sdGlwVGhlbWU6IG51bGwsIHRvb2x0aXBQb3NpdGlvbjogbnVsbH0pO1xuXG5cdFx0dmFyICRlbCA9IGpRdWVyeShlLmN1cnJlbnRUYXJnZXQpLFxuXHRcdFx0dGhlbWVJZCA9ICRlbC5kYXRhKCd0aGVtZS1pZCcpLFxuXHRcdFx0dGhlbWUgPSB0aGlzLmZpbmRUaGVtZSh0aGVtZUlkKSxcblx0XHRcdG5lZWRzSW5zdGFsbGF0aW9uID0gIXRoZW1lLmluc3RhbGxlZDtcblxuXHRcdHZhciByZXNwb25zZSA9IFNldHVwUHJvZ3Jlc3NBY3Rpb25zLnNldEFjdGl2ZVRoZW1lKHRoZW1lKTtcblxuXHRcdC8vIGlmIHdlIGp1c3QgaW5zdGFsbGVkIGEgdGhlbWUgZnJvbSB0aGUgXCJwb3B1bGFyXCIgbGlzdCwgbGV0J3MgbG9hZCBzb21lIG5ld1xuXHRcdC8vIHNlbGVjdGlvbnMgb25jZSBpbnN0YWxsYXRpb24gaXMgZmluaXNoZWRcblx0XHRpZiAoIG5lZWRzSW5zdGFsbGF0aW9uICkge1xuXHRcdFx0cmVzcG9uc2UuZG9uZSggZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR0aGlzLl9sb2FkUG9wdWxhclRoZW1lcygpO1xuXHRcdFx0fS5iaW5kKHRoaXMpKTtcblx0XHR9XG5cdH0sXG5cblx0ZmluZFRoZW1lOiBmdW5jdGlvbiAoIHRoZW1lSWQgKVx0e1xuXHRcdHJldHVybiBfLmZpbmRXaGVyZSh0aGlzLnN0YXRlLnRoZW1lcywge2lkOiB0aGVtZUlkfSkgfHwgXy5maW5kV2hlcmUodGhpcy5zdGF0ZS5wb3B1bGFyVGhlbWVzLCB7aWQ6IHRoZW1lSWR9KTtcblx0fSxcblxuXHRoYW5kbGVDb250aW51ZTogZnVuY3Rpb24gKCBlICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRTZXR1cFByb2dyZXNzQWN0aW9ucy5zYXZlRGVzaWduU3RlcCgpO1xuXHR9LFxuXG5cdGhhbmRsZVNob3dUb29sdGlwOiBmdW5jdGlvbiAoIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0dmFyICRlbCAgID0galF1ZXJ5KGUuY3VycmVudFRhcmdldCksXG5cdFx0XHR0aGVtZSA9IHRoaXMuZmluZFRoZW1lKCRlbC5kYXRhKCd0aGVtZS1pZCcpKSxcblx0XHRcdG9mZnNldCA9ICRlbC5wb3NpdGlvbigpLFxuXHRcdFx0d2lkdGggPSAkZWwub3V0ZXJXaWR0aCgpLFxuXHRcdFx0aGVpZ2h0ID0gJGVsLm91dGVySGVpZ2h0KCk7XG5cdFx0XG5cdFx0Ly9kZXNjcmliZXMgYSBwb3NpdGlvbiBpbiB0aGUgbWlkZGxlIG9mIHRoZSByaWdodCBzaWRlXG5cdFx0dmFyIHBvc2l0aW9uID0ge1xuXHRcdFx0dG9wOiBvZmZzZXQudG9wICsgKGhlaWdodC8yKSxcblx0XHRcdGxlZnQ6IG9mZnNldC5sZWZ0ICsgd2lkdGhcblx0XHR9O1xuXG5cdFx0dGhpcy5zZXRTdGF0ZSh7dG9vbHRpcFRoZW1lOiB0aGVtZSwgdG9vbHRpcFBvc2l0aW9uOiBwb3NpdGlvbn0pO1xuXHR9LFxuXG5cdGhhbmRsZUhpZGVUb29sdGlwOiBmdW5jdGlvbiAoIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHRoaXMuc2V0U3RhdGUoe3Rvb2x0aXBUaGVtZTogbnVsbCwgdG9vbHRpcFBvc2l0aW9uOiBudWxsfSk7XG5cdH0sXG5cblx0aGFuZGxlR2V0UG9wdWxhclRoZW1lczogZnVuY3Rpb24gKCBlICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR0aGlzLl9sb2FkUG9wdWxhclRoZW1lcygpO1x0XHRcblx0fSxcblxuXHRfbG9hZFBvcHVsYXJUaGVtZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5nZXRQb3B1bGFyVGhlbWVzKCkuZG9uZShmdW5jdGlvbih0aGVtZXMpIHtcblx0XHRcdHRoaXMuc2V0U3RhdGUoe3BvcHVsYXJUaGVtZXM6IHRoZW1lc30pO1xuXHRcdH0uYmluZCh0aGlzKSk7XG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblxuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFdlbGNvbWVTZWN0aW9uLCB7aWQ6IFwid2VsY29tZV9fZGVzaWduXCJ9LCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiTGV0J3MgbGF1bmNoIFwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZW1cIiwgbnVsbCwgdGhpcy5zdGF0ZS5zaXRlX3RpdGxlKSksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDRcIiwgbnVsbCwgXCJQaWNrIGEgZGVzaWduXCIpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge3N0eWxlOiBzdHlsZXMuY29udGVudH0sIFwiQSBcXFwidGhlbWVcXFwiIGNvbnRyb2xzIHRoZSBkZXNpZ24gb2YgeW91ciBzaXRlIC0gY29sb3VycywgZm9udHMgYW5kIGxheW91dC5cIiksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7c3R5bGU6IHN0eWxlcy5jb250ZW50fSwgXCJDbGljayBhbnkgdGhlbWUgYmVsb3cgdG8gY2hvb3NlIGl0IGZvciB5b3VyIHNpdGUuIEFuZCBkb24ndCB3b3JyeSAtIHlvdSBjYW4gZWFzaWx5IGNoYW5nZSB0aGlzIGxhdGVyLlwiKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwic3VibWl0XCJ9LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2NvbG9yOiBcImJsdWVcIiwgb25DbGljazogdGhpcy5oYW5kbGVDb250aW51ZX0sIFwiTmV4dCBTdGVwIOKGklwiKVxuXHRcdFx0XHQpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChDb250ZW50Qm94LCBudWxsLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJJbnN0YWxsZWQgdGhlbWVzXCIpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwidGhlbWUtYnJvd3NlciByZW5kZXJlZFwifSwgXG5cdFx0XHRcdFx0XHR0aGlzLl9yZW5kZXJUaGVtZUxpc3QoKVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KSwgXG5cdFx0XHRcdFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRlbnRCb3gsIG51bGwsIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCBcIlBvcHVsYXIgdGhlbWVzIGZyb20gV29yZFByZXNzLm9yZ1wiLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2NvbG9yOiBcImJsdWVcIiwgc3R5bGU6IHtmbG9hdDogJ3JpZ2h0J30sIG9uQ2xpY2s6IHRoaXMuaGFuZGxlR2V0UG9wdWxhclRoZW1lc30sIFwiTG9hZCBtb3JlIHRoZW1lc1wiKVxuXHRcdFx0XHRcdCksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ0aGVtZS1icm93c2VyIHJlbmRlcmVkXCJ9LCBcblx0XHRcdFx0XHRcdHRoaXMuX3JlbmRlclBvcHVsYXJUaGVtZUxpc3QoKVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KSwgXG5cblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7c3R5bGU6IHtjbGVhcjogJ2JvdGgnfX0pLCBcblx0XHRcdFx0dGhpcy5zdGF0ZS50b29sdGlwVGhlbWUgJiYgdGhpcy5fcmVuZGVyVG9vbHRpcCgpXG5cdFx0XHQpXG5cdFx0KTtcblx0fSxcblxuXHRfcmVuZGVyVG9vbHRpcDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHRoZW1lID0gdGhpcy5zdGF0ZS50b29sdGlwVGhlbWUsIHBvc2l0aW9uID0gdGhpcy5zdGF0ZS50b29sdGlwUG9zaXRpb247XG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoVG9vbHRpcCwge1xuXHRcdFx0XHRsZWZ0OiBwb3NpdGlvbi5sZWZ0LCBcblx0XHRcdFx0dG9wOiBwb3NpdGlvbi50b3AsIFxuXHRcdFx0XHR3aWR0aDogMzIwLCBcblx0XHRcdFx0dGl0bGU6IHRoZW1lLm5hbWV9LCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwgbnVsbCwgXCJCeSBcIiwgdGhlbWUuYXV0aG9yKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtkYW5nZXJvdXNseVNldElubmVySFRNTDoge19faHRtbDogXy51bmVzY2FwZSh0aGVtZS5kZXNjcmlwdGlvbil9fSlcblx0XHRcdClcblx0XHQpO1xuXHR9LFxuXG5cdF9yZW5kZXJUaGVtZTogZnVuY3Rpb24odGhlbWUpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7a2V5OiB0aGVtZS5pZCwgXG5cdFx0XHRcdGNsYXNzTmFtZTogJ3RoZW1lJyArICh0aGVtZS5hY3RpdmUgPyAnIGFjdGl2ZScgOiAnJyksIFxuXHRcdFx0XHRcImRhdGEtdGhlbWUtaWRcIjogdGhlbWUuaWQsIFxuXHRcdFx0XHRvbkNsaWNrOiB0aGlzLmhhbmRsZUFjdGl2YXRlVGhlbWUsIFxuXHRcdFx0XHRvbk1vdXNlRW50ZXI6IHRoaXMuaGFuZGxlU2hvd1Rvb2x0aXAsIFxuXHRcdFx0XHRvbk1vdXNlTGVhdmU6IHRoaXMuaGFuZGxlSGlkZVRvb2x0aXAsIFxuXHRcdFx0XHRcImFyaWEtZGVzY3JpYmVkYnlcIjogdGhlbWUuaWQrJy1hY3Rpb24gJyt0aGVtZS5pZCsnLW5hbWUnfSwgXG5cblx0XHRcdFx0dGhlbWUuc2NyZWVuc2hvdCA/IChcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwidGhlbWUtc2NyZWVuc2hvdFwifSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIHtzcmM6IHRoZW1lLnNjcmVlbnNob3QsIGFsdDogXCJcIn0pXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpIDogKFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ0aGVtZS1zY3JlZW5zaG90IGJsYW5rXCJ9KVxuXHRcdFx0XHQpLCBcblx0XHRcdFx0IXRoZW1lLmFjdGl2ZSAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge2NsYXNzTmFtZTogXCJtb3JlLWRldGFpbHNcIn0sIHRoZW1lLmluc3RhbGxlZCA/ICdDbGljayB0byBzZWxlY3QnIDogJ0NsaWNrIHRvIGluc3RhbGwnKSksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwge2NsYXNzTmFtZTogXCJ0aGVtZS1uYW1lXCIsIGlkOiB0aGVtZS5pZCsnLW5hbWUnfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgdGhlbWUuYWN0aXZlID8gJ1NlbGVjdGVkOicgOiAnJyksIFwiIFwiLCB0aGVtZS5uYW1lKVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0X3JlbmRlclBvcHVsYXJUaGVtZUxpc3Q6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnN0YXRlLnBvcHVsYXJUaGVtZXMubWFwKCB0aGlzLl9yZW5kZXJUaGVtZSApO1xuXHR9LFxuXG5cdF9yZW5kZXJUaGVtZUxpc3Q6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnN0YXRlLnRoZW1lcy5tYXAoIHRoaXMuX3JlbmRlclRoZW1lICk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERlc2lnblN0ZXA7IiwiLyoqXG4gKiBEaXNwbGF5cyBhIGZsYXNoIG1lc3NhZ2UsIGlmIHNldC5cbiAqIEpTT04gc3RydWN0dXJlOlxuICogeyBzZXZlcml0eTogJ25vdGljZScsIG1lc3NhZ2U6ICdNeSBtZXNzYWdlJyB9XG4gKlxuICogVmFsaWQgc2V2ZXJpdGllczpcbiAqIC0gZXJyb3IsIG5vdGljZVxuICovXG5cbnZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpLFxuXHRGbGFzaFN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL2ZsYXNoLXN0b3JlJyk7XG5cbmZ1bmN0aW9uIGdldEZsYXNoU3RhdGUoKSB7XG5cdHJldHVybiBGbGFzaFN0b3JlLmdldEZsYXNoKCk7XG59XG5cbnZhciBGbGFzaCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJGbGFzaFwiLFxuXHRjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0Rmxhc2hTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdEZsYXNoU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdF9vbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgXHR0aGlzLnNldFN0YXRlKGdldEZsYXNoU3RhdGUoKSk7XG4gIFx0fSxcblxuXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBnZXRGbGFzaFN0YXRlKCk7XG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoIHRoaXMuc3RhdGUubWVzc2FnZSApIHtcblx0XHRcdHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiB0aGlzLnN0YXRlLnNldmVyaXR5ICsgJyB1cGRhdGVkJ30sIHRoaXMuc3RhdGUubWVzc2FnZSkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZsYXNoOyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpLFxuXHRTZXR1cFByb2dyZXNzU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2V0dXAtcHJvZ3Jlc3Mtc3RvcmUnKSxcblx0U2V0dXBQcm9ncmVzc0FjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3NldHVwLXByb2dyZXNzLWFjdGlvbnMnKSxcblx0QnV0dG9uID0gcmVxdWlyZSgnQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9qcy9jb21wb25lbnRzL2J1dHRvbicpLFxuXHRSYWRpdW0gPSByZXF1aXJlKCdyYWRpdW0nKTtcblxuZnVuY3Rpb24gZ2V0U2V0dXBTdGF0ZSgpIHtcblx0cmV0dXJuIHt9O1xufVxuXG52YXIgR2V0U3RhcnRlZCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJHZXRTdGFydGVkXCIsXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTZXR1cFByb2dyZXNzU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTZXR1cFByb2dyZXNzU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdF9vbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgXHR0aGlzLnNldFN0YXRlKGdldFNldHVwU3RhdGUoKSk7XG4gIFx0fSxcblxuXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBnZXRTZXR1cFN0YXRlKCk7XG5cdH0sXG5cblx0aGFuZGxlR2V0U3RhcnRlZDogZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRTZXR1cFByb2dyZXNzQWN0aW9ucy5nZXRTdGFydGVkKCk7XG5cdH0sXG5cblx0aGFuZGxlTm9UaGFua3M6IGZ1bmN0aW9uKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0U2V0dXBQcm9ncmVzc0FjdGlvbnMuZGlzYWJsZUpQUygpO1x0XG5cdH0sXG5cblx0X2lzSUU4OiBmdW5jdGlvbigpIHtcblx0XHRqUXVlcnkoJ2h0bWwnKS5pcygnLmllOCcpO1xuXHR9LFxuXG5cdHN0eWxlczoge1xuXHRcdHdyYXBwZXI6IHtcblx0XHRcdHRleHRBbGlnbjogJ2NlbnRlcicsXG5cdFx0XHQvLyBiYWNrZ3JvdW5kSW1hZ2U6ICd1cmwoJytKUFMuYmFzZV91cmwrJy9pbWcvanBzLXdlbGNvbWUucG5nKScsXG5cdFx0XHRiYWNrZ3JvdW5kUmVwZWF0OiAnbm8tcmVwZWF0Jyxcblx0XHRcdGJhY2tncm91bmRQb3NpdGlvbjogJ2NlbnRlciBib3R0b20nLFxuXHRcdFx0YmFja2dyb3VuZFNpemU6ICc1MjBweCBhdXRvJyxcblx0XHRcdHBvc2l0aW9uOiAnZml4ZWQnLFxuXHRcdCAgICB0b3A6IDAsXG5cdFx0XHRsZWZ0OiAwLFxuXHRcdFx0d2lkdGg6ICcxMDAlJyxcblx0XHRcdGhlaWdodDogJzEwMCUnLFxuXHRcdFx0YmFja2dyb3VuZENvbG9yOiAnI2ZmZicsXG5cdFx0XHRwYWRkaW5nVG9wOiAxMDAsXG5cdFx0XHR6SW5kZXg6IDk5OVxuXHRcdH0sXG5cdFx0d3JhcHBlcklFODoge1xuXHRcdFx0YmFja2dyb3VuZEltYWdlOiAnbm9uZSdcblx0XHR9LFxuXHRcdHN1YmhlYWQ6IHtcblx0XHRcdG1hcmdpbjogJzIwcHggMCAxNXB4Jyxcblx0XHRcdGNvbG9yOiAnIzY2NicsXG5cdFx0XHRmb250U2l6ZTogMTgsXG5cdFx0XHRsaW5lSGVpZ2h0OiAxLjYsXG5cdFx0XHR0ZXh0QWxpZ246ICdjZW50ZXInLFxuXHRcdFx0J0BtZWRpYSAobWF4LXdpZHRoOiA2MDBweCknOiB7XG5cdFx0XHRcdG1hcmdpbkJvdHRvbTogMTUsXG5cdFx0XHRcdGZvbnRTaXplOiAxNVxuXHRcdFx0fSxcblx0XHRcdCdAbWVkaWEgKG1heC13aWR0aDogMzIwcHgpJzoge1xuXHRcdFx0XHRmb250U2l6ZTogMTNcblx0XHRcdH1cblx0XHR9LFxuXHRcdGJ1dHRvbjoge1xuXHRcdFx0Ym9yZGVyUmFkaXVzOiA2LFxuXHRcdFx0Zm9udEZhbWlseTogJ3Byb3hpbWEtbm92YSwgXFwnT3BlbiBTYW5zXFwnLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWYnLFxuXHRcdFx0Zm9udFNpemU6IDE2LFxuXHRcdFx0bGluZUhlaWdodDogMSxcblx0XHRcdHBhZGRpbmc6ICcwLjY0Mjg2ZW0gMC44NTcxNGVtIDAuNTM1NzFlbScsXG5cblx0XHRcdGdyZWVuOiB7XG5cdFx0XHRcdGJvcmRlcjogJzFweCBzb2xpZCByZ2IoNjIsIDEwOCwgMzIpJyxcblx0XHRcdFx0YmFja2dyb3VuZDogJ3JnYig4MSwgMTQxLCA0MiknLFxuXHRcdFx0XHRib3hTaGFkb3c6ICdyZ2IoNjIsIDEwOCwgMzIpIDBweCAzcHggMHB4LCByZ2JhKDAsIDAsIDAsIDAuNCkgMHB4IDRweCAzcHgnLFxuXHRcdFx0XHRjb2xvcjogJyNmZmYnXG5cdFx0XHR9LFxuXHRcdFx0Z3JheToge1xuXHRcdFx0XHRiYWNrZ3JvdW5kOiAnbGluZWFyLWdyYWRpZW50KHJnYigyNTUsIDI1NSwgMjU1KSwgcmdiKDI0OSwgMjQ5LCAyNDkpKScsXG5cdFx0XHRcdGJveFNoYWRvdzogJ3JnYigxNTAsIDE1MCwgMTUwKSAwcHggM3B4IDBweCwgcmdiYSgwLCAwLCAwLCAwLjQpIDBweCA0cHggM3B4OycsXG5cdFx0XHRcdGNvbG9yOiAnIzMzMydcblx0XHRcdH1cblx0XHR9XG5cblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtrZXk6IFwid2VsY29tZS1pbnRyb1wiLCBzdHlsZTogW3RoaXMuc3R5bGVzLndyYXBwZXIsIHRoaXMuX2lzSUU4KCkgJiYgdGhpcy5zdHlsZXMud3JhcHBlcklFOF19LCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIHtzdHlsZToge2ZvbnRTaXplOiAzMCwgbWFyZ2luVG9wOiAzMH19LCBcIldlbGNvbWUgdG8gV29yZFByZXNzXCIpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge3N0eWxlOiB0aGlzLnN0eWxlcy5zdWJoZWFkfSwgXCJXb3VsZCB5b3UgbGlrZSBoZWxwIGxhdW5jaGluZyB5b3VyIHNpdGU/XCIpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwgbnVsbCwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtzdHlsZTogIE9iamVjdC5hc3NpZ24oIHt9LCB0aGlzLnN0eWxlcy5idXR0b24sIHRoaXMuc3R5bGVzLmJ1dHRvbi5ncmVlbiksIG9uQ2xpY2s6IHRoaXMuaGFuZGxlR2V0U3RhcnRlZH0sIFwiWWVzXCIpLCBcblx0XHRcdFx0XHRcIsKgwqDCoFwiLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge3N0eWxlOiAgT2JqZWN0LmFzc2lnbigge30sIHRoaXMuc3R5bGVzLmJ1dHRvbiwgdGhpcy5zdHlsZXMuYnV0dG9uLmdyYXkpLCBvbkNsaWNrOiB0aGlzLmhhbmRsZU5vVGhhbmtzfSwgXCJObyB0aGFua3NcIilcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJhZGl1bShHZXRTdGFydGVkKTsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKSxcblx0U2l0ZVN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NpdGUtc3RvcmUnKSxcblx0U2l0ZUFjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3NpdGUtYWN0aW9ucycpLFxuXHRQYXRocyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LXBhdGhzJyk7XG5cbmZ1bmN0aW9uIGdldEpldHBhY2tQcm9ncmVzcygpIHtcblx0cmV0dXJuIHsgXG5cdFx0amV0cGFja0NvbmZpZ3VyZWQ6IFNpdGVTdG9yZS5nZXRKZXRwYWNrQ29uZmlndXJlZCgpXG5cdH07XG59XG5cbnZhciBKZXRwYWNrSnVtcHN0YXJ0TWVudSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJKZXRwYWNrSnVtcHN0YXJ0TWVudVwiLFxuXHRjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0U2l0ZVN0b3JlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0fSxcblxuXHRjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0U2l0ZVN0b3JlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0fSxcblxuXHRfb25DaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICAgIFx0dGhpcy5zZXRTdGF0ZShnZXRKZXRwYWNrUHJvZ3Jlc3MoKSk7XG4gIFx0fSxcblxuICBcdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGdldEpldHBhY2tQcm9ncmVzcygpO1xuXHR9LFxuXG5cdGhhbmRsZUNsaWNrQ29ubmVjdDogZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRTaXRlQWN0aW9ucy5jb25maWd1cmVKZXRwYWNrKFBhdGhzLkpFVFBBQ0tfTU9EVUxFU19TVEVQX1NMVUcpO1xuXHR9LFxuXG5cdHN0eWxlOiB7XG5cdFx0Y29sb3I6ICdibGFjaycsXG5cdFx0Zm9udFNpemU6IDEyLFxuXHRcdG1hcmdpblRvcDogNSxcblx0XHRtYXJnaW5MZWZ0OiAyMCxcblx0fSxcblxuXHRwcmltYXJ5Q29ubmVjdEJ0bjoge1xuXHRcdG1hcmdpblRvcDogMTAsXG5cdFx0bWFyZ2luQm90dG9tOiAyMCxcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZTogdGhpcy5zdHlsZX0sIFxuXHRcdFx0XHR0aGlzLnN0YXRlLmpldHBhY2tDb25maWd1cmVkID8gKFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbClcblx0XHRcdFx0KSA6IChcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0XCJCb29zdCB0cmFmZmljLCBlbmhhbmNlIHNlY3VyaXR5LCBhbmQgaW1wcm92ZSBwZXJmb3JtYW5jZSB3aXRoIGEgY29ubmVjdGlvbiB0byBXb3JkUHJlc3MuY29tXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiclwiLCBudWxsKSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7Y2xhc3NOYW1lOiBcImJ1dHRvbiBidXR0b24tcHJpbWFyeSBidXR0b24tbGFyZ2VcIiwgc3R5bGU6IHRoaXMucHJpbWFyeUNvbm5lY3RCdG4sIGhyZWY6IFwiI1wiLCBvbkNsaWNrOiB0aGlzLmhhbmRsZUNsaWNrQ29ubmVjdH0sIFwiQ29ubmVjdCB0byBXb3JkUHJlc3MuY29tXCIpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHRcdFxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEpldHBhY2tKdW1wc3RhcnRNZW51OyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpLFxuXHRSYWRpdW0gPSByZXF1aXJlKCdyYWRpdW0nKSxcblx0U2tpcEJ1dHRvbiA9IHJlcXVpcmUoJy4vc2tpcC1idXR0b24nKSxcblx0U2l0ZVN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NpdGUtc3RvcmUnKSxcblx0U2l0ZUFjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3NpdGUtYWN0aW9ucycpLFxuXHRQYXRocyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LXBhdGhzJyksIFxuXHRDb250ZW50Qm94ID0gcmVxdWlyZSgnLi9jb250ZW50LWJveCcpLFxuXHRzdHlsZXMgPSByZXF1aXJlKCcuLi9zdHlsZXMnKSxcblx0V2VsY29tZVNlY3Rpb24gPSByZXF1aXJlKCcuL3dlbGNvbWUtc2VjdGlvbicpLFxuXHRTZXR1cFByb2dyZXNzQWN0aW9ucyA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvc2V0dXAtcHJvZ3Jlc3MtYWN0aW9ucycpLFxuXHRTcGlubmVyU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc3Bpbm5lci1zdG9yZScpLFxuXHRCdXR0b24gPSByZXF1aXJlKCdAYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvYnV0dG9uJyk7XG5cblxudmFyIEpldHBhY2tMb2dvID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIkpldHBhY2tMb2dvXCIsXG5cdHN0eWxlczoge1xuXHRcdGpldHBhY2tMb2dvV3JhcHBlcjoge1xuXHRcdFx0ZGlzcGxheTogJ2Jsb2NrJyxcblx0XHRcdHRleHRBbGlnbjogJ2NlbnRlcicsXG5cdFx0XHRoZWlnaHQ6IDcwLFxuXHRcdFx0Y29sb3I6ICd3aGl0ZScsXG5cdFx0XHRtYXJnaW5MZWZ0OiA1LFxuXHRcdFx0YmFja2dyb3VuZENvbG9yOiAnIzgxYTg0NCdcblx0XHR9LFxuXHRcdGpldHBhY2tMb2dvOiB7XG5cdFx0XHRkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcblx0XHRcdHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuXHRcdFx0d2lkdGg6IDIxNCxcblx0XHRcdG1hcmdpblJpZ2h0OiA2LFxuXHRcdFx0YmFja2dyb3VuZDogJ3VybCgnK0pQUy5qZXRwYWNrLmxvZ29fdXJsKycpIGNlbnRlciBjZW50ZXIgbm8tcmVwZWF0Jyxcblx0XHRcdGJhY2tncm91bmRTaXplOiAnMTgzcHggYXV0bycsXG5cdFx0XHRjb2xvcjogJyNmZmYnLFxuXHRcdFx0Zm9udFdlaWdodDogJ25vcm1hbCcsXG5cdFx0XHRwYWRkaW5nOiAnNXB4IDBweCdcblx0XHR9LFxuXHRcdGpldHBhY2tMb2dvTmFtZToge1xuXHRcdFx0dGV4dEluZGVudDogLTk5OTksXG5cdFx0XHR2aXNpYmlsaXR5OiAnaGlkZGVuJ1xuXHRcdH1cblxuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtzdHlsZTogW3RoaXMuc3R5bGVzLmpldHBhY2tMb2dvV3JhcHBlciwgdGhpcy5wcm9wcy5zdHlsZV19LCBcblx0XHRcdFx0XCJQb3dlcmVkIGJ5XCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiclwiLCBudWxsKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtocmVmOiBcIi93cC1hZG1pbi9hZG1pbi5waHA/cGFnZT1qZXRwYWNrXCIsIHRpdGxlOiBcIkpldHBhY2tcIiwgc3R5bGU6IHRoaXMuc3R5bGVzLmpldHBhY2tMb2dvfSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge3N0eWxlOiB0aGlzLnN0eWxlcy5qZXRwYWNrTG9nb05hbWV9LCBcIkpldHBhY2tcIilcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5KZXRwYWNrTG9nbyA9IFJhZGl1bShKZXRwYWNrTG9nbyk7XG5cbmZ1bmN0aW9uIGdldEpldHBhY2tTdGF0ZSgpIHtcblx0cmV0dXJuIHtcblx0XHRzaXRlX3RpdGxlOiBTaXRlU3RvcmUuZ2V0VGl0bGUoKSxcblx0XHRqZXRwYWNrQ29uZmlndXJlZDogU2l0ZVN0b3JlLmdldEpldHBhY2tDb25maWd1cmVkKCksXG5cdFx0anVtcHN0YXJ0RW5hYmxlZDogU2l0ZVN0b3JlLmdldEpldHBhY2tKdW1wc3RhcnRFbmFibGVkKCksXG5cdFx0bW9kdWxlc0VuYWJsZWQ6IFNpdGVTdG9yZS5nZXRBY3RpdmVNb2R1bGVTbHVncygpXHRcblx0fTtcbn1cblxudmFyIEpldHBhY2tKdW1wc3RhcnQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiSmV0cGFja0p1bXBzdGFydFwiLFxuXG5cdHN0eWxlczoge1xuXHRcdGpldHBhY2tMb2dvOiB7XG5cdFx0XHRmbG9hdDogJ3JpZ2h0Jyxcblx0XHRcdCdAbWVkaWEgKG1heC13aWR0aDogNzgycHgpJzoge1xuXHRcdFx0XHRmbG9hdDogJ25vbmUnLFxuXHRcdFx0XHRtYXJnaW5MZWZ0OiAwXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRqdW1wc3RhcnRNb2R1bGU6IHtcblx0XHRcdGZsb2F0OiAnbGVmdCcsXG5cdFx0XHRwb3NpdGlvbjogJ3JlbGF0aXZlJyxcblx0XHRcdGhlaWdodDogMTYwLFxuXHRcdFx0cGFkZGluZzogMTAsXG5cdFx0XHQnQG1lZGlhIChtaW4td2lkdGg6IDc4MnB4KSc6IHtcblx0XHRcdFx0d2lkdGg6ICczMyUnXG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGp1bXBzdGFydE1vZHVsZURlc2M6IHtcblx0XHRcdGRpc3BsYXk6ICdibG9jaycsXG5cdFx0XHRtYXJnaW5Ub3A6IDUsXG5cdFx0XHRsaW5lSGVpZ2h0OiAnMTUwJSdcblx0XHR9LFxuXG5cdFx0b3ZlcmxheUNvbnRlbnQ6IHtcblx0XHRcdG1hcmdpblRvcDogMTAsXG5cdFx0XHRtYXJnaW5Cb3R0b206IDEwXG5cdFx0fSxcblxuXHRcdG92ZXJsYXlCZWZvcmU6IHtcblx0XHRcdGRpc3BsYXk6ICdibG9jaycsXG5cdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcblx0XHRcdHdpZHRoOiAnMTAwJScsXG5cdFx0XHRoZWlnaHQ6ICcxMDAlJyxcblx0XHRcdGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwwLDAsMC4yKSdcblx0XHR9LFxuXG5cdFx0b3ZlcmxheToge1xuXHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdFx0XHR0b3A6IDAsXG5cdFx0XHRsZWZ0OiAwLFxuXHRcdFx0d2lkdGg6ICcxMDAlJyxcblx0XHRcdGhlaWdodDogJzEwMCUnLFxuXHRcdFx0bWluSGVpZ2h0OiAnMTAwJScsXG5cdFx0XHR6SW5kZXg6IDcwMFxuXHRcdH0sXG5cblx0XHRvdmVybGF5Qm9keToge1xuXHRcdFx0dGV4dEFsaWduOiAnY2VudGVyJyxcblx0XHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuXHRcdFx0Ym9yZGVyUmFkaXVzOiAzLFxuXHRcdFx0Ym94U2hhZG93OiAnMCAwIDRweCByZ2JhKDAsMCwwLDAuMiknLFxuXHRcdFx0ekluZGV4OiA4MDAsXG5cdFx0XHRsZWZ0OiAnNTAlJyxcblx0XHQgIFx0dG9wOiAnNTAlJyxcblx0XHQgIFx0cGFkZGluZzogMTUsXG5cdFx0ICBcdHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtNTAlLC01MCUpJyxcblx0XHRcdHdpZHRoOiAnNzAlJyxcblx0XHRcdGJhY2tncm91bmRDb2xvcjogJyNmZmYnXG5cdFx0fSxcblxuXHRcdG1vcmVMaW5rOiB7XG5cdFx0XHR0ZXh0QWxpZ246ICdjZW50ZXInXG5cdFx0fVxuXHR9LFxuXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdF9vbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgXHR0aGlzLnNldFN0YXRlKGdldEpldHBhY2tTdGF0ZSgpKTtcbiAgXHR9LFxuXG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHN0YXRlID0gZ2V0SmV0cGFja1N0YXRlKCk7XG5cdFx0c3RhdGUuc2hvd01vcmVNb2R1bGVzID0gZmFsc2U7XG5cdFx0cmV0dXJuIHN0YXRlO1xuXHR9LFxuXG5cdGhhbmRsZUpldHBhY2tDb25uZWN0OiBmdW5jdGlvbiAoZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFNpdGVBY3Rpb25zLmNvbmZpZ3VyZUpldHBhY2soUGF0aHMuSkVUUEFDS19NT0RVTEVTX1NURVBfU0xVRyk7XG5cdH0sXG5cblx0aGFuZGxlQ2hhbmdlTW9kdWxlU3RhdHVzOiBmdW5jdGlvbiAoZSkge1xuXHRcdHZhciAkdGFyZ2V0ID0galF1ZXJ5KGUuY3VycmVudFRhcmdldCksXG5cdFx0XHRtb2R1bGVfc2x1ZyA9ICR0YXJnZXQuZGF0YSgnbW9kdWxlLXNsdWcnKTtcblxuXHRcdGlmICggU2l0ZVN0b3JlLmlzSmV0cGFja01vZHVsZUVuYWJsZWQobW9kdWxlX3NsdWcpICkge1xuXHRcdFx0U2l0ZUFjdGlvbnMuZGVhY3RpdmF0ZUpldHBhY2tNb2R1bGUobW9kdWxlX3NsdWcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRTaXRlQWN0aW9ucy5hY3RpdmF0ZUpldHBhY2tNb2R1bGUobW9kdWxlX3NsdWcpO1xuXHRcdH1cblx0fSxcblxuXHRoYW5kbGVFbmFibGVBbGxNb2R1bGVzOiBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFNpdGVBY3Rpb25zLmVuYWJsZUp1bXBzdGFydCgpO1xuXHR9LFxuXG5cdGhhbmRsZU5leHQ6IGZ1bmN0aW9uIChlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0U2V0dXBQcm9ncmVzc0FjdGlvbnMuY29tcGxldGVBbmROZXh0U3RlcChQYXRocy5KRVRQQUNLX01PRFVMRVNfU1RFUF9TTFVHKTtcblx0fSxcblxuXHRoYW5kbGVTaG93TW9yZU1vZHVsZXM6IGZ1bmN0aW9uIChlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFxuXHRcdFNpdGVBY3Rpb25zLmxvYWRBbGxKZXRwYWNrTW9kdWxlcygpLmRvbmUoZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHtzaG93TW9yZU1vZHVsZXM6IHRydWV9KTtcblx0XHR9LmJpbmQodGhpcykpO1xuXHR9LFxuXG5cdGhhbmRsZVNob3dGZXdlck1vZHVsZXM6IGZ1bmN0aW9uIChlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHRoaXMuc2V0U3RhdGUoe3Nob3dNb3JlTW9kdWxlczogZmFsc2V9KTtcblx0fSxcblxuXHRfcmVuZGVyTW9kdWxlOiBmdW5jdGlvbihtb2R1bGUpIHtcblx0XHR2YXIgaXNBY3RpdmUgPSBTaXRlU3RvcmUuaXNKZXRwYWNrTW9kdWxlRW5hYmxlZChtb2R1bGUuc2x1Zyk7XG5cdFx0dmFyIG1vZHVsZUlkID0gJ2pwLW1vZHVsZS0nK21vZHVsZS5zbHVnO1xuXHRcdFxuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtrZXk6ICdtb2R1bGVzLScrbW9kdWxlLnNsdWcsIHN0eWxlOiB0aGlzLnN0eWxlcy5qdW1wc3RhcnRNb2R1bGV9LCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtpZDogbW9kdWxlSWQsIHR5cGU6IFwiY2hlY2tib3hcIiwgY2hlY2tlZDogaXNBY3RpdmUsIFwiZGF0YS1tb2R1bGUtc2x1Z1wiOiBtb2R1bGUuc2x1Zywgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlTW9kdWxlU3RhdHVzfSksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwge2h0bWxGb3I6IG1vZHVsZUlkfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInN0cm9uZ1wiLCBudWxsLCBtb2R1bGUubmFtZSkpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLmp1bXBzdGFydE1vZHVsZURlc2N9LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtkYW5nZXJvdXNseVNldElubmVySFRNTDoge19faHRtbDogbW9kdWxlLmRlc2NyaXB0aW9ufX0pLCBcblx0XHRcdFx0XHRpc0FjdGl2ZSAmJiBtb2R1bGUuY29uZmlndXJlX3VybCAmJiAoXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHt0YXJnZXQ6IFwiX2NvbmZpZ3VyZVwiLCBocmVmOiBtb2R1bGUuY29uZmlndXJlX3VybH0sIFwiY29uZmlndXJlXCIpKVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgbW9kdWxlT3ZlcmxheUJlZm9yZSwgbW9kdWxlT3ZlcmxheSwgbW9kdWxlT3ZlcmxheUJvZHk7XG5cblxuXHRcdGlmICggISB0aGlzLnN0YXRlLmpldHBhY2tDb25maWd1cmVkICYmICFTcGlubmVyU3RvcmUuc2hvd2luZygpICkge1xuXHRcdFx0bW9kdWxlT3ZlcmxheUJlZm9yZSA9IChcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLm92ZXJsYXlCZWZvcmV9KVxuXHRcdFx0KTtcblx0XHRcdG1vZHVsZU92ZXJsYXkgPSAoXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge3N0eWxlOiB0aGlzLnN0eWxlcy5vdmVybGF5fSlcblx0XHRcdCk7XG5cdFx0XHRtb2R1bGVPdmVybGF5Qm9keSA9IChcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLm92ZXJsYXlCb2R5fSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge3N0eWxlOiB0aGlzLnN0eWxlcy5vdmVybGF5Q29udGVudH0sIFwiVGhlc2UgbW9kdWxlcyByZXF1aXJlIGEgV29yZFByZXNzLmNvbSBhY2NvdW50IC0gaXQncyBmcmVlIVwiKSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtjb2xvcjogXCJncmVlblwiLCBzaXplOiBcImJpZ1wiLCB0aGVtZTogXCJqZXRwYWNrXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlSmV0cGFja0Nvbm5lY3R9LCBcIkNvbm5lY3QgdG8gV29yZFByZXNzLmNvbVwiKSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge3N0eWxlOiB0aGlzLnN0eWxlcy5vdmVybGF5Q29udGVudH0sIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChTa2lwQnV0dG9uLCBudWxsKVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KVxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHR2YXIgbW9kdWxlRGVzY3JpcHRpb25zID0gU2l0ZVN0b3JlLmdldEp1bXBzdGFydE1vZHVsZXMoKS5tYXAodGhpcy5fcmVuZGVyTW9kdWxlKTtcblx0XHR2YXIgbW9yZU1vZHVsZURlc2NyaXB0aW9ucyA9IFNpdGVTdG9yZS5nZXRKZXRwYWNrQWRkaXRpb25hbE1vZHVsZXMoKS5tYXAodGhpcy5fcmVuZGVyTW9kdWxlKTtcblxuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFdlbGNvbWVTZWN0aW9uLCBudWxsLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiTGV0J3MgbGF1bmNoIFwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZW1cIiwgbnVsbCwgdGhpcy5zdGF0ZS5zaXRlX3RpdGxlKSksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDRcIiwgbnVsbCwgXCJFbmFibGUgSmV0cGFjayBmZWF0dXJlc1wiKSwgXG5cdFx0XHRcdHRoaXMuc3RhdGUuamV0cGFja0NvbmZpZ3VyZWQgJiYgKFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEpldHBhY2tMb2dvLCB7c3R5bGU6IHRoaXMuc3R5bGVzLmpldHBhY2tMb2dvfSksIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge3N0eWxlOiBzdHlsZXMuY29udGVudH0sIFwiQ29uZ3JhdHVsYXRpb25zISBZb3UndmUgZW5hYmxlZCBKZXRwYWNrIGFuZCB1bmxvY2tlZCBkb3plbnMgb2YgcG93ZXJmdWwgZmVhdHVyZXMuXCIpLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtzdHlsZTogc3R5bGVzLmNvbnRlbnR9LCBcIkNoZWNrIHRoZSBib3hlcyBiZWxvdyB0byBlbmFibGUgb3VyIG1vc3QgcG9wdWxhciBmZWF0dXJlcy5cIiksIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcImNsZWFyXCJ9KVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ3ZWxjb21lX19jb25uZWN0XCJ9LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZToge3Bvc2l0aW9uOiAncmVsYXRpdmUnfX0sIFxuXHRcdFx0XHRcdFx0bW9kdWxlT3ZlcmxheUJlZm9yZSwgXG5cdFx0XHRcdFx0XHRtb2R1bGVPdmVybGF5LCBcblx0XHRcdFx0XHRcdG1vZHVsZU92ZXJsYXlCb2R5LCBcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0dGhpcy5zdGF0ZS5qZXRwYWNrQ29uZmlndXJlZCAmJiAoXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJzdWJtaXRcIn0sIFxuXHRcdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7c3R5bGU6IHtmbG9hdDogJ3JpZ2h0J30sIGNvbG9yOiBcImJsdWVcIiwgb25DbGljazogdGhpcy5oYW5kbGVOZXh0fSwgXCJOZXh0IFN0ZXAg4oaSXCIpLCBcblx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwiY2xlYXJcIn0pXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCksIFxuXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRlbnRCb3gsIG51bGwsIFxuXHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJQb3B1bGFyIGZlYXR1cmVzXCIgKyAnICcgK1xuXHRcdFx0XHRcdFx0XHRcdFwiwqDCoFwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2Rpc2FibGVkOiB0aGlzLnN0YXRlLmp1bXBzdGFydEVuYWJsZWQsIGNvbG9yOiBcImJsdWVcIiwgb25DbGljazogdGhpcy5oYW5kbGVFbmFibGVBbGxNb2R1bGVzfSwgdGhpcy5zdGF0ZS5qdW1wc3RhcnRFbmFibGVkID8gJ0VuYWJsZWQgQWxsJyA6ICdFbmFibGUgYWxsIChyZWNvbW1lbmRlZCknKVxuXHRcdFx0XHRcdFx0XHQpLCBcblx0XHRcdFx0XHRcdFx0bW9kdWxlRGVzY3JpcHRpb25zXG5cdFx0XHRcdFx0XHQpLCBcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0dGhpcy5zdGF0ZS5zaG93TW9yZU1vZHVsZXMgPyAoXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtzdHlsZTogdGhpcy5zdHlsZXMubW9yZUxpbmt9LCBcblx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7aHJlZjogXCIjXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlU2hvd0Zld2VyTW9kdWxlc30sIFwiaGlkZSBhZGRpdGlvbmFsIGZlYXR1cmVzXCIpXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCkgOiAoXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtzdHlsZTogdGhpcy5zdHlsZXMubW9yZUxpbmt9LCBcblx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7aHJlZjogXCIjXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlU2hvd01vcmVNb2R1bGVzfSwgXCJzaG93IGFkZGl0aW9uYWwgZmVhdHVyZXNcIilcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0KSwgXG5cblx0XHRcdFx0XHRcdHRoaXMuc3RhdGUuc2hvd01vcmVNb2R1bGVzICYmIChcblx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChDb250ZW50Qm94LCBudWxsLCBcblx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJBZGRpdGlvbmFsIG1vZHVsZXNcIiksIFxuXHRcdFx0XHRcdFx0XHRcdG1vcmVNb2R1bGVEZXNjcmlwdGlvbnNcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJhZGl1bShKZXRwYWNrSnVtcHN0YXJ0KTsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKSxcblx0U2l0ZVN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NpdGUtc3RvcmUnKSxcblx0QnV0dG9uID0gcmVxdWlyZSgnQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9qcy9jb21wb25lbnRzL2J1dHRvbicpLFxuXHRXZWxjb21lU2VjdGlvbiA9IHJlcXVpcmUoJy4vd2VsY29tZS1zZWN0aW9uJyksXG5cdHN0eWxlcyA9IHJlcXVpcmUoJy4uL3N0eWxlcycpLFxuXHRTZXR1cFByb2dyZXNzQWN0aW9ucyA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvc2V0dXAtcHJvZ3Jlc3MtYWN0aW9ucycpO1xuXG5mdW5jdGlvbiBnZXRTaXRlTGF5b3V0U3RhdGUoKSB7XG5cdHJldHVybiB7XG5cdFx0c2l0ZV90aXRsZTogU2l0ZVN0b3JlLmdldFRpdGxlKCksXG5cdFx0bGF5b3V0OiBTaXRlU3RvcmUuZ2V0TGF5b3V0KClcblx0fTtcbn1cblxudmFyIExheW91dFN0ZXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiTGF5b3V0U3RlcFwiLFxuXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdF9vbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgXHR0aGlzLnNldFN0YXRlKGdldFNpdGVMYXlvdXRTdGF0ZSgpKTtcbiAgXHR9LFxuXG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGdldFNpdGVMYXlvdXRTdGF0ZSgpO1xuXHR9LFxuXG5cdGhhbmRsZVNldExheW91dDogZnVuY3Rpb24oIGUgKSB7XG5cdFx0dGhpcy5zZXRTdGF0ZSh7IGxheW91dDogalF1ZXJ5KGUuY3VycmVudFRhcmdldCkudmFsKCkgfSk7XG5cdH0sXG5cblx0aGFuZGxlU3VibWl0OiBmdW5jdGlvbiggZSApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0U2V0dXBQcm9ncmVzc0FjdGlvbnMuc3VibWl0TGF5b3V0U3RlcCh0aGlzLnN0YXRlLmxheW91dCk7XG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChXZWxjb21lU2VjdGlvbiwge2lkOiBcIndlbGNvbWVfX2xheW91dFwifSwgXG5cdFx0XHRcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiTGV0J3MgbGF1bmNoIFwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZW1cIiwgbnVsbCwgdGhpcy5zdGF0ZS5zaXRlX3RpdGxlKSksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDRcIiwgbnVsbCwgXCJTZWxlY3QgYSBMYXlvdXRcIiksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7c3R5bGU6IHN0eWxlcy5jb250ZW50fSwgXCJXb3JkUHJlc3MgY2FuIGJlIGEgYmxvZywgYSB3ZWIgc2l0ZSB3aXRoIGEgaGllcmFyY2h5IG9mIHN0YXRpYyBwYWdlcywgb3IgYSBjb21iaW5hdGlvbiBvZiB0aGUgdHdvLlwiKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIsIHtvblN1Ym1pdDogdGhpcy5oYW5kbGVTdWJtaXR9LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge3R5cGU6IFwicmFkaW9cIiwgbmFtZTogXCJzaXRlX2xheW91dFwiLCB2YWx1ZTogXCJ3ZWJzaXRlXCIsIGNoZWNrZWQ6IHRoaXMuc3RhdGUubGF5b3V0ID09PSAnd2Vic2l0ZScsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVNldExheW91dH0pLCBcIiBTdGF0aWMgV2Vic2l0ZVwiLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwiZGVzY3JpcHRpb25cIn0sIFwiQSB3ZWIgc2l0ZSB3aXRoIGEgaGllcmFyY2h5IG9mIHBhZ2VzXCIpXG5cdFx0XHRcdFx0KSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImJyXCIsIG51bGwpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge3R5cGU6IFwicmFkaW9cIiwgbmFtZTogXCJzaXRlX2xheW91dFwiLCB2YWx1ZTogXCJzaXRlLWJsb2dcIiwgY2hlY2tlZDogdGhpcy5zdGF0ZS5sYXlvdXQgPT09ICdzaXRlLWJsb2cnLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVTZXRMYXlvdXR9KSwgXCIgU3RhdGljIFdlYnNpdGUgd2l0aCBhIGJsb2dcIiwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcImRlc2NyaXB0aW9uXCJ9LCBcIkEgd2ViIHNpdGUgd2l0aCBwYWdlcyB0aGF0IGFsc28gaGFzIGEgYmxvZyBvciBuZXdzIHNlY3Rpb25cIilcblx0XHRcdFx0XHQpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7dHlwZTogXCJyYWRpb1wiLCBuYW1lOiBcInNpdGVfbGF5b3V0XCIsIHZhbHVlOiBcImJsb2dcIiwgY2hlY2tlZDogdGhpcy5zdGF0ZS5sYXlvdXQgPT09ICdibG9nJywgb25DaGFuZ2U6IHRoaXMuaGFuZGxlU2V0TGF5b3V0fSksIFwiIEp1c3QgYSBibG9nXCIsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJkZXNjcmlwdGlvblwifSwgXCJBIHdlYiBzaXRlIHRoYXQgd2lsbCBjb25zdGFudGx5IHNob3cgbmV3IGNvbnRlbnQgKGFydGljbGVzLCBwaG90b3MsIHZpZGVvcywgZXRjLilcIilcblx0XHRcdFx0XHQpLCBcblxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwic3VibWl0XCJ9LCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7Y29sb3I6IFwiYmx1ZVwifSwgXCJOZXh0IFN0ZXAg4oaSXCIpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gTGF5b3V0U3RlcDsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKSxcblx0U2l0ZUFjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3NpdGUtYWN0aW9ucycpLFxuXHRTaXRlU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2l0ZS1zdG9yZScpLFxuXHRXZWxjb21lU2VjdGlvbiA9IHJlcXVpcmUoJy4vd2VsY29tZS1zZWN0aW9uJyksXG5cdHN0eWxlcyA9IHJlcXVpcmUoJy4uL3N0eWxlcycpLFxuXHRCdXR0b24gPSByZXF1aXJlKCdAYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvYnV0dG9uJyksXG5cdFNldHVwUHJvZ3Jlc3NBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zZXR1cC1wcm9ncmVzcy1hY3Rpb25zJyk7XG5cbmZ1bmN0aW9uIGdldFNpdGVUaXRsZVN0YXRlKCkge1xuXHRyZXR1cm4ge1xuXHRcdHRpdGxlOiBTaXRlU3RvcmUuZ2V0VGl0bGUoKSxcblx0XHRkZXNjcmlwdGlvbjogU2l0ZVN0b3JlLmdldERlc2NyaXB0aW9uKClcblx0fTtcbn1cblxudmFyIFNpdGVUaXRsZVN0ZXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiU2l0ZVRpdGxlU3RlcFwiLFxuXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdF9vbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgXHR0aGlzLnNldFN0YXRlKGdldFNpdGVUaXRsZVN0YXRlKCkpO1xuICBcdH0sXG5cblx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZ2V0U2l0ZVRpdGxlU3RhdGUoKTtcblx0fSxcblxuXHRoYW5kbGVDaGFuZ2VUaXRsZTogZnVuY3Rpb24oZSkge1xuXHRcdFNpdGVBY3Rpb25zLnNldFRpdGxlKGUuY3VycmVudFRhcmdldC52YWx1ZSk7XG5cdH0sXG5cblx0aGFuZGxlQ2hhbmdlRGVzY3JpcHRpb246IGZ1bmN0aW9uKGUpIHtcblx0XHRTaXRlQWN0aW9ucy5zZXREZXNjcmlwdGlvbihlLmN1cnJlbnRUYXJnZXQudmFsdWUpO1xuXHR9LFxuXG5cdGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRTZXR1cFByb2dyZXNzQWN0aW9ucy5zdWJtaXRUaXRsZVN0ZXAoKTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAoXG5cblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoV2VsY29tZVNlY3Rpb24sIHtpZDogXCJ3ZWxjb21lX19zaXRlLXRpdGxlXCJ9LCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiTGV0J3MgbGF1bmNoIHlvdXIgbmV3IHdlYnNpdGVcIiksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDRcIiwgbnVsbCwgXCJFbnRlciBhIFRpdGxlIGFuZCBEZXNjcmlwdGlvblwiKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtzdHlsZTogc3R5bGVzLmNvbnRlbnR9LCBcblx0XHRcdFx0XHRcIk1ha2UgeW91ciBzaXRlIHN0YW5kIG91dCB3aXRoIGEgY2F0Y2h5IG5hbWUuXCJcblx0XHRcdFx0KSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIsIHtvblN1Ym1pdDogdGhpcy5oYW5kbGVTdWJtaXR9LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwidGFibGVcIiwge2NsYXNzTmFtZTogXCJmb3JtLXRhYmxlXCJ9LCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInRyXCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiLCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwge2h0bWxGb3I6IFwic2l0ZV90aXRsZVwifSwgXCJTaXRlIFRpdGxlXCIpKSwgXG5cdFx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInRkXCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHt0eXBlOiBcInRleHRcIiwgbmFtZTogXCJzaXRlX3RpdGxlXCIsIGlkOiBcInNpdGUtdGl0bGVcIiwgYXV0b0NvbXBsZXRlOiBcIm9mZlwiLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2VUaXRsZSwgdmFsdWU6IHRoaXMuc3RhdGUudGl0bGUsIFxuXHRcdFx0XHRcdCAgICAgICBwbGFjZWhvbGRlcjogXCJTaXRlIFRpdGxlICh0aGlzIGNhbiBiZSBjaGFuZ2VkIGxhdGVyKVwiLCByZXF1aXJlZDogdHJ1ZX0pLCBcblx0XHRcdFx0XHQgICAgICAgXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJkZXNjcmlwdGlvblwifSwgXCJUaGUgbmFtZSBvZiB5b3VyIHNpdGUuIFRoaXMgdGl0bGUgYXBwZWFycyBhdCB0aGUgdG9wIG9mIHBhZ2VzIGFuZCBpbiBzZWFyY2ggcmVzdWx0cy5cIilcblx0XHRcdFx0XHQgICAgICAgXHRcdClcblx0XHRcdFx0XHQgICAgICBcdCksIFxuXHRcdFx0XHRcdCAgICAgIFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInRyXCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiLCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwge2h0bWxGb3I6IFwic2l0ZV9kZXNjcmlwdGlvblwifSwgXCJTaXRlIERlc2NyaXB0aW9uXCIpKSwgXG5cdFx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInRkXCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHt0eXBlOiBcInRleHRcIiwgbmFtZTogXCJzaXRlX2Rlc2NyaXB0aW9uXCIsIGlkOiBcInNpdGUtZGVzY3JpcHRpb25cIiwgYXV0b0NvbXBsZXRlOiBcIm9mZlwiLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2VEZXNjcmlwdGlvbiwgdmFsdWU6IHRoaXMuc3RhdGUuZGVzY3JpcHRpb24sIFxuXHRcdFx0XHRcdCAgICAgICBwbGFjZWhvbGRlcjogXCJTaXRlIERlc2NyaXB0aW9uXCIsIHJlcXVpcmVkOiB0cnVlfSksIFxuXHRcdFx0XHRcdCAgICAgICBcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcImRlc2NyaXB0aW9uXCJ9LCBcIkEgbW90dG8gb3IgdGFnbGluZS4gVGhpcyBhcHBlYXJzIGJlbG93IHRoZSB0aXRsZSBvbiB5b3VyIHNpdGUsIGFuZCBuZXh0IHRvIHRoZSB0aXRsZSBpbiBzZWFyY2ggcmVzdWx0cy4gVHJ5IHRvIGJlIGJyaWVmIGFuZCBkZXNjcmlwdGl2ZSwgZS5nLiBcXFwiWW91ciBvbmxpbmUgYmFpdCBhbmQgdGFja2xlIHN0b3JlXFxcIlwiKVxuXHRcdFx0XHRcdCAgICAgICBcdFx0KVxuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0KSwgXG5cblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcInN1Ym1pdFwifSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2NvbG9yOiBcImJsdWVcIn0sIFwiTmV4dCBTdGVwIOKGklwiKVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNpdGVUaXRsZVN0ZXA7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCksXG5cdFNldHVwUHJvZ3Jlc3NTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zZXR1cC1wcm9ncmVzcy1zdG9yZScpLFxuXHRTZXR1cFByb2dyZXNzQWN0aW9ucyA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvc2V0dXAtcHJvZ3Jlc3MtYWN0aW9ucycpO1xuXG5mdW5jdGlvbiBnZXRTZXR1cFByb2dyZXNzKCkge1xuXHRyZXR1cm4ge1xuXHRcdGNvbXBsZXRlZDogU2V0dXBQcm9ncmVzc1N0b3JlLmdldEN1cnJlbnRTdGVwKCkuY29tcGxldGVkXG5cdH07XG59XG5cbnZhciBTa2lwQnV0dG9uID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIlNraXBCdXR0b25cIixcblxuXHRzdHlsZToge1xuXHRcdGNvbG9yOiAnI2JiYicsXG5cdFx0Zm9udFNpemU6ICc5MCUnLFxuXHRcdG1hcmdpbkxlZnQ6IDIwLFxuXHRcdGJvcmRlckJvdHRvbTogJzFweCBkb3R0ZWQgI2JiYidcblx0fSxcblxuXHRjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0U2V0dXBQcm9ncmVzc1N0b3JlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0fSxcblxuXHRjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0U2V0dXBQcm9ncmVzc1N0b3JlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0fSxcblxuXHRfb25DaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICAgIFx0dGhpcy5zZXRTdGF0ZShnZXRTZXR1cFByb2dyZXNzKCkpO1xuICBcdH0sXG5cbiAgXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBnZXRTZXR1cFByb2dyZXNzKCk7XG5cdH0sXG5cblx0aGFuZGxlU2tpcDogZnVuY3Rpb24gKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0U2V0dXBQcm9ncmVzc0FjdGlvbnMuc2tpcFN0ZXAoKTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBjb21wbGV0ZWQgPSAodGhpcy5zdGF0ZS5jb21wbGV0ZWQpO1xuXHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge3N0eWxlOiB0aGlzLnN0eWxlLCBocmVmOiBcIiNcIiwgb25DbGljazogdGhpcy5oYW5kbGVTa2lwfSwgXCJOb3Qgbm93XCIpKTtcblx0XHR9XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNraXBCdXR0b247IiwiXG52YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKTtcblxudmFyIFRvb2x0aXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiVG9vbHRpcFwiLFxuXHRwcm9wVHlwZXM6IHtcblx0XHRsZWZ0OiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsICAvLyBlLmcuIDYwMFxuXHRcdHRvcDogUmVhY3QuUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLCAgIC8vZS5nLiAxNTdcblx0XHR3aWR0aDogUmVhY3QuUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLCAvL2UuZy4gMzIwXG5cdFx0dGl0bGU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCwgIC8vIGUuZy4gRGlzdHJhY3Rpb24tRnJlZSBXcml0aW5nXG5cdH0sXG5cblx0aGFuZGxlRGlzbWlzczogZnVuY3Rpb24gKCBlICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0fSxcblxuXHRjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX3JlY29tcHV0ZVBvc2l0aW9uKCk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX3JlY29tcHV0ZVBvc2l0aW9uKCk7XG5cdH0sXG5cblx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHJlYWxUb3A6IHRoaXMucHJvcHMudG9wXG5cdFx0fTtcblx0fSxcblxuXHRfcmVjb21wdXRlUG9zaXRpb246IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgJHdyYXBwZXIgPSBqUXVlcnkoUmVhY3QuZmluZERPTU5vZGUodGhpcy5yZWZzLndyYXBwZXIpKTtcblxuXHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0cmVhbFRvcDogdGhpcy5wcm9wcy50b3AgLSAoJHdyYXBwZXIub3V0ZXJIZWlnaHQoKS8yKVxuXHRcdH0pO1xuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge3JlZjogXCJ3cmFwcGVyXCIsIGNsYXNzTmFtZTogXCJ3cC1wb2ludGVyIHdwLXBvaW50ZXItbGVmdFwiLCBzdHlsZToge3Bvc2l0aW9uOiAnYWJzb2x1dGUnLCB3aWR0aDogdGhpcy5wcm9wcy53aWR0aCwgdG9wOiB0aGlzLnN0YXRlLnJlYWxUb3AsIGxlZnQ6IHRoaXMucHJvcHMubGVmdCwgekluZGV4OiA5OTk5fX0sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwid3AtcG9pbnRlci1jb250ZW50XCJ9LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgdGhpcy5wcm9wcy50aXRsZSksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIG51bGwsIHRoaXMucHJvcHMuY2hpbGRyZW4pXG5cdFx0XHRcdCksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwid3AtcG9pbnRlci1hcnJvd1wifSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcIndwLXBvaW50ZXItYXJyb3ctaW5uZXJcIn0pXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBUb29sdGlwOyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpLFxuXHRSYWRpdW0gPSByZXF1aXJlKCdyYWRpdW0nKSxcblx0UHJvZ3Jlc3NCYXIgPSByZXF1aXJlKCdAYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvcHJvZ3Jlc3MtYmFyJyksXG5cdFNldHVwUHJvZ3Jlc3NBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zZXR1cC1wcm9ncmVzcy1hY3Rpb25zJyksXG5cdERhc2hpY29uID0gcmVxdWlyZSgnLi9kYXNoaWNvbicpO1xuXG52YXIgc3RlcFNoYXBlID0gUmVhY3QuUHJvcFR5cGVzLnNoYXBlKHtcblx0bmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuXHRzbHVnOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXG59KTtcblxuLyoqXG4gKiBUaGUgbWVudSB3aGljaCBhbGxvd3MgdGhlIHVzZXIgdG8gc3dpdGNoIHN0ZXBzXG4gKiovXG52YXIgV2VsY29tZU1lbnUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiV2VsY29tZU1lbnVcIixcblx0XG5cdHByb3BUeXBlczoge1xuXHRcdGN1cnJlbnRTdGVwOiBzdGVwU2hhcGUuaXNSZXF1aXJlZCxcblx0XHRjbGlja2FibGU6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuXHRcdGFsbFN0ZXBzOiBSZWFjdC5Qcm9wVHlwZXMuYXJyYXlPZihzdGVwU2hhcGUpLmlzUmVxdWlyZWQsXG5cdFx0cHJvZ3Jlc3NQZXJjZW50OiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcblx0fSxcblxuXHRnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRjbGlja2FibGU6IHRydWVcblx0XHR9O1xuXHR9LFxuXG5cdHN0eWxlczoge1xuXHRcdHdyYXBwZXI6IHtcblx0XHRcdGZsb2F0OiAncmlnaHQnLFxuXHRcdFx0d2lkdGg6ICcyOCUnLFxuXHRcdFx0aGVpZ2h0OiAnMTAwJScsXG5cdFx0XHRiYWNrZ3JvdW5kOiAnI2ZhZmFmYScsXG5cdFx0XHRib3JkZXI6ICcxcHggc29saWQgI2VlZScsXG5cdFx0fSxcblx0XHR0aXRsZToge1xuXHRcdFx0bWFyZ2luOiAwLFxuXHRcdFx0cGFkZGluZzogMTIsXG5cdFx0XHRvdmVyZmxvdzogJ2hpZGRlbicsXG5cdFx0XHRiYWNrZ3JvdW5kOiAnIzQ0NCcsXG5cdFx0XHRjb2xvcjogJyNmZmYnLFxuXHRcdFx0Zm9udFNpemU6IDEyLFxuXHRcdFx0dGV4dFRyYW5zZm9ybTogJ3VwcGVyY2FzZSdcblx0XHR9LFxuXHRcdGxpc3Q6IHtcblx0XHRcdG1hcmdpbjogJzEzcHggMTBweCcsXG5cdFx0XHRsaXN0U3R5bGU6ICdub25lJyxcblx0XHRcdCdAbWVkaWEgKG1heC13aWR0aDogNjAwcHgpJzoge1xuXHRcdFx0XHRtYXJnaW46ICc1cHggNHB4J1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0bWVudUl0ZW06IHtcblx0XHRcdG1hcmdpbkJvdHRvbTogNixcblx0XHRcdHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuXHRcdFx0Y29sb3I6ICcjMzMzJyxcblx0XHRcdGxpbmVIZWlnaHQ6IDEuNyxcblx0XHRcdCdAbWVkaWEgKG1heC13aWR0aDogNzgycHgpJzoge1xuXHRcdFx0XHRmb250U2l6ZTogJ3NtYWxsJ1xuXHRcdFx0fSxcblx0XHRcdCdAbWVkaWEgKG1heC13aWR0aDogNjAwcHgpJzoge1xuXHRcdFx0XHRmb250U2l6ZTogJ3NtYWxsZXInXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRtZW51SXRlbUNvbXBsZXRlZDoge1xuXHRcdFx0Y29sb3I6ICcjNEFCODY2J1xuXHRcdH0sXG5cdFx0aWNvbjoge1xuXHRcdFx0Zm9udFNpemU6IDE2LFxuXHRcdFx0dG9wOiAzLFxuXHRcdFx0cG9zaXRpb246ICdyZWxhdGl2ZSdcblx0XHR9LFxuXHRcdG1lbnVJdGVtTGluazoge1xuXHRcdFx0Y29sb3I6ICdpbmhlcml0Jyxcblx0XHRcdGJvcmRlckJvdHRvbTogJzFweCBkYXNoZWQnXG5cdFx0fSxcblx0XHRtZW51SXRlbUN1cnJlbnQ6IHtcblx0XHRcdGNvbG9yOiAnIzAwNzRBMidcblx0XHR9XG5cdH0sXG5cblx0c2VsZWN0U3RlcDogZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcblx0XHR2YXIgc2x1ZyA9IGpRdWVyeShlLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ3N0ZXAtc2x1ZycpO1xuXG5cdFx0U2V0dXBQcm9ncmVzc0FjdGlvbnMuc2V0Q3VycmVudFN0ZXAoc2x1Zyk7XG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBtZW51SXRlbXMgPSB0aGlzLnByb3BzLmFsbFN0ZXBzLm1hcChmdW5jdGlvbiAoIHN0ZXAgKSB7XG5cdFx0XHR2YXIgdGl0bGUsIGN1cnJlbnQsIG1lbnVWaWV3LCBpY29uTmFtZTtcblxuXHRcdFx0aWYgKCB0aGlzLnByb3BzLmNsaWNrYWJsZSAmJiB0aGlzLnByb3BzLmN1cnJlbnRTdGVwICkge1xuXHRcdFx0XHRjdXJyZW50ID0gKCB0aGlzLnByb3BzLmN1cnJlbnRTdGVwLnNsdWcgPT0gc3RlcC5zbHVnICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggIXN0ZXAuc3RhdGljICYmIHRoaXMucHJvcHMuY2xpY2thYmxlICkge1xuXHRcdFx0XHR0aXRsZSA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtocmVmOiBcIiNcIiwgc3R5bGU6IHRoaXMuc3R5bGVzLm1lbnVJdGVtTGluaywgXCJkYXRhLXN0ZXAtc2x1Z1wiOiBzdGVwLnNsdWcsIG9uQ2xpY2s6IHRoaXMuc2VsZWN0U3RlcH0sIHN0ZXAubmFtZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aXRsZSA9IHN0ZXAubmFtZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBzdGVwLm1lbnVWaWV3ICYmIHRoaXMucHJvcHMuY2xpY2thYmxlICkge1xuXHRcdFx0XHRtZW51VmlldyA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoc3RlcC5tZW51VmlldywgbnVsbCk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGljb25OYW1lID0gc3RlcC5jb21wbGV0ZWQgPyAneWVzJyA6ICdhcnJvdy1yaWdodC1hbHQyJztcblxuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIHtrZXk6IHN0ZXAuc2x1Zywgc3R5bGU6IFt0aGlzLnN0eWxlcy5tZW51SXRlbSwgc3RlcC5jb21wbGV0ZWQgJiYgdGhpcy5zdHlsZXMubWVudUl0ZW1Db21wbGV0ZWQsIGN1cnJlbnQgJiYgdGhpcy5zdHlsZXMubWVudUl0ZW1DdXJyZW50XX0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGFzaGljb24sIHtzdHlsZTogdGhpcy5zdHlsZXMuaWNvbiwgbmFtZTogaWNvbk5hbWV9KSwgXG5cdFx0XHRcdFx0dGl0bGUsIFwiIFwiLCBzdGVwLnNraXBwZWQgPyAnKHNraXBwZWQpJyA6IG51bGwsIFxuXHRcdFx0XHRcdG1lbnVWaWV3XG5cdFx0XHRcdClcblx0XHRcdCk7XG5cdFx0fS5iaW5kKHRoaXMpICk7XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7c3R5bGU6IFt0aGlzLnN0eWxlcy53cmFwcGVyLCB0aGlzLnByb3BzLnN0eWxlXX0sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwge3N0eWxlOiB0aGlzLnN0eWxlcy50aXRsZX0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtzdHlsZToge2Zsb2F0OiAnbGVmdCcsIG1hcmdpblJpZ2h0OiAxMH19LCBcIllvdXIgUHJvZ3Jlc3NcIiksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFByb2dyZXNzQmFyLCB7c3R5bGU6IHsgZmxvYXQ6ICdsZWZ0J30sIHByb2dyZXNzUGVyY2VudDogdGhpcy5wcm9wcy5wcm9ncmVzc1BlcmNlbnR9KVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KSwgXG5cdFx0XHRcdFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwib2xcIiwge3N0eWxlOiB0aGlzLnN0eWxlcy5saXN0fSwgXG5cdFx0XHRcdFx0bWVudUl0ZW1zXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSYWRpdW0oV2VsY29tZU1lbnUpOyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpO1xuXG52YXIgV2VsY29tZVNlY3Rpb24gPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiV2VsY29tZVNlY3Rpb25cIixcblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgJF9fMD0gIHRoaXMucHJvcHMsb3RoZXI9KGZ1bmN0aW9uKHNvdXJjZSwgZXhjbHVzaW9uKSB7dmFyIHJlc3QgPSB7fTt2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtpZiAoc291cmNlID09IG51bGwpIHt0aHJvdyBuZXcgVHlwZUVycm9yKCk7fWZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtpZiAoaGFzT3duLmNhbGwoc291cmNlLCBrZXkpICYmICFoYXNPd24uY2FsbChleGNsdXNpb24sIGtleSkpIHtyZXN0W2tleV0gPSBzb3VyY2Vba2V5XTt9fXJldHVybiByZXN0O30pKCRfXzAse30pO1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIFJlYWN0Ll9fc3ByZWFkKHt9LCAgb3RoZXIsIHtjbGFzc05hbWU6IFwid2VsY29tZV9fc2VjdGlvblwifSksIFxuXHRcdFx0XHR0aGlzLnByb3BzLmNoaWxkcmVuXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gV2VsY29tZVNlY3Rpb247IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCksXG5cdFdlbGNvbWVNZW51ID0gcmVxdWlyZSgnLi93ZWxjb21lLW1lbnUnKSxcblx0U2V0dXBQcm9ncmVzc1N0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NldHVwLXByb2dyZXNzLXN0b3JlJyksXG5cdFJlc2V0ID0gcmVxdWlyZSgnQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9qcy9jb21wb25lbnRzL3Jlc2V0JyksXG5cdFNldHVwUHJvZ3Jlc3NBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zZXR1cC1wcm9ncmVzcy1hY3Rpb25zJyksXG5cdEZsYXNoID0gcmVxdWlyZSgnLi9mbGFzaCcpLFxuXHRzdHlsZXMgPSByZXF1aXJlKCcuLi9zdHlsZXMnKSxcblx0R2V0U3RhcnRlZCA9IHJlcXVpcmUoJy4vZ2V0LXN0YXJ0ZWQnKSxcblx0U3Bpbm5lclN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NwaW5uZXItc3RvcmUnKSxcblx0U3Bpbm5lckFjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3NwaW5uZXItYWN0aW9ucycpLFxuXHREYXRhU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvZGF0YS1zdG9yZScpO1xuXG5mdW5jdGlvbiBnZXRTZXR1cFByb2dyZXNzKCkge1xuXHRyZXR1cm4geyBcblx0XHRuZXdVc2VyOiBTZXR1cFByb2dyZXNzU3RvcmUuaXNOZXdVc2VyKCksIFxuXHRcdHNob3dTcGlubmVyOiBTcGlubmVyU3RvcmUuc2hvd2luZygpLCBcblx0XHRzcGlubmVyTWVzc2FnZTogU3Bpbm5lclN0b3JlLmdldE1lc3NhZ2UoKSwgXG5cdFx0Y3VycmVudFN0ZXA6IFNldHVwUHJvZ3Jlc3NTdG9yZS5nZXRDdXJyZW50U3RlcCgpLCBcblx0XHRhbGxTdGVwczogU2V0dXBQcm9ncmVzc1N0b3JlLmdldEFsbFN0ZXBzKCksIFxuXHRcdHByb2dyZXNzUGVyY2VudDogU2V0dXBQcm9ncmVzc1N0b3JlLmdldFByb2dyZXNzUGVyY2VudCgpIFxuXHR9O1xufVxuXG4vLyBUT0RPOiB2aXN1YWwgXCJzYXZpbmdcIiBmb3IgdGhpcy5zdGF0ZS5zYXZpbmdcbnZhciBXZWxjb21lV2lkZ2V0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIldlbGNvbWVXaWRnZXRcIixcblxuXHRzdHlsZXM6IHtcblx0XHR3cmFwcGVyOiB7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH0sXG5cdFx0bG9hZGluZ092ZXJsYXk6IHtcblx0XHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuXHRcdFx0dG9wOiAwLFxuXHRcdFx0bGVmdDogMCxcblx0XHRcdHdpZHRoOiAnMTAwJScsXG5cdFx0XHRoZWlnaHQ6ICcxMDAlJyxcblx0XHRcdG1pbkhlaWdodDogJzEwMCUnLFxuXHRcdFx0ekluZGV4OiA5OTksXG5cdFx0XHRiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDI1NSwyNTUsMjU1LDAuNiknXG5cdFx0fSxcblx0XHRsb2FkaW5nTWVzc2FnZToge1xuXHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdFx0XHR3aWR0aDogJzUwJScsXG5cdFx0XHRtaW5XaWR0aDogMzAwLFxuXHRcdFx0Ym9yZGVyUmFkaXVzOiAyLFxuXHRcdFx0cGFkZGluZzogMjAsXG5cdFx0XHRib3JkZXI6ICcxcHggc29saWQgYmxhY2snLFxuXHRcdFx0YmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuXHRcdFx0dGV4dEFsaWduOiAnY2VudGVyJyxcblx0XHRcdGxlZnQ6ICc1MCUnLFxuXHRcdFx0dG9wOiAxMDAsXG5cdFx0XHR0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTUwJSwtNTAlKSdcblx0XHR9LFxuXHRcdGNvbnRhaW5lcjoge1xuXHRcdFx0ZmxvYXQ6ICdsZWZ0Jyxcblx0XHRcdHdpZHRoOiAnNzAlJyxcblx0XHRcdHBhZGRpbmc6ICcwIDEwcHgnXG5cdFx0fSxcblx0XHRtZW51OiB7XG5cdFx0XHRtYXJnaW5Ub3A6IDI1XG5cdFx0fVxuXHR9LFxuXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTZXR1cFByb2dyZXNzU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHRcdFNwaW5uZXJTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vblNwaW5uZXJDaGFuZ2UpO1xuXHRcdERhdGFTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkRhdGFDaGFuZ2UpO1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTZXR1cFByb2dyZXNzU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHRcdFNwaW5uZXJTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vblNwaW5uZXJDaGFuZ2UpO1xuXHRcdERhdGFTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkRhdGFDaGFuZ2UpO1xuXHR9LFxuXG5cdF9vbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgXHR0aGlzLnNldFN0YXRlKGdldFNldHVwUHJvZ3Jlc3MoKSk7XG4gIFx0fSxcblxuICBcdF9vblNwaW5uZXJDaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICBcdFx0dGhpcy5zZXRTdGF0ZSh7IHNob3dTcGlubmVyOiBTcGlubmVyU3RvcmUuc2hvd2luZygpLCBzcGlubmVyTWVzc2FnZTogU3Bpbm5lclN0b3JlLmdldE1lc3NhZ2UoKSB9KTtcbiAgXHR9LFxuXG4gIFx0X29uRGF0YUNoYW5nZTogZnVuY3Rpb24oKSB7XG4gIFx0XHR0aGlzLnNldFN0YXRlKHsgc2F2aW5nOiBEYXRhU3RvcmUuaXNTYXZpbmcoKSB9KTtcbiAgXHR9LFxuXG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGdldFNldHVwUHJvZ3Jlc3MoKTtcblx0fSxcblxuXHRoYW5kbGVSZXNldDogZnVuY3Rpb24oIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFNldHVwUHJvZ3Jlc3NBY3Rpb25zLnJlc2V0RGF0YSgpO1xuXHR9LFxuXG5cdGhhbmRsZVNob3dTcGlubmVyOiBmdW5jdGlvbiAoIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFNwaW5uZXJBY3Rpb25zLnNob3coXCJUZXN0aW5nIHNwaW5uZXJcIik7XG5cdH0sXG5cblx0aGFuZGxlSGlkZVNwaW5uZXI6IGZ1bmN0aW9uICggZSApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0U3Bpbm5lckFjdGlvbnMuaGlkZSgpO1xuXHR9LFxuXHRcblxuICBcdHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gIFx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChSZXNldCwge2Nzczogc3R5bGVzLmNzc30sIFxuXHRcdFx0XHR0aGlzLl9yZW5kZXJEZWJ1ZygpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLndyYXBwZXJ9LCBcblx0XHRcdFx0XHR0aGlzLl9yZW5kZXJTcGlubmVyKCksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge3N0eWxlOiB0aGlzLnN0eWxlcy5jb250YWluZXJ9LCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoRmxhc2gsIG51bGwpLCBcblx0XHRcdFx0XHRcdHRoaXMuX3JlbmRlclNlY3Rpb24oKVxuXHRcdFx0XHRcdCksIFxuXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChXZWxjb21lTWVudSwge3N0eWxlOiB0aGlzLnN0eWxlcy5tZW51LCBjbGlja2FibGU6ICF0aGlzLnN0YXRlLm5ld1VzZXIsIGN1cnJlbnRTdGVwOiB0aGlzLnN0YXRlLmN1cnJlbnRTdGVwLCBhbGxTdGVwczogdGhpcy5zdGF0ZS5hbGxTdGVwcywgcHJvZ3Jlc3NQZXJjZW50OiB0aGlzLnN0YXRlLnByb2dyZXNzUGVyY2VudH0pLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwiY2xlYXJcIn0pXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpO1xuXHR9LFxuXG5cdF9yZW5kZXJTZWN0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoIHRoaXMuc3RhdGUubmV3VXNlciApIHtcbiAgXHRcdFx0cmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEdldFN0YXJ0ZWQsIG51bGwpKTtcbiAgXHRcdH0gZWxzZSB7XG4gIFx0XHRcdHJldHVybiB0aGlzLl9yZW5kZXJDdXJyZW50VmlldygpO1xuICBcdFx0fVxuXHR9LFxuXG5cdF9yZW5kZXJEZWJ1ZzogZnVuY3Rpb24oKSB7XG5cdFx0Ly8gaWYgKCBKUFMuZGVidWcgKSB7XG4gIC8vIFx0XHRcdHJldHVybiAoPGRpdj5cbiAgLy8gXHRcdFx0XHQ8YSBocmVmPVwiI1wiIGNsYXNzTmFtZT1cImJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMuaGFuZGxlUmVzZXR9PlJlc2V0IFdpemFyZDwvYT5cbiAgLy8gXHRcdFx0XHQ8YSBocmVmPVwiI1wiIGNsYXNzTmFtZT1cImJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMuaGFuZGxlU2hvd1NwaW5uZXJ9PlNob3cgc3Bpbm5lcjwvYT5cbiAgLy8gXHRcdFx0XHQ8YSBocmVmPVwiI1wiIGNsYXNzTmFtZT1cImJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMuaGFuZGxlSGlkZVNwaW5uZXJ9PkhpZGUgc3Bpbm5lcjwvYT5cbiAgLy8gXHRcdFx0PC9kaXY+KTtcbiAgLy8gXHRcdH0gZWxzZSB7XG4gIFx0XHRcdHJldHVybiBudWxsO1xuICBcdFx0Ly8gfVxuXHR9LFxuXG5cdF9yZW5kZXJTcGlubmVyOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoIHRoaXMuc3RhdGUuc2hvd1NwaW5uZXIgKSB7XG4gIFx0XHRcdHJldHVybiAoXG4gIFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLmxvYWRpbmdPdmVybGF5fSwgXG4gIFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZTogdGhpcy5zdHlsZXMubG9hZGluZ01lc3NhZ2V9LCBcbiAgXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7c3JjOiBcIi93cC1hZG1pbi9pbWFnZXMvc3Bpbm5lci0yeC5naWZcIiwgd2lkdGg6IFwiMTZweFwiLCBoZWlnaHQ6IFwiMTZweFwifSksIFxuICBcdFx0XHRcdFx0XHRcIsKgwqBcIiwgdGhpcy5zdGF0ZS5zcGlubmVyTWVzc2FnZVxuICBcdFx0XHRcdFx0KVxuICBcdFx0XHRcdClcbiAgXHRcdFx0KTtcblxuICBcdFx0fSBlbHNlIHtcbiAgXHRcdFx0cmV0dXJuIG51bGw7XG4gIFx0XHR9XG5cdH0sXG5cblx0X3JlbmRlckN1cnJlbnRWaWV3OiBmdW5jdGlvbigpIHtcblx0XHRpZiAoIHRoaXMuc3RhdGUuY3VycmVudFN0ZXAgKSB7XG4gIFx0XHRcdHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCh0aGlzLnN0YXRlLmN1cnJlbnRTdGVwLndlbGNvbWVWaWV3LCBudWxsKSk7XG4gIFx0XHR9IGVsc2Uge1xuICBcdFx0XHRyZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCBcIk5vdGhpbmdcIikpO1xuICBcdFx0fVxuXHR9LFxuXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBXZWxjb21lV2lkZ2V0OyIsInZhciBrZXlNaXJyb3IgPSByZXF1aXJlKCdrZXltaXJyb3InKTtcblxubW9kdWxlLmV4cG9ydHMgPSBrZXlNaXJyb3Ioe1xuXHRTVEVQX0NPTVBMRVRFOiBudWxsLFxuXHRTVEVQX0dFVF9TVEFSVEVEOiBudWxsLFxuXHRTVEVQX1NFTEVDVDogbnVsbCxcblx0U1RFUF9ORVhUOiBudWxsLFxuXHRTVEVQX1NLSVA6IG51bGwsXG5cdFNJVEVfU0VUX1RJVExFOiBudWxsLFxuXHRTSVRFX1NFVF9ERVNDUklQVElPTjogbnVsbCxcblx0U0lURV9TQVZFX1RJVExFX0FORF9ERVNDUklQVElPTjogbnVsbCxcblx0U0lURV9TRVRfVEhFTUU6IG51bGwsXG5cdFNJVEVfSU5TVEFMTF9USEVNRTogbnVsbCxcblx0U0lURV9KRVRQQUNLX0NPTkZJR1VSRUQ6IG51bGwsXG5cdFNJVEVfSkVUUEFDS19NT0RVTEVfRU5BQkxFRDogbnVsbCxcblx0U0lURV9KRVRQQUNLX01PRFVMRV9ESVNBQkxFRDogbnVsbCxcblx0U0lURV9KRVRQQUNLX0pVTVBTVEFSVF9FTkFCTEVEOiBudWxsLFxuXHRTSVRFX0pFVFBBQ0tfQUREX01PRFVMRVM6IG51bGwsXG5cdFNJVEVfU0VUX0xBWU9VVDogbnVsbCxcblxuXHRTQVZFX1NUQVJURUQ6IG51bGwsXG5cdFNBVkVfRklOSVNIRUQ6IG51bGwsXG5cblx0U0VUX0ZMQVNIOiBudWxsLFxuXHRVTlNFVF9GTEFTSDogbnVsbCxcblx0RkxBU0hfU0VWRVJJVFlfTk9USUNFOiBudWxsLFxuXHRGTEFTSF9TRVZFUklUWV9FUlJPUjogbnVsbCxcblxuXHRSRVNFVF9EQVRBOiBudWxsLFxuXG5cdFNIT1dfU1BJTk5FUjogbnVsbCxcblx0SElERV9TUElOTkVSOiBudWxsXG59KTsiLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0Ly8gc3RlcHNcblx0U0lURV9USVRMRV9TVEVQX1NMVUc6ICd0aXRsZScsXG5cdExBWU9VVF9TVEVQX1NMVUc6ICdsYXlvdXQnLFxuXHRUUkFGRklDX1NURVBfU0xVRzogJ3RyYWZmaWMnLFxuXHRTVEFUU19NT05JVE9SSU5HX1NURVBfU0xVRzogJ3N0YXRzLW1vbml0b3JpbmcnLFxuXHRERVNJR05fU1RFUF9TTFVHOiAnZGVzaWduJyxcblx0QURWQU5DRURfU1RFUF9TTFVHOiAnYWR2YW5jZWQnLFxuXHRKRVRQQUNLX01PRFVMRVNfU1RFUF9TTFVHOiAnamV0cGFjaydcbn07IiwiLypcbiAqIENvcHlyaWdodCAoYykgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQXBwRGlzcGF0Y2hlclxuICpcbiAqIEEgc2luZ2xldG9uIHRoYXQgb3BlcmF0ZXMgYXMgdGhlIGNlbnRyYWwgaHViIGZvciBhcHBsaWNhdGlvbiB1cGRhdGVzLlxuICovXG5cbnZhciBEaXNwYXRjaGVyID0gcmVxdWlyZSgnZmx1eCcpLkRpc3BhdGNoZXI7XG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IERpc3BhdGNoZXIoKTsiLCJ2YXIgV2VsY29tZVBhbmVsID0gcmVxdWlyZSgnLi93ZWxjb21lLXBhbmVsJyk7XG5cbldlbGNvbWVQYW5lbCgpOyIsInZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuXHRFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXIsXG5cdEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LWNvbnN0YW50cycpO1xuXG4vKlxuICogVGhpcyBpcyBhIHJlZmNvdW50ZWQgc2F2ZSBtb25pdG9yIHdoaWNoIHdhcm5zIGlmIHlvdSB0cnkgdG8gbGVhdmUgdGhlIHBhZ2Ugd2hpbGUgdGhlIGRhdGEgaXMgc3RpbGwgc2F2aW5nXG4gKi9cblxudmFyIF9jdXJyZW50U2F2ZXMgPSAwLCBqcHNUaW1lb3V0LCBDSEFOR0VfRVZFTlQgPSAnY2hhbmdlJztcblxualF1ZXJ5KHdpbmRvdykub24oJ2JlZm9yZXVubG9hZCcsIGZ1bmN0aW9uKCkge1xuXHRpZihEYXRhU3RvcmUuaXNTYXZpbmcoKSkge1xuXHRcdGpwc1RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIC8vIGFsZXJ0KCdZb3Ugc3RheWVkJyk7XG5cdCAgICAgICAgLy8gbm9vcFxuXHQgICAgfSwgMTAwMCk7XG5cdCAgICByZXR1cm4gXCJZb3VyIHNpdGUgY2hhbmdlcyBhcmUgc3RpbGwgc2F2aW5nLlwiO1xuXHR9XG59KTtcblxualF1ZXJ5KHdpbmRvdykub24oJ3VubG9hZCcsIGZ1bmN0aW9uKCkge1xuXHRjbGVhclRpbWVvdXQoanBzVGltZW91dCk7XG59KTtcblxuZnVuY3Rpb24gaW5jcmVtZW50U2F2ZUNvdW50ZXIoKSB7XG5cdF9jdXJyZW50U2F2ZXMgPSBfY3VycmVudFNhdmVzICsgMTtcbn1cblxuZnVuY3Rpb24gZGVjcmVtZW50U2F2ZUNvdW50ZXIoKSB7XG5cdF9jdXJyZW50U2F2ZXMgPSBfY3VycmVudFNhdmVzIC0gMTtcbn1cblxudmFyIERhdGFTdG9yZSA9IF8uZXh0ZW5kKHt9LCBFdmVudEVtaXR0ZXIucHJvdG90eXBlLCB7XG5cdGlzU2F2aW5nOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gX2N1cnJlbnRTYXZlcyA+IDA7XG5cdH0sXG5cblx0YWRkQ2hhbmdlTGlzdGVuZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdFx0dGhpcy5vbihDSEFOR0VfRVZFTlQsIGNhbGxiYWNrKTtcblx0fSxcblxuXHRyZW1vdmVDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0XHR0aGlzLnJlbW92ZUxpc3RlbmVyKENIQU5HRV9FVkVOVCwgY2FsbGJhY2spO1xuXHR9LFxuXG5cdGVtaXRDaGFuZ2U6IGZ1bmN0aW9uKCkge1xuXHQgICAgdGhpcy5lbWl0KENIQU5HRV9FVkVOVCk7XG5cdH0sXG59KTtcblxuQXBwRGlzcGF0Y2hlci5yZWdpc3RlcihmdW5jdGlvbihhY3Rpb24pIHtcblxuICBzd2l0Y2goYWN0aW9uLmFjdGlvblR5cGUpIHtcbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TQVZFX1NUQVJURUQ6XG4gICAgXHRpbmNyZW1lbnRTYXZlQ291bnRlcigpO1xuXHRcdERhdGFTdG9yZS5lbWl0Q2hhbmdlKCk7XG5cdFx0YnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TQVZFX0ZJTklTSEVEOlxuICAgIFx0ZGVjcmVtZW50U2F2ZUNvdW50ZXIoKTtcbiAgICAgXHREYXRhU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICBcdGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIG5vIG9wXG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERhdGFTdG9yZTsiLCJ2YXIgQXBwRGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4uL2Rpc3BhdGNoZXIvYXBwLWRpc3BhdGNoZXInKSxcblx0RXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyLFxuXHRKUFNDb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1jb25zdGFudHMnKTtcblxudmFyIENIQU5HRV9FVkVOVCA9ICdjaGFuZ2UnO1xudmFyIG1lc3NhZ2UsIHNldmVyaXR5O1xuXG5mdW5jdGlvbiBzZXRGbGFzaChuZXdNZXNzYWdlLCBuZXdTZXZlcml0eSkge1xuXHRtZXNzYWdlID0gbmV3TWVzc2FnZTtcblx0c2V2ZXJpdHkgPSBuZXdTZXZlcml0eTtcbn1cblxudmFyIEZsYXNoU3RvcmUgPSBfLmV4dGVuZCh7fSwgRXZlbnRFbWl0dGVyLnByb3RvdHlwZSwge1xuXHRnZXRGbGFzaDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHNldmVyaXR5U3RyaW5nO1xuXG5cdFx0c3dpdGNoKHNldmVyaXR5KSB7XG5cdFx0XHRjYXNlIEpQU0NvbnN0YW50cy5GTEFTSF9TRVZFUklUWV9FUlJPUjpcblx0XHRcdFx0c2V2ZXJpdHlTdHJpbmcgPSAnZXJyb3InO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgSlBTQ29uc3RhbnRzLkZMQVNIX1NFVkVSSVRZX05PVElDRTpcblx0XHRcdFx0c2V2ZXJpdHlTdHJpbmcgPSAnbm90aWNlJztcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHQvL25vb3Bcblx0XHR9XG5cdFx0cmV0dXJuIHttZXNzYWdlOiBtZXNzYWdlLCBzZXZlcml0eTogc2V2ZXJpdHlTdHJpbmd9O1xuXG5cdH0sXG5cblx0YWRkQ2hhbmdlTGlzdGVuZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdFx0dGhpcy5vbihDSEFOR0VfRVZFTlQsIGNhbGxiYWNrKTtcblx0fSxcblxuXHRyZW1vdmVDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0XHR0aGlzLnJlbW92ZUxpc3RlbmVyKENIQU5HRV9FVkVOVCwgY2FsbGJhY2spO1xuXHR9LFxuXG5cdGVtaXRDaGFuZ2U6IGZ1bmN0aW9uKCkge1xuXHQgICAgdGhpcy5lbWl0KENIQU5HRV9FVkVOVCk7XG5cdH0sXG59KTtcblxuQXBwRGlzcGF0Y2hlci5yZWdpc3RlcihmdW5jdGlvbihhY3Rpb24pIHtcblxuICBzd2l0Y2goYWN0aW9uLmFjdGlvblR5cGUpIHtcbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TRVRfRkxBU0g6XG5cdFx0c2V0Rmxhc2goYWN0aW9uLm1lc3NhZ2UsIGFjdGlvbi5zZXZlcml0eSk7XG5cdFx0Rmxhc2hTdG9yZS5lbWl0Q2hhbmdlKCk7XG5cdFx0YnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5VTlNFVF9GTEFTSDpcbiAgICAgXHRzZXRGbGFzaChudWxsLCBudWxsKTtcbiAgICAgXHRGbGFzaFN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgXHRicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBubyBvcFxuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBGbGFzaFN0b3JlOyIsIi8qXG4gKiBTdG9yZSB3aGljaCBtYW5hZ2VzIGFuZCBwZXJzaXN0cyBzZXR1cCB3aXphcmQgcHJvZ3Jlc3NcbiAqL1xuXG52YXIgQXBwRGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4uL2Rpc3BhdGNoZXIvYXBwLWRpc3BhdGNoZXInKSxcbiAgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyLFxuICBKUFNDb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1jb25zdGFudHMnKSxcbiAgV1BBamF4ID0gcmVxdWlyZSgnLi4vdXRpbHMvd3AtYWpheCcpO1xuXG52YXIgQ0hBTkdFX0VWRU5UID0gJ2NoYW5nZSc7XG5cbnZhciBfc3RlcHMsIF9zdGFydGVkID0gSlBTLnN0YXJ0ZWQ7IFxuXG5mdW5jdGlvbiBzZXRTdGVwcyhzdGVwcykge1xuXG4gIC8vIHNldCB0aGUgY29tcGxldGlvbiBzdGF0dXMgb2YgZWFjaCBzdGVwIHRvIHRoZSBzYXZlZCB2YWx1ZXNcbiAgc3RlcHMuZm9yRWFjaCggZnVuY3Rpb24oc3RlcCkge1xuICAgIFxuICAgIC8vIGRlZmF1bHQgdmFsdWVzIGZvciBza2lwcGVkLCBjb21wbGV0ZWQgYW5kIHN0YXRpY1xuICAgIGlmICggdHlwZW9mKCBzdGVwLmNvbXBsZXRlZCApID09PSAndW5kZWZpbmVkJyApIHtcbiAgICAgIHN0ZXAuY29tcGxldGVkID0gKEpQUy5zdGVwX3N0YXR1c1tzdGVwLnNsdWddICYmIEpQUy5zdGVwX3N0YXR1c1tzdGVwLnNsdWddLmNvbXBsZXRlZCkgfHwgZmFsc2U7ICBcbiAgICB9XG5cbiAgICBpZiAoIHR5cGVvZiggc3RlcC5za2lwcGVkICkgPT09ICd1bmRlZmluZWQnICkge1xuICAgICAgc3RlcC5za2lwcGVkID0gKEpQUy5zdGVwX3N0YXR1c1tzdGVwLnNsdWddICYmIEpQUy5zdGVwX3N0YXR1c1tzdGVwLnNsdWddLnNraXBwZWQpIHx8IGZhbHNlOyAgXG4gICAgfVxuXG4gICAgaWYgKCB0eXBlb2YoIHN0ZXAuc3RhdGljICkgPT09ICd1bmRlZmluZWQnICkge1xuICAgICAgc3RlcC5zdGF0aWMgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBzZXQgdG8gJ3RydWUnIGlmIHlvdSB3YW50IHRoZSB3aXphcmQgdG8gbW92ZSB0byB0aGlzIHN0ZXAgZXZlbiBpZiBpdCdzIGJlZW4gY29tcGxldGVkXG4gICAgLy8gYnkgZGVmYXVsdCBjb21wbGV0ZWQgc3RlcHMgYXJlIHNraXBwZWRcbiAgICBpZiAoIHR5cGVvZiggc3RlcC5uZXZlclNraXAgKSA9PT0gJ3VuZGVmaW5lZCcgKSB7XG4gICAgICBzdGVwLm5ldmVyU2tpcCA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIGRlZmF1bHQgdmFsdWUgZm9yIGluY2x1ZGVJblByb2dyZXNzXG4gICAgaWYgKCB0eXBlb2YoIHN0ZXAuaW5jbHVkZUluUHJvZ3Jlc3MgKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHN0ZXAuaW5jbHVkZUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgIH1cbiAgfSk7IFxuICBcbiAgX3N0ZXBzID0gc3RlcHM7XG4gIFxuICAvLyBzZXQgbG9jYXRpb24gdG8gZmlyc3QgcGVuZGluZyBzdGVwLCBpZiBub3Qgc2V0XG4gIGVuc3VyZVZhbGlkU3RlcFNsdWcoKTsgXG59XG5cbmZ1bmN0aW9uIHNldFN0YXJ0ZWQoKSB7XG4gIF9zdGFydGVkID0gdHJ1ZTtcbiAgc2VsZWN0TmV4dFBlbmRpbmdTdGVwKCk7XG59XG5cbmZ1bmN0aW9uIGNvbXBsZXRlKHN0ZXBTbHVnKSB7XG4gIHZhciBzdGVwID0gZ2V0U3RlcEZyb21TbHVnKHN0ZXBTbHVnKTtcbiAgc3RlcC5jb21wbGV0ZWQgPSB0cnVlO1xuICBzdGVwLnNraXBwZWQgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gc2tpcCgpIHtcbiAgdmFyIHN0ZXBTbHVnID0gY3VycmVudFN0ZXBTbHVnKCk7XG4gIHZhciBzdGVwID0gZ2V0U3RlcEZyb21TbHVnKHN0ZXBTbHVnKTtcbiAgc3RlcC5za2lwcGVkID0gdHJ1ZTtcbiAgc2VsZWN0TmV4dFBlbmRpbmdTdGVwKCk7XG59XG5cbmZ1bmN0aW9uIGdldFN0ZXBGcm9tU2x1Zyggc3RlcFNsdWcgKSB7XG4gIHZhciBjdXJyZW50U3RlcCA9IG51bGw7XG4gIF8uZWFjaCggX3N0ZXBzLCBmdW5jdGlvbiggc3RlcCApIHtcbiAgICBpZiggc3RlcC5zbHVnID09PSBzdGVwU2x1ZyApIHtcbiAgICAgIGN1cnJlbnRTdGVwID0gc3RlcDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gY3VycmVudFN0ZXA7XG59XG5cbmZ1bmN0aW9uIGVuc3VyZVZhbGlkU3RlcFNsdWcoKSB7XG4gIHZhciBzdGVwU2x1ZyA9IGN1cnJlbnRTdGVwU2x1ZygpO1xuICBpZiAoICEgKCBzdGVwU2x1ZyAmJiBnZXRTdGVwRnJvbVNsdWcoIHN0ZXBTbHVnICkgKSApIHtcblxuICAgIHZhciBwZW5kaW5nU3RlcCA9IGdldE5leHRQZW5kaW5nU3RlcCgpO1xuICAgIGlmICggcGVuZGluZ1N0ZXAgIT09IG51bGwgKSB7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9ICd3ZWxjb21lL3N0ZXBzLycrcGVuZGluZ1N0ZXAuc2x1ZztcbiAgICB9ICAgIFxuICB9XG59XG5cbmZ1bmN0aW9uIHNlbGVjdE5leHRQZW5kaW5nU3RlcCgpIHtcbiAgdmFyIHBlbmRpbmdTdGVwID0gZ2V0TmV4dFBlbmRpbmdTdGVwKCk7XG4gIGlmICggcGVuZGluZ1N0ZXAgIT09IG51bGwgKSB7XG4gICAgc2VsZWN0KHBlbmRpbmdTdGVwLnNsdWcpOyAvLyBhbHNvIHNldHMgdGhlIHdpbmRvdyBsb2NhdGlvbiBoYXNoXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0TmV4dFBlbmRpbmdTdGVwKCkge1xuICAvLyBpZiB0aGUgX25leHRfIHN0ZXAgaXMgbmV2ZXJTa2lwLCB3ZSBwcm9jZWVkIHRvIGl0XG4gIHZhciBzdGVwSW5kZXggPSBjdXJyZW50U3RlcEluZGV4KCk7XG4gIGlmICggc3RlcEluZGV4ICkge1xuICAgIGlmICggX3N0ZXBzW3N0ZXBJbmRleCsxXSAmJiBfc3RlcHNbc3RlcEluZGV4KzFdLm5ldmVyU2tpcCA9PT0gdHJ1ZSApIHtcbiAgICAgIHJldHVybiBfc3RlcHNbc3RlcEluZGV4KzFdO1xuICAgIH1cbiAgfVxuXG4gIC8vIG90aGVyd2lzZSBmaW5kIHRoZSBuZXh0IHVuY29tcGxldGVkLCB1bnNraXBwZWQgc3RlcFxuICByZXR1cm4gXy5maW5kV2hlcmUoIF9zdGVwcywgeyBjb21wbGV0ZWQ6IGZhbHNlLCBza2lwcGVkOiBmYWxzZSB9ICk7XG59XG5cbmZ1bmN0aW9uIGN1cnJlbnRTdGVwU2x1ZygpIHtcbiAgaWYgKCB3aW5kb3cubG9jYXRpb24uaGFzaC5pbmRleE9mKCcjd2VsY29tZS9zdGVwcycpID09PSAwICkge1xuICAgIHZhciBwYXJ0cyA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNwbGl0KCcvJyk7XG4gICAgdmFyIHN0ZXBTbHVnID0gcGFydHNbcGFydHMubGVuZ3RoLTFdO1xuICAgIHJldHVybiBzdGVwU2x1ZztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5mdW5jdGlvbiBjdXJyZW50U3RlcEluZGV4KCkge1xuICB2YXIgc2x1ZyA9IGN1cnJlbnRTdGVwU2x1ZygpO1xuICBmb3IgKCB2YXIgaT0wOyBpPF9zdGVwcy5sZW5ndGg7IGkrKyApIHtcbiAgICBpZiAoIF9zdGVwc1tpXS5zbHVnID09PSBzbHVnICkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gc2VsZWN0KHN0ZXBTbHVnKSB7XG4gIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gJ3dlbGNvbWUvc3RlcHMvJytzdGVwU2x1ZztcbiAgLy8gcmVjb3JkIGFuYWx5dGljc1xuICBXUEFqYXgucG9zdChKUFMuc3RlcF9hY3Rpb25zLnZpZXcsIHsgc3RlcDogc3RlcFNsdWcgfSwgeyBxdWlldDogdHJ1ZSB9KTtcbn1cblxuLy9yZXNldCBldmVyeXRoaW5nIGJhY2sgdG8gZGVmYXVsdHNcbmZ1bmN0aW9uIHJlc2V0KCkge1xuICBKUFMuc3RlcF9zdGF0dXMgPSB7fTtcbiAgXy53aGVyZSggX3N0ZXBzLCB7IHN0YXRpYzogZmFsc2V9ICkuZm9yRWFjaCggZnVuY3Rpb24gKCBzdGVwICkgeyBcbiAgICBzdGVwLmNvbXBsZXRlZCA9IGZhbHNlO1xuICAgIHN0ZXAuc2tpcHBlZCA9IGZhbHNlO1xuICB9ICk7XG4gIF9zdGFydGVkID0gZmFsc2U7XG59XG5cbnZhciBTZXR1cFByb2dyZXNzU3RvcmUgPSBfLmV4dGVuZCh7fSwgRXZlbnRFbWl0dGVyLnByb3RvdHlwZSwge1xuXG4gIGluaXQ6IGZ1bmN0aW9uKHN0ZXBzKSB7XG4gICAgc2V0U3RlcHMoc3RlcHMpO1xuICB9LFxuXG4gIGdldEFsbFN0ZXBzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gX3N0ZXBzO1xuICB9LFxuXG4gIGlzTmV3VXNlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICFfc3RhcnRlZDtcbiAgfSxcblxuICBlbWl0Q2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmVtaXQoIENIQU5HRV9FVkVOVCApO1xuICB9LFxuXG4gIGdldEN1cnJlbnRTdGVwOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZ2V0U3RlcEZyb21TbHVnKCBjdXJyZW50U3RlcFNsdWcoKSApO1xuICB9LFxuXG4gIGdldE5leHRQZW5kaW5nU3RlcDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGdldE5leHRQZW5kaW5nU3RlcCgpOyAvLyBkZWxlZ2F0ZVxuICB9LFxuXG4gIGdldFN0ZXBGcm9tU2x1ZzogZnVuY3Rpb24oc2x1Zykge1xuICAgIHJldHVybiBnZXRTdGVwRnJvbVNsdWcoIHNsdWcgKTsgLy8gZGVsZWdhdGVcbiAgfSxcblxuICBnZXRQcm9ncmVzc1BlcmNlbnQ6IGZ1bmN0aW9uKCkge1xuICBcdHZhciBudW1TdGVwcyA9IF8ud2hlcmUoIF9zdGVwcywgeyBpbmNsdWRlSW5Qcm9ncmVzczogdHJ1ZSB9ICkubGVuZ3RoO1xuICAgIHZhciBjb21wbGV0ZWRTdGVwcyA9IF8ud2hlcmUoIF9zdGVwcywgeyBpbmNsdWRlSW5Qcm9ncmVzczogdHJ1ZSwgY29tcGxldGVkOiB0cnVlIH0gKS5sZW5ndGg7XG4gICAgdmFyIHBlcmNlbnRDb21wbGV0ZSA9IChjb21wbGV0ZWRTdGVwcyAvIG51bVN0ZXBzKSAqIDkwICsgMTA7XG4gICAgdmFyIG91dHB1dCA9IE1hdGgucm91bmQocGVyY2VudENvbXBsZXRlIC8gMTApICogMTA7XG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfSxcblxuICBhZGRDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICB0aGlzLm9uKCBDSEFOR0VfRVZFTlQsIGNhbGxiYWNrICk7XG4gIH0sXG5cbiAgcmVtb3ZlQ2hhbmdlTGlzdGVuZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lciggQ0hBTkdFX0VWRU5ULCBjYWxsYmFjayApO1xuICB9XG59KTtcblxuLy8gUmVnaXN0ZXIgY2FsbGJhY2sgdG8gaGFuZGxlIGFsbCB1cGRhdGVzXG5BcHBEaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuICBcbiAgc3dpdGNoKGFjdGlvbi5hY3Rpb25UeXBlKSB7XG4gICAgY2FzZSBKUFNDb25zdGFudHMuU1RFUF9HRVRfU1RBUlRFRDpcbiAgICAgIHNldFN0YXJ0ZWQoKTtcbiAgICAgIFNldHVwUHJvZ3Jlc3NTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNURVBfU0VMRUNUOlxuICAgICAgc2VsZWN0KGFjdGlvbi5zbHVnKTtcbiAgICAgIFNldHVwUHJvZ3Jlc3NTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNURVBfTkVYVDpcbiAgICAgIHNlbGVjdE5leHRQZW5kaW5nU3RlcCgpO1xuICAgICAgU2V0dXBQcm9ncmVzc1N0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU1RFUF9DT01QTEVURTpcbiAgICAgIGNvbXBsZXRlKGFjdGlvbi5zbHVnKTtcbiAgICAgIFNldHVwUHJvZ3Jlc3NTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNURVBfQ09NUExFVEVfQU5EX05FWFQ6XG4gICAgICBjb21wbGV0ZShhY3Rpb24uc2x1Zyk7XG4gICAgICBzZWxlY3ROZXh0UGVuZGluZ1N0ZXAoKTtcbiAgICAgIFNldHVwUHJvZ3Jlc3NTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlJFU0VUX0RBVEE6XG4gICAgICByZXNldCgpO1xuICAgICAgU2V0dXBQcm9ncmVzc1N0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU1RFUF9TS0lQOlxuICAgICAgc2tpcCgpO1xuICAgICAgU2V0dXBQcm9ncmVzc1N0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIG5vIG9wXG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNldHVwUHJvZ3Jlc3NTdG9yZTsiLCIvKlxuICogU3RvcmUgd2hpY2ggbWFuYWdlcyBhbmQgcGVyc2lzdHMgc2l0ZSBpbmZvcm1hdGlvblxuICovXG5cbnZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuICBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXIsXG4gIEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LWNvbnN0YW50cycpLFxuICBXUEFqYXggPSByZXF1aXJlKCcuLi91dGlscy93cC1hamF4Jyk7XG5cbnZhciBDSEFOR0VfRVZFTlQgPSAnY2hhbmdlJztcblxudmFyIGxheW91dCA9IEpQUy5zdGVwcy5sYXlvdXQuY3VycmVudDtcblxuZnVuY3Rpb24gc2V0VGl0bGUobmV3VGl0bGUpIHtcblx0SlBTLmJsb2dpbmZvLm5hbWUgPSBuZXdUaXRsZTtcbn1cblxuZnVuY3Rpb24gc2V0RGVzY3JpcHRpb24obmV3RGVzY3JpcHRpb24pIHtcbiAgSlBTLmJsb2dpbmZvLmRlc2NyaXB0aW9uID0gbmV3RGVzY3JpcHRpb247IFxufVxuXG5mdW5jdGlvbiBzZXRBY3RpdmVUaGVtZShhY3RpdmVUaGVtZUlkKSB7XG4gIEpQUy50aGVtZXMuZm9yRWFjaCggZnVuY3Rpb24oIHRoZW1lICkge1xuICAgIGlmICggdGhlbWUuaWQgPT0gYWN0aXZlVGhlbWVJZCApIHtcbiAgICAgIHRoZW1lLmFjdGl2ZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoZW1lLmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgfSApO1xufVxuXG5mdW5jdGlvbiBpbnN0YWxsZWRUaGVtZSh0aGVtZSkge1xuICBKUFMudGhlbWVzLnVuc2hpZnQodGhlbWUpO1xuICBKUFMudGhlbWVzID0gSlBTLnRoZW1lcy5zbGljZSgwLCAzKTtcbn1cblxuZnVuY3Rpb24gc2V0SmV0cGFja01vZHVsZUFjdGl2YXRlZChzbHVnKSB7XG4gIGlmICggXy5pbmRleE9mKCBKUFMuamV0cGFjay5hY3RpdmVfbW9kdWxlcywgc2x1ZyApID09PSAtMSApIHtcbiAgICBKUFMuamV0cGFjay5hY3RpdmVfbW9kdWxlcy5wdXNoKHNsdWcpOyAgXG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0SmV0cGFja01vZHVsZURlY3RpdmF0ZWQoc2x1Zykge1xuICB2YXIgaW5kZXggPSBfLmluZGV4T2YoIEpQUy5qZXRwYWNrLmFjdGl2ZV9tb2R1bGVzLCBzbHVnICk7XG4gIGlmICggaW5kZXggPj0gMCkge1xuICAgIEpQUy5qZXRwYWNrLmFjdGl2ZV9tb2R1bGVzLnNwbGljZShpbmRleCwgMSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0SmV0cGFja0FkZGl0aW9uYWxNb2R1bGVzKG1vZHVsZXMpIHtcbiAgSlBTLmpldHBhY2suYWRkaXRpb25hbF9tb2R1bGVzID0gXy5maWx0ZXIobW9kdWxlcywgZnVuY3Rpb24obW9kdWxlKSB7XG4gICAgcmV0dXJuIF8uaW5kZXhPZihKUFMuamV0cGFjay5qdW1wc3RhcnRfbW9kdWxlcy5tYXAoZnVuY3Rpb24obW9kKXtyZXR1cm4gbW9kLnNsdWc7fSksIG1vZHVsZS5zbHVnKSA9PSAtMTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNldExheW91dChsYXlvdXROYW1lKSB7XG4gIGxheW91dCA9IGxheW91dE5hbWU7IC8vIFhYWCBUT0RPOiBnZXQgdGhpcyB2YWx1ZSBkeW5hbWljYWxseSBmcm9tIHRoZSBzZXJ2ZXIhXG59XG5cbmZ1bmN0aW9uIHNldEpldHBhY2tDb25maWd1cmVkKCkge1xuICBKUFMuamV0cGFjay5jb25maWd1cmVkID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gc2V0SmV0cGFja0p1bXBzdGFydEFjdGl2YXRlZCgpIHtcbiAgSlBTLmpldHBhY2suanVtcHN0YXJ0X21vZHVsZXMuZm9yRWFjaCggZnVuY3Rpb24oIG1vZHVsZSApIHtcbiAgICBzZXRKZXRwYWNrTW9kdWxlQWN0aXZhdGVkKCBtb2R1bGUuc2x1ZyApO1xuICB9KTtcbn1cblxudmFyIFNpdGVTdG9yZSA9IF8uZXh0ZW5kKHt9LCBFdmVudEVtaXR0ZXIucHJvdG90eXBlLCB7XG5cbiAgZ2V0VGl0bGU6IGZ1bmN0aW9uKCkge1xuICBcdHJldHVybiBKUFMuYmxvZ2luZm8ubmFtZTtcbiAgfSxcblxuICBnZXREZXNjcmlwdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIEpQUy5ibG9naW5mby5kZXNjcmlwdGlvbjtcbiAgfSxcblxuICBnZXRUaGVtZXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBKUFMudGhlbWVzO1xuICB9LFxuXG4gIGdldEFjdGl2ZVRoZW1lSWQ6IGZ1bmN0aW9uKCkge1xuICAgIGZvcih2YXIgaT0wOyBpIDwgSlBTLnRoZW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHRoZW1lID0gSlBTLnRoZW1lc1tpXTtcbiAgICAgIGlmICggdGhlbWUuYWN0aXZlICkge1xuICAgICAgICByZXR1cm4gdGhlbWUuaWQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9LFxuXG4gIGdldEpldHBhY2tDb25maWd1cmVkOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gSlBTLmpldHBhY2suY29uZmlndXJlZDtcbiAgfSxcblxuICBnZXRBY3RpdmVNb2R1bGVTbHVnczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIEpQUy5qZXRwYWNrLmFjdGl2ZV9tb2R1bGVzO1xuICB9LFxuXG4gIGlzSmV0cGFja01vZHVsZUVuYWJsZWQ6IGZ1bmN0aW9uKHNsdWcpIHtcbiAgICByZXR1cm4gKCBfLmluZGV4T2YoIEpQUy5qZXRwYWNrLmFjdGl2ZV9tb2R1bGVzLCBzbHVnICkgPj0gMCApO1xuICB9LFxuXG4gIGdldEpldHBhY2tBZGRpdGlvbmFsTW9kdWxlczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIEpQUy5qZXRwYWNrLmFkZGl0aW9uYWxfbW9kdWxlcztcbiAgfSxcblxuICBnZXRKdW1wc3RhcnRNb2R1bGVTbHVnczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIEpQUy5qZXRwYWNrLmp1bXBzdGFydF9tb2R1bGVzLm1hcChmdW5jdGlvbihtb2R1bGUpIHsgcmV0dXJuIG1vZHVsZS5zbHVnOyB9KTtcbiAgfSxcblxuICBnZXRKdW1wc3RhcnRNb2R1bGVzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gSlBTLmpldHBhY2suanVtcHN0YXJ0X21vZHVsZXM7XG4gIH0sXG5cbiAgZ2V0UG9wdWxhclRoZW1lczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFdQQWpheC5wb3N0KEpQUy5zaXRlX2FjdGlvbnMuZ2V0X3BvcHVsYXJfdGhlbWVzKTtcbiAgfSxcblxuICBnZXRKZXRwYWNrSnVtcHN0YXJ0RW5hYmxlZDogZnVuY3Rpb24oKSB7XG4gICAgZm9yKHZhciBpPTA7IGkgPCBKUFMuamV0cGFjay5qdW1wc3RhcnRfbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG1vZHVsZSA9IEpQUy5qZXRwYWNrLmp1bXBzdGFydF9tb2R1bGVzW2ldO1xuICAgICAgaWYgKCAhIHRoaXMuaXNKZXRwYWNrTW9kdWxlRW5hYmxlZCggbW9kdWxlLnNsdWcgKSApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcblxuICBnZXRMYXlvdXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBsYXlvdXQ7XG4gIH0sXG5cbiAgZW1pdENoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5lbWl0KENIQU5HRV9FVkVOVCk7XG4gIH0sXG5cbiAgYWRkQ2hhbmdlTGlzdGVuZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5vbihDSEFOR0VfRVZFTlQsIGNhbGxiYWNrKTtcbiAgfSxcblxuICByZW1vdmVDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKENIQU5HRV9FVkVOVCwgY2FsbGJhY2spO1xuICB9XG59KTtcblxuLy8gUmVnaXN0ZXIgY2FsbGJhY2sgdG8gaGFuZGxlIGFsbCB1cGRhdGVzXG5BcHBEaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuXG4gIHN3aXRjaChhY3Rpb24uYWN0aW9uVHlwZSkge1xuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfU0VUX1RJVExFOlxuICAgICAgc2V0VGl0bGUoYWN0aW9uLnRpdGxlKTtcbiAgICAgIFNpdGVTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfU0VUX0RFU0NSSVBUSU9OOlxuICAgICAgc2V0RGVzY3JpcHRpb24oYWN0aW9uLmRlc2NyaXB0aW9uKTtcbiAgICAgIFNpdGVTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfU0VUX1RIRU1FOlxuICAgICAgc2V0QWN0aXZlVGhlbWUoYWN0aW9uLnRoZW1lSWQpO1xuICAgICAgU2l0ZVN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU0lURV9JTlNUQUxMX1RIRU1FOlxuICAgICAgaW5zdGFsbGVkVGhlbWUoYWN0aW9uLnRoZW1lKTtcbiAgICAgIFNpdGVTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfSkVUUEFDS19DT05GSUdVUkVEOlxuICAgICAgc2V0SmV0cGFja0NvbmZpZ3VyZWQoKTtcbiAgICAgIFNpdGVTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfSkVUUEFDS19BRERfTU9EVUxFUzpcbiAgICAgIHNldEpldHBhY2tBZGRpdGlvbmFsTW9kdWxlcyhhY3Rpb24ubW9kdWxlcyk7XG4gICAgICBTaXRlU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TSVRFX0pFVFBBQ0tfTU9EVUxFX0VOQUJMRUQ6XG4gICAgICBzZXRKZXRwYWNrTW9kdWxlQWN0aXZhdGVkKGFjdGlvbi5zbHVnKTtcbiAgICAgIFNpdGVTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfSkVUUEFDS19NT0RVTEVfRElTQUJMRUQ6XG4gICAgICBzZXRKZXRwYWNrTW9kdWxlRGVjdGl2YXRlZChhY3Rpb24uc2x1Zyk7XG4gICAgICBTaXRlU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TSVRFX0pFVFBBQ0tfSlVNUFNUQVJUX0VOQUJMRUQ6IFxuICAgICAgc2V0SmV0cGFja0p1bXBzdGFydEFjdGl2YXRlZCgpO1xuICAgICAgU2l0ZVN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU0lURV9TRVRfTEFZT1VUOlxuICAgICAgc2V0TGF5b3V0KGFjdGlvbi5sYXlvdXQpO1xuICAgICAgU2l0ZVN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIG5vIG9wXG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNpdGVTdG9yZTsiLCJ2YXIgQXBwRGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4uL2Rpc3BhdGNoZXIvYXBwLWRpc3BhdGNoZXInKSxcblx0RXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyLFxuXHRKUFNDb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1jb25zdGFudHMnKTtcblxudmFyIENIQU5HRV9FVkVOVCA9ICdjaGFuZ2UnO1xuXG52YXIgc3Bpbm5lckVuYWJsZWQgPSBmYWxzZSxcblx0c3Bpbm5lck1lc3NhZ2UgPSBudWxsO1xuXG5mdW5jdGlvbiBzaG93KG1lc3NhZ2UpIHtcblx0c3Bpbm5lckVuYWJsZWQgPSB0cnVlO1xuXHRzcGlubmVyTWVzc2FnZSA9IG1lc3NhZ2U7XG59XG5cbmZ1bmN0aW9uIGhpZGUoKSB7XG5cdHNwaW5uZXJFbmFibGVkID0gZmFsc2U7XG5cdHNwaW5uZXJNZXNzYWdlID0gbnVsbDtcbn1cblxudmFyIFNwaW5uZXJTdG9yZSA9IF8uZXh0ZW5kKHt9LCBFdmVudEVtaXR0ZXIucHJvdG90eXBlLCB7XG5cdHNob3dpbmc6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBzcGlubmVyRW5hYmxlZDtcblx0fSxcblxuXHRnZXRNZXNzYWdlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc3Bpbm5lck1lc3NhZ2U7XG5cdH0sXG5cblx0YWRkQ2hhbmdlTGlzdGVuZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdFx0dGhpcy5vbiggQ0hBTkdFX0VWRU5ULCBjYWxsYmFjayApO1xuXHR9LFxuXG5cdHJlbW92ZUNoYW5nZUxpc3RlbmVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRcdHRoaXMucmVtb3ZlTGlzdGVuZXIoIENIQU5HRV9FVkVOVCwgY2FsbGJhY2sgKTtcblx0fSxcblxuXHRlbWl0Q2hhbmdlOiBmdW5jdGlvbigpIHtcblx0ICAgIHRoaXMuZW1pdCggQ0hBTkdFX0VWRU5UICk7XG5cdH0sXG59KTtcblxuQXBwRGlzcGF0Y2hlci5yZWdpc3RlcihmdW5jdGlvbihhY3Rpb24pIHtcblxuICBzd2l0Y2goYWN0aW9uLmFjdGlvblR5cGUpIHtcbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TSE9XX1NQSU5ORVI6XG5cdFx0c2hvdyhhY3Rpb24ubWVzc2FnZSk7XG5cdFx0U3Bpbm5lclN0b3JlLmVtaXRDaGFuZ2UoKTtcblx0XHRicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLkhJREVfU1BJTk5FUjpcbiAgICAgXHRoaWRlKCk7XG4gICAgIFx0U3Bpbm5lclN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgXHRicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBubyBvcFxuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBTcGlubmVyU3RvcmU7IiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdCdoMyc6IHtcblx0XHRmb250V2VpZ2h0OiAnbm9ybWFsJ1xuXHR9LFxuXG5cdCdjb250ZW50Jzoge1xuXHRcdGZvbnRTaXplOiAnbGFyZ2VyJyxcblx0XHRjb2xvcjogJyM3NzcnLFxuXHRcdGxpbmVIZWlnaHQ6IDEuNSxcbiAgXHRcdG1hcmdpbjogJzFlbSAwJ1xuXHR9LFxuXG5cdGNzczoge1xuXHRcdGg0OiB7XG5cdFx0XHRtYXJnaW5Cb3R0b206IDEwLFxuXHRcdH0sXG5cblx0XHRoNToge1xuXHRcdFx0bWFyZ2luVG9wOiAwLFxuXHRcdFx0Zm9udFNpemU6ICcxZW0nLFxuXHRcdFx0Zm9udFdlaWdodDogNDAwXG5cdFx0fSxcblxuXHRcdCdpbnB1dCwgc2VsZWN0Jzoge1xuXHRcdFx0bWFyZ2luOiAxLFxuXHRcdFx0cGFkZGluZzogJzNweCA1cHgnXG5cdFx0fSxcblxuXHRcdCdpbnB1dFt0eXBlPVwidGV4dFwiXSc6IHtcblx0XHRcdHdpZHRoOiAnMTAwJSdcblx0XHR9LFxuXG5cdFx0Jy5zdWJtaXQnOiB7XG5cdFx0XHRtYXJnaW46ICcwcHggIWltcG9ydGFudCcsXG5cdFx0XHRwYWRkaW5nOiAnNXB4IDVweCAhaW1wb3J0YW50Jyxcblx0XHRcdGJhY2tncm91bmRDb2xvcjogJyNFRUUnLFxuXHRcdFx0dGV4dEFsaWduOiAncmlnaHQnXG5cdFx0fVxuXHR9XG59OyIsIi8qXG4gKiBBIHNpbXBsZSB3cmFwcGVyIGZvciBjYWxscyB0byBXUCdzIFwiYWpheHVybFwiLlxuICpcbiAqIFRoaXMgZXhpc3RzIGJlY2F1c2UgV1AncyB3cF9zZW5kX2pzb25fZXJyb3IgZG9lc24ndCBhY3R1YWxseSBzZW5kIGFuIGVycm9yIGNvZGUsIGJ1dCByYXRoZXJcbiAqIGEgMjAwIE9LIHJlc3BvbnNlIHdpdGggYSBzdHJ1Y3R1cmUgbGlrZSB0aGlzOlxuICoge3N1Y2Nlc3M6IGZhbHNlLCBkYXRhOiBcInNvbWV0aGluZyB3ZW50IHdyb25nXCJ9XG4gKlxuICogU28gdGhpcyBjbGFzcyBzbW9vdGhlcyB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIDUweCBlcnJvcnMgYW5kIFdQJ3MgZXJyb3Igb2JqZWN0LlxuICpcbiAqIEZvciBjb252ZW5pZW5jZSwgdGhpcyByZXR1cm5zIGEgalF1ZXJ5LkRlZmVycmVkIG9iamVjdCB3aGljaCBjYW4gaGF2ZSAuZG9uZSgpIFxuICogYW5kIC5mYWlsKCkgbWV0aG9kcyBjaGFpbmVkIG9udG8gaXQsIHNpbWlsYXIgdG8galF1ZXJ5LnBvc3QncyBcInN1Y2Nlc3NcIiBhbmQgXCJmYWlsXCJcbiAqXG4gKiBBbHNvLCBpdCBhY2NlcHRzIGFuIFwiYWN0aW9uXCIgcGFyYW0gaW5zdGVhZCBvZiBhIFVSTCwgc2luY2UgYWxsIFdQIGFqYXggcmVxdWVzdHNcbiAqIGFjdHVhbGx5IGdvIHZpYSB0aGUgc2FtZSBVUkwgd2l0aCBkaWZmZXJlbnQgcGFyYW1ldGVycywgYW5kIGl0IGludm9rZXMgY2FsbGJhY2tzIHdpdGhcbiAqIGp1c3QgdGhlIFwiZGF0YVwiIHBvcnRpb24gb2YgV1AncyBhamF4IHBheWxvYWQsIHJhdGhlciB0aGFuIHRoZSB3aG9sZSBzdHJ1Y3R1cmUuXG4gKiBcbiAqKi9cblxudmFyIERhdGFBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9kYXRhLWFjdGlvbnMnKTtcblxudmFyIFdQQWpheCA9IChmdW5jdGlvbigpIHtcblxuXHRyZXR1cm4ge1xuXHRcdHBvc3Q6IGZ1bmN0aW9uKGFjdGlvbiwgcGF5bG9hZCwgb3B0aW9ucykge1xuXHRcdFx0b3B0aW9ucyA9IHR5cGVvZiBvcHRpb25zICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMgOiB7fTtcblx0XHRcdHBheWxvYWQgPSB0eXBlb2YgcGF5bG9hZCAhPT0gJ3VuZGVmaW5lZCcgPyBwYXlsb2FkIDoge307XG5cdFx0XHR2YXIgZGF0YSA9IF8uZXh0ZW5kKHBheWxvYWQsIHthY3Rpb246IGFjdGlvbiwgbm9uY2U6IEpQUy5ub25jZX0pO1xuXHRcdFx0XG5cdFx0XHR2YXIgZGVmZXJyZWQgPSBqUXVlcnkuRGVmZXJyZWQoKTtcblxuXHRcdFx0Ly8gcGFzc2luZyBxdWlldDogdHJ1ZSBhbGxvd3MgcGFnZSBuYXZpZ2F0aW9uIGJlZm9yZSB0aGlzIHJlcXVlc3QgaGFzIGZpbmlzaGVkLlxuXHRcdFx0Ly8gdGhpcyBpcyBhbHNvIGhhbmR5IHdoZW4geW91J3JlIGNhbGxpbmcgZnJvbSB3aXRoaW4gYSBEaXNwYXRjaCBjeWNsZSwgYXMgaXQgXG5cdFx0XHQvLyBubyBsb25nZXIgdHJpZ2dlcnMgYW4gYWRkaXRpb25hbCBEaXNwYXRjaCAod2hpY2ggd291bGQgY2F1c2UgYW4gZXJyb3IpXG5cdFx0XHRpZiAoICFvcHRpb25zLnF1aWV0ICkge1xuXHRcdFx0XHREYXRhQWN0aW9ucy5yZXF1ZXN0U3RhcnRlZCgpO1xuXHRcdFx0fVxuXG5cdFx0XHRqUXVlcnkucG9zdCggYWpheHVybCwgZGF0YSApXG5cdFx0XHRcdC5zdWNjZXNzKCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cdFx0XHRcdFx0aWYgKCAhIHJlc3BvbnNlLnN1Y2Nlc3MgKSB7XG5cdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QocmVzcG9uc2UuZGF0YSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocmVzcG9uc2UuZGF0YSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KVxuXHRcdFx0XHQuZmFpbCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KFwiU2VydmVyIGVycm9yXCIpO1xuXHRcdFx0XHR9KVxuXHRcdFx0XHQuYWx3YXlzKCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0aWYgKCAhb3B0aW9ucy5xdWlldCApIHtcblx0XHRcdFx0XHRcdERhdGFBY3Rpb25zLnJlcXVlc3RGaW5pc2hlZCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XHRcblxuXHRcdFx0cmV0dXJuIGRlZmVycmVkO1xuXHRcdH1cblx0fTtcblxufSkoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBXUEFqYXg7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCksXG4gICAgV2VsY29tZVdpZGdldCA9IHJlcXVpcmUoJy4vY29tcG9uZW50cy93ZWxjb21lLXdpZGdldCcpLFxuICAgIFBhdGhzID0gcmVxdWlyZSgnLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1wYXRocycpLFxuICAgIFNldHVwUHJvZ3Jlc3NTdG9yZSA9IHJlcXVpcmUoJy4vc3RvcmVzL3NldHVwLXByb2dyZXNzLXN0b3JlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgalF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG5cbiAgICBcdFNldHVwUHJvZ3Jlc3NTdG9yZS5pbml0KFtcbiAgICBcdFx0Ly8gTk9URTogWW91IGNhbiBoYXZlIFwic3RhdGljOiB0cnVlXCIgdG8gaW5jbHVkZSB1bi1jbGlja2FibGUgXG4gICAgXHRcdC8vIHByZWZpbGxlZCBzdGVwcyB0aGF0IGFjdCBhcyB0aG91Z2ggdGhleSd2ZSBhbHJlYWR5IGJlZW4gY29tcGxldGVkXG5cdFx0XHQvLyB7XG5cdFx0XHQvLyBcdG5hbWU6IFwiU2lnbiB1cFwiLFxuXHRcdFx0Ly8gXHRjb21wbGV0ZWQ6IHRydWUsXG5cdFx0XHQvLyBcdHN0YXRpYzogdHJ1ZVxuXHRcdFx0Ly8gfSxcblx0XHRcdHtcblx0XHRcdFx0bmFtZTogJ1NpdGUgdGl0bGUnLFxuXHRcdFx0XHRzbHVnOiBQYXRocy5TSVRFX1RJVExFX1NURVBfU0xVRyxcblx0XHRcdFx0d2VsY29tZVZpZXc6IHJlcXVpcmUoJy4vY29tcG9uZW50cy9zaXRlLXRpdGxlLXN0ZXAnKVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0bmFtZTogJ1BpY2sgYSBsYXlvdXQnLFxuXHRcdFx0XHRzbHVnOiBQYXRocy5MQVlPVVRfU1RFUF9TTFVHLFxuXHRcdFx0XHR3ZWxjb21lVmlldzogcmVxdWlyZSgnLi9jb21wb25lbnRzL2xheW91dC1zdGVwJylcblx0XHRcdH0sXG5cdFx0XHR7IFxuXHRcdFx0XHRuYW1lOiBcIlBpY2sgYSBkZXNpZ25cIiwgXG5cdFx0XHRcdHNsdWc6IFBhdGhzLkRFU0lHTl9TVEVQX1NMVUcsXG5cdFx0XHRcdHdlbGNvbWVWaWV3OiByZXF1aXJlKCcuL2NvbXBvbmVudHMvZGVzaWduLXN0ZXAnKSwgXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRuYW1lOiAnRW5hYmxlIEpldHBhY2snLFxuXHRcdFx0XHRzbHVnOiBQYXRocy5KRVRQQUNLX01PRFVMRVNfU1RFUF9TTFVHLFxuXHRcdFx0XHRuZXZlclNraXA6IHRydWUsIC8vIGRvbid0IHNraXAgdGhpcyBldmVuIGlmIGl0J3MgYmVlbiBjb21wbGV0ZWRcblx0XHRcdFx0d2VsY29tZVZpZXc6IHJlcXVpcmUoJy4vY29tcG9uZW50cy9qZXRwYWNrLWp1bXBzdGFydC1zdGVwJyksXG5cdFx0XHRcdG1lbnVWaWV3OiByZXF1aXJlKCcuL2NvbXBvbmVudHMvamV0cGFjay1qdW1wc3RhcnQtbWVudScpXG5cdFx0XHR9LFxuXHRcdFx0eyBcblx0XHRcdFx0bmFtZTogXCJBZHZhbmNlZCBzZXR0aW5nc1wiLCBcblx0XHRcdFx0c2x1ZzogUGF0aHMuQURWQU5DRURfU1RFUF9TTFVHLFxuXHRcdFx0XHR3ZWxjb21lVmlldzogcmVxdWlyZSgnLi9jb21wb25lbnRzL2FkdmFuY2VkLXNldHRpbmdzLXN0ZXAnKSxcblx0XHRcdFx0aW5jbHVkZUluUHJvZ3Jlc3M6IGZhbHNlXG5cdFx0XHR9XG5cdFx0XSk7XG5cbiAgICAgICAgUmVhY3QucmVuZGVyKFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoV2VsY29tZVdpZGdldCwge30pLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnanBzLXdlbGNvbWUtcGFuZWwnKVxuICAgICAgICApO1xuICAgIH0pO1xufTsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKSxcblx0c3R5bGVzID0gcmVxdWlyZSgnLi4vc3R5bGVzJyksXG5cdFJhZGl1bSA9IHJlcXVpcmUoJ3JhZGl1bScpO1xuXG52YXIgQnV0dG9uID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIkJ1dHRvblwiLFxuXG5cdHByb3BUeXBlczoge1xuXHRcdHNpemU6IFJlYWN0LlByb3BUeXBlcy5vbmVPZihbJ3RpbnknLCAnbm9ybWFsJywgJ2JpZyddKSxcblx0XHRjb2xvcjogUmVhY3QuUHJvcFR5cGVzLm9uZU9mKFsnZ3JheScsICdibHVlJywgJ2dyZWVuJ10pLFxuXHRcdHRoZW1lOiBSZWFjdC5Qcm9wVHlwZXMub25lT2YoWyd3cCcsICdqZXRwYWNrJ10pLFxuXHRcdGlubGluZTogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdFx0b25DbGljazogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdFx0ZGlzYWJsZWQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuXHRcdGhyZWY6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmdcblx0fSxcblxuXHRnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB7IHNpemU6ICdub3JtYWwnLCBpbmxpbmU6IHRydWUsIGNvbG9yOiAnZ3JheScsIHRoZW1lOiAnd3AnLCBkaXNhYmxlZDogZmFsc2UgfTtcblx0fSxcblxuXHRoYW5kbGVDYWxsYmFja0hyZWY6IGZ1bmN0aW9uKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0d2luZG93LmxvY2F0aW9uID0gdGhpcy5wcm9wcy5ocmVmO1xuXHR9LFxuXG5cdHN0eWxlczoge1xuXHRcdGJhc2ljOiB7XG5cdFx0XHRib3JkZXJSYWRpdXM6IDMsXG5cdFx0XHRib3hTaGFkb3c6ICdpbnNldCAwIDFweCAwIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zKScsXG5cdFx0XHRib3JkZXJXaWR0aDogMSxcblx0XHRcdGJvcmRlclN0eWxlOiAnc29saWQnLFxuXHRcdFx0Y3Vyc29yOiAncG9pbnRlcicsXG5cdFx0XHRkaXNwbGF5OiAnYmxvY2snLFxuXHRcdFx0Zm9udFNpemU6IDE0LFxuXHRcdFx0Zm9udFdlaWdodDogJ2JvbGQnLFxuXHRcdFx0cGFkZGluZzogJzEwcHggMjBweCcsXG5cdFx0XHR0ZXh0QWxpZ246ICdjZW50ZXInLFxuXHRcdFx0dGV4dERlY29yYXRpb246ICdub25lJyxcblx0XHRcdFdlYmtpdEZvbnRTbW9vdGhpbmc6ICdhbnRpYWxpYXNlZCcsXG5cdFx0XHR0cmFuc2l0aW9uOiAnYmFja2dyb3VuZCAwLjJzJ1xuXHRcdH0sXG5cblx0XHRzaXplczoge1xuXHRcdFx0dGlueToge1xuXHRcdFx0XHRmb250U2l6ZTogMTAsXG5cdFx0XHRcdHBhZGRpbmc6ICcycHggMTBweCcsXG5cdFx0XHR9LFxuXHRcdFx0bm9ybWFsOiB7XG5cdFx0XHRcdGZvbnRTaXplOiAxMyxcblx0XHRcdFx0cGFkZGluZzogJzVweCAxMHB4J1xuXHRcdFx0fSxcblx0XHRcdGJpZzoge1xuXHRcdFx0XHRmb250U2l6ZTogMTYsXG5cdFx0XHRcdHBhZGRpbmc6ICcyMHB4IDQwcHgnXG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGNvbG9yczoge1xuXHRcdFx0Z3JheToge1xuXHRcdFx0XHRiYWNrZ3JvdW5kOiAnbGluZWFyLWdyYWRpZW50KCNmZmYsICNmOWY5ZjkpJyxcblx0XHRcdFx0Ym9yZGVyQ29sb3I6IHN0eWxlcy5jb2xvcnMubGlnaHRHcmF5LFxuXHRcdFx0XHRjb2xvcjogc3R5bGVzLmNvbG9ycy5kYXJrR3JheSxcblx0XHRcdFx0Jzpob3Zlcic6IHtcblx0XHRcdFx0XHRjb2xvcjogc3R5bGVzLmNvbG9ycy5ncmF5XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRibHVlOiB7XG5cdFx0XHRcdGJhY2tncm91bmQ6IHN0eWxlcy5jb2xvcnMuYmx1ZSxcblx0XHRcdFx0Ym9yZGVyQ29sb3I6ICdyZ2JhKDAsMCwwLDAuNiknLFxuXHRcdFx0XHRjb2xvcjogJ3doaXRlJyxcblx0XHRcdFx0Jzpob3Zlcic6IHtcblx0XHRcdFx0XHRiYWNrZ3JvdW5kOiBzdHlsZXMuY29sb3JzLmxpZ2h0ZXJCbHVlLFxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0Z3JlZW46IHtcblx0XHRcdFx0YmFja2dyb3VuZDogc3R5bGVzLmNvbG9ycy5ncmVlbixcblx0XHRcdFx0Y29sb3I6ICd3aGl0ZScsXG5cdFx0XHRcdGJvcmRlckNvbG9yOiAncmdiYSgwLDAsMCwwLjYpJyxcblx0XHRcdFx0Jzpob3Zlcic6IHtcblx0XHRcdFx0XHRiYWNrZ3JvdW5kOiBzdHlsZXMuY29sb3JzLmxpZ2h0ZXJHcmVlbixcblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdHRoZW1lczoge1xuXHRcdFx0d3A6IHt9LFxuXHRcdFx0amV0cGFjazoge1xuXHRcdFx0XHRwYWRkaW5nOiAnMThweCAyNHB4IDE1cHgnLFxuXHRcdFx0XHRib3JkZXJSYWRpdXM6IDYsXG5cdFx0XHRcdGJvcmRlclN0eWxlOiAnbm9uZScsXG5cdFx0XHRcdGJveFNoYWRvdzogJzAgNnB4IDAgIzNlNmMyMCwwIDZweCAzcHggcmdiYSgwLDAsMCwwLjQpJ1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0XG5cdFx0aW5saW5lOiB7XG5cdFx0XHRkaXNwbGF5OiAnaW5saW5lLWJsb2NrJ1xuXHRcdH0sXG5cblx0XHRkaXNhYmxlZDoge1xuXHRcdFx0YmFja2dyb3VuZDogJyNmOWY5ZjknLFxuXHRcdFx0Ym9yZGVyQ29sb3I6IHN0eWxlcy5jb2xvcnMubGlnaHRHcmF5LFxuXHRcdFx0Y29sb3I6IHN0eWxlcy5jb2xvcnMubGlnaHRHcmF5LFxuXHRcdFx0Jzpob3Zlcic6IHtcblx0XHRcdFx0YmFja2dyb3VuZDogJyNmOWY5ZjknLFxuXHRcdFx0XHRib3JkZXJDb2xvcjogc3R5bGVzLmNvbG9ycy5saWdodEdyYXksXG5cdFx0XHRcdGNvbG9yOiBzdHlsZXMuY29sb3JzLmxpZ2h0R3JheSxcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblxuXHRcdHZhciAkX18wPSAgICAgICAgICB0aGlzLnByb3BzLHNpemU9JF9fMC5zaXplLGNvbG9yPSRfXzAuY29sb3IsaW5saW5lPSRfXzAuaW5saW5lLG9uQ2xpY2s9JF9fMC5vbkNsaWNrLHRoZW1lPSRfXzAudGhlbWUsaHJlZj0kX18wLmhyZWYsb3RoZXI9KGZ1bmN0aW9uKHNvdXJjZSwgZXhjbHVzaW9uKSB7dmFyIHJlc3QgPSB7fTt2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtpZiAoc291cmNlID09IG51bGwpIHt0aHJvdyBuZXcgVHlwZUVycm9yKCk7fWZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtpZiAoaGFzT3duLmNhbGwoc291cmNlLCBrZXkpICYmICFoYXNPd24uY2FsbChleGNsdXNpb24sIGtleSkpIHtyZXN0W2tleV0gPSBzb3VyY2Vba2V5XTt9fXJldHVybiByZXN0O30pKCRfXzAse3NpemU6MSxjb2xvcjoxLGlubGluZToxLG9uQ2xpY2s6MSx0aGVtZToxLGhyZWY6MX0pO1xuXG5cdFx0dmFyIGNhbGxiYWNrO1xuXG5cdFx0dmFyIGNvbWJpbmVkU3R5bGUgPSBbXG5cdFx0XHR0aGlzLnN0eWxlcy5iYXNpYywgXG5cdFx0XHR0aGlzLnN0eWxlcy5zaXplc1tzaXplXSxcblx0XHRcdHRoaXMuc3R5bGVzLmNvbG9yc1tjb2xvcl0sXG5cdFx0XHR0aGlzLnN0eWxlcy50aGVtZXNbdGhlbWVdLFxuXHRcdFx0dGhpcy5wcm9wcy5kaXNhYmxlZCAmJiB0aGlzLnN0eWxlcy5kaXNhYmxlZCxcblx0XHRcdGlubGluZSAmJiB0aGlzLnN0eWxlcy5pbmxpbmUsXG5cdFx0XHR0aGlzLnByb3BzLnN0eWxlXG5cdFx0XTtcblxuXHRcdGlmICggaHJlZiAmJiAhb25DbGljaykge1xuXHRcdFx0Y2FsbGJhY2sgPSB0aGlzLmhhbmRsZUNhbGxiYWNrSHJlZjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y2FsbGJhY2sgPSBvbkNsaWNrO1xuXHRcdH1cblxuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIFJlYWN0Ll9fc3ByZWFkKHt9LCAgb3RoZXIsIHtzdHlsZTogY29tYmluZWRTdHlsZSwgb25DbGljazogY2FsbGJhY2ssIG9uTW91c2VPdmVyOiB0aGlzLmhhbmRsZU1vdXNlT3Zlciwgb25Nb3VzZU91dDogdGhpcy5oYW5kbGVNb3VzZU91dH0pLCBcblx0XHRcdFx0dGhpcy5wcm9wcy5jaGlsZHJlblxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJhZGl1bShCdXR0b24pOyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpLFxuXHRSYWRpdW0gPSByZXF1aXJlKCdyYWRpdW0nKTtcblxuLyoqXG4gKiBTaG93IHByb2dyZXNzIHRocm91Z2ggdGhlIHN0ZXBzXG4gKiBOT1RFOiBwcm9ncmVzc1BlcmNlbnQgTVVTVCBiZSByb3VuZGVkIHRvIHRoZSBuZWFyZXN0IDEwLCBpLmUuIDEwLCAyMCwgMzAsIDQwLi4uMTAwXG4gKiBUaGlzIGlzIHJlcXVpcmVkIGZvciB0aGUgQ1NTIHRvIHdvcmsgKHdpbGwgZml4IGxhdGVyLi4uKVxuICoqL1xudmFyIFByb2dyZXNzQmFyID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIlByb2dyZXNzQmFyXCIsXG5cblx0cHJvcFR5cGVzOiB7XG5cdFx0c3R5bGU6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdFx0cHJvZ3Jlc3NQZXJjZW50OiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcblx0fSxcblxuXHRzdHlsZXM6IHtcblx0XHR3cmFwcGVyOiB7XG5cdFx0XHRmb250V2VpZ2h0OiA0MDAsXG5cdFx0XHRmb250U2l6ZTogJzgwJSdcblx0XHR9LFxuXHRcdHByb2dyZXNzOiB7XG5cdFx0XHRiYWNrZ3JvdW5kOiAnIzRhYjg2NicsXG5cdFx0XHR3aWR0aDogJzAlJyxcblx0XHRcdHRyYW5zaXRpb246ICd3aWR0aCAwLjVzJyxcblx0XHRcdGRpc3BsYXk6ICdibG9jaycsXG5cdFx0XHRoZWlnaHQ6ICcxMDAlJ1xuXHRcdH0sXG5cdFx0YmFyOiB7XG5cdFx0XHRkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcblx0XHRcdHdpZHRoOiA4MCxcblx0XHRcdGhlaWdodDogMTIsXG5cdFx0XHRtYXJnaW46ICcwIDhweCAtMnB4IDAnLFxuXHRcdFx0cGFkZGluZzogMixcblx0XHRcdGJvcmRlclJhZGl1czogMixcblx0XHRcdGJhY2tncm91bmQ6ICcjZjVmNWY1J1xuXHRcdH1cblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdC8vIHZhciBjbGFzc2VzID0gJ2dldHRpbmctc3RhcnRlZF9fcHJvZ3Jlc3MgcHJvZ3Jlc3NfJyt0aGlzLnByb3BzLnByb2dyZXNzUGVyY2VudDtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7c3R5bGU6IFt0aGlzLnN0eWxlcy53cmFwcGVyLCB0aGlzLnByb3BzLnN0eWxlXX0sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZTogdGhpcy5zdHlsZXMuYmFyfSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge3N0eWxlOiBbdGhpcy5zdHlsZXMucHJvZ3Jlc3MsIHsgd2lkdGg6IHRoaXMucHJvcHMucHJvZ3Jlc3NQZXJjZW50KyclJyB9XX0pXG5cdFx0XHRcdCksIFxuXHRcdFx0XHR0aGlzLnByb3BzLnByb2dyZXNzUGVyY2VudCwgXCIlIGNvbXBsZXRlXCJcblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSYWRpdW0oUHJvZ3Jlc3NCYXIpOyIsIi8vIHRoaXMgY29tcG9uZW50IHByb3ZpZGVzIHNvbWUgYmFzaWMgcmVzZXRzIHNvIHRoYXQgdGhlIHJlc3Qgb2YgdGhlIHN0eWxpbmcgd29ya3MgYXMgaW50ZW5kZWQuXG4vLyB0aGlzIHByZXZlbnRzIG5vaXN5IGR1cGxpY2F0aW9uIG9mIHJlc2V0IGNvZGUgdGhyb3VnaG91dCB0aGUgY29kZWJhc2UuXG5cbi8vIHVzYWdlOlxuLy8gdXNlIHRoaXMgYXMgYSB3cmFwcGVyIGZvciBhIHRvcC1sZXZlbCBjb21wb25lbnQgdGhhdCB1c2VzIGRvcHMtcmVhY3QsIGUuZy5cbi8vXG4vLyByZW5kZXI6IGZ1bmN0aW9uKCkge1xuLy8gXHRyZXR1cm4gKFxuLy8gICAgICAgPFJlc2V0PlxuLy8gICAgICAgICAuLi4gdGhlIHJlc3Qgb2YgbXkgY29kZSBnb2VzIGhlcmUgLi4uXG4vLyAgICAgICA8L1Jlc2V0PlxuLy8gXHQpXG4vLyB9XG5cbi8vIHRvIGFkZCBhZGRpdGlvbmFsIENTUywgcGFzcyBpdCBpbiB1c2luZyB0aGUgXCJDU1NcIiBwcm9wZXJ0eVxuXG52YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKSxcblx0UmFkaXVtID0gcmVxdWlyZSgncmFkaXVtJyksXG5cdG0gPSByZXF1aXJlKCcuLi91dGlscy9tJyk7XG5cbnZhciBpZENvdW50ZXIgPSAwO1xuXG52YXIgUmVzZXQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiUmVzZXRcIixcblx0cHJvcFR5cGVzOiB7XG5cdFx0Y3NzOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0XG5cdH0sXG5cblx0c3R5bGU6IHtcblx0XHRyZXNldHM6IHtcblx0XHRcdCcqJzoge1xuXHRcdFx0XHRib3hTaXppbmc6ICdib3JkZXItYm94J1xuXHRcdFx0fSxcblx0XHRcdCdkaXYsIHVsLCBvbCwgbGksIGgxLCBoMiwgaDMsIGg0LCBoNSwgaDYsIGZvcm0sIGZpZWxkc2V0LCBsZWdlbmQsIGlucHV0LCBidXR0b24sIHRleHRhcmVhLCBwLCBibG9ja3F1b3RlLCB0aCwgdGQnOiB7IFxuXHRcdFx0XHRtYXJnaW46IDAsIHBhZGRpbmc6IDAgXG5cdFx0XHR9LFxuXHRcdFx0aW1nOiB7XG5cdFx0XHRcdGJvcmRlcjogJ25vbmUnLFxuXHRcdFx0XHRtYXhXaWR0aDogJzEwMCUnXG5cdFx0XHR9LFxuXHRcdFx0dGQ6IHtcblx0XHRcdFx0dmVydGljYWxBbGlnbjogJ3RvcCdcblx0XHRcdH0sXG5cblx0XHRcdC8vIHRoZXNlIHN1cHBvcnQgYW5pbWF0aW9uc1xuXHRcdFx0Jy5zbGlkZURvd24tZW50ZXInOiB7XG5cdFx0XHRcdG92ZXJmbG93WTogJ2hpZGRlbicsXG5cdFx0XHRcdG1heEhlaWdodDogMCxcblx0XHRcdFx0dHJhbnNpdGlvbjogJ2FsbCAuNXMgZWFzZS1vdXQnXG5cdFx0XHR9LFxuXG5cdFx0XHQnLnNsaWRlRG93bi1lbnRlci1hY3RpdmUnOiB7XG5cdFx0XHRcdG92ZXJmbG93WTogJ2hpZGRlbicsXG5cdFx0XHRcdG1heEhlaWdodDogNDAwXG5cdFx0XHR9LFxuXG5cdFx0XHQnLnNsaWRlRG93bi1sZWF2ZSc6IHtcblx0XHRcdFx0b3ZlcmZsb3dZOiAnaGlkZGVuJyxcblx0XHRcdFx0bWF4SGVpZ2h0OiA0MDAsXG5cdFx0XHRcdHRyYW5zaXRpb246ICdhbGwgLjVzIGVhc2Utb3V0J1xuXHRcdFx0fSxcblxuXHRcdFx0Jy5zbGlkZURvd24tbGVhdmUtYWN0aXZlJzoge1xuXHRcdFx0XHRvdmVyZmxvd1k6ICdoaWRkZW4nLFxuXHRcdFx0XHRtYXhIZWlnaHQ6IDBcblx0XHRcdH0sXG5cblx0XHRcdC8qKlxuXHRcdFx0ICogU2xpZGUgYWNyb3NzIHJpZ2h0LXRvLWxlZnRcblx0XHRcdCAqL1xuXG5cdFx0XHQnLnNsaWRlUlRMLWVudGVyJzoge1xuXHRcdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcblx0XHRcdFx0bGVmdDogJzEwMCUnLFxuXHRcdFx0XHR0cmFuc2l0aW9uOiAnYWxsIC4ycyBsaW5lYXInXG5cdFx0XHR9LFxuXG5cdFx0XHQnLnNsaWRlUlRMLWVudGVyLWFjdGl2ZSc6IHtcblx0XHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdFx0XHRcdGxlZnQ6ICcwJSdcblx0XHRcdH0sXG5cblx0XHRcdCcuc2xpZGVSVEwtbGVhdmUnOiB7XG5cdFx0XHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuXHRcdFx0XHRsZWZ0OiAnMCUnLFxuXHRcdFx0XHR0cmFuc2l0aW9uOiAnYWxsIC4ycyBsaW5lYXInXG5cdFx0XHR9LFxuXG5cdFx0XHQnLnNsaWRlUlRMLWxlYXZlLWFjdGl2ZSc6IHtcblx0XHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdFx0XHRcdGxlZnQ6ICctMTAwJSdcblx0XHRcdH0sXG5cblx0XHRcdC8qKlxuXHRcdFx0ICogU2xpZGUgYWNyb3NzIGxlZnQtdG8tcmlnaHRcblx0XHRcdCAqL1xuXG5cdFx0XHQnLnNsaWRlTFRSLWVudGVyJzoge1xuXHRcdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcblx0XHRcdFx0bGVmdDogJy0xMDAlJyxcblx0XHRcdFx0dHJhbnNpdGlvbjogJ2FsbCAuMnMgbGluZWFyJ1xuXHRcdFx0fSxcblxuXHRcdFx0Jy5zbGlkZUxUUi1lbnRlci1hY3RpdmUnOiB7XG5cdFx0XHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuXHRcdFx0XHRsZWZ0OiAnMCUnXG5cdFx0XHR9LFxuXG5cdFx0XHQnLnNsaWRlTFRSLWxlYXZlJzoge1xuXHRcdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcblx0XHRcdFx0bGVmdDogJzAlJyxcblx0XHRcdFx0dHJhbnNpdGlvbjogJ2FsbCAuMnMgbGluZWFyJ1xuXHRcdFx0fSxcblxuXHRcdFx0Jy5zbGlkZUxUUi1sZWF2ZS1hY3RpdmUnOiB7XG5cdFx0XHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuXHRcdFx0XHRsZWZ0OiAnMTAwJSdcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyICRfXzA9ICB0aGlzLnByb3BzLHByb3BzPShmdW5jdGlvbihzb3VyY2UsIGV4Y2x1c2lvbikge3ZhciByZXN0ID0ge307dmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7aWYgKHNvdXJjZSA9PSBudWxsKSB7dGhyb3cgbmV3IFR5cGVFcnJvcigpO31mb3IgKHZhciBrZXkgaW4gc291cmNlKSB7aWYgKGhhc093bi5jYWxsKHNvdXJjZSwga2V5KSAmJiAhaGFzT3duLmNhbGwoZXhjbHVzaW9uLCBrZXkpKSB7cmVzdFtrZXldID0gc291cmNlW2tleV07fX1yZXR1cm4gcmVzdDt9KSgkX18wLHt9KSxcblx0XHRcdGlkID0gdGhpcy5fZ2VuZXJhdGVJZCgpO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgUmVhY3QuX19zcHJlYWQoe2lkOiBpZH0sICBwcm9wcyksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFJhZGl1bS5TdHlsZSwge3Njb3BlU2VsZWN0b3I6ICcjJytpZCwgcnVsZXM6IG0odGhpcy5zdHlsZS5yZXNldHMsIHRoaXMucHJvcHMuY3NzKX0pLCBcblx0XHRcdFx0dGhpcy5wcm9wcy5jaGlsZHJlblxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0X2dlbmVyYXRlSWQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAnZG9wc2lkJysoaWRDb3VudGVyKyspO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZXNldDsiLCJ2YXIgc3R5bGVzID0ge1xuXHQvL2xheW91dFxuXHRyaWdodDogeyBmbG9hdDogJ3JpZ2h0JyB9LFxuXHRcblx0bGVmdDogeyBmbG9hdDogJ2xlZnQnIH0sXG5cdFxuXHR0aGlyZDogeyB3aWR0aDogJzMzJScgfSxcblxuXHRmdWxsOiB7IHdpZHRoOiAnMTAwJScgfSxcblxuXHRoYWxmOiB7IHdpZHRoOiAnNDglJyB9LFxuXG5cdGhpZGRlbjogeyBkaXNwbGF5OiAnbm9uZScgfSxcblxuXHRjbGVhcjoge1xuXHRcdGNsZWFyOiAnYm90aCcsIFxuXHRcdGRpc3BsYXk6ICdibG9jaycgXG5cdH0sXG5cblx0Ly9hY2NvdW50IHN0YXR1cyBpbmRpY2F0b3Jcblx0YWNjb3VudFN0YXR1czoge1xuXHRcdHRleHRUcmFuc2Zvcm06ICdjYXBpdGFsaXplJ1xuXHR9LFxuXG5cdGFjY291bnRTdGF0dXNOb3RpY29uOiB7XG5cdFx0Ym9yZGVyUmFkaXVzOiBcIjUwJVwiLFxuXHRcdHdpZHRoOiAxNixcblx0XHRoZWlnaHQ6IDE2LFxuXHRcdG1hcmdpblJpZ2h0OiAxMCxcblx0XHRjb2xvcjogJyNmZmYnLFxuXHRcdGJhY2tncm91bmQ6ICcjODFiZjE2J1xuXHR9LFxuXG5cdC8vYm94IHdpZGdldFxuXHRib3g6IHtcblx0XHRib3JkZXJSYWRpdXM6IDIsXG5cdFx0cGFkZGluZzogJzVweCAxMHB4Jyxcblx0XHRiYWNrZ3JvdW5kOiAnI2Y1ZjVmNSdcblx0fSxcblxuXHQvL2Jhc2ljIHN0eWxpbmcgLSBmb250cyBhbmQgY29sb3JzXG5cdGxpZ2h0OiB7IGNvbG9yOiAnIzk5OScgfSxcblx0Y29sb3JzOiB7XG5cdFx0YWtpc21ldEdyZWVuOiAnIzVlOGUxNCcsXG5cdFx0Ymx1ZTogJyMwMjlkZDYnLFxuXHRcdGxpZ2h0ZXJCbHVlOiAnIzEzQUVFNycsXG5cdFx0YmxhY2s6ICcjMzMzJyxcblx0XHRkYXJrR3JheTogJyM0NDQnLFxuXHRcdGdyYXk6ICcjNzg3ODc4Jyxcblx0XHRsaWdodEdyYXk6ICcjYmJiJyxcblx0XHR2ZXJ5TGlnaHRHcmF5OiAnI2VlZScsXG5cdFx0b2ZmV2hpdGU6ICcjZjlmOWY5Jyxcblx0XHRhY2NvdW50QWN0aXZlOiAnIzgxYmYxNicsXG5cdFx0YWNjb3VudEluYWN0aXZlOiAnI2JiYicsXG5cdFx0Z3JlZW46ICcjNTE4ZDJhJyxcblx0XHRsaWdodGVyR3JlZW46ICcjNTc5NzJkJ1xuXHR9LFxuXG5cdGZvbnRzOiB7XG5cdFx0c2FuczogJ09wZW4gU2FucywgXCJPcGVuIFNhbnNcIiwgXCJIZWx2ZXRpY2EgTmV1ZVwiLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmJyxcblx0XHRzZXJpZjogJ01lcnJpd2VhdGhlciwgR2VvcmdpYSwgc2VyaWYnLFxuXHRcdG1vbm86ICdcIkNvdXJpZXIgTmV3XCIsIENvdXJpZXIsIG1vbm9zcGFjZSdcblx0fSxcblxuXHQvL2Zvcm1zXG5cdGlucHV0OiB7XG5cdFx0d2lkdGg6IFwiMTAwJVwiLFxuXHRcdGJveFNoYWRvdzogJ25vbmUnLFxuXHRcdGJhY2tncm91bmQ6ICcjZmZmJyxcblx0XHRib3JkZXI6ICcxcHggc29saWQgI2Q1ZDVkNScsXG5cdFx0Zm9udFNpemU6IDEyLFxuXHRcdHBhZGRpbmc6ICc4cHggMTBweCdcblx0fSxcblxuXHRzZWxlY3Q6IHtcblx0XHRib3JkZXJSYWRpdXM6IDMsXG5cdFx0YmFja2dyb3VuZENvbG9yOiAnI2ZmZicsXG5cdFx0Zm9udFNpemU6IDEyLFxuXHRcdGhlaWdodDogMzUsXG5cdFx0d2lkdGg6ICcxMDAlJyxcblx0XHRib3JkZXI6ICcxcHggc29saWQgI2Q1ZDVkNScsXG5cdFx0cGFkZGluZzogJzNweCA1cHgnLFxuXHRcdG1pbldpZHRoOiAwXG5cdH0sXG5cblx0Y2hlY2tib3g6IHtcblx0XHRtYXJnaW5SaWdodDogMTBcblx0fSxcblxuXHRlcnJvckZpZWxkOiB7XG5cdFx0Ym9yZGVyOiAnMXB4IHNvbGlkICNkZDNkMzYnXG5cdH0sXG5cdFxuXHRlcnJvckxhYmVsOiB7XG5cdFx0Ym9yZGVyOiAnMXB4IHNvbGlkICNkZDNkMzYnLFxuXHRcdGNvbG9yOiAnI2EwMCcsXG5cdFx0ZGlzcGxheTogJ2Jsb2NrJyxcblx0XHRmb250U2l6ZTogMTIsXG5cdFx0bWFyZ2luOiAnNXB4IDAgMCAwJyxcblx0XHRwYWRkaW5nOiA1XG5cdH0sXG5cblx0XG59O1xuXG4vLyBvcHRpb25hbCB0b3AtbGV2ZWwgc3R5bGVzIGZvciBwYXNzaW5nIGludG8gdGhlIFwicmVzZXRcIiBvYmplY3RcbnN0eWxlcy5jc3MgPSB7XG5cdCc+IConOiB7XG5cdFx0Zm9udDogJzE0cHgvMS41ICcgKyBzdHlsZXMuZm9udHMuc2Fucyxcblx0XHRjb2xvcjogc3R5bGVzLmNvbG9ycy5ibGFja1xuXHR9LFxuXHRhOiB7XG5cdFx0Y29sb3I6IHN0eWxlcy5jb2xvcnMuYmx1ZSxcblx0XHR0ZXh0RGVjb3JhdGlvbjogJ25vbmUnXG5cdH0sXG5cdCdhOmhvdmVyJzoge1xuXHRcdHRleHREZWNvcmF0aW9uOiAndW5kZXJsaW5lJ1xuXHR9LFxuXHRoMToge1xuXHRcdGZvbnRTaXplOiAzNFxuXHR9LFxuXHRoMjoge1xuXHRcdGNvbG9yOiBzdHlsZXMuY29sb3JzLmdyYXksXG5cdFx0Zm9udFNpemU6IDE2XG5cdH0sXG5cdGgzOiB7XG5cdFx0Zm9udFNpemU6IDE4XG5cdH0sXG5cdCdoMSwgaDIsIGgzJzoge1xuXHRcdGZvbnRGYW1pbHk6IHN0eWxlcy5mb250cy5zZXJpZixcblx0XHRmb250V2VpZ2h0OiA1MDBcblx0fVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBzdHlsZXM7IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0dmFyIHJlcyA9IHt9O1xuXHRmb3IgKCB2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyArK2kpIHtcblx0XHRpZiAoYXJndW1lbnRzW2ldKSB7XG5cdFx0XHRqUXVlcnkuZXh0ZW5kKHJlcywgYXJndW1lbnRzW2ldKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHJlcztcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKTtcblxudmFyIFN0eWxlID0gcmVxdWlyZSgnLi9zdHlsZS5qcycpO1xudmFyIHByaW50U3R5bGVzID0gcmVxdWlyZSgnLi4vcHJpbnQtc3R5bGVzLmpzJyk7XG5cbnZhciBQcmludFN0eWxlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ1ByaW50U3R5bGUnLFxuXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRTdHlsZXNTdGF0ZSgpO1xuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbiA9IHByaW50U3R5bGVzLnN1YnNjcmliZSh0aGlzLl9vbkNoYW5nZSk7XG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9uLnJlbW92ZSgpO1xuICB9LFxuXG4gIF9vbkNoYW5nZTogZnVuY3Rpb24gX29uQ2hhbmdlKCkge1xuICAgIHRoaXMuc2V0U3RhdGUodGhpcy5fZ2V0U3R5bGVzU3RhdGUoKSk7XG4gIH0sXG5cbiAgX2dldFN0eWxlc1N0YXRlOiBmdW5jdGlvbiBfZ2V0U3R5bGVzU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0eWxlczogcHJpbnRTdHlsZXMuZ2V0UHJpbnRTdHlsZXMoKVxuICAgIH07XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGUsIHsgcnVsZXM6IHtcbiAgICAgICAgbWVkaWFRdWVyaWVzOiB7XG4gICAgICAgICAgcHJpbnQ6IHRoaXMuc3RhdGUuc3R5bGVzXG4gICAgICAgIH1cbiAgICAgIH0gfSk7XG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFByaW50U3R5bGU7IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3JlYXRlTWFya3VwRm9yU3R5bGVzID0gcmVxdWlyZSgnLi4vY3JlYXRlLW1hcmt1cC1mb3Itc3R5bGVzJyk7XG52YXIgUHJlZml4ZXIgPSByZXF1aXJlKCcuLi9wcmVmaXhlcicpO1xuXG52YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKTtcblxudmFyIGJ1aWxkQ3NzU3RyaW5nID0gZnVuY3Rpb24gYnVpbGRDc3NTdHJpbmcoY29tcG9uZW50LCBzZWxlY3RvciwgcnVsZXMpIHtcbiAgaWYgKCFzZWxlY3RvciB8fCAhcnVsZXMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgcHJlZml4ZWRSdWxlcyA9IFByZWZpeGVyLmdldFByZWZpeGVkU3R5bGUoY29tcG9uZW50LCBydWxlcywgJ2NzcycpO1xuICB2YXIgc2VyaWFsaXplZFJ1bGVzID0gY3JlYXRlTWFya3VwRm9yU3R5bGVzKHByZWZpeGVkUnVsZXMpO1xuXG4gIHJldHVybiBzZWxlY3RvciArICd7JyArIHNlcmlhbGl6ZWRSdWxlcyArICd9Jztcbn07XG5cbnZhciBTdHlsZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdTdHlsZScsXG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgcnVsZXM6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgc2NvcGVTZWxlY3RvcjogUmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xuICB9LFxuXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzY29wZVNlbGVjdG9yOiAnJ1xuICAgIH07XG4gIH0sXG5cbiAgX2J1aWxkU3R5bGVzOiBmdW5jdGlvbiBfYnVpbGRTdHlsZXMoc3R5bGVzKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHJldHVybiBPYmplY3Qua2V5cyhzdHlsZXMpLnJlZHVjZShmdW5jdGlvbiAoYWNjdW11bGF0b3IsIHNlbGVjdG9yKSB7XG4gICAgICB2YXIgcnVsZXMgPSBzdHlsZXNbc2VsZWN0b3JdO1xuXG4gICAgICBpZiAoc2VsZWN0b3IgPT09ICdtZWRpYVF1ZXJpZXMnKSB7XG4gICAgICAgIGFjY3VtdWxhdG9yICs9IF90aGlzLl9idWlsZE1lZGlhUXVlcnlTdHJpbmcocnVsZXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGNvbXBsZXRlU2VsZWN0b3IgPSAoX3RoaXMucHJvcHMuc2NvcGVTZWxlY3RvciA/IF90aGlzLnByb3BzLnNjb3BlU2VsZWN0b3IgKyAnICcgOiAnJykgKyBzZWxlY3RvcjtcbiAgICAgICAgYWNjdW11bGF0b3IgKz0gYnVpbGRDc3NTdHJpbmcoX3RoaXMsIGNvbXBsZXRlU2VsZWN0b3IsIHJ1bGVzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH0sICcnKTtcbiAgfSxcblxuICBfYnVpbGRNZWRpYVF1ZXJ5U3RyaW5nOiBmdW5jdGlvbiBfYnVpbGRNZWRpYVF1ZXJ5U3RyaW5nKG1lZGlhUXVlcnlPYmopIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBjb250ZXh0TWVkaWFRdWVyaWVzID0gdGhpcy5fZ2V0Q29udGV4dE1lZGlhUXVlcmllcygpO1xuICAgIHZhciBtZWRpYVF1ZXJ5U3RyaW5nID0gJyc7XG5cbiAgICBPYmplY3Qua2V5cyhtZWRpYVF1ZXJ5T2JqKS5mb3JFYWNoKGZ1bmN0aW9uIChxdWVyeSkge1xuICAgICAgdmFyIGNvbXBsZXRlUXVlcnkgPSBjb250ZXh0TWVkaWFRdWVyaWVzW3F1ZXJ5XSA/IGNvbnRleHRNZWRpYVF1ZXJpZXNbcXVlcnldIDogcXVlcnk7XG4gICAgICBtZWRpYVF1ZXJ5U3RyaW5nICs9ICdAbWVkaWEgJyArIGNvbXBsZXRlUXVlcnkgKyAneycgKyBfdGhpczIuX2J1aWxkU3R5bGVzKG1lZGlhUXVlcnlPYmpbcXVlcnldKSArICd9JztcbiAgICB9KTtcblxuICAgIHJldHVybiBtZWRpYVF1ZXJ5U3RyaW5nO1xuICB9LFxuXG4gIF9nZXRDb250ZXh0TWVkaWFRdWVyaWVzOiBmdW5jdGlvbiBfZ2V0Q29udGV4dE1lZGlhUXVlcmllcygpIHtcbiAgICB2YXIgY29udGV4dE1lZGlhUXVlcmllcyA9IHt9O1xuICAgIGlmICh0aGlzLmNvbnRleHQgJiYgdGhpcy5jb250ZXh0Lm1lZGlhUXVlcmllcykge1xuICAgICAgT2JqZWN0LmtleXModGhpcy5jb250ZXh0Lm1lZGlhUXVlcmllcykuZm9yRWFjaCgoZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgICAgIGNvbnRleHRNZWRpYVF1ZXJpZXNbcXVlcnldID0gdGhpcy5jb250ZXh0Lm1lZGlhUXVlcmllc1txdWVyeV0ubWVkaWE7XG4gICAgICB9KS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29udGV4dE1lZGlhUXVlcmllcztcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucnVsZXMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBzdHlsZXMgPSB0aGlzLl9idWlsZFN0eWxlcyh0aGlzLnByb3BzLnJ1bGVzKTtcblxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KCdzdHlsZScsIHsgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiBzdHlsZXMgfSB9KTtcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU3R5bGU7IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCdleGVudicpO1xuXG52YXIgX21hdGNoTWVkaWFGdW5jdGlvbiA9IEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiB3aW5kb3cgJiYgd2luZG93Lm1hdGNoTWVkaWEgJiYgZnVuY3Rpb24gKG1lZGlhUXVlcnlTdHJpbmcpIHtcbiAgcmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKG1lZGlhUXVlcnlTdHJpbmcpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNhbk1hdGNoTWVkaWE6IGZ1bmN0aW9uIGNhbk1hdGNoTWVkaWEoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBfbWF0Y2hNZWRpYUZ1bmN0aW9uID09PSAnZnVuY3Rpb24nO1xuICB9LFxuXG4gIG1hdGNoTWVkaWE6IGZ1bmN0aW9uIG1hdGNoTWVkaWEocXVlcnkpIHtcbiAgICByZXR1cm4gX21hdGNoTWVkaWFGdW5jdGlvbihxdWVyeSk7XG4gIH0sXG5cbiAgc2V0TWF0Y2hNZWRpYTogZnVuY3Rpb24gc2V0TWF0Y2hNZWRpYShuZXh0TWF0Y2hNZWRpYUZ1bmN0aW9uKSB7XG4gICAgX21hdGNoTWVkaWFGdW5jdGlvbiA9IG5leHRNYXRjaE1lZGlhRnVuY3Rpb247XG4gIH1cbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3JlYXRlTWFya3VwRm9yU3R5bGVzID0gZnVuY3Rpb24gY3JlYXRlTWFya3VwRm9yU3R5bGVzKHN0eWxlLCBzcGFjZXMpIHtcbiAgc3BhY2VzID0gc3BhY2VzIHx8ICcnO1xuICByZXR1cm4gT2JqZWN0LmtleXMoc3R5bGUpLm1hcChmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICByZXR1cm4gc3BhY2VzICsgcHJvcGVydHkgKyAnOiAnICsgc3R5bGVbcHJvcGVydHldICsgJzsnO1xuICB9KS5qb2luKCdcXG4nKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlTWFya3VwRm9yU3R5bGVzOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxudmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IGRlc2MgPSBwYXJlbnQgPSBnZXR0ZXIgPSB1bmRlZmluZWQ7IF9hZ2FpbiA9IGZhbHNlOyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9O1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHJlc29sdmVTdHlsZXMgPSByZXF1aXJlKCcuL3Jlc29sdmUtc3R5bGVzLmpzJyk7XG52YXIgcHJpbnRTdHlsZXMgPSByZXF1aXJlKCcuL3ByaW50LXN0eWxlcy5qcycpO1xuXG52YXIgZW5oYW5jZVdpdGhSYWRpdW0gPSBmdW5jdGlvbiBlbmhhbmNlV2l0aFJhZGl1bShDb21wb3NlZENvbXBvbmVudCkge1xuICB2YXIgUmFkaXVtRW5oYW5jZXIgPSAoZnVuY3Rpb24gKF9Db21wb3NlZENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhSYWRpdW1FbmhhbmNlciwgX0NvbXBvc2VkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFJhZGl1bUVuaGFuY2VyKCkge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJhZGl1bUVuaGFuY2VyKTtcblxuICAgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmFkaXVtRW5oYW5jZXIucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuc3RhdGUgfHwge307XG4gICAgICB0aGlzLnN0YXRlLl9yYWRpdW1TdHlsZVN0YXRlID0ge307XG5cbiAgICAgIGlmIChSYWRpdW1FbmhhbmNlci5wcmludFN0eWxlQ2xhc3MpIHtcbiAgICAgICAgdGhpcy5wcmludFN0eWxlQ2xhc3MgPSBSYWRpdW1FbmhhbmNlci5wcmludFN0eWxlQ2xhc3M7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2xhc3MgaW5oZXJpdGFuY2UgdXNlcyBPYmplY3QuY3JlYXRlIGFuZCBiZWNhdXNlIG9mIF9fcHJvdG9fXyBpc3N1ZXNcbiAgICAvLyB3aXRoIElFIDwxMCBhbnkgc3RhdGljIHByb3BlcnRpZXMgb2YgdGhlIHN1cGVyY2xhc3MgYXJlbid0IGluaGVyaXRlZCBhbmRcbiAgICAvLyBzbyBuZWVkIHRvIGJlIG1hbnVhbGx5IHBvcHVsYXRlZFxuICAgIC8vIFNlZSBodHRwOi8vYmFiZWxqcy5pby9kb2NzL2FkdmFuY2VkL2NhdmVhdHMvI2NsYXNzZXMtMTAtYW5kLWJlbG93LVxuICAgIC8vIFRoaXMgYWxzbyBmaXhlcyBSZWFjdCBIb3QgTG9hZGVyIGJ5IGV4cG9zaW5nIHRoZSBvcmlnaW5hbCBjb21wb25lbnRzIHRvcCBsZXZlbFxuICAgIC8vIHByb3RvdHlwZSBtZXRob2RzIG9uIHRoZSBSYWRpdW0gZW5oYW5jZWQgcHJvdG90eXBlIGFzIGRpc2N1c3NlZCBpbiAjMjE5LlxuXG4gICAgX2NyZWF0ZUNsYXNzKFJhZGl1bUVuaGFuY2VyLCBbe1xuICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciByZW5kZXJlZEVsZW1lbnQgPSBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihSYWRpdW1FbmhhbmNlci5wcm90b3R5cGUpLCAncmVuZGVyJywgdGhpcykuY2FsbCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVTdHlsZXModGhpcywgcmVuZGVyZWRFbGVtZW50KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIGlmIChfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihSYWRpdW1FbmhhbmNlci5wcm90b3R5cGUpLCAnY29tcG9uZW50V2lsbFVubW91bnQnLCB0aGlzKSkge1xuICAgICAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFJhZGl1bUVuaGFuY2VyLnByb3RvdHlwZSksICdjb21wb25lbnRXaWxsVW5tb3VudCcsIHRoaXMpLmNhbGwodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcmFkaXVtTW91c2VVcExpc3RlbmVyKSB7XG4gICAgICAgICAgdGhpcy5fcmFkaXVtTW91c2VVcExpc3RlbmVyLnJlbW92ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3JhZGl1bU1lZGlhUXVlcnlMaXN0ZW5lcnNCeVF1ZXJ5KSB7XG4gICAgICAgICAgT2JqZWN0LmtleXModGhpcy5fcmFkaXVtTWVkaWFRdWVyeUxpc3RlbmVyc0J5UXVlcnkpLmZvckVhY2goZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgICAgICAgICB0aGlzLl9yYWRpdW1NZWRpYVF1ZXJ5TGlzdGVuZXJzQnlRdWVyeVtxdWVyeV0ucmVtb3ZlKCk7XG4gICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUmFkaXVtRW5oYW5jZXI7XG4gIH0pKENvbXBvc2VkQ29tcG9uZW50KTtcblxuICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhDb21wb3NlZENvbXBvbmVudC5wcm90b3R5cGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICghUmFkaXVtRW5oYW5jZXIucHJvdG90eXBlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihDb21wb3NlZENvbXBvbmVudC5wcm90b3R5cGUsIGtleSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmFkaXVtRW5oYW5jZXIucHJvdG90eXBlLCBrZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfSk7XG5cbiAgUmFkaXVtRW5oYW5jZXIuZGlzcGxheU5hbWUgPSBDb21wb3NlZENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBDb21wb3NlZENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnO1xuXG4gIFJhZGl1bUVuaGFuY2VyLnByaW50U3R5bGVDbGFzcyA9IHByaW50U3R5bGVzLmFkZFByaW50U3R5bGVzKFJhZGl1bUVuaGFuY2VyKTtcblxuICByZXR1cm4gUmFkaXVtRW5oYW5jZXI7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVuaGFuY2VXaXRoUmFkaXVtOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIGdldFN0YXRlS2V5ID0gZnVuY3Rpb24gZ2V0U3RhdGVLZXkoZWxlbWVudEtleSkge1xuICByZXR1cm4gZWxlbWVudEtleSA9PT0gbnVsbCB8fCBlbGVtZW50S2V5ID09PSB1bmRlZmluZWQgPyAnbWFpbicgOiBlbGVtZW50S2V5LnRvU3RyaW5nKCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFN0YXRlS2V5OyIsIid1c2Ugc3RyaWN0JztcblxudmFyIGdldFN0YXRlS2V5ID0gcmVxdWlyZSgnLi9nZXQtc3RhdGUta2V5Jyk7XG5cbnZhciBWQUxJRF9LRVlTID0gWyc6YWN0aXZlJywgJzpmb2N1cycsICc6aG92ZXInXTtcblxudmFyIGdldFN0YXRlID0gZnVuY3Rpb24gZ2V0U3RhdGUoc3RhdGUsIGVsZW1lbnRLZXksIHZhbHVlKSB7XG4gIGlmIChWQUxJRF9LRVlTLmluZGV4T2YodmFsdWUpID09PSAtMSkge1xuICAgIHRocm93IG5ldyBFcnJvcignUmFkaXVtLmdldFN0YXRlIGludmFsaWQgdmFsdWUgcGFyYW06IGAnICsgdmFsdWUgKyAnYCcpO1xuICB9XG5cbiAgdmFyIGtleSA9IGdldFN0YXRlS2V5KGVsZW1lbnRLZXkpO1xuXG4gIHJldHVybiAhIShzdGF0ZSAmJiBzdGF0ZS5fcmFkaXVtU3R5bGVTdGF0ZSAmJiBzdGF0ZS5fcmFkaXVtU3R5bGVTdGF0ZVtrZXldICYmIHN0YXRlLl9yYWRpdW1TdHlsZVN0YXRlW2tleV1bdmFsdWVdKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0U3RhdGU7IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRW5oYW5jZXIgPSByZXF1aXJlKCcuL2VuaGFuY2VyJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKENvbXBvc2VkQ29tcG9uZW50KSB7XG4gIHJldHVybiBFbmhhbmNlcihDb21wb3NlZENvbXBvbmVudCk7XG59O1xubW9kdWxlLmV4cG9ydHMuU3R5bGUgPSByZXF1aXJlKCcuL2NvbXBvbmVudHMvc3R5bGUnKTtcbm1vZHVsZS5leHBvcnRzLlByaW50U3R5bGVTaGVldCA9IHJlcXVpcmUoJy4vY29tcG9uZW50cy9wcmludC1zdHlsZS1zaGVldCcpO1xubW9kdWxlLmV4cG9ydHMuZ2V0U3RhdGUgPSByZXF1aXJlKCcuL2dldC1zdGF0ZScpO1xubW9kdWxlLmV4cG9ydHMua2V5ZnJhbWVzID0gcmVxdWlyZSgnLi9rZXlmcmFtZXMnKTtcbm1vZHVsZS5leHBvcnRzLkNvbmZpZyA9IHJlcXVpcmUoJy4vY29uZmlnJyk7IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3JlYXRlTWFya3VwRm9yU3R5bGVzID0gcmVxdWlyZSgnLi9jcmVhdGUtbWFya3VwLWZvci1zdHlsZXMnKTtcbnZhciBQcmVmaXhlciA9IHJlcXVpcmUoJy4vcHJlZml4ZXInKTtcblxudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZXhlbnYnKTtcblxudmFyIGlzQW5pbWF0aW9uU3VwcG9ydGVkID0gRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NICYmIFByZWZpeGVyLmdldFByZWZpeGVkUHJvcGVydHlOYW1lKCdhbmltYXRpb24nKSAhPT0gZmFsc2U7XG5cbnZhciBhbmltYXRpb25JbmRleCA9IDE7XG52YXIgYW5pbWF0aW9uU3R5bGVTaGVldCA9IG51bGw7XG52YXIga2V5ZnJhbWVzUHJlZml4ZWQgPSAna2V5ZnJhbWVzJztcblxuaWYgKGlzQW5pbWF0aW9uU3VwcG9ydGVkKSB7XG4gIGFuaW1hdGlvblN0eWxlU2hlZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGFuaW1hdGlvblN0eWxlU2hlZXQpO1xuXG4gIC8vIFRlc3QgaWYgcHJlZml4IG5lZWRlZCBmb3Iga2V5ZnJhbWVzIChjb3BpZWQgZnJvbSBQcmVmaXhGcmVlKVxuICBhbmltYXRpb25TdHlsZVNoZWV0LnRleHRDb250ZW50ID0gJ0BrZXlmcmFtZXMge30nO1xuICBpZiAoIWFuaW1hdGlvblN0eWxlU2hlZXQuc2hlZXQuY3NzUnVsZXMubGVuZ3RoKSB7XG4gICAga2V5ZnJhbWVzUHJlZml4ZWQgPSBQcmVmaXhlci5jc3NQcmVmaXggKyAna2V5ZnJhbWVzJztcbiAgfVxufVxuXG4vLyBTaW1wbGUgYW5pbWF0aW9uIGhlbHBlciB0aGF0IGluamVjdHMgQ1NTIGludG8gYSBzdHlsZSBvYmplY3QgY29udGFpbmluZyB0aGVcbi8vIGtleWZyYW1lcywgYW5kIHJldHVybnMgYSBzdHJpbmcgd2l0aCB0aGUgZ2VuZXJhdGVkIGFuaW1hdGlvbiBuYW1lLlxudmFyIGtleWZyYW1lcyA9IGZ1bmN0aW9uIGtleWZyYW1lcyhrZXlmcmFtZVJ1bGVzLCBjb21wb25lbnQpIHtcbiAgdmFyIG5hbWUgPSAnQW5pbWF0aW9uJyArIGFuaW1hdGlvbkluZGV4O1xuICBhbmltYXRpb25JbmRleCArPSAxO1xuXG4gIGlmICghaXNBbmltYXRpb25TdXBwb3J0ZWQpIHtcbiAgICByZXR1cm4gbmFtZTtcbiAgfVxuXG4gIHZhciBydWxlID0gJ0AnICsga2V5ZnJhbWVzUHJlZml4ZWQgKyAnICcgKyBuYW1lICsgJyB7XFxuJyArIE9iamVjdC5rZXlzKGtleWZyYW1lUnVsZXMpLm1hcChmdW5jdGlvbiAocGVyY2VudGFnZSkge1xuICAgIHZhciBwcm9wcyA9IGtleWZyYW1lUnVsZXNbcGVyY2VudGFnZV07XG4gICAgdmFyIHByZWZpeGVkUHJvcHMgPSBQcmVmaXhlci5nZXRQcmVmaXhlZFN0eWxlKGNvbXBvbmVudCwgcHJvcHMsICdjc3MnKTtcbiAgICB2YXIgc2VyaWFsaXplZFByb3BzID0gY3JlYXRlTWFya3VwRm9yU3R5bGVzKHByZWZpeGVkUHJvcHMsICcgICcpO1xuICAgIHJldHVybiAnICAnICsgcGVyY2VudGFnZSArICcge1xcbiAgJyArIHNlcmlhbGl6ZWRQcm9wcyArICdcXG4gIH0nO1xuICB9KS5qb2luKCdcXG4nKSArICdcXG59XFxuJztcblxuICAvLyBmb3IgZmxvd1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAoIWFuaW1hdGlvblN0eWxlU2hlZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2tleWZyYW1lcyBub3QgaW5pdGlhbGl6ZWQgcHJvcGVybHknKTtcbiAgfVxuXG4gIGFuaW1hdGlvblN0eWxlU2hlZXQuc2hlZXQuaW5zZXJ0UnVsZShydWxlLCBhbmltYXRpb25TdHlsZVNoZWV0LnNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gIHJldHVybiBuYW1lO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBrZXlmcmFtZXM7IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NhbGxiYWNrcyA9IFtdO1xudmFyIF9tb3VzZVVwTGlzdGVuZXJJc0FjdGl2ZSA9IGZhbHNlO1xuXG52YXIgX2hhbmRsZU1vdXNlVXAgPSBmdW5jdGlvbiBfaGFuZGxlTW91c2VVcChldikge1xuICBfY2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2soZXYpO1xuICB9KTtcbn07XG5cbnZhciBzdWJzY3JpYmUgPSBmdW5jdGlvbiBzdWJzY3JpYmUoY2FsbGJhY2spIHtcbiAgaWYgKF9jYWxsYmFja3MuaW5kZXhPZihjYWxsYmFjaykgPT09IC0xKSB7XG4gICAgX2NhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgfVxuXG4gIGlmICghX21vdXNlVXBMaXN0ZW5lcklzQWN0aXZlKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBfaGFuZGxlTW91c2VVcCk7XG4gICAgX21vdXNlVXBMaXN0ZW5lcklzQWN0aXZlID0gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICB2YXIgaW5kZXggPSBfY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgX2NhbGxiYWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuXG4gICAgICBpZiAoX2NhbGxiYWNrcy5sZW5ndGggPT09IDAgJiYgX21vdXNlVXBMaXN0ZW5lcklzQWN0aXZlKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgX2hhbmRsZU1vdXNlVXApO1xuICAgICAgICBfbW91c2VVcExpc3RlbmVySXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc3Vic2NyaWJlOiBzdWJzY3JpYmVcbn07IiwiLyoqXG4gKiBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vanNzdHlsZXMvY3NzLXZlbmRvciwgYnV0IHdpdGhvdXQgaGF2aW5nIHRvXG4gKiBjb252ZXJ0IGJldHdlZW4gZGlmZmVyZW50IGNhc2VzIGFsbCB0aGUgdGltZS5cbiAqXG4gKiBcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJ2V4ZW52Jyk7XG52YXIgYXJyYXlGaW5kID0gcmVxdWlyZSgnYXJyYXktZmluZCcpO1xuXG52YXIgVkVORE9SX1BSRUZJWF9SRUdFWCA9IC8tKG1venx3ZWJraXR8bXN8byktLztcblxudmFyIHZlbmRvclByZWZpeGVzID0gWydXZWJraXQnLCAnbXMnLCAnTW96JywgJ08nXTtcblxudmFyIGluZm9CeUNzc1ByZWZpeCA9IHtcbiAgJy1tb3otJzoge1xuICAgIGNzc1ByZWZpeDogJy1tb3otJyxcbiAgICBqc1ByZWZpeDogJ01veicsXG4gICAgYWx0ZXJuYXRpdmVQcm9wZXJ0aWVzOiB7XG4gICAgICAvLyBPTEQgLSBGaXJlZm94IDE5LVxuICAgICAgYWxpZ25JdGVtczogW3sgY3NzOiAnLW1vei1ib3gtYWxpZ24nLCBqczogJ01vekJveEFsaWduJyB9XSxcbiAgICAgIGZsZXg6IFt7IGNzczogJy1tb3otYm94LWZsZXgnLCBqczogJ01vekJveEZsZXgnIH1dLFxuICAgICAgZmxleERpcmVjdGlvbjogW3sgY3NzOiAnLW1vei1ib3gtb3JpZW50JywganM6ICdNb3pCb3hPcmllbnQnIH1dLFxuICAgICAganVzdGlmeUNvbnRlbnQ6IFt7IGNzczogJy1tb3otYm94LXBhY2snLCBqczogJ01vekJveFBhY2snIH1dLFxuICAgICAgb3JkZXI6IFt7IGNzczogJy1tb3otYm94LW9yZGluYWwtZ3JvdXAnLCBqczogJ01vekJveE9yZGluYWxHcm91cCcgfV1cbiAgICB9LFxuICAgIGFsdGVybmF0aXZlVmFsdWVzOiB7XG4gICAgICAvLyBPTEQgLSBGaXJlZm94IDE5LVxuICAgICAgYWxpZ25JdGVtczoge1xuICAgICAgICAnZmxleC1zdGFydCc6IFsnc3RhcnQnXSxcbiAgICAgICAgJ2ZsZXgtZW5kJzogWydlbmQnXVxuICAgICAgfSxcbiAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgZmxleDogWyctbW96LWJveCddXG4gICAgICB9LFxuICAgICAgZmxleERpcmVjdGlvbjoge1xuICAgICAgICBjb2x1bW46IFsndmVydGljYWwnXSxcbiAgICAgICAgcm93OiBbJ2hvcml6b250YWwnXVxuICAgICAgfSxcbiAgICAgIGp1c3RpZnlDb250ZW50OiB7XG4gICAgICAgICdmbGV4LXN0YXJ0JzogWydzdGFydCddLFxuICAgICAgICAnZmxleC1lbmQnOiBbJ2VuZCddLFxuICAgICAgICAnc3BhY2UtYmV0d2Vlbic6IFsnanVzdGlmeSddXG4gICAgICB9XG4gICAgfVxuICB9LFxuICAnLW1zLSc6IHtcbiAgICBjc3NQcmVmaXg6ICctbXMtJyxcbiAgICBqc1ByZWZpeDogJ21zJyxcbiAgICBhbHRlcm5hdGl2ZVByb3BlcnRpZXM6IHtcbiAgICAgIC8vIFRXRUVORVIgLSBJRSAxMFxuICAgICAgYWxpZ25Db250ZW50OiBbeyBjc3M6ICctbXMtZmxleC1saW5lLXBhY2snLCBqczogJ21zRmxleExpbmVQYWNrJyB9XSxcbiAgICAgIGFsaWduSXRlbXM6IFt7IGNzczogJy1tcy1mbGV4LWFsaWduJywganM6ICdtc0ZsZXhBbGlnbicgfV0sXG4gICAgICBhbGlnblNlbGY6IFt7IGNzczogJy1tcy1mbGV4LWFsaWduLWl0ZW0nLCBqczogJ21zRmxleEFsaWduSXRlbScgfV0sXG4gICAgICBqdXN0aWZ5Q29udGVudDogW3sgY3NzOiAnLW1zLWZsZXgtcGFjaycsIGpzOiAnbXNGbGV4UGFjaycgfV0sXG4gICAgICBvcmRlcjogW3sgY3NzOiAnLW1zLWZsZXgtb3JkZXInLCBqczogJ21zRmxleE9yZGVyJyB9XVxuICAgIH0sXG4gICAgYWx0ZXJuYXRpdmVWYWx1ZXM6IHtcbiAgICAgIC8vIFRXRUVORVIgLSBJRSAxMFxuICAgICAgYWxpZ25Db250ZW50OiB7XG4gICAgICAgICdmbGV4LXN0YXJ0JzogWydzdGFydCddLFxuICAgICAgICAnZmxleC1lbmQnOiBbJ2VuZCddLFxuICAgICAgICAnc3BhY2UtYmV0d2Vlbic6IFsnanVzdGlmeSddLFxuICAgICAgICAnc3BhY2UtYXJvdW5kJzogWydkaXN0cmlidXRlJ11cbiAgICAgIH0sXG4gICAgICBhbGlnbkl0ZW1zOiB7XG4gICAgICAgICdmbGV4LXN0YXJ0JzogWydzdGFydCddLFxuICAgICAgICAnZmxleC1lbmQnOiBbJ2VuZCddXG4gICAgICB9LFxuICAgICAgYWxpZ25TZWxmOiB7XG4gICAgICAgICdmbGV4LXN0YXJ0JzogWydzdGFydCddLFxuICAgICAgICAnZmxleC1lbmQnOiBbJ2VuZCddXG4gICAgICB9LFxuICAgICAgZGlzcGxheToge1xuICAgICAgICBmbGV4OiBbJy1tcy1mbGV4Ym94J10sXG4gICAgICAgICdpbmxpbmUtZmxleCc6IFsnLW1zLWlubGluZS1mbGV4Ym94J11cbiAgICAgIH0sXG4gICAgICBqdXN0aWZ5Q29udGVudDoge1xuICAgICAgICAnZmxleC1zdGFydCc6IFsnc3RhcnQnXSxcbiAgICAgICAgJ2ZsZXgtZW5kJzogWydlbmQnXSxcbiAgICAgICAgJ3NwYWNlLWJldHdlZW4nOiBbJ2p1c3RpZnknXSxcbiAgICAgICAgJ3NwYWNlLWFyb3VuZCc6IFsnZGlzdHJpYnV0ZSddXG4gICAgICB9XG4gICAgfVxuICB9LFxuICAnLW8tJzoge1xuICAgIGNzc1ByZWZpeDogJy1vLScsXG4gICAganNQcmVmaXg6ICdPJ1xuICB9LFxuICAnLXdlYmtpdC0nOiB7XG4gICAgY3NzUHJlZml4OiAnLXdlYmtpdC0nLFxuICAgIGpzUHJlZml4OiAnV2Via2l0JyxcbiAgICBhbHRlcm5hdGl2ZVByb3BlcnRpZXM6IHtcbiAgICAgIC8vIE9MRCAtIGlPUyA2LSwgU2FmYXJpIDMuMS02XG4gICAgICBhbGlnbkl0ZW1zOiBbeyBjc3M6ICctd2Via2l0LWJveC1hbGlnbicsIGpzOiAnV2Via2l0Qm94QWxpZ24nIH1dLFxuICAgICAgZmxleDogW3sgY3NzOiAnLXdlYmtpdC1ib3gtZmxleCcsIGpzOiAnTW96Qm94RmxleCcgfV0sXG4gICAgICBmbGV4RGlyZWN0aW9uOiBbeyBjc3M6ICctd2Via2l0LWJveC1vcmllbnQnLCBqczogJ1dlYmtpdEJveE9yaWVudCcgfV0sXG4gICAgICBqdXN0aWZ5Q29udGVudDogW3sgY3NzOiAnLXdlYmtpdC1ib3gtcGFjaycsIGpzOiAnV2Via2l0Qm94UGFjaycgfV0sXG4gICAgICBvcmRlcjogW3sgY3NzOiAnLXdlYmtpdC1ib3gtb3JkaW5hbC1ncm91cCcsIGpzOiAnV2Via2l0Qm94T3JkaW5hbEdyb3VwJyB9XVxuICAgIH0sXG4gICAgYWx0ZXJuYXRpdmVWYWx1ZXM6IHtcbiAgICAgIC8vIE9MRCAtIGlPUyA2LSwgU2FmYXJpIDMuMS02XG4gICAgICBhbGlnbkl0ZW1zOiB7XG4gICAgICAgICdmbGV4LXN0YXJ0JzogWydzdGFydCddLFxuICAgICAgICAnZmxleC1lbmQnOiBbJ2VuZCddXG4gICAgICB9LFxuICAgICAgZGlzcGxheToge1xuICAgICAgICBmbGV4OiBbJy13ZWJraXQtYm94J11cbiAgICAgIH0sXG4gICAgICBmbGV4RGlyZWN0aW9uOiB7XG4gICAgICAgIHJvdzogWydob3Jpem9udGFsJ10sXG4gICAgICAgIGNvbHVtbjogWyd2ZXJ0aWNhbCddXG4gICAgICB9LFxuICAgICAganVzdGlmeUNvbnRlbnQ6IHtcbiAgICAgICAgJ2ZsZXgtc3RhcnQnOiBbJ3N0YXJ0J10sXG4gICAgICAgICdmbGV4LWVuZCc6IFsnZW5kJ10sXG4gICAgICAgICdzcGFjZS1iZXR3ZWVuJzogWydqdXN0aWZ5J11cbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogQ1NTIHByb3BlcnRpZXMgd2hpY2ggYWNjZXB0IG51bWJlcnMgYnV0IGFyZSBub3QgaW4gdW5pdHMgb2YgXCJweFwiLlxuICogQ29waWVkIGZyb20gUmVhY3QgY29yZSBKdW5lIDIyLCAyMDE1LlxuICogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2Jsb2IvXG4gKiBiYTgxYjYwYWQ4ZTkzYjc0N2JlNDJhMDNiNzk3MDY1OTMyYzQ5Yzk2L1xuICogc3JjL3JlbmRlcmVycy9kb20vc2hhcmVkL0NTU1Byb3BlcnR5LmpzXG4gKi9cbnZhciBpc1VuaXRsZXNzTnVtYmVyID0ge1xuICBib3hGbGV4OiB0cnVlLFxuICBib3hGbGV4R3JvdXA6IHRydWUsXG4gIGNvbHVtbkNvdW50OiB0cnVlLFxuICBmbGV4OiB0cnVlLFxuICBmbGV4R3JvdzogdHJ1ZSxcbiAgZmxleFBvc2l0aXZlOiB0cnVlLFxuICBmbGV4U2hyaW5rOiB0cnVlLFxuICBmbGV4TmVnYXRpdmU6IHRydWUsXG4gIGZvbnRXZWlnaHQ6IHRydWUsXG4gIGxpbmVDbGFtcDogdHJ1ZSxcbiAgbGluZUhlaWdodDogdHJ1ZSxcbiAgb3BhY2l0eTogdHJ1ZSxcbiAgb3JkZXI6IHRydWUsXG4gIG9ycGhhbnM6IHRydWUsXG4gIHRhYlNpemU6IHRydWUsXG4gIHdpZG93czogdHJ1ZSxcbiAgekluZGV4OiB0cnVlLFxuICB6b29tOiB0cnVlLFxuXG4gIC8vIFNWRy1yZWxhdGVkIHByb3BlcnRpZXNcbiAgZmlsbE9wYWNpdHk6IHRydWUsXG4gIHN0cm9rZURhc2hvZmZzZXQ6IHRydWUsXG4gIHN0cm9rZU9wYWNpdHk6IHRydWUsXG4gIHN0cm9rZVdpZHRoOiB0cnVlXG59O1xuXG52YXIgZG9tU3R5bGUgPSB7fTtcbnZhciBwcmVmaXhlZFByb3BlcnR5Q2FjaGUgPSB7fTtcbnZhciBwcmVmaXhlZFZhbHVlQ2FjaGUgPSB7fTtcbnZhciBwcmVmaXhJbmZvID0ge1xuICBjc3NQcmVmaXg6ICcnLFxuICBqc1ByZWZpeDogJydcbn07XG5cbmlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgZG9tU3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJykuc3R5bGU7XG5cbiAgLy8gb2xkZXIgRmlyZWZveCB2ZXJzaW9ucyBtYXkgaGF2ZSBubyBmbG9hdCBwcm9wZXJ0eSBpbiBzdHlsZSBvYmplY3RcbiAgLy8gc28gd2UgbmVlZCB0byBhZGQgaXQgbWFudWFsbHlcbiAgaWYgKGRvbVN0eWxlLmZsb2F0ID09PSB1bmRlZmluZWQpIHtcbiAgICBkb21TdHlsZS5mbG9hdCA9ICcnO1xuICB9XG5cbiAgLy8gQmFzZWQgb24gaHR0cDovL2Rhdmlkd2Fsc2gubmFtZS92ZW5kb3ItcHJlZml4XG4gIHZhciBwcmVmaXhNYXRjaDtcbiAgdmFyIHdpbmRvd1N0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgJycpO1xuXG4gIC8vIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHdpbmRvd1N0eWxlcykgZmFpbHMgd2l0aFxuICAvLyBcIlVuY2F1Z2h0IFR5cGVFcnJvcjogdW5kZWZpbmVkIGlzIG5vdCBhIGZ1bmN0aW9uXCJcbiAgLy8gaW4gb2xkZXIgdmVyc2lvbnMgQW5kcm9pZCAoS2l0S2F0KSB3ZWIgdmlld3NcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB3aW5kb3dTdHlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICBwcmVmaXhNYXRjaCA9IHdpbmRvd1N0eWxlc1tpXS5tYXRjaChWRU5ET1JfUFJFRklYX1JFR0VYKTtcblxuICAgIGlmIChwcmVmaXhNYXRjaCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdmFyIGNzc1ZlbmRvclByZWZpeCA9IHByZWZpeE1hdGNoICYmIHByZWZpeE1hdGNoWzBdO1xuXG4gIHByZWZpeEluZm8gPSBjc3NWZW5kb3JQcmVmaXggJiYgaW5mb0J5Q3NzUHJlZml4W2Nzc1ZlbmRvclByZWZpeF0gPyBpbmZvQnlDc3NQcmVmaXhbY3NzVmVuZG9yUHJlZml4XSA6IHByZWZpeEluZm87XG59XG5cbnZhciBfY2FtZWxDYXNlUmVnZXggPSAvKFthLXpdKT8oW0EtWl0pL2c7XG52YXIgX2NhbWVsQ2FzZVJlcGxhY2VyID0gZnVuY3Rpb24gX2NhbWVsQ2FzZVJlcGxhY2VyKG1hdGNoLCBwMSwgcDIpIHtcbiAgcmV0dXJuIHAxICsgJy0nICsgcDIudG9Mb3dlckNhc2UoKTtcbn07XG52YXIgX2NhbWVsQ2FzZVRvRGFzaENhc2UgPSBmdW5jdGlvbiBfY2FtZWxDYXNlVG9EYXNoQ2FzZShzKSB7XG4gIHJldHVybiBzLnJlcGxhY2UoX2NhbWVsQ2FzZVJlZ2V4LCBfY2FtZWxDYXNlUmVwbGFjZXIpO1xufTtcblxudmFyIGdldFByZWZpeGVkUHJvcGVydHlOYW1lID0gZnVuY3Rpb24gZ2V0UHJlZml4ZWRQcm9wZXJ0eU5hbWUocHJvcGVydHkpIHtcbiAgaWYgKHByZWZpeGVkUHJvcGVydHlDYWNoZS5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcbiAgICByZXR1cm4gcHJlZml4ZWRQcm9wZXJ0eUNhY2hlW3Byb3BlcnR5XTtcbiAgfVxuXG4gIHZhciB1bnByZWZpeGVkID0ge1xuICAgIGNzczogX2NhbWVsQ2FzZVRvRGFzaENhc2UocHJvcGVydHkpLFxuICAgIGpzOiBwcm9wZXJ0eSxcbiAgICBpc0RlZmF1bHRGb3JTZXJ2ZXI6IHRydWVcbiAgfTtcblxuICAvLyBUcnkgdGhlIHByZWZpeGVkIHZlcnNpb24gZmlyc3QuIENocm9tZSBpbiBwYXJ0aWN1bGFyIGhhcyB0aGUgYGZpbHRlcmAgYW5kXG4gIC8vIGB3ZWJraXRGaWx0ZXJgIHByb3BlcnRpZXMgYXZhaWxhbGJlIG9uIHRoZSBzdHlsZSBvYmplY3QsIGJ1dCBvbmx5IHRoZVxuICAvLyBwcmVmaXhlZCB2ZXJzaW9uIGFjdHVhbGx5IHdvcmtzLlxuICB2YXIgcG9zc2libGVQcm9wZXJ0eU5hbWVzID0gW1xuICAvLyBQcmVmaXhlZFxuICB7XG4gICAgY3NzOiBwcmVmaXhJbmZvLmNzc1ByZWZpeCArIF9jYW1lbENhc2VUb0Rhc2hDYXNlKHByb3BlcnR5KSxcbiAgICBqczogcHJlZml4SW5mby5qc1ByZWZpeCArIHByb3BlcnR5WzBdLnRvVXBwZXJDYXNlKCkgKyBwcm9wZXJ0eS5zbGljZSgxKVxuICB9LCB1bnByZWZpeGVkXTtcblxuICAvLyBBbHRlcm5hdGl2ZSBwcm9wZXJ0eSBuYW1lc1xuICBpZiAocHJlZml4SW5mby5hbHRlcm5hdGl2ZVByb3BlcnRpZXMgJiYgcHJlZml4SW5mby5hbHRlcm5hdGl2ZVByb3BlcnRpZXNbcHJvcGVydHldKSB7XG4gICAgcG9zc2libGVQcm9wZXJ0eU5hbWVzID0gcG9zc2libGVQcm9wZXJ0eU5hbWVzLmNvbmNhdChwcmVmaXhJbmZvLmFsdGVybmF0aXZlUHJvcGVydGllc1twcm9wZXJ0eV0pO1xuICB9XG5cbiAgdmFyIHdvcmtpbmdQcm9wZXJ0eSA9IGFycmF5RmluZChwb3NzaWJsZVByb3BlcnR5TmFtZXMsIGZ1bmN0aW9uIChwb3NzaWJsZVByb3BlcnR5TmFtZSkge1xuICAgIGlmIChwb3NzaWJsZVByb3BlcnR5TmFtZS5qcyBpbiBkb21TdHlsZSkge1xuICAgICAgcmV0dXJuIHBvc3NpYmxlUHJvcGVydHlOYW1lO1xuICAgIH1cbiAgfSkgfHwgZmFsc2U7XG5cbiAgcmV0dXJuIHByZWZpeGVkUHJvcGVydHlDYWNoZVtwcm9wZXJ0eV0gPSB3b3JraW5nUHJvcGVydHk7XG59O1xuXG4vLyBXZSBhcmUgdW4tcHJlZml4aW5nIHZhbHVlcyBiZWZvcmUgY2hlY2tpbmcgZm9yIGlzVW5pdGxlc3NOdW1iZXIsXG4vLyBvdGhlcndpc2Ugd2UgYXJlIGF0IHJpc2sgb2YgYmVpbmcgaW4gYSBzaXR1YXRpb24gd2hlcmUgc29tZW9uZVxuLy8gZXhwbGljaXRseSBwYXNzZXMgc29tZXRoaW5nIGxpa2UgYE1vekJveEZsZXg6IDFgIGFuZCB0aGF0IHdpbGxcbi8vIGluIHR1cm4gZ2V0IHRyYW5zZm9ybWVkIGludG8gYE1vekJveEZsZXg6IDFweGAuXG52YXIgX2dldFVucHJlZml4ZWRQcm9wZXJ0eSA9IGZ1bmN0aW9uIF9nZXRVbnByZWZpeGVkUHJvcGVydHkocHJvcGVydHkpIHtcbiAgdmFyIG5vUHJlZml4UHJvcGVydHkgPSBwcm9wZXJ0eTtcblxuICB2ZW5kb3JQcmVmaXhlcy5zb21lKGZ1bmN0aW9uIChwcmVmaXgpIHtcbiAgICAvLyBMZXQncyBjaGVjayBpZiB0aGUgcHJvcGVydHkgc3RhcnRzIHdpdGggYSB2ZW5kb3IgcHJlZml4XG4gICAgaWYgKHByb3BlcnR5LmluZGV4T2YocHJlZml4KSA9PT0gMCkge1xuICAgICAgbm9QcmVmaXhQcm9wZXJ0eSA9IG5vUHJlZml4UHJvcGVydHkucmVwbGFjZShwcmVmaXgsICcnKTtcblxuICAgICAgLy8gV2UgaGF2ZSByZW1vdmVkIHRoZSB2ZW5kb3IgcHJlZml4LCBob3dldmVyIHRoZSBmaXJzdFxuICAgICAgLy8gY2hhcmFjdGVyIGlzIGdvaW5nIHRvIGJlIHVwcGVyY2FzZSBoZW5jZSB3b24ndCBtYXRjaFxuICAgICAgLy8gYW55IG9mIHRoZSBgaXNVbml0bGVzc051bWJlcmAga2V5cyBhcyB0aGV5IGFsbCBzdGFydFxuICAgICAgLy8gd2l0aCBsb3dlciBjYXNlLiBMZXQncyBlbnN1cmUgdGhhdCB0aGUgZmlyc3QgY2hhciBpc1xuICAgICAgLy8gbG93ZXIgY2FzZS5cbiAgICAgIG5vUHJlZml4UHJvcGVydHkgPSBub1ByZWZpeFByb3BlcnR5LmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgbm9QcmVmaXhQcm9wZXJ0eS5zbGljZSgxKTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gbm9QcmVmaXhQcm9wZXJ0eTtcbn07XG5cbi8vIFJlYWN0IGlzIHBsYW5uaW5nIHRvIGRlcHJlY2F0ZSBhZGRpbmcgcHggYXV0b21hdGljYWxseVxuLy8gKGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTg3MyksIGFuZCBpZiB0aGV5IGRvLCB0aGlzXG4vLyBzaG91bGQgY2hhbmdlIHRvIGEgd2FybmluZyBvciBiZSByZW1vdmVkIGluIGZhdm9yIG9mIFJlYWN0J3Mgd2FybmluZy5cbi8vIFNhbWUgZ29lcyBmb3IgYmVsb3cuXG52YXIgX2FkZFBpeGVsU3VmZml4VG9WYWx1ZUlmTmVlZGVkID0gZnVuY3Rpb24gX2FkZFBpeGVsU3VmZml4VG9WYWx1ZUlmTmVlZGVkKG9yaWdpbmFsUHJvcGVydHksIHZhbHVlKSB7XG4gIHZhciB1blByZWZpeGVkUHJvcGVydHkgPSBfZ2V0VW5wcmVmaXhlZFByb3BlcnR5KG9yaWdpbmFsUHJvcGVydHkpO1xuXG4gIGlmICh2YWx1ZSAhPT0gMCAmJiAhaXNOYU4odmFsdWUpICYmICFpc1VuaXRsZXNzTnVtYmVyW3VuUHJlZml4ZWRQcm9wZXJ0eV0pIHtcbiAgICByZXR1cm4gdmFsdWUgKyAncHgnO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn07XG5cbnZhciBfZ2V0UHJlZml4ZWRWYWx1ZSA9IGZ1bmN0aW9uIF9nZXRQcmVmaXhlZFZhbHVlKGNvbXBvbmVudCwgcHJvcGVydHksIHZhbHVlLCBvcmlnaW5hbFByb3BlcnR5KSB7XG4gIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAvLyBkb24ndCB0ZXN0IG51bWJlcnMgKHB1cmUgb3Igc3RyaW5neSksIGJ1dCBkbyBhZGQgJ3B4JyBwcmVmaXggaWYgbmVlZGVkXG4gICAgaWYgKCFpc05hTih2YWx1ZSkgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgIHJldHVybiBfYWRkUGl4ZWxTdWZmaXhUb1ZhbHVlSWZOZWVkZWQob3JpZ2luYWxQcm9wZXJ0eSwgdmFsdWUpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZG9uJ3QgdGVzdCBudW1iZXJzIHdpdGggdW5pdHMgKGUuZy4gMTBlbSlcbiAgICBpZiAoIWlzTmFOKHBhcnNlSW50KHZhbHVlLCAxMCkpKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgdmFyIGNhY2hlS2V5ID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5qb2luKCcgfHwgJykgOiBwcm9wZXJ0eSArIHZhbHVlO1xuXG4gIGlmIChwcmVmaXhlZFZhbHVlQ2FjaGUuaGFzT3duUHJvcGVydHkoY2FjaGVLZXkpKSB7XG4gICAgcmV0dXJuIHByZWZpeGVkVmFsdWVDYWNoZVtjYWNoZUtleV07XG4gIH1cblxuICB2YXIgcG9zc2libGVWYWx1ZXM7XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIC8vIEFkZCBweCBmb3IgdGhlIHNhbWUgdmFsdWVzIFJlYWN0IHdvdWxkLCBvdGhlcndpc2UgdGhlIHRlc3RpbmcgYmVsb3cgd2lsbFxuICAgIC8vIGZhaWwgYW5kIGl0IHdpbGwgdHJ5IHRvIGZhbGxiYWNrLlxuICAgIHBvc3NpYmxlVmFsdWVzID0gdmFsdWUubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICByZXR1cm4gX2FkZFBpeGVsU3VmZml4VG9WYWx1ZUlmTmVlZGVkKG9yaWdpbmFsUHJvcGVydHksIHYpO1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIHByZWZpeGVkIHZlcnNpb25zXG4gICAgcG9zc2libGVWYWx1ZXMgPSBwb3NzaWJsZVZhbHVlcy5jb25jYXQodmFsdWUuZmlsdGVyKGZ1bmN0aW9uICh2KSB7XG4gICAgICByZXR1cm4gIWlzTmFOKHYpO1xuICAgIH0pIC8vIERvbid0IHByZWZpeCBudW1iZXJzXG4gICAgLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgcmV0dXJuIHByZWZpeEluZm8uY3NzUHJlZml4ICsgdjtcbiAgICB9KSk7XG4gIH0gZWxzZSB7XG4gICAgcG9zc2libGVWYWx1ZXMgPSBbXG4gICAgLy8gVW5wcmVmaXhlZFxuICAgIHZhbHVlLFxuICAgIC8vIFByZWZpeGVkXG4gICAgcHJlZml4SW5mby5jc3NQcmVmaXggKyB2YWx1ZV07XG4gIH1cblxuICAvLyBBbHRlcm5hdGl2ZSB2YWx1ZXNcbiAgaWYgKHByZWZpeEluZm8uYWx0ZXJuYXRpdmVWYWx1ZXMgJiYgcHJlZml4SW5mby5hbHRlcm5hdGl2ZVZhbHVlc1tvcmlnaW5hbFByb3BlcnR5XSAmJiBwcmVmaXhJbmZvLmFsdGVybmF0aXZlVmFsdWVzW29yaWdpbmFsUHJvcGVydHldW3ZhbHVlXSkge1xuICAgIHBvc3NpYmxlVmFsdWVzID0gcG9zc2libGVWYWx1ZXMuY29uY2F0KHByZWZpeEluZm8uYWx0ZXJuYXRpdmVWYWx1ZXNbb3JpZ2luYWxQcm9wZXJ0eV1bdmFsdWVdKTtcbiAgfVxuXG4gIC8vIFRlc3QgcG9zc2libGUgdmFsdWUgaW4gb3JkZXJcbiAgdmFyIHdvcmtpbmdWYWx1ZSA9IGFycmF5RmluZChwb3NzaWJsZVZhbHVlcywgZnVuY3Rpb24gKHBvc3NpYmxlVmFsdWUpIHtcbiAgICBkb21TdHlsZVtwcm9wZXJ0eV0gPSAnJztcbiAgICBkb21TdHlsZVtwcm9wZXJ0eV0gPSBwb3NzaWJsZVZhbHVlO1xuXG4gICAgLy8gTm90ZSB0aGF0IHdlIGp1c3QgbWFrZSBzdXJlIGl0IGlzIG5vdCBhbiBlbXB0eSBzdHJpbmcuIEJyb3dzZXJzIHdpbGxcbiAgICAvLyBzb21ldGltZXMgcmV3cml0ZSB2YWx1ZXMsIGJ1dCBzdGlsbCBhY2NlcHQgdGhlbS4gVGhleSB3aWxsIHNldCB0aGUgdmFsdWVcbiAgICAvLyB0byBhbiBlbXB0eSBzdHJpbmcgaWYgbm90IHN1cHBvcnRlZC5cbiAgICAvLyBFLmcuIGZvciBib3JkZXIsIFwic29saWQgMXB4IGJsYWNrXCIgYmVjb21lcyBcIjFweCBzb2xpZCBibGFja1wiXG4gICAgLy8gICAgICBidXQgXCJmb29iYXJcIiBiZWNvbWVzIFwiXCIsIHNpbmNlIGl0IGlzIG5vdCBzdXBwb3J0ZWQuXG4gICAgcmV0dXJuICEhZG9tU3R5bGVbcHJvcGVydHldO1xuICB9KTtcblxuICBpZiAod29ya2luZ1ZhbHVlKSB7XG4gICAgcHJlZml4ZWRWYWx1ZUNhY2hlW2NhY2hlS2V5XSA9IHdvcmtpbmdWYWx1ZTtcbiAgfSBlbHNlIHtcbiAgICAvLyBVbnN1cHBvcnRlZCwgYXNzdW1lIHVucHJlZml4ZWQgd29ya3MsIGJ1dCB3YXJuXG4gICAgcHJlZml4ZWRWYWx1ZUNhY2hlW2NhY2hlS2V5XSA9IHZhbHVlO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgIGlmIChjb25zb2xlICYmIGNvbnNvbGUud2Fybikge1xuICAgICAgICB2YXIgY29tcG9uZW50Q29udGV4dCA9IGNvbXBvbmVudCA/ICcgaW4gY29tcG9uZW50IFwiJyArIGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSArICdcIicgOiAnJztcblxuICAgICAgICBjb25zb2xlLndhcm4oJ1Vuc3VwcG9ydGVkIENTUyB2YWx1ZSBcIicgKyB2YWx1ZSArICdcIiBmb3IgcHJvcGVydHkgXCInICsgcHJvcGVydHkgKyAnJFwiJyArIGNvbXBvbmVudENvbnRleHQpO1xuICAgICAgfVxuICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHByZWZpeGVkVmFsdWVDYWNoZVtjYWNoZUtleV07XG59O1xuXG4vLyBSZXR1cm5zIGEgbmV3IHN0eWxlIG9iamVjdCB3aXRoIHZlbmRvciBwcmVmaXhlcyBhZGRlZCB0byBwcm9wZXJ0eSBuYW1lc1xuLy8gYW5kIHZhbHVlcy5cbnZhciBnZXRQcmVmaXhlZFN0eWxlID0gZnVuY3Rpb24gZ2V0UHJlZml4ZWRTdHlsZShjb21wb25lbnQsIC8vIFJlYWN0Q29tcG9uZW50XG5zdHlsZSkge1xuICB2YXIgbW9kZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/ICdqcycgOiBhcmd1bWVudHNbMl07XG5cbiAgaWYgKCFFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoc3R5bGUpLnJlZHVjZShmdW5jdGlvbiAobmV3U3R5bGUsIGtleSkge1xuICAgICAgdmFyIHZhbHVlID0gc3R5bGVba2V5XTtcbiAgICAgIHZhciBuZXdLZXkgPSBtb2RlID09PSAnY3NzJyA/IF9jYW1lbENhc2VUb0Rhc2hDYXNlKGtleSkgOiBrZXk7XG4gICAgICB2YXIgbmV3VmFsdWUgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlWzBdIDogdmFsdWU7XG4gICAgICBuZXdTdHlsZVtuZXdLZXldID0gbmV3VmFsdWU7XG4gICAgICByZXR1cm4gbmV3U3R5bGU7XG4gICAgfSwge30pO1xuICB9XG5cbiAgdmFyIHByZWZpeGVkU3R5bGUgPSB7fTtcbiAgT2JqZWN0LmtleXMoc3R5bGUpLmZvckVhY2goZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgdmFyIHZhbHVlID0gc3R5bGVbcHJvcGVydHldO1xuXG4gICAgdmFyIG5ld1Byb3BlcnR5ID0gZ2V0UHJlZml4ZWRQcm9wZXJ0eU5hbWUocHJvcGVydHkpO1xuICAgIGlmIChuZXdQcm9wZXJ0eSA9PT0gZmFsc2UpIHtcbiAgICAgIC8vIElnbm9yZSB1bnN1cHBvcnRlZCBwcm9wZXJ0aWVzXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gICAgICAgIGlmIChjb25zb2xlICYmIGNvbnNvbGUud2Fybikge1xuICAgICAgICAgIHZhciBjb21wb25lbnRDb250ZXh0ID0gY29tcG9uZW50ID8gJyBpbiBjb21wb25lbnQgXCInICsgY29tcG9uZW50LmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lICsgJ1wiJyA6ICcnO1xuXG4gICAgICAgICAgY29uc29sZS53YXJuKCdVbnN1cHBvcnRlZCBDU1MgcHJvcGVydHkgXCInICsgcHJvcGVydHkgKyAnJFwiJyArIGNvbXBvbmVudENvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG5ld1ZhbHVlID0gX2dldFByZWZpeGVkVmFsdWUoY29tcG9uZW50LCBuZXdQcm9wZXJ0eS5qcywgdmFsdWUsIHByb3BlcnR5KTtcblxuICAgIHByZWZpeGVkU3R5bGVbbmV3UHJvcGVydHlbbW9kZV1dID0gbmV3VmFsdWU7XG4gIH0pO1xuICByZXR1cm4gcHJlZml4ZWRTdHlsZTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBnZXRQcmVmaXhlZFByb3BlcnR5TmFtZTogZ2V0UHJlZml4ZWRQcm9wZXJ0eU5hbWUsXG4gIGdldFByZWZpeGVkU3R5bGU6IGdldFByZWZpeGVkU3R5bGUsXG4gIGNzc1ByZWZpeDogcHJlZml4SW5mby5jc3NQcmVmaXgsXG4gIGpzUHJlZml4OiBwcmVmaXhJbmZvLmpzUHJlZml4XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgYWxsUHJpbnRTdHlsZXMgPSB7fTtcbnZhciBsaXN0ZW5lcnMgPSBbXTtcblxudmFyIHN1YnNjcmliZSA9IGZ1bmN0aW9uIHN1YnNjcmliZShsaXN0ZW5lcikge1xuICBpZiAobGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpID09PSAtMSkge1xuICAgIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICB2YXIgbGlzdGVuZXJJbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcblxuICAgICAgaWYgKGxpc3RlbmVySW5kZXggPiAtMSkge1xuICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGxpc3RlbmVySW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn07XG5cbnZhciBfZW1pdENoYW5nZSA9IGZ1bmN0aW9uIF9lbWl0Q2hhbmdlKCkge1xuICBsaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICByZXR1cm4gbGlzdGVuZXIoKTtcbiAgfSk7XG59O1xuXG52YXIgX2FwcGVuZEltcG9ydGFudFRvRWFjaFZhbHVlID0gZnVuY3Rpb24gX2FwcGVuZEltcG9ydGFudFRvRWFjaFZhbHVlKHN0eWxlT2JqKSB7XG4gIHZhciBpbXBvcnRhbnRTdHlsZU9iaiA9IHt9O1xuXG4gIE9iamVjdC5rZXlzKHN0eWxlT2JqKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgdmFsdWUgPSBzdHlsZU9ialtrZXldO1xuXG4gICAgLy8gVGhpcyBicmVha3MgdW5pdGxlc3MgdmFsdWVzIGJ1dCB0aGV5J2xsIGJlIGRlcHJlY2F0ZWQgc29vbiBhbnl3YXlcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzE4NzNcbiAgICB2YWx1ZSA9IHZhbHVlICsgXCIgIWltcG9ydGFudFwiO1xuICAgIGltcG9ydGFudFN0eWxlT2JqW2tleV0gPSB2YWx1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGltcG9ydGFudFN0eWxlT2JqO1xufTtcblxudmFyIGFkZFByaW50U3R5bGVzID0gZnVuY3Rpb24gYWRkUHJpbnRTdHlsZXMoQ29tcG9uZW50KSB7XG4gIGlmICghQ29tcG9uZW50LnByaW50U3R5bGVzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHByaW50U3R5bGVDbGFzcyA9IHt9O1xuXG4gIE9iamVjdC5rZXlzKENvbXBvbmVudC5wcmludFN0eWxlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHN0eWxlcyA9IENvbXBvbmVudC5wcmludFN0eWxlc1trZXldO1xuICAgIHZhciBjbGFzc05hbWUgPSBcIlJhZGl1bS1cIiArIENvbXBvbmVudC5kaXNwbGF5TmFtZSArIFwiLVwiICsga2V5O1xuICAgIGFsbFByaW50U3R5bGVzW1wiLlwiICsgY2xhc3NOYW1lXSA9IF9hcHBlbmRJbXBvcnRhbnRUb0VhY2hWYWx1ZShzdHlsZXMpO1xuICAgIHByaW50U3R5bGVDbGFzc1trZXldID0gY2xhc3NOYW1lO1xuICB9KTtcblxuICAvLyBBbGxvd3MgZm9yIGxhenkgbG9hZGluZyBvZiBKUyB0aGF0IHRoZW4gY2FsbHMgUmFkaXVtIHRvIHVwZGF0ZSB0aGVcbiAgLy8gcHJpbnQgc3R5bGVzXG4gIF9lbWl0Q2hhbmdlKCk7XG4gIHJldHVybiBwcmludFN0eWxlQ2xhc3M7XG59O1xuXG52YXIgZ2V0UHJpbnRTdHlsZXMgPSBmdW5jdGlvbiBnZXRQcmludFN0eWxlcygpIHtcbiAgcmV0dXJuIGFsbFByaW50U3R5bGVzO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGFkZFByaW50U3R5bGVzOiBhZGRQcmludFN0eWxlcyxcbiAgZ2V0UHJpbnRTdHlsZXM6IGdldFByaW50U3R5bGVzLFxuICBzdWJzY3JpYmU6IHN1YnNjcmliZVxufTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBNb3VzZVVwTGlzdGVuZXIgPSByZXF1aXJlKCcuL21vdXNlLXVwLWxpc3RlbmVyJyk7XG52YXIgZ2V0U3RhdGUgPSByZXF1aXJlKCcuL2dldC1zdGF0ZScpO1xudmFyIGdldFN0YXRlS2V5ID0gcmVxdWlyZSgnLi9nZXQtc3RhdGUta2V5Jyk7XG52YXIgUHJlZml4ZXIgPSByZXF1aXJlKCcuL3ByZWZpeGVyJyk7XG52YXIgQ29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcnKTtcblxudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZXhlbnYnKTtcbnZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpO1xuXG4vLyBiYWJlbC1lc2xpbnQgMy4xLjcgZmFpbHMgaGVyZSBmb3Igc29tZSByZWFzb24sIGVycm9yOlxuLy8gICAwOjAgIGVycm9yICBDYW5ub3QgY2FsbCBtZXRob2QgJ2lzU2VxdWVuY2VFeHByZXNzaW9uJyBvZiB1bmRlZmluZWRcbi8vXG4vLyBkZWNsYXJlIGNsYXNzIFJhZGl1bUNvbXBvbmVudCBleHRlbmRzIFJlYWN0Q29tcG9uZW50IHtcbi8vICAgX2xhc3RNb3VzZURvd246IG51bWJlcixcbi8vICAgX3JhZGl1bU1lZGlhUXVlcnlMaXN0ZW5lcnNCeVF1ZXJ5OiBPYmplY3Q8c3RyaW5nLCB7cmVtb3ZlOiAoKSA9PiB2b2lkfT4sXG4vLyAgIF9yYWRpdW1Nb3VzZVVwTGlzdGVuZXI6IHtyZW1vdmU6ICgpID0+IHZvaWR9LFxuLy8gfVxuXG52YXIgbWVkaWFRdWVyeUxpc3RCeVF1ZXJ5U3RyaW5nID0ge307XG5cbnZhciBfaXNTcGVjaWFsS2V5ID0gZnVuY3Rpb24gX2lzU3BlY2lhbEtleShrZXkpIHtcbiAgcmV0dXJuIGtleVswXSA9PT0gJzonIHx8IGtleVswXSA9PT0gJ0AnO1xufTtcblxudmFyIF9nZXRTdHlsZVN0YXRlID0gZnVuY3Rpb24gX2dldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksIHZhbHVlKSB7XG4gIHJldHVybiBnZXRTdGF0ZShjb21wb25lbnQuc3RhdGUsIGtleSwgdmFsdWUpO1xufTtcblxudmFyIF9zZXRTdHlsZVN0YXRlID0gZnVuY3Rpb24gX3NldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksIG5ld1N0YXRlKSB7XG4gIHZhciBleGlzdGluZyA9IGNvbXBvbmVudC5fbGFzdFJhZGl1bVN0YXRlIHx8IGNvbXBvbmVudC5zdGF0ZSAmJiBjb21wb25lbnQuc3RhdGUuX3JhZGl1bVN0eWxlU3RhdGUgfHwge307XG5cbiAgdmFyIHN0YXRlID0geyBfcmFkaXVtU3R5bGVTdGF0ZTogX2V4dGVuZHMoe30sIGV4aXN0aW5nKSB9O1xuICBzdGF0ZS5fcmFkaXVtU3R5bGVTdGF0ZVtrZXldID0gX2V4dGVuZHMoe30sIHN0YXRlLl9yYWRpdW1TdHlsZVN0YXRlW2tleV0sIG5ld1N0YXRlKTtcblxuICBjb21wb25lbnQuX2xhc3RSYWRpdW1TdGF0ZSA9IHN0YXRlLl9yYWRpdW1TdHlsZVN0YXRlO1xuICBjb21wb25lbnQuc2V0U3RhdGUoc3RhdGUpO1xufTtcblxuLy8gTWVyZ2Ugc3R5bGUgb2JqZWN0cy4gU3BlY2lhbCBjYXNpbmcgZm9yIHByb3BzIHN0YXJ0aW5nIHdpdGggJzsnOyB0aGUgdmFsdWVzXG4vLyBzaG91bGQgYmUgb2JqZWN0cywgYW5kIGFyZSBtZXJnZWQgd2l0aCBvdGhlcnMgb2YgdGhlIHNhbWUgbmFtZSAoaW5zdGVhZCBvZlxuLy8gb3ZlcndyaXRpbmcpLlxudmFyIF9tZXJnZVN0eWxlcyA9IGZ1bmN0aW9uIF9tZXJnZVN0eWxlcyhzdHlsZXMpIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gIHN0eWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChzdHlsZSkge1xuICAgIGlmICghc3R5bGUgfHwgdHlwZW9mIHN0eWxlICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KHN0eWxlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIE9iamVjdC5rZXlzKHN0eWxlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmIChfaXNTcGVjaWFsS2V5KGtleSkgJiYgcmVzdWx0W2tleV0pIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSBfbWVyZ2VTdHlsZXMoW3Jlc3VsdFtrZXldLCBzdHlsZVtrZXldXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRba2V5XSA9IHN0eWxlW2tleV07XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG52YXIgX21vdXNlVXAgPSBmdW5jdGlvbiBfbW91c2VVcChjb21wb25lbnQpIHtcbiAgT2JqZWN0LmtleXMoY29tcG9uZW50LnN0YXRlLl9yYWRpdW1TdHlsZVN0YXRlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoX2dldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksICc6YWN0aXZlJykpIHtcbiAgICAgIF9zZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCB7ICc6YWN0aXZlJzogZmFsc2UgfSk7XG4gICAgfVxuICB9KTtcbn07XG5cbnZhciBfb25NZWRpYVF1ZXJ5Q2hhbmdlID0gZnVuY3Rpb24gX29uTWVkaWFRdWVyeUNoYW5nZShjb21wb25lbnQsIHF1ZXJ5LCBtZWRpYVF1ZXJ5TGlzdCkge1xuICB2YXIgc3RhdGUgPSB7fTtcbiAgc3RhdGVbcXVlcnldID0gbWVkaWFRdWVyeUxpc3QubWF0Y2hlcztcbiAgX3NldFN0eWxlU3RhdGUoY29tcG9uZW50LCAnX2FsbCcsIHN0YXRlKTtcbn07XG5cbnZhciBfcmVzb2x2ZU1lZGlhUXVlcnlTdHlsZXMgPSBmdW5jdGlvbiBfcmVzb2x2ZU1lZGlhUXVlcnlTdHlsZXMoY29tcG9uZW50LCBzdHlsZSkge1xuICBpZiAoIUNvbmZpZy5jYW5NYXRjaE1lZGlhKCkpIHtcbiAgICByZXR1cm4gc3R5bGU7XG4gIH1cblxuICBPYmplY3Qua2V5cyhzdHlsZSkuZmlsdGVyKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuIG5hbWVbMF0gPT09ICdAJztcbiAgfSkubWFwKGZ1bmN0aW9uIChxdWVyeSkge1xuICAgIHZhciBtZWRpYVF1ZXJ5U3R5bGVzID0gc3R5bGVbcXVlcnldO1xuICAgIHF1ZXJ5ID0gcXVlcnkucmVwbGFjZSgnQG1lZGlhICcsICcnKTtcblxuICAgIC8vIENyZWF0ZSBhIGdsb2JhbCBNZWRpYVF1ZXJ5TGlzdCBpZiBvbmUgZG9lc24ndCBhbHJlYWR5IGV4aXN0XG4gICAgdmFyIG1xbCA9IG1lZGlhUXVlcnlMaXN0QnlRdWVyeVN0cmluZ1txdWVyeV07XG4gICAgaWYgKCFtcWwpIHtcbiAgICAgIG1lZGlhUXVlcnlMaXN0QnlRdWVyeVN0cmluZ1txdWVyeV0gPSBtcWwgPSBDb25maWcubWF0Y2hNZWRpYShxdWVyeSk7XG4gICAgfVxuXG4gICAgLy8gS2VlcCB0cmFjayBvZiB3aGljaCBrZXlzIGFscmVhZHkgaGF2ZSBsaXN0ZW5lcnNcbiAgICBpZiAoIWNvbXBvbmVudC5fcmFkaXVtTWVkaWFRdWVyeUxpc3RlbmVyc0J5UXVlcnkpIHtcbiAgICAgIGNvbXBvbmVudC5fcmFkaXVtTWVkaWFRdWVyeUxpc3RlbmVyc0J5UXVlcnkgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoIWNvbXBvbmVudC5fcmFkaXVtTWVkaWFRdWVyeUxpc3RlbmVyc0J5UXVlcnlbcXVlcnldKSB7XG4gICAgICB2YXIgbGlzdGVuZXIgPSBfb25NZWRpYVF1ZXJ5Q2hhbmdlLmJpbmQobnVsbCwgY29tcG9uZW50LCBxdWVyeSk7XG4gICAgICBtcWwuYWRkTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgICAgY29tcG9uZW50Ll9yYWRpdW1NZWRpYVF1ZXJ5TGlzdGVuZXJzQnlRdWVyeVtxdWVyeV0gPSB7XG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgICAgIG1xbC5yZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gQXBwbHkgbWVkaWEgcXVlcnkgc3RhdGVzXG4gICAgaWYgKG1xbC5tYXRjaGVzKSB7XG4gICAgICBzdHlsZSA9IF9tZXJnZVN0eWxlcyhbc3R5bGUsIG1lZGlhUXVlcnlTdHlsZXNdKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBzdHlsZTtcbn07XG5cbi8vIFdyYXBwZXIgYXJvdW5kIFJlYWN0LmNsb25lRWxlbWVudC4gVG8gYXZvaWQgcHJvY2Vzc2luZyB0aGUgc2FtZSBlbGVtZW50XG4vLyB0d2ljZSwgd2hlbmV2ZXIgd2UgY2xvbmUgYW4gZWxlbWVudCBhZGQgYSBzcGVjaWFsIG5vbi1lbnVtZXJhYmxlIHByb3AgdG9cbi8vIG1ha2Ugc3VyZSB3ZSBkb24ndCBwcm9jZXNzIHRoaXMgZWxlbWVudCBhZ2Fpbi5cbnZhciBfY2xvbmVFbGVtZW50ID0gZnVuY3Rpb24gX2Nsb25lRWxlbWVudChyZW5kZXJlZEVsZW1lbnQsIG5ld1Byb3BzLCBuZXdDaGlsZHJlbikge1xuICAvLyBPbmx5IGFkZCBmbGFnIGlmIHRoaXMgaXMgYSBub3JtYWwgRE9NIGVsZW1lbnRcbiAgaWYgKHR5cGVvZiByZW5kZXJlZEVsZW1lbnQudHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICBuZXdQcm9wcyA9IF9leHRlbmRzKHt9LCBuZXdQcm9wcywgeyBfcmFkaXVtRGlkUmVzb2x2ZVN0eWxlczogdHJ1ZSB9KTtcbiAgfVxuXG4gIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQocmVuZGVyZWRFbGVtZW50LCBuZXdQcm9wcywgbmV3Q2hpbGRyZW4pO1xufTtcblxuLy9cbi8vIFRoZSBudWNsZXVzIG9mIFJhZGl1bS4gcmVzb2x2ZVN0eWxlcyBpcyBjYWxsZWQgb24gdGhlIHJlbmRlcmVkIGVsZW1lbnRzXG4vLyBiZWZvcmUgdGhleSBhcmUgcmV0dXJuZWQgaW4gcmVuZGVyLiBJdCBpdGVyYXRlcyBvdmVyIHRoZSBlbGVtZW50cyBhbmRcbi8vIGNoaWxkcmVuLCByZXdyaXRpbmcgcHJvcHMgdG8gYWRkIGV2ZW50IGhhbmRsZXJzIHJlcXVpcmVkIHRvIGNhcHR1cmUgdXNlclxuLy8gaW50ZXJhY3Rpb25zIChlLmcuIG1vdXNlIG92ZXIpLiBJdCBhbHNvIHJlcGxhY2VzIHRoZSBzdHlsZSBwcm9wIGJlY2F1c2UgaXRcbi8vIGFkZHMgaW4gdGhlIHZhcmlvdXMgaW50ZXJhY3Rpb24gc3R5bGVzIChlLmcuIDpob3ZlcikuXG4vL1xudmFyIHJlc29sdmVTdHlsZXMgPSBmdW5jdGlvbiByZXNvbHZlU3R5bGVzKGNvbXBvbmVudCwgLy8gUmVhY3RDb21wb25lbnQsIGZsb3crZXNsaW50IGNvbXBsYWluaW5nXG5yZW5kZXJlZEVsZW1lbnQsIC8vIFJlYWN0RWxlbWVudFxuZXhpc3RpbmdLZXlNYXApIHtcbiAgLy8gUmVhY3RFbGVtZW50XG4gIGV4aXN0aW5nS2V5TWFwID0gZXhpc3RpbmdLZXlNYXAgfHwge307XG5cbiAgaWYgKCFyZW5kZXJlZEVsZW1lbnQgfHxcbiAgLy8gQmFpbCBpZiB3ZSd2ZSBhbHJlYWR5IHByb2Nlc3NlZCB0aGlzIGVsZW1lbnQuIFRoaXMgZW5zdXJlcyB0aGF0IG9ubHkgdGhlXG4gIC8vIG93bmVyIG9mIGFuIGVsZW1lbnQgcHJvY2Vzc2VzIHRoYXQgZWxlbWVudCwgc2luY2UgdGhlIG93bmVyJ3MgcmVuZGVyXG4gIC8vIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGZpcnN0ICh3aGljaCB3aWxsIGFsd2F5cyBiZSB0aGUgY2FzZSwgc2luY2UgeW91XG4gIC8vIGNhbid0IGtub3cgd2hhdCBlbHNlIHRvIHJlbmRlciB1bnRpbCB5b3UgcmVuZGVyIHRoZSBwYXJlbnQgY29tcG9uZW50KS5cbiAgcmVuZGVyZWRFbGVtZW50LnByb3BzICYmIHJlbmRlcmVkRWxlbWVudC5wcm9wcy5fcmFkaXVtRGlkUmVzb2x2ZVN0eWxlcykge1xuICAgIHJldHVybiByZW5kZXJlZEVsZW1lbnQ7XG4gIH1cblxuICAvLyBSZWN1cnNlIG92ZXIgY2hpbGRyZW4gZmlyc3QgaW4gY2FzZSB3ZSBiYWlsIGVhcmx5LiBOb3RlIHRoYXQgY2hpbGRyZW4gb25seVxuICAvLyBpbmNsdWRlIHRob3NlIHJlbmRlcmVkIGluIGB0aGlzYCBjb21wb25lbnQuIENoaWxkIG5vZGVzIGluIG90aGVyIGNvbXBvbmVudHNcbiAgLy8gd2lsbCBub3QgYmUgaGVyZSwgc28gZWFjaCBjb21wb25lbnQgbmVlZHMgdG8gdXNlIFJhZGl1bS5cbiAgdmFyIG9sZENoaWxkcmVuID0gcmVuZGVyZWRFbGVtZW50LnByb3BzLmNoaWxkcmVuO1xuICB2YXIgbmV3Q2hpbGRyZW4gPSBvbGRDaGlsZHJlbjtcbiAgaWYgKG9sZENoaWxkcmVuKSB7XG4gICAgdmFyIGNoaWxkcmVuVHlwZSA9IHR5cGVvZiBvbGRDaGlsZHJlbjtcbiAgICBpZiAoY2hpbGRyZW5UeXBlID09PSAnc3RyaW5nJyB8fCBjaGlsZHJlblR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAvLyBEb24ndCBkbyBhbnl0aGluZyB3aXRoIGEgc2luZ2xlIHByaW1pdGl2ZSBjaGlsZFxuICAgICAgbmV3Q2hpbGRyZW4gPSBvbGRDaGlsZHJlbjtcbiAgICB9IGVsc2UgaWYgKGNoaWxkcmVuVHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gV3JhcCB0aGUgZnVuY3Rpb24sIHJlc29sdmluZyBzdHlsZXMgb24gdGhlIHJlc3VsdFxuICAgICAgbmV3Q2hpbGRyZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBvbGRDaGlsZHJlbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICBpZiAoUmVhY3QuaXNWYWxpZEVsZW1lbnQocmVzdWx0KSkge1xuICAgICAgICAgIHJldHVybiByZXNvbHZlU3R5bGVzKGNvbXBvbmVudCwgcmVzdWx0LCBleGlzdGluZ0tleU1hcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChSZWFjdC5DaGlsZHJlbi5jb3VudChvbGRDaGlsZHJlbikgPT09IDEgJiYgb2xkQ2hpbGRyZW4udHlwZSkge1xuICAgICAgLy8gSWYgYSBSZWFjdCBFbGVtZW50IGlzIGFuIG9ubHkgY2hpbGQsIGRvbid0IHdyYXAgaXQgaW4gYW4gYXJyYXkgZm9yXG4gICAgICAvLyBSZWFjdC5DaGlsZHJlbi5tYXAoKSBmb3IgUmVhY3QuQ2hpbGRyZW4ub25seSgpIGNvbXBhdGliaWxpdHkuXG4gICAgICB2YXIgb25seUNoaWxkID0gUmVhY3QuQ2hpbGRyZW4ub25seShvbGRDaGlsZHJlbik7XG4gICAgICBuZXdDaGlsZHJlbiA9IHJlc29sdmVTdHlsZXMoY29tcG9uZW50LCBvbmx5Q2hpbGQsIGV4aXN0aW5nS2V5TWFwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3Q2hpbGRyZW4gPSBSZWFjdC5DaGlsZHJlbi5tYXAob2xkQ2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICBpZiAoUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmVTdHlsZXMoY29tcG9uZW50LCBjaGlsZCwgZXhpc3RpbmdLZXlNYXApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHByb3BzID0gcmVuZGVyZWRFbGVtZW50LnByb3BzO1xuICB2YXIgbmV3UHJvcHMgPSB7fTtcblxuICAvLyBSZWN1cnNlIG92ZXIgcHJvcHMsIGp1c3QgbGlrZSBjaGlsZHJlblxuICBPYmplY3Qua2V5cyhwcm9wcykuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgIC8vIFdlIGFscmVhZHkgcmVjdXJzZSBvdmVyIGNoaWxkcmVuIGFib3ZlXG4gICAgaWYgKHByb3AgPT09ICdjaGlsZHJlbicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcF07XG4gICAgaWYgKFJlYWN0LmlzVmFsaWRFbGVtZW50KHByb3BWYWx1ZSkpIHtcbiAgICAgIG5ld1Byb3BzW3Byb3BdID0gcmVzb2x2ZVN0eWxlcyhjb21wb25lbnQsIHByb3BWYWx1ZSwgZXhpc3RpbmdLZXlNYXApO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGhhc1Jlc29sdmVkUHJvcHMgPSBPYmplY3Qua2V5cyhuZXdQcm9wcykubGVuZ3RoID4gMDtcblxuICAvLyBCYWlsIGVhcmx5IGlmIGVsZW1lbnQgaXMgbm90IGEgc2ltcGxlIFJlYWN0RE9NRWxlbWVudC5cbiAgaWYgKCFSZWFjdC5pc1ZhbGlkRWxlbWVudChyZW5kZXJlZEVsZW1lbnQpIHx8IHR5cGVvZiByZW5kZXJlZEVsZW1lbnQudHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICBpZiAob2xkQ2hpbGRyZW4gPT09IG5ld0NoaWxkcmVuICYmICFoYXNSZXNvbHZlZFByb3BzKSB7XG4gICAgICByZXR1cm4gcmVuZGVyZWRFbGVtZW50O1xuICAgIH1cblxuICAgIHJldHVybiBfY2xvbmVFbGVtZW50KHJlbmRlcmVkRWxlbWVudCwgaGFzUmVzb2x2ZWRQcm9wcyA/IG5ld1Byb3BzIDoge30sIG5ld0NoaWxkcmVuKTtcbiAgfVxuXG4gIHZhciBzdHlsZSA9IHByb3BzLnN0eWxlO1xuXG4gIC8vIENvbnZlbmllbnQgc3ludGF4IGZvciBtdWx0aXBsZSBzdHlsZXM6IGBzdHlsZT17W3N0eWxlMSwgc3R5bGUyLCBldGNdfWBcbiAgLy8gSWdub3JlcyBub24tb2JqZWN0cywgc28geW91IGNhbiBkbyBgdGhpcy5zdGF0ZS5pc0Nvb2wgJiYgc3R5bGVzLmNvb2xgLlxuICBpZiAoQXJyYXkuaXNBcnJheShzdHlsZSkpIHtcbiAgICBzdHlsZSA9IF9tZXJnZVN0eWxlcyhzdHlsZSk7XG4gIH1cblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIC8vIFdhcm4gaWYgeW91IHVzZSBsb25naGFuZCBhbmQgc2hvcnRoYW5kIHByb3BlcnRpZXMgaW4gdGhlIHNhbWUgc3R5bGVcbiAgICAvLyBvYmplY3QuXG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL1Nob3J0aGFuZF9wcm9wZXJ0aWVzXG5cbiAgICB2YXIgc2hvcnRoYW5kUHJvcGVydHlFeHBhbnNpb25zID0ge1xuICAgICAgJ2JhY2tncm91bmQnOiBbJ2JhY2tncm91bmRBdHRhY2htZW50JywgJ2JhY2tncm91bmRCbGVuZE1vZGUnLCAnYmFja2dyb3VuZENsaXAnLCAnYmFja2dyb3VuZENvbG9yJywgJ2JhY2tncm91bmRJbWFnZScsICdiYWNrZ3JvdW5kT3JpZ2luJywgJ2JhY2tncm91bmRQb3NpdGlvbicsICdiYWNrZ3JvdW5kUG9zaXRpb25YJywgJ2JhY2tncm91bmRQb3NpdGlvblknLCAnYmFja2dyb3VuZFJlcGVhdCcsICdiYWNrZ3JvdW5kUmVwZWF0WCcsICdiYWNrZ3JvdW5kUmVwZWF0WScsICdiYWNrZ3JvdW5kU2l6ZSddLFxuICAgICAgJ2JvcmRlcic6IFsnYm9yZGVyQm90dG9tJywgJ2JvcmRlckJvdHRvbUNvbG9yJywgJ2JvcmRlckJvdHRvbVN0eWxlJywgJ2JvcmRlckJvdHRvbVdpZHRoJywgJ2JvcmRlckNvbG9yJywgJ2JvcmRlckxlZnQnLCAnYm9yZGVyTGVmdENvbG9yJywgJ2JvcmRlckxlZnRTdHlsZScsICdib3JkZXJMZWZ0V2lkdGgnLCAnYm9yZGVyUmlnaHQnLCAnYm9yZGVyUmlnaHRDb2xvcicsICdib3JkZXJSaWdodFN0eWxlJywgJ2JvcmRlclJpZ2h0V2lkdGgnLCAnYm9yZGVyU3R5bGUnLCAnYm9yZGVyVG9wJywgJ2JvcmRlclRvcENvbG9yJywgJ2JvcmRlclRvcFN0eWxlJywgJ2JvcmRlclRvcFdpZHRoJywgJ2JvcmRlcldpZHRoJ10sXG4gICAgICAnYm9yZGVySW1hZ2UnOiBbJ2JvcmRlckltYWdlT3V0c2V0JywgJ2JvcmRlckltYWdlUmVwZWF0JywgJ2JvcmRlckltYWdlU2xpY2UnLCAnYm9yZGVySW1hZ2VTb3VyY2UnLCAnYm9yZGVySW1hZ2VXaWR0aCddLFxuICAgICAgJ2JvcmRlclJhZGl1cyc6IFsnYm9yZGVyQm90dG9tTGVmdFJhZGl1cycsICdib3JkZXJCb3R0b21SaWdodFJhZGl1cycsICdib3JkZXJUb3BMZWZ0UmFkaXVzJywgJ2JvcmRlclRvcFJpZ2h0UmFkaXVzJ10sXG4gICAgICAnZm9udCc6IFsnZm9udEZhbWlseScsICdmb250S2VybmluZycsICdmb250U2l6ZScsICdmb250U3RyZXRjaCcsICdmb250U3R5bGUnLCAnZm9udFZhcmlhbnQnLCAnZm9udFZhcmlhbnRMaWdhdHVyZXMnLCAnZm9udFdlaWdodCcsICdsaW5lSGVpZ2h0J10sXG4gICAgICAnbGlzdFN0eWxlJzogWydsaXN0U3R5bGVJbWFnZScsICdsaXN0U3R5bGVQb3NpdGlvbicsICdsaXN0U3R5bGVUeXBlJ10sXG4gICAgICAnbWFyZ2luJzogWydtYXJnaW5Cb3R0b20nLCAnbWFyZ2luTGVmdCcsICdtYXJnaW5SaWdodCcsICdtYXJnaW5Ub3AnXSxcbiAgICAgICdwYWRkaW5nJzogWydwYWRkaW5nQm90dG9tJywgJ3BhZGRpbmdMZWZ0JywgJ3BhZGRpbmdSaWdodCcsICdwYWRkaW5nVG9wJ10sXG4gICAgICAndHJhbnNpdGlvbic6IFsndHJhbnNpdGlvbkRlbGF5JywgJ3RyYW5zaXRpb25EdXJhdGlvbicsICd0cmFuc2l0aW9uUHJvcGVydHknLCAndHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uJ11cbiAgICB9O1xuXG4gICAgdmFyIGNoZWNrUHJvcHMgPSBmdW5jdGlvbiBjaGVja1Byb3BzKHMpIHtcbiAgICAgIGlmICh0eXBlb2YgcyAhPT0gJ29iamVjdCcgfHwgIXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3R5bGVLZXlzID0gT2JqZWN0LmtleXMocyk7XG4gICAgICBzdHlsZUtleXMuZm9yRWFjaChmdW5jdGlvbiAoc3R5bGVLZXkpIHtcbiAgICAgICAgaWYgKHNob3J0aGFuZFByb3BlcnR5RXhwYW5zaW9uc1tzdHlsZUtleV0gJiYgc2hvcnRoYW5kUHJvcGVydHlFeHBhbnNpb25zW3N0eWxlS2V5XS5zb21lKGZ1bmN0aW9uIChzcCkge1xuICAgICAgICAgIHJldHVybiBzdHlsZUtleXMuaW5kZXhPZihzcCkgIT09IC0xO1xuICAgICAgICB9KSkge1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1JhZGl1bTogcHJvcGVydHkgXCInICsgc3R5bGVLZXkgKyAnXCIgaW4gc3R5bGUgb2JqZWN0Jywgc3R5bGUsICc6IGRvIG5vdCBtaXggbG9uZ2hhbmQgYW5kICcgKyAnc2hvcnRoYW5kIHByb3BlcnRpZXMgaW4gdGhlIHNhbWUgc3R5bGUgb2JqZWN0LiBDaGVjayB0aGUgcmVuZGVyICcgKyAnbWV0aG9kIG9mICcgKyBjb21wb25lbnQuY29uc3RydWN0b3IuZGlzcGxheU5hbWUgKyAnLicsICdTZWUgaHR0cHM6Ly9naXRodWIuY29tL0Zvcm1pZGFibGVMYWJzL3JhZGl1bS9pc3N1ZXMvOTUgZm9yIG1vcmUgJyArICdpbmZvcm1hdGlvbi4nKTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHN0eWxlS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgIHJldHVybiBjaGVja1Byb3BzKHNba10pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjaGVja1Byb3BzKHN0eWxlKTtcbiAgfVxuXG4gIC8vIEJhaWwgZWFybHkgaWYgbm8gaW50ZXJhY3RpdmUgc3R5bGVzLlxuICBpZiAoIXN0eWxlIHx8ICFPYmplY3Qua2V5cyhzdHlsZSkuc29tZShfaXNTcGVjaWFsS2V5KSkge1xuICAgIGlmIChzdHlsZSkge1xuICAgICAgLy8gU3RpbGwgcGVyZm9ybSB2ZW5kb3IgcHJlZml4aW5nLCB0aG91Z2guXG4gICAgICBuZXdQcm9wcy5zdHlsZSA9IFByZWZpeGVyLmdldFByZWZpeGVkU3R5bGUoY29tcG9uZW50LCBzdHlsZSk7XG4gICAgICByZXR1cm4gX2Nsb25lRWxlbWVudChyZW5kZXJlZEVsZW1lbnQsIG5ld1Byb3BzLCBuZXdDaGlsZHJlbik7XG4gICAgfSBlbHNlIGlmIChuZXdDaGlsZHJlbiB8fCBoYXNSZXNvbHZlZFByb3BzKSB7XG4gICAgICByZXR1cm4gX2Nsb25lRWxlbWVudChyZW5kZXJlZEVsZW1lbnQsIG5ld1Byb3BzLCBuZXdDaGlsZHJlbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbmRlcmVkRWxlbWVudDtcbiAgfVxuXG4gIC8vIFdlIG5lZWQgYSB1bmlxdWUga2V5IHRvIGNvcnJlbGF0ZSBzdGF0ZSBjaGFuZ2VzIGR1ZSB0byB1c2VyIGludGVyYWN0aW9uXG4gIC8vIHdpdGggdGhlIHJlbmRlcmVkIGVsZW1lbnQsIHNvIHdlIGtub3cgdG8gYXBwbHkgdGhlIHByb3BlciBpbnRlcmFjdGl2ZVxuICAvLyBzdHlsZXMuXG4gIHZhciBvcmlnaW5hbEtleSA9IHJlbmRlcmVkRWxlbWVudC5yZWYgfHwgcmVuZGVyZWRFbGVtZW50LmtleTtcbiAgdmFyIGtleSA9IGdldFN0YXRlS2V5KG9yaWdpbmFsS2V5KTtcblxuICBpZiAoZXhpc3RpbmdLZXlNYXBba2V5XSkge1xuICAgIHRocm93IG5ldyBFcnJvcignUmFkaXVtIHJlcXVpcmVzIGVhY2ggZWxlbWVudCB3aXRoIGludGVyYWN0aXZlIHN0eWxlcyB0byBoYXZlIGEgdW5pcXVlICcgKyAna2V5LCBzZXQgdXNpbmcgZWl0aGVyIHRoZSByZWYgb3Iga2V5IHByb3AuICcgKyAob3JpZ2luYWxLZXkgPyAnS2V5IFwiJyArIG9yaWdpbmFsS2V5ICsgJ1wiIGlzIGEgZHVwbGljYXRlLicgOiAnTXVsdGlwbGUgZWxlbWVudHMgaGF2ZSBubyBrZXkgc3BlY2lmaWVkLicpKTtcbiAgfVxuXG4gIGV4aXN0aW5nS2V5TWFwW2tleV0gPSB0cnVlO1xuXG4gIC8vIE1lZGlhIHF1ZXJpZXMgY2FuIGNvbnRhaW4gcHNldWRvIHN0eWxlcywgbGlrZSA6aG92ZXJcbiAgc3R5bGUgPSBfcmVzb2x2ZU1lZGlhUXVlcnlTdHlsZXMoY29tcG9uZW50LCBzdHlsZSk7XG5cbiAgdmFyIG5ld1N0eWxlID0ge307XG4gIE9iamVjdC5rZXlzKHN0eWxlKS5mb3JFYWNoKGZ1bmN0aW9uIChzdHlsZUtleSkge1xuICAgIGlmICghX2lzU3BlY2lhbEtleShzdHlsZUtleSkpIHtcbiAgICAgIG5ld1N0eWxlW3N0eWxlS2V5XSA9IHN0eWxlW3N0eWxlS2V5XTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIE9ubHkgYWRkIGhhbmRsZXJzIGlmIG5lY2Vzc2FyeVxuICBpZiAoc3R5bGVbJzpob3ZlciddIHx8IHN0eWxlWyc6YWN0aXZlJ10pIHtcbiAgICAvLyBBbHdheXMgY2FsbCB0aGUgZXhpc3RpbmcgaGFuZGxlciBpZiBvbmUgaXMgYWxyZWFkeSBkZWZpbmVkLlxuICAgIC8vIFRoaXMgY29kZSwgYW5kIHRoZSB2ZXJ5IHNpbWlsYXIgb25lcyBiZWxvdywgY291bGQgYmUgYWJzdHJhY3RlZCBhIGJpdFxuICAgIC8vIG1vcmUsIGJ1dCBpdCBodXJ0cyByZWFkYWJpbGl0eSBJTU8uXG4gICAgdmFyIGV4aXN0aW5nT25Nb3VzZUVudGVyID0gcHJvcHMub25Nb3VzZUVudGVyO1xuICAgIG5ld1Byb3BzLm9uTW91c2VFbnRlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBleGlzdGluZ09uTW91c2VFbnRlciAmJiBleGlzdGluZ09uTW91c2VFbnRlcihlKTtcbiAgICAgIF9zZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCB7ICc6aG92ZXInOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICB2YXIgZXhpc3RpbmdPbk1vdXNlTGVhdmUgPSBwcm9wcy5vbk1vdXNlTGVhdmU7XG4gICAgbmV3UHJvcHMub25Nb3VzZUxlYXZlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGV4aXN0aW5nT25Nb3VzZUxlYXZlICYmIGV4aXN0aW5nT25Nb3VzZUxlYXZlKGUpO1xuICAgICAgX3NldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksIHsgJzpob3Zlcic6IGZhbHNlIH0pO1xuICAgIH07XG4gIH1cblxuICBpZiAoc3R5bGVbJzphY3RpdmUnXSkge1xuICAgIHZhciBleGlzdGluZ09uTW91c2VEb3duID0gcHJvcHMub25Nb3VzZURvd247XG4gICAgbmV3UHJvcHMub25Nb3VzZURvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZXhpc3RpbmdPbk1vdXNlRG93biAmJiBleGlzdGluZ09uTW91c2VEb3duKGUpO1xuICAgICAgY29tcG9uZW50Ll9sYXN0TW91c2VEb3duID0gRGF0ZS5ub3coKTtcbiAgICAgIF9zZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCB7ICc6YWN0aXZlJzogdHJ1ZSB9KTtcbiAgICB9O1xuICB9XG5cbiAgaWYgKHN0eWxlWyc6Zm9jdXMnXSkge1xuICAgIHZhciBleGlzdGluZ09uRm9jdXMgPSBwcm9wcy5vbkZvY3VzO1xuICAgIG5ld1Byb3BzLm9uRm9jdXMgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZXhpc3RpbmdPbkZvY3VzICYmIGV4aXN0aW5nT25Gb2N1cyhlKTtcbiAgICAgIF9zZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCB7ICc6Zm9jdXMnOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICB2YXIgZXhpc3RpbmdPbkJsdXIgPSBwcm9wcy5vbkJsdXI7XG4gICAgbmV3UHJvcHMub25CbHVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGV4aXN0aW5nT25CbHVyICYmIGV4aXN0aW5nT25CbHVyKGUpO1xuICAgICAgX3NldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksIHsgJzpmb2N1cyc6IGZhbHNlIH0pO1xuICAgIH07XG4gIH1cblxuICAvLyBNZXJnZSB0aGUgc3R5bGVzIGluIHRoZSBvcmRlciB0aGV5IHdlcmUgZGVmaW5lZFxuICB2YXIgaW50ZXJhY3Rpb25TdHlsZXMgPSBPYmplY3Qua2V5cyhzdHlsZSkuZmlsdGVyKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuIG5hbWUgPT09ICc6YWN0aXZlJyAmJiBfZ2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgJzphY3RpdmUnKSB8fCBuYW1lID09PSAnOmhvdmVyJyAmJiBfZ2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgJzpob3ZlcicpIHx8IG5hbWUgPT09ICc6Zm9jdXMnICYmIF9nZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCAnOmZvY3VzJyk7XG4gIH0pLm1hcChmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiBzdHlsZVtuYW1lXTtcbiAgfSk7XG5cbiAgaWYgKGludGVyYWN0aW9uU3R5bGVzLmxlbmd0aCkge1xuICAgIG5ld1N0eWxlID0gX21lcmdlU3R5bGVzKFtuZXdTdHlsZV0uY29uY2F0KGludGVyYWN0aW9uU3R5bGVzKSk7XG4gIH1cblxuICBpZiAoc3R5bGVbJzphY3RpdmUnXSAmJiAhY29tcG9uZW50Ll9yYWRpdW1Nb3VzZVVwTGlzdGVuZXIgJiYgRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRXZlbnRMaXN0ZW5lcnMpIHtcbiAgICBjb21wb25lbnQuX3JhZGl1bU1vdXNlVXBMaXN0ZW5lciA9IE1vdXNlVXBMaXN0ZW5lci5zdWJzY3JpYmUoX21vdXNlVXAuYmluZChudWxsLCBjb21wb25lbnQpKTtcbiAgfVxuXG4gIG5ld1Byb3BzLnN0eWxlID0gUHJlZml4ZXIuZ2V0UHJlZml4ZWRTdHlsZShjb21wb25lbnQsIG5ld1N0eWxlKTtcblxuICByZXR1cm4gX2Nsb25lRWxlbWVudChyZW5kZXJlZEVsZW1lbnQsIG5ld1Byb3BzLCBuZXdDaGlsZHJlbik7XG59O1xuXG4vLyBFeHBvc2luZyBtZXRob2RzIGZvciB0ZXN0cyBpcyB1Z2x5LCBidXQgdGhlIGFsdGVybmF0aXZlLCByZS1yZXF1aXJpbmcgdGhlXG4vLyBtb2R1bGUgZWFjaCB0aW1lLCBpcyB0b28gc2xvd1xucmVzb2x2ZVN0eWxlcy5fX2NsZWFyU3RhdGVGb3JUZXN0cyA9IGZ1bmN0aW9uICgpIHtcbiAgbWVkaWFRdWVyeUxpc3RCeVF1ZXJ5U3RyaW5nID0ge307XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlc29sdmVTdHlsZXM7IiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBmaW5kKGFycmF5LCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgaWYgKHR5cGVvZiBBcnJheS5wcm90b3R5cGUuZmluZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBhcnJheS5maW5kKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gIH1cblxuICBjb250ZXh0ID0gY29udGV4dCB8fCB0aGlzO1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICB2YXIgaTtcblxuICBpZiAodHlwZW9mIHByZWRpY2F0ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocHJlZGljYXRlICsgJyBpcyBub3QgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIGFycmF5W2ldLCBpLCBhcnJheSkpIHtcbiAgICAgIHJldHVybiBhcnJheVtpXTtcbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmaW5kO1xuIiwiLyohXG4gIENvcHlyaWdodCAoYykgMjAxNSBKZWQgV2F0c29uLlxuICBCYXNlZCBvbiBjb2RlIHRoYXQgaXMgQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgY2FuVXNlRE9NID0gISEoXG5cdFx0dHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcblx0XHR3aW5kb3cuZG9jdW1lbnQgJiZcblx0XHR3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudFxuXHQpO1xuXG5cdHZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHtcblxuXHRcdGNhblVzZURPTTogY2FuVXNlRE9NLFxuXG5cdFx0Y2FuVXNlV29ya2VyczogdHlwZW9mIFdvcmtlciAhPT0gJ3VuZGVmaW5lZCcsXG5cblx0XHRjYW5Vc2VFdmVudExpc3RlbmVyczpcblx0XHRcdGNhblVzZURPTSAmJiAhISh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciB8fCB3aW5kb3cuYXR0YWNoRXZlbnQpLFxuXG5cdFx0Y2FuVXNlVmlld3BvcnQ6IGNhblVzZURPTSAmJiAhIXdpbmRvdy5zY3JlZW5cblxuXHR9O1xuXG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0ZGVmaW5lKGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBFeGVjdXRpb25FbnZpcm9ubWVudDtcblx0XHR9KTtcblx0fSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gRXhlY3V0aW9uRW52aXJvbm1lbnQ7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LkV4ZWN1dGlvbkVudmlyb25tZW50ID0gRXhlY3V0aW9uRW52aXJvbm1lbnQ7XG5cdH1cblxufSgpKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cy5EaXNwYXRjaGVyID0gcmVxdWlyZSgnLi9saWIvRGlzcGF0Y2hlcicpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBEaXNwYXRjaGVyXG4gKiBcbiAqIEBwcmV2ZW50TXVuZ2VcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG5cbnZhciBfcHJlZml4ID0gJ0lEXyc7XG5cbi8qKlxuICogRGlzcGF0Y2hlciBpcyB1c2VkIHRvIGJyb2FkY2FzdCBwYXlsb2FkcyB0byByZWdpc3RlcmVkIGNhbGxiYWNrcy4gVGhpcyBpc1xuICogZGlmZmVyZW50IGZyb20gZ2VuZXJpYyBwdWItc3ViIHN5c3RlbXMgaW4gdHdvIHdheXM6XG4gKlxuICogICAxKSBDYWxsYmFja3MgYXJlIG5vdCBzdWJzY3JpYmVkIHRvIHBhcnRpY3VsYXIgZXZlbnRzLiBFdmVyeSBwYXlsb2FkIGlzXG4gKiAgICAgIGRpc3BhdGNoZWQgdG8gZXZlcnkgcmVnaXN0ZXJlZCBjYWxsYmFjay5cbiAqICAgMikgQ2FsbGJhY2tzIGNhbiBiZSBkZWZlcnJlZCBpbiB3aG9sZSBvciBwYXJ0IHVudGlsIG90aGVyIGNhbGxiYWNrcyBoYXZlXG4gKiAgICAgIGJlZW4gZXhlY3V0ZWQuXG4gKlxuICogRm9yIGV4YW1wbGUsIGNvbnNpZGVyIHRoaXMgaHlwb3RoZXRpY2FsIGZsaWdodCBkZXN0aW5hdGlvbiBmb3JtLCB3aGljaFxuICogc2VsZWN0cyBhIGRlZmF1bHQgY2l0eSB3aGVuIGEgY291bnRyeSBpcyBzZWxlY3RlZDpcbiAqXG4gKiAgIHZhciBmbGlnaHREaXNwYXRjaGVyID0gbmV3IERpc3BhdGNoZXIoKTtcbiAqXG4gKiAgIC8vIEtlZXBzIHRyYWNrIG9mIHdoaWNoIGNvdW50cnkgaXMgc2VsZWN0ZWRcbiAqICAgdmFyIENvdW50cnlTdG9yZSA9IHtjb3VudHJ5OiBudWxsfTtcbiAqXG4gKiAgIC8vIEtlZXBzIHRyYWNrIG9mIHdoaWNoIGNpdHkgaXMgc2VsZWN0ZWRcbiAqICAgdmFyIENpdHlTdG9yZSA9IHtjaXR5OiBudWxsfTtcbiAqXG4gKiAgIC8vIEtlZXBzIHRyYWNrIG9mIHRoZSBiYXNlIGZsaWdodCBwcmljZSBvZiB0aGUgc2VsZWN0ZWQgY2l0eVxuICogICB2YXIgRmxpZ2h0UHJpY2VTdG9yZSA9IHtwcmljZTogbnVsbH1cbiAqXG4gKiBXaGVuIGEgdXNlciBjaGFuZ2VzIHRoZSBzZWxlY3RlZCBjaXR5LCB3ZSBkaXNwYXRjaCB0aGUgcGF5bG9hZDpcbiAqXG4gKiAgIGZsaWdodERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuICogICAgIGFjdGlvblR5cGU6ICdjaXR5LXVwZGF0ZScsXG4gKiAgICAgc2VsZWN0ZWRDaXR5OiAncGFyaXMnXG4gKiAgIH0pO1xuICpcbiAqIFRoaXMgcGF5bG9hZCBpcyBkaWdlc3RlZCBieSBgQ2l0eVN0b3JlYDpcbiAqXG4gKiAgIGZsaWdodERpc3BhdGNoZXIucmVnaXN0ZXIoZnVuY3Rpb24ocGF5bG9hZCkge1xuICogICAgIGlmIChwYXlsb2FkLmFjdGlvblR5cGUgPT09ICdjaXR5LXVwZGF0ZScpIHtcbiAqICAgICAgIENpdHlTdG9yZS5jaXR5ID0gcGF5bG9hZC5zZWxlY3RlZENpdHk7XG4gKiAgICAgfVxuICogICB9KTtcbiAqXG4gKiBXaGVuIHRoZSB1c2VyIHNlbGVjdHMgYSBjb3VudHJ5LCB3ZSBkaXNwYXRjaCB0aGUgcGF5bG9hZDpcbiAqXG4gKiAgIGZsaWdodERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuICogICAgIGFjdGlvblR5cGU6ICdjb3VudHJ5LXVwZGF0ZScsXG4gKiAgICAgc2VsZWN0ZWRDb3VudHJ5OiAnYXVzdHJhbGlhJ1xuICogICB9KTtcbiAqXG4gKiBUaGlzIHBheWxvYWQgaXMgZGlnZXN0ZWQgYnkgYm90aCBzdG9yZXM6XG4gKlxuICogICBDb3VudHJ5U3RvcmUuZGlzcGF0Y2hUb2tlbiA9IGZsaWdodERpc3BhdGNoZXIucmVnaXN0ZXIoZnVuY3Rpb24ocGF5bG9hZCkge1xuICogICAgIGlmIChwYXlsb2FkLmFjdGlvblR5cGUgPT09ICdjb3VudHJ5LXVwZGF0ZScpIHtcbiAqICAgICAgIENvdW50cnlTdG9yZS5jb3VudHJ5ID0gcGF5bG9hZC5zZWxlY3RlZENvdW50cnk7XG4gKiAgICAgfVxuICogICB9KTtcbiAqXG4gKiBXaGVuIHRoZSBjYWxsYmFjayB0byB1cGRhdGUgYENvdW50cnlTdG9yZWAgaXMgcmVnaXN0ZXJlZCwgd2Ugc2F2ZSBhIHJlZmVyZW5jZVxuICogdG8gdGhlIHJldHVybmVkIHRva2VuLiBVc2luZyB0aGlzIHRva2VuIHdpdGggYHdhaXRGb3IoKWAsIHdlIGNhbiBndWFyYW50ZWVcbiAqIHRoYXQgYENvdW50cnlTdG9yZWAgaXMgdXBkYXRlZCBiZWZvcmUgdGhlIGNhbGxiYWNrIHRoYXQgdXBkYXRlcyBgQ2l0eVN0b3JlYFxuICogbmVlZHMgdG8gcXVlcnkgaXRzIGRhdGEuXG4gKlxuICogICBDaXR5U3RvcmUuZGlzcGF0Y2hUb2tlbiA9IGZsaWdodERpc3BhdGNoZXIucmVnaXN0ZXIoZnVuY3Rpb24ocGF5bG9hZCkge1xuICogICAgIGlmIChwYXlsb2FkLmFjdGlvblR5cGUgPT09ICdjb3VudHJ5LXVwZGF0ZScpIHtcbiAqICAgICAgIC8vIGBDb3VudHJ5U3RvcmUuY291bnRyeWAgbWF5IG5vdCBiZSB1cGRhdGVkLlxuICogICAgICAgZmxpZ2h0RGlzcGF0Y2hlci53YWl0Rm9yKFtDb3VudHJ5U3RvcmUuZGlzcGF0Y2hUb2tlbl0pO1xuICogICAgICAgLy8gYENvdW50cnlTdG9yZS5jb3VudHJ5YCBpcyBub3cgZ3VhcmFudGVlZCB0byBiZSB1cGRhdGVkLlxuICpcbiAqICAgICAgIC8vIFNlbGVjdCB0aGUgZGVmYXVsdCBjaXR5IGZvciB0aGUgbmV3IGNvdW50cnlcbiAqICAgICAgIENpdHlTdG9yZS5jaXR5ID0gZ2V0RGVmYXVsdENpdHlGb3JDb3VudHJ5KENvdW50cnlTdG9yZS5jb3VudHJ5KTtcbiAqICAgICB9XG4gKiAgIH0pO1xuICpcbiAqIFRoZSB1c2FnZSBvZiBgd2FpdEZvcigpYCBjYW4gYmUgY2hhaW5lZCwgZm9yIGV4YW1wbGU6XG4gKlxuICogICBGbGlnaHRQcmljZVN0b3JlLmRpc3BhdGNoVG9rZW4gPVxuICogICAgIGZsaWdodERpc3BhdGNoZXIucmVnaXN0ZXIoZnVuY3Rpb24ocGF5bG9hZCkge1xuICogICAgICAgc3dpdGNoIChwYXlsb2FkLmFjdGlvblR5cGUpIHtcbiAqICAgICAgICAgY2FzZSAnY291bnRyeS11cGRhdGUnOlxuICogICAgICAgICBjYXNlICdjaXR5LXVwZGF0ZSc6XG4gKiAgICAgICAgICAgZmxpZ2h0RGlzcGF0Y2hlci53YWl0Rm9yKFtDaXR5U3RvcmUuZGlzcGF0Y2hUb2tlbl0pO1xuICogICAgICAgICAgIEZsaWdodFByaWNlU3RvcmUucHJpY2UgPVxuICogICAgICAgICAgICAgZ2V0RmxpZ2h0UHJpY2VTdG9yZShDb3VudHJ5U3RvcmUuY291bnRyeSwgQ2l0eVN0b3JlLmNpdHkpO1xuICogICAgICAgICAgIGJyZWFrO1xuICogICAgIH1cbiAqICAgfSk7XG4gKlxuICogVGhlIGBjb3VudHJ5LXVwZGF0ZWAgcGF5bG9hZCB3aWxsIGJlIGd1YXJhbnRlZWQgdG8gaW52b2tlIHRoZSBzdG9yZXMnXG4gKiByZWdpc3RlcmVkIGNhbGxiYWNrcyBpbiBvcmRlcjogYENvdW50cnlTdG9yZWAsIGBDaXR5U3RvcmVgLCB0aGVuXG4gKiBgRmxpZ2h0UHJpY2VTdG9yZWAuXG4gKi9cblxudmFyIERpc3BhdGNoZXIgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBEaXNwYXRjaGVyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEaXNwYXRjaGVyKTtcblxuICAgIHRoaXMuX2NhbGxiYWNrcyA9IHt9O1xuICAgIHRoaXMuX2lzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcbiAgICB0aGlzLl9pc0hhbmRsZWQgPSB7fTtcbiAgICB0aGlzLl9pc1BlbmRpbmcgPSB7fTtcbiAgICB0aGlzLl9sYXN0SUQgPSAxO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBhIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgd2l0aCBldmVyeSBkaXNwYXRjaGVkIHBheWxvYWQuIFJldHVybnNcbiAgICogYSB0b2tlbiB0aGF0IGNhbiBiZSB1c2VkIHdpdGggYHdhaXRGb3IoKWAuXG4gICAqL1xuXG4gIERpc3BhdGNoZXIucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24gcmVnaXN0ZXIoY2FsbGJhY2spIHtcbiAgICB2YXIgaWQgPSBfcHJlZml4ICsgdGhpcy5fbGFzdElEKys7XG4gICAgdGhpcy5fY2FsbGJhY2tzW2lkXSA9IGNhbGxiYWNrO1xuICAgIHJldHVybiBpZDtcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlcyBhIGNhbGxiYWNrIGJhc2VkIG9uIGl0cyB0b2tlbi5cbiAgICovXG5cbiAgRGlzcGF0Y2hlci5wcm90b3R5cGUudW5yZWdpc3RlciA9IGZ1bmN0aW9uIHVucmVnaXN0ZXIoaWQpIHtcbiAgICAhdGhpcy5fY2FsbGJhY2tzW2lkXSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdEaXNwYXRjaGVyLnVucmVnaXN0ZXIoLi4uKTogYCVzYCBkb2VzIG5vdCBtYXAgdG8gYSByZWdpc3RlcmVkIGNhbGxiYWNrLicsIGlkKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1tpZF07XG4gIH07XG5cbiAgLyoqXG4gICAqIFdhaXRzIGZvciB0aGUgY2FsbGJhY2tzIHNwZWNpZmllZCB0byBiZSBpbnZva2VkIGJlZm9yZSBjb250aW51aW5nIGV4ZWN1dGlvblxuICAgKiBvZiB0aGUgY3VycmVudCBjYWxsYmFjay4gVGhpcyBtZXRob2Qgc2hvdWxkIG9ubHkgYmUgdXNlZCBieSBhIGNhbGxiYWNrIGluXG4gICAqIHJlc3BvbnNlIHRvIGEgZGlzcGF0Y2hlZCBwYXlsb2FkLlxuICAgKi9cblxuICBEaXNwYXRjaGVyLnByb3RvdHlwZS53YWl0Rm9yID0gZnVuY3Rpb24gd2FpdEZvcihpZHMpIHtcbiAgICAhdGhpcy5faXNEaXNwYXRjaGluZyA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdEaXNwYXRjaGVyLndhaXRGb3IoLi4uKTogTXVzdCBiZSBpbnZva2VkIHdoaWxlIGRpc3BhdGNoaW5nLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgaWRzLmxlbmd0aDsgaWkrKykge1xuICAgICAgdmFyIGlkID0gaWRzW2lpXTtcbiAgICAgIGlmICh0aGlzLl9pc1BlbmRpbmdbaWRdKSB7XG4gICAgICAgICF0aGlzLl9pc0hhbmRsZWRbaWRdID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0Rpc3BhdGNoZXIud2FpdEZvciguLi4pOiBDaXJjdWxhciBkZXBlbmRlbmN5IGRldGVjdGVkIHdoaWxlICcgKyAnd2FpdGluZyBmb3IgYCVzYC4nLCBpZCkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgICF0aGlzLl9jYWxsYmFja3NbaWRdID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0Rpc3BhdGNoZXIud2FpdEZvciguLi4pOiBgJXNgIGRvZXMgbm90IG1hcCB0byBhIHJlZ2lzdGVyZWQgY2FsbGJhY2suJywgaWQpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX2ludm9rZUNhbGxiYWNrKGlkKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIERpc3BhdGNoZXMgYSBwYXlsb2FkIHRvIGFsbCByZWdpc3RlcmVkIGNhbGxiYWNrcy5cbiAgICovXG5cbiAgRGlzcGF0Y2hlci5wcm90b3R5cGUuZGlzcGF0Y2ggPSBmdW5jdGlvbiBkaXNwYXRjaChwYXlsb2FkKSB7XG4gICAgISF0aGlzLl9pc0Rpc3BhdGNoaW5nID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0Rpc3BhdGNoLmRpc3BhdGNoKC4uLik6IENhbm5vdCBkaXNwYXRjaCBpbiB0aGUgbWlkZGxlIG9mIGEgZGlzcGF0Y2guJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgIHRoaXMuX3N0YXJ0RGlzcGF0Y2hpbmcocGF5bG9hZCk7XG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIGlkIGluIHRoaXMuX2NhbGxiYWNrcykge1xuICAgICAgICBpZiAodGhpcy5faXNQZW5kaW5nW2lkXSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ludm9rZUNhbGxiYWNrKGlkKTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy5fc3RvcERpc3BhdGNoaW5nKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBJcyB0aGlzIERpc3BhdGNoZXIgY3VycmVudGx5IGRpc3BhdGNoaW5nLlxuICAgKi9cblxuICBEaXNwYXRjaGVyLnByb3RvdHlwZS5pc0Rpc3BhdGNoaW5nID0gZnVuY3Rpb24gaXNEaXNwYXRjaGluZygpIHtcbiAgICByZXR1cm4gdGhpcy5faXNEaXNwYXRjaGluZztcbiAgfTtcblxuICAvKipcbiAgICogQ2FsbCB0aGUgY2FsbGJhY2sgc3RvcmVkIHdpdGggdGhlIGdpdmVuIGlkLiBBbHNvIGRvIHNvbWUgaW50ZXJuYWxcbiAgICogYm9va2tlZXBpbmcuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cblxuICBEaXNwYXRjaGVyLnByb3RvdHlwZS5faW52b2tlQ2FsbGJhY2sgPSBmdW5jdGlvbiBfaW52b2tlQ2FsbGJhY2soaWQpIHtcbiAgICB0aGlzLl9pc1BlbmRpbmdbaWRdID0gdHJ1ZTtcbiAgICB0aGlzLl9jYWxsYmFja3NbaWRdKHRoaXMuX3BlbmRpbmdQYXlsb2FkKTtcbiAgICB0aGlzLl9pc0hhbmRsZWRbaWRdID0gdHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IHVwIGJvb2trZWVwaW5nIG5lZWRlZCB3aGVuIGRpc3BhdGNoaW5nLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG5cbiAgRGlzcGF0Y2hlci5wcm90b3R5cGUuX3N0YXJ0RGlzcGF0Y2hpbmcgPSBmdW5jdGlvbiBfc3RhcnREaXNwYXRjaGluZyhwYXlsb2FkKSB7XG4gICAgZm9yICh2YXIgaWQgaW4gdGhpcy5fY2FsbGJhY2tzKSB7XG4gICAgICB0aGlzLl9pc1BlbmRpbmdbaWRdID0gZmFsc2U7XG4gICAgICB0aGlzLl9pc0hhbmRsZWRbaWRdID0gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuX3BlbmRpbmdQYXlsb2FkID0gcGF5bG9hZDtcbiAgICB0aGlzLl9pc0Rpc3BhdGNoaW5nID0gdHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICogQ2xlYXIgYm9va2tlZXBpbmcgdXNlZCBmb3IgZGlzcGF0Y2hpbmcuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cblxuICBEaXNwYXRjaGVyLnByb3RvdHlwZS5fc3RvcERpc3BhdGNoaW5nID0gZnVuY3Rpb24gX3N0b3BEaXNwYXRjaGluZygpIHtcbiAgICBkZWxldGUgdGhpcy5fcGVuZGluZ1BheWxvYWQ7XG4gICAgdGhpcy5faXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuICB9O1xuXG4gIHJldHVybiBEaXNwYXRjaGVyO1xufSkoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBEaXNwYXRjaGVyOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBpbnZhcmlhbnRcbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG4gKlxuICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcbiAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuICogZXhwZWN0aW5nLlxuICpcbiAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG4gKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG4gKi9cblxudmFyIGludmFyaWFudCA9IGZ1bmN0aW9uIChjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgfVxuXG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdmFyIGVycm9yO1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgKyAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ0ludmFyaWFudCBWaW9sYXRpb246ICcgKyBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50OyIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCB7fTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxuRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24obikge1xuICBpZiAoIWlzTnVtYmVyKG4pIHx8IG4gPCAwIHx8IGlzTmFOKG4pKVxuICAgIHRocm93IFR5cGVFcnJvcignbiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgZXIsIGhhbmRsZXIsIGxlbiwgYXJncywgaSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgaWYgKHR5cGUgPT09ICdlcnJvcicpIHtcbiAgICBpZiAoIXRoaXMuX2V2ZW50cy5lcnJvciB8fFxuICAgICAgICAoaXNPYmplY3QodGhpcy5fZXZlbnRzLmVycm9yKSAmJiAhdGhpcy5fZXZlbnRzLmVycm9yLmxlbmd0aCkpIHtcbiAgICAgIGVyID0gYXJndW1lbnRzWzFdO1xuICAgICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgICB9XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCBcImVycm9yXCIgZXZlbnQuJyk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAoaXNVbmRlZmluZWQoaGFuZGxlcikpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAvLyBmYXN0IGNhc2VzXG4gICAgICBjYXNlIDE6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBzbG93ZXJcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0gMSk7XG4gICAgICAgIGZvciAoaSA9IDE7IGkgPCBsZW47IGkrKylcbiAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgaGFuZGxlci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QoaGFuZGxlcikpIHtcbiAgICBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0gMSk7XG4gICAgZm9yIChpID0gMTsgaSA8IGxlbjsgaSsrKVxuICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG5cbiAgICBsaXN0ZW5lcnMgPSBoYW5kbGVyLnNsaWNlKCk7XG4gICAgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspXG4gICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkodGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbTtcblxuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgdGhpcy5fZXZlbnRzID0ge307XG5cbiAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICBpZiAodGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyKVxuICAgIHRoaXMuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICBpc0Z1bmN0aW9uKGxpc3RlbmVyLmxpc3RlbmVyKSA/XG4gICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICBlbHNlIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2VcbiAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBbdGhpcy5fZXZlbnRzW3R5cGVdLCBsaXN0ZW5lcl07XG5cbiAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkgJiYgIXRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQpIHtcbiAgICB2YXIgbTtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX21heExpc3RlbmVycykpIHtcbiAgICAgIG0gPSB0aGlzLl9tYXhMaXN0ZW5lcnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgICB9XG5cbiAgICBpZiAobSAmJiBtID4gMCAmJiB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoID4gbSkge1xuICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCA9IHRydWU7XG4gICAgICBjb25zb2xlLmVycm9yKCcobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2xlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICdVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC4nLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoKTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZS50cmFjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBub3Qgc3VwcG9ydGVkIGluIElFIDEwXG4gICAgICAgIGNvbnNvbGUudHJhY2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgdmFyIGZpcmVkID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gZygpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGcpO1xuXG4gICAgaWYgKCFmaXJlZCkge1xuICAgICAgZmlyZWQgPSB0cnVlO1xuICAgICAgbGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cblxuICBnLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHRoaXMub24odHlwZSwgZyk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBlbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWZmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZFxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBsaXN0LCBwb3NpdGlvbiwgbGVuZ3RoLCBpO1xuXG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIGxpc3QgPSB0aGlzLl9ldmVudHNbdHlwZV07XG4gIGxlbmd0aCA9IGxpc3QubGVuZ3RoO1xuICBwb3NpdGlvbiA9IC0xO1xuXG4gIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fFxuICAgICAgKGlzRnVuY3Rpb24obGlzdC5saXN0ZW5lcikgJiYgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcblxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGxpc3QpKSB7XG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gPiAwOykge1xuICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8XG4gICAgICAgICAgKGxpc3RbaV0ubGlzdGVuZXIgJiYgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKSB7XG4gICAgICBsaXN0Lmxlbmd0aCA9IDA7XG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaXN0LnNwbGljZShwb3NpdGlvbiwgMSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIga2V5LCBsaXN0ZW5lcnM7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICBpZiAoIXRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgZWxzZSBpZiAodGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIGZvciAoa2V5IGluIHRoaXMuX2V2ZW50cykge1xuICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgIH1cbiAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcnMpKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICB9IGVsc2Uge1xuICAgIC8vIExJRk8gb3JkZXJcbiAgICB3aGlsZSAobGlzdGVuZXJzLmxlbmd0aClcbiAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2xpc3RlbmVycy5sZW5ndGggLSAxXSk7XG4gIH1cbiAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgcmV0O1xuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldCA9IFtdO1xuICBlbHNlIGlmIChpc0Z1bmN0aW9uKHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgcmV0ID0gW3RoaXMuX2V2ZW50c1t0eXBlXV07XG4gIGVsc2VcbiAgICByZXQgPSB0aGlzLl9ldmVudHNbdHlwZV0uc2xpY2UoKTtcbiAgcmV0dXJuIHJldDtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICB2YXIgcmV0O1xuICBpZiAoIWVtaXR0ZXIuX2V2ZW50cyB8fCAhZW1pdHRlci5fZXZlbnRzW3R5cGVdKVxuICAgIHJldCA9IDA7XG4gIGVsc2UgaWYgKGlzRnVuY3Rpb24oZW1pdHRlci5fZXZlbnRzW3R5cGVdKSlcbiAgICByZXQgPSAxO1xuICBlbHNlXG4gICAgcmV0ID0gZW1pdHRlci5fZXZlbnRzW3R5cGVdLmxlbmd0aDtcbiAgcmV0dXJuIHJldDtcbn07XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZHJhaW5RdWV1ZSwgMCk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG4vLyBUT0RPKHNodHlsbWFuKVxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE0IEZhY2Vib29rLCBJbmMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYW4gZW51bWVyYXRpb24gd2l0aCBrZXlzIGVxdWFsIHRvIHRoZWlyIHZhbHVlLlxuICpcbiAqIEZvciBleGFtcGxlOlxuICpcbiAqICAgdmFyIENPTE9SUyA9IGtleU1pcnJvcih7Ymx1ZTogbnVsbCwgcmVkOiBudWxsfSk7XG4gKiAgIHZhciBteUNvbG9yID0gQ09MT1JTLmJsdWU7XG4gKiAgIHZhciBpc0NvbG9yVmFsaWQgPSAhIUNPTE9SU1tteUNvbG9yXTtcbiAqXG4gKiBUaGUgbGFzdCBsaW5lIGNvdWxkIG5vdCBiZSBwZXJmb3JtZWQgaWYgdGhlIHZhbHVlcyBvZiB0aGUgZ2VuZXJhdGVkIGVudW0gd2VyZVxuICogbm90IGVxdWFsIHRvIHRoZWlyIGtleXMuXG4gKlxuICogICBJbnB1dDogIHtrZXkxOiB2YWwxLCBrZXkyOiB2YWwyfVxuICogICBPdXRwdXQ6IHtrZXkxOiBrZXkxLCBrZXkyOiBrZXkyfVxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvYmpcbiAqIEByZXR1cm4ge29iamVjdH1cbiAqL1xudmFyIGtleU1pcnJvciA9IGZ1bmN0aW9uKG9iaikge1xuICB2YXIgcmV0ID0ge307XG4gIHZhciBrZXk7XG4gIGlmICghKG9iaiBpbnN0YW5jZW9mIE9iamVjdCAmJiAhQXJyYXkuaXNBcnJheShvYmopKSkge1xuICAgIHRocm93IG5ldyBFcnJvcigna2V5TWlycm9yKC4uLik6IEFyZ3VtZW50IG11c3QgYmUgYW4gb2JqZWN0LicpO1xuICB9XG4gIGZvciAoa2V5IGluIG9iaikge1xuICAgIGlmICghb2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICByZXRba2V5XSA9IGtleTtcbiAgfVxuICByZXR1cm4gcmV0O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBrZXlNaXJyb3I7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpO1xuXG52YXIgU3R5bGUgPSByZXF1aXJlKCcuL3N0eWxlLmpzJyk7XG52YXIgcHJpbnRTdHlsZXMgPSByZXF1aXJlKCcuLi9wcmludC1zdHlsZXMuanMnKTtcblxudmFyIFByaW50U3R5bGUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnUHJpbnRTdHlsZScsXG5cbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldFN0eWxlc1N0YXRlKCk7XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9uID0gcHJpbnRTdHlsZXMuc3Vic2NyaWJlKHRoaXMuX29uQ2hhbmdlKTtcbiAgfSxcblxuICBjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb24ucmVtb3ZlKCk7XG4gIH0sXG5cbiAgX29uQ2hhbmdlOiBmdW5jdGlvbiBfb25DaGFuZ2UoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh0aGlzLl9nZXRTdHlsZXNTdGF0ZSgpKTtcbiAgfSxcblxuICBfZ2V0U3R5bGVzU3RhdGU6IGZ1bmN0aW9uIF9nZXRTdHlsZXNTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3R5bGVzOiBwcmludFN0eWxlcy5nZXRQcmludFN0eWxlcygpXG4gICAgfTtcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZSwgeyBydWxlczoge1xuICAgICAgICBtZWRpYVF1ZXJpZXM6IHtcbiAgICAgICAgICBwcmludDogdGhpcy5zdGF0ZS5zdHlsZXNcbiAgICAgICAgfVxuICAgICAgfSB9KTtcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUHJpbnRTdHlsZTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBjcmVhdGVNYXJrdXBGb3JTdHlsZXMgPSByZXF1aXJlKCcuLi9jcmVhdGUtbWFya3VwLWZvci1zdHlsZXMnKTtcbnZhciBQcmVmaXhlciA9IHJlcXVpcmUoJy4uL3ByZWZpeGVyJyk7XG5cbnZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpO1xuXG52YXIgYnVpbGRDc3NTdHJpbmcgPSBmdW5jdGlvbiBidWlsZENzc1N0cmluZyhjb21wb25lbnQsIHNlbGVjdG9yLCBydWxlcykge1xuICBpZiAoIXNlbGVjdG9yIHx8ICFydWxlcykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBwcmVmaXhlZFJ1bGVzID0gUHJlZml4ZXIuZ2V0UHJlZml4ZWRTdHlsZShjb21wb25lbnQsIHJ1bGVzLCAnY3NzJyk7XG4gIHZhciBzZXJpYWxpemVkUnVsZXMgPSBjcmVhdGVNYXJrdXBGb3JTdHlsZXMocHJlZml4ZWRSdWxlcyk7XG5cbiAgcmV0dXJuIHNlbGVjdG9yICsgJ3snICsgc2VyaWFsaXplZFJ1bGVzICsgJ30nO1xufTtcblxudmFyIFN0eWxlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ1N0eWxlJyxcblxuICBwcm9wVHlwZXM6IHtcbiAgICBydWxlczogUmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICBzY29wZVNlbGVjdG9yOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXG4gIH0sXG5cbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNjb3BlU2VsZWN0b3I6ICcnXG4gICAgfTtcbiAgfSxcblxuICBfYnVpbGRTdHlsZXM6IGZ1bmN0aW9uIF9idWlsZFN0eWxlcyhzdHlsZXMpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHN0eWxlcykucmVkdWNlKGZ1bmN0aW9uIChhY2N1bXVsYXRvciwgc2VsZWN0b3IpIHtcbiAgICAgIHZhciBydWxlcyA9IHN0eWxlc1tzZWxlY3Rvcl07XG5cbiAgICAgIGlmIChzZWxlY3RvciA9PT0gJ21lZGlhUXVlcmllcycpIHtcbiAgICAgICAgYWNjdW11bGF0b3IgKz0gX3RoaXMuX2J1aWxkTWVkaWFRdWVyeVN0cmluZyhydWxlcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgY29tcGxldGVTZWxlY3RvciA9IChfdGhpcy5wcm9wcy5zY29wZVNlbGVjdG9yID8gX3RoaXMucHJvcHMuc2NvcGVTZWxlY3RvciArICcgJyA6ICcnKSArIHNlbGVjdG9yO1xuICAgICAgICBhY2N1bXVsYXRvciArPSBidWlsZENzc1N0cmluZyhfdGhpcywgY29tcGxldGVTZWxlY3RvciwgcnVsZXMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfSwgJycpO1xuICB9LFxuXG4gIF9idWlsZE1lZGlhUXVlcnlTdHJpbmc6IGZ1bmN0aW9uIF9idWlsZE1lZGlhUXVlcnlTdHJpbmcobWVkaWFRdWVyeU9iaikge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIGNvbnRleHRNZWRpYVF1ZXJpZXMgPSB0aGlzLl9nZXRDb250ZXh0TWVkaWFRdWVyaWVzKCk7XG4gICAgdmFyIG1lZGlhUXVlcnlTdHJpbmcgPSAnJztcblxuICAgIE9iamVjdC5rZXlzKG1lZGlhUXVlcnlPYmopLmZvckVhY2goZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgICB2YXIgY29tcGxldGVRdWVyeSA9IGNvbnRleHRNZWRpYVF1ZXJpZXNbcXVlcnldID8gY29udGV4dE1lZGlhUXVlcmllc1txdWVyeV0gOiBxdWVyeTtcbiAgICAgIG1lZGlhUXVlcnlTdHJpbmcgKz0gJ0BtZWRpYSAnICsgY29tcGxldGVRdWVyeSArICd7JyArIF90aGlzMi5fYnVpbGRTdHlsZXMobWVkaWFRdWVyeU9ialtxdWVyeV0pICsgJ30nO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG1lZGlhUXVlcnlTdHJpbmc7XG4gIH0sXG5cbiAgX2dldENvbnRleHRNZWRpYVF1ZXJpZXM6IGZ1bmN0aW9uIF9nZXRDb250ZXh0TWVkaWFRdWVyaWVzKCkge1xuICAgIHZhciBjb250ZXh0TWVkaWFRdWVyaWVzID0ge307XG4gICAgaWYgKHRoaXMuY29udGV4dCAmJiB0aGlzLmNvbnRleHQubWVkaWFRdWVyaWVzKSB7XG4gICAgICBPYmplY3Qua2V5cyh0aGlzLmNvbnRleHQubWVkaWFRdWVyaWVzKS5mb3JFYWNoKChmdW5jdGlvbiAocXVlcnkpIHtcbiAgICAgICAgY29udGV4dE1lZGlhUXVlcmllc1txdWVyeV0gPSB0aGlzLmNvbnRleHQubWVkaWFRdWVyaWVzW3F1ZXJ5XS5tZWRpYTtcbiAgICAgIH0pLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIHJldHVybiBjb250ZXh0TWVkaWFRdWVyaWVzO1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5ydWxlcykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHN0eWxlcyA9IHRoaXMuX2J1aWxkU3R5bGVzKHRoaXMucHJvcHMucnVsZXMpO1xuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJywgeyBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6IHN0eWxlcyB9IH0pO1xuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBTdHlsZTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJ2V4ZW52Jyk7XG5cbnZhciBfbWF0Y2hNZWRpYUZ1bmN0aW9uID0gRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NICYmIHdpbmRvdyAmJiB3aW5kb3cubWF0Y2hNZWRpYSAmJiBmdW5jdGlvbiAobWVkaWFRdWVyeVN0cmluZykge1xuICByZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEobWVkaWFRdWVyeVN0cmluZyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY2FuTWF0Y2hNZWRpYTogZnVuY3Rpb24gY2FuTWF0Y2hNZWRpYSgpIHtcbiAgICByZXR1cm4gdHlwZW9mIF9tYXRjaE1lZGlhRnVuY3Rpb24gPT09ICdmdW5jdGlvbic7XG4gIH0sXG5cbiAgbWF0Y2hNZWRpYTogZnVuY3Rpb24gbWF0Y2hNZWRpYShxdWVyeSkge1xuICAgIHJldHVybiBfbWF0Y2hNZWRpYUZ1bmN0aW9uKHF1ZXJ5KTtcbiAgfSxcblxuICBzZXRNYXRjaE1lZGlhOiBmdW5jdGlvbiBzZXRNYXRjaE1lZGlhKG5leHRNYXRjaE1lZGlhRnVuY3Rpb24pIHtcbiAgICBfbWF0Y2hNZWRpYUZ1bmN0aW9uID0gbmV4dE1hdGNoTWVkaWFGdW5jdGlvbjtcbiAgfVxufTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBjcmVhdGVNYXJrdXBGb3JTdHlsZXMgPSBmdW5jdGlvbiBjcmVhdGVNYXJrdXBGb3JTdHlsZXMoc3R5bGUsIHNwYWNlcykge1xuICBzcGFjZXMgPSBzcGFjZXMgfHwgJyc7XG4gIHJldHVybiBPYmplY3Qua2V5cyhzdHlsZSkubWFwKGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xuICAgIHJldHVybiBzcGFjZXMgKyBwcm9wZXJ0eSArICc6ICcgKyBzdHlsZVtwcm9wZXJ0eV0gKyAnOyc7XG4gIH0pLmpvaW4oJ1xcbicpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVNYXJrdXBGb3JTdHlsZXM7IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXG52YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgZGVzYyA9IHBhcmVudCA9IGdldHRlciA9IHVuZGVmaW5lZDsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgcmVzb2x2ZVN0eWxlcyA9IHJlcXVpcmUoJy4vcmVzb2x2ZS1zdHlsZXMuanMnKTtcbnZhciBwcmludFN0eWxlcyA9IHJlcXVpcmUoJy4vcHJpbnQtc3R5bGVzLmpzJyk7XG5cbnZhciBlbmhhbmNlV2l0aFJhZGl1bSA9IGZ1bmN0aW9uIGVuaGFuY2VXaXRoUmFkaXVtKENvbXBvc2VkQ29tcG9uZW50KSB7XG4gIHZhciBSYWRpdW1FbmhhbmNlciA9IChmdW5jdGlvbiAoX0NvbXBvc2VkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKFJhZGl1bUVuaGFuY2VyLCBfQ29tcG9zZWRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gUmFkaXVtRW5oYW5jZXIoKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmFkaXVtRW5oYW5jZXIpO1xuXG4gICAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihSYWRpdW1FbmhhbmNlci5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgICB0aGlzLnN0YXRlID0gdGhpcy5zdGF0ZSB8fCB7fTtcbiAgICAgIHRoaXMuc3RhdGUuX3JhZGl1bVN0eWxlU3RhdGUgPSB7fTtcblxuICAgICAgaWYgKFJhZGl1bUVuaGFuY2VyLnByaW50U3R5bGVDbGFzcykge1xuICAgICAgICB0aGlzLnByaW50U3R5bGVDbGFzcyA9IFJhZGl1bUVuaGFuY2VyLnByaW50U3R5bGVDbGFzcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDbGFzcyBpbmhlcml0YW5jZSB1c2VzIE9iamVjdC5jcmVhdGUgYW5kIGJlY2F1c2Ugb2YgX19wcm90b19fIGlzc3Vlc1xuICAgIC8vIHdpdGggSUUgPDEwIGFueSBzdGF0aWMgcHJvcGVydGllcyBvZiB0aGUgc3VwZXJjbGFzcyBhcmVuJ3QgaW5oZXJpdGVkIGFuZFxuICAgIC8vIHNvIG5lZWQgdG8gYmUgbWFudWFsbHkgcG9wdWxhdGVkXG4gICAgLy8gU2VlIGh0dHA6Ly9iYWJlbGpzLmlvL2RvY3MvYWR2YW5jZWQvY2F2ZWF0cy8jY2xhc3Nlcy0xMC1hbmQtYmVsb3ctXG4gICAgLy8gVGhpcyBhbHNvIGZpeGVzIFJlYWN0IEhvdCBMb2FkZXIgYnkgZXhwb3NpbmcgdGhlIG9yaWdpbmFsIGNvbXBvbmVudHMgdG9wIGxldmVsXG4gICAgLy8gcHJvdG90eXBlIG1ldGhvZHMgb24gdGhlIFJhZGl1bSBlbmhhbmNlZCBwcm90b3R5cGUgYXMgZGlzY3Vzc2VkIGluICMyMTkuXG5cbiAgICBfY3JlYXRlQ2xhc3MoUmFkaXVtRW5oYW5jZXIsIFt7XG4gICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVkRWxlbWVudCA9IF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFJhZGl1bUVuaGFuY2VyLnByb3RvdHlwZSksICdyZW5kZXInLCB0aGlzKS5jYWxsKHRoaXMpO1xuICAgICAgICByZXR1cm4gcmVzb2x2ZVN0eWxlcyh0aGlzLCByZW5kZXJlZEVsZW1lbnQpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFJhZGl1bUVuaGFuY2VyLnByb3RvdHlwZSksICdjb21wb25lbnRXaWxsVW5tb3VudCcsIHRoaXMpKSB7XG4gICAgICAgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmFkaXVtRW5oYW5jZXIucHJvdG90eXBlKSwgJ2NvbXBvbmVudFdpbGxVbm1vdW50JywgdGhpcykuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9yYWRpdW1Nb3VzZVVwTGlzdGVuZXIpIHtcbiAgICAgICAgICB0aGlzLl9yYWRpdW1Nb3VzZVVwTGlzdGVuZXIucmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcmFkaXVtTWVkaWFRdWVyeUxpc3RlbmVyc0J5UXVlcnkpIHtcbiAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9yYWRpdW1NZWRpYVF1ZXJ5TGlzdGVuZXJzQnlRdWVyeSkuZm9yRWFjaChmdW5jdGlvbiAocXVlcnkpIHtcbiAgICAgICAgICAgIHRoaXMuX3JhZGl1bU1lZGlhUXVlcnlMaXN0ZW5lcnNCeVF1ZXJ5W3F1ZXJ5XS5yZW1vdmUoKTtcbiAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBSYWRpdW1FbmhhbmNlcjtcbiAgfSkoQ29tcG9zZWRDb21wb25lbnQpO1xuXG4gIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKENvbXBvc2VkQ29tcG9uZW50LnByb3RvdHlwZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKCFSYWRpdW1FbmhhbmNlci5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKENvbXBvc2VkQ29tcG9uZW50LnByb3RvdHlwZSwga2V5KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSYWRpdW1FbmhhbmNlci5wcm90b3R5cGUsIGtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9KTtcblxuICBSYWRpdW1FbmhhbmNlci5kaXNwbGF5TmFtZSA9IENvbXBvc2VkQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvc2VkQ29tcG9uZW50Lm5hbWUgfHwgJ0NvbXBvbmVudCc7XG5cbiAgUmFkaXVtRW5oYW5jZXIucHJpbnRTdHlsZUNsYXNzID0gcHJpbnRTdHlsZXMuYWRkUHJpbnRTdHlsZXMoUmFkaXVtRW5oYW5jZXIpO1xuXG4gIHJldHVybiBSYWRpdW1FbmhhbmNlcjtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZW5oYW5jZVdpdGhSYWRpdW07IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZ2V0U3RhdGVLZXkgPSBmdW5jdGlvbiBnZXRTdGF0ZUtleShlbGVtZW50S2V5KSB7XG4gIHJldHVybiBlbGVtZW50S2V5ID09PSBudWxsIHx8IGVsZW1lbnRLZXkgPT09IHVuZGVmaW5lZCA/ICdtYWluJyA6IGVsZW1lbnRLZXkudG9TdHJpbmcoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0U3RhdGVLZXk7IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZ2V0U3RhdGVLZXkgPSByZXF1aXJlKCcuL2dldC1zdGF0ZS1rZXknKTtcblxudmFyIFZBTElEX0tFWVMgPSBbJzphY3RpdmUnLCAnOmZvY3VzJywgJzpob3ZlciddO1xuXG52YXIgZ2V0U3RhdGUgPSBmdW5jdGlvbiBnZXRTdGF0ZShzdGF0ZSwgZWxlbWVudEtleSwgdmFsdWUpIHtcbiAgaWYgKFZBTElEX0tFWVMuaW5kZXhPZih2YWx1ZSkgPT09IC0xKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdSYWRpdW0uZ2V0U3RhdGUgaW52YWxpZCB2YWx1ZSBwYXJhbTogYCcgKyB2YWx1ZSArICdgJyk7XG4gIH1cblxuICB2YXIga2V5ID0gZ2V0U3RhdGVLZXkoZWxlbWVudEtleSk7XG5cbiAgcmV0dXJuICEhKHN0YXRlICYmIHN0YXRlLl9yYWRpdW1TdHlsZVN0YXRlICYmIHN0YXRlLl9yYWRpdW1TdHlsZVN0YXRlW2tleV0gJiYgc3RhdGUuX3JhZGl1bVN0eWxlU3RhdGVba2V5XVt2YWx1ZV0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBnZXRTdGF0ZTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBFbmhhbmNlciA9IHJlcXVpcmUoJy4vZW5oYW5jZXInKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQ29tcG9zZWRDb21wb25lbnQpIHtcbiAgcmV0dXJuIEVuaGFuY2VyKENvbXBvc2VkQ29tcG9uZW50KTtcbn07XG5tb2R1bGUuZXhwb3J0cy5TdHlsZSA9IHJlcXVpcmUoJy4vY29tcG9uZW50cy9zdHlsZScpO1xubW9kdWxlLmV4cG9ydHMuUHJpbnRTdHlsZVNoZWV0ID0gcmVxdWlyZSgnLi9jb21wb25lbnRzL3ByaW50LXN0eWxlLXNoZWV0Jyk7XG5tb2R1bGUuZXhwb3J0cy5nZXRTdGF0ZSA9IHJlcXVpcmUoJy4vZ2V0LXN0YXRlJyk7XG5tb2R1bGUuZXhwb3J0cy5rZXlmcmFtZXMgPSByZXF1aXJlKCcuL2tleWZyYW1lcycpO1xubW9kdWxlLmV4cG9ydHMuQ29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcnKTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBjcmVhdGVNYXJrdXBGb3JTdHlsZXMgPSByZXF1aXJlKCcuL2NyZWF0ZS1tYXJrdXAtZm9yLXN0eWxlcycpO1xudmFyIFByZWZpeGVyID0gcmVxdWlyZSgnLi9wcmVmaXhlcicpO1xuXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCdleGVudicpO1xuXG52YXIgaXNBbmltYXRpb25TdXBwb3J0ZWQgPSBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgUHJlZml4ZXIuZ2V0UHJlZml4ZWRQcm9wZXJ0eU5hbWUoJ2FuaW1hdGlvbicpICE9PSBmYWxzZTtcblxudmFyIGFuaW1hdGlvbkluZGV4ID0gMTtcbnZhciBhbmltYXRpb25TdHlsZVNoZWV0ID0gbnVsbDtcbnZhciBrZXlmcmFtZXNQcmVmaXhlZCA9ICdrZXlmcmFtZXMnO1xuXG5pZiAoaXNBbmltYXRpb25TdXBwb3J0ZWQpIHtcbiAgYW5pbWF0aW9uU3R5bGVTaGVldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYW5pbWF0aW9uU3R5bGVTaGVldCk7XG5cbiAgLy8gVGVzdCBpZiBwcmVmaXggbmVlZGVkIGZvciBrZXlmcmFtZXMgKGNvcGllZCBmcm9tIFByZWZpeEZyZWUpXG4gIGFuaW1hdGlvblN0eWxlU2hlZXQudGV4dENvbnRlbnQgPSAnQGtleWZyYW1lcyB7fSc7XG4gIGlmICghYW5pbWF0aW9uU3R5bGVTaGVldC5zaGVldC5jc3NSdWxlcy5sZW5ndGgpIHtcbiAgICBrZXlmcmFtZXNQcmVmaXhlZCA9IFByZWZpeGVyLmNzc1ByZWZpeCArICdrZXlmcmFtZXMnO1xuICB9XG59XG5cbi8vIFNpbXBsZSBhbmltYXRpb24gaGVscGVyIHRoYXQgaW5qZWN0cyBDU1MgaW50byBhIHN0eWxlIG9iamVjdCBjb250YWluaW5nIHRoZVxuLy8ga2V5ZnJhbWVzLCBhbmQgcmV0dXJucyBhIHN0cmluZyB3aXRoIHRoZSBnZW5lcmF0ZWQgYW5pbWF0aW9uIG5hbWUuXG52YXIga2V5ZnJhbWVzID0gZnVuY3Rpb24ga2V5ZnJhbWVzKGtleWZyYW1lUnVsZXMsIGNvbXBvbmVudCkge1xuICB2YXIgbmFtZSA9ICdBbmltYXRpb24nICsgYW5pbWF0aW9uSW5kZXg7XG4gIGFuaW1hdGlvbkluZGV4ICs9IDE7XG5cbiAgaWYgKCFpc0FuaW1hdGlvblN1cHBvcnRlZCkge1xuICAgIHJldHVybiBuYW1lO1xuICB9XG5cbiAgdmFyIHJ1bGUgPSAnQCcgKyBrZXlmcmFtZXNQcmVmaXhlZCArICcgJyArIG5hbWUgKyAnIHtcXG4nICsgT2JqZWN0LmtleXMoa2V5ZnJhbWVSdWxlcykubWFwKGZ1bmN0aW9uIChwZXJjZW50YWdlKSB7XG4gICAgdmFyIHByb3BzID0ga2V5ZnJhbWVSdWxlc1twZXJjZW50YWdlXTtcbiAgICB2YXIgcHJlZml4ZWRQcm9wcyA9IFByZWZpeGVyLmdldFByZWZpeGVkU3R5bGUoY29tcG9uZW50LCBwcm9wcywgJ2NzcycpO1xuICAgIHZhciBzZXJpYWxpemVkUHJvcHMgPSBjcmVhdGVNYXJrdXBGb3JTdHlsZXMocHJlZml4ZWRQcm9wcywgJyAgJyk7XG4gICAgcmV0dXJuICcgICcgKyBwZXJjZW50YWdlICsgJyB7XFxuICAnICsgc2VyaWFsaXplZFByb3BzICsgJ1xcbiAgfSc7XG4gIH0pLmpvaW4oJ1xcbicpICsgJ1xcbn1cXG4nO1xuXG4gIC8vIGZvciBmbG93XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmICghYW5pbWF0aW9uU3R5bGVTaGVldCkge1xuICAgIHRocm93IG5ldyBFcnJvcigna2V5ZnJhbWVzIG5vdCBpbml0aWFsaXplZCBwcm9wZXJseScpO1xuICB9XG5cbiAgYW5pbWF0aW9uU3R5bGVTaGVldC5zaGVldC5pbnNlcnRSdWxlKHJ1bGUsIGFuaW1hdGlvblN0eWxlU2hlZXQuc2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgcmV0dXJuIG5hbWU7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGtleWZyYW1lczsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfY2FsbGJhY2tzID0gW107XG52YXIgX21vdXNlVXBMaXN0ZW5lcklzQWN0aXZlID0gZmFsc2U7XG5cbnZhciBfaGFuZGxlTW91c2VVcCA9IGZ1bmN0aW9uIF9oYW5kbGVNb3VzZVVwKGV2KSB7XG4gIF9jYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayhldik7XG4gIH0pO1xufTtcblxudmFyIHN1YnNjcmliZSA9IGZ1bmN0aW9uIHN1YnNjcmliZShjYWxsYmFjaykge1xuICBpZiAoX2NhbGxiYWNrcy5pbmRleE9mKGNhbGxiYWNrKSA9PT0gLTEpIHtcbiAgICBfY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICB9XG5cbiAgaWYgKCFfbW91c2VVcExpc3RlbmVySXNBY3RpdmUpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIF9oYW5kbGVNb3VzZVVwKTtcbiAgICBfbW91c2VVcExpc3RlbmVySXNBY3RpdmUgPSB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHZhciBpbmRleCA9IF9jYWxsYmFja3MuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgICBfY2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XG5cbiAgICAgIGlmIChfY2FsbGJhY2tzLmxlbmd0aCA9PT0gMCAmJiBfbW91c2VVcExpc3RlbmVySXNBY3RpdmUpIHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBfaGFuZGxlTW91c2VVcCk7XG4gICAgICAgIF9tb3VzZVVwTGlzdGVuZXJJc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBzdWJzY3JpYmU6IHN1YnNjcmliZVxufTsiLCIvKipcbiAqIEJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9qc3N0eWxlcy9jc3MtdmVuZG9yLCBidXQgd2l0aG91dCBoYXZpbmcgdG9cbiAqIGNvbnZlcnQgYmV0d2VlbiBkaWZmZXJlbnQgY2FzZXMgYWxsIHRoZSB0aW1lLlxuICpcbiAqIFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZXhlbnYnKTtcbnZhciBhcnJheUZpbmQgPSByZXF1aXJlKCdhcnJheS1maW5kJyk7XG5cbnZhciBWRU5ET1JfUFJFRklYX1JFR0VYID0gLy0obW96fHdlYmtpdHxtc3xvKS0vO1xuXG52YXIgdmVuZG9yUHJlZml4ZXMgPSBbJ1dlYmtpdCcsICdtcycsICdNb3onLCAnTyddO1xuXG52YXIgaW5mb0J5Q3NzUHJlZml4ID0ge1xuICAnLW1vei0nOiB7XG4gICAgY3NzUHJlZml4OiAnLW1vei0nLFxuICAgIGpzUHJlZml4OiAnTW96JyxcbiAgICBhbHRlcm5hdGl2ZVByb3BlcnRpZXM6IHtcbiAgICAgIC8vIE9MRCAtIEZpcmVmb3ggMTktXG4gICAgICBhbGlnbkl0ZW1zOiBbeyBjc3M6ICctbW96LWJveC1hbGlnbicsIGpzOiAnTW96Qm94QWxpZ24nIH1dLFxuICAgICAgZmxleDogW3sgY3NzOiAnLW1vei1ib3gtZmxleCcsIGpzOiAnTW96Qm94RmxleCcgfV0sXG4gICAgICBmbGV4RGlyZWN0aW9uOiBbeyBjc3M6ICctbW96LWJveC1vcmllbnQnLCBqczogJ01vekJveE9yaWVudCcgfV0sXG4gICAgICBqdXN0aWZ5Q29udGVudDogW3sgY3NzOiAnLW1vei1ib3gtcGFjaycsIGpzOiAnTW96Qm94UGFjaycgfV0sXG4gICAgICBvcmRlcjogW3sgY3NzOiAnLW1vei1ib3gtb3JkaW5hbC1ncm91cCcsIGpzOiAnTW96Qm94T3JkaW5hbEdyb3VwJyB9XVxuICAgIH0sXG4gICAgYWx0ZXJuYXRpdmVWYWx1ZXM6IHtcbiAgICAgIC8vIE9MRCAtIEZpcmVmb3ggMTktXG4gICAgICBhbGlnbkl0ZW1zOiB7XG4gICAgICAgICdmbGV4LXN0YXJ0JzogWydzdGFydCddLFxuICAgICAgICAnZmxleC1lbmQnOiBbJ2VuZCddXG4gICAgICB9LFxuICAgICAgZGlzcGxheToge1xuICAgICAgICBmbGV4OiBbJy1tb3otYm94J11cbiAgICAgIH0sXG4gICAgICBmbGV4RGlyZWN0aW9uOiB7XG4gICAgICAgIGNvbHVtbjogWyd2ZXJ0aWNhbCddLFxuICAgICAgICByb3c6IFsnaG9yaXpvbnRhbCddXG4gICAgICB9LFxuICAgICAganVzdGlmeUNvbnRlbnQ6IHtcbiAgICAgICAgJ2ZsZXgtc3RhcnQnOiBbJ3N0YXJ0J10sXG4gICAgICAgICdmbGV4LWVuZCc6IFsnZW5kJ10sXG4gICAgICAgICdzcGFjZS1iZXR3ZWVuJzogWydqdXN0aWZ5J11cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gICctbXMtJzoge1xuICAgIGNzc1ByZWZpeDogJy1tcy0nLFxuICAgIGpzUHJlZml4OiAnbXMnLFxuICAgIGFsdGVybmF0aXZlUHJvcGVydGllczoge1xuICAgICAgLy8gVFdFRU5FUiAtIElFIDEwXG4gICAgICBhbGlnbkNvbnRlbnQ6IFt7IGNzczogJy1tcy1mbGV4LWxpbmUtcGFjaycsIGpzOiAnbXNGbGV4TGluZVBhY2snIH1dLFxuICAgICAgYWxpZ25JdGVtczogW3sgY3NzOiAnLW1zLWZsZXgtYWxpZ24nLCBqczogJ21zRmxleEFsaWduJyB9XSxcbiAgICAgIGFsaWduU2VsZjogW3sgY3NzOiAnLW1zLWZsZXgtYWxpZ24taXRlbScsIGpzOiAnbXNGbGV4QWxpZ25JdGVtJyB9XSxcbiAgICAgIGp1c3RpZnlDb250ZW50OiBbeyBjc3M6ICctbXMtZmxleC1wYWNrJywganM6ICdtc0ZsZXhQYWNrJyB9XSxcbiAgICAgIG9yZGVyOiBbeyBjc3M6ICctbXMtZmxleC1vcmRlcicsIGpzOiAnbXNGbGV4T3JkZXInIH1dXG4gICAgfSxcbiAgICBhbHRlcm5hdGl2ZVZhbHVlczoge1xuICAgICAgLy8gVFdFRU5FUiAtIElFIDEwXG4gICAgICBhbGlnbkNvbnRlbnQ6IHtcbiAgICAgICAgJ2ZsZXgtc3RhcnQnOiBbJ3N0YXJ0J10sXG4gICAgICAgICdmbGV4LWVuZCc6IFsnZW5kJ10sXG4gICAgICAgICdzcGFjZS1iZXR3ZWVuJzogWydqdXN0aWZ5J10sXG4gICAgICAgICdzcGFjZS1hcm91bmQnOiBbJ2Rpc3RyaWJ1dGUnXVxuICAgICAgfSxcbiAgICAgIGFsaWduSXRlbXM6IHtcbiAgICAgICAgJ2ZsZXgtc3RhcnQnOiBbJ3N0YXJ0J10sXG4gICAgICAgICdmbGV4LWVuZCc6IFsnZW5kJ11cbiAgICAgIH0sXG4gICAgICBhbGlnblNlbGY6IHtcbiAgICAgICAgJ2ZsZXgtc3RhcnQnOiBbJ3N0YXJ0J10sXG4gICAgICAgICdmbGV4LWVuZCc6IFsnZW5kJ11cbiAgICAgIH0sXG4gICAgICBkaXNwbGF5OiB7XG4gICAgICAgIGZsZXg6IFsnLW1zLWZsZXhib3gnXSxcbiAgICAgICAgJ2lubGluZS1mbGV4JzogWyctbXMtaW5saW5lLWZsZXhib3gnXVxuICAgICAgfSxcbiAgICAgIGp1c3RpZnlDb250ZW50OiB7XG4gICAgICAgICdmbGV4LXN0YXJ0JzogWydzdGFydCddLFxuICAgICAgICAnZmxleC1lbmQnOiBbJ2VuZCddLFxuICAgICAgICAnc3BhY2UtYmV0d2Vlbic6IFsnanVzdGlmeSddLFxuICAgICAgICAnc3BhY2UtYXJvdW5kJzogWydkaXN0cmlidXRlJ11cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gICctby0nOiB7XG4gICAgY3NzUHJlZml4OiAnLW8tJyxcbiAgICBqc1ByZWZpeDogJ08nXG4gIH0sXG4gICctd2Via2l0LSc6IHtcbiAgICBjc3NQcmVmaXg6ICctd2Via2l0LScsXG4gICAganNQcmVmaXg6ICdXZWJraXQnLFxuICAgIGFsdGVybmF0aXZlUHJvcGVydGllczoge1xuICAgICAgLy8gT0xEIC0gaU9TIDYtLCBTYWZhcmkgMy4xLTZcbiAgICAgIGFsaWduSXRlbXM6IFt7IGNzczogJy13ZWJraXQtYm94LWFsaWduJywganM6ICdXZWJraXRCb3hBbGlnbicgfV0sXG4gICAgICBmbGV4OiBbeyBjc3M6ICctd2Via2l0LWJveC1mbGV4JywganM6ICdNb3pCb3hGbGV4JyB9XSxcbiAgICAgIGZsZXhEaXJlY3Rpb246IFt7IGNzczogJy13ZWJraXQtYm94LW9yaWVudCcsIGpzOiAnV2Via2l0Qm94T3JpZW50JyB9XSxcbiAgICAgIGp1c3RpZnlDb250ZW50OiBbeyBjc3M6ICctd2Via2l0LWJveC1wYWNrJywganM6ICdXZWJraXRCb3hQYWNrJyB9XSxcbiAgICAgIG9yZGVyOiBbeyBjc3M6ICctd2Via2l0LWJveC1vcmRpbmFsLWdyb3VwJywganM6ICdXZWJraXRCb3hPcmRpbmFsR3JvdXAnIH1dXG4gICAgfSxcbiAgICBhbHRlcm5hdGl2ZVZhbHVlczoge1xuICAgICAgLy8gT0xEIC0gaU9TIDYtLCBTYWZhcmkgMy4xLTZcbiAgICAgIGFsaWduSXRlbXM6IHtcbiAgICAgICAgJ2ZsZXgtc3RhcnQnOiBbJ3N0YXJ0J10sXG4gICAgICAgICdmbGV4LWVuZCc6IFsnZW5kJ11cbiAgICAgIH0sXG4gICAgICBkaXNwbGF5OiB7XG4gICAgICAgIGZsZXg6IFsnLXdlYmtpdC1ib3gnXVxuICAgICAgfSxcbiAgICAgIGZsZXhEaXJlY3Rpb246IHtcbiAgICAgICAgcm93OiBbJ2hvcml6b250YWwnXSxcbiAgICAgICAgY29sdW1uOiBbJ3ZlcnRpY2FsJ11cbiAgICAgIH0sXG4gICAgICBqdXN0aWZ5Q29udGVudDoge1xuICAgICAgICAnZmxleC1zdGFydCc6IFsnc3RhcnQnXSxcbiAgICAgICAgJ2ZsZXgtZW5kJzogWydlbmQnXSxcbiAgICAgICAgJ3NwYWNlLWJldHdlZW4nOiBbJ2p1c3RpZnknXVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBDU1MgcHJvcGVydGllcyB3aGljaCBhY2NlcHQgbnVtYmVycyBidXQgYXJlIG5vdCBpbiB1bml0cyBvZiBcInB4XCIuXG4gKiBDb3BpZWQgZnJvbSBSZWFjdCBjb3JlIEp1bmUgMjIsIDIwMTUuXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9cbiAqIGJhODFiNjBhZDhlOTNiNzQ3YmU0MmEwM2I3OTcwNjU5MzJjNDljOTYvXG4gKiBzcmMvcmVuZGVyZXJzL2RvbS9zaGFyZWQvQ1NTUHJvcGVydHkuanNcbiAqL1xudmFyIGlzVW5pdGxlc3NOdW1iZXIgPSB7XG4gIGJveEZsZXg6IHRydWUsXG4gIGJveEZsZXhHcm91cDogdHJ1ZSxcbiAgY29sdW1uQ291bnQ6IHRydWUsXG4gIGZsZXg6IHRydWUsXG4gIGZsZXhHcm93OiB0cnVlLFxuICBmbGV4UG9zaXRpdmU6IHRydWUsXG4gIGZsZXhTaHJpbms6IHRydWUsXG4gIGZsZXhOZWdhdGl2ZTogdHJ1ZSxcbiAgZm9udFdlaWdodDogdHJ1ZSxcbiAgbGluZUNsYW1wOiB0cnVlLFxuICBsaW5lSGVpZ2h0OiB0cnVlLFxuICBvcGFjaXR5OiB0cnVlLFxuICBvcmRlcjogdHJ1ZSxcbiAgb3JwaGFuczogdHJ1ZSxcbiAgdGFiU2l6ZTogdHJ1ZSxcbiAgd2lkb3dzOiB0cnVlLFxuICB6SW5kZXg6IHRydWUsXG4gIHpvb206IHRydWUsXG5cbiAgLy8gU1ZHLXJlbGF0ZWQgcHJvcGVydGllc1xuICBmaWxsT3BhY2l0eTogdHJ1ZSxcbiAgc3Ryb2tlRGFzaG9mZnNldDogdHJ1ZSxcbiAgc3Ryb2tlT3BhY2l0eTogdHJ1ZSxcbiAgc3Ryb2tlV2lkdGg6IHRydWVcbn07XG5cbnZhciBkb21TdHlsZSA9IHt9O1xudmFyIHByZWZpeGVkUHJvcGVydHlDYWNoZSA9IHt9O1xudmFyIHByZWZpeGVkVmFsdWVDYWNoZSA9IHt9O1xudmFyIHByZWZpeEluZm8gPSB7XG4gIGNzc1ByZWZpeDogJycsXG4gIGpzUHJlZml4OiAnJ1xufTtcblxuaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICBkb21TdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKS5zdHlsZTtcblxuICAvLyBvbGRlciBGaXJlZm94IHZlcnNpb25zIG1heSBoYXZlIG5vIGZsb2F0IHByb3BlcnR5IGluIHN0eWxlIG9iamVjdFxuICAvLyBzbyB3ZSBuZWVkIHRvIGFkZCBpdCBtYW51YWxseVxuICBpZiAoZG9tU3R5bGUuZmxvYXQgPT09IHVuZGVmaW5lZCkge1xuICAgIGRvbVN0eWxlLmZsb2F0ID0gJyc7XG4gIH1cblxuICAvLyBCYXNlZCBvbiBodHRwOi8vZGF2aWR3YWxzaC5uYW1lL3ZlbmRvci1wcmVmaXhcbiAgdmFyIHByZWZpeE1hdGNoO1xuICB2YXIgd2luZG93U3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAnJyk7XG5cbiAgLy8gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwod2luZG93U3R5bGVzKSBmYWlscyB3aXRoXG4gIC8vIFwiVW5jYXVnaHQgVHlwZUVycm9yOiB1bmRlZmluZWQgaXMgbm90IGEgZnVuY3Rpb25cIlxuICAvLyBpbiBvbGRlciB2ZXJzaW9ucyBBbmRyb2lkIChLaXRLYXQpIHdlYiB2aWV3c1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHdpbmRvd1N0eWxlcy5sZW5ndGg7IGkrKykge1xuICAgIHByZWZpeE1hdGNoID0gd2luZG93U3R5bGVzW2ldLm1hdGNoKFZFTkRPUl9QUkVGSVhfUkVHRVgpO1xuXG4gICAgaWYgKHByZWZpeE1hdGNoKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICB2YXIgY3NzVmVuZG9yUHJlZml4ID0gcHJlZml4TWF0Y2ggJiYgcHJlZml4TWF0Y2hbMF07XG5cbiAgcHJlZml4SW5mbyA9IGNzc1ZlbmRvclByZWZpeCAmJiBpbmZvQnlDc3NQcmVmaXhbY3NzVmVuZG9yUHJlZml4XSA/IGluZm9CeUNzc1ByZWZpeFtjc3NWZW5kb3JQcmVmaXhdIDogcHJlZml4SW5mbztcbn1cblxudmFyIF9jYW1lbENhc2VSZWdleCA9IC8oW2Etel0pPyhbQS1aXSkvZztcbnZhciBfY2FtZWxDYXNlUmVwbGFjZXIgPSBmdW5jdGlvbiBfY2FtZWxDYXNlUmVwbGFjZXIobWF0Y2gsIHAxLCBwMikge1xuICByZXR1cm4gcDEgKyAnLScgKyBwMi50b0xvd2VyQ2FzZSgpO1xufTtcbnZhciBfY2FtZWxDYXNlVG9EYXNoQ2FzZSA9IGZ1bmN0aW9uIF9jYW1lbENhc2VUb0Rhc2hDYXNlKHMpIHtcbiAgcmV0dXJuIHMucmVwbGFjZShfY2FtZWxDYXNlUmVnZXgsIF9jYW1lbENhc2VSZXBsYWNlcik7XG59O1xuXG52YXIgZ2V0UHJlZml4ZWRQcm9wZXJ0eU5hbWUgPSBmdW5jdGlvbiBnZXRQcmVmaXhlZFByb3BlcnR5TmFtZShwcm9wZXJ0eSkge1xuICBpZiAocHJlZml4ZWRQcm9wZXJ0eUNhY2hlLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgIHJldHVybiBwcmVmaXhlZFByb3BlcnR5Q2FjaGVbcHJvcGVydHldO1xuICB9XG5cbiAgdmFyIHVucHJlZml4ZWQgPSB7XG4gICAgY3NzOiBfY2FtZWxDYXNlVG9EYXNoQ2FzZShwcm9wZXJ0eSksXG4gICAganM6IHByb3BlcnR5LFxuICAgIGlzRGVmYXVsdEZvclNlcnZlcjogdHJ1ZVxuICB9O1xuXG4gIC8vIFRyeSB0aGUgcHJlZml4ZWQgdmVyc2lvbiBmaXJzdC4gQ2hyb21lIGluIHBhcnRpY3VsYXIgaGFzIHRoZSBgZmlsdGVyYCBhbmRcbiAgLy8gYHdlYmtpdEZpbHRlcmAgcHJvcGVydGllcyBhdmFpbGFsYmUgb24gdGhlIHN0eWxlIG9iamVjdCwgYnV0IG9ubHkgdGhlXG4gIC8vIHByZWZpeGVkIHZlcnNpb24gYWN0dWFsbHkgd29ya3MuXG4gIHZhciBwb3NzaWJsZVByb3BlcnR5TmFtZXMgPSBbXG4gIC8vIFByZWZpeGVkXG4gIHtcbiAgICBjc3M6IHByZWZpeEluZm8uY3NzUHJlZml4ICsgX2NhbWVsQ2FzZVRvRGFzaENhc2UocHJvcGVydHkpLFxuICAgIGpzOiBwcmVmaXhJbmZvLmpzUHJlZml4ICsgcHJvcGVydHlbMF0udG9VcHBlckNhc2UoKSArIHByb3BlcnR5LnNsaWNlKDEpXG4gIH0sIHVucHJlZml4ZWRdO1xuXG4gIC8vIEFsdGVybmF0aXZlIHByb3BlcnR5IG5hbWVzXG4gIGlmIChwcmVmaXhJbmZvLmFsdGVybmF0aXZlUHJvcGVydGllcyAmJiBwcmVmaXhJbmZvLmFsdGVybmF0aXZlUHJvcGVydGllc1twcm9wZXJ0eV0pIHtcbiAgICBwb3NzaWJsZVByb3BlcnR5TmFtZXMgPSBwb3NzaWJsZVByb3BlcnR5TmFtZXMuY29uY2F0KHByZWZpeEluZm8uYWx0ZXJuYXRpdmVQcm9wZXJ0aWVzW3Byb3BlcnR5XSk7XG4gIH1cblxuICB2YXIgd29ya2luZ1Byb3BlcnR5ID0gYXJyYXlGaW5kKHBvc3NpYmxlUHJvcGVydHlOYW1lcywgZnVuY3Rpb24gKHBvc3NpYmxlUHJvcGVydHlOYW1lKSB7XG4gICAgaWYgKHBvc3NpYmxlUHJvcGVydHlOYW1lLmpzIGluIGRvbVN0eWxlKSB7XG4gICAgICByZXR1cm4gcG9zc2libGVQcm9wZXJ0eU5hbWU7XG4gICAgfVxuICB9KSB8fCBmYWxzZTtcblxuICByZXR1cm4gcHJlZml4ZWRQcm9wZXJ0eUNhY2hlW3Byb3BlcnR5XSA9IHdvcmtpbmdQcm9wZXJ0eTtcbn07XG5cbi8vIFdlIGFyZSB1bi1wcmVmaXhpbmcgdmFsdWVzIGJlZm9yZSBjaGVja2luZyBmb3IgaXNVbml0bGVzc051bWJlcixcbi8vIG90aGVyd2lzZSB3ZSBhcmUgYXQgcmlzayBvZiBiZWluZyBpbiBhIHNpdHVhdGlvbiB3aGVyZSBzb21lb25lXG4vLyBleHBsaWNpdGx5IHBhc3NlcyBzb21ldGhpbmcgbGlrZSBgTW96Qm94RmxleDogMWAgYW5kIHRoYXQgd2lsbFxuLy8gaW4gdHVybiBnZXQgdHJhbnNmb3JtZWQgaW50byBgTW96Qm94RmxleDogMXB4YC5cbnZhciBfZ2V0VW5wcmVmaXhlZFByb3BlcnR5ID0gZnVuY3Rpb24gX2dldFVucHJlZml4ZWRQcm9wZXJ0eShwcm9wZXJ0eSkge1xuICB2YXIgbm9QcmVmaXhQcm9wZXJ0eSA9IHByb3BlcnR5O1xuXG4gIHZlbmRvclByZWZpeGVzLnNvbWUoZnVuY3Rpb24gKHByZWZpeCkge1xuICAgIC8vIExldCdzIGNoZWNrIGlmIHRoZSBwcm9wZXJ0eSBzdGFydHMgd2l0aCBhIHZlbmRvciBwcmVmaXhcbiAgICBpZiAocHJvcGVydHkuaW5kZXhPZihwcmVmaXgpID09PSAwKSB7XG4gICAgICBub1ByZWZpeFByb3BlcnR5ID0gbm9QcmVmaXhQcm9wZXJ0eS5yZXBsYWNlKHByZWZpeCwgJycpO1xuXG4gICAgICAvLyBXZSBoYXZlIHJlbW92ZWQgdGhlIHZlbmRvciBwcmVmaXgsIGhvd2V2ZXIgdGhlIGZpcnN0XG4gICAgICAvLyBjaGFyYWN0ZXIgaXMgZ29pbmcgdG8gYmUgdXBwZXJjYXNlIGhlbmNlIHdvbid0IG1hdGNoXG4gICAgICAvLyBhbnkgb2YgdGhlIGBpc1VuaXRsZXNzTnVtYmVyYCBrZXlzIGFzIHRoZXkgYWxsIHN0YXJ0XG4gICAgICAvLyB3aXRoIGxvd2VyIGNhc2UuIExldCdzIGVuc3VyZSB0aGF0IHRoZSBmaXJzdCBjaGFyIGlzXG4gICAgICAvLyBsb3dlciBjYXNlLlxuICAgICAgbm9QcmVmaXhQcm9wZXJ0eSA9IG5vUHJlZml4UHJvcGVydHkuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBub1ByZWZpeFByb3BlcnR5LnNsaWNlKDEpO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBub1ByZWZpeFByb3BlcnR5O1xufTtcblxuLy8gUmVhY3QgaXMgcGxhbm5pbmcgdG8gZGVwcmVjYXRlIGFkZGluZyBweCBhdXRvbWF0aWNhbGx5XG4vLyAoaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8xODczKSwgYW5kIGlmIHRoZXkgZG8sIHRoaXNcbi8vIHNob3VsZCBjaGFuZ2UgdG8gYSB3YXJuaW5nIG9yIGJlIHJlbW92ZWQgaW4gZmF2b3Igb2YgUmVhY3QncyB3YXJuaW5nLlxuLy8gU2FtZSBnb2VzIGZvciBiZWxvdy5cbnZhciBfYWRkUGl4ZWxTdWZmaXhUb1ZhbHVlSWZOZWVkZWQgPSBmdW5jdGlvbiBfYWRkUGl4ZWxTdWZmaXhUb1ZhbHVlSWZOZWVkZWQob3JpZ2luYWxQcm9wZXJ0eSwgdmFsdWUpIHtcbiAgdmFyIHVuUHJlZml4ZWRQcm9wZXJ0eSA9IF9nZXRVbnByZWZpeGVkUHJvcGVydHkob3JpZ2luYWxQcm9wZXJ0eSk7XG5cbiAgaWYgKHZhbHVlICE9PSAwICYmICFpc05hTih2YWx1ZSkgJiYgIWlzVW5pdGxlc3NOdW1iZXJbdW5QcmVmaXhlZFByb3BlcnR5XSkge1xuICAgIHJldHVybiB2YWx1ZSArICdweCc7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufTtcblxudmFyIF9nZXRQcmVmaXhlZFZhbHVlID0gZnVuY3Rpb24gX2dldFByZWZpeGVkVmFsdWUoY29tcG9uZW50LCBwcm9wZXJ0eSwgdmFsdWUsIG9yaWdpbmFsUHJvcGVydHkpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIC8vIGRvbid0IHRlc3QgbnVtYmVycyAocHVyZSBvciBzdHJpbmd5KSwgYnV0IGRvIGFkZCAncHgnIHByZWZpeCBpZiBuZWVkZWRcbiAgICBpZiAoIWlzTmFOKHZhbHVlKSAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIF9hZGRQaXhlbFN1ZmZpeFRvVmFsdWVJZk5lZWRlZChvcmlnaW5hbFByb3BlcnR5LCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBkb24ndCB0ZXN0IG51bWJlcnMgd2l0aCB1bml0cyAoZS5nLiAxMGVtKVxuICAgIGlmICghaXNOYU4ocGFyc2VJbnQodmFsdWUsIDEwKSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH1cblxuICB2YXIgY2FjaGVLZXkgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLmpvaW4oJyB8fCAnKSA6IHByb3BlcnR5ICsgdmFsdWU7XG5cbiAgaWYgKHByZWZpeGVkVmFsdWVDYWNoZS5oYXNPd25Qcm9wZXJ0eShjYWNoZUtleSkpIHtcbiAgICByZXR1cm4gcHJlZml4ZWRWYWx1ZUNhY2hlW2NhY2hlS2V5XTtcbiAgfVxuXG4gIHZhciBwb3NzaWJsZVZhbHVlcztcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgLy8gQWRkIHB4IGZvciB0aGUgc2FtZSB2YWx1ZXMgUmVhY3Qgd291bGQsIG90aGVyd2lzZSB0aGUgdGVzdGluZyBiZWxvdyB3aWxsXG4gICAgLy8gZmFpbCBhbmQgaXQgd2lsbCB0cnkgdG8gZmFsbGJhY2suXG4gICAgcG9zc2libGVWYWx1ZXMgPSB2YWx1ZS5tYXAoZnVuY3Rpb24gKHYpIHtcbiAgICAgIHJldHVybiBfYWRkUGl4ZWxTdWZmaXhUb1ZhbHVlSWZOZWVkZWQob3JpZ2luYWxQcm9wZXJ0eSwgdik7XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgcHJlZml4ZWQgdmVyc2lvbnNcbiAgICBwb3NzaWJsZVZhbHVlcyA9IHBvc3NpYmxlVmFsdWVzLmNvbmNhdCh2YWx1ZS5maWx0ZXIoZnVuY3Rpb24gKHYpIHtcbiAgICAgIHJldHVybiAhaXNOYU4odik7XG4gICAgfSkgLy8gRG9uJ3QgcHJlZml4IG51bWJlcnNcbiAgICAubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICByZXR1cm4gcHJlZml4SW5mby5jc3NQcmVmaXggKyB2O1xuICAgIH0pKTtcbiAgfSBlbHNlIHtcbiAgICBwb3NzaWJsZVZhbHVlcyA9IFtcbiAgICAvLyBVbnByZWZpeGVkXG4gICAgdmFsdWUsXG4gICAgLy8gUHJlZml4ZWRcbiAgICBwcmVmaXhJbmZvLmNzc1ByZWZpeCArIHZhbHVlXTtcbiAgfVxuXG4gIC8vIEFsdGVybmF0aXZlIHZhbHVlc1xuICBpZiAocHJlZml4SW5mby5hbHRlcm5hdGl2ZVZhbHVlcyAmJiBwcmVmaXhJbmZvLmFsdGVybmF0aXZlVmFsdWVzW29yaWdpbmFsUHJvcGVydHldICYmIHByZWZpeEluZm8uYWx0ZXJuYXRpdmVWYWx1ZXNbb3JpZ2luYWxQcm9wZXJ0eV1bdmFsdWVdKSB7XG4gICAgcG9zc2libGVWYWx1ZXMgPSBwb3NzaWJsZVZhbHVlcy5jb25jYXQocHJlZml4SW5mby5hbHRlcm5hdGl2ZVZhbHVlc1tvcmlnaW5hbFByb3BlcnR5XVt2YWx1ZV0pO1xuICB9XG5cbiAgLy8gVGVzdCBwb3NzaWJsZSB2YWx1ZSBpbiBvcmRlclxuICB2YXIgd29ya2luZ1ZhbHVlID0gYXJyYXlGaW5kKHBvc3NpYmxlVmFsdWVzLCBmdW5jdGlvbiAocG9zc2libGVWYWx1ZSkge1xuICAgIGRvbVN0eWxlW3Byb3BlcnR5XSA9ICcnO1xuICAgIGRvbVN0eWxlW3Byb3BlcnR5XSA9IHBvc3NpYmxlVmFsdWU7XG5cbiAgICAvLyBOb3RlIHRoYXQgd2UganVzdCBtYWtlIHN1cmUgaXQgaXMgbm90IGFuIGVtcHR5IHN0cmluZy4gQnJvd3NlcnMgd2lsbFxuICAgIC8vIHNvbWV0aW1lcyByZXdyaXRlIHZhbHVlcywgYnV0IHN0aWxsIGFjY2VwdCB0aGVtLiBUaGV5IHdpbGwgc2V0IHRoZSB2YWx1ZVxuICAgIC8vIHRvIGFuIGVtcHR5IHN0cmluZyBpZiBub3Qgc3VwcG9ydGVkLlxuICAgIC8vIEUuZy4gZm9yIGJvcmRlciwgXCJzb2xpZCAxcHggYmxhY2tcIiBiZWNvbWVzIFwiMXB4IHNvbGlkIGJsYWNrXCJcbiAgICAvLyAgICAgIGJ1dCBcImZvb2JhclwiIGJlY29tZXMgXCJcIiwgc2luY2UgaXQgaXMgbm90IHN1cHBvcnRlZC5cbiAgICByZXR1cm4gISFkb21TdHlsZVtwcm9wZXJ0eV07XG4gIH0pO1xuXG4gIGlmICh3b3JraW5nVmFsdWUpIHtcbiAgICBwcmVmaXhlZFZhbHVlQ2FjaGVbY2FjaGVLZXldID0gd29ya2luZ1ZhbHVlO1xuICB9IGVsc2Uge1xuICAgIC8vIFVuc3VwcG9ydGVkLCBhc3N1bWUgdW5wcmVmaXhlZCB3b3JrcywgYnV0IHdhcm5cbiAgICBwcmVmaXhlZFZhbHVlQ2FjaGVbY2FjaGVLZXldID0gdmFsdWU7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgICAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSB7XG4gICAgICAgIHZhciBjb21wb25lbnRDb250ZXh0ID0gY29tcG9uZW50ID8gJyBpbiBjb21wb25lbnQgXCInICsgY29tcG9uZW50LmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lICsgJ1wiJyA6ICcnO1xuXG4gICAgICAgIGNvbnNvbGUud2FybignVW5zdXBwb3J0ZWQgQ1NTIHZhbHVlIFwiJyArIHZhbHVlICsgJ1wiIGZvciBwcm9wZXJ0eSBcIicgKyBwcm9wZXJ0eSArICckXCInICsgY29tcG9uZW50Q29udGV4dCk7XG4gICAgICB9XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcHJlZml4ZWRWYWx1ZUNhY2hlW2NhY2hlS2V5XTtcbn07XG5cbi8vIFJldHVybnMgYSBuZXcgc3R5bGUgb2JqZWN0IHdpdGggdmVuZG9yIHByZWZpeGVzIGFkZGVkIHRvIHByb3BlcnR5IG5hbWVzXG4vLyBhbmQgdmFsdWVzLlxudmFyIGdldFByZWZpeGVkU3R5bGUgPSBmdW5jdGlvbiBnZXRQcmVmaXhlZFN0eWxlKGNvbXBvbmVudCwgLy8gUmVhY3RDb21wb25lbnRcbnN0eWxlKSB7XG4gIHZhciBtb2RlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gJ2pzJyA6IGFyZ3VtZW50c1syXTtcblxuICBpZiAoIUV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhzdHlsZSkucmVkdWNlKGZ1bmN0aW9uIChuZXdTdHlsZSwga2V5KSB7XG4gICAgICB2YXIgdmFsdWUgPSBzdHlsZVtrZXldO1xuICAgICAgdmFyIG5ld0tleSA9IG1vZGUgPT09ICdjc3MnID8gX2NhbWVsQ2FzZVRvRGFzaENhc2Uoa2V5KSA6IGtleTtcbiAgICAgIHZhciBuZXdWYWx1ZSA9IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWVbMF0gOiB2YWx1ZTtcbiAgICAgIG5ld1N0eWxlW25ld0tleV0gPSBuZXdWYWx1ZTtcbiAgICAgIHJldHVybiBuZXdTdHlsZTtcbiAgICB9LCB7fSk7XG4gIH1cblxuICB2YXIgcHJlZml4ZWRTdHlsZSA9IHt9O1xuICBPYmplY3Qua2V5cyhzdHlsZSkuZm9yRWFjaChmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICB2YXIgdmFsdWUgPSBzdHlsZVtwcm9wZXJ0eV07XG5cbiAgICB2YXIgbmV3UHJvcGVydHkgPSBnZXRQcmVmaXhlZFByb3BlcnR5TmFtZShwcm9wZXJ0eSk7XG4gICAgaWYgKG5ld1Byb3BlcnR5ID09PSBmYWxzZSkge1xuICAgICAgLy8gSWdub3JlIHVuc3VwcG9ydGVkIHByb3BlcnRpZXNcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSB7XG4gICAgICAgICAgdmFyIGNvbXBvbmVudENvbnRleHQgPSBjb21wb25lbnQgPyAnIGluIGNvbXBvbmVudCBcIicgKyBjb21wb25lbnQuY29uc3RydWN0b3IuZGlzcGxheU5hbWUgKyAnXCInIDogJyc7XG5cbiAgICAgICAgICBjb25zb2xlLndhcm4oJ1Vuc3VwcG9ydGVkIENTUyBwcm9wZXJ0eSBcIicgKyBwcm9wZXJ0eSArICckXCInICsgY29tcG9uZW50Q29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbmV3VmFsdWUgPSBfZ2V0UHJlZml4ZWRWYWx1ZShjb21wb25lbnQsIG5ld1Byb3BlcnR5LmpzLCB2YWx1ZSwgcHJvcGVydHkpO1xuXG4gICAgcHJlZml4ZWRTdHlsZVtuZXdQcm9wZXJ0eVttb2RlXV0gPSBuZXdWYWx1ZTtcbiAgfSk7XG4gIHJldHVybiBwcmVmaXhlZFN0eWxlO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdldFByZWZpeGVkUHJvcGVydHlOYW1lOiBnZXRQcmVmaXhlZFByb3BlcnR5TmFtZSxcbiAgZ2V0UHJlZml4ZWRTdHlsZTogZ2V0UHJlZml4ZWRTdHlsZSxcbiAgY3NzUHJlZml4OiBwcmVmaXhJbmZvLmNzc1ByZWZpeCxcbiAganNQcmVmaXg6IHByZWZpeEluZm8uanNQcmVmaXhcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBhbGxQcmludFN0eWxlcyA9IHt9O1xudmFyIGxpc3RlbmVycyA9IFtdO1xuXG52YXIgc3Vic2NyaWJlID0gZnVuY3Rpb24gc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gIGlmIChsaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPT09IC0xKSB7XG4gICAgbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHZhciBsaXN0ZW5lckluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuXG4gICAgICBpZiAobGlzdGVuZXJJbmRleCA+IC0xKSB7XG4gICAgICAgIGxpc3RlbmVycy5zcGxpY2UobGlzdGVuZXJJbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcblxudmFyIF9lbWl0Q2hhbmdlID0gZnVuY3Rpb24gX2VtaXRDaGFuZ2UoKSB7XG4gIGxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgIHJldHVybiBsaXN0ZW5lcigpO1xuICB9KTtcbn07XG5cbnZhciBfYXBwZW5kSW1wb3J0YW50VG9FYWNoVmFsdWUgPSBmdW5jdGlvbiBfYXBwZW5kSW1wb3J0YW50VG9FYWNoVmFsdWUoc3R5bGVPYmopIHtcbiAgdmFyIGltcG9ydGFudFN0eWxlT2JqID0ge307XG5cbiAgT2JqZWN0LmtleXMoc3R5bGVPYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciB2YWx1ZSA9IHN0eWxlT2JqW2tleV07XG5cbiAgICAvLyBUaGlzIGJyZWFrcyB1bml0bGVzcyB2YWx1ZXMgYnV0IHRoZXknbGwgYmUgZGVwcmVjYXRlZCBzb29uIGFueXdheVxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTg3M1xuICAgIHZhbHVlID0gdmFsdWUgKyBcIiAhaW1wb3J0YW50XCI7XG4gICAgaW1wb3J0YW50U3R5bGVPYmpba2V5XSA9IHZhbHVlO1xuICB9KTtcblxuICByZXR1cm4gaW1wb3J0YW50U3R5bGVPYmo7XG59O1xuXG52YXIgYWRkUHJpbnRTdHlsZXMgPSBmdW5jdGlvbiBhZGRQcmludFN0eWxlcyhDb21wb25lbnQpIHtcbiAgaWYgKCFDb21wb25lbnQucHJpbnRTdHlsZXMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgcHJpbnRTdHlsZUNsYXNzID0ge307XG5cbiAgT2JqZWN0LmtleXMoQ29tcG9uZW50LnByaW50U3R5bGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgc3R5bGVzID0gQ29tcG9uZW50LnByaW50U3R5bGVzW2tleV07XG4gICAgdmFyIGNsYXNzTmFtZSA9IFwiUmFkaXVtLVwiICsgQ29tcG9uZW50LmRpc3BsYXlOYW1lICsgXCItXCIgKyBrZXk7XG4gICAgYWxsUHJpbnRTdHlsZXNbXCIuXCIgKyBjbGFzc05hbWVdID0gX2FwcGVuZEltcG9ydGFudFRvRWFjaFZhbHVlKHN0eWxlcyk7XG4gICAgcHJpbnRTdHlsZUNsYXNzW2tleV0gPSBjbGFzc05hbWU7XG4gIH0pO1xuXG4gIC8vIEFsbG93cyBmb3IgbGF6eSBsb2FkaW5nIG9mIEpTIHRoYXQgdGhlbiBjYWxscyBSYWRpdW0gdG8gdXBkYXRlIHRoZVxuICAvLyBwcmludCBzdHlsZXNcbiAgX2VtaXRDaGFuZ2UoKTtcbiAgcmV0dXJuIHByaW50U3R5bGVDbGFzcztcbn07XG5cbnZhciBnZXRQcmludFN0eWxlcyA9IGZ1bmN0aW9uIGdldFByaW50U3R5bGVzKCkge1xuICByZXR1cm4gYWxsUHJpbnRTdHlsZXM7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYWRkUHJpbnRTdHlsZXM6IGFkZFByaW50U3R5bGVzLFxuICBnZXRQcmludFN0eWxlczogZ2V0UHJpbnRTdHlsZXMsXG4gIHN1YnNjcmliZTogc3Vic2NyaWJlXG59OyIsIid1c2Ugc3RyaWN0JztcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIE1vdXNlVXBMaXN0ZW5lciA9IHJlcXVpcmUoJy4vbW91c2UtdXAtbGlzdGVuZXInKTtcbnZhciBnZXRTdGF0ZSA9IHJlcXVpcmUoJy4vZ2V0LXN0YXRlJyk7XG52YXIgZ2V0U3RhdGVLZXkgPSByZXF1aXJlKCcuL2dldC1zdGF0ZS1rZXknKTtcbnZhciBQcmVmaXhlciA9IHJlcXVpcmUoJy4vcHJlZml4ZXInKTtcbnZhciBDb25maWcgPSByZXF1aXJlKCcuL2NvbmZpZycpO1xuXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCdleGVudicpO1xudmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCk7XG5cbi8vIGJhYmVsLWVzbGludCAzLjEuNyBmYWlscyBoZXJlIGZvciBzb21lIHJlYXNvbiwgZXJyb3I6XG4vLyAgIDA6MCAgZXJyb3IgIENhbm5vdCBjYWxsIG1ldGhvZCAnaXNTZXF1ZW5jZUV4cHJlc3Npb24nIG9mIHVuZGVmaW5lZFxuLy9cbi8vIGRlY2xhcmUgY2xhc3MgUmFkaXVtQ29tcG9uZW50IGV4dGVuZHMgUmVhY3RDb21wb25lbnQge1xuLy8gICBfbGFzdE1vdXNlRG93bjogbnVtYmVyLFxuLy8gICBfcmFkaXVtTWVkaWFRdWVyeUxpc3RlbmVyc0J5UXVlcnk6IE9iamVjdDxzdHJpbmcsIHtyZW1vdmU6ICgpID0+IHZvaWR9Pixcbi8vICAgX3JhZGl1bU1vdXNlVXBMaXN0ZW5lcjoge3JlbW92ZTogKCkgPT4gdm9pZH0sXG4vLyB9XG5cbnZhciBtZWRpYVF1ZXJ5TGlzdEJ5UXVlcnlTdHJpbmcgPSB7fTtcblxudmFyIF9pc1NwZWNpYWxLZXkgPSBmdW5jdGlvbiBfaXNTcGVjaWFsS2V5KGtleSkge1xuICByZXR1cm4ga2V5WzBdID09PSAnOicgfHwga2V5WzBdID09PSAnQCc7XG59O1xuXG52YXIgX2dldFN0eWxlU3RhdGUgPSBmdW5jdGlvbiBfZ2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIGdldFN0YXRlKGNvbXBvbmVudC5zdGF0ZSwga2V5LCB2YWx1ZSk7XG59O1xuXG52YXIgX3NldFN0eWxlU3RhdGUgPSBmdW5jdGlvbiBfc2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgbmV3U3RhdGUpIHtcbiAgdmFyIGV4aXN0aW5nID0gY29tcG9uZW50Ll9sYXN0UmFkaXVtU3RhdGUgfHwgY29tcG9uZW50LnN0YXRlICYmIGNvbXBvbmVudC5zdGF0ZS5fcmFkaXVtU3R5bGVTdGF0ZSB8fCB7fTtcblxuICB2YXIgc3RhdGUgPSB7IF9yYWRpdW1TdHlsZVN0YXRlOiBfZXh0ZW5kcyh7fSwgZXhpc3RpbmcpIH07XG4gIHN0YXRlLl9yYWRpdW1TdHlsZVN0YXRlW2tleV0gPSBfZXh0ZW5kcyh7fSwgc3RhdGUuX3JhZGl1bVN0eWxlU3RhdGVba2V5XSwgbmV3U3RhdGUpO1xuXG4gIGNvbXBvbmVudC5fbGFzdFJhZGl1bVN0YXRlID0gc3RhdGUuX3JhZGl1bVN0eWxlU3RhdGU7XG4gIGNvbXBvbmVudC5zZXRTdGF0ZShzdGF0ZSk7XG59O1xuXG4vLyBNZXJnZSBzdHlsZSBvYmplY3RzLiBTcGVjaWFsIGNhc2luZyBmb3IgcHJvcHMgc3RhcnRpbmcgd2l0aCAnOyc7IHRoZSB2YWx1ZXNcbi8vIHNob3VsZCBiZSBvYmplY3RzLCBhbmQgYXJlIG1lcmdlZCB3aXRoIG90aGVycyBvZiB0aGUgc2FtZSBuYW1lIChpbnN0ZWFkIG9mXG4vLyBvdmVyd3JpdGluZykuXG52YXIgX21lcmdlU3R5bGVzID0gZnVuY3Rpb24gX21lcmdlU3R5bGVzKHN0eWxlcykge1xuICB2YXIgcmVzdWx0ID0ge307XG5cbiAgc3R5bGVzLmZvckVhY2goZnVuY3Rpb24gKHN0eWxlKSB7XG4gICAgaWYgKCFzdHlsZSB8fCB0eXBlb2Ygc3R5bGUgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkoc3R5bGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgT2JqZWN0LmtleXMoc3R5bGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKF9pc1NwZWNpYWxLZXkoa2V5KSAmJiByZXN1bHRba2V5XSkge1xuICAgICAgICByZXN1bHRba2V5XSA9IF9tZXJnZVN0eWxlcyhbcmVzdWx0W2tleV0sIHN0eWxlW2tleV1dKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gc3R5bGVba2V5XTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbnZhciBfbW91c2VVcCA9IGZ1bmN0aW9uIF9tb3VzZVVwKGNvbXBvbmVudCkge1xuICBPYmplY3Qua2V5cyhjb21wb25lbnQuc3RhdGUuX3JhZGl1bVN0eWxlU3RhdGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmIChfZ2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgJzphY3RpdmUnKSkge1xuICAgICAgX3NldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksIHsgJzphY3RpdmUnOiBmYWxzZSB9KTtcbiAgICB9XG4gIH0pO1xufTtcblxudmFyIF9vbk1lZGlhUXVlcnlDaGFuZ2UgPSBmdW5jdGlvbiBfb25NZWRpYVF1ZXJ5Q2hhbmdlKGNvbXBvbmVudCwgcXVlcnksIG1lZGlhUXVlcnlMaXN0KSB7XG4gIHZhciBzdGF0ZSA9IHt9O1xuICBzdGF0ZVtxdWVyeV0gPSBtZWRpYVF1ZXJ5TGlzdC5tYXRjaGVzO1xuICBfc2V0U3R5bGVTdGF0ZShjb21wb25lbnQsICdfYWxsJywgc3RhdGUpO1xufTtcblxudmFyIF9yZXNvbHZlTWVkaWFRdWVyeVN0eWxlcyA9IGZ1bmN0aW9uIF9yZXNvbHZlTWVkaWFRdWVyeVN0eWxlcyhjb21wb25lbnQsIHN0eWxlKSB7XG4gIGlmICghQ29uZmlnLmNhbk1hdGNoTWVkaWEoKSkge1xuICAgIHJldHVybiBzdHlsZTtcbiAgfVxuXG4gIE9iamVjdC5rZXlzKHN0eWxlKS5maWx0ZXIoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gbmFtZVswXSA9PT0gJ0AnO1xuICB9KS5tYXAoZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgdmFyIG1lZGlhUXVlcnlTdHlsZXMgPSBzdHlsZVtxdWVyeV07XG4gICAgcXVlcnkgPSBxdWVyeS5yZXBsYWNlKCdAbWVkaWEgJywgJycpO1xuXG4gICAgLy8gQ3JlYXRlIGEgZ2xvYmFsIE1lZGlhUXVlcnlMaXN0IGlmIG9uZSBkb2Vzbid0IGFscmVhZHkgZXhpc3RcbiAgICB2YXIgbXFsID0gbWVkaWFRdWVyeUxpc3RCeVF1ZXJ5U3RyaW5nW3F1ZXJ5XTtcbiAgICBpZiAoIW1xbCkge1xuICAgICAgbWVkaWFRdWVyeUxpc3RCeVF1ZXJ5U3RyaW5nW3F1ZXJ5XSA9IG1xbCA9IENvbmZpZy5tYXRjaE1lZGlhKHF1ZXJ5KTtcbiAgICB9XG5cbiAgICAvLyBLZWVwIHRyYWNrIG9mIHdoaWNoIGtleXMgYWxyZWFkeSBoYXZlIGxpc3RlbmVyc1xuICAgIGlmICghY29tcG9uZW50Ll9yYWRpdW1NZWRpYVF1ZXJ5TGlzdGVuZXJzQnlRdWVyeSkge1xuICAgICAgY29tcG9uZW50Ll9yYWRpdW1NZWRpYVF1ZXJ5TGlzdGVuZXJzQnlRdWVyeSA9IHt9O1xuICAgIH1cblxuICAgIGlmICghY29tcG9uZW50Ll9yYWRpdW1NZWRpYVF1ZXJ5TGlzdGVuZXJzQnlRdWVyeVtxdWVyeV0pIHtcbiAgICAgIHZhciBsaXN0ZW5lciA9IF9vbk1lZGlhUXVlcnlDaGFuZ2UuYmluZChudWxsLCBjb21wb25lbnQsIHF1ZXJ5KTtcbiAgICAgIG1xbC5hZGRMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICBjb21wb25lbnQuX3JhZGl1bU1lZGlhUXVlcnlMaXN0ZW5lcnNCeVF1ZXJ5W3F1ZXJ5XSA9IHtcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICAgICAgbXFsLnJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBBcHBseSBtZWRpYSBxdWVyeSBzdGF0ZXNcbiAgICBpZiAobXFsLm1hdGNoZXMpIHtcbiAgICAgIHN0eWxlID0gX21lcmdlU3R5bGVzKFtzdHlsZSwgbWVkaWFRdWVyeVN0eWxlc10pO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHN0eWxlO1xufTtcblxuLy8gV3JhcHBlciBhcm91bmQgUmVhY3QuY2xvbmVFbGVtZW50LiBUbyBhdm9pZCBwcm9jZXNzaW5nIHRoZSBzYW1lIGVsZW1lbnRcbi8vIHR3aWNlLCB3aGVuZXZlciB3ZSBjbG9uZSBhbiBlbGVtZW50IGFkZCBhIHNwZWNpYWwgbm9uLWVudW1lcmFibGUgcHJvcCB0b1xuLy8gbWFrZSBzdXJlIHdlIGRvbid0IHByb2Nlc3MgdGhpcyBlbGVtZW50IGFnYWluLlxudmFyIF9jbG9uZUVsZW1lbnQgPSBmdW5jdGlvbiBfY2xvbmVFbGVtZW50KHJlbmRlcmVkRWxlbWVudCwgbmV3UHJvcHMsIG5ld0NoaWxkcmVuKSB7XG4gIC8vIE9ubHkgYWRkIGZsYWcgaWYgdGhpcyBpcyBhIG5vcm1hbCBET00gZWxlbWVudFxuICBpZiAodHlwZW9mIHJlbmRlcmVkRWxlbWVudC50eXBlID09PSAnc3RyaW5nJykge1xuICAgIG5ld1Byb3BzID0gX2V4dGVuZHMoe30sIG5ld1Byb3BzLCB7IF9yYWRpdW1EaWRSZXNvbHZlU3R5bGVzOiB0cnVlIH0pO1xuICB9XG5cbiAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChyZW5kZXJlZEVsZW1lbnQsIG5ld1Byb3BzLCBuZXdDaGlsZHJlbik7XG59O1xuXG4vL1xuLy8gVGhlIG51Y2xldXMgb2YgUmFkaXVtLiByZXNvbHZlU3R5bGVzIGlzIGNhbGxlZCBvbiB0aGUgcmVuZGVyZWQgZWxlbWVudHNcbi8vIGJlZm9yZSB0aGV5IGFyZSByZXR1cm5lZCBpbiByZW5kZXIuIEl0IGl0ZXJhdGVzIG92ZXIgdGhlIGVsZW1lbnRzIGFuZFxuLy8gY2hpbGRyZW4sIHJld3JpdGluZyBwcm9wcyB0byBhZGQgZXZlbnQgaGFuZGxlcnMgcmVxdWlyZWQgdG8gY2FwdHVyZSB1c2VyXG4vLyBpbnRlcmFjdGlvbnMgKGUuZy4gbW91c2Ugb3ZlcikuIEl0IGFsc28gcmVwbGFjZXMgdGhlIHN0eWxlIHByb3AgYmVjYXVzZSBpdFxuLy8gYWRkcyBpbiB0aGUgdmFyaW91cyBpbnRlcmFjdGlvbiBzdHlsZXMgKGUuZy4gOmhvdmVyKS5cbi8vXG52YXIgcmVzb2x2ZVN0eWxlcyA9IGZ1bmN0aW9uIHJlc29sdmVTdHlsZXMoY29tcG9uZW50LCAvLyBSZWFjdENvbXBvbmVudCwgZmxvdytlc2xpbnQgY29tcGxhaW5pbmdcbnJlbmRlcmVkRWxlbWVudCwgLy8gUmVhY3RFbGVtZW50XG5leGlzdGluZ0tleU1hcCkge1xuICAvLyBSZWFjdEVsZW1lbnRcbiAgZXhpc3RpbmdLZXlNYXAgPSBleGlzdGluZ0tleU1hcCB8fCB7fTtcblxuICBpZiAoIXJlbmRlcmVkRWxlbWVudCB8fFxuICAvLyBCYWlsIGlmIHdlJ3ZlIGFscmVhZHkgcHJvY2Vzc2VkIHRoaXMgZWxlbWVudC4gVGhpcyBlbnN1cmVzIHRoYXQgb25seSB0aGVcbiAgLy8gb3duZXIgb2YgYW4gZWxlbWVudCBwcm9jZXNzZXMgdGhhdCBlbGVtZW50LCBzaW5jZSB0aGUgb3duZXIncyByZW5kZXJcbiAgLy8gZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgZmlyc3QgKHdoaWNoIHdpbGwgYWx3YXlzIGJlIHRoZSBjYXNlLCBzaW5jZSB5b3VcbiAgLy8gY2FuJ3Qga25vdyB3aGF0IGVsc2UgdG8gcmVuZGVyIHVudGlsIHlvdSByZW5kZXIgdGhlIHBhcmVudCBjb21wb25lbnQpLlxuICByZW5kZXJlZEVsZW1lbnQucHJvcHMgJiYgcmVuZGVyZWRFbGVtZW50LnByb3BzLl9yYWRpdW1EaWRSZXNvbHZlU3R5bGVzKSB7XG4gICAgcmV0dXJuIHJlbmRlcmVkRWxlbWVudDtcbiAgfVxuXG4gIC8vIFJlY3Vyc2Ugb3ZlciBjaGlsZHJlbiBmaXJzdCBpbiBjYXNlIHdlIGJhaWwgZWFybHkuIE5vdGUgdGhhdCBjaGlsZHJlbiBvbmx5XG4gIC8vIGluY2x1ZGUgdGhvc2UgcmVuZGVyZWQgaW4gYHRoaXNgIGNvbXBvbmVudC4gQ2hpbGQgbm9kZXMgaW4gb3RoZXIgY29tcG9uZW50c1xuICAvLyB3aWxsIG5vdCBiZSBoZXJlLCBzbyBlYWNoIGNvbXBvbmVudCBuZWVkcyB0byB1c2UgUmFkaXVtLlxuICB2YXIgb2xkQ2hpbGRyZW4gPSByZW5kZXJlZEVsZW1lbnQucHJvcHMuY2hpbGRyZW47XG4gIHZhciBuZXdDaGlsZHJlbiA9IG9sZENoaWxkcmVuO1xuICBpZiAob2xkQ2hpbGRyZW4pIHtcbiAgICB2YXIgY2hpbGRyZW5UeXBlID0gdHlwZW9mIG9sZENoaWxkcmVuO1xuICAgIGlmIChjaGlsZHJlblR5cGUgPT09ICdzdHJpbmcnIHx8IGNoaWxkcmVuVHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIC8vIERvbid0IGRvIGFueXRoaW5nIHdpdGggYSBzaW5nbGUgcHJpbWl0aXZlIGNoaWxkXG4gICAgICBuZXdDaGlsZHJlbiA9IG9sZENoaWxkcmVuO1xuICAgIH0gZWxzZSBpZiAoY2hpbGRyZW5UeXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBXcmFwIHRoZSBmdW5jdGlvbiwgcmVzb2x2aW5nIHN0eWxlcyBvbiB0aGUgcmVzdWx0XG4gICAgICBuZXdDaGlsZHJlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG9sZENoaWxkcmVuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGlmIChSZWFjdC5pc1ZhbGlkRWxlbWVudChyZXN1bHQpKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmVTdHlsZXMoY29tcG9uZW50LCByZXN1bHQsIGV4aXN0aW5nS2V5TWFwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKFJlYWN0LkNoaWxkcmVuLmNvdW50KG9sZENoaWxkcmVuKSA9PT0gMSAmJiBvbGRDaGlsZHJlbi50eXBlKSB7XG4gICAgICAvLyBJZiBhIFJlYWN0IEVsZW1lbnQgaXMgYW4gb25seSBjaGlsZCwgZG9uJ3Qgd3JhcCBpdCBpbiBhbiBhcnJheSBmb3JcbiAgICAgIC8vIFJlYWN0LkNoaWxkcmVuLm1hcCgpIGZvciBSZWFjdC5DaGlsZHJlbi5vbmx5KCkgY29tcGF0aWJpbGl0eS5cbiAgICAgIHZhciBvbmx5Q2hpbGQgPSBSZWFjdC5DaGlsZHJlbi5vbmx5KG9sZENoaWxkcmVuKTtcbiAgICAgIG5ld0NoaWxkcmVuID0gcmVzb2x2ZVN0eWxlcyhjb21wb25lbnQsIG9ubHlDaGlsZCwgZXhpc3RpbmdLZXlNYXApO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdDaGlsZHJlbiA9IFJlYWN0LkNoaWxkcmVuLm1hcChvbGRDaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIGlmIChSZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZCkpIHtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZVN0eWxlcyhjb21wb25lbnQsIGNoaWxkLCBleGlzdGluZ0tleU1hcCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICB2YXIgcHJvcHMgPSByZW5kZXJlZEVsZW1lbnQucHJvcHM7XG4gIHZhciBuZXdQcm9wcyA9IHt9O1xuXG4gIC8vIFJlY3Vyc2Ugb3ZlciBwcm9wcywganVzdCBsaWtlIGNoaWxkcmVuXG4gIE9iamVjdC5rZXlzKHByb3BzKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgLy8gV2UgYWxyZWFkeSByZWN1cnNlIG92ZXIgY2hpbGRyZW4gYWJvdmVcbiAgICBpZiAocHJvcCA9PT0gJ2NoaWxkcmVuJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wXTtcbiAgICBpZiAoUmVhY3QuaXNWYWxpZEVsZW1lbnQocHJvcFZhbHVlKSkge1xuICAgICAgbmV3UHJvcHNbcHJvcF0gPSByZXNvbHZlU3R5bGVzKGNvbXBvbmVudCwgcHJvcFZhbHVlLCBleGlzdGluZ0tleU1hcCk7XG4gICAgfVxuICB9KTtcblxuICB2YXIgaGFzUmVzb2x2ZWRQcm9wcyA9IE9iamVjdC5rZXlzKG5ld1Byb3BzKS5sZW5ndGggPiAwO1xuXG4gIC8vIEJhaWwgZWFybHkgaWYgZWxlbWVudCBpcyBub3QgYSBzaW1wbGUgUmVhY3RET01FbGVtZW50LlxuICBpZiAoIVJlYWN0LmlzVmFsaWRFbGVtZW50KHJlbmRlcmVkRWxlbWVudCkgfHwgdHlwZW9mIHJlbmRlcmVkRWxlbWVudC50eXBlICE9PSAnc3RyaW5nJykge1xuICAgIGlmIChvbGRDaGlsZHJlbiA9PT0gbmV3Q2hpbGRyZW4gJiYgIWhhc1Jlc29sdmVkUHJvcHMpIHtcbiAgICAgIHJldHVybiByZW5kZXJlZEVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9jbG9uZUVsZW1lbnQocmVuZGVyZWRFbGVtZW50LCBoYXNSZXNvbHZlZFByb3BzID8gbmV3UHJvcHMgOiB7fSwgbmV3Q2hpbGRyZW4pO1xuICB9XG5cbiAgdmFyIHN0eWxlID0gcHJvcHMuc3R5bGU7XG5cbiAgLy8gQ29udmVuaWVudCBzeW50YXggZm9yIG11bHRpcGxlIHN0eWxlczogYHN0eWxlPXtbc3R5bGUxLCBzdHlsZTIsIGV0Y119YFxuICAvLyBJZ25vcmVzIG5vbi1vYmplY3RzLCBzbyB5b3UgY2FuIGRvIGB0aGlzLnN0YXRlLmlzQ29vbCAmJiBzdHlsZXMuY29vbGAuXG4gIGlmIChBcnJheS5pc0FycmF5KHN0eWxlKSkge1xuICAgIHN0eWxlID0gX21lcmdlU3R5bGVzKHN0eWxlKTtcbiAgfVxuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgLy8gV2FybiBpZiB5b3UgdXNlIGxvbmdoYW5kIGFuZCBzaG9ydGhhbmQgcHJvcGVydGllcyBpbiB0aGUgc2FtZSBzdHlsZVxuICAgIC8vIG9iamVjdC5cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvU2hvcnRoYW5kX3Byb3BlcnRpZXNcblxuICAgIHZhciBzaG9ydGhhbmRQcm9wZXJ0eUV4cGFuc2lvbnMgPSB7XG4gICAgICAnYmFja2dyb3VuZCc6IFsnYmFja2dyb3VuZEF0dGFjaG1lbnQnLCAnYmFja2dyb3VuZEJsZW5kTW9kZScsICdiYWNrZ3JvdW5kQ2xpcCcsICdiYWNrZ3JvdW5kQ29sb3InLCAnYmFja2dyb3VuZEltYWdlJywgJ2JhY2tncm91bmRPcmlnaW4nLCAnYmFja2dyb3VuZFBvc2l0aW9uJywgJ2JhY2tncm91bmRQb3NpdGlvblgnLCAnYmFja2dyb3VuZFBvc2l0aW9uWScsICdiYWNrZ3JvdW5kUmVwZWF0JywgJ2JhY2tncm91bmRSZXBlYXRYJywgJ2JhY2tncm91bmRSZXBlYXRZJywgJ2JhY2tncm91bmRTaXplJ10sXG4gICAgICAnYm9yZGVyJzogWydib3JkZXJCb3R0b20nLCAnYm9yZGVyQm90dG9tQ29sb3InLCAnYm9yZGVyQm90dG9tU3R5bGUnLCAnYm9yZGVyQm90dG9tV2lkdGgnLCAnYm9yZGVyQ29sb3InLCAnYm9yZGVyTGVmdCcsICdib3JkZXJMZWZ0Q29sb3InLCAnYm9yZGVyTGVmdFN0eWxlJywgJ2JvcmRlckxlZnRXaWR0aCcsICdib3JkZXJSaWdodCcsICdib3JkZXJSaWdodENvbG9yJywgJ2JvcmRlclJpZ2h0U3R5bGUnLCAnYm9yZGVyUmlnaHRXaWR0aCcsICdib3JkZXJTdHlsZScsICdib3JkZXJUb3AnLCAnYm9yZGVyVG9wQ29sb3InLCAnYm9yZGVyVG9wU3R5bGUnLCAnYm9yZGVyVG9wV2lkdGgnLCAnYm9yZGVyV2lkdGgnXSxcbiAgICAgICdib3JkZXJJbWFnZSc6IFsnYm9yZGVySW1hZ2VPdXRzZXQnLCAnYm9yZGVySW1hZ2VSZXBlYXQnLCAnYm9yZGVySW1hZ2VTbGljZScsICdib3JkZXJJbWFnZVNvdXJjZScsICdib3JkZXJJbWFnZVdpZHRoJ10sXG4gICAgICAnYm9yZGVyUmFkaXVzJzogWydib3JkZXJCb3R0b21MZWZ0UmFkaXVzJywgJ2JvcmRlckJvdHRvbVJpZ2h0UmFkaXVzJywgJ2JvcmRlclRvcExlZnRSYWRpdXMnLCAnYm9yZGVyVG9wUmlnaHRSYWRpdXMnXSxcbiAgICAgICdmb250JzogWydmb250RmFtaWx5JywgJ2ZvbnRLZXJuaW5nJywgJ2ZvbnRTaXplJywgJ2ZvbnRTdHJldGNoJywgJ2ZvbnRTdHlsZScsICdmb250VmFyaWFudCcsICdmb250VmFyaWFudExpZ2F0dXJlcycsICdmb250V2VpZ2h0JywgJ2xpbmVIZWlnaHQnXSxcbiAgICAgICdsaXN0U3R5bGUnOiBbJ2xpc3RTdHlsZUltYWdlJywgJ2xpc3RTdHlsZVBvc2l0aW9uJywgJ2xpc3RTdHlsZVR5cGUnXSxcbiAgICAgICdtYXJnaW4nOiBbJ21hcmdpbkJvdHRvbScsICdtYXJnaW5MZWZ0JywgJ21hcmdpblJpZ2h0JywgJ21hcmdpblRvcCddLFxuICAgICAgJ3BhZGRpbmcnOiBbJ3BhZGRpbmdCb3R0b20nLCAncGFkZGluZ0xlZnQnLCAncGFkZGluZ1JpZ2h0JywgJ3BhZGRpbmdUb3AnXSxcbiAgICAgICd0cmFuc2l0aW9uJzogWyd0cmFuc2l0aW9uRGVsYXknLCAndHJhbnNpdGlvbkR1cmF0aW9uJywgJ3RyYW5zaXRpb25Qcm9wZXJ0eScsICd0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24nXVxuICAgIH07XG5cbiAgICB2YXIgY2hlY2tQcm9wcyA9IGZ1bmN0aW9uIGNoZWNrUHJvcHMocykge1xuICAgICAgaWYgKHR5cGVvZiBzICE9PSAnb2JqZWN0JyB8fCAhcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBzdHlsZUtleXMgPSBPYmplY3Qua2V5cyhzKTtcbiAgICAgIHN0eWxlS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChzdHlsZUtleSkge1xuICAgICAgICBpZiAoc2hvcnRoYW5kUHJvcGVydHlFeHBhbnNpb25zW3N0eWxlS2V5XSAmJiBzaG9ydGhhbmRQcm9wZXJ0eUV4cGFuc2lvbnNbc3R5bGVLZXldLnNvbWUoZnVuY3Rpb24gKHNwKSB7XG4gICAgICAgICAgcmV0dXJuIHN0eWxlS2V5cy5pbmRleE9mKHNwKSAhPT0gLTE7XG4gICAgICAgIH0pKSB7XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICAgIGNvbnNvbGUud2FybignUmFkaXVtOiBwcm9wZXJ0eSBcIicgKyBzdHlsZUtleSArICdcIiBpbiBzdHlsZSBvYmplY3QnLCBzdHlsZSwgJzogZG8gbm90IG1peCBsb25naGFuZCBhbmQgJyArICdzaG9ydGhhbmQgcHJvcGVydGllcyBpbiB0aGUgc2FtZSBzdHlsZSBvYmplY3QuIENoZWNrIHRoZSByZW5kZXIgJyArICdtZXRob2Qgb2YgJyArIGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSArICcuJywgJ1NlZSBodHRwczovL2dpdGh1Yi5jb20vRm9ybWlkYWJsZUxhYnMvcmFkaXVtL2lzc3Vlcy85NSBmb3IgbW9yZSAnICsgJ2luZm9ybWF0aW9uLicpO1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc3R5bGVLZXlzLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgICAgcmV0dXJuIGNoZWNrUHJvcHMoc1trXSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNoZWNrUHJvcHMoc3R5bGUpO1xuICB9XG5cbiAgLy8gQmFpbCBlYXJseSBpZiBubyBpbnRlcmFjdGl2ZSBzdHlsZXMuXG4gIGlmICghc3R5bGUgfHwgIU9iamVjdC5rZXlzKHN0eWxlKS5zb21lKF9pc1NwZWNpYWxLZXkpKSB7XG4gICAgaWYgKHN0eWxlKSB7XG4gICAgICAvLyBTdGlsbCBwZXJmb3JtIHZlbmRvciBwcmVmaXhpbmcsIHRob3VnaC5cbiAgICAgIG5ld1Byb3BzLnN0eWxlID0gUHJlZml4ZXIuZ2V0UHJlZml4ZWRTdHlsZShjb21wb25lbnQsIHN0eWxlKTtcbiAgICAgIHJldHVybiBfY2xvbmVFbGVtZW50KHJlbmRlcmVkRWxlbWVudCwgbmV3UHJvcHMsIG5ld0NoaWxkcmVuKTtcbiAgICB9IGVsc2UgaWYgKG5ld0NoaWxkcmVuIHx8IGhhc1Jlc29sdmVkUHJvcHMpIHtcbiAgICAgIHJldHVybiBfY2xvbmVFbGVtZW50KHJlbmRlcmVkRWxlbWVudCwgbmV3UHJvcHMsIG5ld0NoaWxkcmVuKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVuZGVyZWRFbGVtZW50O1xuICB9XG5cbiAgLy8gV2UgbmVlZCBhIHVuaXF1ZSBrZXkgdG8gY29ycmVsYXRlIHN0YXRlIGNoYW5nZXMgZHVlIHRvIHVzZXIgaW50ZXJhY3Rpb25cbiAgLy8gd2l0aCB0aGUgcmVuZGVyZWQgZWxlbWVudCwgc28gd2Uga25vdyB0byBhcHBseSB0aGUgcHJvcGVyIGludGVyYWN0aXZlXG4gIC8vIHN0eWxlcy5cbiAgdmFyIG9yaWdpbmFsS2V5ID0gcmVuZGVyZWRFbGVtZW50LnJlZiB8fCByZW5kZXJlZEVsZW1lbnQua2V5O1xuICB2YXIga2V5ID0gZ2V0U3RhdGVLZXkob3JpZ2luYWxLZXkpO1xuXG4gIGlmIChleGlzdGluZ0tleU1hcFtrZXldKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdSYWRpdW0gcmVxdWlyZXMgZWFjaCBlbGVtZW50IHdpdGggaW50ZXJhY3RpdmUgc3R5bGVzIHRvIGhhdmUgYSB1bmlxdWUgJyArICdrZXksIHNldCB1c2luZyBlaXRoZXIgdGhlIHJlZiBvciBrZXkgcHJvcC4gJyArIChvcmlnaW5hbEtleSA/ICdLZXkgXCInICsgb3JpZ2luYWxLZXkgKyAnXCIgaXMgYSBkdXBsaWNhdGUuJyA6ICdNdWx0aXBsZSBlbGVtZW50cyBoYXZlIG5vIGtleSBzcGVjaWZpZWQuJykpO1xuICB9XG5cbiAgZXhpc3RpbmdLZXlNYXBba2V5XSA9IHRydWU7XG5cbiAgLy8gTWVkaWEgcXVlcmllcyBjYW4gY29udGFpbiBwc2V1ZG8gc3R5bGVzLCBsaWtlIDpob3ZlclxuICBzdHlsZSA9IF9yZXNvbHZlTWVkaWFRdWVyeVN0eWxlcyhjb21wb25lbnQsIHN0eWxlKTtcblxuICB2YXIgbmV3U3R5bGUgPSB7fTtcbiAgT2JqZWN0LmtleXMoc3R5bGUpLmZvckVhY2goZnVuY3Rpb24gKHN0eWxlS2V5KSB7XG4gICAgaWYgKCFfaXNTcGVjaWFsS2V5KHN0eWxlS2V5KSkge1xuICAgICAgbmV3U3R5bGVbc3R5bGVLZXldID0gc3R5bGVbc3R5bGVLZXldO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gT25seSBhZGQgaGFuZGxlcnMgaWYgbmVjZXNzYXJ5XG4gIGlmIChzdHlsZVsnOmhvdmVyJ10gfHwgc3R5bGVbJzphY3RpdmUnXSkge1xuICAgIC8vIEFsd2F5cyBjYWxsIHRoZSBleGlzdGluZyBoYW5kbGVyIGlmIG9uZSBpcyBhbHJlYWR5IGRlZmluZWQuXG4gICAgLy8gVGhpcyBjb2RlLCBhbmQgdGhlIHZlcnkgc2ltaWxhciBvbmVzIGJlbG93LCBjb3VsZCBiZSBhYnN0cmFjdGVkIGEgYml0XG4gICAgLy8gbW9yZSwgYnV0IGl0IGh1cnRzIHJlYWRhYmlsaXR5IElNTy5cbiAgICB2YXIgZXhpc3RpbmdPbk1vdXNlRW50ZXIgPSBwcm9wcy5vbk1vdXNlRW50ZXI7XG4gICAgbmV3UHJvcHMub25Nb3VzZUVudGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGV4aXN0aW5nT25Nb3VzZUVudGVyICYmIGV4aXN0aW5nT25Nb3VzZUVudGVyKGUpO1xuICAgICAgX3NldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksIHsgJzpob3Zlcic6IHRydWUgfSk7XG4gICAgfTtcblxuICAgIHZhciBleGlzdGluZ09uTW91c2VMZWF2ZSA9IHByb3BzLm9uTW91c2VMZWF2ZTtcbiAgICBuZXdQcm9wcy5vbk1vdXNlTGVhdmUgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZXhpc3RpbmdPbk1vdXNlTGVhdmUgJiYgZXhpc3RpbmdPbk1vdXNlTGVhdmUoZSk7XG4gICAgICBfc2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgeyAnOmhvdmVyJzogZmFsc2UgfSk7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChzdHlsZVsnOmFjdGl2ZSddKSB7XG4gICAgdmFyIGV4aXN0aW5nT25Nb3VzZURvd24gPSBwcm9wcy5vbk1vdXNlRG93bjtcbiAgICBuZXdQcm9wcy5vbk1vdXNlRG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBleGlzdGluZ09uTW91c2VEb3duICYmIGV4aXN0aW5nT25Nb3VzZURvd24oZSk7XG4gICAgICBjb21wb25lbnQuX2xhc3RNb3VzZURvd24gPSBEYXRlLm5vdygpO1xuICAgICAgX3NldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksIHsgJzphY3RpdmUnOiB0cnVlIH0pO1xuICAgIH07XG4gIH1cblxuICBpZiAoc3R5bGVbJzpmb2N1cyddKSB7XG4gICAgdmFyIGV4aXN0aW5nT25Gb2N1cyA9IHByb3BzLm9uRm9jdXM7XG4gICAgbmV3UHJvcHMub25Gb2N1cyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBleGlzdGluZ09uRm9jdXMgJiYgZXhpc3RpbmdPbkZvY3VzKGUpO1xuICAgICAgX3NldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksIHsgJzpmb2N1cyc6IHRydWUgfSk7XG4gICAgfTtcblxuICAgIHZhciBleGlzdGluZ09uQmx1ciA9IHByb3BzLm9uQmx1cjtcbiAgICBuZXdQcm9wcy5vbkJsdXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZXhpc3RpbmdPbkJsdXIgJiYgZXhpc3RpbmdPbkJsdXIoZSk7XG4gICAgICBfc2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgeyAnOmZvY3VzJzogZmFsc2UgfSk7XG4gICAgfTtcbiAgfVxuXG4gIC8vIE1lcmdlIHRoZSBzdHlsZXMgaW4gdGhlIG9yZGVyIHRoZXkgd2VyZSBkZWZpbmVkXG4gIHZhciBpbnRlcmFjdGlvblN0eWxlcyA9IE9iamVjdC5rZXlzKHN0eWxlKS5maWx0ZXIoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gbmFtZSA9PT0gJzphY3RpdmUnICYmIF9nZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCAnOmFjdGl2ZScpIHx8IG5hbWUgPT09ICc6aG92ZXInICYmIF9nZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCAnOmhvdmVyJykgfHwgbmFtZSA9PT0gJzpmb2N1cycgJiYgX2dldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksICc6Zm9jdXMnKTtcbiAgfSkubWFwKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuIHN0eWxlW25hbWVdO1xuICB9KTtcblxuICBpZiAoaW50ZXJhY3Rpb25TdHlsZXMubGVuZ3RoKSB7XG4gICAgbmV3U3R5bGUgPSBfbWVyZ2VTdHlsZXMoW25ld1N0eWxlXS5jb25jYXQoaW50ZXJhY3Rpb25TdHlsZXMpKTtcbiAgfVxuXG4gIGlmIChzdHlsZVsnOmFjdGl2ZSddICYmICFjb21wb25lbnQuX3JhZGl1bU1vdXNlVXBMaXN0ZW5lciAmJiBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VFdmVudExpc3RlbmVycykge1xuICAgIGNvbXBvbmVudC5fcmFkaXVtTW91c2VVcExpc3RlbmVyID0gTW91c2VVcExpc3RlbmVyLnN1YnNjcmliZShfbW91c2VVcC5iaW5kKG51bGwsIGNvbXBvbmVudCkpO1xuICB9XG5cbiAgbmV3UHJvcHMuc3R5bGUgPSBQcmVmaXhlci5nZXRQcmVmaXhlZFN0eWxlKGNvbXBvbmVudCwgbmV3U3R5bGUpO1xuXG4gIHJldHVybiBfY2xvbmVFbGVtZW50KHJlbmRlcmVkRWxlbWVudCwgbmV3UHJvcHMsIG5ld0NoaWxkcmVuKTtcbn07XG5cbi8vIEV4cG9zaW5nIG1ldGhvZHMgZm9yIHRlc3RzIGlzIHVnbHksIGJ1dCB0aGUgYWx0ZXJuYXRpdmUsIHJlLXJlcXVpcmluZyB0aGVcbi8vIG1vZHVsZSBlYWNoIHRpbWUsIGlzIHRvbyBzbG93XG5yZXNvbHZlU3R5bGVzLl9fY2xlYXJTdGF0ZUZvclRlc3RzID0gZnVuY3Rpb24gKCkge1xuICBtZWRpYVF1ZXJ5TGlzdEJ5UXVlcnlTdHJpbmcgPSB7fTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gcmVzb2x2ZVN0eWxlczsiLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIGZpbmQoYXJyYXksIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICBpZiAodHlwZW9mIEFycmF5LnByb3RvdHlwZS5maW5kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGFycmF5LmZpbmQocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgfVxuXG4gIGNvbnRleHQgPSBjb250ZXh0IHx8IHRoaXM7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHZhciBpO1xuXG4gIGlmICh0eXBlb2YgcHJlZGljYXRlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihwcmVkaWNhdGUgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAocHJlZGljYXRlLmNhbGwoY29udGV4dCwgYXJyYXlbaV0sIGksIGFycmF5KSkge1xuICAgICAgcmV0dXJuIGFycmF5W2ldO1xuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZpbmQ7XG4iLCIvKiFcbiAgQ29weXJpZ2h0IChjKSAyMDE1IEplZCBXYXRzb24uXG4gIEJhc2VkIG9uIGNvZGUgdGhhdCBpcyBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBjYW5Vc2VET00gPSAhIShcblx0XHR0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuXHRcdHdpbmRvdy5kb2N1bWVudCAmJlxuXHRcdHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50XG5cdCk7XG5cblx0dmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0ge1xuXG5cdFx0Y2FuVXNlRE9NOiBjYW5Vc2VET00sXG5cblx0XHRjYW5Vc2VXb3JrZXJzOiB0eXBlb2YgV29ya2VyICE9PSAndW5kZWZpbmVkJyxcblxuXHRcdGNhblVzZUV2ZW50TGlzdGVuZXJzOlxuXHRcdFx0Y2FuVXNlRE9NICYmICEhKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyIHx8IHdpbmRvdy5hdHRhY2hFdmVudCksXG5cblx0XHRjYW5Vc2VWaWV3cG9ydDogY2FuVXNlRE9NICYmICEhd2luZG93LnNjcmVlblxuXG5cdH07XG5cblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcblx0XHRkZWZpbmUoZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIEV4ZWN1dGlvbkVudmlyb25tZW50O1xuXHRcdH0pO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBFeGVjdXRpb25FbnZpcm9ubWVudDtcblx0fSBlbHNlIHtcblx0XHR3aW5kb3cuRXhlY3V0aW9uRW52aXJvbm1lbnQgPSBFeGVjdXRpb25FbnZpcm9ubWVudDtcblx0fVxuXG59KCkpO1xuIl19
