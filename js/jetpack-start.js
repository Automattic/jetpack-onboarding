(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),DataActions={requestStarted:function(){AppDispatcher.dispatch({actionType:JPSConstants.SAVE_STARTED})},requestFinished:function(){AppDispatcher.dispatch({actionType:JPSConstants.SAVE_FINISHED})}};module.exports=DataActions;

},{"../constants/jetpack-start-constants":21,"../dispatcher/app-dispatcher":23}],2:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),FlashActions={notice:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SET_FLASH,message:t,severity:JPSConstants.FLASH_SEVERITY_NOTICE})},error:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SET_FLASH,message:t,severity:JPSConstants.FLASH_SEVERITY_ERROR})},unset:function(){AppDispatcher.dispatch({actionType:JPSConstants.UNSET_FLASH})}};module.exports=FlashActions;

},{"../constants/jetpack-start-constants":21,"../dispatcher/app-dispatcher":23}],3:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),Paths=require("../constants/jetpack-start-paths"),FlashActions=require("./flash-actions"),SiteActions=require("./site-actions"),WPAjax=require("../utils/wp-ajax"),SetupProgressStore=require("../stores/setup-progress-store"),SiteStore=require("../stores/site-store"),SetupProgressActions={resetData:function(){WPAjax.post(JPS.site_actions.reset_data).fail(function(t){FlashActions.error("Failed to save data: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.RESET_DATA})},completeStep:function(t,e){var s=SetupProgressStore.getStepFromSlug(t);AppDispatcher.dispatch({actionType:JPSConstants.STEP_COMPLETE,slug:t}),this._recordComplete(s,e)},completeAndNextStep:function(t,e){this.completeStep(t,e),AppDispatcher.dispatch({actionType:JPSConstants.STEP_NEXT,slug:t})},_recordComplete:function(t,e){"undefined"==typeof e&&(e={}),e.completion=SetupProgressStore.getProgressPercent(),WPAjax.post(JPS.step_actions.complete,{step:t.slug,data:e}).fail(function(t){FlashActions.error(t)})},skipStep:function(){FlashActions.unset();var t=SetupProgressStore.getCurrentStep();t.skipped||WPAjax.post(JPS.step_actions.skip,{step:t.slug}).fail(function(t){FlashActions.error(t)}),AppDispatcher.dispatch({actionType:JPSConstants.STEP_SKIP})},getStarted:function(){WPAjax.post(JPS.step_actions.start).fail(function(t){FlashActions.error(t)}),AppDispatcher.dispatch({actionType:JPSConstants.STEP_GET_STARTED})},setCurrentStep:function(t){FlashActions.unset(),AppDispatcher.dispatch({actionType:JPSConstants.STEP_SELECT,slug:t})},selectNextStep:function(){FlashActions.unset(),AppDispatcher.dispatch({actionType:JPSConstants.STEP_NEXT})},submitTitleStep:function(){SiteActions.saveTitleAndDescription().done(function(){this.completeAndNextStep(Paths.SITE_TITLE_STEP_SLUG)}.bind(this))},submitLayoutStep:function(t){SiteActions.setLayout(t).done(function(){this.completeAndNextStep(Paths.LAYOUT_STEP_SLUG)}.bind(this))},submitJetpackJumpstart:function(){SiteActions.enableJumpstart().done(function(){this.completeStep(Paths.JETPACK_MODULES_STEP_SLUG)}.bind(this))},setActiveTheme:function(t){SiteActions.setActiveTheme(t).done(function(){this.completeStep(Paths.DESIGN_STEP_SLUG,{themeId:t.id})}.bind(this))},saveDesignStep:function(){this.completeAndNextStep(Paths.DESIGN_STEP_SLUG,{themeId:SiteStore.getActiveThemeId()})}};module.exports=SetupProgressActions;

},{"../constants/jetpack-start-constants":21,"../constants/jetpack-start-paths":22,"../dispatcher/app-dispatcher":23,"../stores/setup-progress-store":27,"../stores/site-store":28,"../utils/wp-ajax":31,"./flash-actions":2,"./site-actions":4}],4:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),SiteStore=require("../stores/site-store"),FlashActions=require("./flash-actions.js"),SpinnerActions=require("./spinner-actions.js"),WPAjax=require("../utils/wp-ajax"),SiteActions={setTitle:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_TITLE,title:t})},setDescription:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_DESCRIPTION,description:t})},saveTitleAndDescription:function(){var t=SiteStore.getTitle(),e=SiteStore.getDescription();return WPAjax.post(JPS.site_actions.set_title,{title:t,description:e}).fail(function(t){FlashActions.error("Error setting title: "+t)}),jQuery("#wp-admin-bar-site-name .ab-item").html(t),AppDispatcher.dispatch({actionType:JPSConstants.SITE_SAVE_TITLE_AND_DESCRIPTION,title:t}),jQuery.Deferred().resolve()},_installTheme:function(t){return t.installed?jQuery.Deferred().resolve():(SpinnerActions.show("Installing '"+t.name+"'"),WPAjax.post(JPS.site_actions.install_theme,{themeId:t.id}).done(function(){t.installed=!0,AppDispatcher.dispatch({actionType:JPSConstants.SITE_INSTALL_THEME,theme:t})}).fail(function(t){FlashActions.error("Server error installing theme: "+t)}).always(function(){SpinnerActions.hide()}))},_activateTheme:function(t){WPAjax.post(JPS.site_actions.set_theme,{themeId:t.id}).fail(function(t){FlashActions.error("Server error setting theme: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_THEME,themeId:t.id})},setActiveTheme:function(t){return this._installTheme(t).done(function(){this._activateTheme(t)}.bind(this)),jQuery.Deferred().resolve()},setLayout:function(t){return WPAjax.post(JPS.site_actions.set_layout,{layout:t}).fail(function(t){FlashActions.error("Error setting layout: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_LAYOUT,layout:t}),jQuery.Deferred().resolve()},configureJetpack:function(t){return SpinnerActions.show("Connecting to WordPress.com"),WPAjax.post(JPS.site_actions.configure_jetpack,{return_to_step:t}).done(function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_CONFIGURED}),t.next?window.location.replace(t.next):SpinnerActions.hide()}).fail(function(t){FlashActions.error("Error enabling Jetpack: "+t),SpinnerActions.hide()})},activateJetpackModule:function(t){return WPAjax.post(JPS.site_actions.activate_jetpack_modules,{modules:[t]}).fail(function(t){FlashActions.error("Error activating Jetpack module: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_MODULE_ENABLED,slug:t}),jQuery.Deferred().resolve()},deactivateJetpackModule:function(t){return WPAjax.post(JPS.site_actions.deactivate_jetpack_modules,{modules:[t]}).fail(function(t){FlashActions.error("Error deactivating Jetpack module: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_MODULE_DISABLED,slug:t}),jQuery.Deferred().resolve()},loadAllJetpackModules:function(){return 0===SiteStore.getJetpackAdditionalModules().length?WPAjax.post(JPS.site_actions.list_jetpack_modules).done(function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_ADD_MODULES,modules:t})}).fail(function(t){FlashActions.error("Error fetching all Jetpack modules: "+t)}):jQuery.Deferred().resolve()},enableJumpstart:function(){return WPAjax.post(JPS.site_actions.activate_jetpack_modules,{modules:SiteStore.getJumpstartModuleSlugs()}).fail(function(t){FlashActions.error("Error activating Jetpack modules: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_JUMPSTART_ENABLED}),jQuery.Deferred().resolve()}};module.exports=SiteActions;

},{"../constants/jetpack-start-constants":21,"../dispatcher/app-dispatcher":23,"../stores/site-store":28,"../utils/wp-ajax":31,"./flash-actions.js":2,"./spinner-actions.js":5}],5:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),SpinnerActions={show:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SHOW_SPINNER,message:t})},hide:function(){AppDispatcher.dispatch({actionType:JPSConstants.HIDE_SPINNER})},showAsync:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SHOW_ASYNC_SPINNER,message:t})},hideAsync:function(){AppDispatcher.dispatch({actionType:JPSConstants.HIDE_ASYNC_SPINNER})}};module.exports=SpinnerActions;

},{"../constants/jetpack-start-constants":21,"../dispatcher/app-dispatcher":23}],6:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Button=require("@automattic/dops-react/js/components/button"),SiteStore=require("../stores/site-store"),WelcomeSection=require("./welcome-section"),SettingsItem=React.createClass({displayName:"SettingsItem",styles:{item:{padding:"1em",marginBottom:"1em",listStyle:"none",background:"#f5f5f5",border:"1px solid #ddd"},heading:{margin:0,fontSize:"1.2em",fontWeight:800}},render:function(){return React.createElement("li",{style:this.styles.item},React.createElement("h5",{style:this.styles.heading},this.props.title),this.props.children)}}),AdvancedSettingsStep=React.createClass({displayName:"AdvancedSettingsStep",styles:{wrapper:{marginLeft:0}},render:function(){return React.createElement(WelcomeSection,null,React.createElement("h4",null,"Advanced settings"),React.createElement("ul",{style:this.styles.wrapper},React.createElement(SettingsItem,{title:"Fine-tune your site's layout and appearance"},"Customize your siteâ€™s colors, fonts, sidebars and other settings.",React.createElement("br",null),React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.customize_url},"Customize my site"),"Â Â ",React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.themes_url},"Browse and add themes")),("blog"==SiteStore.getLayout()||"site-blog"==SiteStore.getLayout())&&React.createElement(SettingsItem,{title:"Create your first blog post"},'An epic essay or just "Hello World!"',React.createElement("br",null),React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.new_blog_post_url},"Write a new blog post"),"Â Â ",React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.manage_posts_url},"Manage posts")),React.createElement(SettingsItem,{title:"Create a static page"},'"About me", "Our Services" or anything else you can imagine.',React.createElement("br",null),React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.new_page_url},"Create a new page"),"Â Â ",React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.manage_pages_url},"Manage pages")),React.createElement(SettingsItem,{title:"Extend your site's functionality"},"WordPress offers thousands of plugins from Jetpack and the WordPress community.",React.createElement("br",null),React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.plugins_url},"Manage plugins"),"Â Â ",SiteStore.getJetpackConfigured()&&React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.jetpack_modules_url},"Manage Jetpack modules")),React.createElement(SettingsItem,{title:"Learn more"},React.createElement("a",{href:"https://codex.wordpress.org/First_Steps_With_WordPress"},"First Steps with WordPress")," - an online guide from the creators of WordPress")))}});module.exports=AdvancedSettingsStep;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../stores/site-store":28,"./welcome-section":19,"@automattic/dops-react/js/components/button":33}],7:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,ContentBox=React.createClass({displayName:"ContentBox",render:function(){return React.createElement("div",{className:"welcome__content_box"},this.props.children,React.createElement("div",{className:"clear"}))}});module.exports=ContentBox;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],8:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Dashicon=React.createClass({displayName:"Dashicon",propTypes:{name:React.PropTypes.string.isRequired,style:React.PropTypes.object,onMouseOver:React.PropTypes.func,onMouseOut:React.PropTypes.func},render:function(){return React.createElement("span",{style:this.props.style,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut,className:"dashicons dashicons-"+this.props.name},this.props.children)}});module.exports=Dashicon;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],9:[function(require,module,exports){
(function (global){
function getThemeState(){return{themes:SiteStore.getThemes(),site_title:SiteStore.getTitle()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteStore=require("../stores/site-store"),SetupProgressActions=require("../actions/setup-progress-actions"),Tooltip=require("./tooltip"),WelcomeSection=require("./welcome-section"),ContentBox=require("./content-box"),styles=require("../styles"),Button=require("@automattic/dops-react/js/components/button"),DesignStep=React.createClass({displayName:"DesignStep",componentDidMount:function(){SiteStore.addChangeListener(this._onChange),this._loadPopularThemes()},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getThemeState())},getInitialState:function(){var e=getThemeState();return e.popularThemes=[],e},handleActivateTheme:function(e){e.preventDefault(),this.setState({tooltipTheme:null,tooltipPosition:null});var t=jQuery(e.currentTarget),n=t.data("theme-id"),o=this.findTheme(n),a=!o.installed,i=SetupProgressActions.setActiveTheme(o);a&&i.done(function(){this._loadPopularThemes()}.bind(this))},findTheme:function(e){return _.findWhere(this.state.themes,{id:e})||_.findWhere(this.state.popularThemes,{id:e})},handleContinue:function(e){e.preventDefault(),SetupProgressActions.saveDesignStep()},handleShowTooltip:function(e){e.preventDefault();var t=jQuery(e.currentTarget),n=this.findTheme(t.data("theme-id")),o=t.position(),a=t.outerWidth(),i=t.outerHeight(),l={top:o.top+i/2,left:o.left+a};this.setState({tooltipTheme:n,tooltipPosition:l})},handleHideTooltip:function(e){e.preventDefault(),this.setState({tooltipTheme:null,tooltipPosition:null})},handleGetPopularThemes:function(e){e.preventDefault(),this._loadPopularThemes()},_loadPopularThemes:function(){SiteStore.getPopularThemes().done(function(e){this.setState({popularThemes:e})}.bind(this))},render:function(){return React.createElement(WelcomeSection,{id:"welcome__design"},React.createElement("h3",null,"Let's launch ",React.createElement("em",null,this.state.site_title)),React.createElement("h4",null,"Pick a design"),React.createElement("p",{style:styles.content},'A "theme" controls the design of your site - colours, fonts and layout.'),React.createElement("p",{style:styles.content},"Click any theme below to choose it for your site. And don't worry - you can easily change this later."),React.createElement("p",{className:"submit"},React.createElement(Button,{color:"blue",onClick:this.handleContinue},"Next Step â†’")),React.createElement(ContentBox,null,React.createElement("h3",null,"Installed themes"),React.createElement("div",{className:"theme-browser rendered"},this._renderThemeList())),React.createElement(ContentBox,null,React.createElement("h3",null,"Popular themes from WordPress.org",React.createElement(Button,{color:"blue",style:{"float":"right"},onClick:this.handleGetPopularThemes},"Load more themes")),React.createElement("div",{className:"theme-browser rendered"},this._renderPopularThemeList())),React.createElement("div",{style:{clear:"both"}}),this.state.tooltipTheme&&this._renderTooltip())},_renderTooltip:function(){var e=this.state.tooltipTheme,t=this.state.tooltipPosition;return React.createElement(Tooltip,{left:t.left,top:t.top,width:320,title:e.name},React.createElement("p",null,"By ",e.author),React.createElement("p",{dangerouslySetInnerHTML:{__html:_.unescape(e.description)}}))},_renderTheme:function(e){return React.createElement("div",{key:e.id,className:"theme"+(e.active?" active":""),"data-theme-id":e.id,onClick:this.handleActivateTheme,onMouseEnter:this.handleShowTooltip,onMouseLeave:this.handleHideTooltip,"aria-describedby":e.id+"-action "+e.id+"-name"},e.screenshot?React.createElement("div",{className:"theme-screenshot"},React.createElement("img",{src:e.screenshot,alt:""})):React.createElement("div",{className:"theme-screenshot blank"}),!e.active&&React.createElement("span",{className:"more-details"},e.installed?"Click to select":"Click to install"),React.createElement("h3",{className:"theme-name",id:e.id+"-name"},React.createElement("span",null,e.active?"Selected:":"")," ",e.name))},_renderPopularThemeList:function(){return this.state.popularThemes.map(this._renderTheme)},_renderThemeList:function(){return this.state.themes.map(this._renderTheme)}});module.exports=DesignStep;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/site-store":28,"../styles":30,"./content-box":7,"./tooltip":17,"./welcome-section":19,"@automattic/dops-react/js/components/button":33}],10:[function(require,module,exports){
(function (global){
function getFlashState(){return FlashStore.getFlash()}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,FlashStore=require("../stores/flash-store"),Flash=React.createClass({displayName:"Flash",componentDidMount:function(){FlashStore.addChangeListener(this._onChange)},componentWillUnmount:function(){FlashStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getFlashState())},getInitialState:function(){return getFlashState()},render:function(){return this.state.message?React.createElement("div",{className:this.state.severity+" updated"},this.state.message):null}});module.exports=Flash;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../stores/flash-store":26}],11:[function(require,module,exports){
(function (global){
function getSetupState(){return{}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SetupProgressStore=require("../stores/setup-progress-store"),SetupProgressActions=require("../actions/setup-progress-actions"),Button=require("@automattic/dops-react/js/components/button"),Radium=require("radium"),GetStarted=React.createClass({displayName:"GetStarted",componentDidMount:function(){SetupProgressStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SetupProgressStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSetupState())},getInitialState:function(){return getSetupState()},handleGetStarted:function(e){e.preventDefault(),SetupProgressActions.getStarted()},_isIE8:function(){jQuery("html").is(".ie8")},styles:{wrapper:{textAlign:"center",backgroundImage:"url("+JPS.base_url+"/img/jps-welcome.png)",backgroundRepeat:"no-repeat",backgroundPosition:"center bottom",backgroundSize:"520px auto",paddingBottom:200,"@media (max-width: 782px)":{backgroundImage:"none",paddingBottom:30}},wrapperIE8:{backgroundImage:"none"},subhead:{margin:"0 0 30px",color:"#666",fontSize:18,lineHeight:1.6,textAlign:"center","@media (max-width: 600px)":{marginBottom:15,fontSize:15},"@media (max-width: 320px)":{fontSize:13}}},render:function(){return React.createElement("div",{key:"welcome-intro",style:[this.styles.wrapper,this._isIE8()&&this.styles.wrapperIE8]},React.createElement("h3",null,"You're almost done!"),React.createElement("p",{style:this.styles.subhead},"Take these steps to supercharge your WordPress site."),React.createElement("p",null,React.createElement(Button,{color:"green",size:"big",theme:"jetpack",onClick:this.handleGetStarted},"Get Started â†’")))}});module.exports=Radium(GetStarted);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/setup-progress-store":27,"@automattic/dops-react/js/components/button":33,"radium":51}],12:[function(require,module,exports){
(function (global){
function getJetpackProgress(){return{jetpackConfigured:SiteStore.getJetpackConfigured()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteStore=require("../stores/site-store"),SiteActions=require("../actions/site-actions"),Paths=require("../constants/jetpack-start-paths"),JetpackJumpstartMenu=React.createClass({displayName:"JetpackJumpstartMenu",componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getJetpackProgress())},getInitialState:function(){return getJetpackProgress()},handleClickConnect:function(e){e.preventDefault(),console.log("clicked"),SiteActions.configureJetpack(Paths.JETPACK_MODULES_STEP_SLUG)},style:{color:"black",fontSize:12,marginLeft:20},render:function(){return React.createElement("div",{style:this.style},this.state.jetpackConfigured?React.createElement("div",null):React.createElement("div",null,"Boost traffic, enhance security, and improve performance with a connection to WordPress.com",React.createElement("br",null),React.createElement("a",{className:"button button-primary button-large",href:"#",onClick:this.handleClickConnect},"Connect to WordPress.com")))}});module.exports=JetpackJumpstartMenu;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/site-actions":4,"../constants/jetpack-start-paths":22,"../stores/site-store":28}],13:[function(require,module,exports){
(function (global){
function getJetpackState(){return{site_title:SiteStore.getTitle(),jetpackConfigured:SiteStore.getJetpackConfigured(),jumpstartEnabled:SiteStore.getJetpackJumpstartEnabled(),modulesEnabled:SiteStore.getActiveModuleSlugs()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Radium=require("radium"),SkipButton=require("./skip-button"),SiteStore=require("../stores/site-store"),SiteActions=require("../actions/site-actions"),Paths=require("../constants/jetpack-start-paths"),ContentBox=require("./content-box"),styles=require("../styles"),WelcomeSection=require("./welcome-section"),SetupProgressActions=require("../actions/setup-progress-actions"),SpinnerStore=require("../stores/spinner-store"),Button=require("@automattic/dops-react/js/components/button"),JetpackLogo=React.createClass({displayName:"JetpackLogo",styles:{jetpackLogoWrapper:{display:"block",textAlign:"center",height:70,color:"white",marginLeft:5,backgroundColor:"#81a844"},jetpackLogo:{display:"inline-block",position:"relative",width:214,marginRight:6,background:"url("+JPS.base_url+"/../jetpack/images/jetpack-logo.png) center center no-repeat",backgroundSize:"183px auto",color:"#fff",fontWeight:"normal"},jetpackLogoName:{textIndent:-9999,visibility:"hidden"}},render:function(){return React.createElement("span",{style:[this.styles.jetpackLogoWrapper,this.props.style]},"Powered by",React.createElement("br",null),React.createElement("a",{href:"/wp-admin/admin.php?page=jetpack",title:"Jetpack",style:this.styles.jetpackLogo},React.createElement("span",{style:this.styles.jetpackLogoName},"Jetpack")))}});JetpackLogo=Radium(JetpackLogo);var JetpackJumpstart=React.createClass({displayName:"JetpackJumpstart",styles:{jetpackLogo:{"float":"right","@media (max-width: 782px)":{"float":"none",marginLeft:0}},jumpstartModule:{"float":"left",position:"relative",height:160,padding:10,"@media (min-width: 782px)":{width:"33%"}},jumpstartModuleDesc:{display:"block",marginTop:5,lineHeight:"150%"},overlayContent:{marginTop:10,marginBottom:10},overlayBefore:{display:"block",position:"absolute",width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.2)"},overlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",minHeight:"100%",zIndex:700},overlayBody:{textAlign:"center",position:"absolute",borderRadius:3,boxShadow:"0 0 4px rgba(0,0,0,0.2)",zIndex:800,left:"50%",top:"50%",padding:15,transform:"translate(-50%,-50%)",width:"70%",backgroundColor:"#fff"},moreLink:{textAlign:"center"}},componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getJetpackState())},getInitialState:function(){var e=getJetpackState();return e.showMoreModules=!1,e},handleJetpackConnect:function(e){e.preventDefault(),SiteActions.configureJetpack(Paths.JETPACK_MODULES_STEP_SLUG)},handleChangeModuleStatus:function(e){var t=jQuery(e.currentTarget),a=t.data("module-slug");SiteStore.isJetpackModuleEnabled(a)?SiteActions.deactivateJetpackModule(a):SiteActions.activateJetpackModule(a)},handleEnableAllModules:function(e){e.preventDefault(),SiteActions.enableJumpstart()},handleNext:function(e){e.preventDefault(),SetupProgressActions.completeAndNextStep(Paths.JETPACK_MODULES_STEP_SLUG)},handleShowMoreModules:function(e){e.preventDefault(),SiteActions.loadAllJetpackModules().done(function(){this.setState({showMoreModules:!0})}.bind(this))},handleShowFewerModules:function(e){e.preventDefault(),this.setState({showMoreModules:!1})},_renderModule:function(e){var t=SiteStore.isJetpackModuleEnabled(e.slug),a="jp-module-"+e.slug;return React.createElement("div",{key:"modules-"+e.slug,style:this.styles.jumpstartModule},React.createElement("input",{id:a,type:"checkbox",checked:t,"data-module-slug":e.slug,onChange:this.handleChangeModuleStatus}),React.createElement("label",{htmlFor:a},React.createElement("strong",null,e.name)),React.createElement("div",{style:this.styles.jumpstartModuleDesc},React.createElement("div",{dangerouslySetInnerHTML:{__html:e.description}}),t&&e.configure_url&&React.createElement("div",null,React.createElement("a",{target:"_configure",href:e.configure_url},"configure"))))},render:function(){var e,t,a;this.state.jetpackConfigured||SpinnerStore.showing()||(e=React.createElement("div",{style:this.styles.overlayBefore}),t=React.createElement("div",{style:this.styles.overlay}),a=React.createElement("div",{style:this.styles.overlayBody},React.createElement("p",{style:this.styles.overlayContent},"These modules require a WordPress.com account - it's free!"),React.createElement(Button,{color:"green",size:"big",theme:"jetpack",onClick:this.handleJetpackConnect},"Connect to WordPress.com"),React.createElement("p",{style:this.styles.overlayContent},React.createElement(SkipButton,null))));var o=SiteStore.getJumpstartModules().map(this._renderModule),n=SiteStore.getJetpackAdditionalModules().map(this._renderModule);return React.createElement(WelcomeSection,null,React.createElement("h3",null,"Let's launch ",React.createElement("em",null,this.state.site_title)),React.createElement("h4",null,"Enable Jetpack features"),this.state.jetpackConfigured&&React.createElement("div",null,React.createElement(JetpackLogo,{style:this.styles.jetpackLogo}),React.createElement("p",{style:styles.content},"Congratulations! You've enabled Jetpack and unlocked dozens of powerful features."),React.createElement("p",{style:styles.content},"Check the boxes below to enable our most popular features."),React.createElement("div",{className:"clear"})),React.createElement("div",{className:"welcome__connect"},React.createElement("div",{style:{position:"relative"}},e,t,a,this.state.jetpackConfigured&&React.createElement("div",{className:"submit"},React.createElement(Button,{style:{"float":"right"},color:"blue",onClick:this.handleNext},"Next Step â†’"),React.createElement("div",{className:"clear"})),React.createElement(ContentBox,null,React.createElement("h3",null,"Popular features Â Â ",React.createElement(Button,{disabled:this.state.jumpstartEnabled,color:"blue",onClick:this.handleEnableAllModules},this.state.jumpstartEnabled?"Enabled All":"Enable all (recommended)")),o),this.state.showMoreModules?React.createElement("p",{style:this.styles.moreLink},React.createElement("a",{href:"#",onClick:this.handleShowFewerModules},"hide additional features")):React.createElement("p",{style:this.styles.moreLink},React.createElement("a",{href:"#",onClick:this.handleShowMoreModules},"show additional features")),this.state.showMoreModules&&React.createElement(ContentBox,null,React.createElement("h3",null,"Additional modules"),n))))}});module.exports=Radium(JetpackJumpstart);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../actions/site-actions":4,"../constants/jetpack-start-paths":22,"../stores/site-store":28,"../stores/spinner-store":29,"../styles":30,"./content-box":7,"./skip-button":16,"./welcome-section":19,"@automattic/dops-react/js/components/button":33,"radium":51}],14:[function(require,module,exports){
(function (global){
function getSiteLayoutState(){return{site_title:SiteStore.getTitle(),layout:SiteStore.getLayout()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteStore=require("../stores/site-store"),Button=require("@automattic/dops-react/js/components/button"),WelcomeSection=require("./welcome-section"),styles=require("../styles"),SetupProgressActions=require("../actions/setup-progress-actions"),LayoutStep=React.createClass({displayName:"LayoutStep",componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSiteLayoutState())},getInitialState:function(){return getSiteLayoutState()},handleSetLayout:function(e){this.setState({layout:jQuery(e.currentTarget).val()})},handleSubmit:function(e){e.preventDefault(),SetupProgressActions.submitLayoutStep(this.state.layout)},render:function(){return React.createElement(WelcomeSection,{id:"welcome__layout"},React.createElement("h3",null,"Let's launch ",React.createElement("em",null,this.state.site_title)),React.createElement("h4",null,"Select a Layout"),React.createElement("p",{style:styles.content},"WordPress can be a blog, a web site with a hierarchy of static pages, or a combination of the two."),React.createElement("form",{onSubmit:this.handleSubmit},React.createElement("label",null,React.createElement("input",{type:"radio",name:"site_layout",value:"website",checked:"website"===this.state.layout,onChange:this.handleSetLayout})," Static Website",React.createElement("p",{className:"description"},"A web site with a hierarchy of pages")),React.createElement("br",null),React.createElement("label",null,React.createElement("input",{type:"radio",name:"site_layout",value:"site-blog",checked:"site-blog"===this.state.layout,onChange:this.handleSetLayout})," Static Website with a blog",React.createElement("p",{className:"description"},"A web site with pages that also has a blog or news section")),React.createElement("br",null),React.createElement("label",null,React.createElement("input",{type:"radio",name:"site_layout",value:"blog",checked:"blog"===this.state.layout,onChange:this.handleSetLayout})," Just a blog",React.createElement("p",{className:"description"},"A web site that will constantly show new content (articles, photos, videos, etc.)")),React.createElement("p",{className:"submit"},React.createElement(Button,{color:"blue"},"Next Step â†’"))))}});module.exports=LayoutStep;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/site-store":28,"../styles":30,"./welcome-section":19,"@automattic/dops-react/js/components/button":33}],15:[function(require,module,exports){
(function (global){
function getSiteTitleState(){return{title:SiteStore.getTitle(),description:SiteStore.getDescription()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteActions=require("../actions/site-actions"),SiteStore=require("../stores/site-store"),WelcomeSection=require("./welcome-section"),styles=require("../styles"),Button=require("@automattic/dops-react/js/components/button"),SetupProgressActions=require("../actions/setup-progress-actions"),SiteTitleStep=React.createClass({displayName:"SiteTitleStep",componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSiteTitleState())},getInitialState:function(){return getSiteTitleState()},handleChangeTitle:function(e){SiteActions.setTitle(e.currentTarget.value)},handleChangeDescription:function(e){SiteActions.setDescription(e.currentTarget.value)},handleSubmit:function(e){e.preventDefault(),SetupProgressActions.submitTitleStep()},render:function(){return React.createElement(WelcomeSection,{id:"welcome__site-title"},React.createElement("h3",null,"Let's launch your new website"),React.createElement("h4",null,"Enter a Title and Description"),React.createElement("p",{style:styles.content},"Make your site stand out with a catchy name."),React.createElement("form",{onSubmit:this.handleSubmit},React.createElement("table",{className:"form-table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("th",null,React.createElement("label",{htmlFor:"site_title"},"Site Title")),React.createElement("td",null,React.createElement("input",{type:"text",name:"site_title",id:"site-title",autoComplete:"off",onChange:this.handleChangeTitle,value:this.state.title,placeholder:"Site Title (this can be changed later)",required:!0}),React.createElement("p",{className:"description"},"The name of your site. This title appears at the top of pages and in search results."))),React.createElement("tr",null,React.createElement("th",null,React.createElement("label",{htmlFor:"site_description"},"Site Description")),React.createElement("td",null,React.createElement("input",{type:"text",name:"site_description",id:"site-description",autoComplete:"off",onChange:this.handleChangeDescription,value:this.state.description,placeholder:"Site Description",required:!0}),React.createElement("p",{className:"description"},'A motto or tagline. This appears below the title on your site, and next to the title in search results. Try to be brief and descriptive, e.g. "Your online bait and tackle store"'))))),React.createElement("p",{className:"submit"},React.createElement(Button,{color:"blue"},"Next Step â†’"))))}});module.exports=SiteTitleStep;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../actions/site-actions":4,"../stores/site-store":28,"../styles":30,"./welcome-section":19,"@automattic/dops-react/js/components/button":33}],16:[function(require,module,exports){
(function (global){
function getSetupProgress(){return{completed:SetupProgressStore.getCurrentStep().completed}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SetupProgressStore=require("../stores/setup-progress-store"),SetupProgressActions=require("../actions/setup-progress-actions"),SkipButton=React.createClass({displayName:"SkipButton",style:{color:"#bbb",fontSize:"90%",marginLeft:20,borderBottom:"1px dotted #bbb"},componentDidMount:function(){SetupProgressStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SetupProgressStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSetupProgress())},getInitialState:function(){return getSetupProgress()},handleSkip:function(e){e.preventDefault(),SetupProgressActions.skipStep()},render:function(){var e=this.state.completed;return e?null:React.createElement("a",{style:this.style,href:"#",onClick:this.handleSkip},"Not now")}});module.exports=SkipButton;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/setup-progress-store":27}],17:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Tooltip=React.createClass({displayName:"Tooltip",propTypes:{left:React.PropTypes.number.isRequired,top:React.PropTypes.number.isRequired,width:React.PropTypes.number.isRequired,title:React.PropTypes.string.isRequired},handleDismiss:function(e){e.preventDefault()},componentDidMount:function(){this._recomputePosition()},componentWillReceiveProps:function(){this._recomputePosition()},getInitialState:function(){return{realTop:this.props.top}},_recomputePosition:function(){var e=jQuery(React.findDOMNode(this.refs.wrapper));this.setState({realTop:this.props.top-e.outerHeight()/2})},render:function(){return React.createElement("div",{ref:"wrapper",className:"wp-pointer wp-pointer-left",style:{position:"absolute",width:this.props.width,top:this.state.realTop,left:this.props.left,zIndex:9999}},React.createElement("div",{className:"wp-pointer-content"},React.createElement("h3",null,this.props.title),React.createElement("p",null,this.props.children)),React.createElement("div",{className:"wp-pointer-arrow"},React.createElement("div",{className:"wp-pointer-arrow-inner"})))}});module.exports=Tooltip;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],18:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Radium=require("radium"),ProgressBar=require("@automattic/dops-react/js/components/progress-bar"),SetupProgressActions=require("../actions/setup-progress-actions"),Dashicon=require("./dashicon"),stepShape=React.PropTypes.shape({name:React.PropTypes.string.isRequired,slug:React.PropTypes.string}),WelcomeMenu=React.createClass({displayName:"WelcomeMenu",propTypes:{currentStep:stepShape.isRequired,clickable:React.PropTypes.bool,allSteps:React.PropTypes.arrayOf(stepShape).isRequired,progressPercent:React.PropTypes.number.isRequired},getDefaultProps:function(){return{clickable:!0}},styles:{wrapper:{"float":"right",width:"28%",height:"100%",background:"#fafafa",border:"1px solid #eee"},title:{margin:0,padding:12,overflow:"hidden",background:"#444",color:"#fff",fontSize:12,textTransform:"uppercase"},list:{margin:"13px 10px",listStyle:"none","@media (max-width: 600px)":{margin:"5px 4px"}},menuItem:{marginBottom:6,position:"relative",color:"#ccc",lineHeight:1.7,"@media (max-width: 782px)":{fontSize:"small"},"@media (max-width: 600px)":{fontSize:"smaller"}},menuItemCompleted:{color:"#4AB866"},icon:{fontSize:16,top:3,position:"relative"},menuItemLink:{color:"inherit",borderBottom:"1px dashed"},menuItemCurrent:{color:"#0074A2"}},selectStep:function(e){e.preventDefault();var t=jQuery(e.currentTarget).data("step-slug");SetupProgressActions.setCurrentStep(t)},render:function(){var e=this.props.allSteps.map(function(e){var t,r,s,a;return this.props.clickable&&this.props.currentStep&&(r=this.props.currentStep.slug==e.slug),t=!e["static"]&&this.props.clickable?React.createElement("a",{href:"#",style:this.styles.menuItemLink,"data-step-slug":e.slug,onClick:this.selectStep},e.name):e.name,e.menuView&&this.props.clickable&&(s=React.createElement(e.menuView,null)),a=e.completed?"yes":"arrow-right-alt2",React.createElement("li",{key:e.slug,style:[this.styles.menuItem,e.completed&&this.styles.menuItemCompleted,r&&this.styles.menuItemCurrent]},React.createElement(Dashicon,{style:this.styles.icon,name:a}),t," ",e.skipped?"(skipped)":null,s)}.bind(this));return React.createElement("div",{style:[this.styles.wrapper,this.props.style]},React.createElement("h3",{style:this.styles.title},React.createElement("span",{style:{"float":"left",marginRight:10}},"Your Progress"),React.createElement("div",null,React.createElement(ProgressBar,{style:{"float":"left"},progressPercent:this.props.progressPercent}))),React.createElement("ol",{style:this.styles.list},e))}});module.exports=Radium(WelcomeMenu);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"./dashicon":8,"@automattic/dops-react/js/components/progress-bar":34,"radium":51}],19:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,WelcomeSection=React.createClass({displayName:"WelcomeSection",render:function(){var e=this.props,t=function(e,t){var o={},r=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var n in e)r.call(e,n)&&!r.call(t,n)&&(o[n]=e[n]);return o}(e,{});return React.createElement("div",React.__spread({},t,{className:"welcome__section"}),this.props.children)}});module.exports=WelcomeSection;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],20:[function(require,module,exports){
(function (global){
function getSetupProgress(){return{newUser:SetupProgressStore.isNewUser(),showSpinner:SpinnerStore.showing(),spinnerMessage:SpinnerStore.getMessage(),currentStep:SetupProgressStore.getCurrentStep(),allSteps:SetupProgressStore.getAllSteps(),progressPercent:SetupProgressStore.getProgressPercent()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,WelcomeMenu=require("./welcome-menu"),SetupProgressStore=require("../stores/setup-progress-store"),Reset=require("@automattic/dops-react/js/components/reset"),SetupProgressActions=require("../actions/setup-progress-actions"),Flash=require("./flash"),styles=require("../styles"),GetStarted=require("./get-started"),SpinnerStore=require("../stores/spinner-store"),SpinnerActions=require("../actions/spinner-actions"),DataStore=require("../stores/data-store"),WelcomeWidget=React.createClass({displayName:"WelcomeWidget",styles:{wrapper:{position:"relative"},loadingOverlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",minHeight:"100%",zIndex:999,backgroundColor:"rgba(255,255,255,0.6)"},loadingMessage:{position:"absolute",width:"50%",minWidth:300,borderRadius:2,padding:20,border:"1px solid black",backgroundColor:"white",textAlign:"center",left:"50%",top:100,transform:"translate(-50%,-50%)"},container:{"float":"left",width:"70%",padding:"0 10px"},menu:{marginTop:25}},componentDidMount:function(){SetupProgressStore.addChangeListener(this._onChange),SpinnerStore.addChangeListener(this._onSpinnerChange),DataStore.addChangeListener(this._onDataChange)},componentWillUnmount:function(){SetupProgressStore.removeChangeListener(this._onChange),SpinnerStore.removeChangeListener(this._onSpinnerChange),DataStore.removeChangeListener(this._onDataChange)},_onChange:function(){this.setState(getSetupProgress())},_onSpinnerChange:function(){this.setState({showSpinner:SpinnerStore.showing(),spinnerMessage:SpinnerStore.getMessage()})},_onDataChange:function(){this.setState({saving:DataStore.isSaving()})},getInitialState:function(){return getSetupProgress()},handleReset:function(e){e.preventDefault(),SetupProgressActions.resetData()},handleShowSpinner:function(e){e.preventDefault(),SpinnerActions.show("Testing spinner")},handleHideSpinner:function(e){e.preventDefault(),SpinnerActions.hide()},render:function(){return React.createElement(Reset,{css:styles.css},this._renderDebug(),React.createElement("div",{style:this.styles.wrapper},this._renderSpinner(),React.createElement("div",{style:this.styles.container},React.createElement(Flash,null),this._renderSection()),React.createElement(WelcomeMenu,{style:this.styles.menu,clickable:!this.state.newUser,currentStep:this.state.currentStep,allSteps:this.state.allSteps,progressPercent:this.state.progressPercent}),React.createElement("div",{className:"clear"})))},_renderSection:function(){return this.state.newUser?React.createElement(GetStarted,null):this._renderCurrentView()},_renderDebug:function(){return null},_renderSpinner:function(){return this.state.showSpinner?React.createElement("div",{style:this.styles.loadingOverlay},React.createElement("div",{style:this.styles.loadingMessage},React.createElement("img",{src:"/wp-admin/images/spinner-2x.gif",width:"16px",height:"16px"}),"Â Â ",this.state.spinnerMessage)):null},_renderCurrentView:function(){return this.state.currentStep?React.createElement(this.state.currentStep.welcomeView,null):React.createElement("h3",null,"Nothing")}});module.exports=WelcomeWidget;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../actions/spinner-actions":5,"../stores/data-store":25,"../stores/setup-progress-store":27,"../stores/spinner-store":29,"../styles":30,"./flash":10,"./get-started":11,"./welcome-menu":18,"@automattic/dops-react/js/components/reset":35}],21:[function(require,module,exports){
var keyMirror=require("keymirror");module.exports=keyMirror({STEP_COMPLETE:null,STEP_GET_STARTED:null,STEP_SELECT:null,STEP_NEXT:null,STEP_SKIP:null,SITE_SET_TITLE:null,SITE_SET_DESCRIPTION:null,SITE_SAVE_TITLE_AND_DESCRIPTION:null,SITE_SET_THEME:null,SITE_INSTALL_THEME:null,SITE_JETPACK_CONFIGURED:null,SITE_JETPACK_MODULE_ENABLED:null,SITE_JETPACK_MODULE_DISABLED:null,SITE_JETPACK_JUMPSTART_ENABLED:null,SITE_JETPACK_ADD_MODULES:null,SITE_SET_LAYOUT:null,SAVE_STARTED:null,SAVE_FINISHED:null,SET_FLASH:null,UNSET_FLASH:null,FLASH_SEVERITY_NOTICE:null,FLASH_SEVERITY_ERROR:null,RESET_DATA:null,SHOW_SPINNER:null,HIDE_SPINNER:null});

},{"keymirror":43}],22:[function(require,module,exports){
module.exports={SITE_TITLE_STEP_SLUG:"title",LAYOUT_STEP_SLUG:"layout",TRAFFIC_STEP_SLUG:"traffic",STATS_MONITORING_STEP_SLUG:"stats-monitoring",DESIGN_STEP_SLUG:"design",ADVANCED_STEP_SLUG:"advanced",JETPACK_MODULES_STEP_SLUG:"jetpack"};

},{}],23:[function(require,module,exports){
var Dispatcher=require("flux").Dispatcher;module.exports=new Dispatcher;

},{"flux":38}],24:[function(require,module,exports){
var WelcomePanel=require("./welcome-panel");WelcomePanel();

},{"./welcome-panel":32}],25:[function(require,module,exports){
function incrementSaveCounter(){_currentSaves+=1}function decrementSaveCounter(){_currentSaves-=1}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),_currentSaves=0,jpsTimeout,CHANGE_EVENT="change";jQuery(window).on("beforeunload",function(){return DataStore.isSaving()?(jpsTimeout=setTimeout(function(){},1e3),"Your site changes are still saving."):void 0}),jQuery(window).on("unload",function(){clearTimeout(jpsTimeout)});var DataStore=_.extend({},EventEmitter.prototype,{isSaving:function(){return _currentSaves>0},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)},emitChange:function(){this.emit(CHANGE_EVENT)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SAVE_STARTED:incrementSaveCounter(),DataStore.emitChange();break;case JPSConstants.SAVE_FINISHED:decrementSaveCounter(),DataStore.emitChange()}}),module.exports=DataStore;

},{"../constants/jetpack-start-constants":21,"../dispatcher/app-dispatcher":23,"events":41}],26:[function(require,module,exports){
function setFlash(e,t){message=e,severity=t}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),CHANGE_EVENT="change",message,severity,FlashStore=_.extend({},EventEmitter.prototype,{getFlash:function(){var e;switch(severity){case JPSConstants.FLASH_SEVERITY_ERROR:e="error";break;case JPSConstants.FLASH_SEVERITY_NOTICE:e="notice"}return{message:message,severity:e}},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)},emitChange:function(){this.emit(CHANGE_EVENT)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SET_FLASH:setFlash(e.message,e.severity),FlashStore.emitChange();break;case JPSConstants.UNSET_FLASH:setFlash(null,null),FlashStore.emitChange()}}),module.exports=FlashStore;

},{"../constants/jetpack-start-constants":21,"../dispatcher/app-dispatcher":23,"events":41}],27:[function(require,module,exports){
function setSteps(e){e.forEach(function(e){"undefined"==typeof e.completed&&(e.completed=JPS.step_status[e.slug]&&JPS.step_status[e.slug].completed||!1),"undefined"==typeof e.skipped&&(e.skipped=JPS.step_status[e.slug]&&JPS.step_status[e.slug].skipped||!1),"undefined"==typeof e["static"]&&(e["static"]=!1),"undefined"==typeof e.includeInProgress&&(e.includeInProgress=!0)}),_steps=e,ensureValidStepSlug()}function getStarted(){_started=!0,selectNextPendingStep()}function complete(e){var t=getStepFromSlug(e);t.completed=!0,t.skipped=!1}function skip(){var e=currentStepSlug(),t=getStepFromSlug(e);t.skipped=!0,selectNextPendingStep()}function getStepFromSlug(e){var t=null;return _.each(_steps,function(s){s.slug===e&&(t=s)}),t}function ensureValidStepSlug(){var e=currentStepSlug();e&&getStepFromSlug(e)||selectNextPendingStep()}function selectNextPendingStep(){var e=_.findWhere(_steps,{completed:!1,skipped:!1});null!==e&&select(e.slug)}function currentStepSlug(){if(0===window.location.hash.indexOf("#welcome/steps")){var e=window.location.hash.split("/"),t=e[e.length-1];return t}return null}function select(e){window.location.hash="welcome/steps/"+e,WPAjax.post(JPS.step_actions.view,{step:e},{quiet:!0})}function reset(){JPS.step_status={},_.where(_steps,{"static":!1}).forEach(function(e){e.completed=!1,e.skipped=!1}),_started=!1}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),WPAjax=require("../utils/wp-ajax"),CHANGE_EVENT="change",_steps,_started=JPS.started,SetupProgressStore=_.extend({},EventEmitter.prototype,{init:function(e){setSteps(e)},getAllSteps:function(){return _steps},isNewUser:function(){return!_started},emitChange:function(){this.emit(CHANGE_EVENT)},getCurrentStep:function(){return getStepFromSlug(currentStepSlug())},getStepFromSlug:function(e){return getStepFromSlug(e)},getProgressPercent:function(){var e=_.where(_steps,{includeInProgress:!0}).length,t=_.where(_steps,{includeInProgress:!0,completed:!0}).length,s=t/e*90+10,n=10*Math.round(s/10);return n},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.STEP_GET_STARTED:getStarted(),SetupProgressStore.emitChange();break;case JPSConstants.STEP_SELECT:select(e.slug),SetupProgressStore.emitChange();break;case JPSConstants.STEP_NEXT:selectNextPendingStep(),SetupProgressStore.emitChange();break;case JPSConstants.STEP_COMPLETE:complete(e.slug),SetupProgressStore.emitChange();break;case JPSConstants.STEP_COMPLETE_AND_NEXT:complete(e.slug),selectNextPendingStep(),SetupProgressStore.emitChange();break;case JPSConstants.RESET_DATA:reset(),SetupProgressStore.emitChange();break;case JPSConstants.STEP_SKIP:skip(),SetupProgressStore.emitChange()}}),module.exports=SetupProgressStore;

},{"../constants/jetpack-start-constants":21,"../dispatcher/app-dispatcher":23,"../utils/wp-ajax":31,"events":41}],28:[function(require,module,exports){
function setTitle(e){JPS.bloginfo.name=e}function setDescription(e){JPS.bloginfo.description=e}function setActiveTheme(e){JPS.themes.forEach(function(t){t.id==e?t.active=!0:t.active=!1})}function installedTheme(e){JPS.themes.unshift(e),JPS.themes=JPS.themes.slice(0,3)}function setJetpackModuleActivated(e){-1===_.indexOf(JPS.jetpack.active_modules,e)&&JPS.jetpack.active_modules.push(e)}function setJetpackModuleDectivated(e){var t=_.indexOf(JPS.jetpack.active_modules,e);t>=0&&JPS.jetpack.active_modules.splice(t,1)}function setJetpackAdditionalModules(e){JPS.jetpack.additional_modules=_.filter(e,function(e){return-1==_.indexOf(JPS.jetpack.jumpstart_modules.map(function(e){return e.slug}),e.slug)})}function setLayout(e){layout=e}function setJetpackConfigured(){JPS.jetpack.configured=!0}function setJetpackJumpstartActivated(){JPS.jetpack.jumpstart_modules.forEach(function(e){setJetpackModuleActivated(e.slug)})}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),WPAjax=require("../utils/wp-ajax"),CHANGE_EVENT="change",layout=JPS.steps.layout.current,SiteStore=_.extend({},EventEmitter.prototype,{getTitle:function(){return JPS.bloginfo.name},getDescription:function(){return JPS.bloginfo.description},getThemes:function(){return JPS.themes},getActiveThemeId:function(){for(var e=0;e<JPS.themes.length;e++){var t=JPS.themes[e];if(t.active)return t.id}return null},getJetpackConfigured:function(){return JPS.jetpack.configured},getActiveModuleSlugs:function(){return JPS.jetpack.active_modules},isJetpackModuleEnabled:function(e){return _.indexOf(JPS.jetpack.active_modules,e)>=0},getJetpackAdditionalModules:function(){return JPS.jetpack.additional_modules},getJumpstartModuleSlugs:function(){return JPS.jetpack.jumpstart_modules.map(function(e){return e.slug})},getJumpstartModules:function(){return JPS.jetpack.jumpstart_modules},getPopularThemes:function(){return WPAjax.post(JPS.site_actions.get_popular_themes)},getJetpackJumpstartEnabled:function(){for(var e=0;e<JPS.jetpack.jumpstart_modules.length;e++){var t=JPS.jetpack.jumpstart_modules[e];if(!this.isJetpackModuleEnabled(t.slug))return!1}return!0},getLayout:function(){return layout},emitChange:function(){this.emit(CHANGE_EVENT)},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SITE_SET_TITLE:setTitle(e.title),SiteStore.emitChange();break;case JPSConstants.SITE_SET_DESCRIPTION:setDescription(e.description),SiteStore.emitChange();break;case JPSConstants.SITE_SET_THEME:setActiveTheme(e.themeId),SiteStore.emitChange();break;case JPSConstants.SITE_INSTALL_THEME:installedTheme(e.theme),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_CONFIGURED:setJetpackConfigured(),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_ADD_MODULES:setJetpackAdditionalModules(e.modules),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_MODULE_ENABLED:setJetpackModuleActivated(e.slug),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_MODULE_DISABLED:setJetpackModuleDectivated(e.slug),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_JUMPSTART_ENABLED:setJetpackJumpstartActivated(),SiteStore.emitChange();break;case JPSConstants.SITE_SET_LAYOUT:setLayout(e.layout),SiteStore.emitChange()}}),module.exports=SiteStore;

},{"../constants/jetpack-start-constants":21,"../dispatcher/app-dispatcher":23,"../utils/wp-ajax":31,"events":41}],29:[function(require,module,exports){
function show(e){spinnerEnabled=!0,spinnerMessage=e}function hide(){spinnerEnabled=!1,spinnerMessage=null}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),CHANGE_EVENT="change",spinnerEnabled=!1,spinnerMessage=null,SpinnerStore=_.extend({},EventEmitter.prototype,{showing:function(){return spinnerEnabled},getMessage:function(){return spinnerMessage},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)},emitChange:function(){this.emit(CHANGE_EVENT)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SHOW_SPINNER:show(e.message),SpinnerStore.emitChange();break;case JPSConstants.HIDE_SPINNER:hide(),SpinnerStore.emitChange()}}),module.exports=SpinnerStore;

},{"../constants/jetpack-start-constants":21,"../dispatcher/app-dispatcher":23,"events":41}],30:[function(require,module,exports){
module.exports={h3:{fontWeight:"normal"},content:{fontSize:"larger",color:"#777",lineHeight:1.5,margin:"1em 0"},css:{h4:{marginBottom:10},h5:{marginTop:0,fontSize:"1em",fontWeight:400},"input, select":{margin:1,padding:"3px 5px"},'input[type="text"]':{width:"100%"},".submit":{margin:"0px !important",padding:"5px 5px !important",backgroundColor:"#EEE",textAlign:"right"}}};

},{}],31:[function(require,module,exports){
var DataActions=require("../actions/data-actions"),WPAjax=function(){return{post:function(e,t,n){n="undefined"!=typeof n?n:{},t="undefined"!=typeof t?t:{};var a=_.extend(t,{action:e,nonce:JPS.nonce}),r=jQuery.Deferred();return n.quiet||DataActions.requestStarted(),jQuery.post(ajaxurl,a).success(function(e){e.success?r.resolve(e.data):r.reject(e.data)}).fail(function(){r.reject("Server error")}).always(function(){n.quiet||DataActions.requestFinished()}),r}}}();module.exports=WPAjax;

},{"../actions/data-actions":1}],32:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,WelcomeWidget=require("./components/welcome-widget"),Paths=require("./constants/jetpack-start-paths"),SetupProgressStore=require("./stores/setup-progress-store");module.exports=function(){jQuery(document).ready(function(){SetupProgressStore.init([{name:"Site title",slug:Paths.SITE_TITLE_STEP_SLUG,welcomeView:require("./components/site-title-step")},{name:"Pick a layout",slug:Paths.LAYOUT_STEP_SLUG,welcomeView:require("./components/layout-step")},{name:"Pick a design",slug:Paths.DESIGN_STEP_SLUG,welcomeView:require("./components/design-step")},{name:"Enable Jetpack",slug:Paths.JETPACK_MODULES_STEP_SLUG,welcomeView:require("./components/jetpack-jumpstart-step"),menuView:require("./components/jetpack-jumpstart-menu")},{name:"Advanced settings",slug:Paths.ADVANCED_STEP_SLUG,welcomeView:require("./components/advanced-settings-step"),includeInProgress:!1}]),React.render(React.createElement(WelcomeWidget,{}),document.getElementById("jps-welcome-panel"))})};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./components/advanced-settings-step":6,"./components/design-step":9,"./components/jetpack-jumpstart-menu":12,"./components/jetpack-jumpstart-step":13,"./components/layout-step":14,"./components/site-title-step":15,"./components/welcome-widget":20,"./constants/jetpack-start-paths":22,"./stores/setup-progress-store":27}],33:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,styles=require("../styles"),Radium=require("radium"),Button=React.createClass({displayName:"Button",propTypes:{size:React.PropTypes.oneOf(["tiny","normal","big"]),color:React.PropTypes.oneOf(["gray","blue","green"]),theme:React.PropTypes.oneOf(["wp","jetpack"]),inline:React.PropTypes.bool,onClick:React.PropTypes.func,disabled:React.PropTypes.bool,href:React.PropTypes.string},getDefaultProps:function(){return{size:"normal",inline:!0,color:"gray",theme:"wp",disabled:!1}},handleCallbackHref:function(e){e.preventDefault(),window.location=this.props.href},styles:{basic:{borderRadius:3,boxShadow:"inset 0 1px 0 rgba(255, 255, 255, 0.3)",borderWidth:1,borderStyle:"solid",cursor:"pointer",display:"block",fontSize:14,fontWeight:"bold",padding:"10px 20px",textAlign:"center",textDecoration:"none",WebkitFontSmoothing:"antialiased",transition:"background 0.2s"},sizes:{tiny:{fontSize:10,padding:"2px 10px"},normal:{fontSize:13,padding:"5px 10px"},big:{fontSize:16,padding:"20px 40px"}},colors:{gray:{background:"linear-gradient(#fff, #f9f9f9)",borderColor:styles.colors.lightGray,color:styles.colors.darkGray,":hover":{color:styles.colors.gray}},blue:{background:styles.colors.blue,borderColor:"rgba(0,0,0,0.6)",color:"white",":hover":{background:styles.colors.lighterBlue}},green:{background:styles.colors.green,color:"white",borderColor:"rgba(0,0,0,0.6)",":hover":{background:styles.colors.lighterGreen}}},themes:{wp:{},jetpack:{padding:"18px 24px 15px",borderRadius:6,borderStyle:"none",boxShadow:"0 6px 0 #3e6c20,0 6px 3px rgba(0,0,0,0.4)"}},inline:{display:"inline-block"},disabled:{background:"#f9f9f9",borderColor:styles.colors.lightGray,color:styles.colors.lightGray,":hover":{background:"#f9f9f9",borderColor:styles.colors.lightGray,color:styles.colors.lightGray}}},render:function(){var e,o=this.props,r=o.size,t=o.color,l=o.inline,s=o.onClick,i=o.theme,n=o.href,a=function(e,o){var r={},t=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var l in e)t.call(e,l)&&!t.call(o,l)&&(r[l]=e[l]);return r}(o,{size:1,color:1,inline:1,onClick:1,theme:1,href:1}),c=[this.styles.basic,this.styles.sizes[r],this.styles.colors[t],this.styles.themes[i],this.props.disabled&&this.styles.disabled,l&&this.styles.inline,this.props.style];return e=n&&!s?this.handleCallbackHref:s,React.createElement("button",React.__spread({},a,{style:c,onClick:e,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut}),this.props.children)}});module.exports=Radium(Button);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../styles":36,"radium":51}],34:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Radium=require("radium"),ProgressBar=React.createClass({displayName:"ProgressBar",propTypes:{style:React.PropTypes.object,progressPercent:React.PropTypes.number.isRequired},styles:{wrapper:{fontWeight:400,fontSize:"80%"},progress:{background:"#4ab866",width:"0%",transition:"width 0.5s",display:"block",height:"100%"},bar:{display:"inline-block",width:80,height:12,margin:"0 8px -2px 0",padding:2,borderRadius:2,background:"#f5f5f5"}},render:function(){return React.createElement("div",{style:[this.styles.wrapper,this.props.style]},React.createElement("div",{style:this.styles.bar},React.createElement("span",{style:[this.styles.progress,{width:this.props.progressPercent+"%"}]})),this.props.progressPercent,"% complete")}});module.exports=Radium(ProgressBar);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"radium":51}],35:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Radium=require("radium"),m=require("../utils/m"),idCounter=0,Reset=React.createClass({displayName:"Reset",propTypes:{css:React.PropTypes.object},style:{resets:{"*":{boxSizing:"border-box"},"div, ul, ol, li, h1, h2, h3, h4, h5, h6, form, fieldset, legend, input, button, textarea, p, blockquote, th, td":{margin:0,padding:0},img:{border:"none",maxWidth:"100%"},td:{verticalAlign:"top"},".slideDown-enter":{overflowY:"hidden",maxHeight:0,transition:"all .5s ease-out"},".slideDown-enter-active":{overflowY:"hidden",maxHeight:400},".slideDown-leave":{overflowY:"hidden",maxHeight:400,transition:"all .5s ease-out"},".slideDown-leave-active":{overflowY:"hidden",maxHeight:0},".slideRTL-enter":{position:"absolute",left:"100%",transition:"all .2s linear"},".slideRTL-enter-active":{position:"absolute",left:"0%"},".slideRTL-leave":{position:"absolute",left:"0%",transition:"all .2s linear"},".slideRTL-leave-active":{position:"absolute",left:"-100%"},".slideLTR-enter":{position:"absolute",left:"-100%",transition:"all .2s linear"},".slideLTR-enter-active":{position:"absolute",left:"0%"},".slideLTR-leave":{position:"absolute",left:"0%",transition:"all .2s linear"},".slideLTR-leave-active":{position:"absolute",left:"100%"}}},render:function(){var e=this.props,t=function(e,t){var i={},l=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var o in e)l.call(e,o)&&!l.call(t,o)&&(i[o]=e[o]);return i}(e,{}),i=this._generateId();return React.createElement("div",React.__spread({id:i},t),React.createElement(Radium.Style,{scopeSelector:"#"+i,rules:m(this.style.resets,this.props.css)}),this.props.children)},_generateId:function(){return"dopsid"+idCounter++}});module.exports=Reset;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../utils/m":37,"radium":51}],36:[function(require,module,exports){
var styles={right:{"float":"right"},left:{"float":"left"},third:{width:"33%"},full:{width:"100%"},half:{width:"48%"},hidden:{display:"none"},clear:{clear:"both",display:"block"},accountStatus:{textTransform:"capitalize"},accountStatusNoticon:{borderRadius:"50%",width:16,height:16,marginRight:10,color:"#fff",background:"#81bf16"},box:{borderRadius:2,padding:"5px 10px",background:"#f5f5f5"},light:{color:"#999"},colors:{akismetGreen:"#5e8e14",blue:"#029dd6",lighterBlue:"#13AEE7",black:"#333",darkGray:"#444",gray:"#787878",lightGray:"#bbb",veryLightGray:"#eee",offWhite:"#f9f9f9",accountActive:"#81bf16",accountInactive:"#bbb",green:"#518d2a",lighterGreen:"#57972d"},fonts:{sans:'Open Sans, "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif',serif:"Merriweather, Georgia, serif",mono:'"Courier New", Courier, monospace'},input:{width:"100%",boxShadow:"none",background:"#fff",border:"1px solid #d5d5d5",fontSize:12,padding:"8px 10px"},select:{borderRadius:3,backgroundColor:"#fff",fontSize:12,height:35,width:"100%",border:"1px solid #d5d5d5",padding:"3px 5px",minWidth:0},checkbox:{marginRight:10},errorField:{border:"1px solid #dd3d36"},errorLabel:{border:"1px solid #dd3d36",color:"#a00",display:"block",fontSize:12,margin:"5px 0 0 0",padding:5}};styles.css={"> *":{font:"14px/1.5 "+styles.fonts.sans,color:styles.colors.black},a:{color:styles.colors.blue,textDecoration:"none"},"a:hover":{textDecoration:"underline"},h1:{fontSize:34},h2:{color:styles.colors.gray,fontSize:16},h3:{fontSize:18},"h1, h2, h3":{fontFamily:styles.fonts.serif,fontWeight:500}},module.exports=styles;

},{}],37:[function(require,module,exports){
module.exports=function(){for(var e={},r=0;r<arguments.length;++r)arguments[r]&&jQuery.extend(e,arguments[r]);return e};

},{}],38:[function(require,module,exports){
module.exports.Dispatcher=require("./lib/Dispatcher");

},{"./lib/Dispatcher":39}],39:[function(require,module,exports){
"use strict";function Dispatcher(){this.$Dispatcher_callbacks={},this.$Dispatcher_isPending={},this.$Dispatcher_isHandled={},this.$Dispatcher_isDispatching=!1,this.$Dispatcher_pendingPayload=null}var invariant=require("./invariant"),_lastID=1,_prefix="ID_";Dispatcher.prototype.register=function(i){var t=_prefix+_lastID++;return this.$Dispatcher_callbacks[t]=i,t},Dispatcher.prototype.unregister=function(i){invariant(this.$Dispatcher_callbacks[i],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",i),delete this.$Dispatcher_callbacks[i]},Dispatcher.prototype.waitFor=function(i){invariant(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<i.length;t++){var a=i[t];this.$Dispatcher_isPending[a]?invariant(this.$Dispatcher_isHandled[a],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",a):(invariant(this.$Dispatcher_callbacks[a],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",a),this.$Dispatcher_invokeCallback(a))}},Dispatcher.prototype.dispatch=function(i){invariant(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this.$Dispatcher_startDispatching(i);try{for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]||this.$Dispatcher_invokeCallback(t)}finally{this.$Dispatcher_stopDispatching()}},Dispatcher.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching},Dispatcher.prototype.$Dispatcher_invokeCallback=function(i){this.$Dispatcher_isPending[i]=!0,this.$Dispatcher_callbacks[i](this.$Dispatcher_pendingPayload),this.$Dispatcher_isHandled[i]=!0},Dispatcher.prototype.$Dispatcher_startDispatching=function(i){for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]=!1,this.$Dispatcher_isHandled[t]=!1;this.$Dispatcher_pendingPayload=i,this.$Dispatcher_isDispatching=!0},Dispatcher.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null,this.$Dispatcher_isDispatching=!1},module.exports=Dispatcher;

},{"./invariant":40}],40:[function(require,module,exports){
"use strict";var invariant=function(r,e,n,i,o,a,t,f){if(!r){var s;if(void 0===e)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,i,o,a,t,f],l=0;s=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return d[l++]}))}throw s.framesToPop=1,s}};module.exports=invariant;

},{}],41:[function(require,module,exports){
function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,n,s,i,r,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],isUndefined(n))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];n.apply(this,i)}else if(isObject(n)){for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];for(o=n.slice(),s=o.length,r=0;s>r;r++)o[r].apply(this,i)}return!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned){var n;n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function n(){this.removeListener(e,n),s||(s=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var s=!1;return n.listener=t,this.on(e,n),this},EventEmitter.prototype.removeListener=function(e,t){var n,s,i,r;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,s=-1,n===t||isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(n)){for(r=i;r-->0;)if(n[r]===t||n[r].listener&&n[r].listener===t){s=r;break}if(0>s)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],isFunction(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?isFunction(e._events[t])?1:e._events[t].length:0};

},{}],42:[function(require,module,exports){
function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(!draining){var e=setTimeout(cleanUpNextTick);draining=!0;for(var n=queue.length;n;){for(currentQueue=queue,queue=[];++queueIndex<n;)currentQueue[queueIndex].run();queueIndex=-1,n=queue.length}currentQueue=null,draining=!1,clearTimeout(e)}}function Item(e,n){this.fun=e,this.array=n}function noop(){}var process=module.exports={},queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];queue.push(new Item(e,n)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}],43:[function(require,module,exports){
"use strict";var keyMirror=function(r){var e,o={};if(!(r instanceof Object)||Array.isArray(r))throw new Error("keyMirror(...): Argument must be an object.");for(e in r)r.hasOwnProperty(e)&&(o[e]=e);return o};module.exports=keyMirror;

},{}],44:[function(require,module,exports){
(function (global){
"use strict";var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Style=require("./style.js"),printStyles=require("../print-styles.js"),PrintStyle=React.createClass({displayName:"PrintStyle",getInitialState:function(){return this._getStylesState()},componentDidMount:function(){this.subscription=printStyles.subscribe(this._onChange)},componentWillUnmount:function(){this.subscription.remove()},_onChange:function(){this.setState(this._getStylesState())},_getStylesState:function(){return{styles:printStyles.getPrintStyles()}},render:function(){return React.createElement(Style,{rules:{mediaQueries:{print:this.state.styles}}})}});module.exports=PrintStyle;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../print-styles.js":55,"./style.js":45}],45:[function(require,module,exports){
(function (global){
"use strict";var createMarkupForStyles=require("../create-markup-for-styles"),Prefixer=require("../prefixer"),React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,buildCssString=function(e,t,r){if(t&&r){var i=Prefixer.getPrefixedStyle(e,r,"css"),s=createMarkupForStyles(i);return t+"{"+s+"}"}},Style=React.createClass({displayName:"Style",propTypes:{rules:React.PropTypes.object,scopeSelector:React.PropTypes.string},getDefaultProps:function(){return{scopeSelector:""}},_buildStyles:function(e){var t=this;return Object.keys(e).reduce(function(r,i){var s=e[i];if("mediaQueries"===i)r+=t._buildMediaQueryString(s);else{var n=(t.props.scopeSelector?t.props.scopeSelector+" ":"")+i;r+=buildCssString(t,n,s)}return r},"")},_buildMediaQueryString:function(e){var t=this,r=this._getContextMediaQueries(),i="";return Object.keys(e).forEach(function(s){var n=r[s]?r[s]:s;i+="@media "+n+"{"+t._buildStyles(e[s])+"}"}),i},_getContextMediaQueries:function(){var e={};return this.context&&this.context.mediaQueries&&Object.keys(this.context.mediaQueries).forEach(function(t){e[t]=this.context.mediaQueries[t].media}.bind(this)),e},render:function(){if(!this.props.rules)return null;var e=this._buildStyles(this.props.rules);return React.createElement("style",{dangerouslySetInnerHTML:{__html:e}})}});module.exports=Style;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../create-markup-for-styles":47,"../prefixer":54}],46:[function(require,module,exports){
"use strict";var ExecutionEnvironment=require("exenv"),_matchMediaFunction=ExecutionEnvironment.canUseDOM&&window&&window.matchMedia&&function(n){return window.matchMedia(n)};module.exports={canMatchMedia:function(){return"function"==typeof _matchMediaFunction},matchMedia:function(n){return _matchMediaFunction(n)},setMatchMedia:function(n){_matchMediaFunction=n}};

},{"exenv":58}],47:[function(require,module,exports){
"use strict";var createMarkupForStyles=function(e,r){return r=r||"",Object.keys(e).map(function(t){return r+t+": "+e[t]+";"}).join("\n")};module.exports=createMarkupForStyles;

},{}],48:[function(require,module,exports){
(function (process){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),_get=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;a=l=u=void 0,o=!1;var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;return void 0===u?void 0:u.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return void 0;e=l,t=i,r=s,o=!0}},resolveStyles=require("./resolve-styles.js"),printStyles=require("./print-styles.js"),enhanceWithRadium=function(e){var t=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.state=this.state||{},this.state._radiumStyleState={},t.printStyleClass&&(this.printStyleClass=t.printStyleClass)}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){var e=_get(Object.getPrototypeOf(t.prototype),"render",this).call(this);return resolveStyles(this,e)}},{key:"componentWillUnmount",value:function(){_get(Object.getPrototypeOf(t.prototype),"componentWillUnmount",this)&&_get(Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this),this._radiumMouseUpListener&&this._radiumMouseUpListener.remove(),this._radiumMediaQueryListenersByQuery&&Object.keys(this._radiumMediaQueryListenersByQuery).forEach(function(e){this._radiumMediaQueryListenersByQuery[e].remove()},this)}}]),t}(e),r=["defaultProps","propTypes","contextTypes","childContextTypes"];return r.forEach(function(r){e.hasOwnProperty(r)&&(t[r]=e[r])}),"production"!==process.env.NODE_ENV&&Object.keys(e.prototype).forEach(function(r){if(!t.prototype.hasOwnProperty(r)){var o=Object.getOwnPropertyDescriptor(e.prototype,r);Object.defineProperty(t.prototype,r,o)}}),t.displayName=e.displayName||e.name||"Component",t.printStyleClass=printStyles.addPrintStyles(t),t};module.exports=enhanceWithRadium;

}).call(this,require('_process'))

},{"./print-styles.js":55,"./resolve-styles.js":56,"_process":42}],49:[function(require,module,exports){
"use strict";var getStateKey=function(t){return null===t||void 0===t?"main":t.toString()};module.exports=getStateKey;

},{}],50:[function(require,module,exports){
"use strict";var getStateKey=require("./get-state-key"),VALID_KEYS=[":active",":focus",":hover"],getState=function(t,e,a){if(-1===VALID_KEYS.indexOf(a))throw new Error("Radium.getState invalid value param: `"+a+"`");var r=getStateKey(e);return!!(t&&t._radiumStyleState&&t._radiumStyleState[r]&&t._radiumStyleState[r][a])||!1};module.exports=getState;

},{"./get-state-key":49}],51:[function(require,module,exports){
"use strict";var Enhancer=require("./enhancer");module.exports=function(e){return Enhancer(e)},module.exports.Style=require("./components/style"),module.exports.PrintStyleSheet=require("./components/print-style-sheet"),module.exports.getState=require("./get-state"),module.exports.keyframes=require("./keyframes"),module.exports.Config=require("./config");

},{"./components/print-style-sheet":44,"./components/style":45,"./config":46,"./enhancer":48,"./get-state":50,"./keyframes":52}],52:[function(require,module,exports){
"use strict";var createMarkupForStyles=require("./create-markup-for-styles"),Prefixer=require("./prefixer"),ExecutionEnvironment=require("exenv"),isAnimationSupported=ExecutionEnvironment.canUseDOM&&Prefixer.getPrefixedPropertyName("animation")!==!1,animationIndex=1,animationStyleSheet=null,keyframesPrefixed="keyframes";isAnimationSupported&&(animationStyleSheet=document.createElement("style"),document.head.appendChild(animationStyleSheet),animationStyleSheet.textContent="@keyframes {}",animationStyleSheet.sheet.cssRules.length||(keyframesPrefixed=Prefixer.cssPrefix+"keyframes"));var keyframes=function(e,t){var n="Animation"+animationIndex;if(animationIndex+=1,!isAnimationSupported)return n;var r="@"+keyframesPrefixed+" "+n+" {\n"+Object.keys(e).map(function(n){var r=e[n],i=Prefixer.getPrefixedStyle(t,r,"css"),a=createMarkupForStyles(i,"  ");return"  "+n+" {\n  "+a+"\n  }"}).join("\n")+"\n}\n";if(!animationStyleSheet)throw new Error("keyframes not initialized properly");return animationStyleSheet.sheet.insertRule(r,animationStyleSheet.sheet.cssRules.length),n};module.exports=keyframes;

},{"./create-markup-for-styles":47,"./prefixer":54,"exenv":58}],53:[function(require,module,exports){
"use strict";var _callbacks=[],_mouseUpListenerIsActive=!1,_handleMouseUp=function(e){_callbacks.forEach(function(s){s(e)})},subscribe=function(e){return-1===_callbacks.indexOf(e)&&_callbacks.push(e),_mouseUpListenerIsActive||(window.addEventListener("mouseup",_handleMouseUp),_mouseUpListenerIsActive=!0),{remove:function(){var s=_callbacks.indexOf(e);_callbacks.splice(s,1),0===_callbacks.length&&_mouseUpListenerIsActive&&(window.removeEventListener("mouseup",_handleMouseUp),_mouseUpListenerIsActive=!1)}}};module.exports={subscribe:subscribe};

},{}],54:[function(require,module,exports){
(function (process){
"use strict";var ExecutionEnvironment=require("exenv"),arrayFind=require("array-find"),VENDOR_PREFIX_REGEX=/-(moz|webkit|ms|o)-/,vendorPrefixes=["Webkit","ms","Moz","O"],infoByCssPrefix={"-moz-":{cssPrefix:"-moz-",jsPrefix:"Moz",alternativeProperties:{alignItems:[{css:"-moz-box-align",js:"MozBoxAlign"}],flex:[{css:"-moz-box-flex",js:"MozBoxFlex"}],flexDirection:[{css:"-moz-box-orient",js:"MozBoxOrient"}],justifyContent:[{css:"-moz-box-pack",js:"MozBoxPack"}],order:[{css:"-moz-box-ordinal-group",js:"MozBoxOrdinalGroup"}]},alternativeValues:{alignItems:{"flex-start":["start"],"flex-end":["end"]},display:{flex:["-moz-box"]},flexDirection:{column:["vertical"],row:["horizontal"]},justifyContent:{"flex-start":["start"],"flex-end":["end"],"space-between":["justify"]}}},"-ms-":{cssPrefix:"-ms-",jsPrefix:"ms",alternativeProperties:{alignContent:[{css:"-ms-flex-line-pack",js:"msFlexLinePack"}],alignItems:[{css:"-ms-flex-align",js:"msFlexAlign"}],alignSelf:[{css:"-ms-flex-align-item",js:"msFlexAlignItem"}],justifyContent:[{css:"-ms-flex-pack",js:"msFlexPack"}],order:[{css:"-ms-flex-order",js:"msFlexOrder"}]},alternativeValues:{alignContent:{"flex-start":["start"],"flex-end":["end"],"space-between":["justify"],"space-around":["distribute"]},alignItems:{"flex-start":["start"],"flex-end":["end"]},alignSelf:{"flex-start":["start"],"flex-end":["end"]},display:{flex:["-ms-flexbox"],"inline-flex":["-ms-inline-flexbox"]},justifyContent:{"flex-start":["start"],"flex-end":["end"],"space-between":["justify"],"space-around":["distribute"]}}},"-o-":{cssPrefix:"-o-",jsPrefix:"O"},"-webkit-":{cssPrefix:"-webkit-",jsPrefix:"Webkit",alternativeProperties:{alignItems:[{css:"-webkit-box-align",js:"WebkitBoxAlign"}],flex:[{css:"-webkit-box-flex",js:"MozBoxFlex"}],flexDirection:[{css:"-webkit-box-orient",js:"WebkitBoxOrient"}],justifyContent:[{css:"-webkit-box-pack",js:"WebkitBoxPack"}],order:[{css:"-webkit-box-ordinal-group",js:"WebkitBoxOrdinalGroup"}]},alternativeValues:{alignItems:{"flex-start":["start"],"flex-end":["end"]},display:{flex:["-webkit-box"]},flexDirection:{row:["horizontal"],column:["vertical"]},justifyContent:{"flex-start":["start"],"flex-end":["end"],"space-between":["justify"]}}}},isUnitlessNumber={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},domStyle={},prefixedPropertyCache={},prefixedValueCache={},prefixInfo={cssPrefix:"",jsPrefix:""};if(ExecutionEnvironment.canUseDOM){domStyle=document.createElement("p").style,void 0===domStyle["float"]&&(domStyle["float"]="");for(var cssVendorPrefix,prefixMatch,windowStyles=window.getComputedStyle(document.documentElement,""),i=0;i<windowStyles.length&&!(prefixMatch=windowStyles[i].match(VENDOR_PREFIX_REGEX));i++);cssVendorPrefix=prefixMatch&&prefixMatch[0],prefixInfo=infoByCssPrefix[cssVendorPrefix]||prefixInfo}var _camelCaseRegex=/([a-z])?([A-Z])/g,_camelCaseReplacer=function(e,r,t){return r+"-"+t.toLowerCase()},_camelCaseToDashCase=function(e){return e.replace(_camelCaseRegex,_camelCaseReplacer)},getPrefixedPropertyName=function(e){if(prefixedPropertyCache.hasOwnProperty(e))return prefixedPropertyCache[e];var r={css:_camelCaseToDashCase(e),js:e,isDefaultForServer:!0},t=[{css:prefixInfo.cssPrefix+_camelCaseToDashCase(e),js:prefixInfo.jsPrefix+e[0].toUpperCase()+e.slice(1)},r];prefixInfo.alternativeProperties&&prefixInfo.alternativeProperties[e]&&(t=t.concat(prefixInfo.alternativeProperties[e]));var i=arrayFind(t,function(e){return e.js in domStyle?e:void 0})||!1;return prefixedPropertyCache[e]=i},_getUnprefixedProperty=function(e){var r=e;return vendorPrefixes.some(function(t){return 0===e.indexOf(t)?(r=r.replace(t,""),r=r.charAt(0).toLowerCase()+r.slice(1),!0):void 0}),r},_addPixelSuffixToValueIfNeeded=function(e,r){var t=_getUnprefixedProperty(e);return 0===r||isNaN(r)||isUnitlessNumber[t]?r:r+"px"},_getPrefixedValue=function(e,r,t,i){if(!Array.isArray(t)){if(!isNaN(t)&&null!==t)return _addPixelSuffixToValueIfNeeded(i,t);if("string"!=typeof t){if(null===t||void 0===t)return t;t=t.toString()}if(!isNaN(parseInt(t,10)))return t}var s=Array.isArray(t)?t.join(" || "):r+t;if(prefixedValueCache.hasOwnProperty(s))return prefixedValueCache[s];var n;Array.isArray(t)?(n=t.map(function(e){return _addPixelSuffixToValueIfNeeded(i,e)}),n=n.concat(t.filter(function(e){return!isNaN(e)}).map(function(e){return prefixInfo.cssPrefix+e}))):n=[t,prefixInfo.cssPrefix+t],prefixInfo.alternativeValues&&prefixInfo.alternativeValues[i]&&prefixInfo.alternativeValues[i][t]&&(n=n.concat(prefixInfo.alternativeValues[i][t]));var o=arrayFind(n,function(e){return domStyle[r]="",domStyle[r]=e,!!domStyle[r]});if(o)prefixedValueCache[s]=o;else if(prefixedValueCache[s]=t,"production"!==process.env.NODE_ENV&&console&&console.warn){var a=e?' in component "'+e.constructor.displayName+'"':"";console.warn('Unsupported CSS value "'+t+'" for property "'+r+'$"'+a)}return prefixedValueCache[s]},getPrefixedStyle=function(e,r,t){if(t=t||"js",!ExecutionEnvironment.canUseDOM)return Object.keys(r).reduce(function(e,i){var s=r[i],n="css"===t?_camelCaseToDashCase(i):i,o=Array.isArray(s)?s[0]:s;return e[n]=o,e},{});var i={};return Object.keys(r).forEach(function(s){var n=r[s],o=getPrefixedPropertyName(s);if(o!==!1||"production"===process.env.NODE_ENV){var a=_getPrefixedValue(e,o.js,n,s);i[o[t]]=a}else if(console&&console.warn){var f=e?' in component "'+e.constructor.displayName+'"':"";console.warn('Unsupported CSS property "'+s+'$"'+f)}}),i};module.exports={getPrefixedPropertyName:getPrefixedPropertyName,getPrefixedStyle:getPrefixedStyle,cssPrefix:prefixInfo.cssPrefix,jsPrefix:prefixInfo.jsPrefix};

}).call(this,require('_process'))

},{"_process":42,"array-find":57,"exenv":58}],55:[function(require,module,exports){
"use strict";var allPrintStyles={},listeners=[],subscribe=function(t){return-1===listeners.indexOf(t)&&listeners.push(t),{remove:function(){var e=listeners.indexOf(t);e>-1&&listeners.splice(e,1)}}},_emitChange=function(){listeners.forEach(function(t){return t()})},_appendImportantToEachValue=function(t){var e={};return Object.keys(t).forEach(function(n){var r=t[n];r=""+r+" !important",e[n]=r}),e},addPrintStyles=function(t){if(t.printStyles){var e={};return Object.keys(t.printStyles).forEach(function(n){var r=t.printStyles[n],i="Radium-"+t.displayName+"-"+n;allPrintStyles["."+i]=_appendImportantToEachValue(r),e[n]=i}),_emitChange(),e}},getPrintStyles=function(){return allPrintStyles};module.exports={addPrintStyles:addPrintStyles,getPrintStyles:getPrintStyles,subscribe:subscribe};

},{}],56:[function(require,module,exports){
(function (process,global){
"use strict";var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},MouseUpListener=require("./mouse-up-listener"),getState=require("./get-state"),getStateKey=require("./get-state-key"),Prefixer=require("./prefixer"),Config=require("./config"),ExecutionEnvironment=require("exenv"),React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,mediaQueryListByQueryString={},_isSpecialKey=function(e){return":"===e[0]||"@"===e[0]},_getStyleState=function(e,t,r){return getState(e.state,t,r)},_setStyleState=function(e,t,r){var o=e._lastRadiumState||e.state&&e.state._radiumStyleState||{},n={_radiumStyleState:_extends({},o)};n._radiumStyleState[t]=_extends({},n._radiumStyleState[t],r),e._lastRadiumState=n._radiumStyleState,e.setState(n)},_mergeStyles=function e(t){var r={};return t.forEach(function(t){t&&"object"==typeof t&&!Array.isArray(t)&&Object.keys(t).forEach(function(o){_isSpecialKey(o)&&r[o]?r[o]=e([r[o],t[o]]):r[o]=t[o]})}),r},_mouseUp=function(e){Object.keys(e.state._radiumStyleState).forEach(function(t){_getStyleState(e,t,":active")&&_setStyleState(e,t,{":active":!1})})},_onMediaQueryChange=function(e,t,r){var o={};o[t]=r.matches,_setStyleState(e,"_all",o)},_resolveMediaQueryStyles=function(e,t){return Config.canMatchMedia()?(Object.keys(t).filter(function(e){return"@"===e[0]}).map(function(r){var o=t[r];r=r.replace("@media ","");var n=mediaQueryListByQueryString[r];if(n||(mediaQueryListByQueryString[r]=n=Config.matchMedia(r)),e._radiumMediaQueryListenersByQuery||(e._radiumMediaQueryListenersByQuery={}),!e._radiumMediaQueryListenersByQuery[r]){var i=_onMediaQueryChange.bind(null,e,r);n.addListener(i),e._radiumMediaQueryListenersByQuery[r]={remove:function(){n.removeListener(i)}}}n.matches&&(t=_mergeStyles([t,o]))}),t):t},_cloneElement=function(e,t,r){var o=React.cloneElement(e,_extends({},t,{_radiumDidResolveStyles:!0}),r);return o},resolveStyles=function t(e,r,o){if(o=o||{},!r||r.props&&r.props._radiumDidResolveStyles)return r;var n=r.props.children,i=n;if(n){var a=typeof n;if("string"===a||"number"===a)i=n;else if("function"===a)i=function(){var r=n.apply(this,arguments);return React.isValidElement(r)?t(e,r,o):r};else if(1===React.Children.count(n)&&n.type){var s=React.Children.only(n);i=t(e,s,o)}else i=React.Children.map(n,function(r){return React.isValidElement(r)?t(e,r,o):r})}var u=r.props,d={};Object.keys(u).forEach(function(r){if("children"!==r){var n=u[r];React.isValidElement(n)&&(d[r]=t(e,n,o))}});var c=Object.keys(d).length>0;if(!React.isValidElement(r)||"string"!=typeof r.type)return n!==i||c?_cloneElement(r,c?d:{},i):r;var l=u.style;if(Array.isArray(l)&&(l=_mergeStyles(l)),"production"!==process.env.NODE_ENV){var y={background:["backgroundAttachment","backgroundBlendMode","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPosition","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundRepeatX","backgroundRepeatY","backgroundSize"],border:["borderBottom","borderBottomColor","borderBottomStyle","borderBottomWidth","borderColor","borderLeft","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRight","borderRightColor","borderRightStyle","borderRightWidth","borderStyle","borderTop","borderTopColor","borderTopStyle","borderTopWidth","borderWidth"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],font:["fontFamily","fontKerning","fontSize","fontStretch","fontStyle","fontVariant","fontVariantLigatures","fontWeight","lineHeight"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"]},f=function k(t){if("object"==typeof t&&t){var r=Object.keys(t);r.forEach(function(t){y[t]&&y[t].some(function(e){return-1!==r.indexOf(e)})&&"production"!==process.env.NODE_ENV&&console.warn('Radium: property "'+t+'" in style object',l,": do not mix longhand and shorthand properties in the same style object. Check the render method of "+e.constructor.displayName+".","See https://github.com/FormidableLabs/radium/issues/95 for more information.")}),r.forEach(function(e){return k(t[e])})}};f(l)}if(!l||!Object.keys(l).some(_isSpecialKey))return l?(d.style=Prefixer.getPrefixedStyle(e,l),_cloneElement(r,d,i)):i||c?_cloneElement(r,d,i):r;var m=r.ref||r.key,g=getStateKey(m);if(o[g])throw new Error("Radium requires each element with interactive styles to have a unique key, set using either the ref or key prop. "+(m?'Key "'+m+'" is a duplicate.':"Multiple elements have no key specified."));o[g]=!0,l=_resolveMediaQueryStyles(e,l);var S={};if(Object.keys(l).forEach(function(e){_isSpecialKey(e)||(S[e]=l[e])}),l[":hover"]||l[":active"]){var p=u.onMouseEnter;d.onMouseEnter=function(t){p&&p(t),_setStyleState(e,g,{":hover":!0})};var b=u.onMouseLeave;d.onMouseLeave=function(t){b&&b(t),_setStyleState(e,g,{":hover":!1})}}if(l[":active"]){var h=u.onMouseDown;d.onMouseDown=function(t){h&&h(t),e._lastMouseDown=Date.now(),_setStyleState(e,g,{":active":!0})}}if(l[":focus"]){var v=u.onFocus;d.onFocus=function(t){v&&v(t),_setStyleState(e,g,{":focus":!0})};var _=u.onBlur;d.onBlur=function(t){_&&_(t),_setStyleState(e,g,{":focus":!1})}}var R=Object.keys(l).filter(function(t){return":active"===t&&_getStyleState(e,g,":active")||":hover"===t&&_getStyleState(e,g,":hover")||":focus"===t&&_getStyleState(e,g,":focus")}).map(function(e){return l[e]});return R.length&&(S=_mergeStyles([S].concat(R))),l[":active"]&&!e._radiumMouseUpListener&&ExecutionEnvironment.canUseEventListeners&&(e._radiumMouseUpListener=MouseUpListener.subscribe(_mouseUp.bind(null,e))),d.style=Prefixer.getPrefixedStyle(e,S),_cloneElement(r,d,i)};resolveStyles.__clearStateForTests=function(){mediaQueryListByQueryString={}},module.exports=resolveStyles;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./config":46,"./get-state":50,"./get-state-key":49,"./mouse-up-listener":53,"./prefixer":54,"_process":42,"exenv":58}],57:[function(require,module,exports){
"use strict";function find(n,t,r){if("function"==typeof Array.prototype.find)return n.find(t,r);r=r||this;var f,i=n.length;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(f=0;i>f;f++)if(t.call(r,n[f],f,n))return n[f]}module.exports=find;

},{}],58:[function(require,module,exports){
!function(){"use strict";var e=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:e,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:e&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:e&&!!window.screen};"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:window.ExecutionEnvironment=n}();

},{}]},{},[24])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9ncnVudC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvamVmZmdvbGVuc2tpL0RvY3VtZW50cy9BdXRvbWF0dGljL2pldHBhY2stc3RhcnQvY2xpZW50L2FjdGlvbnMvZGF0YS1hY3Rpb25zLmpzIiwiL1VzZXJzL2plZmZnb2xlbnNraS9Eb2N1bWVudHMvQXV0b21hdHRpYy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9hY3Rpb25zL2ZsYXNoLWFjdGlvbnMuanMiLCIvVXNlcnMvamVmZmdvbGVuc2tpL0RvY3VtZW50cy9BdXRvbWF0dGljL2pldHBhY2stc3RhcnQvY2xpZW50L2FjdGlvbnMvc2V0dXAtcHJvZ3Jlc3MtYWN0aW9ucy5qcyIsIi9Vc2Vycy9qZWZmZ29sZW5za2kvRG9jdW1lbnRzL0F1dG9tYXR0aWMvamV0cGFjay1zdGFydC9jbGllbnQvYWN0aW9ucy9zaXRlLWFjdGlvbnMuanMiLCIvVXNlcnMvamVmZmdvbGVuc2tpL0RvY3VtZW50cy9BdXRvbWF0dGljL2pldHBhY2stc3RhcnQvY2xpZW50L2FjdGlvbnMvc3Bpbm5lci1hY3Rpb25zLmpzIiwiL1VzZXJzL2plZmZnb2xlbnNraS9Eb2N1bWVudHMvQXV0b21hdHRpYy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb21wb25lbnRzL2FkdmFuY2VkLXNldHRpbmdzLXN0ZXAuanN4IiwiL1VzZXJzL2plZmZnb2xlbnNraS9Eb2N1bWVudHMvQXV0b21hdHRpYy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb21wb25lbnRzL2NvbnRlbnQtYm94LmpzeCIsIi9Vc2Vycy9qZWZmZ29sZW5za2kvRG9jdW1lbnRzL0F1dG9tYXR0aWMvamV0cGFjay1zdGFydC9jbGllbnQvY29tcG9uZW50cy9kYXNoaWNvbi5qc3giLCIvVXNlcnMvamVmZmdvbGVuc2tpL0RvY3VtZW50cy9BdXRvbWF0dGljL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvZGVzaWduLXN0ZXAuanN4IiwiL1VzZXJzL2plZmZnb2xlbnNraS9Eb2N1bWVudHMvQXV0b21hdHRpYy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb21wb25lbnRzL2ZsYXNoLmpzeCIsIi9Vc2Vycy9qZWZmZ29sZW5za2kvRG9jdW1lbnRzL0F1dG9tYXR0aWMvamV0cGFjay1zdGFydC9jbGllbnQvY29tcG9uZW50cy9nZXQtc3RhcnRlZC5qc3giLCIvVXNlcnMvamVmZmdvbGVuc2tpL0RvY3VtZW50cy9BdXRvbWF0dGljL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvamV0cGFjay1qdW1wc3RhcnQtbWVudS5qc3giLCIvVXNlcnMvamVmZmdvbGVuc2tpL0RvY3VtZW50cy9BdXRvbWF0dGljL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvamV0cGFjay1qdW1wc3RhcnQtc3RlcC5qc3giLCIvVXNlcnMvamVmZmdvbGVuc2tpL0RvY3VtZW50cy9BdXRvbWF0dGljL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvbGF5b3V0LXN0ZXAuanN4IiwiL1VzZXJzL2plZmZnb2xlbnNraS9Eb2N1bWVudHMvQXV0b21hdHRpYy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb21wb25lbnRzL3NpdGUtdGl0bGUtc3RlcC5qc3giLCIvVXNlcnMvamVmZmdvbGVuc2tpL0RvY3VtZW50cy9BdXRvbWF0dGljL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvc2tpcC1idXR0b24uanN4IiwiL1VzZXJzL2plZmZnb2xlbnNraS9Eb2N1bWVudHMvQXV0b21hdHRpYy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb21wb25lbnRzL3Rvb2x0aXAuanN4IiwiL1VzZXJzL2plZmZnb2xlbnNraS9Eb2N1bWVudHMvQXV0b21hdHRpYy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb21wb25lbnRzL3dlbGNvbWUtbWVudS5qc3giLCIvVXNlcnMvamVmZmdvbGVuc2tpL0RvY3VtZW50cy9BdXRvbWF0dGljL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvd2VsY29tZS1zZWN0aW9uLmpzeCIsIi9Vc2Vycy9qZWZmZ29sZW5za2kvRG9jdW1lbnRzL0F1dG9tYXR0aWMvamV0cGFjay1zdGFydC9jbGllbnQvY29tcG9uZW50cy93ZWxjb21lLXdpZGdldC5qc3giLCIvVXNlcnMvamVmZmdvbGVuc2tpL0RvY3VtZW50cy9BdXRvbWF0dGljL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LWNvbnN0YW50cy5qcyIsIi9Vc2Vycy9qZWZmZ29sZW5za2kvRG9jdW1lbnRzL0F1dG9tYXR0aWMvamV0cGFjay1zdGFydC9jbGllbnQvY29uc3RhbnRzL2pldHBhY2stc3RhcnQtcGF0aHMuanMiLCIvVXNlcnMvamVmZmdvbGVuc2tpL0RvY3VtZW50cy9BdXRvbWF0dGljL2pldHBhY2stc3RhcnQvY2xpZW50L2Rpc3BhdGNoZXIvYXBwLWRpc3BhdGNoZXIuanMiLCIvVXNlcnMvamVmZmdvbGVuc2tpL0RvY3VtZW50cy9BdXRvbWF0dGljL2pldHBhY2stc3RhcnQvY2xpZW50L2pldHBhY2stc3RhcnQuanMiLCIvVXNlcnMvamVmZmdvbGVuc2tpL0RvY3VtZW50cy9BdXRvbWF0dGljL2pldHBhY2stc3RhcnQvY2xpZW50L3N0b3Jlcy9kYXRhLXN0b3JlLmpzIiwiL1VzZXJzL2plZmZnb2xlbnNraS9Eb2N1bWVudHMvQXV0b21hdHRpYy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9zdG9yZXMvZmxhc2gtc3RvcmUuanMiLCIvVXNlcnMvamVmZmdvbGVuc2tpL0RvY3VtZW50cy9BdXRvbWF0dGljL2pldHBhY2stc3RhcnQvY2xpZW50L3N0b3Jlcy9zZXR1cC1wcm9ncmVzcy1zdG9yZS5qcyIsIi9Vc2Vycy9qZWZmZ29sZW5za2kvRG9jdW1lbnRzL0F1dG9tYXR0aWMvamV0cGFjay1zdGFydC9jbGllbnQvc3RvcmVzL3NpdGUtc3RvcmUuanMiLCIvVXNlcnMvamVmZmdvbGVuc2tpL0RvY3VtZW50cy9BdXRvbWF0dGljL2pldHBhY2stc3RhcnQvY2xpZW50L3N0b3Jlcy9zcGlubmVyLXN0b3JlLmpzIiwiL1VzZXJzL2plZmZnb2xlbnNraS9Eb2N1bWVudHMvQXV0b21hdHRpYy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9zdHlsZXMuanMiLCIvVXNlcnMvamVmZmdvbGVuc2tpL0RvY3VtZW50cy9BdXRvbWF0dGljL2pldHBhY2stc3RhcnQvY2xpZW50L3V0aWxzL3dwLWFqYXguanMiLCIvVXNlcnMvamVmZmdvbGVuc2tpL0RvY3VtZW50cy9BdXRvbWF0dGljL2pldHBhY2stc3RhcnQvY2xpZW50L3dlbGNvbWUtcGFuZWwuanN4IiwiL1VzZXJzL2plZmZnb2xlbnNraS9Eb2N1bWVudHMvQXV0b21hdHRpYy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvYnV0dG9uLmpzIiwiL1VzZXJzL2plZmZnb2xlbnNraS9Eb2N1bWVudHMvQXV0b21hdHRpYy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvcHJvZ3Jlc3MtYmFyLmpzIiwiL1VzZXJzL2plZmZnb2xlbnNraS9Eb2N1bWVudHMvQXV0b21hdHRpYy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvcmVzZXQuanMiLCIvVXNlcnMvamVmZmdvbGVuc2tpL0RvY3VtZW50cy9BdXRvbWF0dGljL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL0BhdXRvbWF0dGljL2RvcHMtcmVhY3QvanMvc3R5bGVzLmpzIiwiL1VzZXJzL2plZmZnb2xlbnNraS9Eb2N1bWVudHMvQXV0b21hdHRpYy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL3V0aWxzL20uanMiLCIvVXNlcnMvamVmZmdvbGVuc2tpL0RvY3VtZW50cy9BdXRvbWF0dGljL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL2ZsdXgvaW5kZXguanMiLCIvVXNlcnMvamVmZmdvbGVuc2tpL0RvY3VtZW50cy9BdXRvbWF0dGljL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL2ZsdXgvbGliL0Rpc3BhdGNoZXIuanMiLCIvVXNlcnMvamVmZmdvbGVuc2tpL0RvY3VtZW50cy9BdXRvbWF0dGljL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL2ZsdXgvbGliL2ludmFyaWFudC5qcyIsIi9Vc2Vycy9qZWZmZ29sZW5za2kvRG9jdW1lbnRzL0F1dG9tYXR0aWMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvZ3J1bnQtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcyIsIi9Vc2Vycy9qZWZmZ29sZW5za2kvRG9jdW1lbnRzL0F1dG9tYXR0aWMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvZ3J1bnQtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwiL1VzZXJzL2plZmZnb2xlbnNraS9Eb2N1bWVudHMvQXV0b21hdHRpYy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9rZXltaXJyb3IvaW5kZXguanMiLCIvVXNlcnMvamVmZmdvbGVuc2tpL0RvY3VtZW50cy9BdXRvbWF0dGljL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvY29tcG9uZW50cy9wcmludC1zdHlsZS1zaGVldC5qcyIsIi9Vc2Vycy9qZWZmZ29sZW5za2kvRG9jdW1lbnRzL0F1dG9tYXR0aWMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9jb21wb25lbnRzL3N0eWxlLmpzIiwiL1VzZXJzL2plZmZnb2xlbnNraS9Eb2N1bWVudHMvQXV0b21hdHRpYy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL2NvbmZpZy5qcyIsIi9Vc2Vycy9qZWZmZ29sZW5za2kvRG9jdW1lbnRzL0F1dG9tYXR0aWMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9jcmVhdGUtbWFya3VwLWZvci1zdHlsZXMuanMiLCIvVXNlcnMvamVmZmdvbGVuc2tpL0RvY3VtZW50cy9BdXRvbWF0dGljL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvZW5oYW5jZXIuanMiLCIvVXNlcnMvamVmZmdvbGVuc2tpL0RvY3VtZW50cy9BdXRvbWF0dGljL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvZ2V0LXN0YXRlLWtleS5qcyIsIi9Vc2Vycy9qZWZmZ29sZW5za2kvRG9jdW1lbnRzL0F1dG9tYXR0aWMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9nZXQtc3RhdGUuanMiLCIvVXNlcnMvamVmZmdvbGVuc2tpL0RvY3VtZW50cy9BdXRvbWF0dGljL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvaW5kZXguanMiLCIvVXNlcnMvamVmZmdvbGVuc2tpL0RvY3VtZW50cy9BdXRvbWF0dGljL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIva2V5ZnJhbWVzLmpzIiwiL1VzZXJzL2plZmZnb2xlbnNraS9Eb2N1bWVudHMvQXV0b21hdHRpYy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL21vdXNlLXVwLWxpc3RlbmVyLmpzIiwiL1VzZXJzL2plZmZnb2xlbnNraS9Eb2N1bWVudHMvQXV0b21hdHRpYy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL3ByZWZpeGVyLmpzIiwiL1VzZXJzL2plZmZnb2xlbnNraS9Eb2N1bWVudHMvQXV0b21hdHRpYy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL3ByaW50LXN0eWxlcy5qcyIsIi9Vc2Vycy9qZWZmZ29sZW5za2kvRG9jdW1lbnRzL0F1dG9tYXR0aWMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9yZXNvbHZlLXN0eWxlcy5qcyIsIi9Vc2Vycy9qZWZmZ29sZW5za2kvRG9jdW1lbnRzL0F1dG9tYXR0aWMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvcmFkaXVtL25vZGVfbW9kdWxlcy9hcnJheS1maW5kL2ZpbmQuanMiLCIvVXNlcnMvamVmZmdvbGVuc2tpL0RvY3VtZW50cy9BdXRvbWF0dGljL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL3JhZGl1bS9ub2RlX21vZHVsZXMvZXhlbnYvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxHQUFJLGVBQWdCLFFBQVEsZ0NBQzNCLGFBQWUsUUFBUSx3Q0FFcEIsYUFDSCxlQUFnQixXQUNmLGNBQWMsVUFDYixXQUFZLGFBQWEsZ0JBSTNCLGdCQUFpQixXQUNoQixjQUFjLFVBQ2IsV0FBWSxhQUFhLGlCQUs1QixRQUFPLFFBQVU7OztBQ2pCakIsR0FBSSxlQUFnQixRQUFRLGdDQUMzQixhQUFlLFFBQVEsd0NBRXBCLGNBQ0gsT0FBUSxTQUFTLEdBQ2hCLGNBQWMsVUFDYixXQUFZLGFBQWEsVUFDekIsUUFBUyxFQUNULFNBQVUsYUFBYSx5QkFJekIsTUFBTyxTQUFTLEdBQ2YsY0FBYyxVQUNiLFdBQVksYUFBYSxVQUN6QixRQUFTLEVBQ1QsU0FBVSxhQUFhLHdCQUl6QixNQUFPLFdBQ04sY0FBYyxVQUNiLFdBQVksYUFBYSxlQUs1QixRQUFPLFFBQVU7OztBQzNCakIsR0FBSSxlQUFnQixRQUFRLGdDQUMzQixhQUFlLFFBQVEsd0NBQ3ZCLE1BQVEsUUFBUSxvQ0FDaEIsYUFBZSxRQUFRLG1CQUN2QixZQUFjLFFBQVEsa0JBQ3RCLE9BQVMsUUFBUSxvQkFDakIsbUJBQXFCLFFBQVEsa0NBQzdCLFVBQVksUUFBUSx3QkFFakIsc0JBQ0gsVUFBVyxXQUNWLE9BQ0MsS0FBSyxJQUFJLGFBQWEsWUFDdEIsS0FBTSxTQUFXLEdBQ2hCLGFBQWEsTUFBTSx3QkFBMEIsS0FFL0MsY0FBYyxVQUNSLFdBQVksYUFBYSxjQUloQyxhQUFjLFNBQVMsRUFBTSxHQUM1QixHQUFJLEdBQU8sbUJBQW1CLGdCQUFnQixFQUU5QyxlQUFjLFVBQ2IsV0FBWSxhQUFhLGNBQ3pCLEtBQU0sSUFLUCxLQUFLLGdCQUFnQixFQUFNLElBRzVCLG9CQUFxQixTQUFTLEVBQU0sR0FDbkMsS0FBSyxhQUFhLEVBQU0sR0FFckIsY0FBYyxVQUNaLFdBQVksYUFBYSxVQUN6QixLQUFNLEtBSVosZ0JBQWlCLFNBQVMsRUFBTSxHQUNWLG1CQUFYLEtBQ1QsTUFHRCxFQUFLLFdBQWEsbUJBQW1CLHFCQUVyQyxPQUNHLEtBQUssSUFBSSxhQUFhLFVBQVksS0FBTSxFQUFLLEtBQU0sS0FBTSxJQUMzRCxLQUFNLFNBQVMsR0FDZCxhQUFhLE1BQU0sTUFLdEIsU0FBVSxXQUNULGFBQWEsT0FFYixJQUFJLEdBQU8sbUJBQW1CLGdCQUV2QixHQUFLLFNBQ1IsT0FDRixLQUFLLElBQUksYUFBYSxNQUFRLEtBQU0sRUFBSyxPQUN6QyxLQUFNLFNBQVMsR0FDZCxhQUFhLE1BQU0sS0FJdEIsY0FBYyxVQUNiLFdBQVksYUFBYSxhQUkzQixXQUFZLFdBQ1IsT0FDRixLQUFLLElBQUksYUFBYSxPQUN0QixLQUFNLFNBQVMsR0FDZCxhQUFhLE1BQU0sS0FHckIsY0FBYyxVQUNULFdBQVksYUFBYSxvQkFJL0IsZUFBZ0IsU0FBUyxHQUN4QixhQUFhLFFBQ2IsY0FBYyxVQUNULFdBQVksYUFBYSxZQUN6QixLQUFNLEtBS1osZUFBZ0IsV0FDZixhQUFhLFFBQ2IsY0FBYyxVQUNiLFdBQVksYUFBYSxhQUkzQixnQkFBaUIsV0FDaEIsWUFBWSwwQkFBMEIsS0FBSyxXQUMxQyxLQUFLLG9CQUFvQixNQUFNLHVCQUM5QixLQUFLLFFBR1IsaUJBQWtCLFNBQVMsR0FDMUIsWUFBWSxVQUFVLEdBQVEsS0FBSyxXQUNsQyxLQUFLLG9CQUFvQixNQUFNLG1CQUM5QixLQUFLLFFBR1IsdUJBQXdCLFdBQ3ZCLFlBQVksa0JBQWtCLEtBQUssV0FDbEMsS0FBSyxhQUFhLE1BQU0sNEJBQ3ZCLEtBQUssUUFHUixlQUFnQixTQUFTLEdBQ3hCLFlBQVksZUFBZSxHQUFPLEtBQU0sV0FDdkMsS0FBSyxhQUFhLE1BQU0sa0JBQW1CLFFBQVMsRUFBTSxNQUN6RCxLQUFLLFFBR1IsZUFBZ0IsV0FDZixLQUFLLG9CQUFvQixNQUFNLGtCQUFtQixRQUFTLFVBQVUsc0JBSXZFLFFBQU8sUUFBVTs7O0FDcklqQixHQUFJLGVBQWdCLFFBQVEsZ0NBQzNCLGFBQWUsUUFBUSx3Q0FDdkIsVUFBWSxRQUFRLHdCQUNwQixhQUFlLFFBQVEsc0JBQ3ZCLGVBQWlCLFFBQVEsd0JBQ3pCLE9BQVMsUUFBUSxvQkFFZCxhQUNILFNBQVUsU0FBUyxHQUNsQixjQUFjLFVBQ2IsV0FBWSxhQUFhLGVBQ3pCLE1BQU8sS0FJVCxlQUFnQixTQUFTLEdBQ3hCLGNBQWMsVUFDYixXQUFZLGFBQWEscUJBQ3pCLFlBQWEsS0FJZix3QkFBeUIsV0FDeEIsR0FBSSxHQUFRLFVBQVUsV0FDbEIsRUFBYyxVQUFVLGdCQWU1QixPQWJBLFFBQ0MsS0FBTSxJQUFJLGFBQWEsV0FBYSxNQUFPLEVBQU8sWUFBYSxJQUMvRCxLQUFNLFNBQVcsR0FDaEIsYUFBYSxNQUFNLHdCQUF3QixLQUc3QyxPQUFPLG9DQUFvQyxLQUFLLEdBRWhELGNBQWMsVUFDYixXQUFZLGFBQWEsZ0NBQ3pCLE1BQU8sSUFHRCxPQUFPLFdBQVcsV0FHMUIsY0FBZSxTQUFXLEdBQ3pCLE1BQU8sR0FBTSxVQWtCTCxPQUFPLFdBQVcsV0FqQnpCLGVBQWUsS0FBSyxlQUFlLEVBQU0sS0FBSyxLQUN2QyxPQUNOLEtBQU0sSUFBSSxhQUFhLGVBQWlCLFFBQVMsRUFBTSxLQUN2RCxLQUFNLFdBQ0wsRUFBTSxXQUFZLEVBQ2xCLGNBQWMsVUFDYixXQUFZLGFBQWEsbUJBQ3pCLE1BQU8sTUFHVCxLQUFNLFNBQVcsR0FDaEIsYUFBYSxNQUFNLGtDQUFrQyxLQUV0RCxPQUFRLFdBQ1AsZUFBZSxXQU9uQixlQUFnQixTQUFXLEdBQzFCLE9BQ0MsS0FBTSxJQUFJLGFBQWEsV0FBYSxRQUFTLEVBQU0sS0FDbkQsS0FBTSxTQUFXLEdBQ2hCLGFBQWEsTUFBTSwrQkFBK0IsS0FHcEQsY0FBYyxVQUNiLFdBQVksYUFBYSxlQUN6QixRQUFTLEVBQU0sTUFJakIsZUFBZ0IsU0FBVSxHQU96QixNQUxBLE1BQUssY0FBYyxHQUNsQixLQUFNLFdBQ0wsS0FBSyxlQUFlLElBQ25CLEtBQUssT0FFRCxPQUFPLFdBQVcsV0FHMUIsVUFBVyxTQUFVLEdBY2pCLE1BWkgsUUFDQyxLQUFNLElBQUksYUFBYSxZQUFjLE9BQVEsSUFDN0MsS0FBTSxTQUFVLEdBQ2YsYUFBYSxNQUFNLHlCQUF5QixLQUk5QyxjQUFjLFVBQ2IsV0FBWSxhQUFhLGdCQUN6QixPQUFRLElBR0MsT0FBTyxXQUFXLFdBRzdCLGlCQUFrQixTQUFTLEdBRTFCLE1BREEsZ0JBQWUsS0FBSywrQkFDYixPQUNOLEtBQU0sSUFBSSxhQUFhLG1CQUFxQixlQUFnQixJQUM1RCxLQUFNLFNBQVcsR0FDaEIsY0FBYyxVQUNiLFdBQVksYUFBYSwwQkFHckIsRUFBSyxLQUNULE9BQU8sU0FBUyxRQUFRLEVBQUssTUFFN0IsZUFBZSxTQUdqQixLQUFNLFNBQVcsR0FDaEIsYUFBYSxNQUFNLDJCQUEyQixHQUM5QyxlQUFlLFVBSWxCLHNCQUF1QixTQUFTLEdBYS9CLE1BWEEsUUFDQyxLQUFNLElBQUksYUFBYSwwQkFBNEIsU0FBVSxLQUM3RCxLQUFNLFNBQVcsR0FDaEIsYUFBYSxNQUFNLG9DQUFvQyxLQUd6RCxjQUFjLFVBQ2IsV0FBWSxhQUFhLDRCQUN6QixLQUFNLElBR0EsT0FBTyxXQUFXLFdBRzFCLHdCQUF5QixTQUFTLEdBYWpDLE1BWEEsUUFDQyxLQUFNLElBQUksYUFBYSw0QkFBOEIsU0FBVSxLQUMvRCxLQUFNLFNBQVcsR0FDaEIsYUFBYSxNQUFNLHNDQUFzQyxLQUczRCxjQUFjLFVBQ2IsV0FBWSxhQUFhLDZCQUN6QixLQUFNLElBR0EsT0FBTyxXQUFXLFdBRzFCLHNCQUF1QixXQUN0QixNQUF3RCxLQUFuRCxVQUFVLDhCQUE4QixPQUNyQyxPQUNOLEtBQU0sSUFBSSxhQUFhLHNCQUN2QixLQUFNLFNBQVcsR0FDaEIsY0FBYyxVQUNiLFdBQVksYUFBYSx5QkFDekIsUUFBUyxNQUdYLEtBQU0sU0FBVyxHQUNoQixhQUFhLE1BQU0sdUNBQXVDLEtBR3JELE9BQU8sV0FBVyxXQUkzQixnQkFBaUIsV0FXaEIsTUFWQSxRQUNDLEtBQU0sSUFBSSxhQUFhLDBCQUE0QixRQUFTLFVBQVUsNEJBQ3RFLEtBQU0sU0FBVyxHQUNoQixhQUFhLE1BQU0scUNBQXFDLEtBRzFELGNBQWMsVUFDYixXQUFZLGFBQWEsaUNBR25CLE9BQU8sV0FBVyxXQUkzQixRQUFPLFFBQVU7OztBQy9MakIsR0FBSSxlQUFnQixRQUFRLGdDQUMzQixhQUFlLFFBQVEsd0NBRXBCLGdCQUNILEtBQU0sU0FBUyxHQUNkLGNBQWMsVUFDYixXQUFZLGFBQWEsYUFDekIsUUFBUyxLQUlYLEtBQU0sV0FDTCxjQUFjLFVBQ2IsV0FBWSxhQUFhLGdCQUkzQixVQUFXLFNBQVMsR0FDbkIsY0FBYyxVQUNiLFdBQVksYUFBYSxtQkFDekIsUUFBUyxLQUlYLFVBQVcsV0FDVixjQUFjLFVBQ2IsV0FBWSxhQUFhLHNCQUs1QixRQUFPLFFBQVU7Ozs7QUMvQmpCLEdBQUksT0FBMkIsbUJBQVgsUUFBeUIsT0FBYyxNQUFzQixtQkFBWCxRQUF5QixPQUFjLE1BQUksS0FDaEgsT0FBUyxRQUFRLCtDQUNqQixVQUFZLFFBQVEsd0JBQ3BCLGVBQWlCLFFBQVEscUJBRXRCLGFBQWUsTUFBTSxhQUFhLFlBQWEsZUFDbEQsUUFDQyxNQUNDLFFBQVMsTUFDVCxhQUFjLE1BQ2QsVUFBVyxPQUNYLFdBQVksVUFDWixPQUFRLGtCQUdULFNBQ0MsT0FBUSxFQUNSLFNBQVUsUUFDVixXQUFZLE1BSWQsT0FBUSxXQUNQLE1BQ0MsT0FBTSxjQUFjLE1BQU8sTUFBTyxLQUFLLE9BQU8sTUFDN0MsTUFBTSxjQUFjLE1BQU8sTUFBTyxLQUFLLE9BQU8sU0FBVSxLQUFLLE1BQU0sT0FDbkUsS0FBSyxNQUFNLGFBTVgscUJBQXVCLE1BQU0sYUFBYSxZQUFhLHVCQUUxRCxRQUNDLFNBQ0MsV0FBWSxJQUlkLE9BQVEsV0FDUCxNQUNDLE9BQU0sY0FBYyxlQUFnQixLQUNuQyxNQUFNLGNBQWMsS0FBTSxLQUFNLHFCQUVoQyxNQUFNLGNBQWMsTUFBTyxNQUFPLEtBQUssT0FBTyxTQUM3QyxNQUFNLGNBQWMsY0FBZSxNQUFPLCtDQUN6QyxvRUFDQSxNQUFNLGNBQWMsS0FBTSxNQUMxQixNQUFNLGNBQWMsUUFBUyxNQUFPLE9BQVEsS0FBTSxJQUFJLE1BQU0sa0JBQWtCLGVBQWdCLHFCQUM5RixLQUNBLE1BQU0sY0FBYyxRQUFTLE1BQU8sT0FBUSxLQUFNLElBQUksTUFBTSxrQkFBa0IsWUFBYSwyQkFHbEUsUUFBekIsVUFBVSxhQUFrRCxhQUF6QixVQUFVLGNBQzdDLE1BQU0sY0FBYyxjQUFlLE1BQU8sK0JBQ3pDLHVDQUNBLE1BQU0sY0FBYyxLQUFNLE1BQzFCLE1BQU0sY0FBYyxRQUFTLE1BQU8sT0FBUSxLQUFNLElBQUksTUFBTSxrQkFBa0IsbUJBQW9CLHlCQUNsRyxLQUNBLE1BQU0sY0FBYyxRQUFTLE1BQU8sT0FBUSxLQUFNLElBQUksTUFBTSxrQkFBa0Isa0JBQW1CLGlCQUduRyxNQUFNLGNBQWMsY0FBZSxNQUFPLHdCQUN6QywrREFDQSxNQUFNLGNBQWMsS0FBTSxNQUMxQixNQUFNLGNBQWMsUUFBUyxNQUFPLE9BQVEsS0FBTSxJQUFJLE1BQU0sa0JBQWtCLGNBQWUscUJBQzdGLEtBQ0EsTUFBTSxjQUFjLFFBQVMsTUFBTyxPQUFRLEtBQU0sSUFBSSxNQUFNLGtCQUFrQixrQkFBbUIsaUJBRWxHLE1BQU0sY0FBYyxjQUFlLE1BQU8sb0NBQ3pDLGtGQUNBLE1BQU0sY0FBYyxLQUFNLE1BQzFCLE1BQU0sY0FBYyxRQUFTLE1BQU8sT0FBUSxLQUFNLElBQUksTUFBTSxrQkFBa0IsYUFBYyxrQkFDNUYsS0FDQSxVQUFVLHdCQUNULE1BQU0sY0FBYyxRQUFTLE1BQU8sT0FBUSxLQUFNLElBQUksTUFBTSxrQkFBa0IscUJBQXNCLDJCQUd0RyxNQUFNLGNBQWMsY0FBZSxNQUFPLGNBQ3pDLE1BQU0sY0FBYyxLQUFNLEtBQU0sMERBQTJELDhCQUErQix5REFRaEksUUFBTyxRQUFVOzs7Ozs7QUN4RmpCLEdBQUksT0FBMkIsbUJBQVgsUUFBeUIsT0FBYyxNQUFzQixtQkFBWCxRQUF5QixPQUFjLE1BQUksS0FFN0csV0FBYSxNQUFNLGFBQWEsWUFBYSxhQUNoRCxPQUFRLFdBQ1AsTUFDQyxPQUFNLGNBQWMsT0FBUSxVQUFXLHdCQUN0QyxLQUFLLE1BQU0sU0FDWCxNQUFNLGNBQWMsT0FBUSxVQUFXLGFBTTNDLFFBQU8sUUFBVTs7Ozs7O0FDWGpCLEdBQUksT0FBMkIsbUJBQVgsUUFBeUIsT0FBYyxNQUFzQixtQkFBWCxRQUF5QixPQUFjLE1BQUksS0FFN0csU0FBVyxNQUFNLGFBQWEsWUFBYSxXQUU5QyxXQUNDLEtBQU0sTUFBTSxVQUFVLE9BQU8sV0FDN0IsTUFBTyxNQUFNLFVBQVUsT0FDdkIsWUFBYSxNQUFNLFVBQVUsS0FDN0IsV0FBWSxNQUFNLFVBQVUsTUFHN0IsT0FBUSxXQUNQLE1BQ0MsT0FBTSxjQUFjLFFBQ25CLE1BQU8sS0FBSyxNQUFNLE1BQ2xCLFlBQWEsS0FBSyxNQUFNLFlBQ3hCLFdBQVksS0FBSyxNQUFNLFdBQ3ZCLFVBQVcsdUJBQXVCLEtBQUssTUFBTSxNQUU3QyxLQUFLLE1BQU0sWUFPZixRQUFPLFFBQVU7Ozs7OztBQ25CakIsUUFBUyxpQkFDUixPQUFTLE9BQVEsVUFBVSxZQUFhLFdBQVksVUFBVSxZQVYvRCxHQUFJLE9BQTJCLG1CQUFYLFFBQXlCLE9BQWMsTUFBc0IsbUJBQVgsUUFBeUIsT0FBYyxNQUFJLEtBQ2hILFVBQVksUUFBUSx3QkFDcEIscUJBQXVCLFFBQVEscUNBQy9CLFFBQVUsUUFBUSxhQUNsQixlQUFpQixRQUFRLHFCQUN6QixXQUFhLFFBQVEsaUJBQ3JCLE9BQVMsUUFBUSxhQUNqQixPQUFTLFFBQVEsK0NBTWQsV0FBYSxNQUFNLGFBQWEsWUFBYSxhQUVoRCxrQkFBbUIsV0FDbEIsVUFBVSxrQkFBa0IsS0FBSyxXQUNqQyxLQUFLLHNCQUdOLHFCQUFzQixXQUNyQixVQUFVLHFCQUFxQixLQUFLLFlBR3JDLFVBQVcsV0FDUCxLQUFLLFNBQVMsa0JBR2xCLGdCQUFpQixXQUNoQixHQUFJLEdBQWUsZUFFbkIsT0FEQSxHQUFhLGlCQUNOLEdBR1Isb0JBQXFCLFNBQVcsR0FDL0IsRUFBRSxpQkFFRixLQUFLLFVBQVUsYUFBYyxLQUFNLGdCQUFpQixNQUVwRCxJQUFJLEdBQU0sT0FBTyxFQUFFLGVBQ2xCLEVBQVUsRUFBSSxLQUFLLFlBQ25CLEVBQVEsS0FBSyxVQUFVLEdBQ3ZCLEdBQXFCLEVBQU0sVUFFeEIsRUFBVyxxQkFBcUIsZUFBZSxFQUk5QyxJQUNKLEVBQVMsS0FBTSxXQUNkLEtBQUssc0JBQ0osS0FBSyxRQUlULFVBQVcsU0FBVyxHQUNyQixNQUFPLEdBQUUsVUFBVSxLQUFLLE1BQU0sUUFBUyxHQUFJLEtBQWEsRUFBRSxVQUFVLEtBQUssTUFBTSxlQUFnQixHQUFJLEtBR3BHLGVBQWdCLFNBQVcsR0FDMUIsRUFBRSxpQkFDRixxQkFBcUIsa0JBR3RCLGtCQUFtQixTQUFXLEdBQzdCLEVBQUUsZ0JBRUYsSUFBSSxHQUFRLE9BQU8sRUFBRSxlQUNwQixFQUFRLEtBQUssVUFBVSxFQUFJLEtBQUssYUFDaEMsRUFBUyxFQUFJLFdBQ2IsRUFBUSxFQUFJLGFBQ1osRUFBUyxFQUFJLGNBR1YsR0FDSCxJQUFLLEVBQU8sSUFBTyxFQUFPLEVBQzFCLEtBQU0sRUFBTyxLQUFPLEVBR3JCLE1BQUssVUFBVSxhQUFjLEVBQU8sZ0JBQWlCLEtBR3RELGtCQUFtQixTQUFXLEdBQzdCLEVBQUUsaUJBQ0YsS0FBSyxVQUFVLGFBQWMsS0FBTSxnQkFBaUIsUUFHckQsdUJBQXdCLFNBQVcsR0FDbEMsRUFBRSxpQkFDRixLQUFLLHNCQUdOLG1CQUFvQixXQUNuQixVQUFVLG1CQUFtQixLQUFLLFNBQVMsR0FDMUMsS0FBSyxVQUFVLGNBQWUsS0FDN0IsS0FBSyxRQUdSLE9BQVEsV0FFUCxNQUNDLE9BQU0sY0FBYyxnQkFBaUIsR0FBSSxtQkFDeEMsTUFBTSxjQUFjLEtBQU0sS0FBTSxnQkFBaUIsTUFBTSxjQUFjLEtBQU0sS0FBTSxLQUFLLE1BQU0sYUFDNUYsTUFBTSxjQUFjLEtBQU0sS0FBTSxpQkFDaEMsTUFBTSxjQUFjLEtBQU0sTUFBTyxPQUFPLFNBQVUsMkVBQ2xELE1BQU0sY0FBYyxLQUFNLE1BQU8sT0FBTyxTQUFVLHlHQUNsRCxNQUFNLGNBQWMsS0FBTSxVQUFXLFVBQ3BDLE1BQU0sY0FBYyxRQUFTLE1BQU8sT0FBUSxRQUFTLEtBQUssZ0JBQWlCLGdCQUU1RSxNQUFNLGNBQWMsV0FBWSxLQUMvQixNQUFNLGNBQWMsS0FBTSxLQUFNLG9CQUNoQyxNQUFNLGNBQWMsT0FBUSxVQUFXLDBCQUN0QyxLQUFLLHFCQUlQLE1BQU0sY0FBYyxXQUFZLEtBQy9CLE1BQU0sY0FBYyxLQUFNLEtBQU0sb0NBQ2hDLE1BQU0sY0FBYyxRQUFTLE1BQU8sT0FBUSxPQUFRLFFBQU8sU0FBVSxRQUFTLEtBQUssd0JBQXlCLHFCQUU1RyxNQUFNLGNBQWMsT0FBUSxVQUFXLDBCQUN0QyxLQUFLLDRCQUlQLE1BQU0sY0FBYyxPQUFRLE9BQVEsTUFBTyxVQUMzQyxLQUFLLE1BQU0sY0FBZ0IsS0FBSyxtQkFLbkMsZUFBZ0IsV0FDZixHQUFJLEdBQVEsS0FBSyxNQUFNLGFBQWMsRUFBVyxLQUFLLE1BQU0sZUFDM0QsT0FDQyxPQUFNLGNBQWMsU0FDbkIsS0FBTSxFQUFTLEtBQ2YsSUFBSyxFQUFTLElBQ2QsTUFBTyxJQUNQLE1BQU8sRUFBTSxNQUNiLE1BQU0sY0FBYyxJQUFLLEtBQU0sTUFBTyxFQUFNLFFBQzVDLE1BQU0sY0FBYyxLQUFNLHlCQUEwQixPQUFRLEVBQUUsU0FBUyxFQUFNLGtCQUtoRixhQUFjLFNBQVMsR0FDdEIsTUFDQyxPQUFNLGNBQWMsT0FBUSxJQUFLLEVBQU0sR0FDdEMsVUFBVyxTQUFXLEVBQU0sT0FBUyxVQUFZLElBQ2pELGdCQUFpQixFQUFNLEdBQ3ZCLFFBQVMsS0FBSyxvQkFDZCxhQUFjLEtBQUssa0JBQ25CLGFBQWMsS0FBSyxrQkFDbkIsbUJBQW9CLEVBQU0sR0FBRyxXQUFXLEVBQU0sR0FBRyxTQUVqRCxFQUFNLFdBQ0wsTUFBTSxjQUFjLE9BQVEsVUFBVyxvQkFDdEMsTUFBTSxjQUFjLE9BQVEsSUFBSyxFQUFNLFdBQVksSUFBSyxNQUd6RCxNQUFNLGNBQWMsT0FBUSxVQUFXLDRCQUV2QyxFQUFNLFFBQVcsTUFBTSxjQUFjLFFBQVMsVUFBVyxnQkFBaUIsRUFBTSxVQUFZLGtCQUFvQixvQkFDakgsTUFBTSxjQUFjLE1BQU8sVUFBVyxhQUFjLEdBQUksRUFBTSxHQUFHLFNBQVUsTUFBTSxjQUFjLE9BQVEsS0FBTSxFQUFNLE9BQVMsWUFBYyxJQUFLLElBQUssRUFBTSxRQUs3Six3QkFBeUIsV0FDeEIsTUFBTyxNQUFLLE1BQU0sY0FBYyxJQUFLLEtBQUssZUFHM0MsaUJBQWtCLFdBQ2pCLE1BQU8sTUFBSyxNQUFNLE9BQU8sSUFBSyxLQUFLLGdCQUlyQyxRQUFPLFFBQVU7Ozs7OztBQ3JLakIsUUFBUyxpQkFDUixNQUFPLFlBQVcsV0FKbkIsR0FBSSxPQUEyQixtQkFBWCxRQUF5QixPQUFjLE1BQXNCLG1CQUFYLFFBQXlCLE9BQWMsTUFBSSxLQUNoSCxXQUFhLFFBQVEseUJBTWxCLE1BQVEsTUFBTSxhQUFhLFlBQWEsUUFDM0Msa0JBQW1CLFdBQ2xCLFdBQVcsa0JBQWtCLEtBQUssWUFHbkMscUJBQXNCLFdBQ3JCLFdBQVcscUJBQXFCLEtBQUssWUFHdEMsVUFBVyxXQUNQLEtBQUssU0FBUyxrQkFHbEIsZ0JBQWlCLFdBQ2hCLE1BQU8sa0JBR1IsT0FBUSxXQUNQLE1BQUssTUFBSyxNQUFNLFFBQ1AsTUFBTSxjQUFjLE9BQVEsVUFBVyxLQUFLLE1BQU0sU0FBVyxZQUFhLEtBQUssTUFBTSxTQUV0RixPQUtWLFFBQU8sUUFBVTs7Ozs7O0FDcENqQixRQUFTLGlCQUNSLFNBUEQsR0FBSSxPQUEyQixtQkFBWCxRQUF5QixPQUFjLE1BQXNCLG1CQUFYLFFBQXlCLE9BQWMsTUFBSSxLQUNoSCxtQkFBcUIsUUFBUSxrQ0FDN0IscUJBQXVCLFFBQVEscUNBQy9CLE9BQVMsUUFBUSwrQ0FDakIsT0FBUyxRQUFRLFVBTWQsV0FBYSxNQUFNLGFBQWEsWUFBYSxhQUNoRCxrQkFBbUIsV0FDbEIsbUJBQW1CLGtCQUFrQixLQUFLLFlBRzNDLHFCQUFzQixXQUNyQixtQkFBbUIscUJBQXFCLEtBQUssWUFHOUMsVUFBVyxXQUNQLEtBQUssU0FBUyxrQkFHbEIsZ0JBQWlCLFdBQ2hCLE1BQU8sa0JBR1IsaUJBQWtCLFNBQVMsR0FDMUIsRUFBRSxpQkFDRixxQkFBcUIsY0FHdEIsT0FBUSxXQUNQLE9BQU8sUUFBUSxHQUFHLFNBR25CLFFBQ0MsU0FDQyxVQUFXLFNBQ1gsZ0JBQWlCLE9BQU8sSUFBSSxTQUFTLHdCQUNyQyxpQkFBa0IsWUFDbEIsbUJBQW9CLGdCQUNwQixlQUFnQixhQUNoQixjQUFlLElBQ2YsNkJBQ0MsZ0JBQWlCLE9BQ2pCLGNBQWUsS0FHakIsWUFDQyxnQkFBaUIsUUFFbEIsU0FDQyxPQUFRLFdBQ1IsTUFBTyxPQUNQLFNBQVUsR0FDVixXQUFZLElBQ1osVUFBVyxTQUNYLDZCQUNDLGFBQWMsR0FDZCxTQUFVLElBRVgsNkJBQ0MsU0FBVSxNQUtiLE9BQVEsV0FDUCxNQUNDLE9BQU0sY0FBYyxPQUFRLElBQUssZ0JBQWlCLE9BQVEsS0FBSyxPQUFPLFFBQVMsS0FBSyxVQUFZLEtBQUssT0FBTyxhQUMzRyxNQUFNLGNBQWMsS0FBTSxLQUFNLHVCQUNoQyxNQUFNLGNBQWMsS0FBTSxNQUFPLEtBQUssT0FBTyxTQUM1Qyx3REFFRCxNQUFNLGNBQWMsSUFBSyxLQUN4QixNQUFNLGNBQWMsUUFBUyxNQUFPLFFBQVMsS0FBTSxNQUFPLE1BQU8sVUFBVyxRQUFTLEtBQUssa0JBQW1CLHFCQU9sSCxRQUFPLFFBQVUsT0FBTzs7Ozs7O0FDOUV4QixRQUFTLHNCQUNSLE9BQ0Msa0JBQW1CLFVBQVUsd0JBUC9CLEdBQUksT0FBMkIsbUJBQVgsUUFBeUIsT0FBYyxNQUFzQixtQkFBWCxRQUF5QixPQUFjLE1BQUksS0FDaEgsVUFBWSxRQUFRLHdCQUNwQixZQUFjLFFBQVEsMkJBQ3RCLE1BQVEsUUFBUSxvQ0FRYixxQkFBdUIsTUFBTSxhQUFhLFlBQWEsdUJBQzFELGtCQUFtQixXQUNsQixVQUFVLGtCQUFrQixLQUFLLFlBR2xDLHFCQUFzQixXQUNyQixVQUFVLHFCQUFxQixLQUFLLFlBR3JDLFVBQVcsV0FDUCxLQUFLLFNBQVMsdUJBR2hCLGdCQUFpQixXQUNsQixNQUFPLHVCQUdSLG1CQUFvQixTQUFTLEdBQzVCLEVBQUUsaUJBQ0YsUUFBUSxJQUFJLFdBQ1osWUFBWSxpQkFBaUIsTUFBTSw0QkFHcEMsT0FDQyxNQUFPLFFBQ1AsU0FBVSxHQUNWLFdBQVksSUFHYixPQUFRLFdBQ1AsTUFDQyxPQUFNLGNBQWMsT0FBUSxNQUFPLEtBQUssT0FDdkMsS0FBSyxNQUFNLGtCQUNWLE1BQU0sY0FBYyxNQUFPLE1BRTNCLE1BQU0sY0FBYyxNQUFPLEtBQzFCLDhGQUErRixNQUFNLGNBQWMsS0FBTSxNQUN6SCxNQUFNLGNBQWMsS0FBTSxVQUFXLHFDQUFzQyxLQUFNLElBQUssUUFBUyxLQUFLLG9CQUFxQixnQ0FTL0gsUUFBTyxRQUFVOzs7Ozs7QUNGakIsUUFBUyxtQkFDUixPQUNDLFdBQVksVUFBVSxXQUN0QixrQkFBbUIsVUFBVSx1QkFDN0IsaUJBQWtCLFVBQVUsNkJBQzVCLGVBQWdCLFVBQVUsd0JBNUQ1QixHQUFJLE9BQTJCLG1CQUFYLFFBQXlCLE9BQWMsTUFBc0IsbUJBQVgsUUFBeUIsT0FBYyxNQUFJLEtBQ2hILE9BQVMsUUFBUSxVQUNqQixXQUFhLFFBQVEsaUJBQ3JCLFVBQVksUUFBUSx3QkFDcEIsWUFBYyxRQUFRLDJCQUN0QixNQUFRLFFBQVEsb0NBQ2hCLFdBQWEsUUFBUSxpQkFDckIsT0FBUyxRQUFRLGFBQ2pCLGVBQWlCLFFBQVEscUJBQ3pCLHFCQUF1QixRQUFRLHFDQUMvQixhQUFlLFFBQVEsMkJBQ3ZCLE9BQVMsUUFBUSwrQ0FHZCxZQUFjLE1BQU0sYUFBYSxZQUFhLGNBQ2pELFFBQ0Msb0JBQ0MsUUFBUyxRQUNULFVBQVcsU0FDWCxPQUFRLEdBQ1IsTUFBTyxRQUNQLFdBQVksRUFDWixnQkFBaUIsV0FFbEIsYUFDQyxRQUFTLGVBQ1QsU0FBVSxXQUNWLE1BQU8sSUFDUCxZQUFhLEVBQ2IsV0FBWSxPQUFPLElBQUksU0FBUywrREFDaEMsZUFBZ0IsYUFDaEIsTUFBTyxPQUNQLFdBQVksVUFFYixpQkFDQyxXQUFZLE1BQ1osV0FBWSxXQUtkLE9BQVEsV0FDUCxNQUNDLE9BQU0sY0FBYyxRQUFTLE9BQVEsS0FBSyxPQUFPLG1CQUFvQixLQUFLLE1BQU0sUUFDL0UsYUFBYyxNQUFNLGNBQWMsS0FBTSxNQUN4QyxNQUFNLGNBQWMsS0FBTSxLQUFNLG1DQUFvQyxNQUFPLFVBQVcsTUFBTyxLQUFLLE9BQU8sYUFDeEcsTUFBTSxjQUFjLFFBQVMsTUFBTyxLQUFLLE9BQU8saUJBQWtCLGVBT3ZFLGFBQWMsT0FBTyxZQVdyQixJQUFJLGtCQUFtQixNQUFNLGFBQWEsWUFBYSxtQkFFdEQsUUFDQyxhQUNDLFFBQU8sUUFDUCw2QkFDQyxRQUFPLE9BQ1AsV0FBWSxJQUdkLGlCQUNDLFFBQU8sT0FDUCxTQUFVLFdBQ1YsT0FBUSxJQUNSLFFBQVMsR0FDVCw2QkFDQyxNQUFPLFFBSVQscUJBQ0MsUUFBUyxRQUNULFVBQVcsRUFDWCxXQUFZLFFBR2IsZ0JBQ0MsVUFBVyxHQUNYLGFBQWMsSUFHZixlQUNDLFFBQVMsUUFDVCxTQUFVLFdBQ1YsTUFBTyxPQUNQLE9BQVEsT0FDUixnQkFBaUIsbUJBR2xCLFNBQ0MsU0FBVSxXQUNWLElBQUssRUFDTCxLQUFNLEVBQ04sTUFBTyxPQUNQLE9BQVEsT0FDUixVQUFXLE9BQ1gsT0FBUSxLQUdULGFBQ0MsVUFBVyxTQUNYLFNBQVUsV0FDVixhQUFjLEVBQ2QsVUFBVywwQkFDWCxPQUFRLElBQ1IsS0FBTSxNQUNKLElBQUssTUFDTCxRQUFTLEdBQ1QsVUFBVyx1QkFDYixNQUFPLE1BQ1AsZ0JBQWlCLFFBR2xCLFVBQ0MsVUFBVyxXQUliLGtCQUFtQixXQUNsQixVQUFVLGtCQUFrQixLQUFLLFlBR2xDLHFCQUFzQixXQUNyQixVQUFVLHFCQUFxQixLQUFLLFlBR3JDLFVBQVcsV0FDUCxLQUFLLFNBQVMsb0JBR2xCLGdCQUFpQixXQUNoQixHQUFJLEdBQVEsaUJBRVosT0FEQSxHQUFNLGlCQUFrQixFQUNqQixHQUdSLHFCQUFzQixTQUFVLEdBQy9CLEVBQUUsaUJBRUYsWUFBWSxpQkFBaUIsTUFBTSw0QkFHcEMseUJBQTBCLFNBQVUsR0FDbkMsR0FBSSxHQUFVLE9BQU8sRUFBRSxlQUN0QixFQUFjLEVBQVEsS0FBSyxjQUV2QixXQUFVLHVCQUF1QixHQUNyQyxZQUFZLHdCQUF3QixHQUVwQyxZQUFZLHNCQUFzQixJQUlwQyx1QkFBd0IsU0FBUyxHQUNoQyxFQUFFLGlCQUNGLFlBQVksbUJBR2IsV0FBWSxTQUFVLEdBQ3JCLEVBQUUsaUJBRUYscUJBQXFCLG9CQUFvQixNQUFNLDRCQUdoRCxzQkFBdUIsU0FBVSxHQUNoQyxFQUFFLGlCQUVGLFlBQVksd0JBQXdCLEtBQUssV0FDeEMsS0FBSyxVQUFVLGlCQUFpQixLQUMvQixLQUFLLFFBR1IsdUJBQXdCLFNBQVUsR0FDakMsRUFBRSxpQkFDRixLQUFLLFVBQVUsaUJBQWlCLEtBR2pDLGNBQWUsU0FBUyxHQUN2QixHQUFJLEdBQVcsVUFBVSx1QkFBdUIsRUFBTyxNQUNuRCxFQUFXLGFBQWEsRUFBTyxJQUVuQyxPQUNDLE9BQU0sY0FBYyxPQUFRLElBQUssV0FBVyxFQUFPLEtBQU0sTUFBTyxLQUFLLE9BQU8saUJBQzNFLE1BQU0sY0FBYyxTQUFVLEdBQUksRUFBVSxLQUFNLFdBQVksUUFBUyxFQUFVLG1CQUFvQixFQUFPLEtBQU0sU0FBVSxLQUFLLDJCQUNqSSxNQUFNLGNBQWMsU0FBVSxRQUFTLEdBQVcsTUFBTSxjQUFjLFNBQVUsS0FBTSxFQUFPLE9BQzdGLE1BQU0sY0FBYyxPQUFRLE1BQU8sS0FBSyxPQUFPLHFCQUM5QyxNQUFNLGNBQWMsT0FBUSx5QkFBMEIsT0FBUSxFQUFPLGVBQ3JFLEdBQVksRUFBTyxlQUNsQixNQUFNLGNBQWMsTUFBTyxLQUFNLE1BQU0sY0FBYyxLQUFNLE9BQVEsYUFBYyxLQUFNLEVBQU8sZUFBZ0IsaUJBT25ILE9BQVEsV0FDUCxHQUFJLEdBQXFCLEVBQWUsQ0FHakMsTUFBSyxNQUFNLG1CQUFzQixhQUFhLFlBQ3BELEVBQ0MsTUFBTSxjQUFjLE9BQVEsTUFBTyxLQUFLLE9BQU8sZ0JBRWhELEVBQ0MsTUFBTSxjQUFjLE9BQVEsTUFBTyxLQUFLLE9BQU8sVUFFaEQsRUFDQyxNQUFNLGNBQWMsT0FBUSxNQUFPLEtBQUssT0FBTyxhQUM5QyxNQUFNLGNBQWMsS0FBTSxNQUFPLEtBQUssT0FBTyxnQkFBaUIsOERBQzlELE1BQU0sY0FBYyxRQUFTLE1BQU8sUUFBUyxLQUFNLE1BQU8sTUFBTyxVQUFXLFFBQVMsS0FBSyxzQkFBdUIsNEJBQ2pILE1BQU0sY0FBYyxLQUFNLE1BQU8sS0FBSyxPQUFPLGdCQUM1QyxNQUFNLGNBQWMsV0FBWSxRQU1wQyxJQUFJLEdBQXFCLFVBQVUsc0JBQXNCLElBQUksS0FBSyxlQUM5RCxFQUF5QixVQUFVLDhCQUE4QixJQUFJLEtBQUssY0FFOUUsT0FDQyxPQUFNLGNBQWMsZUFBZ0IsS0FDbkMsTUFBTSxjQUFjLEtBQU0sS0FBTSxnQkFBaUIsTUFBTSxjQUFjLEtBQU0sS0FBTSxLQUFLLE1BQU0sYUFDNUYsTUFBTSxjQUFjLEtBQU0sS0FBTSwyQkFDaEMsS0FBSyxNQUFNLG1CQUNWLE1BQU0sY0FBYyxNQUFPLEtBQzFCLE1BQU0sY0FBYyxhQUFjLE1BQU8sS0FBSyxPQUFPLGNBQ3JELE1BQU0sY0FBYyxLQUFNLE1BQU8sT0FBTyxTQUFVLHFGQUNsRCxNQUFNLGNBQWMsS0FBTSxNQUFPLE9BQU8sU0FBVSw4REFDbEQsTUFBTSxjQUFjLE9BQVEsVUFBVyxXQUd6QyxNQUFNLGNBQWMsT0FBUSxVQUFXLG9CQUN0QyxNQUFNLGNBQWMsT0FBUSxPQUFRLFNBQVUsYUFDN0MsRUFDQSxFQUNBLEVBRUEsS0FBSyxNQUFNLG1CQUNWLE1BQU0sY0FBYyxPQUFRLFVBQVcsVUFDdEMsTUFBTSxjQUFjLFFBQVMsT0FBUSxRQUFPLFNBQVUsTUFBTyxPQUFRLFFBQVMsS0FBSyxZQUFhLGVBQ2hHLE1BQU0sY0FBYyxPQUFRLFVBQVcsV0FJekMsTUFBTSxjQUFjLFdBQVksS0FDL0IsTUFBTSxjQUFjLEtBQU0sS0FBTSxzQkFDekIsTUFBTSxjQUFjLFFBQVMsU0FBVSxLQUFLLE1BQU0saUJBQWtCLE1BQU8sT0FBUSxRQUFTLEtBQUssd0JBQXlCLEtBQUssTUFBTSxpQkFBbUIsY0FBZ0IsNkJBRS9LLEdBR0QsS0FBSyxNQUFNLGdCQUNWLE1BQU0sY0FBYyxLQUFNLE1BQU8sS0FBSyxPQUFPLFVBQzVDLE1BQU0sY0FBYyxLQUFNLEtBQU0sSUFBSyxRQUFTLEtBQUssd0JBQXlCLDZCQUc3RSxNQUFNLGNBQWMsS0FBTSxNQUFPLEtBQUssT0FBTyxVQUM1QyxNQUFNLGNBQWMsS0FBTSxLQUFNLElBQUssUUFBUyxLQUFLLHVCQUF3Qiw2QkFJN0UsS0FBSyxNQUFNLGlCQUNWLE1BQU0sY0FBYyxXQUFZLEtBQy9CLE1BQU0sY0FBYyxLQUFNLEtBQU0sc0JBQ2hDLFFBVVIsUUFBTyxRQUFVLE9BQU87Ozs7OztBQzFSeEIsUUFBUyxzQkFDUixPQUNDLFdBQVksVUFBVSxXQUN0QixPQUFRLFVBQVUsYUFWcEIsR0FBSSxPQUEyQixtQkFBWCxRQUF5QixPQUFjLE1BQXNCLG1CQUFYLFFBQXlCLE9BQWMsTUFBSSxLQUNoSCxVQUFZLFFBQVEsd0JBQ3BCLE9BQVMsUUFBUSwrQ0FDakIsZUFBaUIsUUFBUSxxQkFDekIsT0FBUyxRQUFRLGFBQ2pCLHFCQUF1QixRQUFRLHFDQVM1QixXQUFhLE1BQU0sYUFBYSxZQUFhLGFBRWhELGtCQUFtQixXQUNsQixVQUFVLGtCQUFrQixLQUFLLFlBR2xDLHFCQUFzQixXQUNyQixVQUFVLHFCQUFxQixLQUFLLFlBR3JDLFVBQVcsV0FDUCxLQUFLLFNBQVMsdUJBR2xCLGdCQUFpQixXQUNoQixNQUFPLHVCQUdSLGdCQUFpQixTQUFVLEdBQzFCLEtBQUssVUFBVyxPQUFRLE9BQU8sRUFBRSxlQUFlLFNBR2pELGFBQWMsU0FBVSxHQUN2QixFQUFFLGlCQUNGLHFCQUFxQixpQkFBaUIsS0FBSyxNQUFNLFNBR2xELE9BQVEsV0FDUCxNQUNDLE9BQU0sY0FBYyxnQkFBaUIsR0FBSSxtQkFFeEMsTUFBTSxjQUFjLEtBQU0sS0FBTSxnQkFBaUIsTUFBTSxjQUFjLEtBQU0sS0FBTSxLQUFLLE1BQU0sYUFDNUYsTUFBTSxjQUFjLEtBQU0sS0FBTSxtQkFDaEMsTUFBTSxjQUFjLEtBQU0sTUFBTyxPQUFPLFNBQVUsc0dBQ2xELE1BQU0sY0FBYyxRQUFTLFNBQVUsS0FBSyxjQUMzQyxNQUFNLGNBQWMsUUFBUyxLQUM1QixNQUFNLGNBQWMsU0FBVSxLQUFNLFFBQVMsS0FBTSxjQUFlLE1BQU8sVUFBVyxRQUErQixZQUF0QixLQUFLLE1BQU0sT0FBc0IsU0FBVSxLQUFLLGtCQUFtQixrQkFDaEssTUFBTSxjQUFjLEtBQU0sVUFBVyxlQUFnQix5Q0FFdEQsTUFBTSxjQUFjLEtBQU0sTUFDMUIsTUFBTSxjQUFjLFFBQVMsS0FDNUIsTUFBTSxjQUFjLFNBQVUsS0FBTSxRQUFTLEtBQU0sY0FBZSxNQUFPLFlBQWEsUUFBK0IsY0FBdEIsS0FBSyxNQUFNLE9BQXdCLFNBQVUsS0FBSyxrQkFBbUIsOEJBQ3BLLE1BQU0sY0FBYyxLQUFNLFVBQVcsZUFBZ0IsK0RBRXRELE1BQU0sY0FBYyxLQUFNLE1BQzFCLE1BQU0sY0FBYyxRQUFTLEtBQzVCLE1BQU0sY0FBYyxTQUFVLEtBQU0sUUFBUyxLQUFNLGNBQWUsTUFBTyxPQUFRLFFBQStCLFNBQXRCLEtBQUssTUFBTSxPQUFtQixTQUFVLEtBQUssa0JBQW1CLGVBQzFKLE1BQU0sY0FBYyxLQUFNLFVBQVcsZUFBZ0Isc0ZBR3RELE1BQU0sY0FBYyxLQUFNLFVBQVcsVUFDcEMsTUFBTSxjQUFjLFFBQVMsTUFBTyxRQUFTLG9CQVFuRCxRQUFPLFFBQVU7Ozs7OztBQ2pFakIsUUFBUyxxQkFDUixPQUNDLE1BQU8sVUFBVSxXQUNqQixZQUFhLFVBQVUsa0JBWHpCLEdBQUksT0FBMkIsbUJBQVgsUUFBeUIsT0FBYyxNQUFzQixtQkFBWCxRQUF5QixPQUFjLE1BQUksS0FDaEgsWUFBYyxRQUFRLDJCQUN0QixVQUFZLFFBQVEsd0JBQ3BCLGVBQWlCLFFBQVEscUJBQ3pCLE9BQVMsUUFBUSxhQUNqQixPQUFTLFFBQVEsK0NBQ2pCLHFCQUF1QixRQUFRLHFDQVM1QixjQUFnQixNQUFNLGFBQWEsWUFBYSxnQkFFbkQsa0JBQW1CLFdBQ2xCLFVBQVUsa0JBQWtCLEtBQUssWUFHbEMscUJBQXNCLFdBQ3JCLFVBQVUscUJBQXFCLEtBQUssWUFHckMsVUFBVyxXQUNQLEtBQUssU0FBUyxzQkFHbEIsZ0JBQWlCLFdBQ2hCLE1BQU8sc0JBR1Isa0JBQW1CLFNBQVMsR0FDM0IsWUFBWSxTQUFTLEVBQUUsY0FBYyxRQUd0Qyx3QkFBeUIsU0FBUyxHQUNqQyxZQUFZLGVBQWUsRUFBRSxjQUFjLFFBRzVDLGFBQWMsU0FBUyxHQUN0QixFQUFFLGlCQUNGLHFCQUFxQixtQkFHdEIsT0FBUSxXQUNQLE1BRUMsT0FBTSxjQUFjLGdCQUFpQixHQUFJLHVCQUN4QyxNQUFNLGNBQWMsS0FBTSxLQUFNLGlDQUNoQyxNQUFNLGNBQWMsS0FBTSxLQUFNLGlDQUNoQyxNQUFNLGNBQWMsS0FBTSxNQUFPLE9BQU8sU0FDdkMsZ0RBRUQsTUFBTSxjQUFjLFFBQVMsU0FBVSxLQUFLLGNBQzNDLE1BQU0sY0FBYyxTQUFVLFVBQVcsY0FDeEMsTUFBTSxjQUFjLFFBQVMsS0FDNUIsTUFBTSxjQUFjLEtBQU0sS0FDekIsTUFBTSxjQUFjLEtBQU0sS0FBTSxNQUFNLGNBQWMsU0FBVSxRQUFTLGNBQWUsZUFDdEYsTUFBTSxjQUFjLEtBQU0sS0FDekIsTUFBTSxjQUFjLFNBQVUsS0FBTSxPQUFRLEtBQU0sYUFBYyxHQUFJLGFBQWMsYUFBYyxNQUFPLFNBQVUsS0FBSyxrQkFBbUIsTUFBTyxLQUFLLE1BQU0sTUFDeEosWUFBYSx5Q0FBMEMsVUFBVSxJQUM5RCxNQUFNLGNBQWMsS0FBTSxVQUFXLGVBQWdCLDBGQUd4RCxNQUFNLGNBQWMsS0FBTSxLQUM5QixNQUFNLGNBQWMsS0FBTSxLQUFNLE1BQU0sY0FBYyxTQUFVLFFBQVMsb0JBQXFCLHFCQUM1RixNQUFNLGNBQWMsS0FBTSxLQUN6QixNQUFNLGNBQWMsU0FBVSxLQUFNLE9BQVEsS0FBTSxtQkFBb0IsR0FBSSxtQkFBb0IsYUFBYyxNQUFPLFNBQVUsS0FBSyx3QkFBeUIsTUFBTyxLQUFLLE1BQU0sWUFDMUssWUFBYSxtQkFBb0IsVUFBVSxJQUN4QyxNQUFNLGNBQWMsS0FBTSxVQUFXLGVBQWdCLHlMQU0vRCxNQUFNLGNBQWMsS0FBTSxVQUFXLFVBQ3BDLE1BQU0sY0FBYyxRQUFTLE1BQU8sUUFBUyxvQkFRbkQsUUFBTyxRQUFVOzs7Ozs7QUNsRmpCLFFBQVMsb0JBQ1IsT0FDQyxVQUFXLG1CQUFtQixpQkFBaUIsV0FOakQsR0FBSSxPQUEyQixtQkFBWCxRQUF5QixPQUFjLE1BQXNCLG1CQUFYLFFBQXlCLE9BQWMsTUFBSSxLQUNoSCxtQkFBcUIsUUFBUSxrQ0FDN0IscUJBQXVCLFFBQVEscUNBUTVCLFdBQWEsTUFBTSxhQUFhLFlBQWEsYUFFaEQsT0FDQyxNQUFPLE9BQ1AsU0FBVSxNQUNWLFdBQVksR0FDWixhQUFjLG1CQUdmLGtCQUFtQixXQUNsQixtQkFBbUIsa0JBQWtCLEtBQUssWUFHM0MscUJBQXNCLFdBQ3JCLG1CQUFtQixxQkFBcUIsS0FBSyxZQUc5QyxVQUFXLFdBQ1AsS0FBSyxTQUFTLHFCQUdoQixnQkFBaUIsV0FDbEIsTUFBTyxxQkFHUixXQUFZLFNBQVUsR0FDckIsRUFBRSxpQkFDRixxQkFBcUIsWUFHdEIsT0FBUSxXQUNQLEdBQUksR0FBYSxLQUFLLE1BQWUsU0FDckMsT0FBSyxHQUNHLEtBRUMsTUFBTSxjQUFjLEtBQU0sTUFBTyxLQUFLLE1BQU8sS0FBTSxJQUFLLFFBQVMsS0FBSyxZQUFhLGFBSzlGLFFBQU8sUUFBVTs7Ozs7O0FDakRqQixHQUFJLE9BQTJCLG1CQUFYLFFBQXlCLE9BQWMsTUFBc0IsbUJBQVgsUUFBeUIsT0FBYyxNQUFJLEtBRTdHLFFBQVUsTUFBTSxhQUFhLFlBQWEsVUFDN0MsV0FDQyxLQUFNLE1BQU0sVUFBVSxPQUFPLFdBQzdCLElBQUssTUFBTSxVQUFVLE9BQU8sV0FDNUIsTUFBTyxNQUFNLFVBQVUsT0FBTyxXQUM5QixNQUFPLE1BQU0sVUFBVSxPQUFPLFlBRy9CLGNBQWUsU0FBVyxHQUN6QixFQUFFLGtCQUdILGtCQUFtQixXQUNsQixLQUFLLHNCQUdOLDBCQUEyQixXQUMxQixLQUFLLHNCQUdOLGdCQUFpQixXQUNoQixPQUNDLFFBQVMsS0FBSyxNQUFNLE1BSXRCLG1CQUFvQixXQUNuQixHQUFJLEdBQVcsT0FBTyxNQUFNLFlBQVksS0FBSyxLQUFLLFNBRWxELE1BQUssVUFDSixRQUFTLEtBQUssTUFBTSxJQUFPLEVBQVMsY0FBYyxLQUlwRCxPQUFRLFdBQ1AsTUFDQyxPQUFNLGNBQWMsT0FBUSxJQUFLLFVBQVcsVUFBVyw2QkFBOEIsT0FBUSxTQUFVLFdBQVksTUFBTyxLQUFLLE1BQU0sTUFBTyxJQUFLLEtBQUssTUFBTSxRQUFTLEtBQU0sS0FBSyxNQUFNLEtBQU0sT0FBUSxPQUNuTSxNQUFNLGNBQWMsT0FBUSxVQUFXLHNCQUN0QyxNQUFNLGNBQWMsS0FBTSxLQUFNLEtBQUssTUFBTSxPQUMzQyxNQUFNLGNBQWMsSUFBSyxLQUFNLEtBQUssTUFBTSxXQUUzQyxNQUFNLGNBQWMsT0FBUSxVQUFXLG9CQUN0QyxNQUFNLGNBQWMsT0FBUSxVQUFXLCtCQU81QyxRQUFPLFFBQVU7Ozs7OztBQ3BEakIsR0FBSSxPQUEyQixtQkFBWCxRQUF5QixPQUFjLE1BQXNCLG1CQUFYLFFBQXlCLE9BQWMsTUFBSSxLQUNoSCxPQUFTLFFBQVEsVUFDakIsWUFBYyxRQUFRLHFEQUN0QixxQkFBdUIsUUFBUSxxQ0FDL0IsU0FBVyxRQUFRLGNBRWhCLFVBQVksTUFBTSxVQUFVLE9BQy9CLEtBQU0sTUFBTSxVQUFVLE9BQU8sV0FDN0IsS0FBTSxNQUFNLFVBQVUsU0FNbkIsWUFBYyxNQUFNLGFBQWEsWUFBYSxjQUVqRCxXQUNDLFlBQWEsVUFBVSxXQUN2QixVQUFXLE1BQU0sVUFBVSxLQUMzQixTQUFVLE1BQU0sVUFBVSxRQUFRLFdBQVcsV0FDN0MsZ0JBQWlCLE1BQU0sVUFBVSxPQUFPLFlBR3pDLGdCQUFpQixXQUNoQixPQUNDLFdBQVcsSUFJYixRQUNDLFNBQ0MsUUFBTyxRQUNQLE1BQU8sTUFDUCxPQUFRLE9BQ1IsV0FBWSxVQUNaLE9BQVEsa0JBRVQsT0FDQyxPQUFRLEVBQ1IsUUFBUyxHQUNULFNBQVUsU0FDVixXQUFZLE9BQ1osTUFBTyxPQUNQLFNBQVUsR0FDVixjQUFlLGFBRWhCLE1BQ0MsT0FBUSxZQUNSLFVBQVcsT0FDWCw2QkFDQyxPQUFRLFlBR1YsVUFDQyxhQUFjLEVBQ2QsU0FBVSxXQUNWLE1BQU8sT0FDUCxXQUFZLElBQ1osNkJBQ0MsU0FBVSxTQUVYLDZCQUNDLFNBQVUsWUFHWixtQkFDQyxNQUFPLFdBRVIsTUFDQyxTQUFVLEdBQ1YsSUFBSyxFQUNMLFNBQVUsWUFFWCxjQUNDLE1BQU8sVUFDUCxhQUFjLGNBRWYsaUJBQ0MsTUFBTyxZQUlULFdBQVksU0FBUyxHQUNwQixFQUFFLGdCQUVGLElBQUksR0FBTyxPQUFPLEVBQUUsZUFBZSxLQUFLLFlBRXhDLHNCQUFxQixlQUFlLElBR3JDLE9BQVEsV0FFUCxHQUFJLEdBQVksS0FBSyxNQUFNLFNBQVMsSUFBSSxTQUFXLEdBQ2xELEdBQUksR0FBTyxFQUFTLEVBQVUsQ0FrQjlCLE9BaEJLLE1BQUssTUFBTSxXQUFhLEtBQUssTUFBTSxjQUN2QyxFQUFZLEtBQUssTUFBTSxZQUFZLE1BQVEsRUFBSyxNQUloRCxHQURLLEVBQUEsV0FBZSxLQUFLLE1BQU0sVUFDdkIsTUFBTSxjQUFjLEtBQU0sS0FBTSxJQUFLLE1BQU8sS0FBSyxPQUFPLGFBQWMsaUJBQWtCLEVBQUssS0FBTSxRQUFTLEtBQUssWUFBYSxFQUFLLE1BRW5JLEVBQUssS0FHVCxFQUFLLFVBQVksS0FBSyxNQUFNLFlBQ2hDLEVBQVcsTUFBTSxjQUFjLEVBQUssU0FBVSxPQUcvQyxFQUFXLEVBQUssVUFBWSxNQUFRLG1CQUduQyxNQUFNLGNBQWMsTUFBTyxJQUFLLEVBQUssS0FBTSxPQUFRLEtBQUssT0FBTyxTQUFVLEVBQUssV0FBYSxLQUFLLE9BQU8sa0JBQW1CLEdBQVcsS0FBSyxPQUFPLGtCQUNoSixNQUFNLGNBQWMsVUFBVyxNQUFPLEtBQUssT0FBTyxLQUFNLEtBQU0sSUFDOUQsRUFBTyxJQUFLLEVBQUssUUFBVSxZQUFjLEtBQ3pDLElBR0QsS0FBSyxNQUVQLE9BQ0MsT0FBTSxjQUFjLE9BQVEsT0FBUSxLQUFLLE9BQU8sUUFBUyxLQUFLLE1BQU0sUUFDbkUsTUFBTSxjQUFjLE1BQU8sTUFBTyxLQUFLLE9BQU8sT0FDN0MsTUFBTSxjQUFjLFFBQVMsT0FBUSxRQUFPLE9BQVEsWUFBYSxLQUFNLGlCQUN2RSxNQUFNLGNBQWMsTUFBTyxLQUMxQixNQUFNLGNBQWMsYUFBYyxPQUFTLFFBQU8sUUFBUyxnQkFBaUIsS0FBSyxNQUFNLG9CQUl6RixNQUFNLGNBQWMsTUFBTyxNQUFPLEtBQUssT0FBTyxNQUM3QyxNQU9MLFFBQU8sUUFBVSxPQUFPOzs7Ozs7QUN6SXhCLEdBQUksT0FBMkIsbUJBQVgsUUFBeUIsT0FBYyxNQUFzQixtQkFBWCxRQUF5QixPQUFjLE1BQUksS0FFN0csZUFBaUIsTUFBTSxhQUFhLFlBQWEsaUJBQ3BELE9BQVEsV0FDUCxHQUFJLEdBQU8sS0FBSyxNQUFNLEVBQU0sU0FBVSxFQUFRLEdBQVksR0FBSSxNQUFjLEVBQVMsT0FBTyxVQUFVLGNBQWUsSUFBYyxNQUFWLEVBQWlCLEtBQU0sSUFBSSxVQUFhLEtBQUssR0FBSSxLQUFPLEdBQWEsRUFBTyxLQUFLLEVBQVEsS0FBUyxFQUFPLEtBQUssRUFBVyxLQUFPLEVBQUssR0FBTyxFQUFPLEdBQU8sT0FBTyxJQUFRLEtBQ2xTLE9BQ0MsT0FBTSxjQUFjLE1BQU8sTUFBTSxZQUFjLEdBQVEsVUFBVyxxQkFDakUsS0FBSyxNQUFNLFlBTWYsUUFBTyxRQUFVOzs7Ozs7QUNEakIsUUFBUyxvQkFDUixPQUNDLFFBQVMsbUJBQW1CLFlBQzVCLFlBQWEsYUFBYSxVQUMxQixlQUFnQixhQUFhLGFBQzdCLFlBQWEsbUJBQW1CLGlCQUNoQyxTQUFVLG1CQUFtQixjQUM3QixnQkFBaUIsbUJBQW1CLHNCQW5CdEMsR0FBSSxPQUEyQixtQkFBWCxRQUF5QixPQUFjLE1BQXNCLG1CQUFYLFFBQXlCLE9BQWMsTUFBSSxLQUNoSCxZQUFjLFFBQVEsa0JBQ3RCLG1CQUFxQixRQUFRLGtDQUM3QixNQUFRLFFBQVEsOENBQ2hCLHFCQUF1QixRQUFRLHFDQUMvQixNQUFRLFFBQVEsV0FDaEIsT0FBUyxRQUFRLGFBQ2pCLFdBQWEsUUFBUSxpQkFDckIsYUFBZSxRQUFRLDJCQUN2QixlQUFpQixRQUFRLDhCQUN6QixVQUFZLFFBQVEsd0JBY2pCLGNBQWdCLE1BQU0sYUFBYSxZQUFhLGdCQUVuRCxRQUNDLFNBQVcsU0FBVSxZQUNyQixnQkFDQyxTQUFVLFdBQ1YsSUFBSyxFQUNMLEtBQU0sRUFDTixNQUFPLE9BQ1AsT0FBUSxPQUNSLFVBQVcsT0FDWCxPQUFRLElBQ1IsZ0JBQWlCLHlCQUVsQixnQkFDQyxTQUFVLFdBQ1YsTUFBTyxNQUNQLFNBQVUsSUFDVixhQUFjLEVBQ2QsUUFBUyxHQUNULE9BQVEsa0JBQ1IsZ0JBQWlCLFFBQ2pCLFVBQVcsU0FDWCxLQUFNLE1BQ04sSUFBSyxJQUNMLFVBQVcsd0JBRVosV0FDQyxRQUFPLE9BQ1AsTUFBTyxNQUNQLFFBQVMsVUFFVixNQUNDLFVBQVcsS0FJYixrQkFBbUIsV0FDbEIsbUJBQW1CLGtCQUFrQixLQUFLLFdBQzFDLGFBQWEsa0JBQWtCLEtBQUssa0JBQ3BDLFVBQVUsa0JBQWtCLEtBQUssZ0JBR2xDLHFCQUFzQixXQUNyQixtQkFBbUIscUJBQXFCLEtBQUssV0FDN0MsYUFBYSxxQkFBcUIsS0FBSyxrQkFDdkMsVUFBVSxxQkFBcUIsS0FBSyxnQkFHckMsVUFBVyxXQUNQLEtBQUssU0FBUyxxQkFHaEIsaUJBQWtCLFdBQ2pCLEtBQUssVUFBVyxZQUFhLGFBQWEsVUFBVyxlQUFnQixhQUFhLGdCQUduRixjQUFlLFdBQ2QsS0FBSyxVQUFXLE9BQVEsVUFBVSxjQUdyQyxnQkFBaUIsV0FDaEIsTUFBTyxxQkFHUixZQUFhLFNBQVUsR0FDdEIsRUFBRSxpQkFDRixxQkFBcUIsYUFHdEIsa0JBQW1CLFNBQVcsR0FDN0IsRUFBRSxpQkFDRixlQUFlLEtBQUssb0JBR3JCLGtCQUFtQixTQUFXLEdBQzdCLEVBQUUsaUJBQ0YsZUFBZSxRQUlkLE9BQVEsV0FDUCxNQUNELE9BQU0sY0FBYyxPQUFRLElBQUssT0FBTyxLQUN2QyxLQUFLLGVBQ0wsTUFBTSxjQUFjLE9BQVEsTUFBTyxLQUFLLE9BQU8sU0FDOUMsS0FBSyxpQkFDTCxNQUFNLGNBQWMsT0FBUSxNQUFPLEtBQUssT0FBTyxXQUM5QyxNQUFNLGNBQWMsTUFBTyxNQUMzQixLQUFLLGtCQUdOLE1BQU0sY0FBYyxhQUFjLE1BQU8sS0FBSyxPQUFPLEtBQU0sV0FBWSxLQUFLLE1BQU0sUUFBUyxZQUFhLEtBQUssTUFBTSxZQUFhLFNBQVUsS0FBSyxNQUFNLFNBQVUsZ0JBQWlCLEtBQUssTUFBTSxrQkFDM0wsTUFBTSxjQUFjLE9BQVEsVUFBVyxhQU0zQyxlQUFnQixXQUNmLE1BQUssTUFBSyxNQUFNLFFBQ0wsTUFBTSxjQUFjLFdBQVksTUFFakMsS0FBSyxzQkFJaEIsYUFBYyxXQVFWLE1BQU8sT0FJWCxlQUFnQixXQUNmLE1BQUssTUFBSyxNQUFNLFlBRVosTUFBTSxjQUFjLE9BQVEsTUFBTyxLQUFLLE9BQU8sZ0JBQzlDLE1BQU0sY0FBYyxPQUFRLE1BQU8sS0FBSyxPQUFPLGdCQUM5QyxNQUFNLGNBQWMsT0FBUSxJQUFLLGtDQUFtQyxNQUFPLE9BQVEsT0FBUSxTQUMzRixLQUFNLEtBQUssTUFBTSxpQkFNYixNQUlYLG1CQUFvQixXQUNuQixNQUFLLE1BQUssTUFBTSxZQUNMLE1BQU0sY0FBYyxLQUFLLE1BQU0sWUFBWSxZQUFhLE1BRXhELE1BQU0sY0FBYyxLQUFNLEtBQU0sYUFNN0MsUUFBTyxRQUFVOzs7OztBQ3pLakIsR0FBSSxXQUFZLFFBQVEsWUFFeEIsUUFBTyxRQUFVLFdBQ2hCLGNBQWUsS0FDZixpQkFBa0IsS0FDbEIsWUFBYSxLQUNiLFVBQVcsS0FDWCxVQUFXLEtBQ1gsZUFBZ0IsS0FDaEIscUJBQXNCLEtBQ3RCLGdDQUFpQyxLQUNqQyxlQUFnQixLQUNoQixtQkFBb0IsS0FDcEIsd0JBQXlCLEtBQ3pCLDRCQUE2QixLQUM3Qiw2QkFBOEIsS0FDOUIsK0JBQWdDLEtBQ2hDLHlCQUEwQixLQUMxQixnQkFBaUIsS0FFakIsYUFBYyxLQUNkLGNBQWUsS0FFZixVQUFXLEtBQ1gsWUFBYSxLQUNiLHNCQUF1QixLQUN2QixxQkFBc0IsS0FFdEIsV0FBWSxLQUVaLGFBQWMsS0FDZCxhQUFjOzs7QUMvQmYsT0FBTyxTQUVOLHFCQUFzQixRQUN0QixpQkFBa0IsU0FDbEIsa0JBQW1CLFVBQ25CLDJCQUE0QixtQkFDNUIsaUJBQWtCLFNBQ2xCLG1CQUFvQixXQUNwQiwwQkFBMkI7OztBQ0s1QixHQUFJLFlBQWEsUUFBUSxRQUFRLFVBRWpDLFFBQU8sUUFBVSxHQUFJOzs7QUNmckIsR0FBSSxjQUFlLFFBQVEsa0JBRTNCOzs7QUNzQkEsUUFBUyx3QkFDUixlQUFnQyxFQUdqQyxRQUFTLHdCQUNSLGVBQWdDLEVBN0JqQyxHQUFJLGVBQWdCLFFBQVEsZ0NBQzNCLGFBQWUsUUFBUSxVQUFVLGFBQ2pDLGFBQWUsUUFBUSx3Q0FNcEIsY0FBZ0IsRUFBRyxXQUFZLGFBQWUsUUFFbEQsUUFBTyxRQUFRLEdBQUcsZUFBZ0IsV0FDakMsTUFBRyxXQUFVLFlBQ1osV0FBYSxXQUFXLGFBR2xCLEtBQ0ksdUNBTFgsU0FTRCxPQUFPLFFBQVEsR0FBRyxTQUFVLFdBQzNCLGFBQWEsYUFXZCxJQUFJLFdBQVksRUFBRSxVQUFXLGFBQWEsV0FDekMsU0FBVSxXQUNULE1BQU8sZUFBZ0IsR0FHeEIsa0JBQW1CLFNBQVMsR0FDM0IsS0FBSyxHQUFHLGFBQWMsSUFHdkIscUJBQXNCLFNBQVMsR0FDOUIsS0FBSyxlQUFlLGFBQWMsSUFHbkMsV0FBWSxXQUNSLEtBQUssS0FBSyxnQkFJZixlQUFjLFNBQVMsU0FBUyxHQUU5QixPQUFPLEVBQU8sWUFDWixJQUFLLGNBQWEsYUFDakIsdUJBQ0gsVUFBVSxZQUNWLE1BRUUsS0FBSyxjQUFhLGNBQ2pCLHVCQUNDLFVBQVUsZ0JBUWhCLE9BQU8sUUFBVTs7O0FDN0RqQixRQUFTLFVBQVMsRUFBWSxHQUM3QixRQUFVLEVBQ1YsU0FBVyxFQVRaLEdBQUksZUFBZ0IsUUFBUSxnQ0FDM0IsYUFBZSxRQUFRLFVBQVUsYUFDakMsYUFBZSxRQUFRLHdDQUVwQixhQUFlLFNBQ2YsUUFBUyxTQU9ULFdBQWEsRUFBRSxVQUFXLGFBQWEsV0FDMUMsU0FBVSxXQUNULEdBQUksRUFFSixRQUFPLFVBQ04sSUFBSyxjQUFhLHFCQUNqQixFQUFpQixPQUNqQixNQUNELEtBQUssY0FBYSxzQkFDakIsRUFBaUIsU0FLbkIsT0FBUSxRQUFTLFFBQVMsU0FBVSxJQUlyQyxrQkFBbUIsU0FBUyxHQUMzQixLQUFLLEdBQUcsYUFBYyxJQUd2QixxQkFBc0IsU0FBUyxHQUM5QixLQUFLLGVBQWUsYUFBYyxJQUduQyxXQUFZLFdBQ1IsS0FBSyxLQUFLLGdCQUlmLGVBQWMsU0FBUyxTQUFTLEdBRTlCLE9BQU8sRUFBTyxZQUNaLElBQUssY0FBYSxVQUNwQixTQUFTLEVBQU8sUUFBUyxFQUFPLFVBQ2hDLFdBQVcsWUFDWCxNQUVFLEtBQUssY0FBYSxZQUNoQixTQUFTLEtBQU0sTUFDZixXQUFXLGdCQVFqQixPQUFPLFFBQVU7OztBQ2hEakIsUUFBUyxVQUFTLEdBR2hCLEVBQU0sUUFBUyxTQUFTLEdBR1ksbUJBQXJCLEdBQWUsWUFDMUIsRUFBSyxVQUFhLElBQUksWUFBWSxFQUFLLE9BQVMsSUFBSSxZQUFZLEVBQUssTUFBTSxZQUFjLEdBRzNELG1CQUFuQixHQUFhLFVBQ3hCLEVBQUssUUFBVyxJQUFJLFlBQVksRUFBSyxPQUFTLElBQUksWUFBWSxFQUFLLE1BQU0sVUFBWSxHQUd4RCxtQkFBbEIsR0FBRixZQUNULEVBQUEsV0FBYyxHQUkwQixtQkFBN0IsR0FBdUIsb0JBQ2xDLEVBQUssbUJBQW9CLEtBSTdCLE9BQVMsRUFHVCxzQkFHRixRQUFTLGNBQ1AsVUFBVyxFQUNYLHdCQUdGLFFBQVMsVUFBUyxHQUNoQixHQUFJLEdBQU8sZ0JBQWdCLEVBQzNCLEdBQUssV0FBWSxFQUNqQixFQUFLLFNBQVUsRUFHakIsUUFBUyxRQUNQLEdBQUksR0FBVyxrQkFDWCxFQUFPLGdCQUFnQixFQUMzQixHQUFLLFNBQVUsRUFDZix3QkFHRixRQUFTLGlCQUFpQixHQUN4QixHQUFJLEdBQWMsSUFNbEIsT0FMQSxHQUFFLEtBQU0sT0FBUSxTQUFVLEdBQ3BCLEVBQUssT0FBUyxJQUNoQixFQUFjLEtBR1gsRUFHVCxRQUFTLHVCQUNQLEdBQUksR0FBVyxpQkFDTixJQUFZLGdCQUFpQixJQUNwQyx3QkFJSixRQUFTLHlCQUNQLEdBQUksR0FBYyxFQUFFLFVBQVcsUUFBVSxXQUFXLEVBQU8sU0FBUyxHQUMvQyxRQUFoQixHQUNILE9BQU8sRUFBWSxNQUl2QixRQUFTLG1CQUNQLEdBQXdELElBQW5ELE9BQU8sU0FBUyxLQUFLLFFBQVEsa0JBQTBCLENBQzFELEdBQUksR0FBUSxPQUFPLFNBQVMsS0FBSyxNQUFNLEtBQ25DLEVBQVcsRUFBTSxFQUFNLE9BQU8sRUFDbEMsT0FBTyxHQUVQLE1BQU8sTUFJWCxRQUFTLFFBQU8sR0FDZCxPQUFPLFNBQVMsS0FBTyxpQkFBaUIsRUFFeEMsT0FBTyxLQUFLLElBQUksYUFBYSxNQUFRLEtBQU0sSUFBYyxPQUFPLElBSWxFLFFBQVMsU0FDUCxJQUFJLGVBQ0osRUFBRSxNQUFPLFFBQVUsVUFBUSxJQUFTLFFBQVMsU0FBVyxHQUN0RCxFQUFLLFdBQVksRUFDakIsRUFBSyxTQUFVLElBRWpCLFVBQVcsRUF4R2IsR0FBSSxlQUFnQixRQUFRLGdDQUMxQixhQUFlLFFBQVEsVUFBVSxhQUNqQyxhQUFlLFFBQVEsd0NBQ3ZCLE9BQVMsUUFBUSxvQkFFZixhQUFlLFNBRWYsT0FBUSxTQUFXLElBQUksUUFvR3ZCLG1CQUFxQixFQUFFLFVBQVcsYUFBYSxXQUVqRCxLQUFNLFNBQVMsR0FDYixTQUFTLElBR1gsWUFBYSxXQUNYLE1BQU8sU0FHVCxVQUFXLFdBQ1QsT0FBUSxVQUdWLFdBQVksV0FDVixLQUFLLEtBQU0sZUFHYixlQUFnQixXQUNkLE1BQU8saUJBQWlCLG9CQUcxQixnQkFBaUIsU0FBUyxHQUN4QixNQUFPLGlCQUFpQixJQUcxQixtQkFBb0IsV0FDbkIsR0FBSSxHQUFXLEVBQUUsTUFBTyxRQUFVLG1CQUFtQixJQUFTLE9BQ3pELEVBQWlCLEVBQUUsTUFBTyxRQUFVLG1CQUFtQixFQUFNLFdBQVcsSUFBUyxPQUNqRixFQUFtQixFQUFpQixFQUFZLEdBQUssR0FDckQsRUFBNEMsR0FBbkMsS0FBSyxNQUFNLEVBQWtCLEdBQzFDLE9BQU8sSUFHVCxrQkFBbUIsU0FBUyxHQUMxQixLQUFLLEdBQUksYUFBYyxJQUd6QixxQkFBc0IsU0FBUyxHQUM3QixLQUFLLGVBQWdCLGFBQWMsS0FLdkMsZUFBYyxTQUFTLFNBQVMsR0FFOUIsT0FBTyxFQUFPLFlBQ1osSUFBSyxjQUFhLGlCQUNoQixhQUNBLG1CQUFtQixZQUNuQixNQUVGLEtBQUssY0FBYSxZQUNoQixPQUFPLEVBQU8sTUFDZCxtQkFBbUIsWUFDbkIsTUFFRixLQUFLLGNBQWEsVUFDaEIsd0JBQ0EsbUJBQW1CLFlBQ25CLE1BRUYsS0FBSyxjQUFhLGNBQ2hCLFNBQVMsRUFBTyxNQUNoQixtQkFBbUIsWUFDbkIsTUFFRixLQUFLLGNBQWEsdUJBQ2hCLFNBQVMsRUFBTyxNQUNoQix3QkFDQSxtQkFBbUIsWUFDbkIsTUFFRixLQUFLLGNBQWEsV0FDaEIsUUFDQSxtQkFBbUIsWUFDbkIsTUFFRixLQUFLLGNBQWEsVUFDaEIsT0FDQSxtQkFBbUIsZ0JBUXpCLE9BQU8sUUFBVTs7O0FDMUxqQixRQUFTLFVBQVMsR0FDakIsSUFBSSxTQUFTLEtBQU8sRUFHckIsUUFBUyxnQkFBZSxHQUN0QixJQUFJLFNBQVMsWUFBYyxFQUc3QixRQUFTLGdCQUFlLEdBQ3RCLElBQUksT0FBTyxRQUFTLFNBQVUsR0FDdkIsRUFBTSxJQUFNLEVBQ2YsRUFBTSxRQUFTLEVBRWYsRUFBTSxRQUFTLElBS3JCLFFBQVMsZ0JBQWUsR0FDdEIsSUFBSSxPQUFPLFFBQVEsR0FDbkIsSUFBSSxPQUFTLElBQUksT0FBTyxNQUFNLEVBQUcsR0FHbkMsUUFBUywyQkFBMEIsR0FDc0IsS0FBbEQsRUFBRSxRQUFTLElBQUksUUFBUSxlQUFnQixJQUMxQyxJQUFJLFFBQVEsZUFBZSxLQUFLLEdBSXBDLFFBQVMsNEJBQTJCLEdBQ2xDLEdBQUksR0FBUSxFQUFFLFFBQVMsSUFBSSxRQUFRLGVBQWdCLEVBQzlDLElBQVMsR0FDWixJQUFJLFFBQVEsZUFBZSxPQUFPLEVBQU8sR0FJN0MsUUFBUyw2QkFBNEIsR0FDbkMsSUFBSSxRQUFRLG1CQUFxQixFQUFFLE9BQU8sRUFBUyxTQUFTLEdBQzFELE1BQXFHLElBQTlGLEVBQUUsUUFBUSxJQUFJLFFBQVEsa0JBQWtCLElBQUksU0FBUyxHQUFLLE1BQU8sR0FBSSxPQUFTLEVBQU8sUUFJaEcsUUFBUyxXQUFVLEdBQ2pCLE9BQVMsRUFHWCxRQUFTLHdCQUNQLElBQUksUUFBUSxZQUFhLEVBRzNCLFFBQVMsZ0NBQ1AsSUFBSSxRQUFRLGtCQUFrQixRQUFTLFNBQVUsR0FDL0MsMEJBQTJCLEVBQU8sUUE3RHRDLEdBQUksZUFBZ0IsUUFBUSxnQ0FDMUIsYUFBZSxRQUFRLFVBQVUsYUFDakMsYUFBZSxRQUFRLHdDQUN2QixPQUFTLFFBQVEsb0JBRWYsYUFBZSxTQUVmLE9BQVMsSUFBSSxNQUFNLE9BQU8sUUEwRDFCLFVBQVksRUFBRSxVQUFXLGFBQWEsV0FFeEMsU0FBVSxXQUNULE1BQU8sS0FBSSxTQUFTLE1BR3JCLGVBQWdCLFdBQ2QsTUFBTyxLQUFJLFNBQVMsYUFHdEIsVUFBVyxXQUNULE1BQU8sS0FBSSxRQUdiLGlCQUFrQixXQUNoQixJQUFJLEdBQUksR0FBRSxFQUFHLEVBQUksSUFBSSxPQUFPLE9BQVEsSUFBSyxDQUN2QyxHQUFJLEdBQVEsSUFBSSxPQUFPLEVBQ3ZCLElBQUssRUFBTSxPQUNULE1BQU8sR0FBTSxHQUdqQixNQUFPLE9BR1QscUJBQXNCLFdBQ3BCLE1BQU8sS0FBSSxRQUFRLFlBR3JCLHFCQUFzQixXQUNwQixNQUFPLEtBQUksUUFBUSxnQkFHckIsdUJBQXdCLFNBQVMsR0FDL0IsTUFBUyxHQUFFLFFBQVMsSUFBSSxRQUFRLGVBQWdCLElBQVUsR0FHNUQsNEJBQTZCLFdBQzNCLE1BQU8sS0FBSSxRQUFRLG9CQUdyQix3QkFBeUIsV0FDdkIsTUFBTyxLQUFJLFFBQVEsa0JBQWtCLElBQUksU0FBUyxHQUFVLE1BQU8sR0FBTyxRQUc1RSxvQkFBcUIsV0FDbkIsTUFBTyxLQUFJLFFBQVEsbUJBR3JCLGlCQUFrQixXQUNoQixNQUFPLFFBQU8sS0FBSyxJQUFJLGFBQWEscUJBR3RDLDJCQUE0QixXQUMxQixJQUFJLEdBQUksR0FBRSxFQUFHLEVBQUksSUFBSSxRQUFRLGtCQUFrQixPQUFRLElBQUssQ0FDMUQsR0FBSSxHQUFTLElBQUksUUFBUSxrQkFBa0IsRUFDM0MsS0FBTyxLQUFLLHVCQUF3QixFQUFPLE1BQ3pDLE9BQU8sRUFHWCxPQUFPLEdBR1QsVUFBVyxXQUNULE1BQU8sU0FHVCxXQUFZLFdBQ1YsS0FBSyxLQUFLLGVBR1osa0JBQW1CLFNBQVMsR0FDMUIsS0FBSyxHQUFHLGFBQWMsSUFHeEIscUJBQXNCLFNBQVMsR0FDN0IsS0FBSyxlQUFlLGFBQWMsS0FLdEMsZUFBYyxTQUFTLFNBQVMsR0FFOUIsT0FBTyxFQUFPLFlBQ1osSUFBSyxjQUFhLGVBQ2hCLFNBQVMsRUFBTyxPQUNoQixVQUFVLFlBQ1YsTUFFRixLQUFLLGNBQWEscUJBQ2hCLGVBQWUsRUFBTyxhQUN0QixVQUFVLFlBQ1YsTUFFRixLQUFLLGNBQWEsZUFDaEIsZUFBZSxFQUFPLFNBQ3RCLFVBQVUsWUFDVixNQUVGLEtBQUssY0FBYSxtQkFDaEIsZUFBZSxFQUFPLE9BQ3RCLFVBQVUsWUFDVixNQUVGLEtBQUssY0FBYSx3QkFDaEIsdUJBQ0EsVUFBVSxZQUNWLE1BRUYsS0FBSyxjQUFhLHlCQUNoQiw0QkFBNEIsRUFBTyxTQUNuQyxVQUFVLFlBQ1YsTUFFRixLQUFLLGNBQWEsNEJBQ2hCLDBCQUEwQixFQUFPLE1BQ2pDLFVBQVUsWUFDVixNQUVGLEtBQUssY0FBYSw2QkFDaEIsMkJBQTJCLEVBQU8sTUFDbEMsVUFBVSxZQUNWLE1BRUYsS0FBSyxjQUFhLCtCQUNoQiwrQkFDQSxVQUFVLFlBQ1YsTUFFRixLQUFLLGNBQWEsZ0JBQ2hCLFVBQVUsRUFBTyxRQUNqQixVQUFVLGdCQVFoQixPQUFPLFFBQVU7OztBQ3RNakIsUUFBUyxNQUFLLEdBQ2IsZ0JBQWlCLEVBQ2pCLGVBQWlCLEVBR2xCLFFBQVMsUUFDUixnQkFBaUIsRUFDakIsZUFBaUIsS0FoQmxCLEdBQUksZUFBZ0IsUUFBUSxnQ0FDM0IsYUFBZSxRQUFRLFVBQVUsYUFDakMsYUFBZSxRQUFRLHdDQUVwQixhQUFlLFNBRWYsZ0JBQWlCLEVBQ3BCLGVBQWlCLEtBWWQsYUFBZSxFQUFFLFVBQVcsYUFBYSxXQUM1QyxRQUFTLFdBQ1IsTUFBTyxpQkFHUixXQUFZLFdBQ1gsTUFBTyxpQkFHUixrQkFBbUIsU0FBUyxHQUMzQixLQUFLLEdBQUksYUFBYyxJQUd4QixxQkFBc0IsU0FBUyxHQUM5QixLQUFLLGVBQWdCLGFBQWMsSUFHcEMsV0FBWSxXQUNSLEtBQUssS0FBTSxnQkFJaEIsZUFBYyxTQUFTLFNBQVMsR0FFOUIsT0FBTyxFQUFPLFlBQ1osSUFBSyxjQUFhLGFBQ3BCLEtBQUssRUFBTyxTQUNaLGFBQWEsWUFDYixNQUVFLEtBQUssY0FBYSxhQUNoQixPQUNBLGFBQWEsZ0JBUW5CLE9BQU8sUUFBVTs7O0FDM0RqQixPQUFPLFNBQ04sSUFDQyxXQUFZLFVBR2IsU0FDQyxTQUFVLFNBQ1YsTUFBTyxPQUNQLFdBQVksSUFDVixPQUFRLFNBR1gsS0FDQyxJQUNDLGFBQWMsSUFHZixJQUNDLFVBQVcsRUFDWCxTQUFVLE1BQ1YsV0FBWSxLQUdiLGlCQUNDLE9BQVEsRUFDUixRQUFTLFdBR1Ysc0JBQ0MsTUFBTyxRQUdSLFdBQ0MsT0FBUSxpQkFDUixRQUFTLHFCQUNULGdCQUFpQixPQUNqQixVQUFXOzs7QUNsQmQsR0FBSSxhQUFjLFFBQVEsMkJBRXRCLE9BQVMsV0FFWixPQUNDLEtBQU0sU0FBUyxFQUFRLEVBQVMsR0FDL0IsRUFBNkIsbUJBQVosR0FBMEIsS0FDM0MsRUFBNkIsbUJBQVosR0FBMEIsSUFDM0MsSUFBSSxHQUFPLEVBQUUsT0FBTyxHQUFVLE9BQVEsRUFBUSxNQUFPLElBQUksUUFFckQsRUFBVyxPQUFPLFVBMEJ0QixPQXJCTSxHQUFRLE9BQ2IsWUFBWSxpQkFHYixPQUFPLEtBQU0sUUFBUyxHQUNwQixRQUFTLFNBQVUsR0FDWixFQUFTLFFBR2YsRUFBUyxRQUFRLEVBQVMsTUFGMUIsRUFBUyxPQUFPLEVBQVMsUUFLMUIsS0FBTSxXQUNOLEVBQVMsT0FBTyxrQkFFaEIsT0FBUSxXQUNGLEVBQVEsT0FDYixZQUFZLG9CQUlSLE1BTVYsUUFBTyxRQUFVOzs7O0FDNURqQixHQUFJLE9BQTJCLG1CQUFYLFFBQXlCLE9BQWMsTUFBc0IsbUJBQVgsUUFBeUIsT0FBYyxNQUFJLEtBQzdHLGNBQWdCLFFBQVEsK0JBQ3hCLE1BQVEsUUFBUSxtQ0FDaEIsbUJBQXFCLFFBQVEsZ0NBRWpDLFFBQU8sUUFBVSxXQUNiLE9BQU8sVUFBVSxNQUFNLFdBRXRCLG1CQUFtQixPQVNwQixLQUFNLGFBQ04sS0FBTSxNQUFNLHFCQUNaLFlBQWEsUUFBUSxrQ0FHckIsS0FBTSxnQkFDTixLQUFNLE1BQU0saUJBQ1osWUFBYSxRQUFRLDhCQUdyQixLQUFNLGdCQUNOLEtBQU0sTUFBTSxpQkFDWixZQUFhLFFBQVEsOEJBR3JCLEtBQU0saUJBQ04sS0FBTSxNQUFNLDBCQUNaLFlBQWEsUUFBUSx1Q0FDckIsU0FBVSxRQUFRLHlDQUdsQixLQUFNLG9CQUNOLEtBQU0sTUFBTSxtQkFDWixZQUFhLFFBQVEsdUNBQ3JCLG1CQUFtQixLQUlmLE1BQU0sT0FDSixNQUFNLGNBQWMsa0JBQW9CLFNBQVMsZUFBZTs7Ozs7O0FDOUMxRSxHQUFJLE9BQTJCLG1CQUFYLFFBQXlCLE9BQWMsTUFBc0IsbUJBQVgsUUFBeUIsT0FBYyxNQUFJLEtBQ2hILE9BQVMsUUFBUSxhQUNqQixPQUFTLFFBQVEsVUFFZCxPQUFTLE1BQU0sYUFBYSxZQUFhLFNBRTVDLFdBQ0MsS0FBTSxNQUFNLFVBQVUsT0FBTyxPQUFRLFNBQVUsUUFDL0MsTUFBTyxNQUFNLFVBQVUsT0FBTyxPQUFRLE9BQVEsVUFDOUMsTUFBTyxNQUFNLFVBQVUsT0FBTyxLQUFNLFlBQ3BDLE9BQVEsTUFBTSxVQUFVLEtBQ3hCLFFBQVMsTUFBTSxVQUFVLEtBQ3pCLFNBQVUsTUFBTSxVQUFVLEtBQzFCLEtBQU0sTUFBTSxVQUFVLFFBR3ZCLGdCQUFpQixXQUNoQixPQUFTLEtBQU0sU0FBVSxRQUFRLEVBQU0sTUFBTyxPQUFRLE1BQU8sS0FBTSxVQUFVLElBRzlFLG1CQUFvQixTQUFTLEdBQzVCLEVBQUUsaUJBQ0YsT0FBTyxTQUFXLEtBQUssTUFBTSxNQUc5QixRQUNDLE9BQ0MsYUFBYyxFQUNkLFVBQVcseUNBQ1gsWUFBYSxFQUNiLFlBQWEsUUFDYixPQUFRLFVBQ1IsUUFBUyxRQUNULFNBQVUsR0FDVixXQUFZLE9BQ1osUUFBUyxZQUNULFVBQVcsU0FDWCxlQUFnQixPQUNoQixvQkFBcUIsY0FDckIsV0FBWSxtQkFHYixPQUNDLE1BQ0MsU0FBVSxHQUNWLFFBQVMsWUFFVixRQUNDLFNBQVUsR0FDVixRQUFTLFlBRVYsS0FDQyxTQUFVLEdBQ1YsUUFBUyxjQUlYLFFBQ0MsTUFDQyxXQUFZLGlDQUNaLFlBQWEsT0FBTyxPQUFPLFVBQzNCLE1BQU8sT0FBTyxPQUFPLFNBQ3JCLFVBQ0MsTUFBTyxPQUFPLE9BQU8sT0FHdkIsTUFDQyxXQUFZLE9BQU8sT0FBTyxLQUMxQixZQUFhLGtCQUNiLE1BQU8sUUFDUCxVQUNDLFdBQVksT0FBTyxPQUFPLGNBRzVCLE9BQ0MsV0FBWSxPQUFPLE9BQU8sTUFDMUIsTUFBTyxRQUNQLFlBQWEsa0JBQ2IsVUFDQyxXQUFZLE9BQU8sT0FBTyxnQkFNN0IsUUFDQyxNQUNBLFNBQ0MsUUFBUyxpQkFDVCxhQUFjLEVBQ2QsWUFBYSxPQUNiLFVBQVcsOENBSWIsUUFDQyxRQUFTLGdCQUdWLFVBQ0MsV0FBWSxVQUNaLFlBQWEsT0FBTyxPQUFPLFVBQzNCLE1BQU8sT0FBTyxPQUFPLFVBQ3JCLFVBQ0MsV0FBWSxVQUNaLFlBQWEsT0FBTyxPQUFPLFVBQzNCLE1BQU8sT0FBTyxPQUFPLGFBS3hCLE9BQVEsV0FFUCxHQUVJLEdBRkEsRUFBZSxLQUFLLE1BQU0sRUFBSyxFQUFLLEtBQUssRUFBTSxFQUFLLE1BQU0sRUFBTyxFQUFLLE9BQU8sRUFBUSxFQUFLLFFBQVEsRUFBTSxFQUFLLE1BQU0sRUFBSyxFQUFLLEtBQUssRUFBTSxTQUFVLEVBQVEsR0FBWSxHQUFJLE1BQWMsRUFBUyxPQUFPLFVBQVUsY0FBZSxJQUFjLE1BQVYsRUFBaUIsS0FBTSxJQUFJLFVBQWEsS0FBSyxHQUFJLEtBQU8sR0FBYSxFQUFPLEtBQUssRUFBUSxLQUFTLEVBQU8sS0FBSyxFQUFXLEtBQU8sRUFBSyxHQUFPLEVBQU8sR0FBTyxPQUFPLElBQVEsR0FBTSxLQUFLLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLEtBQUssSUFJbmMsR0FDSCxLQUFLLE9BQU8sTUFDWixLQUFLLE9BQU8sTUFBTSxHQUNsQixLQUFLLE9BQU8sT0FBTyxHQUNuQixLQUFLLE9BQU8sT0FBTyxHQUNuQixLQUFLLE1BQU0sVUFBWSxLQUFLLE9BQU8sU0FDbkMsR0FBVSxLQUFLLE9BQU8sT0FDdEIsS0FBSyxNQUFNLE1BU1osT0FMQyxHQURJLElBQVMsRUFDRixLQUFLLG1CQUVMLEVBSVgsTUFBTSxjQUFjLFNBQVUsTUFBTSxZQUFjLEdBQVEsTUFBTyxFQUFlLFFBQVMsRUFBVSxZQUFhLEtBQUssZ0JBQWlCLFdBQVksS0FBSyxpQkFDdEosS0FBSyxNQUFNLFlBTWYsUUFBTyxRQUFVLE9BQU87Ozs7OztBQzdJeEIsR0FBSSxPQUEyQixtQkFBWCxRQUF5QixPQUFjLE1BQXNCLG1CQUFYLFFBQXlCLE9BQWMsTUFBSSxLQUNoSCxPQUFTLFFBQVEsVUFPZCxZQUFjLE1BQU0sYUFBYSxZQUFhLGNBRWpELFdBQ0MsTUFBTyxNQUFNLFVBQVUsT0FDdkIsZ0JBQWlCLE1BQU0sVUFBVSxPQUFPLFlBR3pDLFFBQ0MsU0FDQyxXQUFZLElBQ1osU0FBVSxPQUVYLFVBQ0MsV0FBWSxVQUNaLE1BQU8sS0FDUCxXQUFZLGFBQ1osUUFBUyxRQUNULE9BQVEsUUFFVCxLQUNDLFFBQVMsZUFDVCxNQUFPLEdBQ1AsT0FBUSxHQUNSLE9BQVEsZUFDUixRQUFTLEVBQ1QsYUFBYyxFQUNkLFdBQVksWUFJZCxPQUFRLFdBRVAsTUFDQyxPQUFNLGNBQWMsT0FBUSxPQUFRLEtBQUssT0FBTyxRQUFTLEtBQUssTUFBTSxRQUNuRSxNQUFNLGNBQWMsT0FBUSxNQUFPLEtBQUssT0FBTyxLQUM5QyxNQUFNLGNBQWMsUUFBUyxPQUFRLEtBQUssT0FBTyxVQUFZLE1BQU8sS0FBSyxNQUFNLGdCQUFnQixTQUVoRyxLQUFLLE1BQU0sZ0JBQWlCLGdCQU1oQyxRQUFPLFFBQVUsT0FBTzs7Ozs7O0FDbkN4QixHQUFJLE9BQTJCLG1CQUFYLFFBQXlCLE9BQWMsTUFBc0IsbUJBQVgsUUFBeUIsT0FBYyxNQUFJLEtBQ2hILE9BQVMsUUFBUSxVQUNqQixFQUFJLFFBQVEsY0FFVCxVQUFZLEVBRVosTUFBUSxNQUFNLGFBQWEsWUFBYSxRQUMzQyxXQUNDLElBQUssTUFBTSxVQUFVLFFBR3RCLE9BQ0MsUUFDQyxLQUNDLFVBQVcsY0FFWixtSEFDQyxPQUFRLEVBQUcsUUFBUyxHQUVyQixLQUNDLE9BQVEsT0FDUixTQUFVLFFBRVgsSUFDQyxjQUFlLE9BSWhCLG9CQUNDLFVBQVcsU0FDWCxVQUFXLEVBQ1gsV0FBWSxvQkFHYiwyQkFDQyxVQUFXLFNBQ1gsVUFBVyxLQUdaLG9CQUNDLFVBQVcsU0FDWCxVQUFXLElBQ1gsV0FBWSxvQkFHYiwyQkFDQyxVQUFXLFNBQ1gsVUFBVyxHQU9aLG1CQUNDLFNBQVUsV0FDVixLQUFNLE9BQ04sV0FBWSxrQkFHYiwwQkFDQyxTQUFVLFdBQ1YsS0FBTSxNQUdQLG1CQUNDLFNBQVUsV0FDVixLQUFNLEtBQ04sV0FBWSxrQkFHYiwwQkFDQyxTQUFVLFdBQ1YsS0FBTSxTQU9QLG1CQUNDLFNBQVUsV0FDVixLQUFNLFFBQ04sV0FBWSxrQkFHYiwwQkFDQyxTQUFVLFdBQ1YsS0FBTSxNQUdQLG1CQUNDLFNBQVUsV0FDVixLQUFNLEtBQ04sV0FBWSxrQkFHYiwwQkFDQyxTQUFVLFdBQ1YsS0FBTSxVQUlULE9BQVEsV0FDUCxHQUFJLEdBQU8sS0FBSyxNQUFNLEVBQU0sU0FBVSxFQUFRLEdBQVksR0FBSSxNQUFjLEVBQVMsT0FBTyxVQUFVLGNBQWUsSUFBYyxNQUFWLEVBQWlCLEtBQU0sSUFBSSxVQUFhLEtBQUssR0FBSSxLQUFPLEdBQWEsRUFBTyxLQUFLLEVBQVEsS0FBUyxFQUFPLEtBQUssRUFBVyxLQUFPLEVBQUssR0FBTyxFQUFPLEdBQU8sT0FBTyxJQUFRLE1BQ2pTLEVBQUssS0FBSyxhQUVYLE9BQ0MsT0FBTSxjQUFjLE1BQU8sTUFBTSxVQUFVLEdBQUksR0FBTSxHQUNwRCxNQUFNLGNBQWMsT0FBTyxPQUFRLGNBQWUsSUFBSSxFQUFJLE1BQU8sRUFBRSxLQUFLLE1BQU0sT0FBUSxLQUFLLE1BQU0sT0FDakcsS0FBSyxNQUFNLFdBS2QsWUFBYSxXQUNaLE1BQU8sU0FBVSxjQUluQixRQUFPLFFBQVU7Ozs7O0FDeElqQixHQUFJLFNBRUgsT0FBUyxRQUFPLFNBRWhCLE1BQVEsUUFBTyxRQUVmLE9BQVMsTUFBTyxPQUVoQixNQUFRLE1BQU8sUUFFZixNQUFRLE1BQU8sT0FFZixRQUFVLFFBQVMsUUFFbkIsT0FDQyxNQUFPLE9BQ1AsUUFBUyxTQUlWLGVBQ0MsY0FBZSxjQUdoQixzQkFDQyxhQUFjLE1BQ2QsTUFBTyxHQUNQLE9BQVEsR0FDUixZQUFhLEdBQ2IsTUFBTyxPQUNQLFdBQVksV0FJYixLQUNDLGFBQWMsRUFDZCxRQUFTLFdBQ1QsV0FBWSxXQUliLE9BQVMsTUFBTyxRQUNoQixRQUNDLGFBQWMsVUFDZCxLQUFNLFVBQ04sWUFBYSxVQUNiLE1BQU8sT0FDUCxTQUFVLE9BQ1YsS0FBTSxVQUNOLFVBQVcsT0FDWCxjQUFlLE9BQ2YsU0FBVSxVQUNWLGNBQWUsVUFDZixnQkFBaUIsT0FDakIsTUFBTyxVQUNQLGFBQWMsV0FHZixPQUNDLEtBQU0seUVBQ04sTUFBTywrQkFDUCxLQUFNLHFDQUlQLE9BQ0MsTUFBTyxPQUNQLFVBQVcsT0FDWCxXQUFZLE9BQ1osT0FBUSxvQkFDUixTQUFVLEdBQ1YsUUFBUyxZQUdWLFFBQ0MsYUFBYyxFQUNkLGdCQUFpQixPQUNqQixTQUFVLEdBQ1YsT0FBUSxHQUNSLE1BQU8sT0FDUCxPQUFRLG9CQUNSLFFBQVMsVUFDVCxTQUFVLEdBR1gsVUFDQyxZQUFhLElBR2QsWUFDQyxPQUFRLHFCQUdULFlBQ0MsT0FBUSxvQkFDUixNQUFPLE9BQ1AsUUFBUyxRQUNULFNBQVUsR0FDVixPQUFRLFlBQ1IsUUFBUyxHQU9YLFFBQU8sS0FDTixPQUNDLEtBQU0sWUFBYyxPQUFPLE1BQU0sS0FDakMsTUFBTyxPQUFPLE9BQU8sT0FFdEIsR0FDQyxNQUFPLE9BQU8sT0FBTyxLQUNyQixlQUFnQixRQUVqQixXQUNDLGVBQWdCLGFBRWpCLElBQ0MsU0FBVSxJQUVYLElBQ0MsTUFBTyxPQUFPLE9BQU8sS0FDckIsU0FBVSxJQUVYLElBQ0MsU0FBVSxJQUVYLGNBQ0MsV0FBWSxPQUFPLE1BQU0sTUFDekIsV0FBWSxNQUlkLE9BQU8sUUFBVTs7O0FDdElqQixPQUFPLFFBQVUsV0FFaEIsSUFBTSxHQURGLE1BQ00sRUFBSSxFQUFHLEVBQUksVUFBVSxTQUFVLEVBQ3BDLFVBQVUsSUFDYixPQUFPLE9BQU8sRUFBSyxVQUFVLEdBRy9CLE9BQU87OztBQ0VSLE9BQU8sUUFBUSxXQUFhLFFBQVE7OztBQ0dwQyxZQW1HRSxTQUFTLGNBQ1AsS0FBSyx5QkFDTCxLQUFLLHlCQUNMLEtBQUsseUJBQ0wsS0FBSywyQkFBNEIsRUFDakMsS0FBSywyQkFBNkIsS0F0R3RDLEdBQUksV0FBWSxRQUFRLGVBRXBCLFFBQVUsRUFDVixRQUFVLEtBNkdaLFlBQVcsVUFBVSxTQUFTLFNBQVMsR0FDckMsR0FBSSxHQUFLLFFBQVUsU0FFbkIsT0FEQSxNQUFLLHNCQUFzQixHQUFNLEVBQzFCLEdBUVQsV0FBVyxVQUFVLFdBQVcsU0FBUyxHQUN2QyxVQUNFLEtBQUssc0JBQXNCLEdBQzNCLDBFQUNBLFNBRUssTUFBSyxzQkFBc0IsSUFVcEMsV0FBVyxVQUFVLFFBQVEsU0FBUyxHQUNwQyxVQUNFLEtBQUssMEJBQ0wsOERBRUYsS0FBSyxHQUFJLEdBQUssRUFBRyxFQUFLLEVBQUksT0FBUSxJQUFNLENBQ3RDLEdBQUksR0FBSyxFQUFJLEVBQ1QsTUFBSyxzQkFBc0IsR0FDN0IsVUFDRSxLQUFLLHNCQUFzQixHQUMzQixnRkFFQSxJQUlKLFVBQ0UsS0FBSyxzQkFBc0IsR0FDM0IsdUVBQ0EsR0FFRixLQUFLLDJCQUEyQixNQVNwQyxXQUFXLFVBQVUsU0FBUyxTQUFTLEdBQ3JDLFdBQ0csS0FBSywwQkFDTix3RUFFRixLQUFLLDZCQUE2QixFQUNsQyxLQUNFLElBQUssR0FBSSxLQUFNLE1BQUssc0JBQ2QsS0FBSyxzQkFBc0IsSUFHL0IsS0FBSywyQkFBMkIsR0FFbEMsUUFDQSxLQUFLLGdDQVNULFdBQVcsVUFBVSxjQUFjLFdBQ2pDLE1BQU8sTUFBSywyQkFVZCxXQUFXLFVBQVUsMkJBQTJCLFNBQVMsR0FDdkQsS0FBSyxzQkFBc0IsSUFBTSxFQUNqQyxLQUFLLHNCQUFzQixHQUFJLEtBQUssNEJBQ3BDLEtBQUssc0JBQXNCLElBQU0sR0FTbkMsV0FBVyxVQUFVLDZCQUE2QixTQUFTLEdBQ3pELElBQUssR0FBSSxLQUFNLE1BQUssc0JBQ2xCLEtBQUssc0JBQXNCLElBQU0sRUFDakMsS0FBSyxzQkFBc0IsSUFBTSxDQUVuQyxNQUFLLDJCQUE2QixFQUNsQyxLQUFLLDJCQUE0QixHQVFuQyxXQUFXLFVBQVUsNEJBQTRCLFdBQy9DLEtBQUssMkJBQTZCLEtBQ2xDLEtBQUssMkJBQTRCLEdBSXJDLE9BQU8sUUFBVTs7O0FDOU9qQixZQWFBLElBQUksV0FBWSxTQUFTLEVBQVcsRUFBUSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FPekQsSUFBSyxFQUFXLENBQ2QsR0FBSSxFQUNKLElBQWUsU0FBWCxFQUNGLEVBQVEsR0FBSSxPQUNWLHFJQUdHLENBQ0wsR0FBSSxJQUFRLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUN2QixFQUFXLENBQ2YsR0FBUSxHQUFJLE9BQ1Ysd0JBQ0EsRUFBTyxRQUFRLE1BQU8sV0FBYSxNQUFPLEdBQUssUUFLbkQsS0FEQSxHQUFNLFlBQWMsRUFDZCxHQUlWLFFBQU8sUUFBVTs7O0FDL0JqQixRQUFTLGdCQUNQLEtBQUssUUFBVSxLQUFLLFlBQ3BCLEtBQUssY0FBZ0IsS0FBSyxlQUFpQixPQXVRN0MsUUFBUyxZQUFXLEdBQ2xCLE1BQXNCLGtCQUFSLEdBR2hCLFFBQVMsVUFBUyxHQUNoQixNQUFzQixnQkFBUixHQUdoQixRQUFTLFVBQVMsR0FDaEIsTUFBc0IsZ0JBQVIsSUFBNEIsT0FBUixFQUdwQyxRQUFTLGFBQVksR0FDbkIsTUFBZSxVQUFSLEVBbFJULE9BQU8sUUFBVSxhQUdqQixhQUFhLGFBQWUsYUFFNUIsYUFBYSxVQUFVLFFBQVUsT0FDakMsYUFBYSxVQUFVLGNBQWdCLE9BSXZDLGFBQWEsb0JBQXNCLEdBSW5DLGFBQWEsVUFBVSxnQkFBa0IsU0FBUyxHQUNoRCxJQUFLLFNBQVMsSUFBVSxFQUFKLEdBQVMsTUFBTSxHQUNqQyxLQUFNLFdBQVUsOEJBRWxCLE9BREEsTUFBSyxjQUFnQixFQUNkLE1BR1QsYUFBYSxVQUFVLEtBQU8sU0FBUyxHQUNyQyxHQUFJLEdBQUksRUFBUyxFQUFLLEVBQU0sRUFBRyxDQU0vQixJQUpLLEtBQUssVUFDUixLQUFLLFlBR00sVUFBVCxLQUNHLEtBQUssUUFBUSxPQUNiLFNBQVMsS0FBSyxRQUFRLFNBQVcsS0FBSyxRQUFRLE1BQU0sUUFBUyxDQUVoRSxHQURBLEVBQUssVUFBVSxHQUNYLFlBQWMsT0FDaEIsS0FBTSxFQUVSLE1BQU0sV0FBVSx3Q0FNcEIsR0FGQSxFQUFVLEtBQUssUUFBUSxHQUVuQixZQUFZLEdBQ2QsT0FBTyxDQUVULElBQUksV0FBVyxHQUNiLE9BQVEsVUFBVSxRQUVoQixJQUFLLEdBQ0gsRUFBUSxLQUFLLEtBQ2IsTUFDRixLQUFLLEdBQ0gsRUFBUSxLQUFLLEtBQU0sVUFBVSxHQUM3QixNQUNGLEtBQUssR0FDSCxFQUFRLEtBQUssS0FBTSxVQUFVLEdBQUksVUFBVSxHQUMzQyxNQUVGLFNBR0UsSUFGQSxFQUFNLFVBQVUsT0FDaEIsRUFBTyxHQUFJLE9BQU0sRUFBTSxHQUNsQixFQUFJLEVBQU8sRUFBSixFQUFTLElBQ25CLEVBQUssRUFBSSxHQUFLLFVBQVUsRUFDMUIsR0FBUSxNQUFNLEtBQU0sT0FFbkIsSUFBSSxTQUFTLEdBQVUsQ0FHNUIsSUFGQSxFQUFNLFVBQVUsT0FDaEIsRUFBTyxHQUFJLE9BQU0sRUFBTSxHQUNsQixFQUFJLEVBQU8sRUFBSixFQUFTLElBQ25CLEVBQUssRUFBSSxHQUFLLFVBQVUsRUFJMUIsS0FGQSxFQUFZLEVBQVEsUUFDcEIsRUFBTSxFQUFVLE9BQ1gsRUFBSSxFQUFPLEVBQUosRUFBUyxJQUNuQixFQUFVLEdBQUcsTUFBTSxLQUFNLEdBRzdCLE9BQU8sR0FHVCxhQUFhLFVBQVUsWUFBYyxTQUFTLEVBQU0sR0FDbEQsR0FBSSxFQUVKLEtBQUssV0FBVyxHQUNkLEtBQU0sV0FBVSw4QkF1QmxCLElBckJLLEtBQUssVUFDUixLQUFLLFlBSUgsS0FBSyxRQUFRLGFBQ2YsS0FBSyxLQUFLLGNBQWUsRUFDZixXQUFXLEVBQVMsVUFDcEIsRUFBUyxTQUFXLEdBRTNCLEtBQUssUUFBUSxHQUdULFNBQVMsS0FBSyxRQUFRLElBRTdCLEtBQUssUUFBUSxHQUFNLEtBQUssR0FHeEIsS0FBSyxRQUFRLElBQVMsS0FBSyxRQUFRLEdBQU8sR0FOMUMsS0FBSyxRQUFRLEdBQVEsRUFTbkIsU0FBUyxLQUFLLFFBQVEsTUFBVyxLQUFLLFFBQVEsR0FBTSxPQUFRLENBQzlELEdBQUksRUFJRixHQUhHLFlBQVksS0FBSyxlQUdoQixhQUFhLG9CQUZiLEtBQUssY0FLUCxHQUFLLEVBQUksR0FBSyxLQUFLLFFBQVEsR0FBTSxPQUFTLElBQzVDLEtBQUssUUFBUSxHQUFNLFFBQVMsRUFDNUIsUUFBUSxNQUFNLG1JQUdBLEtBQUssUUFBUSxHQUFNLFFBQ0osa0JBQWxCLFNBQVEsT0FFakIsUUFBUSxTQUtkLE1BQU8sT0FHVCxhQUFhLFVBQVUsR0FBSyxhQUFhLFVBQVUsWUFFbkQsYUFBYSxVQUFVLEtBQU8sU0FBUyxFQUFNLEdBTTNDLFFBQVMsS0FDUCxLQUFLLGVBQWUsRUFBTSxHQUVyQixJQUNILEdBQVEsRUFDUixFQUFTLE1BQU0sS0FBTSxZQVZ6QixJQUFLLFdBQVcsR0FDZCxLQUFNLFdBQVUsOEJBRWxCLElBQUksSUFBUSxDQWNaLE9BSEEsR0FBRSxTQUFXLEVBQ2IsS0FBSyxHQUFHLEVBQU0sR0FFUCxNQUlULGFBQWEsVUFBVSxlQUFpQixTQUFTLEVBQU0sR0FDckQsR0FBSSxHQUFNLEVBQVUsRUFBUSxDQUU1QixLQUFLLFdBQVcsR0FDZCxLQUFNLFdBQVUsOEJBRWxCLEtBQUssS0FBSyxVQUFZLEtBQUssUUFBUSxHQUNqQyxNQUFPLEtBTVQsSUFKQSxFQUFPLEtBQUssUUFBUSxHQUNwQixFQUFTLEVBQUssT0FDZCxFQUFXLEdBRVAsSUFBUyxHQUNSLFdBQVcsRUFBSyxXQUFhLEVBQUssV0FBYSxRQUMzQyxNQUFLLFFBQVEsR0FDaEIsS0FBSyxRQUFRLGdCQUNmLEtBQUssS0FBSyxpQkFBa0IsRUFBTSxPQUUvQixJQUFJLFNBQVMsR0FBTyxDQUN6QixJQUFLLEVBQUksRUFBUSxJQUFNLEdBQ3JCLEdBQUksRUFBSyxLQUFPLEdBQ1gsRUFBSyxHQUFHLFVBQVksRUFBSyxHQUFHLFdBQWEsRUFBVyxDQUN2RCxFQUFXLENBQ1gsT0FJSixHQUFlLEVBQVgsRUFDRixNQUFPLEtBRVcsS0FBaEIsRUFBSyxRQUNQLEVBQUssT0FBUyxRQUNQLE1BQUssUUFBUSxJQUVwQixFQUFLLE9BQU8sRUFBVSxHQUdwQixLQUFLLFFBQVEsZ0JBQ2YsS0FBSyxLQUFLLGlCQUFrQixFQUFNLEdBR3RDLE1BQU8sT0FHVCxhQUFhLFVBQVUsbUJBQXFCLFNBQVMsR0FDbkQsR0FBSSxHQUFLLENBRVQsS0FBSyxLQUFLLFFBQ1IsTUFBTyxLQUdULEtBQUssS0FBSyxRQUFRLGVBS2hCLE1BSnlCLEtBQXJCLFVBQVUsT0FDWixLQUFLLFdBQ0UsS0FBSyxRQUFRLFVBQ2IsTUFBSyxRQUFRLEdBQ2YsSUFJVCxJQUF5QixJQUFyQixVQUFVLE9BQWMsQ0FDMUIsSUFBSyxJQUFPLE1BQUssUUFDSCxtQkFBUixHQUNKLEtBQUssbUJBQW1CLEVBSTFCLE9BRkEsTUFBSyxtQkFBbUIsa0JBQ3hCLEtBQUssV0FDRSxLQUtULEdBRkEsRUFBWSxLQUFLLFFBQVEsR0FFckIsV0FBVyxHQUNiLEtBQUssZUFBZSxFQUFNLE9BRzFCLE1BQU8sRUFBVSxRQUNmLEtBQUssZUFBZSxFQUFNLEVBQVUsRUFBVSxPQUFTLEdBSTNELGNBRk8sTUFBSyxRQUFRLEdBRWIsTUFHVCxhQUFhLFVBQVUsVUFBWSxTQUFTLEdBQzFDLEdBQUksRUFPSixPQUhFLEdBSEcsS0FBSyxTQUFZLEtBQUssUUFBUSxHQUUxQixXQUFXLEtBQUssUUFBUSxLQUN4QixLQUFLLFFBQVEsSUFFZCxLQUFLLFFBQVEsR0FBTSxZQUk3QixhQUFhLGNBQWdCLFNBQVMsRUFBUyxHQUM3QyxHQUFJLEVBT0osT0FIRSxHQUhHLEVBQVEsU0FBWSxFQUFRLFFBQVEsR0FFaEMsV0FBVyxFQUFRLFFBQVEsSUFDNUIsRUFFQSxFQUFRLFFBQVEsR0FBTSxPQUp0Qjs7O0FDOVFWLFFBQVMsbUJBQ0wsVUFBVyxFQUNQLGFBQWEsT0FDYixNQUFRLGFBQWEsT0FBTyxPQUU1QixXQUFhLEdBRWIsTUFBTSxRQUNOLGFBSVIsUUFBUyxjQUNMLElBQUksU0FBSixDQUdBLEdBQUksR0FBVSxXQUFXLGdCQUN6QixXQUFXLENBR1gsS0FEQSxHQUFJLEdBQU0sTUFBTSxPQUNWLEdBQUssQ0FHUCxJQUZBLGFBQWUsTUFDZixXQUNTLFdBQWEsR0FDbEIsYUFBYSxZQUFZLEtBRTdCLFlBQWEsR0FDYixFQUFNLE1BQU0sT0FFaEIsYUFBZSxLQUNmLFVBQVcsRUFDWCxhQUFhLElBaUJqQixRQUFTLE1BQUssRUFBSyxHQUNmLEtBQUssSUFBTSxFQUNYLEtBQUssTUFBUSxFQVlqQixRQUFTLFNBcEVULEdBQUksU0FBVSxPQUFPLFdBQ2pCLFNBQ0EsVUFBVyxFQUNYLGFBQ0EsV0FBYSxFQW9DakIsU0FBUSxTQUFXLFNBQVUsR0FDekIsR0FBSSxHQUFPLEdBQUksT0FBTSxVQUFVLE9BQVMsRUFDeEMsSUFBSSxVQUFVLE9BQVMsRUFDbkIsSUFBSyxHQUFJLEdBQUksRUFBRyxFQUFJLFVBQVUsT0FBUSxJQUNsQyxFQUFLLEVBQUksR0FBSyxVQUFVLEVBR2hDLE9BQU0sS0FBSyxHQUFJLE1BQUssRUFBSyxJQUNKLElBQWpCLE1BQU0sUUFBaUIsVUFDdkIsV0FBVyxXQUFZLElBUy9CLEtBQUssVUFBVSxJQUFNLFdBQ2pCLEtBQUssSUFBSSxNQUFNLEtBQU0sS0FBSyxRQUU5QixRQUFRLE1BQVEsVUFDaEIsUUFBUSxTQUFVLEVBQ2xCLFFBQVEsT0FDUixRQUFRLFFBQ1IsUUFBUSxRQUFVLEdBQ2xCLFFBQVEsWUFJUixRQUFRLEdBQUssS0FDYixRQUFRLFlBQWMsS0FDdEIsUUFBUSxLQUFPLEtBQ2YsUUFBUSxJQUFNLEtBQ2QsUUFBUSxlQUFpQixLQUN6QixRQUFRLG1CQUFxQixLQUM3QixRQUFRLEtBQU8sS0FFZixRQUFRLFFBQVUsU0FBVSxHQUN4QixLQUFNLElBQUksT0FBTSxxQ0FJcEIsUUFBUSxJQUFNLFdBQWMsTUFBTyxLQUNuQyxRQUFRLE1BQVEsU0FBVSxHQUN0QixLQUFNLElBQUksT0FBTSxtQ0FFcEIsUUFBUSxNQUFRLFdBQWEsTUFBTzs7O0FDeEVwQyxZQW9CQSxJQUFJLFdBQVksU0FBUyxHQUN2QixHQUNJLEdBREEsSUFFSixNQUFNLFlBQWUsVUFBVyxNQUFNLFFBQVEsR0FDNUMsS0FBTSxJQUFJLE9BQU0sOENBRWxCLEtBQUssSUFBTyxHQUNMLEVBQUksZUFBZSxLQUd4QixFQUFJLEdBQU8sRUFFYixPQUFPLEdBR1QsUUFBTyxRQUFVOzs7O0FDcERqQixZQUVBLElBQUksT0FBMkIsbUJBQVgsUUFBeUIsT0FBYyxNQUFzQixtQkFBWCxRQUF5QixPQUFjLE1BQUksS0FFN0csTUFBUSxRQUFRLGNBQ2hCLFlBQWMsUUFBUSxzQkFFdEIsV0FBYSxNQUFNLGFBQ3JCLFlBQWEsYUFFYixnQkFBaUIsV0FDZixNQUFPLE1BQUssbUJBR2Qsa0JBQW1CLFdBQ2pCLEtBQUssYUFBZSxZQUFZLFVBQVUsS0FBSyxZQUdqRCxxQkFBc0IsV0FDcEIsS0FBSyxhQUFhLFVBR3BCLFVBQVcsV0FDVCxLQUFLLFNBQVMsS0FBSyxvQkFHckIsZ0JBQWlCLFdBQ2YsT0FDRSxPQUFRLFlBQVksbUJBSXhCLE9BQVEsV0FDTixNQUFPLE9BQU0sY0FBYyxPQUFTLE9BQ2hDLGNBQ0UsTUFBTyxLQUFLLE1BQU0sYUFNNUIsUUFBTyxRQUFVOzs7Ozs7QUN6Q2pCLFlBRUEsSUFBSSx1QkFBd0IsUUFBUSwrQkFDaEMsU0FBVyxRQUFRLGVBRW5CLE1BQTJCLG1CQUFYLFFBQXlCLE9BQWMsTUFBc0IsbUJBQVgsUUFBeUIsT0FBYyxNQUFJLEtBRTdHLGVBQWlCLFNBQXdCLEVBQVcsRUFBVSxHQUNoRSxHQUFLLEdBQWEsRUFBbEIsQ0FJQSxHQUFJLEdBQWdCLFNBQVMsaUJBQWlCLEVBQVcsRUFBTyxPQUM1RCxFQUFrQixzQkFBc0IsRUFFNUMsT0FBTyxHQUFXLElBQU0sRUFBa0IsTUFHeEMsTUFBUSxNQUFNLGFBQ2hCLFlBQWEsUUFFYixXQUNFLE1BQU8sTUFBTSxVQUFVLE9BQ3ZCLGNBQWUsTUFBTSxVQUFVLFFBR2pDLGdCQUFpQixXQUNmLE9BQ0UsY0FBZSxLQUluQixhQUFjLFNBQXNCLEdBQ2xDLEdBQUksR0FBUSxJQUVaLE9BQU8sUUFBTyxLQUFLLEdBQVEsT0FBTyxTQUFVLEVBQWEsR0FDdkQsR0FBSSxHQUFRLEVBQU8sRUFFbkIsSUFBaUIsaUJBQWIsRUFDRixHQUFlLEVBQU0sdUJBQXVCLE9BQ3ZDLENBQ0wsR0FBSSxJQUFvQixFQUFNLE1BQU0sY0FBZ0IsRUFBTSxNQUFNLGNBQWdCLElBQU0sSUFBTSxDQUM1RixJQUFlLGVBQWUsRUFBTyxFQUFrQixHQUd6RCxNQUFPLElBQ04sS0FHTCx1QkFBd0IsU0FBZ0MsR0FDdEQsR0FBSSxHQUFTLEtBRVQsRUFBc0IsS0FBSywwQkFDM0IsRUFBbUIsRUFPdkIsT0FMQSxRQUFPLEtBQUssR0FBZSxRQUFRLFNBQVUsR0FDM0MsR0FBSSxHQUFnQixFQUFvQixHQUFTLEVBQW9CLEdBQVMsQ0FDOUUsSUFBb0IsVUFBWSxFQUFnQixJQUFNLEVBQU8sYUFBYSxFQUFjLElBQVUsTUFHN0YsR0FHVCx3QkFBeUIsV0FDdkIsR0FBSSxLQU9KLE9BTkksTUFBSyxTQUFXLEtBQUssUUFBUSxjQUMvQixPQUFPLEtBQUssS0FBSyxRQUFRLGNBQWMsUUFBUSxTQUFXLEdBQ3hELEVBQW9CLEdBQVMsS0FBSyxRQUFRLGFBQWEsR0FBTyxPQUM3RCxLQUFLLE9BR0gsR0FHVCxPQUFRLFdBQ04sSUFBSyxLQUFLLE1BQU0sTUFDZCxNQUFPLEtBR1QsSUFBSSxHQUFTLEtBQUssYUFBYSxLQUFLLE1BQU0sTUFFMUMsT0FBTyxPQUFNLGNBQWMsU0FBVyx5QkFBMkIsT0FBUSxPQUk3RSxRQUFPLFFBQVU7Ozs7O0FDbkZqQixZQUVBLElBQUksc0JBQXVCLFFBQVEsU0FFL0Isb0JBQXNCLHFCQUFxQixXQUFhLFFBQVUsT0FBTyxZQUFjLFNBQVUsR0FDbkcsTUFBTyxRQUFPLFdBQVcsR0FHM0IsUUFBTyxTQUNMLGNBQWUsV0FDYixNQUFzQyxrQkFBeEIsc0JBR2hCLFdBQVksU0FBb0IsR0FDOUIsTUFBTyxxQkFBb0IsSUFHN0IsY0FBZSxTQUF1QixHQUNwQyxvQkFBc0I7OztBQ2xCMUIsWUFFQSxJQUFJLHVCQUF3QixTQUErQixFQUFPLEdBRWhFLE1BREEsR0FBUyxHQUFVLEdBQ1osT0FBTyxLQUFLLEdBQU8sSUFBSSxTQUFVLEdBQ3RDLE1BQU8sR0FBUyxFQUFXLEtBQU8sRUFBTSxHQUFZLE1BQ25ELEtBQUssTUFHVixRQUFPLFFBQVU7Ozs7QUNUakIsWUFNQSxTQUFTLGlCQUFnQixFQUFVLEdBQWUsS0FBTSxZQUFvQixJQUFnQixLQUFNLElBQUksV0FBVSxxQ0FFaEgsUUFBUyxXQUFVLEVBQVUsR0FBYyxHQUEwQixrQkFBZixJQUE0QyxPQUFmLEVBQXVCLEtBQU0sSUFBSSxXQUFVLGlFQUFvRSxHQUFlLEdBQVMsVUFBWSxPQUFPLE9BQU8sR0FBYyxFQUFXLFdBQWEsYUFBZSxNQUFPLEVBQVUsWUFBWSxFQUFPLFVBQVUsRUFBTSxjQUFjLEtBQWUsSUFBWSxFQUFTLFVBQVksR0FOM1osR0FBSSxjQUFlLFdBQWUsUUFBUyxHQUFpQixFQUFRLEdBQVMsSUFBSyxHQUFJLEdBQUksRUFBRyxFQUFJLEVBQU0sT0FBUSxJQUFLLENBQUUsR0FBSSxHQUFhLEVBQU0sRUFBSSxHQUFXLFdBQWEsRUFBVyxhQUFjLEVBQU8sRUFBVyxjQUFlLEVBQVUsU0FBVyxLQUFZLEVBQVcsVUFBVyxHQUFNLE9BQU8sZUFBZSxFQUFRLEVBQVcsSUFBSyxJQUFpQixNQUFPLFVBQVUsRUFBYSxFQUFZLEdBQWlKLE1BQTlILElBQVksRUFBaUIsRUFBWSxVQUFXLEdBQWlCLEdBQWEsRUFBaUIsRUFBYSxHQUFxQixNQUU3aEIsS0FBTyxTQUFhLEVBQUksRUFBSyxHQUFxQyxJQUE5QixHQUFJLElBQVMsRUFBd0IsR0FBUSxDQUFFLEdBQUksR0FBUyxFQUFJLEVBQVcsRUFBSyxFQUFXLENBQUssR0FBTyxFQUFTLEVBQVMsT0FBVyxHQUFTLENBQU8sSUFBSSxHQUFPLE9BQU8seUJBQXlCLEVBQVEsRUFBVyxJQUFhLFNBQVQsRUFBSixDQUFpTixHQUFJLFNBQVcsR0FBUSxNQUFPLEdBQUssS0FBZ0IsSUFBSSxHQUFTLEVBQUssR0FBSyxPQUFlLFVBQVgsRUFBK0IsT0FBb0IsRUFBTyxLQUFLLEdBQXBVLEdBQUksR0FBUyxPQUFPLGVBQWUsRUFBUyxJQUFlLE9BQVgsRUFBbUIsTUFBTyxPQUFvQixHQUFLLEVBQVEsRUFBTSxFQUFVLEVBQU0sRUFBVSxHQUFTLElBTXBhLGNBQWdCLFFBQVEsdUJBQ3hCLFlBQWMsUUFBUSxxQkFFdEIsa0JBQW9CLFNBQTJCLEdBQ2pELEdBQUksR0FBaUIsU0FBVyxHQUM5QixRQUFTLEtBQ1AsZ0JBQWdCLEtBQU0sR0FFdEIsS0FBSyxPQUFPLGVBQWUsRUFBZSxXQUFZLGNBQWUsTUFBTSxNQUFNLEtBQU0sV0FFdkYsS0FBSyxNQUFRLEtBQUssVUFDbEIsS0FBSyxNQUFNLHFCQUVQLEVBQWUsa0JBQ2pCLEtBQUssZ0JBQWtCLEVBQWUsaUJBK0IxQyxNQTNCQSxXQUFVLEVBQWdCLEdBRTFCLGFBQWEsSUFDWCxJQUFLLFNBQ0wsTUFBTyxXQUNMLEdBQUksR0FBa0IsS0FBSyxPQUFPLGVBQWUsRUFBZSxXQUFZLFNBQVUsTUFBTSxLQUFLLEtBQ2pHLE9BQU8sZUFBYyxLQUFNLE1BRzdCLElBQUssdUJBQ0wsTUFBTyxXQUNELEtBQUssT0FBTyxlQUFlLEVBQWUsV0FBWSx1QkFBd0IsT0FDaEYsS0FBSyxPQUFPLGVBQWUsRUFBZSxXQUFZLHVCQUF3QixNQUFNLEtBQUssTUFHdkYsS0FBSyx3QkFDUCxLQUFLLHVCQUF1QixTQUcxQixLQUFLLG1DQUNQLE9BQU8sS0FBSyxLQUFLLG1DQUFtQyxRQUFRLFNBQVUsR0FDcEUsS0FBSyxrQ0FBa0MsR0FBTyxVQUM3QyxVQUtGLEdBQ04sR0FNQyxHQUFjLGVBQWdCLFlBQWEsZUFBZ0Isb0JBdUIvRCxPQXJCQSxHQUFXLFFBQVEsU0FBVSxHQUN2QixFQUFrQixlQUFlLEtBQ25DLEVBQWUsR0FBTyxFQUFrQixNQUlmLGVBQXpCLFFBQVEsSUFBSSxVQUdkLE9BQU8sS0FBSyxFQUFrQixXQUFXLFFBQVEsU0FBVSxHQUN6RCxJQUFLLEVBQWUsVUFBVSxlQUFlLEdBQU0sQ0FDakQsR0FBSSxHQUFhLE9BQU8seUJBQXlCLEVBQWtCLFVBQVcsRUFDOUUsUUFBTyxlQUFlLEVBQWUsVUFBVyxFQUFLLE1BSzNELEVBQWUsWUFBYyxFQUFrQixhQUFlLEVBQWtCLE1BQVEsWUFFeEYsRUFBZSxnQkFBa0IsWUFBWSxlQUFlLEdBRXJELEVBR1QsUUFBTyxRQUFVOzs7OztBQ3hGakIsWUFFQSxJQUFJLGFBQWMsU0FBcUIsR0FDckMsTUFBc0IsUUFBZixHQUFzQyxTQUFmLEVBQTJCLE9BQVMsRUFBVyxXQUcvRSxRQUFPLFFBQVU7OztBQ05qQixZQUVBLElBQUksYUFBYyxRQUFRLG1CQUV0QixZQUFjLFVBQVcsU0FBVSxVQUVuQyxTQUFXLFNBQWtCLEVBQU8sRUFBWSxHQUNsRCxHQUFrQyxLQUE5QixXQUFXLFFBQVEsR0FDckIsS0FBTSxJQUFJLE9BQU0seUNBQTJDLEVBQVEsSUFHckUsSUFBSSxHQUFNLFlBQVksRUFFdEIsVUFBVSxHQUFTLEVBQU0sbUJBQXFCLEVBQU0sa0JBQWtCLElBQVEsRUFBTSxrQkFBa0IsR0FBSyxNQUFXLEVBR3hILFFBQU8sUUFBVTs7O0FDbEJqQixZQUVBLElBQUksVUFBVyxRQUFRLGFBRXZCLFFBQU8sUUFBVSxTQUFVLEdBQ3pCLE1BQU8sVUFBUyxJQUVsQixPQUFPLFFBQVEsTUFBUSxRQUFRLHNCQUMvQixPQUFPLFFBQVEsZ0JBQWtCLFFBQVEsa0NBQ3pDLE9BQU8sUUFBUSxTQUFXLFFBQVEsZUFDbEMsT0FBTyxRQUFRLFVBQVksUUFBUSxlQUNuQyxPQUFPLFFBQVEsT0FBUyxRQUFROzs7QUNUaEMsWUFFQSxJQUFJLHVCQUF3QixRQUFRLDhCQUNoQyxTQUFXLFFBQVEsY0FFbkIscUJBQXVCLFFBQVEsU0FFL0IscUJBQXVCLHFCQUFxQixXQUFhLFNBQVMsd0JBQXdCLGdCQUFpQixFQUUzRyxlQUFpQixFQUNqQixvQkFBc0IsS0FDdEIsa0JBQW9CLFdBRXBCLHdCQUNGLG9CQUFzQixTQUFTLGNBQWMsU0FDN0MsU0FBUyxLQUFLLFlBQVkscUJBRzFCLG9CQUFvQixZQUFjLGdCQUM3QixvQkFBb0IsTUFBTSxTQUFTLFNBQ3RDLGtCQUFvQixTQUFTLFVBQVksYUFNN0MsSUFBSSxXQUFZLFNBQW1CLEVBQWUsR0FDaEQsR0FBSSxHQUFPLFlBQWMsY0FHekIsSUFGQSxnQkFBa0IsR0FFYixxQkFDSCxNQUFPLEVBR1QsSUFBSSxHQUFPLElBQU0sa0JBQW9CLElBQU0sRUFBTyxPQUFTLE9BQU8sS0FBSyxHQUFlLElBQUksU0FBVSxHQUNsRyxHQUFJLEdBQVEsRUFBYyxHQUN0QixFQUFnQixTQUFTLGlCQUFpQixFQUFXLEVBQU8sT0FDNUQsRUFBa0Isc0JBQXNCLEVBQWUsS0FDM0QsT0FBTyxLQUFPLEVBQWEsU0FBVyxFQUFrQixVQUN2RCxLQUFLLE1BQVEsT0FJaEIsS0FBSyxvQkFDSCxLQUFNLElBQUksT0FBTSxxQ0FJbEIsT0FEQSxxQkFBb0IsTUFBTSxXQUFXLEVBQU0sb0JBQW9CLE1BQU0sU0FBUyxRQUN2RSxFQUdULFFBQU8sUUFBVTs7O0FDbkRqQixZQUVBLElBQUksZUFDQSwwQkFBMkIsRUFFM0IsZUFBaUIsU0FBd0IsR0FDM0MsV0FBVyxRQUFRLFNBQVUsR0FDM0IsRUFBUyxNQUlULFVBQVksU0FBbUIsR0FVakMsTUFUcUMsS0FBakMsV0FBVyxRQUFRLElBQ3JCLFdBQVcsS0FBSyxHQUdiLDJCQUNILE9BQU8saUJBQWlCLFVBQVcsZ0JBQ25DLDBCQUEyQixJQUkzQixPQUFRLFdBQ04sR0FBSSxHQUFRLFdBQVcsUUFBUSxFQUMvQixZQUFXLE9BQU8sRUFBTyxHQUVDLElBQXRCLFdBQVcsUUFBZ0IsMkJBQzdCLE9BQU8sb0JBQW9CLFVBQVcsZ0JBQ3RDLDBCQUEyQixLQU1uQyxRQUFPLFNBQ0wsVUFBVzs7OztBQ2hDYixZQUVBLElBQUksc0JBQXVCLFFBQVEsU0FDL0IsVUFBWSxRQUFRLGNBRXBCLG9CQUFzQixzQkFFdEIsZ0JBQWtCLFNBQVUsS0FBTSxNQUFPLEtBRXpDLGlCQUNGLFNBQ0UsVUFBVyxRQUNYLFNBQVUsTUFDVix1QkFFRSxhQUFlLElBQUssaUJBQWtCLEdBQUksZ0JBQzFDLE9BQVMsSUFBSyxnQkFBaUIsR0FBSSxlQUNuQyxnQkFBa0IsSUFBSyxrQkFBbUIsR0FBSSxpQkFDOUMsaUJBQW1CLElBQUssZ0JBQWlCLEdBQUksZUFDN0MsUUFBVSxJQUFLLHlCQUEwQixHQUFJLHdCQUUvQyxtQkFFRSxZQUNFLGNBQWUsU0FDZixZQUFhLFFBRWYsU0FDRSxNQUFPLGFBRVQsZUFDRSxRQUFTLFlBQ1QsS0FBTSxlQUVSLGdCQUNFLGNBQWUsU0FDZixZQUFhLE9BQ2IsaUJBQWtCLGNBSXhCLFFBQ0UsVUFBVyxPQUNYLFNBQVUsS0FDVix1QkFFRSxlQUFpQixJQUFLLHFCQUFzQixHQUFJLG1CQUNoRCxhQUFlLElBQUssaUJBQWtCLEdBQUksZ0JBQzFDLFlBQWMsSUFBSyxzQkFBdUIsR0FBSSxvQkFDOUMsaUJBQW1CLElBQUssZ0JBQWlCLEdBQUksZUFDN0MsUUFBVSxJQUFLLGlCQUFrQixHQUFJLGlCQUV2QyxtQkFFRSxjQUNFLGNBQWUsU0FDZixZQUFhLE9BQ2IsaUJBQWtCLFdBQ2xCLGdCQUFpQixlQUVuQixZQUNFLGNBQWUsU0FDZixZQUFhLFFBRWYsV0FDRSxjQUFlLFNBQ2YsWUFBYSxRQUVmLFNBQ0UsTUFBTyxlQUNQLGVBQWdCLHVCQUVsQixnQkFDRSxjQUFlLFNBQ2YsWUFBYSxPQUNiLGlCQUFrQixXQUNsQixnQkFBaUIsaUJBSXZCLE9BQ0UsVUFBVyxNQUNYLFNBQVUsS0FFWixZQUNFLFVBQVcsV0FDWCxTQUFVLFNBQ1YsdUJBRUUsYUFBZSxJQUFLLG9CQUFxQixHQUFJLG1CQUM3QyxPQUFTLElBQUssbUJBQW9CLEdBQUksZUFDdEMsZ0JBQWtCLElBQUsscUJBQXNCLEdBQUksb0JBQ2pELGlCQUFtQixJQUFLLG1CQUFvQixHQUFJLGtCQUNoRCxRQUFVLElBQUssNEJBQTZCLEdBQUksMkJBRWxELG1CQUVFLFlBQ0UsY0FBZSxTQUNmLFlBQWEsUUFFZixTQUNFLE1BQU8sZ0JBRVQsZUFDRSxLQUFNLGNBQ04sUUFBUyxhQUVYLGdCQUNFLGNBQWUsU0FDZixZQUFhLE9BQ2IsaUJBQWtCLGVBYXRCLGtCQUNGLFNBQVMsRUFDVCxjQUFjLEVBQ2QsYUFBYSxFQUNiLE1BQU0sRUFDTixVQUFVLEVBQ1YsY0FBYyxFQUNkLFlBQVksRUFDWixjQUFjLEVBQ2QsWUFBWSxFQUNaLFdBQVcsRUFDWCxZQUFZLEVBQ1osU0FBUyxFQUNULE9BQU8sRUFDUCxTQUFTLEVBQ1QsU0FBUyxFQUNULFFBQVEsRUFDUixRQUFRLEVBQ1IsTUFBTSxFQUdOLGFBQWEsRUFDYixrQkFBa0IsRUFDbEIsZUFBZSxFQUNmLGFBQWEsR0FHWCxZQUNBLHlCQUNBLHNCQUNBLFlBQ0YsVUFBVyxHQUNYLFNBQVUsR0FHWixJQUFJLHFCQUFxQixVQUFXLENBQ2xDLFNBQVcsU0FBUyxjQUFjLEtBQUssTUFJaEIsU0FBbkIsU0FBQSxXQUNGLFNBQUEsU0FBaUIsR0FXbkIsS0FBSyxHQVBELGlCQUNBLFlBQ0EsYUFBZSxPQUFPLGlCQUFpQixTQUFTLGdCQUFpQixJQUs1RCxFQUFJLEVBQUcsRUFBSSxhQUFhLFVBQy9CLFlBQWMsYUFBYSxHQUFHLE1BQU0sc0JBREcsS0FRekMsZ0JBQWtCLGFBQWUsWUFBWSxHQUU3QyxXQUFhLGdCQUFnQixrQkFBb0IsV0FHbkQsR0FBSSxpQkFBa0IsbUJBQ2xCLG1CQUFxQixTQUE0QixFQUFPLEVBQUksR0FDOUQsTUFBTyxHQUFLLElBQU0sRUFBRyxlQUVuQixxQkFBdUIsU0FBOEIsR0FDdkQsTUFBTyxHQUFFLFFBQVEsZ0JBQWlCLHFCQUdoQyx3QkFBMEIsU0FBaUMsR0FDN0QsR0FBSSxzQkFBc0IsZUFBZSxHQUN2QyxNQUFPLHVCQUFzQixFQUcvQixJQUFJLElBQ0YsSUFBSyxxQkFBcUIsR0FDMUIsR0FBSSxFQUNKLG9CQUFvQixHQU1sQixJQUdGLElBQUssV0FBVyxVQUFZLHFCQUFxQixHQUNqRCxHQUFJLFdBQVcsU0FBVyxFQUFTLEdBQUcsY0FBZ0IsRUFBUyxNQUFNLElBQ3BFLEVBR0MsWUFBVyx1QkFBeUIsV0FBVyxzQkFBc0IsS0FDdkUsRUFBd0IsRUFBc0IsT0FBTyxXQUFXLHNCQUFzQixJQUd4RixJQUFJLEdBQWtCLFVBQVUsRUFBdUIsU0FBVSxHQUMvRCxNQUFJLEdBQXFCLEtBQU0sVUFDdEIsRUFEVCxXQUdJLENBRU4sT0FBTyx1QkFBc0IsR0FBWSxHQU92Qyx1QkFBeUIsU0FBZ0MsR0FDM0QsR0FBSSxHQUFtQixDQWtCdkIsT0FoQkEsZ0JBQWUsS0FBSyxTQUFVLEdBRTVCLE1BQWlDLEtBQTdCLEVBQVMsUUFBUSxJQUNuQixFQUFtQixFQUFpQixRQUFRLEVBQVEsSUFPcEQsRUFBbUIsRUFBaUIsT0FBTyxHQUFHLGNBQWdCLEVBQWlCLE1BQU0sSUFFOUUsR0FWVCxTQWNLLEdBT0wsK0JBQWlDLFNBQXdDLEVBQWtCLEdBQzdGLEdBQUksR0FBcUIsdUJBQXVCLEVBRWhELE9BQWMsS0FBVixHQUFnQixNQUFNLElBQVcsaUJBQWlCLEdBRy9DLEVBRkUsRUFBUSxNQUtmLGtCQUFvQixTQUEyQixFQUFXLEVBQVUsRUFBTyxHQUM3RSxJQUFLLE1BQU0sUUFBUSxHQUFRLENBRXpCLElBQUssTUFBTSxJQUFvQixPQUFWLEVBQ25CLE1BQU8sZ0NBQStCLEVBQWtCLEVBRzFELElBQXFCLGdCQUFWLEdBQW9CLENBQzdCLEdBQWMsT0FBVixHQUE0QixTQUFWLEVBR3BCLE1BQU8sRUFGUCxHQUFRLEVBQU0sV0FPbEIsSUFBSyxNQUFNLFNBQVMsRUFBTyxLQUN6QixNQUFPLEdBSVgsR0FBSSxHQUFXLE1BQU0sUUFBUSxHQUFTLEVBQU0sS0FBSyxRQUtqRCxFQUFXLENBRVgsSUFBSSxtQkFBbUIsZUFBZSxHQUNwQyxNQUFPLG9CQUFtQixFQUc1QixJQUFJLEVBQ0EsT0FBTSxRQUFRLElBR2hCLEVBQWlCLEVBQU0sSUFBSSxTQUFVLEdBQ25DLE1BQU8sZ0NBQStCLEVBQWtCLEtBSTFELEVBQWlCLEVBQWUsT0FBTyxFQUFNLE9BQU8sU0FBVSxHQUM1RCxPQUFRLE1BQU0sS0FFZixJQUFJLFNBQVUsR0FDYixNQUFPLFlBQVcsVUFBWSxNQUdoQyxHQUVBLEVBRUEsV0FBVyxVQUFZLEdBSXJCLFdBQVcsbUJBQXFCLFdBQVcsa0JBQWtCLElBQXFCLFdBQVcsa0JBQWtCLEdBQWtCLEtBQ25JLEVBQWlCLEVBQWUsT0FBTyxXQUFXLGtCQUFrQixHQUFrQixJQUl4RixJQUFJLEdBQWUsVUFBVSxFQUFnQixTQUFVLEdBU3JELE1BUkEsVUFBUyxHQUFZLEdBQ3JCLFNBQVMsR0FBWSxJQU9aLFNBQVMsSUFHcEIsSUFBSSxFQUNGLG1CQUFtQixHQUFZLE1BSy9CLElBRkEsbUJBQW1CLEdBQVksRUFFRixlQUF6QixRQUFRLElBQUksVUFFVixTQUFXLFFBQVEsS0FBTSxDQUMzQixHQUFJLEdBQW1CLEVBQVksa0JBQW9CLEVBQVUsWUFBWSxZQUFjLElBQU0sRUFFakcsU0FBUSxLQUFLLDBCQUE0QixFQUFRLG1CQUFxQixFQUFXLEtBQU8sR0FNOUYsTUFBTyxvQkFBbUIsSUFLeEIsaUJBQW1CLFNBQTBCLEVBQVcsRUFBTyxHQUdqRSxHQUZBLEVBQU8sR0FBUSxNQUVWLHFCQUFxQixVQUN4QixNQUFPLFFBQU8sS0FBSyxHQUFPLE9BQU8sU0FBVSxFQUFVLEdBQ25ELEdBQUksR0FBUSxFQUFNLEdBQ2QsRUFBa0IsUUFBVCxFQUFpQixxQkFBcUIsR0FBTyxFQUN0RCxFQUFXLE1BQU0sUUFBUSxHQUFTLEVBQU0sR0FBSyxDQUVqRCxPQURBLEdBQVMsR0FBVSxFQUNaLE1BSVgsSUFBSSxLQXVCSixPQXRCQSxRQUFPLEtBQUssR0FBTyxRQUFRLFNBQVUsR0FDbkMsR0FBSSxHQUFRLEVBQU0sR0FFZCxFQUFjLHdCQUF3QixFQUMxQyxJQUFJLEtBQWdCLEdBRVcsZUFBekIsUUFBUSxJQUFJLFNBRmxCLENBY0EsR0FBSSxHQUFXLGtCQUFrQixFQUFXLEVBQVksR0FBSSxFQUFPLEVBRW5FLEdBQWMsRUFBWSxJQUFTLE1BWi9CLElBQUksU0FBVyxRQUFRLEtBQU0sQ0FDM0IsR0FBSSxHQUFtQixFQUFZLGtCQUFvQixFQUFVLFlBQVksWUFBYyxJQUFNLEVBRWpHLFNBQVEsS0FBSyw2QkFBK0IsRUFBVyxLQUFPLE1BVy9ELEVBR1QsUUFBTyxTQUNMLHdCQUF5Qix3QkFDekIsaUJBQWtCLGlCQUNsQixVQUFXLFdBQVcsVUFDdEIsU0FBVSxXQUFXOzs7OztBQzVadkIsWUFFQSxJQUFJLG1CQUNBLGFBRUEsVUFBWSxTQUFtQixHQUtqQyxNQUpvQyxLQUFoQyxVQUFVLFFBQVEsSUFDcEIsVUFBVSxLQUFLLElBSWYsT0FBUSxXQUNOLEdBQUksR0FBZ0IsVUFBVSxRQUFRLEVBRWxDLEdBQWdCLElBQ2xCLFVBQVUsT0FBTyxFQUFlLE1BTXBDLFlBQWMsV0FDaEIsVUFBVSxRQUFRLFNBQVUsR0FDMUIsTUFBTyxRQUlQLDRCQUE4QixTQUFxQyxHQUNyRSxHQUFJLEtBV0osT0FUQSxRQUFPLEtBQUssR0FBVSxRQUFRLFNBQVUsR0FDdEMsR0FBSSxHQUFRLEVBQVMsRUFJckIsR0FBUSxHQUFLLEVBQVEsY0FDckIsRUFBa0IsR0FBTyxJQUdwQixHQUdMLGVBQWlCLFNBQXdCLEdBQzNDLEdBQUssRUFBVSxZQUFmLENBSUEsR0FBSSxLQVlKLE9BVkEsUUFBTyxLQUFLLEVBQVUsYUFBYSxRQUFRLFNBQVUsR0FDbkQsR0FBSSxHQUFTLEVBQVUsWUFBWSxHQUMvQixFQUFZLFVBQVksRUFBVSxZQUFjLElBQU0sQ0FDMUQsZ0JBQWUsSUFBTSxHQUFhLDRCQUE0QixHQUM5RCxFQUFnQixHQUFPLElBS3pCLGNBQ08sSUFHTCxlQUFpQixXQUNuQixNQUFPLGdCQUdULFFBQU8sU0FDTCxlQUFnQixlQUNoQixlQUFnQixlQUNoQixVQUFXOzs7O0FDckViLFlBRUEsSUFBSSxVQUFXLE9BQU8sUUFBVSxTQUFVLEdBQVUsSUFBSyxHQUFJLEdBQUksRUFBRyxFQUFJLFVBQVUsT0FBUSxJQUFLLENBQUUsR0FBSSxHQUFTLFVBQVUsRUFBSSxLQUFLLEdBQUksS0FBTyxHQUFjLE9BQU8sVUFBVSxlQUFlLEtBQUssRUFBUSxLQUFRLEVBQU8sR0FBTyxFQUFPLElBQVksTUFBTyxJQUVuUCxnQkFBa0IsUUFBUSx1QkFDMUIsU0FBVyxRQUFRLGVBQ25CLFlBQWMsUUFBUSxtQkFDdEIsU0FBVyxRQUFRLGNBQ25CLE9BQVMsUUFBUSxZQUVqQixxQkFBdUIsUUFBUSxTQUMvQixNQUEyQixtQkFBWCxRQUF5QixPQUFjLE1BQXNCLG1CQUFYLFFBQXlCLE9BQWMsTUFBSSxLQVc3RywrQkFFQSxjQUFnQixTQUF1QixHQUN6QyxNQUFrQixNQUFYLEVBQUksSUFBeUIsTUFBWCxFQUFJLElBRzNCLGVBQWlCLFNBQXdCLEVBQVcsRUFBSyxHQUMzRCxNQUFPLFVBQVMsRUFBVSxNQUFPLEVBQUssSUFHcEMsZUFBaUIsU0FBd0IsRUFBVyxFQUFLLEdBQzNELEdBQUksR0FBVyxFQUFVLGtCQUFvQixFQUFVLE9BQVMsRUFBVSxNQUFNLHNCQUU1RSxHQUFVLGtCQUFtQixZQUFhLEdBQzlDLEdBQU0sa0JBQWtCLEdBQU8sWUFBYSxFQUFNLGtCQUFrQixHQUFNLEdBRTFFLEVBQVUsaUJBQW1CLEVBQU0sa0JBQ25DLEVBQVUsU0FBUyxJQU1qQixhQUFlLFFBQVMsR0FBYSxHQUN2QyxHQUFJLEtBZ0JKLE9BZEEsR0FBTyxRQUFRLFNBQVUsR0FDbEIsR0FBMEIsZ0JBQVYsS0FBc0IsTUFBTSxRQUFRLElBSXpELE9BQU8sS0FBSyxHQUFPLFFBQVEsU0FBVSxHQUMvQixjQUFjLElBQVEsRUFBTyxHQUMvQixFQUFPLEdBQU8sR0FBYyxFQUFPLEdBQU0sRUFBTSxLQUUvQyxFQUFPLEdBQU8sRUFBTSxPQUtuQixHQUdMLFNBQVcsU0FBa0IsR0FDL0IsT0FBTyxLQUFLLEVBQVUsTUFBTSxtQkFBbUIsUUFBUSxTQUFVLEdBQzNELGVBQWUsRUFBVyxFQUFLLFlBQ2pDLGVBQWUsRUFBVyxHQUFPLFdBQVcsT0FLOUMsb0JBQXNCLFNBQTZCLEVBQVcsRUFBTyxHQUN2RSxHQUFJLEtBQ0osR0FBTSxHQUFTLEVBQWUsUUFDOUIsZUFBZSxFQUFXLE9BQVEsSUFHaEMseUJBQTJCLFNBQWtDLEVBQVcsR0FDMUUsTUFBSyxRQUFPLGlCQUlaLE9BQU8sS0FBSyxHQUFPLE9BQU8sU0FBVSxHQUNsQyxNQUFtQixNQUFaLEVBQUssS0FDWCxJQUFJLFNBQVUsR0FDZixHQUFJLEdBQW1CLEVBQU0sRUFDN0IsR0FBUSxFQUFNLFFBQVEsVUFBVyxHQUdqQyxJQUFJLEdBQU0sNEJBQTRCLEVBVXRDLElBVEssSUFDSCw0QkFBNEIsR0FBUyxFQUFNLE9BQU8sV0FBVyxJQUkxRCxFQUFVLG9DQUNiLEVBQVUsdUNBR1AsRUFBVSxrQ0FBa0MsR0FBUSxDQUN2RCxHQUFJLEdBQVcsb0JBQW9CLEtBQUssS0FBTSxFQUFXLEVBQ3pELEdBQUksWUFBWSxHQUNoQixFQUFVLGtDQUFrQyxJQUMxQyxPQUFRLFdBQ04sRUFBSSxlQUFlLEtBTXJCLEVBQUksVUFDTixFQUFRLGNBQWMsRUFBTyxPQUkxQixHQXBDRSxHQTBDUCxjQUFnQixTQUF1QixFQUFpQixFQUFVLEdBQ3BFLEdBQUksR0FBUSxNQUFNLGFBQWEsRUFBaUIsWUFBYSxHQUMzRCx5QkFBeUIsSUFDdkIsRUFFSixPQUFPLElBVUwsY0FBZ0IsUUFBUyxHQUFjLEVBQzNDLEVBQ0EsR0FJRSxHQUZBLEVBQWlCLE9BRVosR0FBbUIsRUFBZ0IsT0FBUyxFQUFnQixNQUFNLHdCQUNyRSxNQUFPLEVBTVQsSUFBSSxHQUFjLEVBQWdCLE1BQU0sU0FDcEMsRUFBYyxDQUNsQixJQUFJLEVBQWEsQ0FDZixHQUFJLFNBQXNCLEVBQzFCLElBQXFCLFdBQWpCLEdBQThDLFdBQWpCLEVBRS9CLEVBQWMsTUFDVCxJQUFxQixhQUFqQixFQUVULEVBQWMsV0FDWixHQUFJLEdBQVMsRUFBWSxNQUFNLEtBQU0sVUFDckMsT0FBSSxPQUFNLGVBQWUsR0FDaEIsRUFBYyxFQUFXLEVBQVEsR0FFbkMsT0FFSixJQUEwQyxJQUF0QyxNQUFNLFNBQVMsTUFBTSxJQUFzQixFQUFZLEtBQU0sQ0FHdEUsR0FBSSxHQUFZLE1BQU0sU0FBUyxLQUFLLEVBQ3BDLEdBQWMsRUFBYyxFQUFXLEVBQVcsT0FFbEQsR0FBYyxNQUFNLFNBQVMsSUFBSSxFQUFhLFNBQVUsR0FDdEQsTUFBSSxPQUFNLGVBQWUsR0FDaEIsRUFBYyxFQUFXLEVBQU8sR0FHbEMsSUFLYixHQUFJLEdBQVEsRUFBZ0IsTUFDeEIsSUFHSixRQUFPLEtBQUssR0FBTyxRQUFRLFNBQVUsR0FFbkMsR0FBYSxhQUFULEVBQUosQ0FJQSxHQUFJLEdBQVksRUFBTSxFQUNsQixPQUFNLGVBQWUsS0FDdkIsRUFBUyxHQUFRLEVBQWMsRUFBVyxFQUFXLE1BSXpELElBQUksR0FBbUIsT0FBTyxLQUFLLEdBQVUsT0FBUyxDQUd0RCxLQUFLLE1BQU0sZUFBZSxJQUFvRCxnQkFBekIsR0FBZ0IsS0FDbkUsTUFBSSxLQUFnQixHQUFnQixFQUk3QixjQUFjLEVBQWlCLEVBQW1CLEtBQWUsR0FIL0QsQ0FNWCxJQUFJLEdBQVEsRUFBTSxLQVFsQixJQUpJLE1BQU0sUUFBUSxLQUNoQixFQUFRLGFBQWEsSUFHTSxlQUF6QixRQUFRLElBQUksU0FBMkIsQ0FLekMsR0FBSSxJQUNGLFlBQWUsdUJBQXdCLHNCQUF1QixpQkFBa0Isa0JBQW1CLGtCQUFtQixtQkFBb0IscUJBQXNCLHNCQUF1QixzQkFBdUIsbUJBQW9CLG9CQUFxQixvQkFBcUIsa0JBQzVRLFFBQVcsZUFBZ0Isb0JBQXFCLG9CQUFxQixvQkFBcUIsY0FBZSxhQUFjLGtCQUFtQixrQkFBbUIsa0JBQW1CLGNBQWUsbUJBQW9CLG1CQUFvQixtQkFBb0IsY0FBZSxZQUFhLGlCQUFrQixpQkFBa0IsaUJBQWtCLGVBQzdVLGFBQWdCLG9CQUFxQixvQkFBcUIsbUJBQW9CLG9CQUFxQixvQkFDbkcsY0FBaUIseUJBQTBCLDBCQUEyQixzQkFBdUIsd0JBQzdGLE1BQVMsYUFBYyxjQUFlLFdBQVksY0FBZSxZQUFhLGNBQWUsdUJBQXdCLGFBQWMsY0FDbkksV0FBYyxpQkFBa0Isb0JBQXFCLGlCQUNyRCxRQUFXLGVBQWdCLGFBQWMsY0FBZSxhQUN4RCxTQUFZLGdCQUFpQixjQUFlLGVBQWdCLGNBQzVELFlBQWUsa0JBQW1CLHFCQUFzQixxQkFBc0IsNkJBRzVFLEVBQWEsUUFBUyxHQUFXLEdBQ25DLEdBQWlCLGdCQUFOLElBQW1CLEVBQTlCLENBSUEsR0FBSSxHQUFZLE9BQU8sS0FBSyxFQUM1QixHQUFVLFFBQVEsU0FBVSxHQUN0QixFQUE0QixJQUFhLEVBQTRCLEdBQVUsS0FBSyxTQUFVLEdBQ2hHLE1BQWlDLEtBQTFCLEVBQVUsUUFBUSxNQUVJLGVBQXpCLFFBQVEsSUFBSSxVQUVkLFFBQVEsS0FBSyxxQkFBdUIsRUFBVyxvQkFBcUIsRUFBTyx1R0FBbUgsRUFBVSxZQUFZLFlBQWMsSUFBSyxrRkFNN08sRUFBVSxRQUFRLFNBQVUsR0FDMUIsTUFBTyxHQUFXLEVBQUUsT0FHeEIsR0FBVyxHQUliLElBQUssSUFBVSxPQUFPLEtBQUssR0FBTyxLQUFLLGVBQ3JDLE1BQUksSUFFRixFQUFTLE1BQVEsU0FBUyxpQkFBaUIsRUFBVyxHQUMvQyxjQUFjLEVBQWlCLEVBQVUsSUFDdkMsR0FBZSxFQUNqQixjQUFjLEVBQWlCLEVBQVUsR0FHM0MsQ0FNVCxJQUFJLEdBQWMsRUFBZ0IsS0FBTyxFQUFnQixJQUNyRCxFQUFNLFlBQVksRUFFdEIsSUFBSSxFQUFlLEdBQ2pCLEtBQU0sSUFBSSxPQUFNLHFIQUE0SCxFQUFjLFFBQVUsRUFBYyxvQkFBc0IsNENBRzFNLEdBQWUsSUFBTyxFQUd0QixFQUFRLHlCQUF5QixFQUFXLEVBRTVDLElBQUksS0FRSixJQVBBLE9BQU8sS0FBSyxHQUFPLFFBQVEsU0FBVSxHQUM5QixjQUFjLEtBQ2pCLEVBQVMsR0FBWSxFQUFNLE1BSzNCLEVBQU0sV0FBYSxFQUFNLFdBQVksQ0FJdkMsR0FBSSxHQUF1QixFQUFNLFlBQ2pDLEdBQVMsYUFBZSxTQUFVLEdBQ2hDLEdBQXdCLEVBQXFCLEdBQzdDLGVBQWUsRUFBVyxHQUFPLFVBQVUsSUFHN0MsSUFBSSxHQUF1QixFQUFNLFlBQ2pDLEdBQVMsYUFBZSxTQUFVLEdBQ2hDLEdBQXdCLEVBQXFCLEdBQzdDLGVBQWUsRUFBVyxHQUFPLFVBQVUsS0FJL0MsR0FBSSxFQUFNLFdBQVksQ0FDcEIsR0FBSSxHQUFzQixFQUFNLFdBQ2hDLEdBQVMsWUFBYyxTQUFVLEdBQy9CLEdBQXVCLEVBQW9CLEdBQzNDLEVBQVUsZUFBaUIsS0FBSyxNQUNoQyxlQUFlLEVBQVcsR0FBTyxXQUFXLEtBSWhELEdBQUksRUFBTSxVQUFXLENBQ25CLEdBQUksR0FBa0IsRUFBTSxPQUM1QixHQUFTLFFBQVUsU0FBVSxHQUMzQixHQUFtQixFQUFnQixHQUNuQyxlQUFlLEVBQVcsR0FBTyxVQUFVLElBRzdDLElBQUksR0FBaUIsRUFBTSxNQUMzQixHQUFTLE9BQVMsU0FBVSxHQUMxQixHQUFrQixFQUFlLEdBQ2pDLGVBQWUsRUFBVyxHQUFPLFVBQVUsS0FLL0MsR0FBSSxHQUFvQixPQUFPLEtBQUssR0FBTyxPQUFPLFNBQVUsR0FDMUQsTUFBZ0IsWUFBVCxHQUFzQixlQUFlLEVBQVcsRUFBSyxZQUF1QixXQUFULEdBQXFCLGVBQWUsRUFBVyxFQUFLLFdBQXNCLFdBQVQsR0FBcUIsZUFBZSxFQUFXLEVBQUssWUFDOUwsSUFBSSxTQUFVLEdBQ2YsTUFBTyxHQUFNLElBYWYsT0FWSSxHQUFrQixTQUNwQixFQUFXLGNBQWMsR0FBVSxPQUFPLEtBR3hDLEVBQU0sYUFBZSxFQUFVLHdCQUEwQixxQkFBcUIsdUJBQ2hGLEVBQVUsdUJBQXlCLGdCQUFnQixVQUFVLFNBQVMsS0FBSyxLQUFNLEtBR25GLEVBQVMsTUFBUSxTQUFTLGlCQUFpQixFQUFXLEdBRS9DLGNBQWMsRUFBaUIsRUFBVSxHQUtsRCxlQUFjLHFCQUF1QixXQUNuQyxnQ0FHRixPQUFPLFFBQVU7Ozs7O0FDNVdqQixZQUVBLFNBQVMsTUFBSyxFQUFPLEVBQVcsR0FDOUIsR0FBb0Msa0JBQXpCLE9BQU0sVUFBVSxLQUN6QixNQUFPLEdBQU0sS0FBSyxFQUFXLEVBRy9CLEdBQVUsR0FBVyxJQUNyQixJQUNJLEdBREEsRUFBUyxFQUFNLE1BR25CLElBQXlCLGtCQUFkLEdBQ1QsS0FBTSxJQUFJLFdBQVUsRUFBWSxxQkFHbEMsS0FBSyxFQUFJLEVBQU8sRUFBSixFQUFZLElBQ3RCLEdBQUksRUFBVSxLQUFLLEVBQVMsRUFBTSxHQUFJLEVBQUcsR0FDdkMsTUFBTyxHQUFNLEdBS25CLE9BQU8sUUFBVTs7O0NDaEJoQixXQUNBLFlBRUEsSUFBSSxLQUNlLG1CQUFYLFVBQ1AsT0FBTyxXQUNQLE9BQU8sU0FBUyxlQUdiLEdBRUgsVUFBVyxFQUVYLGNBQWlDLG1CQUFYLFFBRXRCLHFCQUNDLE1BQWdCLE9BQU8sbUJBQW9CLE9BQU8sYUFFbkQsZUFBZ0IsS0FBZSxPQUFPLE9BSWpCLG1CQUFYLFNBQStDLGdCQUFmLFFBQU8sS0FBb0IsT0FBTyxJQUM1RSxPQUFPLFdBQ04sTUFBTyxLQUVvQixtQkFBWCxTQUEwQixPQUFPLFFBQ2xELE9BQU8sUUFBVSxFQUVqQixPQUFPLHFCQUF1QiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJ2YXIgQXBwRGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4uL2Rpc3BhdGNoZXIvYXBwLWRpc3BhdGNoZXInKSxcblx0SlBTQ29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtY29uc3RhbnRzJyk7XG5cbnZhciBEYXRhQWN0aW9ucyA9IHtcblx0cmVxdWVzdFN0YXJ0ZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNBVkVfU1RBUlRFRFxuXHRcdH0pO1xuXHR9LFxuXG5cdHJlcXVlc3RGaW5pc2hlZDogZnVuY3Rpb24oKSB7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0FWRV9GSU5JU0hFRFxuXHRcdH0pO1xuXHR9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IERhdGFBY3Rpb25zOyIsInZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuXHRKUFNDb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1jb25zdGFudHMnKTtcblxudmFyIEZsYXNoQWN0aW9ucyA9IHtcblx0bm90aWNlOiBmdW5jdGlvbihtc2cpIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TRVRfRkxBU0gsXG5cdFx0XHRtZXNzYWdlOiBtc2csXG5cdFx0XHRzZXZlcml0eTogSlBTQ29uc3RhbnRzLkZMQVNIX1NFVkVSSVRZX05PVElDRVxuXHRcdH0pO1xuXHR9LFxuXG5cdGVycm9yOiBmdW5jdGlvbihtc2cpIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TRVRfRkxBU0gsXG5cdFx0XHRtZXNzYWdlOiBtc2csXG5cdFx0XHRzZXZlcml0eTogSlBTQ29uc3RhbnRzLkZMQVNIX1NFVkVSSVRZX0VSUk9SXG5cdFx0fSk7XG5cdH0sXG5cblx0dW5zZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlVOU0VUX0ZMQVNIXG5cdFx0fSk7XG5cdH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRmxhc2hBY3Rpb25zOyIsInZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuXHRKUFNDb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1jb25zdGFudHMnKSxcblx0UGF0aHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1wYXRocycpLFxuXHRGbGFzaEFjdGlvbnMgPSByZXF1aXJlKCcuL2ZsYXNoLWFjdGlvbnMnKSxcblx0U2l0ZUFjdGlvbnMgPSByZXF1aXJlKCcuL3NpdGUtYWN0aW9ucycpLFxuXHRXUEFqYXggPSByZXF1aXJlKCcuLi91dGlscy93cC1hamF4JyksXG5cdFNldHVwUHJvZ3Jlc3NTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zZXR1cC1wcm9ncmVzcy1zdG9yZScpLFxuXHRTaXRlU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2l0ZS1zdG9yZScpO1xuXG52YXIgU2V0dXBQcm9ncmVzc0FjdGlvbnMgPSB7XG5cdHJlc2V0RGF0YTogZnVuY3Rpb24oKSB7XG5cdFx0V1BBamF4LlxuXHRcdFx0cG9zdChKUFMuc2l0ZV9hY3Rpb25zLnJlc2V0X2RhdGEpLlxuXHRcdFx0ZmFpbCggZnVuY3Rpb24gKCBtc2cgKSB7XG5cdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihcIkZhaWxlZCB0byBzYXZlIGRhdGE6IFwiICsgbXNnKTtcblx0XHRcdH0pO1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHQgICAgICBcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5SRVNFVF9EQVRBXG5cdCAgICB9KTtcblx0fSxcblxuXHRjb21wbGV0ZVN0ZXA6IGZ1bmN0aW9uKHNsdWcsIG1ldGEpIHtcblx0XHR2YXIgc3RlcCA9IFNldHVwUHJvZ3Jlc3NTdG9yZS5nZXRTdGVwRnJvbVNsdWcoc2x1Zyk7XG5cblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TVEVQX0NPTVBMRVRFLFxuXHRcdFx0c2x1Zzogc2x1Z1xuXHQgICAgfSk7XG5cblx0XHQvLyBOT1RFOiB0aGlzIG5lZWRzIHRvIGNvbWUgYWZ0ZXIgdGhlIGRpc3BhdGNoLCBzbyB0aGF0IHRoZSBjb21wbGV0aW9uICUgXG5cdFx0Ly8gaXMgYWxyZWFkeSB1cGRhdGVkIGFuZCBjYW4gYmUgaW5jbHVkZWQgaW4gdGhlIG1ldGFkYXRhXG5cdFx0dGhpcy5fcmVjb3JkQ29tcGxldGUoc3RlcCwgbWV0YSk7XG5cdH0sXG5cblx0Y29tcGxldGVBbmROZXh0U3RlcDogZnVuY3Rpb24oc2x1ZywgbWV0YSkge1xuXHRcdHRoaXMuY29tcGxldGVTdGVwKHNsdWcsIG1ldGEpO1xuXG5cdCAgICBBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0ICAgICAgYWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNURVBfTkVYVCxcblx0ICAgICAgc2x1Zzogc2x1Z1xuXHQgICAgfSk7XG5cdH0sXG5cblx0X3JlY29yZENvbXBsZXRlOiBmdW5jdGlvbihzdGVwLCBtZXRhKSB7XG5cdFx0aWYgKHR5cGVvZihtZXRhKSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdG1ldGEgPSB7fTtcblx0XHR9XG5cblx0XHRtZXRhLmNvbXBsZXRpb24gPSBTZXR1cFByb2dyZXNzU3RvcmUuZ2V0UHJvZ3Jlc3NQZXJjZW50KCk7XG5cblx0XHRXUEFqYXguXG5cdFx0ICBcdHBvc3QoSlBTLnN0ZXBfYWN0aW9ucy5jb21wbGV0ZSwgeyBzdGVwOiBzdGVwLnNsdWcsIGRhdGE6IG1ldGEgfSkuXG5cdFx0XHRmYWlsKCBmdW5jdGlvbihtc2cpIHtcblx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKG1zZyk7XG5cdFx0XHR9KTtcblx0fSxcblxuXHQvLyBtYXJrIGN1cnJlbnQgc3RlcCBhcyBza2lwcGVkIGFuZCBtb3ZlIG9uXG5cdHNraXBTdGVwOiBmdW5jdGlvbigpIHtcblx0XHRGbGFzaEFjdGlvbnMudW5zZXQoKTtcblx0XHRcblx0XHR2YXIgc3RlcCA9IFNldHVwUHJvZ3Jlc3NTdG9yZS5nZXRDdXJyZW50U3RlcCgpO1xuXG5cdFx0aWYgKCAhIHN0ZXAuc2tpcHBlZCApIHtcblx0XHQgICAgV1BBamF4LlxuXHRcdFx0XHRwb3N0KEpQUy5zdGVwX2FjdGlvbnMuc2tpcCwgeyBzdGVwOiBzdGVwLnNsdWcgfSkuXG5cdFx0XHRcdGZhaWwoIGZ1bmN0aW9uKG1zZykge1xuXHRcdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihtc2cpO1xuXHRcdFx0XHR9KTtcblx0XHR9XG5cblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TVEVQX1NLSVBcblx0ICAgIH0pO1xuXHR9LFxuXG5cdGdldFN0YXJ0ZWQ6IGZ1bmN0aW9uKCkge1xuXHQgICAgV1BBamF4LlxuXHRcdFx0cG9zdChKUFMuc3RlcF9hY3Rpb25zLnN0YXJ0KS5cblx0XHRcdGZhaWwoIGZ1bmN0aW9uKG1zZykge1xuXHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IobXNnKTtcblx0XHRcdH0pO1xuXG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdCAgICAgIGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TVEVQX0dFVF9TVEFSVEVEXG5cdCAgICB9KTtcblx0fSxcblxuXHRzZXRDdXJyZW50U3RlcDogZnVuY3Rpb24oc2x1Zykge1xuXHRcdEZsYXNoQWN0aW9ucy51bnNldCgpO1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHQgICAgICBhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU1RFUF9TRUxFQ1QsXG5cdCAgICAgIHNsdWc6IHNsdWdcblx0ICAgIH0pO1xuXHR9LFxuXG5cdC8vIG1vdmVzIG9uIHRvIHRoZSBuZXh0IHN0ZXAsIGJ1dCBkb2Vzbid0IG1hcmsgaXQgYXMgXCJza2lwcGVkXCJcblx0c2VsZWN0TmV4dFN0ZXA6IGZ1bmN0aW9uKCkge1xuXHRcdEZsYXNoQWN0aW9ucy51bnNldCgpO1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNURVBfTkVYVFxuXHQgICAgfSk7XG5cdH0sXG5cblx0c3VibWl0VGl0bGVTdGVwOiBmdW5jdGlvbigpIHtcblx0XHRTaXRlQWN0aW9ucy5zYXZlVGl0bGVBbmREZXNjcmlwdGlvbigpLmRvbmUoZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmNvbXBsZXRlQW5kTmV4dFN0ZXAoUGF0aHMuU0lURV9USVRMRV9TVEVQX1NMVUcpO1xuXHRcdH0uYmluZCh0aGlzKSk7XG5cdH0sXG5cblx0c3VibWl0TGF5b3V0U3RlcDogZnVuY3Rpb24obGF5b3V0KSB7XG5cdFx0U2l0ZUFjdGlvbnMuc2V0TGF5b3V0KGxheW91dCkuZG9uZShmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuY29tcGxldGVBbmROZXh0U3RlcChQYXRocy5MQVlPVVRfU1RFUF9TTFVHKTtcblx0XHR9LmJpbmQodGhpcykpO1xuXHR9LFxuXG5cdHN1Ym1pdEpldHBhY2tKdW1wc3RhcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVBY3Rpb25zLmVuYWJsZUp1bXBzdGFydCgpLmRvbmUoZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmNvbXBsZXRlU3RlcChQYXRocy5KRVRQQUNLX01PRFVMRVNfU1RFUF9TTFVHKTtcblx0XHR9LmJpbmQodGhpcykpO1xuXHR9LFxuXG5cdHNldEFjdGl2ZVRoZW1lOiBmdW5jdGlvbih0aGVtZSkge1xuXHRcdFNpdGVBY3Rpb25zLnNldEFjdGl2ZVRoZW1lKHRoZW1lKS5kb25lKCBmdW5jdGlvbiAoKSB7XG5cdFx0XHR0aGlzLmNvbXBsZXRlU3RlcChQYXRocy5ERVNJR05fU1RFUF9TTFVHLCB7dGhlbWVJZDogdGhlbWUuaWR9KTtcblx0XHR9LmJpbmQodGhpcykpO1xuXHR9LFxuXG5cdHNhdmVEZXNpZ25TdGVwOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmNvbXBsZXRlQW5kTmV4dFN0ZXAoUGF0aHMuREVTSUdOX1NURVBfU0xVRywge3RoZW1lSWQ6IFNpdGVTdG9yZS5nZXRBY3RpdmVUaGVtZUlkKCl9KTtcblx0fVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTZXR1cFByb2dyZXNzQWN0aW9uczsiLCJ2YXIgQXBwRGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4uL2Rpc3BhdGNoZXIvYXBwLWRpc3BhdGNoZXInKSxcblx0SlBTQ29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtY29uc3RhbnRzJyksXG5cdFNpdGVTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zaXRlLXN0b3JlJyksXG5cdEZsYXNoQWN0aW9ucyA9IHJlcXVpcmUoJy4vZmxhc2gtYWN0aW9ucy5qcycpLFxuXHRTcGlubmVyQWN0aW9ucyA9IHJlcXVpcmUoJy4vc3Bpbm5lci1hY3Rpb25zLmpzJyksXG5cdFdQQWpheCA9IHJlcXVpcmUoJy4uL3V0aWxzL3dwLWFqYXgnKTtcblxudmFyIFNpdGVBY3Rpb25zID0ge1xuXHRzZXRUaXRsZTogZnVuY3Rpb24odGl0bGUpIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSVRFX1NFVF9USVRMRSxcblx0XHRcdHRpdGxlOiB0aXRsZVxuXHQgICAgfSk7XG5cdH0sXG5cblx0c2V0RGVzY3JpcHRpb246IGZ1bmN0aW9uKGRlc2NyaXB0aW9uKSB7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9TRVRfREVTQ1JJUFRJT04sXG5cdFx0XHRkZXNjcmlwdGlvbjogZGVzY3JpcHRpb25cblx0ICAgIH0pO1xuXHR9LFxuXG5cdHNhdmVUaXRsZUFuZERlc2NyaXB0aW9uOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGl0bGUgPSBTaXRlU3RvcmUuZ2V0VGl0bGUoKTtcblx0XHR2YXIgZGVzY3JpcHRpb24gPSBTaXRlU3RvcmUuZ2V0RGVzY3JpcHRpb24oKTtcblx0XHRcblx0XHRXUEFqYXguXG5cdFx0XHRwb3N0KCBKUFMuc2l0ZV9hY3Rpb25zLnNldF90aXRsZSwgeyB0aXRsZTogdGl0bGUsIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiB9ICkuXG5cdFx0XHRmYWlsKCBmdW5jdGlvbiAoIG1zZyApIHtcblx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKFwiRXJyb3Igc2V0dGluZyB0aXRsZTogXCIrbXNnKTtcblx0XHRcdH0pO1xuXG5cdFx0alF1ZXJ5KCcjd3AtYWRtaW4tYmFyLXNpdGUtbmFtZSAuYWItaXRlbScpLmh0bWwodGl0bGUpO1xuXHRcdC8vIEZsYXNoQWN0aW9ucy5ub3RpY2UoIFwiU2V0IHRpdGxlIHRvICdcIit0aXRsZStcIicgYW5kIGRlc2NyaXB0aW9uIHRvICdcIitkZXNjcmlwdGlvbitcIidcIiApO1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNJVEVfU0FWRV9USVRMRV9BTkRfREVTQ1JJUFRJT04sXG5cdFx0XHR0aXRsZTogdGl0bGVcblx0ICAgIH0pO1xuXG5cdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZCgpLnJlc29sdmUoKTsgLy8gWFhYIEhBQ0tcblx0fSxcblxuXHRfaW5zdGFsbFRoZW1lOiBmdW5jdGlvbiAoIHRoZW1lICkge1xuXHRcdGlmICggISB0aGVtZS5pbnN0YWxsZWQgKSB7XG5cdFx0XHRTcGlubmVyQWN0aW9ucy5zaG93KFwiSW5zdGFsbGluZyAnXCIrdGhlbWUubmFtZStcIidcIik7XG5cdFx0XHRyZXR1cm4gV1BBamF4LlxuXHRcdFx0XHRwb3N0KCBKUFMuc2l0ZV9hY3Rpb25zLmluc3RhbGxfdGhlbWUsIHsgdGhlbWVJZDogdGhlbWUuaWQgfSApLlxuXHRcdFx0XHRkb25lKCBmdW5jdGlvbiAoICkge1xuXHRcdFx0XHRcdHRoZW1lLmluc3RhbGxlZCA9IHRydWU7XG5cdFx0XHRcdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRcdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9JTlNUQUxMX1RIRU1FLFxuXHRcdFx0XHRcdFx0dGhlbWU6IHRoZW1lXG5cdFx0XHRcdCAgICB9KTtcblx0XHRcdFx0fSkuXG5cdFx0XHRcdGZhaWwoIGZ1bmN0aW9uICggbXNnICkge1xuXHRcdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihcIlNlcnZlciBlcnJvciBpbnN0YWxsaW5nIHRoZW1lOiBcIittc2cpO1xuXHRcdFx0XHR9KS5cblx0XHRcdFx0YWx3YXlzKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRTcGlubmVyQWN0aW9ucy5oaWRlKCk7XG5cdFx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCkucmVzb2x2ZSgpO1xuXHRcdH1cblx0fSxcblxuXHRfYWN0aXZhdGVUaGVtZTogZnVuY3Rpb24gKCB0aGVtZSApIHtcblx0XHRXUEFqYXguXG5cdFx0XHRwb3N0KCBKUFMuc2l0ZV9hY3Rpb25zLnNldF90aGVtZSwgeyB0aGVtZUlkOiB0aGVtZS5pZCB9ICkuXG5cdFx0XHRmYWlsKCBmdW5jdGlvbiAoIG1zZyApIHtcblx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKFwiU2VydmVyIGVycm9yIHNldHRpbmcgdGhlbWU6IFwiK21zZyk7XG5cdFx0XHR9KTtcblxuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNJVEVfU0VUX1RIRU1FLFxuXHRcdFx0dGhlbWVJZDogdGhlbWUuaWRcblx0ICAgIH0pO1xuXHR9LFxuXG5cdHNldEFjdGl2ZVRoZW1lOiBmdW5jdGlvbiggdGhlbWUgKSB7XG5cblx0XHR0aGlzLl9pbnN0YWxsVGhlbWUodGhlbWUpLlxuXHRcdFx0ZG9uZSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMuX2FjdGl2YXRlVGhlbWUodGhlbWUpO1xuXHRcdFx0fS5iaW5kKHRoaXMpKTtcblxuXHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoKS5yZXNvbHZlKCk7IC8vIFhYWCBIQUNLXG5cdH0sXG5cblx0c2V0TGF5b3V0OiBmdW5jdGlvbiggbGF5b3V0TmFtZSApIHtcblx0XG5cdFx0V1BBamF4LlxuXHRcdFx0cG9zdCggSlBTLnNpdGVfYWN0aW9ucy5zZXRfbGF5b3V0LCB7IGxheW91dDogbGF5b3V0TmFtZSB9ICkuXG5cdFx0XHRmYWlsKCBmdW5jdGlvbiAobXNnICkge1xuXHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IoXCJFcnJvciBzZXR0aW5nIGxheW91dDogXCIrbXNnKTtcblx0XHRcdH0pO1xuXG5cdFx0Ly8gRmxhc2hBY3Rpb25zLm5vdGljZShcIlNldCBsYXlvdXQgdG8gXCIrbGF5b3V0TmFtZSk7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9TRVRfTEFZT1VULFxuXHRcdFx0bGF5b3V0OiBsYXlvdXROYW1lXG5cdCAgICB9KTtcblxuXHQgICAgcmV0dXJuIGpRdWVyeS5EZWZlcnJlZCgpLnJlc29sdmUoKTsgLy8gWFhYIEhBQ0tcblx0fSxcblxuXHRjb25maWd1cmVKZXRwYWNrOiBmdW5jdGlvbihyZXR1cm5fdG9fc3RlcCkge1xuXHRcdFNwaW5uZXJBY3Rpb25zLnNob3coXCJDb25uZWN0aW5nIHRvIFdvcmRQcmVzcy5jb21cIik7XG5cdFx0cmV0dXJuIFdQQWpheC5cblx0XHRcdHBvc3QoIEpQUy5zaXRlX2FjdGlvbnMuY29uZmlndXJlX2pldHBhY2ssIHsgcmV0dXJuX3RvX3N0ZXA6IHJldHVybl90b19zdGVwIH0gKS5cblx0XHRcdGRvbmUoIGZ1bmN0aW9uICggZGF0YSApIHtcblx0XHRcdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNJVEVfSkVUUEFDS19DT05GSUdVUkVEXG5cdFx0XHQgICAgfSk7XG5cblx0XHRcdFx0aWYgKCBkYXRhLm5leHQgKSB7XG5cdFx0XHRcdFx0d2luZG93LmxvY2F0aW9uLnJlcGxhY2UoZGF0YS5uZXh0KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRTcGlubmVyQWN0aW9ucy5oaWRlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pLlxuXHRcdFx0ZmFpbCggZnVuY3Rpb24gKCBtc2cgKSB7XG5cdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihcIkVycm9yIGVuYWJsaW5nIEpldHBhY2s6IFwiK21zZyk7XG5cdFx0XHRcdFNwaW5uZXJBY3Rpb25zLmhpZGUoKTtcblx0XHRcdH0pO1xuXHR9LFxuXG5cdGFjdGl2YXRlSmV0cGFja01vZHVsZTogZnVuY3Rpb24obW9kdWxlX3NsdWcpIHtcblxuXHRcdFdQQWpheC5cblx0XHRcdHBvc3QoIEpQUy5zaXRlX2FjdGlvbnMuYWN0aXZhdGVfamV0cGFja19tb2R1bGVzLCB7IG1vZHVsZXM6IFttb2R1bGVfc2x1Z10gfSkuXG5cdFx0XHRmYWlsKCBmdW5jdGlvbiAoIG1zZyApIHtcblx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKFwiRXJyb3IgYWN0aXZhdGluZyBKZXRwYWNrIG1vZHVsZTogXCIrbXNnKTtcblx0XHRcdH0pO1xuXG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9KRVRQQUNLX01PRFVMRV9FTkFCTEVELFxuXHRcdFx0c2x1ZzogbW9kdWxlX3NsdWdcblx0ICAgIH0pO1xuXG5cdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZCgpLnJlc29sdmUoKTsgLy8gWFhYIEhBQ0tcblx0fSxcblxuXHRkZWFjdGl2YXRlSmV0cGFja01vZHVsZTogZnVuY3Rpb24obW9kdWxlX3NsdWcpIHtcblxuXHRcdFdQQWpheC5cblx0XHRcdHBvc3QoIEpQUy5zaXRlX2FjdGlvbnMuZGVhY3RpdmF0ZV9qZXRwYWNrX21vZHVsZXMsIHsgbW9kdWxlczogW21vZHVsZV9zbHVnXSB9KS5cblx0XHRcdGZhaWwoIGZ1bmN0aW9uICggbXNnICkge1xuXHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IoXCJFcnJvciBkZWFjdGl2YXRpbmcgSmV0cGFjayBtb2R1bGU6IFwiK21zZyk7XG5cdFx0XHR9KTtcblxuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNJVEVfSkVUUEFDS19NT0RVTEVfRElTQUJMRUQsXG5cdFx0XHRzbHVnOiBtb2R1bGVfc2x1Z1xuXHQgICAgfSk7XG5cblx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCkucmVzb2x2ZSgpOyAvLyBYWFggSEFDS1xuXHR9LFxuXG5cdGxvYWRBbGxKZXRwYWNrTW9kdWxlczogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCBTaXRlU3RvcmUuZ2V0SmV0cGFja0FkZGl0aW9uYWxNb2R1bGVzKCkubGVuZ3RoID09PSAwICkge1xuXHRcdFx0cmV0dXJuIFdQQWpheC5cblx0XHRcdFx0cG9zdCggSlBTLnNpdGVfYWN0aW9ucy5saXN0X2pldHBhY2tfbW9kdWxlcyApLlxuXHRcdFx0XHRkb25lKCBmdW5jdGlvbiAoIGFsbF9tb2R1bGVzICkge1xuXHRcdFx0XHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0XHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNJVEVfSkVUUEFDS19BRERfTU9EVUxFUyxcblx0XHRcdFx0XHRcdG1vZHVsZXM6IGFsbF9tb2R1bGVzXG5cdFx0XHRcdCAgICB9KTtcblx0XHRcdFx0fSkuXG5cdFx0XHRcdGZhaWwoIGZ1bmN0aW9uICggbXNnICkge1xuXHRcdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihcIkVycm9yIGZldGNoaW5nIGFsbCBKZXRwYWNrIG1vZHVsZXM6IFwiK21zZyk7XG5cdFx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCkucmVzb2x2ZSgpOyAvLyBYWFggSEFDS1xuXHRcdH1cblx0fSxcblxuXHRlbmFibGVKdW1wc3RhcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFdQQWpheC5cblx0XHRcdHBvc3QoIEpQUy5zaXRlX2FjdGlvbnMuYWN0aXZhdGVfamV0cGFja19tb2R1bGVzLCB7IG1vZHVsZXM6IFNpdGVTdG9yZS5nZXRKdW1wc3RhcnRNb2R1bGVTbHVncygpIH0pLlxuXHRcdFx0ZmFpbCggZnVuY3Rpb24gKCBtc2cgKSB7XG5cdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihcIkVycm9yIGFjdGl2YXRpbmcgSmV0cGFjayBtb2R1bGVzOiBcIittc2cpO1xuXHRcdFx0fSk7XG5cblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSVRFX0pFVFBBQ0tfSlVNUFNUQVJUX0VOQUJMRURcblx0ICAgIH0pO1xuXG5cdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZCgpLnJlc29sdmUoKTsgLy8gWFhYIEhBQ0tcblx0fVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTaXRlQWN0aW9uczsiLCJ2YXIgQXBwRGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4uL2Rpc3BhdGNoZXIvYXBwLWRpc3BhdGNoZXInKSxcblx0SlBTQ29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtY29uc3RhbnRzJyk7XG5cbnZhciBTcGlubmVyQWN0aW9ucyA9IHtcblx0c2hvdzogZnVuY3Rpb24obXNnKSB7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0hPV19TUElOTkVSLFxuXHRcdFx0bWVzc2FnZTogbXNnXG5cdFx0fSk7XG5cdH0sXG5cblx0aGlkZTogZnVuY3Rpb24oKSB7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuSElERV9TUElOTkVSLFxuXHRcdH0pO1x0XG5cdH0sXG5cblx0c2hvd0FzeW5jOiBmdW5jdGlvbihtc2cpIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSE9XX0FTWU5DX1NQSU5ORVIsXG5cdFx0XHRtZXNzYWdlOiBtc2dcblx0XHR9KTtcdFx0XG5cdH0sXG5cblx0aGlkZUFzeW5jOiBmdW5jdGlvbigpIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5ISURFX0FTWU5DX1NQSU5ORVJcblx0XHR9KTtcdFx0XHRcblx0fVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTcGlubmVyQWN0aW9uczsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKSxcblx0QnV0dG9uID0gcmVxdWlyZSgnQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9qcy9jb21wb25lbnRzL2J1dHRvbicpLFxuXHRTaXRlU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2l0ZS1zdG9yZScpLFxuXHRXZWxjb21lU2VjdGlvbiA9IHJlcXVpcmUoJy4vd2VsY29tZS1zZWN0aW9uJyk7XG5cbnZhciBTZXR0aW5nc0l0ZW0gPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiU2V0dGluZ3NJdGVtXCIsXG5cdHN0eWxlczoge1xuXHRcdGl0ZW06IHtcblx0XHRcdHBhZGRpbmc6ICcxZW0nLFxuXHRcdFx0bWFyZ2luQm90dG9tOiAnMWVtJyxcblx0XHRcdGxpc3RTdHlsZTogJ25vbmUnLFxuXHRcdFx0YmFja2dyb3VuZDogJyNmNWY1ZjUnLFxuXHRcdFx0Ym9yZGVyOiAnMXB4IHNvbGlkICNkZGQnXG5cdFx0fSxcblxuXHRcdGhlYWRpbmc6IHtcblx0XHRcdG1hcmdpbjogMCxcblx0XHRcdGZvbnRTaXplOiAnMS4yZW0nLFxuXHRcdFx0Zm9udFdlaWdodDogODAwXG5cdFx0fVxuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLml0ZW19LCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImg1XCIsIHtzdHlsZTogdGhpcy5zdHlsZXMuaGVhZGluZ30sIHRoaXMucHJvcHMudGl0bGUpLCBcblx0XHRcdFx0dGhpcy5wcm9wcy5jaGlsZHJlblx0XHRcdFx0XG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbnZhciBBZHZhbmNlZFNldHRpbmdzU3RlcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJBZHZhbmNlZFNldHRpbmdzU3RlcFwiLFxuXG5cdHN0eWxlczoge1xuXHRcdHdyYXBwZXI6IHtcblx0XHRcdG1hcmdpbkxlZnQ6IDBcblx0XHR9XG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChXZWxjb21lU2VjdGlvbiwgbnVsbCwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoNFwiLCBudWxsLCBcIkFkdmFuY2VkIHNldHRpbmdzXCIpLCBcblxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwidWxcIiwge3N0eWxlOiB0aGlzLnN0eWxlcy53cmFwcGVyfSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChTZXR0aW5nc0l0ZW0sIHt0aXRsZTogXCJGaW5lLXR1bmUgeW91ciBzaXRlJ3MgbGF5b3V0IGFuZCBhcHBlYXJhbmNlXCJ9LCBcblx0XHRcdFx0XHRcdFwiQ3VzdG9taXplIHlvdXIgc2l0ZeKAmXMgY29sb3JzLCBmb250cywgc2lkZWJhcnMgYW5kIG90aGVyIHNldHRpbmdzLlwiLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiclwiLCBudWxsKSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2NvbG9yOiBcImJsdWVcIiwgaHJlZjogSlBTLnN0ZXBzLmFkdmFuY2VkX3NldHRpbmdzLmN1c3RvbWl6ZV91cmx9LCBcIkN1c3RvbWl6ZSBteSBzaXRlXCIpLCBcblx0XHRcdFx0XHRcdFwiwqDCoFwiLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7Y29sb3I6IFwiYmx1ZVwiLCBocmVmOiBKUFMuc3RlcHMuYWR2YW5jZWRfc2V0dGluZ3MudGhlbWVzX3VybH0sIFwiQnJvd3NlIGFuZCBhZGQgdGhlbWVzXCIpXG5cdFx0XHRcdFx0KSwgXG5cblx0XHRcdFx0XHQoU2l0ZVN0b3JlLmdldExheW91dCgpID09ICdibG9nJyB8fCBTaXRlU3RvcmUuZ2V0TGF5b3V0KCkgPT0gJ3NpdGUtYmxvZycpICYmIChcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2V0dGluZ3NJdGVtLCB7dGl0bGU6IFwiQ3JlYXRlIHlvdXIgZmlyc3QgYmxvZyBwb3N0XCJ9LCBcblx0XHRcdFx0XHRcdFx0XCJBbiBlcGljIGVzc2F5IG9yIGp1c3QgXFxcIkhlbGxvIFdvcmxkIVxcXCJcIiwgXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiclwiLCBudWxsKSwgXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7Y29sb3I6IFwiYmx1ZVwiLCBocmVmOiBKUFMuc3RlcHMuYWR2YW5jZWRfc2V0dGluZ3MubmV3X2Jsb2dfcG9zdF91cmx9LCBcIldyaXRlIGEgbmV3IGJsb2cgcG9zdFwiKSwgXG5cdFx0XHRcdFx0XHRcdFwiwqDCoFwiLCBcblx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtjb2xvcjogXCJibHVlXCIsIGhyZWY6IEpQUy5zdGVwcy5hZHZhbmNlZF9zZXR0aW5ncy5tYW5hZ2VfcG9zdHNfdXJsfSwgXCJNYW5hZ2UgcG9zdHNcIilcblx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHQpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFNldHRpbmdzSXRlbSwge3RpdGxlOiBcIkNyZWF0ZSBhIHN0YXRpYyBwYWdlXCJ9LCBcblx0XHRcdFx0XHRcdFwiXFxcIkFib3V0IG1lXFxcIiwgXFxcIk91ciBTZXJ2aWNlc1xcXCIgb3IgYW55dGhpbmcgZWxzZSB5b3UgY2FuIGltYWdpbmUuXCIsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImJyXCIsIG51bGwpLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7Y29sb3I6IFwiYmx1ZVwiLCBocmVmOiBKUFMuc3RlcHMuYWR2YW5jZWRfc2V0dGluZ3MubmV3X3BhZ2VfdXJsfSwgXCJDcmVhdGUgYSBuZXcgcGFnZVwiKSwgXG5cdFx0XHRcdFx0XHRcIsKgwqBcIiwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2NvbG9yOiBcImJsdWVcIiwgaHJlZjogSlBTLnN0ZXBzLmFkdmFuY2VkX3NldHRpbmdzLm1hbmFnZV9wYWdlc191cmx9LCBcIk1hbmFnZSBwYWdlc1wiKVxuXHRcdFx0XHRcdCksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2V0dGluZ3NJdGVtLCB7dGl0bGU6IFwiRXh0ZW5kIHlvdXIgc2l0ZSdzIGZ1bmN0aW9uYWxpdHlcIn0sIFxuXHRcdFx0XHRcdFx0XCJXb3JkUHJlc3Mgb2ZmZXJzIHRob3VzYW5kcyBvZiBwbHVnaW5zIGZyb20gSmV0cGFjayBhbmQgdGhlIFdvcmRQcmVzcyBjb21tdW5pdHkuXCIsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImJyXCIsIG51bGwpLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7Y29sb3I6IFwiYmx1ZVwiLCBocmVmOiBKUFMuc3RlcHMuYWR2YW5jZWRfc2V0dGluZ3MucGx1Z2luc191cmx9LCBcIk1hbmFnZSBwbHVnaW5zXCIpLCBcblx0XHRcdFx0XHRcdFwiwqDCoFwiLCBcblx0XHRcdFx0XHRcdFNpdGVTdG9yZS5nZXRKZXRwYWNrQ29uZmlndXJlZCgpICYmIChcblx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtjb2xvcjogXCJibHVlXCIsIGhyZWY6IEpQUy5zdGVwcy5hZHZhbmNlZF9zZXR0aW5ncy5qZXRwYWNrX21vZHVsZXNfdXJsfSwgXCJNYW5hZ2UgSmV0cGFjayBtb2R1bGVzXCIpXG5cdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0KSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChTZXR0aW5nc0l0ZW0sIHt0aXRsZTogXCJMZWFybiBtb3JlXCJ9LCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtocmVmOiBcImh0dHBzOi8vY29kZXgud29yZHByZXNzLm9yZy9GaXJzdF9TdGVwc19XaXRoX1dvcmRQcmVzc1wifSwgXCJGaXJzdCBTdGVwcyB3aXRoIFdvcmRQcmVzc1wiKSwgXCIgLSBhbiBvbmxpbmUgZ3VpZGUgZnJvbSB0aGUgY3JlYXRvcnMgb2YgV29yZFByZXNzXCJcblx0XHRcdFx0XHQpXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBBZHZhbmNlZFNldHRpbmdzU3RlcDsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKTtcblxudmFyIENvbnRlbnRCb3ggPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiQ29udGVudEJveFwiLFxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwid2VsY29tZV9fY29udGVudF9ib3hcIn0sIFxuXHRcdFx0XHR0aGlzLnByb3BzLmNoaWxkcmVuLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcImNsZWFyXCJ9KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbnRlbnRCb3g7IiwiLy8gc2ltcGxlIG5vdGljb24gd3JhcHBlclxuXG52YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKTtcblxudmFyIERhc2hpY29uID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIkRhc2hpY29uXCIsXG5cdFxuXHRwcm9wVHlwZXM6IHtcblx0XHRuYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG5cdFx0c3R5bGU6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdFx0b25Nb3VzZU92ZXI6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHRcdG9uTW91c2VPdXQ6IFJlYWN0LlByb3BUeXBlcy5mdW5jXG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuXHRcdFx0XHRzdHlsZTogdGhpcy5wcm9wcy5zdHlsZSwgXG5cdFx0XHRcdG9uTW91c2VPdmVyOiB0aGlzLnByb3BzLm9uTW91c2VPdmVyLCBcblx0XHRcdFx0b25Nb3VzZU91dDogdGhpcy5wcm9wcy5vbk1vdXNlT3V0LCBcblx0XHRcdFx0Y2xhc3NOYW1lOiBcImRhc2hpY29ucyBkYXNoaWNvbnMtXCIrdGhpcy5wcm9wcy5uYW1lfSwgXG5cblx0XHRcdFx0dGhpcy5wcm9wcy5jaGlsZHJlblxuXHRcdFx0XHRcblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBEYXNoaWNvbjsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKSxcblx0U2l0ZVN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NpdGUtc3RvcmUnKSxcblx0U2V0dXBQcm9ncmVzc0FjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3NldHVwLXByb2dyZXNzLWFjdGlvbnMnKSxcblx0VG9vbHRpcCA9IHJlcXVpcmUoJy4vdG9vbHRpcCcpLFxuXHRXZWxjb21lU2VjdGlvbiA9IHJlcXVpcmUoJy4vd2VsY29tZS1zZWN0aW9uJyksXG5cdENvbnRlbnRCb3ggPSByZXF1aXJlKCcuL2NvbnRlbnQtYm94JyksXG5cdHN0eWxlcyA9IHJlcXVpcmUoJy4uL3N0eWxlcycpLFxuXHRCdXR0b24gPSByZXF1aXJlKCdAYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvYnV0dG9uJyk7XG5cbmZ1bmN0aW9uIGdldFRoZW1lU3RhdGUoKSB7XG5cdHJldHVybiB7IHRoZW1lczogU2l0ZVN0b3JlLmdldFRoZW1lcygpLCBzaXRlX3RpdGxlOiBTaXRlU3RvcmUuZ2V0VGl0bGUoKSB9O1xufVxuXG52YXIgRGVzaWduU3RlcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJEZXNpZ25TdGVwXCIsXG5cblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdFx0dGhpcy5fbG9hZFBvcHVsYXJUaGVtZXMoKTtcblx0fSxcblxuXHRjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0U2l0ZVN0b3JlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0fSxcblxuXHRfb25DaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICAgIFx0dGhpcy5zZXRTdGF0ZShnZXRUaGVtZVN0YXRlKCkpO1xuICBcdH0sXG5cblx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW5pdGlhbFN0YXRlID0gZ2V0VGhlbWVTdGF0ZSgpO1xuXHRcdGluaXRpYWxTdGF0ZS5wb3B1bGFyVGhlbWVzID0gW107XG5cdFx0cmV0dXJuIGluaXRpYWxTdGF0ZTtcblx0fSxcblxuXHRoYW5kbGVBY3RpdmF0ZVRoZW1lOiBmdW5jdGlvbiAoIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFxuXHRcdHRoaXMuc2V0U3RhdGUoe3Rvb2x0aXBUaGVtZTogbnVsbCwgdG9vbHRpcFBvc2l0aW9uOiBudWxsfSk7XG5cblx0XHR2YXIgJGVsID0galF1ZXJ5KGUuY3VycmVudFRhcmdldCksXG5cdFx0XHR0aGVtZUlkID0gJGVsLmRhdGEoJ3RoZW1lLWlkJyksXG5cdFx0XHR0aGVtZSA9IHRoaXMuZmluZFRoZW1lKHRoZW1lSWQpLFxuXHRcdFx0bmVlZHNJbnN0YWxsYXRpb24gPSAhdGhlbWUuaW5zdGFsbGVkO1xuXG5cdFx0dmFyIHJlc3BvbnNlID0gU2V0dXBQcm9ncmVzc0FjdGlvbnMuc2V0QWN0aXZlVGhlbWUodGhlbWUpO1xuXG5cdFx0Ly8gaWYgd2UganVzdCBpbnN0YWxsZWQgYSB0aGVtZSBmcm9tIHRoZSBcInBvcHVsYXJcIiBsaXN0LCBsZXQncyBsb2FkIHNvbWUgbmV3XG5cdFx0Ly8gc2VsZWN0aW9ucyBvbmNlIGluc3RhbGxhdGlvbiBpcyBmaW5pc2hlZFxuXHRcdGlmICggbmVlZHNJbnN0YWxsYXRpb24gKSB7XG5cdFx0XHRyZXNwb25zZS5kb25lKCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHRoaXMuX2xvYWRQb3B1bGFyVGhlbWVzKCk7XG5cdFx0XHR9LmJpbmQodGhpcykpO1xuXHRcdH1cblx0fSxcblxuXHRmaW5kVGhlbWU6IGZ1bmN0aW9uICggdGhlbWVJZCApXHR7XG5cdFx0cmV0dXJuIF8uZmluZFdoZXJlKHRoaXMuc3RhdGUudGhlbWVzLCB7aWQ6IHRoZW1lSWR9KSB8fCBfLmZpbmRXaGVyZSh0aGlzLnN0YXRlLnBvcHVsYXJUaGVtZXMsIHtpZDogdGhlbWVJZH0pO1xuXHR9LFxuXG5cdGhhbmRsZUNvbnRpbnVlOiBmdW5jdGlvbiAoIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFNldHVwUHJvZ3Jlc3NBY3Rpb25zLnNhdmVEZXNpZ25TdGVwKCk7XG5cdH0sXG5cblx0aGFuZGxlU2hvd1Rvb2x0aXA6IGZ1bmN0aW9uICggZSApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHR2YXIgJGVsICAgPSBqUXVlcnkoZS5jdXJyZW50VGFyZ2V0KSxcblx0XHRcdHRoZW1lID0gdGhpcy5maW5kVGhlbWUoJGVsLmRhdGEoJ3RoZW1lLWlkJykpLFxuXHRcdFx0b2Zmc2V0ID0gJGVsLnBvc2l0aW9uKCksXG5cdFx0XHR3aWR0aCA9ICRlbC5vdXRlcldpZHRoKCksXG5cdFx0XHRoZWlnaHQgPSAkZWwub3V0ZXJIZWlnaHQoKTtcblx0XHRcblx0XHQvL2Rlc2NyaWJlcyBhIHBvc2l0aW9uIGluIHRoZSBtaWRkbGUgb2YgdGhlIHJpZ2h0IHNpZGVcblx0XHR2YXIgcG9zaXRpb24gPSB7XG5cdFx0XHR0b3A6IG9mZnNldC50b3AgKyAoaGVpZ2h0LzIpLFxuXHRcdFx0bGVmdDogb2Zmc2V0LmxlZnQgKyB3aWR0aFxuXHRcdH07XG5cblx0XHR0aGlzLnNldFN0YXRlKHt0b29sdGlwVGhlbWU6IHRoZW1lLCB0b29sdGlwUG9zaXRpb246IHBvc2l0aW9ufSk7XG5cdH0sXG5cblx0aGFuZGxlSGlkZVRvb2x0aXA6IGZ1bmN0aW9uICggZSApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0dGhpcy5zZXRTdGF0ZSh7dG9vbHRpcFRoZW1lOiBudWxsLCB0b29sdGlwUG9zaXRpb246IG51bGx9KTtcblx0fSxcblxuXHRoYW5kbGVHZXRQb3B1bGFyVGhlbWVzOiBmdW5jdGlvbiAoIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHRoaXMuX2xvYWRQb3B1bGFyVGhlbWVzKCk7XHRcdFxuXHR9LFxuXG5cdF9sb2FkUG9wdWxhclRoZW1lczogZnVuY3Rpb24oKSB7XG5cdFx0U2l0ZVN0b3JlLmdldFBvcHVsYXJUaGVtZXMoKS5kb25lKGZ1bmN0aW9uKHRoZW1lcykge1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7cG9wdWxhclRoZW1lczogdGhlbWVzfSk7XG5cdFx0fS5iaW5kKHRoaXMpKTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoV2VsY29tZVNlY3Rpb24sIHtpZDogXCJ3ZWxjb21lX19kZXNpZ25cIn0sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJMZXQncyBsYXVuY2ggXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJlbVwiLCBudWxsLCB0aGlzLnN0YXRlLnNpdGVfdGl0bGUpKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoNFwiLCBudWxsLCBcIlBpY2sgYSBkZXNpZ25cIiksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7c3R5bGU6IHN0eWxlcy5jb250ZW50fSwgXCJBIFxcXCJ0aGVtZVxcXCIgY29udHJvbHMgdGhlIGRlc2lnbiBvZiB5b3VyIHNpdGUgLSBjb2xvdXJzLCBmb250cyBhbmQgbGF5b3V0LlwiKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtzdHlsZTogc3R5bGVzLmNvbnRlbnR9LCBcIkNsaWNrIGFueSB0aGVtZSBiZWxvdyB0byBjaG9vc2UgaXQgZm9yIHlvdXIgc2l0ZS4gQW5kIGRvbid0IHdvcnJ5IC0geW91IGNhbiBlYXNpbHkgY2hhbmdlIHRoaXMgbGF0ZXIuXCIpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJzdWJtaXRcIn0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7Y29sb3I6IFwiYmx1ZVwiLCBvbkNsaWNrOiB0aGlzLmhhbmRsZUNvbnRpbnVlfSwgXCJOZXh0IFN0ZXAg4oaSXCIpXG5cdFx0XHRcdCksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRlbnRCb3gsIG51bGwsIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCBcIkluc3RhbGxlZCB0aGVtZXNcIiksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ0aGVtZS1icm93c2VyIHJlbmRlcmVkXCJ9LCBcblx0XHRcdFx0XHRcdHRoaXMuX3JlbmRlclRoZW1lTGlzdCgpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpLCBcblx0XHRcdFx0XG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGVudEJveCwgbnVsbCwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiUG9wdWxhciB0aGVtZXMgZnJvbSBXb3JkUHJlc3Mub3JnXCIsIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7Y29sb3I6IFwiYmx1ZVwiLCBzdHlsZToge2Zsb2F0OiAncmlnaHQnfSwgb25DbGljazogdGhpcy5oYW5kbGVHZXRQb3B1bGFyVGhlbWVzfSwgXCJMb2FkIG1vcmUgdGhlbWVzXCIpXG5cdFx0XHRcdFx0KSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcInRoZW1lLWJyb3dzZXIgcmVuZGVyZWRcIn0sIFxuXHRcdFx0XHRcdFx0dGhpcy5fcmVuZGVyUG9wdWxhclRoZW1lTGlzdCgpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpLCBcblxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZToge2NsZWFyOiAnYm90aCd9fSksIFxuXHRcdFx0XHR0aGlzLnN0YXRlLnRvb2x0aXBUaGVtZSAmJiB0aGlzLl9yZW5kZXJUb29sdGlwKClcblx0XHRcdClcblx0XHQpO1xuXHR9LFxuXG5cdF9yZW5kZXJUb29sdGlwOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGhlbWUgPSB0aGlzLnN0YXRlLnRvb2x0aXBUaGVtZSwgcG9zaXRpb24gPSB0aGlzLnN0YXRlLnRvb2x0aXBQb3NpdGlvbjtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChUb29sdGlwLCB7XG5cdFx0XHRcdGxlZnQ6IHBvc2l0aW9uLmxlZnQsIFxuXHRcdFx0XHR0b3A6IHBvc2l0aW9uLnRvcCwgXG5cdFx0XHRcdHdpZHRoOiAzMjAsIFxuXHRcdFx0XHR0aXRsZTogdGhlbWUubmFtZX0sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCBudWxsLCBcIkJ5IFwiLCB0aGVtZS5hdXRob3IpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7X19odG1sOiBfLnVuZXNjYXBlKHRoZW1lLmRlc2NyaXB0aW9uKX19KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0X3JlbmRlclRoZW1lOiBmdW5jdGlvbih0aGVtZSkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtrZXk6IHRoZW1lLmlkLCBcblx0XHRcdFx0Y2xhc3NOYW1lOiAndGhlbWUnICsgKHRoZW1lLmFjdGl2ZSA/ICcgYWN0aXZlJyA6ICcnKSwgXG5cdFx0XHRcdFwiZGF0YS10aGVtZS1pZFwiOiB0aGVtZS5pZCwgXG5cdFx0XHRcdG9uQ2xpY2s6IHRoaXMuaGFuZGxlQWN0aXZhdGVUaGVtZSwgXG5cdFx0XHRcdG9uTW91c2VFbnRlcjogdGhpcy5oYW5kbGVTaG93VG9vbHRpcCwgXG5cdFx0XHRcdG9uTW91c2VMZWF2ZTogdGhpcy5oYW5kbGVIaWRlVG9vbHRpcCwgXG5cdFx0XHRcdFwiYXJpYS1kZXNjcmliZWRieVwiOiB0aGVtZS5pZCsnLWFjdGlvbiAnK3RoZW1lLmlkKyctbmFtZSd9LCBcblxuXHRcdFx0XHR0aGVtZS5zY3JlZW5zaG90ID8gKFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ0aGVtZS1zY3JlZW5zaG90XCJ9LCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwge3NyYzogdGhlbWUuc2NyZWVuc2hvdCwgYWx0OiBcIlwifSlcblx0XHRcdFx0XHQpXG5cdFx0XHRcdCkgOiAoXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcInRoZW1lLXNjcmVlbnNob3QgYmxhbmtcIn0pXG5cdFx0XHRcdCksIFxuXHRcdFx0XHQhdGhlbWUuYWN0aXZlICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7Y2xhc3NOYW1lOiBcIm1vcmUtZGV0YWlsc1wifSwgdGhlbWUuaW5zdGFsbGVkID8gJ0NsaWNrIHRvIHNlbGVjdCcgOiAnQ2xpY2sgdG8gaW5zdGFsbCcpKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCB7Y2xhc3NOYW1lOiBcInRoZW1lLW5hbWVcIiwgaWQ6IHRoZW1lLmlkKyctbmFtZSd9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCB0aGVtZS5hY3RpdmUgPyAnU2VsZWN0ZWQ6JyA6ICcnKSwgXCIgXCIsIHRoZW1lLm5hbWUpXG5cdFx0XHQpXG5cdFx0KTtcblx0fSxcblxuXHRfcmVuZGVyUG9wdWxhclRoZW1lTGlzdDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuc3RhdGUucG9wdWxhclRoZW1lcy5tYXAoIHRoaXMuX3JlbmRlclRoZW1lICk7XG5cdH0sXG5cblx0X3JlbmRlclRoZW1lTGlzdDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuc3RhdGUudGhlbWVzLm1hcCggdGhpcy5fcmVuZGVyVGhlbWUgKTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gRGVzaWduU3RlcDsiLCIvKipcbiAqIERpc3BsYXlzIGEgZmxhc2ggbWVzc2FnZSwgaWYgc2V0LlxuICogSlNPTiBzdHJ1Y3R1cmU6XG4gKiB7IHNldmVyaXR5OiAnbm90aWNlJywgbWVzc2FnZTogJ015IG1lc3NhZ2UnIH1cbiAqXG4gKiBWYWxpZCBzZXZlcml0aWVzOlxuICogLSBlcnJvciwgbm90aWNlXG4gKi9cblxudmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCksXG5cdEZsYXNoU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvZmxhc2gtc3RvcmUnKTtcblxuZnVuY3Rpb24gZ2V0Rmxhc2hTdGF0ZSgpIHtcblx0cmV0dXJuIEZsYXNoU3RvcmUuZ2V0Rmxhc2goKTtcbn1cblxudmFyIEZsYXNoID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIkZsYXNoXCIsXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRGbGFzaFN0b3JlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0fSxcblxuXHRjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0Rmxhc2hTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0X29uQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICBcdHRoaXMuc2V0U3RhdGUoZ2V0Rmxhc2hTdGF0ZSgpKTtcbiAgXHR9LFxuXG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGdldEZsYXNoU3RhdGUoKTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggdGhpcy5zdGF0ZS5tZXNzYWdlICkge1xuXHRcdFx0cmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IHRoaXMuc3RhdGUuc2V2ZXJpdHkgKyAnIHVwZGF0ZWQnfSwgdGhpcy5zdGF0ZS5tZXNzYWdlKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gRmxhc2g7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCksXG5cdFNldHVwUHJvZ3Jlc3NTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zZXR1cC1wcm9ncmVzcy1zdG9yZScpLFxuXHRTZXR1cFByb2dyZXNzQWN0aW9ucyA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvc2V0dXAtcHJvZ3Jlc3MtYWN0aW9ucycpLFxuXHRCdXR0b24gPSByZXF1aXJlKCdAYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvYnV0dG9uJyksXG5cdFJhZGl1bSA9IHJlcXVpcmUoJ3JhZGl1bScpO1xuXG5mdW5jdGlvbiBnZXRTZXR1cFN0YXRlKCkge1xuXHRyZXR1cm4ge307XG59XG5cbnZhciBHZXRTdGFydGVkID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIkdldFN0YXJ0ZWRcIixcblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNldHVwUHJvZ3Jlc3NTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNldHVwUHJvZ3Jlc3NTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0X29uQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICBcdHRoaXMuc2V0U3RhdGUoZ2V0U2V0dXBTdGF0ZSgpKTtcbiAgXHR9LFxuXG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGdldFNldHVwU3RhdGUoKTtcblx0fSxcblxuXHRoYW5kbGVHZXRTdGFydGVkOiBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFNldHVwUHJvZ3Jlc3NBY3Rpb25zLmdldFN0YXJ0ZWQoKTtcblx0fSxcblxuXHRfaXNJRTg6IGZ1bmN0aW9uKCkge1xuXHRcdGpRdWVyeSgnaHRtbCcpLmlzKCcuaWU4Jyk7XG5cdH0sXG5cblx0c3R5bGVzOiB7XG5cdFx0d3JhcHBlcjoge1xuXHRcdFx0dGV4dEFsaWduOiAnY2VudGVyJyxcblx0XHRcdGJhY2tncm91bmRJbWFnZTogJ3VybCgnK0pQUy5iYXNlX3VybCsnL2ltZy9qcHMtd2VsY29tZS5wbmcpJyxcblx0XHRcdGJhY2tncm91bmRSZXBlYXQ6ICduby1yZXBlYXQnLFxuXHRcdFx0YmFja2dyb3VuZFBvc2l0aW9uOiAnY2VudGVyIGJvdHRvbScsXG5cdFx0XHRiYWNrZ3JvdW5kU2l6ZTogJzUyMHB4IGF1dG8nLFxuXHRcdFx0cGFkZGluZ0JvdHRvbTogMjAwLFxuXHRcdFx0J0BtZWRpYSAobWF4LXdpZHRoOiA3ODJweCknOiB7XG5cdFx0XHRcdGJhY2tncm91bmRJbWFnZTogJ25vbmUnLFxuXHRcdFx0XHRwYWRkaW5nQm90dG9tOiAzMFxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0d3JhcHBlcklFODoge1xuXHRcdFx0YmFja2dyb3VuZEltYWdlOiAnbm9uZSdcblx0XHR9LFxuXHRcdHN1YmhlYWQ6IHtcblx0XHRcdG1hcmdpbjogJzAgMCAzMHB4Jyxcblx0XHRcdGNvbG9yOiAnIzY2NicsXG5cdFx0XHRmb250U2l6ZTogMTgsXG5cdFx0XHRsaW5lSGVpZ2h0OiAxLjYsXG5cdFx0XHR0ZXh0QWxpZ246ICdjZW50ZXInLFxuXHRcdFx0J0BtZWRpYSAobWF4LXdpZHRoOiA2MDBweCknOiB7XG5cdFx0XHRcdG1hcmdpbkJvdHRvbTogMTUsXG5cdFx0XHRcdGZvbnRTaXplOiAxNVxuXHRcdFx0fSxcblx0XHRcdCdAbWVkaWEgKG1heC13aWR0aDogMzIwcHgpJzoge1xuXHRcdFx0XHRmb250U2l6ZTogMTNcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7a2V5OiBcIndlbGNvbWUtaW50cm9cIiwgc3R5bGU6IFt0aGlzLnN0eWxlcy53cmFwcGVyLCB0aGlzLl9pc0lFOCgpICYmIHRoaXMuc3R5bGVzLndyYXBwZXJJRThdfSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCBcIllvdSdyZSBhbG1vc3QgZG9uZSFcIiksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLnN1YmhlYWR9LCBcblx0XHRcdFx0XHRcIlRha2UgdGhlc2Ugc3RlcHMgdG8gc3VwZXJjaGFyZ2UgeW91ciBXb3JkUHJlc3Mgc2l0ZS5cIlxuXHRcdFx0XHQpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwgbnVsbCwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtjb2xvcjogXCJncmVlblwiLCBzaXplOiBcImJpZ1wiLCB0aGVtZTogXCJqZXRwYWNrXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlR2V0U3RhcnRlZH0sIFwiR2V0IFN0YXJ0ZWQg4oaSXCIpXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSYWRpdW0oR2V0U3RhcnRlZCk7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCksXG5cdFNpdGVTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zaXRlLXN0b3JlJyksXG5cdFNpdGVBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zaXRlLWFjdGlvbnMnKSxcblx0UGF0aHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1wYXRocycpO1xuXG5mdW5jdGlvbiBnZXRKZXRwYWNrUHJvZ3Jlc3MoKSB7XG5cdHJldHVybiB7IFxuXHRcdGpldHBhY2tDb25maWd1cmVkOiBTaXRlU3RvcmUuZ2V0SmV0cGFja0NvbmZpZ3VyZWQoKVxuXHR9O1xufVxuXG52YXIgSmV0cGFja0p1bXBzdGFydE1lbnUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiSmV0cGFja0p1bXBzdGFydE1lbnVcIixcblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0X29uQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICBcdHRoaXMuc2V0U3RhdGUoZ2V0SmV0cGFja1Byb2dyZXNzKCkpO1xuICBcdH0sXG5cbiAgXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBnZXRKZXRwYWNrUHJvZ3Jlc3MoKTtcblx0fSxcblxuXHRoYW5kbGVDbGlja0Nvbm5lY3Q6IGZ1bmN0aW9uKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0Y29uc29sZS5sb2coXCJjbGlja2VkXCIpO1xuXHRcdFNpdGVBY3Rpb25zLmNvbmZpZ3VyZUpldHBhY2soUGF0aHMuSkVUUEFDS19NT0RVTEVTX1NURVBfU0xVRyk7XG5cdH0sXG5cblx0c3R5bGU6IHtcblx0XHRjb2xvcjogJ2JsYWNrJyxcblx0XHRmb250U2l6ZTogMTIsXG5cdFx0bWFyZ2luTGVmdDogMjBcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZTogdGhpcy5zdHlsZX0sIFxuXHRcdFx0XHR0aGlzLnN0YXRlLmpldHBhY2tDb25maWd1cmVkID8gKFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbClcblx0XHRcdFx0KSA6IChcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0XCJCb29zdCB0cmFmZmljLCBlbmhhbmNlIHNlY3VyaXR5LCBhbmQgaW1wcm92ZSBwZXJmb3JtYW5jZSB3aXRoIGEgY29ubmVjdGlvbiB0byBXb3JkUHJlc3MuY29tXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiclwiLCBudWxsKSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7Y2xhc3NOYW1lOiBcImJ1dHRvbiBidXR0b24tcHJpbWFyeSBidXR0b24tbGFyZ2VcIiwgaHJlZjogXCIjXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ2xpY2tDb25uZWN0fSwgXCJDb25uZWN0IHRvIFdvcmRQcmVzcy5jb21cIilcblx0XHRcdFx0XHQpXG5cdFx0XHRcdClcblx0XHRcdFx0XG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gSmV0cGFja0p1bXBzdGFydE1lbnU7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCksXG5cdFJhZGl1bSA9IHJlcXVpcmUoJ3JhZGl1bScpLFxuXHRTa2lwQnV0dG9uID0gcmVxdWlyZSgnLi9za2lwLWJ1dHRvbicpLFxuXHRTaXRlU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2l0ZS1zdG9yZScpLFxuXHRTaXRlQWN0aW9ucyA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvc2l0ZS1hY3Rpb25zJyksXG5cdFBhdGhzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtcGF0aHMnKSwgXG5cdENvbnRlbnRCb3ggPSByZXF1aXJlKCcuL2NvbnRlbnQtYm94JyksXG5cdHN0eWxlcyA9IHJlcXVpcmUoJy4uL3N0eWxlcycpLFxuXHRXZWxjb21lU2VjdGlvbiA9IHJlcXVpcmUoJy4vd2VsY29tZS1zZWN0aW9uJyksXG5cdFNldHVwUHJvZ3Jlc3NBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zZXR1cC1wcm9ncmVzcy1hY3Rpb25zJyksXG5cdFNwaW5uZXJTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zcGlubmVyLXN0b3JlJyksXG5cdEJ1dHRvbiA9IHJlcXVpcmUoJ0BhdXRvbWF0dGljL2RvcHMtcmVhY3QvanMvY29tcG9uZW50cy9idXR0b24nKTtcblxuXG52YXIgSmV0cGFja0xvZ28gPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiSmV0cGFja0xvZ29cIixcblx0c3R5bGVzOiB7XG5cdFx0amV0cGFja0xvZ29XcmFwcGVyOiB7XG5cdFx0XHRkaXNwbGF5OiAnYmxvY2snLFxuXHRcdFx0dGV4dEFsaWduOiAnY2VudGVyJyxcblx0XHRcdGhlaWdodDogNzAsXG5cdFx0XHRjb2xvcjogJ3doaXRlJyxcblx0XHRcdG1hcmdpbkxlZnQ6IDUsXG5cdFx0XHRiYWNrZ3JvdW5kQ29sb3I6ICcjODFhODQ0J1xuXHRcdH0sXG5cdFx0amV0cGFja0xvZ286IHtcblx0XHRcdGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuXHRcdFx0cG9zaXRpb246ICdyZWxhdGl2ZScsXG5cdFx0XHR3aWR0aDogMjE0LFxuXHRcdFx0bWFyZ2luUmlnaHQ6IDYsXG5cdFx0XHRiYWNrZ3JvdW5kOiAndXJsKCcrSlBTLmJhc2VfdXJsKycvLi4vamV0cGFjay9pbWFnZXMvamV0cGFjay1sb2dvLnBuZykgY2VudGVyIGNlbnRlciBuby1yZXBlYXQnLFxuXHRcdFx0YmFja2dyb3VuZFNpemU6ICcxODNweCBhdXRvJyxcblx0XHRcdGNvbG9yOiAnI2ZmZicsXG5cdFx0XHRmb250V2VpZ2h0OiAnbm9ybWFsJ1xuXHRcdH0sXG5cdFx0amV0cGFja0xvZ29OYW1lOiB7XG5cdFx0XHR0ZXh0SW5kZW50OiAtOTk5OSxcblx0XHRcdHZpc2liaWxpdHk6ICdoaWRkZW4nXG5cdFx0fVxuXG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge3N0eWxlOiBbdGhpcy5zdHlsZXMuamV0cGFja0xvZ29XcmFwcGVyLCB0aGlzLnByb3BzLnN0eWxlXX0sIFxuXHRcdFx0XHRcIlBvd2VyZWQgYnlcIiwgUmVhY3QuY3JlYXRlRWxlbWVudChcImJyXCIsIG51bGwpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge2hyZWY6IFwiL3dwLWFkbWluL2FkbWluLnBocD9wYWdlPWpldHBhY2tcIiwgdGl0bGU6IFwiSmV0cGFja1wiLCBzdHlsZTogdGhpcy5zdHlsZXMuamV0cGFja0xvZ299LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLmpldHBhY2tMb2dvTmFtZX0sIFwiSmV0cGFja1wiKVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbkpldHBhY2tMb2dvID0gUmFkaXVtKEpldHBhY2tMb2dvKTtcblxuZnVuY3Rpb24gZ2V0SmV0cGFja1N0YXRlKCkge1xuXHRyZXR1cm4ge1xuXHRcdHNpdGVfdGl0bGU6IFNpdGVTdG9yZS5nZXRUaXRsZSgpLFxuXHRcdGpldHBhY2tDb25maWd1cmVkOiBTaXRlU3RvcmUuZ2V0SmV0cGFja0NvbmZpZ3VyZWQoKSxcblx0XHRqdW1wc3RhcnRFbmFibGVkOiBTaXRlU3RvcmUuZ2V0SmV0cGFja0p1bXBzdGFydEVuYWJsZWQoKSxcblx0XHRtb2R1bGVzRW5hYmxlZDogU2l0ZVN0b3JlLmdldEFjdGl2ZU1vZHVsZVNsdWdzKClcdFxuXHR9O1xufVxuXG52YXIgSmV0cGFja0p1bXBzdGFydCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJKZXRwYWNrSnVtcHN0YXJ0XCIsXG5cblx0c3R5bGVzOiB7XG5cdFx0amV0cGFja0xvZ286IHtcblx0XHRcdGZsb2F0OiAncmlnaHQnLFxuXHRcdFx0J0BtZWRpYSAobWF4LXdpZHRoOiA3ODJweCknOiB7XG5cdFx0XHRcdGZsb2F0OiAnbm9uZScsXG5cdFx0XHRcdG1hcmdpbkxlZnQ6IDBcblx0XHRcdH1cblx0XHR9LFxuXHRcdGp1bXBzdGFydE1vZHVsZToge1xuXHRcdFx0ZmxvYXQ6ICdsZWZ0Jyxcblx0XHRcdHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuXHRcdFx0aGVpZ2h0OiAxNjAsXG5cdFx0XHRwYWRkaW5nOiAxMCxcblx0XHRcdCdAbWVkaWEgKG1pbi13aWR0aDogNzgycHgpJzoge1xuXHRcdFx0XHR3aWR0aDogJzMzJSdcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0anVtcHN0YXJ0TW9kdWxlRGVzYzoge1xuXHRcdFx0ZGlzcGxheTogJ2Jsb2NrJyxcblx0XHRcdG1hcmdpblRvcDogNSxcblx0XHRcdGxpbmVIZWlnaHQ6ICcxNTAlJ1xuXHRcdH0sXG5cblx0XHRvdmVybGF5Q29udGVudDoge1xuXHRcdFx0bWFyZ2luVG9wOiAxMCxcblx0XHRcdG1hcmdpbkJvdHRvbTogMTBcblx0XHR9LFxuXG5cdFx0b3ZlcmxheUJlZm9yZToge1xuXHRcdFx0ZGlzcGxheTogJ2Jsb2NrJyxcblx0XHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuXHRcdFx0d2lkdGg6ICcxMDAlJyxcblx0XHRcdGhlaWdodDogJzEwMCUnLFxuXHRcdFx0YmFja2dyb3VuZENvbG9yOiAncmdiYSgwLDAsMCwwLjIpJ1xuXHRcdH0sXG5cblx0XHRvdmVybGF5OiB7XG5cdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcblx0XHRcdHRvcDogMCxcblx0XHRcdGxlZnQ6IDAsXG5cdFx0XHR3aWR0aDogJzEwMCUnLFxuXHRcdFx0aGVpZ2h0OiAnMTAwJScsXG5cdFx0XHRtaW5IZWlnaHQ6ICcxMDAlJyxcblx0XHRcdHpJbmRleDogNzAwXG5cdFx0fSxcblxuXHRcdG92ZXJsYXlCb2R5OiB7XG5cdFx0XHR0ZXh0QWxpZ246ICdjZW50ZXInLFxuXHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdFx0XHRib3JkZXJSYWRpdXM6IDMsXG5cdFx0XHRib3hTaGFkb3c6ICcwIDAgNHB4IHJnYmEoMCwwLDAsMC4yKScsXG5cdFx0XHR6SW5kZXg6IDgwMCxcblx0XHRcdGxlZnQ6ICc1MCUnLFxuXHRcdCAgXHR0b3A6ICc1MCUnLFxuXHRcdCAgXHRwYWRkaW5nOiAxNSxcblx0XHQgIFx0dHJhbnNmb3JtOiAndHJhbnNsYXRlKC01MCUsLTUwJSknLFxuXHRcdFx0d2lkdGg6ICc3MCUnLFxuXHRcdFx0YmFja2dyb3VuZENvbG9yOiAnI2ZmZidcblx0XHR9LFxuXG5cdFx0bW9yZUxpbms6IHtcblx0XHRcdHRleHRBbGlnbjogJ2NlbnRlcidcblx0XHR9XG5cdH0sXG5cblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0X29uQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICBcdHRoaXMuc2V0U3RhdGUoZ2V0SmV0cGFja1N0YXRlKCkpO1xuICBcdH0sXG5cblx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgc3RhdGUgPSBnZXRKZXRwYWNrU3RhdGUoKTtcblx0XHRzdGF0ZS5zaG93TW9yZU1vZHVsZXMgPSBmYWxzZTtcblx0XHRyZXR1cm4gc3RhdGU7XG5cdH0sXG5cblx0aGFuZGxlSmV0cGFja0Nvbm5lY3Q6IGZ1bmN0aW9uIChlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0U2l0ZUFjdGlvbnMuY29uZmlndXJlSmV0cGFjayhQYXRocy5KRVRQQUNLX01PRFVMRVNfU1RFUF9TTFVHKTtcblx0fSxcblxuXHRoYW5kbGVDaGFuZ2VNb2R1bGVTdGF0dXM6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyICR0YXJnZXQgPSBqUXVlcnkoZS5jdXJyZW50VGFyZ2V0KSxcblx0XHRcdG1vZHVsZV9zbHVnID0gJHRhcmdldC5kYXRhKCdtb2R1bGUtc2x1ZycpO1xuXG5cdFx0aWYgKCBTaXRlU3RvcmUuaXNKZXRwYWNrTW9kdWxlRW5hYmxlZChtb2R1bGVfc2x1ZykgKSB7XG5cdFx0XHRTaXRlQWN0aW9ucy5kZWFjdGl2YXRlSmV0cGFja01vZHVsZShtb2R1bGVfc2x1Zyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdFNpdGVBY3Rpb25zLmFjdGl2YXRlSmV0cGFja01vZHVsZShtb2R1bGVfc2x1Zyk7XG5cdFx0fVxuXHR9LFxuXG5cdGhhbmRsZUVuYWJsZUFsbE1vZHVsZXM6IGZ1bmN0aW9uKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0U2l0ZUFjdGlvbnMuZW5hYmxlSnVtcHN0YXJ0KCk7XG5cdH0sXG5cblx0aGFuZGxlTmV4dDogZnVuY3Rpb24gKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRTZXR1cFByb2dyZXNzQWN0aW9ucy5jb21wbGV0ZUFuZE5leHRTdGVwKFBhdGhzLkpFVFBBQ0tfTU9EVUxFU19TVEVQX1NMVUcpO1xuXHR9LFxuXG5cdGhhbmRsZVNob3dNb3JlTW9kdWxlczogZnVuY3Rpb24gKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XG5cdFx0U2l0ZUFjdGlvbnMubG9hZEFsbEpldHBhY2tNb2R1bGVzKCkuZG9uZShmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuc2V0U3RhdGUoe3Nob3dNb3JlTW9kdWxlczogdHJ1ZX0pO1xuXHRcdH0uYmluZCh0aGlzKSk7XG5cdH0sXG5cblx0aGFuZGxlU2hvd0Zld2VyTW9kdWxlczogZnVuY3Rpb24gKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0dGhpcy5zZXRTdGF0ZSh7c2hvd01vcmVNb2R1bGVzOiBmYWxzZX0pO1xuXHR9LFxuXG5cdF9yZW5kZXJNb2R1bGU6IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRcdHZhciBpc0FjdGl2ZSA9IFNpdGVTdG9yZS5pc0pldHBhY2tNb2R1bGVFbmFibGVkKG1vZHVsZS5zbHVnKTtcblx0XHR2YXIgbW9kdWxlSWQgPSAnanAtbW9kdWxlLScrbW9kdWxlLnNsdWc7XG5cdFx0XG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2tleTogJ21vZHVsZXMtJyttb2R1bGUuc2x1Zywgc3R5bGU6IHRoaXMuc3R5bGVzLmp1bXBzdGFydE1vZHVsZX0sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge2lkOiBtb2R1bGVJZCwgdHlwZTogXCJjaGVja2JveFwiLCBjaGVja2VkOiBpc0FjdGl2ZSwgXCJkYXRhLW1vZHVsZS1zbHVnXCI6IG1vZHVsZS5zbHVnLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2VNb2R1bGVTdGF0dXN9KSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCB7aHRtbEZvcjogbW9kdWxlSWR9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3Ryb25nXCIsIG51bGwsIG1vZHVsZS5uYW1lKSksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZTogdGhpcy5zdHlsZXMuanVtcHN0YXJ0TW9kdWxlRGVzY30sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7X19odG1sOiBtb2R1bGUuZGVzY3JpcHRpb259fSksIFxuXHRcdFx0XHRcdGlzQWN0aXZlICYmIG1vZHVsZS5jb25maWd1cmVfdXJsICYmIChcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge3RhcmdldDogXCJfY29uZmlndXJlXCIsIGhyZWY6IG1vZHVsZS5jb25maWd1cmVfdXJsfSwgXCJjb25maWd1cmVcIikpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBtb2R1bGVPdmVybGF5QmVmb3JlLCBtb2R1bGVPdmVybGF5LCBtb2R1bGVPdmVybGF5Qm9keTtcblxuXG5cdFx0aWYgKCAhIHRoaXMuc3RhdGUuamV0cGFja0NvbmZpZ3VyZWQgJiYgIVNwaW5uZXJTdG9yZS5zaG93aW5nKCkgKSB7XG5cdFx0XHRtb2R1bGVPdmVybGF5QmVmb3JlID0gKFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZTogdGhpcy5zdHlsZXMub3ZlcmxheUJlZm9yZX0pXG5cdFx0XHQpO1xuXHRcdFx0bW9kdWxlT3ZlcmxheSA9IChcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLm92ZXJsYXl9KVxuXHRcdFx0KTtcblx0XHRcdG1vZHVsZU92ZXJsYXlCb2R5ID0gKFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZTogdGhpcy5zdHlsZXMub3ZlcmxheUJvZHl9LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLm92ZXJsYXlDb250ZW50fSwgXCJUaGVzZSBtb2R1bGVzIHJlcXVpcmUgYSBXb3JkUHJlc3MuY29tIGFjY291bnQgLSBpdCdzIGZyZWUhXCIpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2NvbG9yOiBcImdyZWVuXCIsIHNpemU6IFwiYmlnXCIsIHRoZW1lOiBcImpldHBhY2tcIiwgb25DbGljazogdGhpcy5oYW5kbGVKZXRwYWNrQ29ubmVjdH0sIFwiQ29ubmVjdCB0byBXb3JkUHJlc3MuY29tXCIpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLm92ZXJsYXlDb250ZW50fSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFNraXBCdXR0b24sIG51bGwpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHZhciBtb2R1bGVEZXNjcmlwdGlvbnMgPSBTaXRlU3RvcmUuZ2V0SnVtcHN0YXJ0TW9kdWxlcygpLm1hcCh0aGlzLl9yZW5kZXJNb2R1bGUpO1xuXHRcdHZhciBtb3JlTW9kdWxlRGVzY3JpcHRpb25zID0gU2l0ZVN0b3JlLmdldEpldHBhY2tBZGRpdGlvbmFsTW9kdWxlcygpLm1hcCh0aGlzLl9yZW5kZXJNb2R1bGUpO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoV2VsY29tZVNlY3Rpb24sIG51bGwsIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJMZXQncyBsYXVuY2ggXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJlbVwiLCBudWxsLCB0aGlzLnN0YXRlLnNpdGVfdGl0bGUpKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoNFwiLCBudWxsLCBcIkVuYWJsZSBKZXRwYWNrIGZlYXR1cmVzXCIpLCBcblx0XHRcdFx0dGhpcy5zdGF0ZS5qZXRwYWNrQ29uZmlndXJlZCAmJiAoXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoSmV0cGFja0xvZ28sIHtzdHlsZTogdGhpcy5zdHlsZXMuamV0cGFja0xvZ299KSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7c3R5bGU6IHN0eWxlcy5jb250ZW50fSwgXCJDb25ncmF0dWxhdGlvbnMhIFlvdSd2ZSBlbmFibGVkIEpldHBhY2sgYW5kIHVubG9ja2VkIGRvemVucyBvZiBwb3dlcmZ1bCBmZWF0dXJlcy5cIiksIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge3N0eWxlOiBzdHlsZXMuY29udGVudH0sIFwiQ2hlY2sgdGhlIGJveGVzIGJlbG93IHRvIGVuYWJsZSBvdXIgbW9zdCBwb3B1bGFyIGZlYXR1cmVzLlwiKSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwiY2xlYXJcIn0pXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcIndlbGNvbWVfX2Nvbm5lY3RcIn0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge3N0eWxlOiB7cG9zaXRpb246ICdyZWxhdGl2ZSd9fSwgXG5cdFx0XHRcdFx0XHRtb2R1bGVPdmVybGF5QmVmb3JlLCBcblx0XHRcdFx0XHRcdG1vZHVsZU92ZXJsYXksIFxuXHRcdFx0XHRcdFx0bW9kdWxlT3ZlcmxheUJvZHksIFxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHR0aGlzLnN0YXRlLmpldHBhY2tDb25maWd1cmVkICYmIChcblx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcInN1Ym1pdFwifSwgXG5cdFx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtzdHlsZToge2Zsb2F0OiAncmlnaHQnfSwgY29sb3I6IFwiYmx1ZVwiLCBvbkNsaWNrOiB0aGlzLmhhbmRsZU5leHR9LCBcIk5leHQgU3RlcCDihpJcIiksIFxuXHRcdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJjbGVhclwifSlcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0KSwgXG5cblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGVudEJveCwgbnVsbCwgXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCBcIlBvcHVsYXIgZmVhdHVyZXNcIiArICcgJyArXG5cdFx0XHRcdFx0XHRcdFx0XCLCoMKgXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7ZGlzYWJsZWQ6IHRoaXMuc3RhdGUuanVtcHN0YXJ0RW5hYmxlZCwgY29sb3I6IFwiYmx1ZVwiLCBvbkNsaWNrOiB0aGlzLmhhbmRsZUVuYWJsZUFsbE1vZHVsZXN9LCB0aGlzLnN0YXRlLmp1bXBzdGFydEVuYWJsZWQgPyAnRW5hYmxlZCBBbGwnIDogJ0VuYWJsZSBhbGwgKHJlY29tbWVuZGVkKScpXG5cdFx0XHRcdFx0XHRcdCksIFxuXHRcdFx0XHRcdFx0XHRtb2R1bGVEZXNjcmlwdGlvbnNcblx0XHRcdFx0XHRcdCksIFxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHR0aGlzLnN0YXRlLnNob3dNb3JlTW9kdWxlcyA/IChcblx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge3N0eWxlOiB0aGlzLnN0eWxlcy5tb3JlTGlua30sIFxuXHRcdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtocmVmOiBcIiNcIiwgb25DbGljazogdGhpcy5oYW5kbGVTaG93RmV3ZXJNb2R1bGVzfSwgXCJoaWRlIGFkZGl0aW9uYWwgZmVhdHVyZXNcIilcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0KSA6IChcblx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge3N0eWxlOiB0aGlzLnN0eWxlcy5tb3JlTGlua30sIFxuXHRcdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtocmVmOiBcIiNcIiwgb25DbGljazogdGhpcy5oYW5kbGVTaG93TW9yZU1vZHVsZXN9LCBcInNob3cgYWRkaXRpb25hbCBmZWF0dXJlc1wiKVxuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHQpLCBcblxuXHRcdFx0XHRcdFx0dGhpcy5zdGF0ZS5zaG93TW9yZU1vZHVsZXMgJiYgKFxuXHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRlbnRCb3gsIG51bGwsIFxuXHRcdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCBcIkFkZGl0aW9uYWwgbW9kdWxlc1wiKSwgXG5cdFx0XHRcdFx0XHRcdFx0bW9yZU1vZHVsZURlc2NyaXB0aW9uc1xuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmFkaXVtKEpldHBhY2tKdW1wc3RhcnQpOyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpLFxuXHRTaXRlU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2l0ZS1zdG9yZScpLFxuXHRCdXR0b24gPSByZXF1aXJlKCdAYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvYnV0dG9uJyksXG5cdFdlbGNvbWVTZWN0aW9uID0gcmVxdWlyZSgnLi93ZWxjb21lLXNlY3Rpb24nKSxcblx0c3R5bGVzID0gcmVxdWlyZSgnLi4vc3R5bGVzJyksXG5cdFNldHVwUHJvZ3Jlc3NBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zZXR1cC1wcm9ncmVzcy1hY3Rpb25zJyk7XG5cbmZ1bmN0aW9uIGdldFNpdGVMYXlvdXRTdGF0ZSgpIHtcblx0cmV0dXJuIHtcblx0XHRzaXRlX3RpdGxlOiBTaXRlU3RvcmUuZ2V0VGl0bGUoKSxcblx0XHRsYXlvdXQ6IFNpdGVTdG9yZS5nZXRMYXlvdXQoKVxuXHR9O1xufVxuXG52YXIgTGF5b3V0U3RlcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJMYXlvdXRTdGVwXCIsXG5cblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0X29uQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICBcdHRoaXMuc2V0U3RhdGUoZ2V0U2l0ZUxheW91dFN0YXRlKCkpO1xuICBcdH0sXG5cblx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZ2V0U2l0ZUxheW91dFN0YXRlKCk7XG5cdH0sXG5cblx0aGFuZGxlU2V0TGF5b3V0OiBmdW5jdGlvbiggZSApIHtcblx0XHR0aGlzLnNldFN0YXRlKHsgbGF5b3V0OiBqUXVlcnkoZS5jdXJyZW50VGFyZ2V0KS52YWwoKSB9KTtcblx0fSxcblxuXHRoYW5kbGVTdWJtaXQ6IGZ1bmN0aW9uKCBlICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRTZXR1cFByb2dyZXNzQWN0aW9ucy5zdWJtaXRMYXlvdXRTdGVwKHRoaXMuc3RhdGUubGF5b3V0KTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFdlbGNvbWVTZWN0aW9uLCB7aWQ6IFwid2VsY29tZV9fbGF5b3V0XCJ9LCBcblx0XHRcdFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJMZXQncyBsYXVuY2ggXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJlbVwiLCBudWxsLCB0aGlzLnN0YXRlLnNpdGVfdGl0bGUpKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoNFwiLCBudWxsLCBcIlNlbGVjdCBhIExheW91dFwiKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtzdHlsZTogc3R5bGVzLmNvbnRlbnR9LCBcIldvcmRQcmVzcyBjYW4gYmUgYSBibG9nLCBhIHdlYiBzaXRlIHdpdGggYSBoaWVyYXJjaHkgb2Ygc3RhdGljIHBhZ2VzLCBvciBhIGNvbWJpbmF0aW9uIG9mIHRoZSB0d28uXCIpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImZvcm1cIiwge29uU3VibWl0OiB0aGlzLmhhbmRsZVN1Ym1pdH0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7dHlwZTogXCJyYWRpb1wiLCBuYW1lOiBcInNpdGVfbGF5b3V0XCIsIHZhbHVlOiBcIndlYnNpdGVcIiwgY2hlY2tlZDogdGhpcy5zdGF0ZS5sYXlvdXQgPT09ICd3ZWJzaXRlJywgb25DaGFuZ2U6IHRoaXMuaGFuZGxlU2V0TGF5b3V0fSksIFwiIFN0YXRpYyBXZWJzaXRlXCIsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJkZXNjcmlwdGlvblwifSwgXCJBIHdlYiBzaXRlIHdpdGggYSBoaWVyYXJjaHkgb2YgcGFnZXNcIilcblx0XHRcdFx0XHQpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7dHlwZTogXCJyYWRpb1wiLCBuYW1lOiBcInNpdGVfbGF5b3V0XCIsIHZhbHVlOiBcInNpdGUtYmxvZ1wiLCBjaGVja2VkOiB0aGlzLnN0YXRlLmxheW91dCA9PT0gJ3NpdGUtYmxvZycsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVNldExheW91dH0pLCBcIiBTdGF0aWMgV2Vic2l0ZSB3aXRoIGEgYmxvZ1wiLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwiZGVzY3JpcHRpb25cIn0sIFwiQSB3ZWIgc2l0ZSB3aXRoIHBhZ2VzIHRoYXQgYWxzbyBoYXMgYSBibG9nIG9yIG5ld3Mgc2VjdGlvblwiKVxuXHRcdFx0XHRcdCksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiclwiLCBudWxsKSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImxhYmVsXCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHt0eXBlOiBcInJhZGlvXCIsIG5hbWU6IFwic2l0ZV9sYXlvdXRcIiwgdmFsdWU6IFwiYmxvZ1wiLCBjaGVja2VkOiB0aGlzLnN0YXRlLmxheW91dCA9PT0gJ2Jsb2cnLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVTZXRMYXlvdXR9KSwgXCIgSnVzdCBhIGJsb2dcIiwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcImRlc2NyaXB0aW9uXCJ9LCBcIkEgd2ViIHNpdGUgdGhhdCB3aWxsIGNvbnN0YW50bHkgc2hvdyBuZXcgY29udGVudCAoYXJ0aWNsZXMsIHBob3RvcywgdmlkZW9zLCBldGMuKVwiKVxuXHRcdFx0XHRcdCksIFxuXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJzdWJtaXRcIn0sIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtjb2xvcjogXCJibHVlXCJ9LCBcIk5leHQgU3RlcCDihpJcIilcblx0XHRcdFx0XHQpXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBMYXlvdXRTdGVwOyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpLFxuXHRTaXRlQWN0aW9ucyA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvc2l0ZS1hY3Rpb25zJyksXG5cdFNpdGVTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zaXRlLXN0b3JlJyksXG5cdFdlbGNvbWVTZWN0aW9uID0gcmVxdWlyZSgnLi93ZWxjb21lLXNlY3Rpb24nKSxcblx0c3R5bGVzID0gcmVxdWlyZSgnLi4vc3R5bGVzJyksXG5cdEJ1dHRvbiA9IHJlcXVpcmUoJ0BhdXRvbWF0dGljL2RvcHMtcmVhY3QvanMvY29tcG9uZW50cy9idXR0b24nKSxcblx0U2V0dXBQcm9ncmVzc0FjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3NldHVwLXByb2dyZXNzLWFjdGlvbnMnKTtcblxuZnVuY3Rpb24gZ2V0U2l0ZVRpdGxlU3RhdGUoKSB7XG5cdHJldHVybiB7XG5cdFx0dGl0bGU6IFNpdGVTdG9yZS5nZXRUaXRsZSgpLFxuXHRcdGRlc2NyaXB0aW9uOiBTaXRlU3RvcmUuZ2V0RGVzY3JpcHRpb24oKVxuXHR9O1xufVxuXG52YXIgU2l0ZVRpdGxlU3RlcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJTaXRlVGl0bGVTdGVwXCIsXG5cblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0X29uQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICBcdHRoaXMuc2V0U3RhdGUoZ2V0U2l0ZVRpdGxlU3RhdGUoKSk7XG4gIFx0fSxcblxuXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBnZXRTaXRlVGl0bGVTdGF0ZSgpO1xuXHR9LFxuXG5cdGhhbmRsZUNoYW5nZVRpdGxlOiBmdW5jdGlvbihlKSB7XG5cdFx0U2l0ZUFjdGlvbnMuc2V0VGl0bGUoZS5jdXJyZW50VGFyZ2V0LnZhbHVlKTtcblx0fSxcblxuXHRoYW5kbGVDaGFuZ2VEZXNjcmlwdGlvbjogZnVuY3Rpb24oZSkge1xuXHRcdFNpdGVBY3Rpb25zLnNldERlc2NyaXB0aW9uKGUuY3VycmVudFRhcmdldC52YWx1ZSk7XG5cdH0sXG5cblx0aGFuZGxlU3VibWl0OiBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFNldHVwUHJvZ3Jlc3NBY3Rpb25zLnN1Ym1pdFRpdGxlU3RlcCgpO1xuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIChcblxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChXZWxjb21lU2VjdGlvbiwge2lkOiBcIndlbGNvbWVfX3NpdGUtdGl0bGVcIn0sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJMZXQncyBsYXVuY2ggeW91ciBuZXcgd2Vic2l0ZVwiKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoNFwiLCBudWxsLCBcIkVudGVyIGEgVGl0bGUgYW5kIERlc2NyaXB0aW9uXCIpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge3N0eWxlOiBzdHlsZXMuY29udGVudH0sIFxuXHRcdFx0XHRcdFwiTWFrZSB5b3VyIHNpdGUgc3RhbmQgb3V0IHdpdGggYSBjYXRjaHkgbmFtZS5cIlxuXHRcdFx0XHQpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImZvcm1cIiwge29uU3VibWl0OiB0aGlzLmhhbmRsZVN1Ym1pdH0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiLCB7Y2xhc3NOYW1lOiBcImZvcm0tdGFibGVcIn0sIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInRib2R5XCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwidHJcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInRoXCIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCB7aHRtbEZvcjogXCJzaXRlX3RpdGxlXCJ9LCBcIlNpdGUgVGl0bGVcIikpLCBcblx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwidGRcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge3R5cGU6IFwidGV4dFwiLCBuYW1lOiBcInNpdGVfdGl0bGVcIiwgaWQ6IFwic2l0ZS10aXRsZVwiLCBhdXRvQ29tcGxldGU6IFwib2ZmXCIsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZVRpdGxlLCB2YWx1ZTogdGhpcy5zdGF0ZS50aXRsZSwgXG5cdFx0XHRcdFx0ICAgICAgIHBsYWNlaG9sZGVyOiBcIlNpdGUgVGl0bGUgKHRoaXMgY2FuIGJlIGNoYW5nZWQgbGF0ZXIpXCIsIHJlcXVpcmVkOiB0cnVlfSksIFxuXHRcdFx0XHRcdCAgICAgICBcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcImRlc2NyaXB0aW9uXCJ9LCBcIlRoZSBuYW1lIG9mIHlvdXIgc2l0ZS4gVGhpcyB0aXRsZSBhcHBlYXJzIGF0IHRoZSB0b3Agb2YgcGFnZXMgYW5kIGluIHNlYXJjaCByZXN1bHRzLlwiKVxuXHRcdFx0XHRcdCAgICAgICBcdFx0KVxuXHRcdFx0XHRcdCAgICAgIFx0KSwgXG5cdFx0XHRcdFx0ICAgICAgXHRSZWFjdC5jcmVhdGVFbGVtZW50KFwidHJcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInRoXCIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCB7aHRtbEZvcjogXCJzaXRlX2Rlc2NyaXB0aW9uXCJ9LCBcIlNpdGUgRGVzY3JpcHRpb25cIikpLCBcblx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwidGRcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge3R5cGU6IFwidGV4dFwiLCBuYW1lOiBcInNpdGVfZGVzY3JpcHRpb25cIiwgaWQ6IFwic2l0ZS1kZXNjcmlwdGlvblwiLCBhdXRvQ29tcGxldGU6IFwib2ZmXCIsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZURlc2NyaXB0aW9uLCB2YWx1ZTogdGhpcy5zdGF0ZS5kZXNjcmlwdGlvbiwgXG5cdFx0XHRcdFx0ICAgICAgIHBsYWNlaG9sZGVyOiBcIlNpdGUgRGVzY3JpcHRpb25cIiwgcmVxdWlyZWQ6IHRydWV9KSwgXG5cdFx0XHRcdFx0ICAgICAgIFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwiZGVzY3JpcHRpb25cIn0sIFwiQSBtb3R0byBvciB0YWdsaW5lLiBUaGlzIGFwcGVhcnMgYmVsb3cgdGhlIHRpdGxlIG9uIHlvdXIgc2l0ZSwgYW5kIG5leHQgdG8gdGhlIHRpdGxlIGluIHNlYXJjaCByZXN1bHRzLiBUcnkgdG8gYmUgYnJpZWYgYW5kIGRlc2NyaXB0aXZlLCBlLmcuIFxcXCJZb3VyIG9ubGluZSBiYWl0IGFuZCB0YWNrbGUgc3RvcmVcXFwiXCIpXG5cdFx0XHRcdFx0ICAgICAgIFx0XHQpXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHQpLCBcblxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwic3VibWl0XCJ9LCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7Y29sb3I6IFwiYmx1ZVwifSwgXCJOZXh0IFN0ZXAg4oaSXCIpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU2l0ZVRpdGxlU3RlcDsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKSxcblx0U2V0dXBQcm9ncmVzc1N0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NldHVwLXByb2dyZXNzLXN0b3JlJyksXG5cdFNldHVwUHJvZ3Jlc3NBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zZXR1cC1wcm9ncmVzcy1hY3Rpb25zJyk7XG5cbmZ1bmN0aW9uIGdldFNldHVwUHJvZ3Jlc3MoKSB7XG5cdHJldHVybiB7XG5cdFx0Y29tcGxldGVkOiBTZXR1cFByb2dyZXNzU3RvcmUuZ2V0Q3VycmVudFN0ZXAoKS5jb21wbGV0ZWRcblx0fTtcbn1cblxudmFyIFNraXBCdXR0b24gPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiU2tpcEJ1dHRvblwiLFxuXG5cdHN0eWxlOiB7XG5cdFx0Y29sb3I6ICcjYmJiJyxcblx0XHRmb250U2l6ZTogJzkwJScsXG5cdFx0bWFyZ2luTGVmdDogMjAsXG5cdFx0Ym9yZGVyQm90dG9tOiAnMXB4IGRvdHRlZCAjYmJiJ1xuXHR9LFxuXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTZXR1cFByb2dyZXNzU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTZXR1cFByb2dyZXNzU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdF9vbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgXHR0aGlzLnNldFN0YXRlKGdldFNldHVwUHJvZ3Jlc3MoKSk7XG4gIFx0fSxcblxuICBcdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGdldFNldHVwUHJvZ3Jlc3MoKTtcblx0fSxcblxuXHRoYW5kbGVTa2lwOiBmdW5jdGlvbiAoZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRTZXR1cFByb2dyZXNzQWN0aW9ucy5za2lwU3RlcCgpO1xuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGNvbXBsZXRlZCA9ICh0aGlzLnN0YXRlLmNvbXBsZXRlZCk7XG5cdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7c3R5bGU6IHRoaXMuc3R5bGUsIGhyZWY6IFwiI1wiLCBvbkNsaWNrOiB0aGlzLmhhbmRsZVNraXB9LCBcIk5vdCBub3dcIikpO1xuXHRcdH1cblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU2tpcEJ1dHRvbjsiLCJcbnZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpO1xuXG52YXIgVG9vbHRpcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJUb29sdGlwXCIsXG5cdHByb3BUeXBlczoge1xuXHRcdGxlZnQ6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCwgIC8vIGUuZy4gNjAwXG5cdFx0dG9wOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsICAgLy9lLmcuIDE1N1xuXHRcdHdpZHRoOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsIC8vZS5nLiAzMjBcblx0XHR0aXRsZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLCAgLy8gZS5nLiBEaXN0cmFjdGlvbi1GcmVlIFdyaXRpbmdcblx0fSxcblxuXHRoYW5kbGVEaXNtaXNzOiBmdW5jdGlvbiAoIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHR9LFxuXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fcmVjb21wdXRlUG9zaXRpb24oKTtcblx0fSxcblxuXHRjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fcmVjb21wdXRlUG9zaXRpb24oKTtcblx0fSxcblxuXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0cmVhbFRvcDogdGhpcy5wcm9wcy50b3Bcblx0XHR9O1xuXHR9LFxuXG5cdF9yZWNvbXB1dGVQb3NpdGlvbjogZnVuY3Rpb24gKCkge1xuXHRcdHZhciAkd3JhcHBlciA9IGpRdWVyeShSZWFjdC5maW5kRE9NTm9kZSh0aGlzLnJlZnMud3JhcHBlcikpO1xuXG5cdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRyZWFsVG9wOiB0aGlzLnByb3BzLnRvcCAtICgkd3JhcHBlci5vdXRlckhlaWdodCgpLzIpXG5cdFx0fSk7XG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7cmVmOiBcIndyYXBwZXJcIiwgY2xhc3NOYW1lOiBcIndwLXBvaW50ZXIgd3AtcG9pbnRlci1sZWZ0XCIsIHN0eWxlOiB7cG9zaXRpb246ICdhYnNvbHV0ZScsIHdpZHRoOiB0aGlzLnByb3BzLndpZHRoLCB0b3A6IHRoaXMuc3RhdGUucmVhbFRvcCwgbGVmdDogdGhpcy5wcm9wcy5sZWZ0LCB6SW5kZXg6IDk5OTl9fSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ3cC1wb2ludGVyLWNvbnRlbnRcIn0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCB0aGlzLnByb3BzLnRpdGxlKSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwgbnVsbCwgdGhpcy5wcm9wcy5jaGlsZHJlbilcblx0XHRcdFx0KSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ3cC1wb2ludGVyLWFycm93XCJ9LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwid3AtcG9pbnRlci1hcnJvdy1pbm5lclwifSlcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRvb2x0aXA7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCksXG5cdFJhZGl1bSA9IHJlcXVpcmUoJ3JhZGl1bScpLFxuXHRQcm9ncmVzc0JhciA9IHJlcXVpcmUoJ0BhdXRvbWF0dGljL2RvcHMtcmVhY3QvanMvY29tcG9uZW50cy9wcm9ncmVzcy1iYXInKSxcblx0U2V0dXBQcm9ncmVzc0FjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3NldHVwLXByb2dyZXNzLWFjdGlvbnMnKSxcblx0RGFzaGljb24gPSByZXF1aXJlKCcuL2Rhc2hpY29uJyk7XG5cbnZhciBzdGVwU2hhcGUgPSBSZWFjdC5Qcm9wVHlwZXMuc2hhcGUoe1xuXHRuYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG5cdHNsdWc6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmdcbn0pO1xuXG4vKipcbiAqIFRoZSBtZW51IHdoaWNoIGFsbG93cyB0aGUgdXNlciB0byBzd2l0Y2ggc3RlcHNcbiAqKi9cbnZhciBXZWxjb21lTWVudSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJXZWxjb21lTWVudVwiLFxuXHRcblx0cHJvcFR5cGVzOiB7XG5cdFx0Y3VycmVudFN0ZXA6IHN0ZXBTaGFwZS5pc1JlcXVpcmVkLFxuXHRcdGNsaWNrYWJsZTogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdFx0YWxsU3RlcHM6IFJlYWN0LlByb3BUeXBlcy5hcnJheU9mKHN0ZXBTaGFwZSkuaXNSZXF1aXJlZCxcblx0XHRwcm9ncmVzc1BlcmNlbnQ6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxuXHR9LFxuXG5cdGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGNsaWNrYWJsZTogdHJ1ZVxuXHRcdH07XG5cdH0sXG5cblx0c3R5bGVzOiB7XG5cdFx0d3JhcHBlcjoge1xuXHRcdFx0ZmxvYXQ6ICdyaWdodCcsXG5cdFx0XHR3aWR0aDogJzI4JScsXG5cdFx0XHRoZWlnaHQ6ICcxMDAlJyxcblx0XHRcdGJhY2tncm91bmQ6ICcjZmFmYWZhJyxcblx0XHRcdGJvcmRlcjogJzFweCBzb2xpZCAjZWVlJyxcblx0XHR9LFxuXHRcdHRpdGxlOiB7XG5cdFx0XHRtYXJnaW46IDAsXG5cdFx0XHRwYWRkaW5nOiAxMixcblx0XHRcdG92ZXJmbG93OiAnaGlkZGVuJyxcblx0XHRcdGJhY2tncm91bmQ6ICcjNDQ0Jyxcblx0XHRcdGNvbG9yOiAnI2ZmZicsXG5cdFx0XHRmb250U2l6ZTogMTIsXG5cdFx0XHR0ZXh0VHJhbnNmb3JtOiAndXBwZXJjYXNlJ1xuXHRcdH0sXG5cdFx0bGlzdDoge1xuXHRcdFx0bWFyZ2luOiAnMTNweCAxMHB4Jyxcblx0XHRcdGxpc3RTdHlsZTogJ25vbmUnLFxuXHRcdFx0J0BtZWRpYSAobWF4LXdpZHRoOiA2MDBweCknOiB7XG5cdFx0XHRcdG1hcmdpbjogJzVweCA0cHgnXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRtZW51SXRlbToge1xuXHRcdFx0bWFyZ2luQm90dG9tOiA2LFxuXHRcdFx0cG9zaXRpb246ICdyZWxhdGl2ZScsXG5cdFx0XHRjb2xvcjogJyNjY2MnLFxuXHRcdFx0bGluZUhlaWdodDogMS43LFxuXHRcdFx0J0BtZWRpYSAobWF4LXdpZHRoOiA3ODJweCknOiB7XG5cdFx0XHRcdGZvbnRTaXplOiAnc21hbGwnXG5cdFx0XHR9LFxuXHRcdFx0J0BtZWRpYSAobWF4LXdpZHRoOiA2MDBweCknOiB7XG5cdFx0XHRcdGZvbnRTaXplOiAnc21hbGxlcidcblx0XHRcdH1cblx0XHR9LFxuXHRcdG1lbnVJdGVtQ29tcGxldGVkOiB7XG5cdFx0XHRjb2xvcjogJyM0QUI4NjYnXG5cdFx0fSxcblx0XHRpY29uOiB7XG5cdFx0XHRmb250U2l6ZTogMTYsXG5cdFx0XHR0b3A6IDMsXG5cdFx0XHRwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuXHRcdH0sXG5cdFx0bWVudUl0ZW1MaW5rOiB7XG5cdFx0XHRjb2xvcjogJ2luaGVyaXQnLFxuXHRcdFx0Ym9yZGVyQm90dG9tOiAnMXB4IGRhc2hlZCdcblx0XHR9LFxuXHRcdG1lbnVJdGVtQ3VycmVudDoge1xuXHRcdFx0Y29sb3I6ICcjMDA3NEEyJ1xuXHRcdH1cblx0fSxcblxuXHRzZWxlY3RTdGVwOiBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFxuXHRcdHZhciBzbHVnID0galF1ZXJ5KGUuY3VycmVudFRhcmdldCkuZGF0YSgnc3RlcC1zbHVnJyk7XG5cblx0XHRTZXR1cFByb2dyZXNzQWN0aW9ucy5zZXRDdXJyZW50U3RlcChzbHVnKTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIG1lbnVJdGVtcyA9IHRoaXMucHJvcHMuYWxsU3RlcHMubWFwKGZ1bmN0aW9uICggc3RlcCApIHtcblx0XHRcdHZhciB0aXRsZSwgY3VycmVudCwgbWVudVZpZXcsIGljb25OYW1lO1xuXG5cdFx0XHRpZiAoIHRoaXMucHJvcHMuY2xpY2thYmxlICYmIHRoaXMucHJvcHMuY3VycmVudFN0ZXAgKSB7XG5cdFx0XHRcdGN1cnJlbnQgPSAoIHRoaXMucHJvcHMuY3VycmVudFN0ZXAuc2x1ZyA9PSBzdGVwLnNsdWcgKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCAhc3RlcC5zdGF0aWMgJiYgdGhpcy5wcm9wcy5jbGlja2FibGUgKSB7XG5cdFx0XHRcdHRpdGxlID0gUmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge2hyZWY6IFwiI1wiLCBzdHlsZTogdGhpcy5zdHlsZXMubWVudUl0ZW1MaW5rLCBcImRhdGEtc3RlcC1zbHVnXCI6IHN0ZXAuc2x1Zywgb25DbGljazogdGhpcy5zZWxlY3RTdGVwfSwgc3RlcC5uYW1lKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRpdGxlID0gc3RlcC5uYW1lO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHN0ZXAubWVudVZpZXcgJiYgdGhpcy5wcm9wcy5jbGlja2FibGUgKSB7XG5cdFx0XHRcdG1lbnVWaWV3ID0gUmVhY3QuY3JlYXRlRWxlbWVudChzdGVwLm1lbnVWaWV3LCBudWxsKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0aWNvbk5hbWUgPSBzdGVwLmNvbXBsZXRlZCA/ICd5ZXMnIDogJ2Fycm93LXJpZ2h0LWFsdDInO1xuXG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwge2tleTogc3RlcC5zbHVnLCBzdHlsZTogW3RoaXMuc3R5bGVzLm1lbnVJdGVtLCBzdGVwLmNvbXBsZXRlZCAmJiB0aGlzLnN0eWxlcy5tZW51SXRlbUNvbXBsZXRlZCwgY3VycmVudCAmJiB0aGlzLnN0eWxlcy5tZW51SXRlbUN1cnJlbnRdfSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChEYXNoaWNvbiwge3N0eWxlOiB0aGlzLnN0eWxlcy5pY29uLCBuYW1lOiBpY29uTmFtZX0pLCBcblx0XHRcdFx0XHR0aXRsZSwgXCIgXCIsIHN0ZXAuc2tpcHBlZCA/ICcoc2tpcHBlZCknIDogbnVsbCwgXG5cdFx0XHRcdFx0bWVudVZpZXdcblx0XHRcdFx0KVxuXHRcdFx0KTtcblx0XHR9LmJpbmQodGhpcykgKTtcblxuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZTogW3RoaXMuc3R5bGVzLndyYXBwZXIsIHRoaXMucHJvcHMuc3R5bGVdfSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLnRpdGxlfSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge3N0eWxlOiB7ZmxvYXQ6ICdsZWZ0JywgbWFyZ2luUmlnaHQ6IDEwfX0sIFwiWW91ciBQcm9ncmVzc1wiKSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoUHJvZ3Jlc3NCYXIsIHtzdHlsZTogeyBmbG9hdDogJ2xlZnQnfSwgcHJvZ3Jlc3NQZXJjZW50OiB0aGlzLnByb3BzLnByb2dyZXNzUGVyY2VudH0pXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpLCBcblx0XHRcdFx0XG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJvbFwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLmxpc3R9LCBcblx0XHRcdFx0XHRtZW51SXRlbXNcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJhZGl1bShXZWxjb21lTWVudSk7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCk7XG5cbnZhciBXZWxjb21lU2VjdGlvbiA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJXZWxjb21lU2VjdGlvblwiLFxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciAkX18wPSAgdGhpcy5wcm9wcyxvdGhlcj0oZnVuY3Rpb24oc291cmNlLCBleGNsdXNpb24pIHt2YXIgcmVzdCA9IHt9O3ZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O2lmIChzb3VyY2UgPT0gbnVsbCkge3Rocm93IG5ldyBUeXBlRXJyb3IoKTt9Zm9yICh2YXIga2V5IGluIHNvdXJjZSkge2lmIChoYXNPd24uY2FsbChzb3VyY2UsIGtleSkgJiYgIWhhc093bi5jYWxsKGV4Y2x1c2lvbiwga2V5KSkge3Jlc3Rba2V5XSA9IHNvdXJjZVtrZXldO319cmV0dXJuIHJlc3Q7fSkoJF9fMCx7fSk7XG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgUmVhY3QuX19zcHJlYWQoe30sICBvdGhlciwge2NsYXNzTmFtZTogXCJ3ZWxjb21lX19zZWN0aW9uXCJ9KSwgXG5cdFx0XHRcdHRoaXMucHJvcHMuY2hpbGRyZW5cblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBXZWxjb21lU2VjdGlvbjsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKSxcblx0V2VsY29tZU1lbnUgPSByZXF1aXJlKCcuL3dlbGNvbWUtbWVudScpLFxuXHRTZXR1cFByb2dyZXNzU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2V0dXAtcHJvZ3Jlc3Mtc3RvcmUnKSxcblx0UmVzZXQgPSByZXF1aXJlKCdAYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvcmVzZXQnKSxcblx0U2V0dXBQcm9ncmVzc0FjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3NldHVwLXByb2dyZXNzLWFjdGlvbnMnKSxcblx0Rmxhc2ggPSByZXF1aXJlKCcuL2ZsYXNoJyksXG5cdHN0eWxlcyA9IHJlcXVpcmUoJy4uL3N0eWxlcycpLFxuXHRHZXRTdGFydGVkID0gcmVxdWlyZSgnLi9nZXQtc3RhcnRlZCcpLFxuXHRTcGlubmVyU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc3Bpbm5lci1zdG9yZScpLFxuXHRTcGlubmVyQWN0aW9ucyA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvc3Bpbm5lci1hY3Rpb25zJyksXG5cdERhdGFTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9kYXRhLXN0b3JlJyk7XG5cbmZ1bmN0aW9uIGdldFNldHVwUHJvZ3Jlc3MoKSB7XG5cdHJldHVybiB7IFxuXHRcdG5ld1VzZXI6IFNldHVwUHJvZ3Jlc3NTdG9yZS5pc05ld1VzZXIoKSwgXG5cdFx0c2hvd1NwaW5uZXI6IFNwaW5uZXJTdG9yZS5zaG93aW5nKCksIFxuXHRcdHNwaW5uZXJNZXNzYWdlOiBTcGlubmVyU3RvcmUuZ2V0TWVzc2FnZSgpLCBcblx0XHRjdXJyZW50U3RlcDogU2V0dXBQcm9ncmVzc1N0b3JlLmdldEN1cnJlbnRTdGVwKCksIFxuXHRcdGFsbFN0ZXBzOiBTZXR1cFByb2dyZXNzU3RvcmUuZ2V0QWxsU3RlcHMoKSwgXG5cdFx0cHJvZ3Jlc3NQZXJjZW50OiBTZXR1cFByb2dyZXNzU3RvcmUuZ2V0UHJvZ3Jlc3NQZXJjZW50KCkgXG5cdH07XG59XG5cbi8vIFRPRE86IHZpc3VhbCBcInNhdmluZ1wiIGZvciB0aGlzLnN0YXRlLnNhdmluZ1xudmFyIFdlbGNvbWVXaWRnZXQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiV2VsY29tZVdpZGdldFwiLFxuXG5cdHN0eWxlczoge1xuXHRcdHdyYXBwZXI6IHsgcG9zaXRpb246ICdyZWxhdGl2ZScgfSxcblx0XHRsb2FkaW5nT3ZlcmxheToge1xuXHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdFx0XHR0b3A6IDAsXG5cdFx0XHRsZWZ0OiAwLFxuXHRcdFx0d2lkdGg6ICcxMDAlJyxcblx0XHRcdGhlaWdodDogJzEwMCUnLFxuXHRcdFx0bWluSGVpZ2h0OiAnMTAwJScsXG5cdFx0XHR6SW5kZXg6IDk5OSxcblx0XHRcdGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMjU1LDI1NSwyNTUsMC42KSdcblx0XHR9LFxuXHRcdGxvYWRpbmdNZXNzYWdlOiB7XG5cdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcblx0XHRcdHdpZHRoOiAnNTAlJyxcblx0XHRcdG1pbldpZHRoOiAzMDAsXG5cdFx0XHRib3JkZXJSYWRpdXM6IDIsXG5cdFx0XHRwYWRkaW5nOiAyMCxcblx0XHRcdGJvcmRlcjogJzFweCBzb2xpZCBibGFjaycsXG5cdFx0XHRiYWNrZ3JvdW5kQ29sb3I6ICd3aGl0ZScsXG5cdFx0XHR0ZXh0QWxpZ246ICdjZW50ZXInLFxuXHRcdFx0bGVmdDogJzUwJScsXG5cdFx0XHR0b3A6IDEwMCxcblx0XHRcdHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtNTAlLC01MCUpJ1xuXHRcdH0sXG5cdFx0Y29udGFpbmVyOiB7XG5cdFx0XHRmbG9hdDogJ2xlZnQnLFxuXHRcdFx0d2lkdGg6ICc3MCUnLFxuXHRcdFx0cGFkZGluZzogJzAgMTBweCdcblx0XHR9LFxuXHRcdG1lbnU6IHtcblx0XHRcdG1hcmdpblRvcDogMjVcblx0XHR9XG5cdH0sXG5cblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNldHVwUHJvZ3Jlc3NTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdFx0U3Bpbm5lclN0b3JlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMuX29uU3Bpbm5lckNoYW5nZSk7XG5cdFx0RGF0YVN0b3JlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMuX29uRGF0YUNoYW5nZSk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNldHVwUHJvZ3Jlc3NTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdFx0U3Bpbm5lclN0b3JlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMuX29uU3Bpbm5lckNoYW5nZSk7XG5cdFx0RGF0YVN0b3JlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMuX29uRGF0YUNoYW5nZSk7XG5cdH0sXG5cblx0X29uQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICBcdHRoaXMuc2V0U3RhdGUoZ2V0U2V0dXBQcm9ncmVzcygpKTtcbiAgXHR9LFxuXG4gIFx0X29uU3Bpbm5lckNoYW5nZTogZnVuY3Rpb24oKSB7XG4gIFx0XHR0aGlzLnNldFN0YXRlKHsgc2hvd1NwaW5uZXI6IFNwaW5uZXJTdG9yZS5zaG93aW5nKCksIHNwaW5uZXJNZXNzYWdlOiBTcGlubmVyU3RvcmUuZ2V0TWVzc2FnZSgpIH0pO1xuICBcdH0sXG5cbiAgXHRfb25EYXRhQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgXHRcdHRoaXMuc2V0U3RhdGUoeyBzYXZpbmc6IERhdGFTdG9yZS5pc1NhdmluZygpIH0pO1xuICBcdH0sXG5cblx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZ2V0U2V0dXBQcm9ncmVzcygpO1xuXHR9LFxuXG5cdGhhbmRsZVJlc2V0OiBmdW5jdGlvbiggZSApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0U2V0dXBQcm9ncmVzc0FjdGlvbnMucmVzZXREYXRhKCk7XG5cdH0sXG5cblx0aGFuZGxlU2hvd1NwaW5uZXI6IGZ1bmN0aW9uICggZSApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0U3Bpbm5lckFjdGlvbnMuc2hvdyhcIlRlc3Rpbmcgc3Bpbm5lclwiKTtcblx0fSxcblxuXHRoYW5kbGVIaWRlU3Bpbm5lcjogZnVuY3Rpb24gKCBlICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRTcGlubmVyQWN0aW9ucy5oaWRlKCk7XG5cdH0sXG5cdFxuXG4gIFx0cmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFJlc2V0LCB7Y3NzOiBzdHlsZXMuY3NzfSwgXG5cdFx0XHRcdHRoaXMuX3JlbmRlckRlYnVnKCksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZTogdGhpcy5zdHlsZXMud3JhcHBlcn0sIFxuXHRcdFx0XHRcdHRoaXMuX3JlbmRlclNwaW5uZXIoKSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLmNvbnRhaW5lcn0sIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChGbGFzaCwgbnVsbCksIFxuXHRcdFx0XHRcdFx0dGhpcy5fcmVuZGVyU2VjdGlvbigpXG5cdFx0XHRcdFx0KSwgXG5cblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFdlbGNvbWVNZW51LCB7c3R5bGU6IHRoaXMuc3R5bGVzLm1lbnUsIGNsaWNrYWJsZTogIXRoaXMuc3RhdGUubmV3VXNlciwgY3VycmVudFN0ZXA6IHRoaXMuc3RhdGUuY3VycmVudFN0ZXAsIGFsbFN0ZXBzOiB0aGlzLnN0YXRlLmFsbFN0ZXBzLCBwcm9ncmVzc1BlcmNlbnQ6IHRoaXMuc3RhdGUucHJvZ3Jlc3NQZXJjZW50fSksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJjbGVhclwifSlcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0X3JlbmRlclNlY3Rpb246IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggdGhpcy5zdGF0ZS5uZXdVc2VyICkge1xuICBcdFx0XHRyZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoR2V0U3RhcnRlZCwgbnVsbCkpO1xuICBcdFx0fSBlbHNlIHtcbiAgXHRcdFx0cmV0dXJuIHRoaXMuX3JlbmRlckN1cnJlbnRWaWV3KCk7XG4gIFx0XHR9XG5cdH0sXG5cblx0X3JlbmRlckRlYnVnOiBmdW5jdGlvbigpIHtcblx0XHQvLyBpZiAoIEpQUy5kZWJ1ZyApIHtcbiAgLy8gXHRcdFx0cmV0dXJuICg8ZGl2PlxuICAvLyBcdFx0XHRcdDxhIGhyZWY9XCIjXCIgY2xhc3NOYW1lPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5oYW5kbGVSZXNldH0+UmVzZXQgV2l6YXJkPC9hPlxuICAvLyBcdFx0XHRcdDxhIGhyZWY9XCIjXCIgY2xhc3NOYW1lPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5oYW5kbGVTaG93U3Bpbm5lcn0+U2hvdyBzcGlubmVyPC9hPlxuICAvLyBcdFx0XHRcdDxhIGhyZWY9XCIjXCIgY2xhc3NOYW1lPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5oYW5kbGVIaWRlU3Bpbm5lcn0+SGlkZSBzcGlubmVyPC9hPlxuICAvLyBcdFx0XHQ8L2Rpdj4pO1xuICAvLyBcdFx0fSBlbHNlIHtcbiAgXHRcdFx0cmV0dXJuIG51bGw7XG4gIFx0XHQvLyB9XG5cdH0sXG5cblx0X3JlbmRlclNwaW5uZXI6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggdGhpcy5zdGF0ZS5zaG93U3Bpbm5lciApIHtcbiAgXHRcdFx0cmV0dXJuIChcbiAgXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZTogdGhpcy5zdHlsZXMubG9hZGluZ092ZXJsYXl9LCBcbiAgXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge3N0eWxlOiB0aGlzLnN0eWxlcy5sb2FkaW5nTWVzc2FnZX0sIFxuICBcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIHtzcmM6IFwiL3dwLWFkbWluL2ltYWdlcy9zcGlubmVyLTJ4LmdpZlwiLCB3aWR0aDogXCIxNnB4XCIsIGhlaWdodDogXCIxNnB4XCJ9KSwgXG4gIFx0XHRcdFx0XHRcdFwiwqDCoFwiLCB0aGlzLnN0YXRlLnNwaW5uZXJNZXNzYWdlXG4gIFx0XHRcdFx0XHQpXG4gIFx0XHRcdFx0KVxuICBcdFx0XHQpO1xuXG4gIFx0XHR9IGVsc2Uge1xuICBcdFx0XHRyZXR1cm4gbnVsbDtcbiAgXHRcdH1cblx0fSxcblxuXHRfcmVuZGVyQ3VycmVudFZpZXc6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggdGhpcy5zdGF0ZS5jdXJyZW50U3RlcCApIHtcbiAgXHRcdFx0cmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KHRoaXMuc3RhdGUuY3VycmVudFN0ZXAud2VsY29tZVZpZXcsIG51bGwpKTtcbiAgXHRcdH0gZWxzZSB7XG4gIFx0XHRcdHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiTm90aGluZ1wiKSk7XG4gIFx0XHR9XG5cdH0sXG5cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFdlbGNvbWVXaWRnZXQ7IiwidmFyIGtleU1pcnJvciA9IHJlcXVpcmUoJ2tleW1pcnJvcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGtleU1pcnJvcih7XG5cdFNURVBfQ09NUExFVEU6IG51bGwsXG5cdFNURVBfR0VUX1NUQVJURUQ6IG51bGwsXG5cdFNURVBfU0VMRUNUOiBudWxsLFxuXHRTVEVQX05FWFQ6IG51bGwsXG5cdFNURVBfU0tJUDogbnVsbCxcblx0U0lURV9TRVRfVElUTEU6IG51bGwsXG5cdFNJVEVfU0VUX0RFU0NSSVBUSU9OOiBudWxsLFxuXHRTSVRFX1NBVkVfVElUTEVfQU5EX0RFU0NSSVBUSU9OOiBudWxsLFxuXHRTSVRFX1NFVF9USEVNRTogbnVsbCxcblx0U0lURV9JTlNUQUxMX1RIRU1FOiBudWxsLFxuXHRTSVRFX0pFVFBBQ0tfQ09ORklHVVJFRDogbnVsbCxcblx0U0lURV9KRVRQQUNLX01PRFVMRV9FTkFCTEVEOiBudWxsLFxuXHRTSVRFX0pFVFBBQ0tfTU9EVUxFX0RJU0FCTEVEOiBudWxsLFxuXHRTSVRFX0pFVFBBQ0tfSlVNUFNUQVJUX0VOQUJMRUQ6IG51bGwsXG5cdFNJVEVfSkVUUEFDS19BRERfTU9EVUxFUzogbnVsbCxcblx0U0lURV9TRVRfTEFZT1VUOiBudWxsLFxuXG5cdFNBVkVfU1RBUlRFRDogbnVsbCxcblx0U0FWRV9GSU5JU0hFRDogbnVsbCxcblxuXHRTRVRfRkxBU0g6IG51bGwsXG5cdFVOU0VUX0ZMQVNIOiBudWxsLFxuXHRGTEFTSF9TRVZFUklUWV9OT1RJQ0U6IG51bGwsXG5cdEZMQVNIX1NFVkVSSVRZX0VSUk9SOiBudWxsLFxuXG5cdFJFU0VUX0RBVEE6IG51bGwsXG5cblx0U0hPV19TUElOTkVSOiBudWxsLFxuXHRISURFX1NQSU5ORVI6IG51bGxcbn0pOyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHQvLyBzdGVwc1xuXHRTSVRFX1RJVExFX1NURVBfU0xVRzogJ3RpdGxlJyxcblx0TEFZT1VUX1NURVBfU0xVRzogJ2xheW91dCcsXG5cdFRSQUZGSUNfU1RFUF9TTFVHOiAndHJhZmZpYycsXG5cdFNUQVRTX01PTklUT1JJTkdfU1RFUF9TTFVHOiAnc3RhdHMtbW9uaXRvcmluZycsXG5cdERFU0lHTl9TVEVQX1NMVUc6ICdkZXNpZ24nLFxuXHRBRFZBTkNFRF9TVEVQX1NMVUc6ICdhZHZhbmNlZCcsXG5cdEpFVFBBQ0tfTU9EVUxFU19TVEVQX1NMVUc6ICdqZXRwYWNrJ1xufTsiLCIvKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBBcHBEaXNwYXRjaGVyXG4gKlxuICogQSBzaW5nbGV0b24gdGhhdCBvcGVyYXRlcyBhcyB0aGUgY2VudHJhbCBodWIgZm9yIGFwcGxpY2F0aW9uIHVwZGF0ZXMuXG4gKi9cblxudmFyIERpc3BhdGNoZXIgPSByZXF1aXJlKCdmbHV4JykuRGlzcGF0Y2hlcjtcblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgRGlzcGF0Y2hlcigpOyIsInZhciBXZWxjb21lUGFuZWwgPSByZXF1aXJlKCcuL3dlbGNvbWUtcGFuZWwnKTtcblxuV2VsY29tZVBhbmVsKCk7IiwidmFyIEFwcERpc3BhdGNoZXIgPSByZXF1aXJlKCcuLi9kaXNwYXRjaGVyL2FwcC1kaXNwYXRjaGVyJyksXG5cdEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcixcblx0SlBTQ29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtY29uc3RhbnRzJyk7XG5cbi8qXG4gKiBUaGlzIGlzIGEgcmVmY291bnRlZCBzYXZlIG1vbml0b3Igd2hpY2ggd2FybnMgaWYgeW91IHRyeSB0byBsZWF2ZSB0aGUgcGFnZSB3aGlsZSB0aGUgZGF0YSBpcyBzdGlsbCBzYXZpbmdcbiAqL1xuXG52YXIgX2N1cnJlbnRTYXZlcyA9IDAsIGpwc1RpbWVvdXQsIENIQU5HRV9FVkVOVCA9ICdjaGFuZ2UnO1xuXG5qUXVlcnkod2luZG93KS5vbignYmVmb3JldW5sb2FkJywgZnVuY3Rpb24oKSB7XG5cdGlmKERhdGFTdG9yZS5pc1NhdmluZygpKSB7XG5cdFx0anBzVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgLy8gYWxlcnQoJ1lvdSBzdGF5ZWQnKTtcblx0ICAgICAgICAvLyBub29wXG5cdCAgICB9LCAxMDAwKTtcblx0ICAgIHJldHVybiBcIllvdXIgc2l0ZSBjaGFuZ2VzIGFyZSBzdGlsbCBzYXZpbmcuXCI7XG5cdH1cbn0pO1xuXG5qUXVlcnkod2luZG93KS5vbigndW5sb2FkJywgZnVuY3Rpb24oKSB7XG5cdGNsZWFyVGltZW91dChqcHNUaW1lb3V0KTtcbn0pO1xuXG5mdW5jdGlvbiBpbmNyZW1lbnRTYXZlQ291bnRlcigpIHtcblx0X2N1cnJlbnRTYXZlcyA9IF9jdXJyZW50U2F2ZXMgKyAxO1xufVxuXG5mdW5jdGlvbiBkZWNyZW1lbnRTYXZlQ291bnRlcigpIHtcblx0X2N1cnJlbnRTYXZlcyA9IF9jdXJyZW50U2F2ZXMgLSAxO1xufVxuXG52YXIgRGF0YVN0b3JlID0gXy5leHRlbmQoe30sIEV2ZW50RW1pdHRlci5wcm90b3R5cGUsIHtcblx0aXNTYXZpbmc6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBfY3VycmVudFNhdmVzID4gMDtcblx0fSxcblxuXHRhZGRDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0XHR0aGlzLm9uKENIQU5HRV9FVkVOVCwgY2FsbGJhY2spO1xuXHR9LFxuXG5cdHJlbW92ZUNoYW5nZUxpc3RlbmVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRcdHRoaXMucmVtb3ZlTGlzdGVuZXIoQ0hBTkdFX0VWRU5ULCBjYWxsYmFjayk7XG5cdH0sXG5cblx0ZW1pdENoYW5nZTogZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLmVtaXQoQ0hBTkdFX0VWRU5UKTtcblx0fSxcbn0pO1xuXG5BcHBEaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuXG4gIHN3aXRjaChhY3Rpb24uYWN0aW9uVHlwZSkge1xuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNBVkVfU1RBUlRFRDpcbiAgICBcdGluY3JlbWVudFNhdmVDb3VudGVyKCk7XG5cdFx0RGF0YVN0b3JlLmVtaXRDaGFuZ2UoKTtcblx0XHRicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNBVkVfRklOSVNIRUQ6XG4gICAgXHRkZWNyZW1lbnRTYXZlQ291bnRlcigpO1xuICAgICBcdERhdGFTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgIFx0YnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgLy8gbm8gb3BcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gRGF0YVN0b3JlOyIsInZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuXHRFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXIsXG5cdEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LWNvbnN0YW50cycpO1xuXG52YXIgQ0hBTkdFX0VWRU5UID0gJ2NoYW5nZSc7XG52YXIgbWVzc2FnZSwgc2V2ZXJpdHk7XG5cbmZ1bmN0aW9uIHNldEZsYXNoKG5ld01lc3NhZ2UsIG5ld1NldmVyaXR5KSB7XG5cdG1lc3NhZ2UgPSBuZXdNZXNzYWdlO1xuXHRzZXZlcml0eSA9IG5ld1NldmVyaXR5O1xufVxuXG52YXIgRmxhc2hTdG9yZSA9IF8uZXh0ZW5kKHt9LCBFdmVudEVtaXR0ZXIucHJvdG90eXBlLCB7XG5cdGdldEZsYXNoOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgc2V2ZXJpdHlTdHJpbmc7XG5cblx0XHRzd2l0Y2goc2V2ZXJpdHkpIHtcblx0XHRcdGNhc2UgSlBTQ29uc3RhbnRzLkZMQVNIX1NFVkVSSVRZX0VSUk9SOlxuXHRcdFx0XHRzZXZlcml0eVN0cmluZyA9ICdlcnJvcic7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBKUFNDb25zdGFudHMuRkxBU0hfU0VWRVJJVFlfTk9USUNFOlxuXHRcdFx0XHRzZXZlcml0eVN0cmluZyA9ICdub3RpY2UnO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdC8vbm9vcFxuXHRcdH1cblx0XHRyZXR1cm4ge21lc3NhZ2U6IG1lc3NhZ2UsIHNldmVyaXR5OiBzZXZlcml0eVN0cmluZ307XG5cblx0fSxcblxuXHRhZGRDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0XHR0aGlzLm9uKENIQU5HRV9FVkVOVCwgY2FsbGJhY2spO1xuXHR9LFxuXG5cdHJlbW92ZUNoYW5nZUxpc3RlbmVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRcdHRoaXMucmVtb3ZlTGlzdGVuZXIoQ0hBTkdFX0VWRU5ULCBjYWxsYmFjayk7XG5cdH0sXG5cblx0ZW1pdENoYW5nZTogZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLmVtaXQoQ0hBTkdFX0VWRU5UKTtcblx0fSxcbn0pO1xuXG5BcHBEaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuXG4gIHN3aXRjaChhY3Rpb24uYWN0aW9uVHlwZSkge1xuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNFVF9GTEFTSDpcblx0XHRzZXRGbGFzaChhY3Rpb24ubWVzc2FnZSwgYWN0aW9uLnNldmVyaXR5KTtcblx0XHRGbGFzaFN0b3JlLmVtaXRDaGFuZ2UoKTtcblx0XHRicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlVOU0VUX0ZMQVNIOlxuICAgICBcdHNldEZsYXNoKG51bGwsIG51bGwpO1xuICAgICBcdEZsYXNoU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICBcdGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIG5vIG9wXG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZsYXNoU3RvcmU7IiwiLypcbiAqIFN0b3JlIHdoaWNoIG1hbmFnZXMgYW5kIHBlcnNpc3RzIHNldHVwIHdpemFyZCBwcm9ncmVzc1xuICovXG5cbnZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuICBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXIsXG4gIEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LWNvbnN0YW50cycpLFxuICBXUEFqYXggPSByZXF1aXJlKCcuLi91dGlscy93cC1hamF4Jyk7XG5cbnZhciBDSEFOR0VfRVZFTlQgPSAnY2hhbmdlJztcblxudmFyIF9zdGVwcywgX3N0YXJ0ZWQgPSBKUFMuc3RhcnRlZDsgXG5cbmZ1bmN0aW9uIHNldFN0ZXBzKHN0ZXBzKSB7XG5cbiAgLy8gc2V0IHRoZSBjb21wbGV0aW9uIHN0YXR1cyBvZiBlYWNoIHN0ZXAgdG8gdGhlIHNhdmVkIHZhbHVlc1xuICBzdGVwcy5mb3JFYWNoKCBmdW5jdGlvbihzdGVwKSB7XG4gICAgXG4gICAgLy8gZGVmYXVsdCB2YWx1ZXMgZm9yIHNraXBwZWQsIGNvbXBsZXRlZCBhbmQgc3RhdGljXG4gICAgaWYgKCB0eXBlb2YoIHN0ZXAuY29tcGxldGVkICkgPT09ICd1bmRlZmluZWQnICkge1xuICAgICAgc3RlcC5jb21wbGV0ZWQgPSAoSlBTLnN0ZXBfc3RhdHVzW3N0ZXAuc2x1Z10gJiYgSlBTLnN0ZXBfc3RhdHVzW3N0ZXAuc2x1Z10uY29tcGxldGVkKSB8fCBmYWxzZTsgIFxuICAgIH1cblxuICAgIGlmICggdHlwZW9mKCBzdGVwLnNraXBwZWQgKSA9PT0gJ3VuZGVmaW5lZCcgKSB7XG4gICAgICBzdGVwLnNraXBwZWQgPSAoSlBTLnN0ZXBfc3RhdHVzW3N0ZXAuc2x1Z10gJiYgSlBTLnN0ZXBfc3RhdHVzW3N0ZXAuc2x1Z10uc2tpcHBlZCkgfHwgZmFsc2U7ICBcbiAgICB9XG5cbiAgICBpZiAoIHR5cGVvZiggc3RlcC5zdGF0aWMgKSA9PT0gJ3VuZGVmaW5lZCcgKSB7XG4gICAgICBzdGVwLnN0YXRpYyA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIGRlZmF1bHQgdmFsdWUgZm9yIGluY2x1ZGVJblByb2dyZXNzXG4gICAgaWYgKCB0eXBlb2YoIHN0ZXAuaW5jbHVkZUluUHJvZ3Jlc3MgKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHN0ZXAuaW5jbHVkZUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgIH1cbiAgfSk7IFxuICBcbiAgX3N0ZXBzID0gc3RlcHM7XG4gIFxuICAvLyBzZXQgbG9jYXRpb24gdG8gZmlyc3QgcGVuZGluZyBzdGVwLCBpZiBub3Qgc2V0XG4gIGVuc3VyZVZhbGlkU3RlcFNsdWcoKTsgXG59XG5cbmZ1bmN0aW9uIGdldFN0YXJ0ZWQoKSB7XG4gIF9zdGFydGVkID0gdHJ1ZTtcbiAgc2VsZWN0TmV4dFBlbmRpbmdTdGVwKCk7XG59XG5cbmZ1bmN0aW9uIGNvbXBsZXRlKHN0ZXBTbHVnKSB7XG4gIHZhciBzdGVwID0gZ2V0U3RlcEZyb21TbHVnKHN0ZXBTbHVnKTtcbiAgc3RlcC5jb21wbGV0ZWQgPSB0cnVlO1xuICBzdGVwLnNraXBwZWQgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gc2tpcCgpIHtcbiAgdmFyIHN0ZXBTbHVnID0gY3VycmVudFN0ZXBTbHVnKCk7XG4gIHZhciBzdGVwID0gZ2V0U3RlcEZyb21TbHVnKHN0ZXBTbHVnKTtcbiAgc3RlcC5za2lwcGVkID0gdHJ1ZTtcbiAgc2VsZWN0TmV4dFBlbmRpbmdTdGVwKCk7XG59XG5cbmZ1bmN0aW9uIGdldFN0ZXBGcm9tU2x1Zyggc3RlcFNsdWcgKSB7XG4gIHZhciBjdXJyZW50U3RlcCA9IG51bGw7XG4gIF8uZWFjaCggX3N0ZXBzLCBmdW5jdGlvbiggc3RlcCApIHtcbiAgICBpZiggc3RlcC5zbHVnID09PSBzdGVwU2x1ZyApIHtcbiAgICAgIGN1cnJlbnRTdGVwID0gc3RlcDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gY3VycmVudFN0ZXA7XG59XG5cbmZ1bmN0aW9uIGVuc3VyZVZhbGlkU3RlcFNsdWcoKSB7XG4gIHZhciBzdGVwU2x1ZyA9IGN1cnJlbnRTdGVwU2x1ZygpO1xuICBpZiAoICEgKCBzdGVwU2x1ZyAmJiBnZXRTdGVwRnJvbVNsdWcoIHN0ZXBTbHVnICkgKSApIHtcbiAgICBzZWxlY3ROZXh0UGVuZGluZ1N0ZXAoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzZWxlY3ROZXh0UGVuZGluZ1N0ZXAoKSB7XG4gIHZhciBwZW5kaW5nU3RlcCA9IF8uZmluZFdoZXJlKCBfc3RlcHMsIHsgY29tcGxldGVkOiBmYWxzZSwgc2tpcHBlZDogZmFsc2UgfSApO1xuICBpZiAoIHBlbmRpbmdTdGVwICE9PSBudWxsICkge1xuICAgIHNlbGVjdChwZW5kaW5nU3RlcC5zbHVnKTsgLy8gYWxzbyBzZXRzIHRoZSB3aW5kb3cgbG9jYXRpb24gaGFzaFxuICB9XG59XG5cbmZ1bmN0aW9uIGN1cnJlbnRTdGVwU2x1ZygpIHtcbiAgaWYgKCB3aW5kb3cubG9jYXRpb24uaGFzaC5pbmRleE9mKCcjd2VsY29tZS9zdGVwcycpID09PSAwICkge1xuICAgIHZhciBwYXJ0cyA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNwbGl0KCcvJyk7XG4gICAgdmFyIHN0ZXBTbHVnID0gcGFydHNbcGFydHMubGVuZ3RoLTFdO1xuICAgIHJldHVybiBzdGVwU2x1ZztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5mdW5jdGlvbiBzZWxlY3Qoc3RlcFNsdWcpIHtcbiAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSAnd2VsY29tZS9zdGVwcy8nK3N0ZXBTbHVnO1xuICAvLyByZWNvcmQgYW5hbHl0aWNzXG4gIFdQQWpheC5wb3N0KEpQUy5zdGVwX2FjdGlvbnMudmlldywgeyBzdGVwOiBzdGVwU2x1ZyB9LCB7IHF1aWV0OiB0cnVlIH0pO1xufVxuXG4vL3Jlc2V0IGV2ZXJ5dGhpbmcgYmFjayB0byBkZWZhdWx0c1xuZnVuY3Rpb24gcmVzZXQoKSB7XG4gIEpQUy5zdGVwX3N0YXR1cyA9IHt9O1xuICBfLndoZXJlKCBfc3RlcHMsIHsgc3RhdGljOiBmYWxzZX0gKS5mb3JFYWNoKCBmdW5jdGlvbiAoIHN0ZXAgKSB7IFxuICAgIHN0ZXAuY29tcGxldGVkID0gZmFsc2U7XG4gICAgc3RlcC5za2lwcGVkID0gZmFsc2U7XG4gIH0gKTtcbiAgX3N0YXJ0ZWQgPSBmYWxzZTtcbn1cblxudmFyIFNldHVwUHJvZ3Jlc3NTdG9yZSA9IF8uZXh0ZW5kKHt9LCBFdmVudEVtaXR0ZXIucHJvdG90eXBlLCB7XG5cbiAgaW5pdDogZnVuY3Rpb24oc3RlcHMpIHtcbiAgICBzZXRTdGVwcyhzdGVwcyk7XG4gIH0sXG5cbiAgZ2V0QWxsU3RlcHM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBfc3RlcHM7XG4gIH0sXG5cbiAgaXNOZXdVc2VyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gIV9zdGFydGVkO1xuICB9LFxuXG4gIGVtaXRDaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZW1pdCggQ0hBTkdFX0VWRU5UICk7XG4gIH0sXG5cbiAgZ2V0Q3VycmVudFN0ZXA6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBnZXRTdGVwRnJvbVNsdWcoIGN1cnJlbnRTdGVwU2x1ZygpICk7XG4gIH0sXG5cbiAgZ2V0U3RlcEZyb21TbHVnOiBmdW5jdGlvbihzbHVnKSB7XG4gICAgcmV0dXJuIGdldFN0ZXBGcm9tU2x1Zyggc2x1ZyApO1xuICB9LFxuXG4gIGdldFByb2dyZXNzUGVyY2VudDogZnVuY3Rpb24oKSB7XG4gIFx0dmFyIG51bVN0ZXBzID0gXy53aGVyZSggX3N0ZXBzLCB7IGluY2x1ZGVJblByb2dyZXNzOiB0cnVlIH0gKS5sZW5ndGg7XG4gICAgdmFyIGNvbXBsZXRlZFN0ZXBzID0gXy53aGVyZSggX3N0ZXBzLCB7IGluY2x1ZGVJblByb2dyZXNzOiB0cnVlLCBjb21wbGV0ZWQ6IHRydWUgfSApLmxlbmd0aDtcbiAgICB2YXIgcGVyY2VudENvbXBsZXRlID0gKGNvbXBsZXRlZFN0ZXBzIC8gbnVtU3RlcHMpICogOTAgKyAxMDtcbiAgICB2YXIgb3V0cHV0ID0gTWF0aC5yb3VuZChwZXJjZW50Q29tcGxldGUgLyAxMCkgKiAxMDtcbiAgICByZXR1cm4gb3V0cHV0O1xuICB9LFxuXG4gIGFkZENoYW5nZUxpc3RlbmVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIHRoaXMub24oIENIQU5HRV9FVkVOVCwgY2FsbGJhY2sgKTtcbiAgfSxcblxuICByZW1vdmVDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKCBDSEFOR0VfRVZFTlQsIGNhbGxiYWNrICk7XG4gIH1cbn0pO1xuXG4vLyBSZWdpc3RlciBjYWxsYmFjayB0byBoYW5kbGUgYWxsIHVwZGF0ZXNcbkFwcERpc3BhdGNoZXIucmVnaXN0ZXIoZnVuY3Rpb24oYWN0aW9uKSB7XG4gIFxuICBzd2l0Y2goYWN0aW9uLmFjdGlvblR5cGUpIHtcbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TVEVQX0dFVF9TVEFSVEVEOlxuICAgICAgZ2V0U3RhcnRlZCgpO1xuICAgICAgU2V0dXBQcm9ncmVzc1N0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU1RFUF9TRUxFQ1Q6XG4gICAgICBzZWxlY3QoYWN0aW9uLnNsdWcpO1xuICAgICAgU2V0dXBQcm9ncmVzc1N0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU1RFUF9ORVhUOlxuICAgICAgc2VsZWN0TmV4dFBlbmRpbmdTdGVwKCk7XG4gICAgICBTZXR1cFByb2dyZXNzU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TVEVQX0NPTVBMRVRFOlxuICAgICAgY29tcGxldGUoYWN0aW9uLnNsdWcpO1xuICAgICAgU2V0dXBQcm9ncmVzc1N0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU1RFUF9DT01QTEVURV9BTkRfTkVYVDpcbiAgICAgIGNvbXBsZXRlKGFjdGlvbi5zbHVnKTtcbiAgICAgIHNlbGVjdE5leHRQZW5kaW5nU3RlcCgpO1xuICAgICAgU2V0dXBQcm9ncmVzc1N0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuUkVTRVRfREFUQTpcbiAgICAgIHJlc2V0KCk7XG4gICAgICBTZXR1cFByb2dyZXNzU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TVEVQX1NLSVA6XG4gICAgICBza2lwKCk7XG4gICAgICBTZXR1cFByb2dyZXNzU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgLy8gbm8gb3BcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU2V0dXBQcm9ncmVzc1N0b3JlOyIsIi8qXG4gKiBTdG9yZSB3aGljaCBtYW5hZ2VzIGFuZCBwZXJzaXN0cyBzaXRlIGluZm9ybWF0aW9uXG4gKi9cblxudmFyIEFwcERpc3BhdGNoZXIgPSByZXF1aXJlKCcuLi9kaXNwYXRjaGVyL2FwcC1kaXNwYXRjaGVyJyksXG4gIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcixcbiAgSlBTQ29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtY29uc3RhbnRzJyksXG4gIFdQQWpheCA9IHJlcXVpcmUoJy4uL3V0aWxzL3dwLWFqYXgnKTtcblxudmFyIENIQU5HRV9FVkVOVCA9ICdjaGFuZ2UnO1xuXG52YXIgbGF5b3V0ID0gSlBTLnN0ZXBzLmxheW91dC5jdXJyZW50O1xuXG5mdW5jdGlvbiBzZXRUaXRsZShuZXdUaXRsZSkge1xuXHRKUFMuYmxvZ2luZm8ubmFtZSA9IG5ld1RpdGxlO1xufVxuXG5mdW5jdGlvbiBzZXREZXNjcmlwdGlvbihuZXdEZXNjcmlwdGlvbikge1xuICBKUFMuYmxvZ2luZm8uZGVzY3JpcHRpb24gPSBuZXdEZXNjcmlwdGlvbjsgXG59XG5cbmZ1bmN0aW9uIHNldEFjdGl2ZVRoZW1lKGFjdGl2ZVRoZW1lSWQpIHtcbiAgSlBTLnRoZW1lcy5mb3JFYWNoKCBmdW5jdGlvbiggdGhlbWUgKSB7XG4gICAgaWYgKCB0aGVtZS5pZCA9PSBhY3RpdmVUaGVtZUlkICkge1xuICAgICAgdGhlbWUuYWN0aXZlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhlbWUuYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICB9ICk7XG59XG5cbmZ1bmN0aW9uIGluc3RhbGxlZFRoZW1lKHRoZW1lKSB7XG4gIEpQUy50aGVtZXMudW5zaGlmdCh0aGVtZSk7XG4gIEpQUy50aGVtZXMgPSBKUFMudGhlbWVzLnNsaWNlKDAsIDMpO1xufVxuXG5mdW5jdGlvbiBzZXRKZXRwYWNrTW9kdWxlQWN0aXZhdGVkKHNsdWcpIHtcbiAgaWYgKCBfLmluZGV4T2YoIEpQUy5qZXRwYWNrLmFjdGl2ZV9tb2R1bGVzLCBzbHVnICkgPT09IC0xICkge1xuICAgIEpQUy5qZXRwYWNrLmFjdGl2ZV9tb2R1bGVzLnB1c2goc2x1Zyk7ICBcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXRKZXRwYWNrTW9kdWxlRGVjdGl2YXRlZChzbHVnKSB7XG4gIHZhciBpbmRleCA9IF8uaW5kZXhPZiggSlBTLmpldHBhY2suYWN0aXZlX21vZHVsZXMsIHNsdWcgKTtcbiAgaWYgKCBpbmRleCA+PSAwKSB7XG4gICAgSlBTLmpldHBhY2suYWN0aXZlX21vZHVsZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXRKZXRwYWNrQWRkaXRpb25hbE1vZHVsZXMobW9kdWxlcykge1xuICBKUFMuamV0cGFjay5hZGRpdGlvbmFsX21vZHVsZXMgPSBfLmZpbHRlcihtb2R1bGVzLCBmdW5jdGlvbihtb2R1bGUpIHtcbiAgICByZXR1cm4gXy5pbmRleE9mKEpQUy5qZXRwYWNrLmp1bXBzdGFydF9tb2R1bGVzLm1hcChmdW5jdGlvbihtb2Qpe3JldHVybiBtb2Quc2x1Zzt9KSwgbW9kdWxlLnNsdWcpID09IC0xO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gc2V0TGF5b3V0KGxheW91dE5hbWUpIHtcbiAgbGF5b3V0ID0gbGF5b3V0TmFtZTsgLy8gWFhYIFRPRE86IGdldCB0aGlzIHZhbHVlIGR5bmFtaWNhbGx5IGZyb20gdGhlIHNlcnZlciFcbn1cblxuZnVuY3Rpb24gc2V0SmV0cGFja0NvbmZpZ3VyZWQoKSB7XG4gIEpQUy5qZXRwYWNrLmNvbmZpZ3VyZWQgPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBzZXRKZXRwYWNrSnVtcHN0YXJ0QWN0aXZhdGVkKCkge1xuICBKUFMuamV0cGFjay5qdW1wc3RhcnRfbW9kdWxlcy5mb3JFYWNoKCBmdW5jdGlvbiggbW9kdWxlICkge1xuICAgIHNldEpldHBhY2tNb2R1bGVBY3RpdmF0ZWQoIG1vZHVsZS5zbHVnICk7XG4gIH0pO1xufVxuXG52YXIgU2l0ZVN0b3JlID0gXy5leHRlbmQoe30sIEV2ZW50RW1pdHRlci5wcm90b3R5cGUsIHtcblxuICBnZXRUaXRsZTogZnVuY3Rpb24oKSB7XG4gIFx0cmV0dXJuIEpQUy5ibG9naW5mby5uYW1lO1xuICB9LFxuXG4gIGdldERlc2NyaXB0aW9uOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gSlBTLmJsb2dpbmZvLmRlc2NyaXB0aW9uO1xuICB9LFxuXG4gIGdldFRoZW1lczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIEpQUy50aGVtZXM7XG4gIH0sXG5cbiAgZ2V0QWN0aXZlVGhlbWVJZDogZnVuY3Rpb24oKSB7XG4gICAgZm9yKHZhciBpPTA7IGkgPCBKUFMudGhlbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdGhlbWUgPSBKUFMudGhlbWVzW2ldO1xuICAgICAgaWYgKCB0aGVtZS5hY3RpdmUgKSB7XG4gICAgICAgIHJldHVybiB0aGVtZS5pZDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG5cbiAgZ2V0SmV0cGFja0NvbmZpZ3VyZWQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBKUFMuamV0cGFjay5jb25maWd1cmVkO1xuICB9LFxuXG4gIGdldEFjdGl2ZU1vZHVsZVNsdWdzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gSlBTLmpldHBhY2suYWN0aXZlX21vZHVsZXM7XG4gIH0sXG5cbiAgaXNKZXRwYWNrTW9kdWxlRW5hYmxlZDogZnVuY3Rpb24oc2x1Zykge1xuICAgIHJldHVybiAoIF8uaW5kZXhPZiggSlBTLmpldHBhY2suYWN0aXZlX21vZHVsZXMsIHNsdWcgKSA+PSAwICk7XG4gIH0sXG5cbiAgZ2V0SmV0cGFja0FkZGl0aW9uYWxNb2R1bGVzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gSlBTLmpldHBhY2suYWRkaXRpb25hbF9tb2R1bGVzO1xuICB9LFxuXG4gIGdldEp1bXBzdGFydE1vZHVsZVNsdWdzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gSlBTLmpldHBhY2suanVtcHN0YXJ0X21vZHVsZXMubWFwKGZ1bmN0aW9uKG1vZHVsZSkgeyByZXR1cm4gbW9kdWxlLnNsdWc7IH0pO1xuICB9LFxuXG4gIGdldEp1bXBzdGFydE1vZHVsZXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBKUFMuamV0cGFjay5qdW1wc3RhcnRfbW9kdWxlcztcbiAgfSxcblxuICBnZXRQb3B1bGFyVGhlbWVzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gV1BBamF4LnBvc3QoSlBTLnNpdGVfYWN0aW9ucy5nZXRfcG9wdWxhcl90aGVtZXMpO1xuICB9LFxuXG4gIGdldEpldHBhY2tKdW1wc3RhcnRFbmFibGVkOiBmdW5jdGlvbigpIHtcbiAgICBmb3IodmFyIGk9MDsgaSA8IEpQUy5qZXRwYWNrLmp1bXBzdGFydF9tb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbW9kdWxlID0gSlBTLmpldHBhY2suanVtcHN0YXJ0X21vZHVsZXNbaV07XG4gICAgICBpZiAoICEgdGhpcy5pc0pldHBhY2tNb2R1bGVFbmFibGVkKCBtb2R1bGUuc2x1ZyApICkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9LFxuXG4gIGdldExheW91dDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGxheW91dDtcbiAgfSxcblxuICBlbWl0Q2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmVtaXQoQ0hBTkdFX0VWRU5UKTtcbiAgfSxcblxuICBhZGRDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICB0aGlzLm9uKENIQU5HRV9FVkVOVCwgY2FsbGJhY2spO1xuICB9LFxuXG4gIHJlbW92ZUNoYW5nZUxpc3RlbmVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoQ0hBTkdFX0VWRU5ULCBjYWxsYmFjayk7XG4gIH1cbn0pO1xuXG4vLyBSZWdpc3RlciBjYWxsYmFjayB0byBoYW5kbGUgYWxsIHVwZGF0ZXNcbkFwcERpc3BhdGNoZXIucmVnaXN0ZXIoZnVuY3Rpb24oYWN0aW9uKSB7XG5cbiAgc3dpdGNoKGFjdGlvbi5hY3Rpb25UeXBlKSB7XG4gICAgY2FzZSBKUFNDb25zdGFudHMuU0lURV9TRVRfVElUTEU6XG4gICAgICBzZXRUaXRsZShhY3Rpb24udGl0bGUpO1xuICAgICAgU2l0ZVN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU0lURV9TRVRfREVTQ1JJUFRJT046XG4gICAgICBzZXREZXNjcmlwdGlvbihhY3Rpb24uZGVzY3JpcHRpb24pO1xuICAgICAgU2l0ZVN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU0lURV9TRVRfVEhFTUU6XG4gICAgICBzZXRBY3RpdmVUaGVtZShhY3Rpb24udGhlbWVJZCk7XG4gICAgICBTaXRlU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TSVRFX0lOU1RBTExfVEhFTUU6XG4gICAgICBpbnN0YWxsZWRUaGVtZShhY3Rpb24udGhlbWUpO1xuICAgICAgU2l0ZVN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU0lURV9KRVRQQUNLX0NPTkZJR1VSRUQ6XG4gICAgICBzZXRKZXRwYWNrQ29uZmlndXJlZCgpO1xuICAgICAgU2l0ZVN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU0lURV9KRVRQQUNLX0FERF9NT0RVTEVTOlxuICAgICAgc2V0SmV0cGFja0FkZGl0aW9uYWxNb2R1bGVzKGFjdGlvbi5tb2R1bGVzKTtcbiAgICAgIFNpdGVTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfSkVUUEFDS19NT0RVTEVfRU5BQkxFRDpcbiAgICAgIHNldEpldHBhY2tNb2R1bGVBY3RpdmF0ZWQoYWN0aW9uLnNsdWcpO1xuICAgICAgU2l0ZVN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU0lURV9KRVRQQUNLX01PRFVMRV9ESVNBQkxFRDpcbiAgICAgIHNldEpldHBhY2tNb2R1bGVEZWN0aXZhdGVkKGFjdGlvbi5zbHVnKTtcbiAgICAgIFNpdGVTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfSkVUUEFDS19KVU1QU1RBUlRfRU5BQkxFRDogXG4gICAgICBzZXRKZXRwYWNrSnVtcHN0YXJ0QWN0aXZhdGVkKCk7XG4gICAgICBTaXRlU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TSVRFX1NFVF9MQVlPVVQ6XG4gICAgICBzZXRMYXlvdXQoYWN0aW9uLmxheW91dCk7XG4gICAgICBTaXRlU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgLy8gbm8gb3BcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU2l0ZVN0b3JlOyIsInZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuXHRFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXIsXG5cdEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LWNvbnN0YW50cycpO1xuXG52YXIgQ0hBTkdFX0VWRU5UID0gJ2NoYW5nZSc7XG5cbnZhciBzcGlubmVyRW5hYmxlZCA9IGZhbHNlLFxuXHRzcGlubmVyTWVzc2FnZSA9IG51bGw7XG5cbmZ1bmN0aW9uIHNob3cobWVzc2FnZSkge1xuXHRzcGlubmVyRW5hYmxlZCA9IHRydWU7XG5cdHNwaW5uZXJNZXNzYWdlID0gbWVzc2FnZTtcbn1cblxuZnVuY3Rpb24gaGlkZSgpIHtcblx0c3Bpbm5lckVuYWJsZWQgPSBmYWxzZTtcblx0c3Bpbm5lck1lc3NhZ2UgPSBudWxsO1xufVxuXG52YXIgU3Bpbm5lclN0b3JlID0gXy5leHRlbmQoe30sIEV2ZW50RW1pdHRlci5wcm90b3R5cGUsIHtcblx0c2hvd2luZzogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNwaW5uZXJFbmFibGVkO1xuXHR9LFxuXG5cdGdldE1lc3NhZ2U6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBzcGlubmVyTWVzc2FnZTtcblx0fSxcblxuXHRhZGRDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0XHR0aGlzLm9uKCBDSEFOR0VfRVZFTlQsIGNhbGxiYWNrICk7XG5cdH0sXG5cblx0cmVtb3ZlQ2hhbmdlTGlzdGVuZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdFx0dGhpcy5yZW1vdmVMaXN0ZW5lciggQ0hBTkdFX0VWRU5ULCBjYWxsYmFjayApO1xuXHR9LFxuXG5cdGVtaXRDaGFuZ2U6IGZ1bmN0aW9uKCkge1xuXHQgICAgdGhpcy5lbWl0KCBDSEFOR0VfRVZFTlQgKTtcblx0fSxcbn0pO1xuXG5BcHBEaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuXG4gIHN3aXRjaChhY3Rpb24uYWN0aW9uVHlwZSkge1xuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNIT1dfU1BJTk5FUjpcblx0XHRzaG93KGFjdGlvbi5tZXNzYWdlKTtcblx0XHRTcGlubmVyU3RvcmUuZW1pdENoYW5nZSgpO1xuXHRcdGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuSElERV9TUElOTkVSOlxuICAgICBcdGhpZGUoKTtcbiAgICAgXHRTcGlubmVyU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICBcdGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIG5vIG9wXG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNwaW5uZXJTdG9yZTsiLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0J2gzJzoge1xuXHRcdGZvbnRXZWlnaHQ6ICdub3JtYWwnXG5cdH0sXG5cblx0J2NvbnRlbnQnOiB7XG5cdFx0Zm9udFNpemU6ICdsYXJnZXInLFxuXHRcdGNvbG9yOiAnIzc3NycsXG5cdFx0bGluZUhlaWdodDogMS41LFxuICBcdFx0bWFyZ2luOiAnMWVtIDAnXG5cdH0sXG5cblx0Y3NzOiB7XG5cdFx0aDQ6IHtcblx0XHRcdG1hcmdpbkJvdHRvbTogMTAsXG5cdFx0fSxcblxuXHRcdGg1OiB7XG5cdFx0XHRtYXJnaW5Ub3A6IDAsXG5cdFx0XHRmb250U2l6ZTogJzFlbScsXG5cdFx0XHRmb250V2VpZ2h0OiA0MDBcblx0XHR9LFxuXG5cdFx0J2lucHV0LCBzZWxlY3QnOiB7XG5cdFx0XHRtYXJnaW46IDEsXG5cdFx0XHRwYWRkaW5nOiAnM3B4IDVweCdcblx0XHR9LFxuXG5cdFx0J2lucHV0W3R5cGU9XCJ0ZXh0XCJdJzoge1xuXHRcdFx0d2lkdGg6ICcxMDAlJ1xuXHRcdH0sXG5cblx0XHQnLnN1Ym1pdCc6IHtcblx0XHRcdG1hcmdpbjogJzBweCAhaW1wb3J0YW50Jyxcblx0XHRcdHBhZGRpbmc6ICc1cHggNXB4ICFpbXBvcnRhbnQnLFxuXHRcdFx0YmFja2dyb3VuZENvbG9yOiAnI0VFRScsXG5cdFx0XHR0ZXh0QWxpZ246ICdyaWdodCdcblx0XHR9XG5cdH1cbn07IiwiLypcbiAqIEEgc2ltcGxlIHdyYXBwZXIgZm9yIGNhbGxzIHRvIFdQJ3MgXCJhamF4dXJsXCIuXG4gKlxuICogVGhpcyBleGlzdHMgYmVjYXVzZSBXUCdzIHdwX3NlbmRfanNvbl9lcnJvciBkb2Vzbid0IGFjdHVhbGx5IHNlbmQgYW4gZXJyb3IgY29kZSwgYnV0IHJhdGhlclxuICogYSAyMDAgT0sgcmVzcG9uc2Ugd2l0aCBhIHN0cnVjdHVyZSBsaWtlIHRoaXM6XG4gKiB7c3VjY2VzczogZmFsc2UsIGRhdGE6IFwic29tZXRoaW5nIHdlbnQgd3JvbmdcIn1cbiAqXG4gKiBTbyB0aGlzIGNsYXNzIHNtb290aGVzIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gNTB4IGVycm9ycyBhbmQgV1AncyBlcnJvciBvYmplY3QuXG4gKlxuICogRm9yIGNvbnZlbmllbmNlLCB0aGlzIHJldHVybnMgYSBqUXVlcnkuRGVmZXJyZWQgb2JqZWN0IHdoaWNoIGNhbiBoYXZlIC5kb25lKCkgXG4gKiBhbmQgLmZhaWwoKSBtZXRob2RzIGNoYWluZWQgb250byBpdCwgc2ltaWxhciB0byBqUXVlcnkucG9zdCdzIFwic3VjY2Vzc1wiIGFuZCBcImZhaWxcIlxuICpcbiAqIEFsc28sIGl0IGFjY2VwdHMgYW4gXCJhY3Rpb25cIiBwYXJhbSBpbnN0ZWFkIG9mIGEgVVJMLCBzaW5jZSBhbGwgV1AgYWpheCByZXF1ZXN0c1xuICogYWN0dWFsbHkgZ28gdmlhIHRoZSBzYW1lIFVSTCB3aXRoIGRpZmZlcmVudCBwYXJhbWV0ZXJzLCBhbmQgaXQgaW52b2tlcyBjYWxsYmFja3Mgd2l0aFxuICoganVzdCB0aGUgXCJkYXRhXCIgcG9ydGlvbiBvZiBXUCdzIGFqYXggcGF5bG9hZCwgcmF0aGVyIHRoYW4gdGhlIHdob2xlIHN0cnVjdHVyZS5cbiAqIFxuICoqL1xuXG52YXIgRGF0YUFjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL2RhdGEtYWN0aW9ucycpO1xuXG52YXIgV1BBamF4ID0gKGZ1bmN0aW9uKCkge1xuXG5cdHJldHVybiB7XG5cdFx0cG9zdDogZnVuY3Rpb24oYWN0aW9uLCBwYXlsb2FkLCBvcHRpb25zKSB7XG5cdFx0XHRvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucyA6IHt9O1xuXHRcdFx0cGF5bG9hZCA9IHR5cGVvZiBwYXlsb2FkICE9PSAndW5kZWZpbmVkJyA/IHBheWxvYWQgOiB7fTtcblx0XHRcdHZhciBkYXRhID0gXy5leHRlbmQocGF5bG9hZCwge2FjdGlvbjogYWN0aW9uLCBub25jZTogSlBTLm5vbmNlfSk7XG5cdFx0XHRcblx0XHRcdHZhciBkZWZlcnJlZCA9IGpRdWVyeS5EZWZlcnJlZCgpO1xuXG5cdFx0XHQvLyBwYXNzaW5nIHF1aWV0OiB0cnVlIGFsbG93cyBwYWdlIG5hdmlnYXRpb24gYmVmb3JlIHRoaXMgcmVxdWVzdCBoYXMgZmluaXNoZWQuXG5cdFx0XHQvLyB0aGlzIGlzIGFsc28gaGFuZHkgd2hlbiB5b3UncmUgY2FsbGluZyBmcm9tIHdpdGhpbiBhIERpc3BhdGNoIGN5Y2xlLCBhcyBpdCBcblx0XHRcdC8vIG5vIGxvbmdlciB0cmlnZ2VycyBhbiBhZGRpdGlvbmFsIERpc3BhdGNoICh3aGljaCB3b3VsZCBjYXVzZSBhbiBlcnJvcilcblx0XHRcdGlmICggIW9wdGlvbnMucXVpZXQgKSB7XG5cdFx0XHRcdERhdGFBY3Rpb25zLnJlcXVlc3RTdGFydGVkKCk7XG5cdFx0XHR9XG5cblx0XHRcdGpRdWVyeS5wb3N0KCBhamF4dXJsLCBkYXRhIClcblx0XHRcdFx0LnN1Y2Nlc3MoIGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblx0XHRcdFx0XHRpZiAoICEgcmVzcG9uc2Uuc3VjY2VzcyApIHtcblx0XHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdChyZXNwb25zZS5kYXRhKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShyZXNwb25zZS5kYXRhKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5mYWlsKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoXCJTZXJ2ZXIgZXJyb3JcIik7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5hbHdheXMoIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRpZiAoICFvcHRpb25zLnF1aWV0ICkge1xuXHRcdFx0XHRcdFx0RGF0YUFjdGlvbnMucmVxdWVzdEZpbmlzaGVkKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcdFxuXG5cdFx0XHRyZXR1cm4gZGVmZXJyZWQ7XG5cdFx0fVxuXHR9O1xuXG59KSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFdQQWpheDsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKSxcbiAgICBXZWxjb21lV2lkZ2V0ID0gcmVxdWlyZSgnLi9jb21wb25lbnRzL3dlbGNvbWUtd2lkZ2V0JyksXG4gICAgUGF0aHMgPSByZXF1aXJlKCcuL2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LXBhdGhzJyksXG4gICAgU2V0dXBQcm9ncmVzc1N0b3JlID0gcmVxdWlyZSgnLi9zdG9yZXMvc2V0dXAtcHJvZ3Jlc3Mtc3RvcmUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICBqUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcblxuICAgIFx0U2V0dXBQcm9ncmVzc1N0b3JlLmluaXQoW1xuICAgIFx0XHQvLyBOT1RFOiBZb3UgY2FuIGhhdmUgXCJzdGF0aWM6IHRydWVcIiB0byBpbmNsdWRlIHVuLWNsaWNrYWJsZSBcbiAgICBcdFx0Ly8gcHJlZmlsbGVkIHN0ZXBzIHRoYXQgYWN0IGFzIHRob3VnaCB0aGV5J3ZlIGFscmVhZHkgYmVlbiBjb21wbGV0ZWRcblx0XHRcdC8vIHtcblx0XHRcdC8vIFx0bmFtZTogXCJTaWduIHVwXCIsXG5cdFx0XHQvLyBcdGNvbXBsZXRlZDogdHJ1ZSxcblx0XHRcdC8vIFx0c3RhdGljOiB0cnVlXG5cdFx0XHQvLyB9LFxuXHRcdFx0e1xuXHRcdFx0XHRuYW1lOiAnU2l0ZSB0aXRsZScsXG5cdFx0XHRcdHNsdWc6IFBhdGhzLlNJVEVfVElUTEVfU1RFUF9TTFVHLFxuXHRcdFx0XHR3ZWxjb21lVmlldzogcmVxdWlyZSgnLi9jb21wb25lbnRzL3NpdGUtdGl0bGUtc3RlcCcpXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRuYW1lOiAnUGljayBhIGxheW91dCcsXG5cdFx0XHRcdHNsdWc6IFBhdGhzLkxBWU9VVF9TVEVQX1NMVUcsXG5cdFx0XHRcdHdlbGNvbWVWaWV3OiByZXF1aXJlKCcuL2NvbXBvbmVudHMvbGF5b3V0LXN0ZXAnKVxuXHRcdFx0fSxcblx0XHRcdHsgXG5cdFx0XHRcdG5hbWU6IFwiUGljayBhIGRlc2lnblwiLCBcblx0XHRcdFx0c2x1ZzogUGF0aHMuREVTSUdOX1NURVBfU0xVRyxcblx0XHRcdFx0d2VsY29tZVZpZXc6IHJlcXVpcmUoJy4vY29tcG9uZW50cy9kZXNpZ24tc3RlcCcpLCBcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdG5hbWU6ICdFbmFibGUgSmV0cGFjaycsXG5cdFx0XHRcdHNsdWc6IFBhdGhzLkpFVFBBQ0tfTU9EVUxFU19TVEVQX1NMVUcsXG5cdFx0XHRcdHdlbGNvbWVWaWV3OiByZXF1aXJlKCcuL2NvbXBvbmVudHMvamV0cGFjay1qdW1wc3RhcnQtc3RlcCcpLFxuXHRcdFx0XHRtZW51VmlldzogcmVxdWlyZSgnLi9jb21wb25lbnRzL2pldHBhY2stanVtcHN0YXJ0LW1lbnUnKVxuXHRcdFx0fSxcblx0XHRcdHsgXG5cdFx0XHRcdG5hbWU6IFwiQWR2YW5jZWQgc2V0dGluZ3NcIiwgXG5cdFx0XHRcdHNsdWc6IFBhdGhzLkFEVkFOQ0VEX1NURVBfU0xVRyxcblx0XHRcdFx0d2VsY29tZVZpZXc6IHJlcXVpcmUoJy4vY29tcG9uZW50cy9hZHZhbmNlZC1zZXR0aW5ncy1zdGVwJyksXG5cdFx0XHRcdGluY2x1ZGVJblByb2dyZXNzOiBmYWxzZVxuXHRcdFx0fVxuXHRcdF0pO1xuXG4gICAgICAgIFJlYWN0LnJlbmRlcihcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFdlbGNvbWVXaWRnZXQsIHt9KSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pwcy13ZWxjb21lLXBhbmVsJylcbiAgICAgICAgKTtcbiAgICB9KTtcbn07IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCksXG5cdHN0eWxlcyA9IHJlcXVpcmUoJy4uL3N0eWxlcycpLFxuXHRSYWRpdW0gPSByZXF1aXJlKCdyYWRpdW0nKTtcblxudmFyIEJ1dHRvbiA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJCdXR0b25cIixcblxuXHRwcm9wVHlwZXM6IHtcblx0XHRzaXplOiBSZWFjdC5Qcm9wVHlwZXMub25lT2YoWyd0aW55JywgJ25vcm1hbCcsICdiaWcnXSksXG5cdFx0Y29sb3I6IFJlYWN0LlByb3BUeXBlcy5vbmVPZihbJ2dyYXknLCAnYmx1ZScsICdncmVlbiddKSxcblx0XHR0aGVtZTogUmVhY3QuUHJvcFR5cGVzLm9uZU9mKFsnd3AnLCAnamV0cGFjayddKSxcblx0XHRpbmxpbmU6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuXHRcdG9uQ2xpY2s6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHRcdGRpc2FibGVkOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0XHRocmVmOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXG5cdH0sXG5cblx0Z2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4geyBzaXplOiAnbm9ybWFsJywgaW5saW5lOiB0cnVlLCBjb2xvcjogJ2dyYXknLCB0aGVtZTogJ3dwJywgZGlzYWJsZWQ6IGZhbHNlIH07XG5cdH0sXG5cblx0aGFuZGxlQ2FsbGJhY2tIcmVmOiBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHdpbmRvdy5sb2NhdGlvbiA9IHRoaXMucHJvcHMuaHJlZjtcblx0fSxcblxuXHRzdHlsZXM6IHtcblx0XHRiYXNpYzoge1xuXHRcdFx0Ym9yZGVyUmFkaXVzOiAzLFxuXHRcdFx0Ym94U2hhZG93OiAnaW5zZXQgMCAxcHggMCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMyknLFxuXHRcdFx0Ym9yZGVyV2lkdGg6IDEsXG5cdFx0XHRib3JkZXJTdHlsZTogJ3NvbGlkJyxcblx0XHRcdGN1cnNvcjogJ3BvaW50ZXInLFxuXHRcdFx0ZGlzcGxheTogJ2Jsb2NrJyxcblx0XHRcdGZvbnRTaXplOiAxNCxcblx0XHRcdGZvbnRXZWlnaHQ6ICdib2xkJyxcblx0XHRcdHBhZGRpbmc6ICcxMHB4IDIwcHgnLFxuXHRcdFx0dGV4dEFsaWduOiAnY2VudGVyJyxcblx0XHRcdHRleHREZWNvcmF0aW9uOiAnbm9uZScsXG5cdFx0XHRXZWJraXRGb250U21vb3RoaW5nOiAnYW50aWFsaWFzZWQnLFxuXHRcdFx0dHJhbnNpdGlvbjogJ2JhY2tncm91bmQgMC4ycydcblx0XHR9LFxuXG5cdFx0c2l6ZXM6IHtcblx0XHRcdHRpbnk6IHtcblx0XHRcdFx0Zm9udFNpemU6IDEwLFxuXHRcdFx0XHRwYWRkaW5nOiAnMnB4IDEwcHgnLFxuXHRcdFx0fSxcblx0XHRcdG5vcm1hbDoge1xuXHRcdFx0XHRmb250U2l6ZTogMTMsXG5cdFx0XHRcdHBhZGRpbmc6ICc1cHggMTBweCdcblx0XHRcdH0sXG5cdFx0XHRiaWc6IHtcblx0XHRcdFx0Zm9udFNpemU6IDE2LFxuXHRcdFx0XHRwYWRkaW5nOiAnMjBweCA0MHB4J1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRjb2xvcnM6IHtcblx0XHRcdGdyYXk6IHtcblx0XHRcdFx0YmFja2dyb3VuZDogJ2xpbmVhci1ncmFkaWVudCgjZmZmLCAjZjlmOWY5KScsXG5cdFx0XHRcdGJvcmRlckNvbG9yOiBzdHlsZXMuY29sb3JzLmxpZ2h0R3JheSxcblx0XHRcdFx0Y29sb3I6IHN0eWxlcy5jb2xvcnMuZGFya0dyYXksXG5cdFx0XHRcdCc6aG92ZXInOiB7XG5cdFx0XHRcdFx0Y29sb3I6IHN0eWxlcy5jb2xvcnMuZ3JheVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0Ymx1ZToge1xuXHRcdFx0XHRiYWNrZ3JvdW5kOiBzdHlsZXMuY29sb3JzLmJsdWUsXG5cdFx0XHRcdGJvcmRlckNvbG9yOiAncmdiYSgwLDAsMCwwLjYpJyxcblx0XHRcdFx0Y29sb3I6ICd3aGl0ZScsXG5cdFx0XHRcdCc6aG92ZXInOiB7XG5cdFx0XHRcdFx0YmFja2dyb3VuZDogc3R5bGVzLmNvbG9ycy5saWdodGVyQmx1ZSxcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGdyZWVuOiB7XG5cdFx0XHRcdGJhY2tncm91bmQ6IHN0eWxlcy5jb2xvcnMuZ3JlZW4sXG5cdFx0XHRcdGNvbG9yOiAnd2hpdGUnLFxuXHRcdFx0XHRib3JkZXJDb2xvcjogJ3JnYmEoMCwwLDAsMC42KScsXG5cdFx0XHRcdCc6aG92ZXInOiB7XG5cdFx0XHRcdFx0YmFja2dyb3VuZDogc3R5bGVzLmNvbG9ycy5saWdodGVyR3JlZW4sXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHR0aGVtZXM6IHtcblx0XHRcdHdwOiB7fSxcblx0XHRcdGpldHBhY2s6IHtcblx0XHRcdFx0cGFkZGluZzogJzE4cHggMjRweCAxNXB4Jyxcblx0XHRcdFx0Ym9yZGVyUmFkaXVzOiA2LFxuXHRcdFx0XHRib3JkZXJTdHlsZTogJ25vbmUnLFxuXHRcdFx0XHRib3hTaGFkb3c6ICcwIDZweCAwICMzZTZjMjAsMCA2cHggM3B4IHJnYmEoMCwwLDAsMC40KSdcblx0XHRcdH1cblx0XHR9LFxuXHRcdFxuXHRcdGlubGluZToge1xuXHRcdFx0ZGlzcGxheTogJ2lubGluZS1ibG9jaydcblx0XHR9LFxuXG5cdFx0ZGlzYWJsZWQ6IHtcblx0XHRcdGJhY2tncm91bmQ6ICcjZjlmOWY5Jyxcblx0XHRcdGJvcmRlckNvbG9yOiBzdHlsZXMuY29sb3JzLmxpZ2h0R3JheSxcblx0XHRcdGNvbG9yOiBzdHlsZXMuY29sb3JzLmxpZ2h0R3JheSxcblx0XHRcdCc6aG92ZXInOiB7XG5cdFx0XHRcdGJhY2tncm91bmQ6ICcjZjlmOWY5Jyxcblx0XHRcdFx0Ym9yZGVyQ29sb3I6IHN0eWxlcy5jb2xvcnMubGlnaHRHcmF5LFxuXHRcdFx0XHRjb2xvcjogc3R5bGVzLmNvbG9ycy5saWdodEdyYXksXG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgJF9fMD0gICAgICAgICAgdGhpcy5wcm9wcyxzaXplPSRfXzAuc2l6ZSxjb2xvcj0kX18wLmNvbG9yLGlubGluZT0kX18wLmlubGluZSxvbkNsaWNrPSRfXzAub25DbGljayx0aGVtZT0kX18wLnRoZW1lLGhyZWY9JF9fMC5ocmVmLG90aGVyPShmdW5jdGlvbihzb3VyY2UsIGV4Y2x1c2lvbikge3ZhciByZXN0ID0ge307dmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7aWYgKHNvdXJjZSA9PSBudWxsKSB7dGhyb3cgbmV3IFR5cGVFcnJvcigpO31mb3IgKHZhciBrZXkgaW4gc291cmNlKSB7aWYgKGhhc093bi5jYWxsKHNvdXJjZSwga2V5KSAmJiAhaGFzT3duLmNhbGwoZXhjbHVzaW9uLCBrZXkpKSB7cmVzdFtrZXldID0gc291cmNlW2tleV07fX1yZXR1cm4gcmVzdDt9KSgkX18wLHtzaXplOjEsY29sb3I6MSxpbmxpbmU6MSxvbkNsaWNrOjEsdGhlbWU6MSxocmVmOjF9KTtcblxuXHRcdHZhciBjYWxsYmFjaztcblxuXHRcdHZhciBjb21iaW5lZFN0eWxlID0gW1xuXHRcdFx0dGhpcy5zdHlsZXMuYmFzaWMsIFxuXHRcdFx0dGhpcy5zdHlsZXMuc2l6ZXNbc2l6ZV0sXG5cdFx0XHR0aGlzLnN0eWxlcy5jb2xvcnNbY29sb3JdLFxuXHRcdFx0dGhpcy5zdHlsZXMudGhlbWVzW3RoZW1lXSxcblx0XHRcdHRoaXMucHJvcHMuZGlzYWJsZWQgJiYgdGhpcy5zdHlsZXMuZGlzYWJsZWQsXG5cdFx0XHRpbmxpbmUgJiYgdGhpcy5zdHlsZXMuaW5saW5lLFxuXHRcdFx0dGhpcy5wcm9wcy5zdHlsZVxuXHRcdF07XG5cblx0XHRpZiAoIGhyZWYgJiYgIW9uQ2xpY2spIHtcblx0XHRcdGNhbGxiYWNrID0gdGhpcy5oYW5kbGVDYWxsYmFja0hyZWY7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNhbGxiYWNrID0gb25DbGljaztcblx0XHR9XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBSZWFjdC5fX3NwcmVhZCh7fSwgIG90aGVyLCB7c3R5bGU6IGNvbWJpbmVkU3R5bGUsIG9uQ2xpY2s6IGNhbGxiYWNrLCBvbk1vdXNlT3ZlcjogdGhpcy5oYW5kbGVNb3VzZU92ZXIsIG9uTW91c2VPdXQ6IHRoaXMuaGFuZGxlTW91c2VPdXR9KSwgXG5cdFx0XHRcdHRoaXMucHJvcHMuY2hpbGRyZW5cblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSYWRpdW0oQnV0dG9uKTsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKSxcblx0UmFkaXVtID0gcmVxdWlyZSgncmFkaXVtJyk7XG5cbi8qKlxuICogU2hvdyBwcm9ncmVzcyB0aHJvdWdoIHRoZSBzdGVwc1xuICogTk9URTogcHJvZ3Jlc3NQZXJjZW50IE1VU1QgYmUgcm91bmRlZCB0byB0aGUgbmVhcmVzdCAxMCwgaS5lLiAxMCwgMjAsIDMwLCA0MC4uLjEwMFxuICogVGhpcyBpcyByZXF1aXJlZCBmb3IgdGhlIENTUyB0byB3b3JrICh3aWxsIGZpeCBsYXRlci4uLilcbiAqKi9cbnZhciBQcm9ncmVzc0JhciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJQcm9ncmVzc0JhclwiLFxuXG5cdHByb3BUeXBlczoge1xuXHRcdHN0eWxlOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHRcdHByb2dyZXNzUGVyY2VudDogUmVhY3QuUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkXG5cdH0sXG5cblx0c3R5bGVzOiB7XG5cdFx0d3JhcHBlcjoge1xuXHRcdFx0Zm9udFdlaWdodDogNDAwLFxuXHRcdFx0Zm9udFNpemU6ICc4MCUnXG5cdFx0fSxcblx0XHRwcm9ncmVzczoge1xuXHRcdFx0YmFja2dyb3VuZDogJyM0YWI4NjYnLFxuXHRcdFx0d2lkdGg6ICcwJScsXG5cdFx0XHR0cmFuc2l0aW9uOiAnd2lkdGggMC41cycsXG5cdFx0XHRkaXNwbGF5OiAnYmxvY2snLFxuXHRcdFx0aGVpZ2h0OiAnMTAwJSdcblx0XHR9LFxuXHRcdGJhcjoge1xuXHRcdFx0ZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG5cdFx0XHR3aWR0aDogODAsXG5cdFx0XHRoZWlnaHQ6IDEyLFxuXHRcdFx0bWFyZ2luOiAnMCA4cHggLTJweCAwJyxcblx0XHRcdHBhZGRpbmc6IDIsXG5cdFx0XHRib3JkZXJSYWRpdXM6IDIsXG5cdFx0XHRiYWNrZ3JvdW5kOiAnI2Y1ZjVmNSdcblx0XHR9XG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHQvLyB2YXIgY2xhc3NlcyA9ICdnZXR0aW5nLXN0YXJ0ZWRfX3Byb2dyZXNzIHByb2dyZXNzXycrdGhpcy5wcm9wcy5wcm9ncmVzc1BlcmNlbnQ7XG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge3N0eWxlOiBbdGhpcy5zdHlsZXMud3JhcHBlciwgdGhpcy5wcm9wcy5zdHlsZV19LCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLmJhcn0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtzdHlsZTogW3RoaXMuc3R5bGVzLnByb2dyZXNzLCB7IHdpZHRoOiB0aGlzLnByb3BzLnByb2dyZXNzUGVyY2VudCsnJScgfV19KVxuXHRcdFx0XHQpLCBcblx0XHRcdFx0dGhpcy5wcm9wcy5wcm9ncmVzc1BlcmNlbnQsIFwiJSBjb21wbGV0ZVwiXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmFkaXVtKFByb2dyZXNzQmFyKTsiLCIvLyB0aGlzIGNvbXBvbmVudCBwcm92aWRlcyBzb21lIGJhc2ljIHJlc2V0cyBzbyB0aGF0IHRoZSByZXN0IG9mIHRoZSBzdHlsaW5nIHdvcmtzIGFzIGludGVuZGVkLlxuLy8gdGhpcyBwcmV2ZW50cyBub2lzeSBkdXBsaWNhdGlvbiBvZiByZXNldCBjb2RlIHRocm91Z2hvdXQgdGhlIGNvZGViYXNlLlxuXG4vLyB1c2FnZTpcbi8vIHVzZSB0aGlzIGFzIGEgd3JhcHBlciBmb3IgYSB0b3AtbGV2ZWwgY29tcG9uZW50IHRoYXQgdXNlcyBkb3BzLXJlYWN0LCBlLmcuXG4vL1xuLy8gcmVuZGVyOiBmdW5jdGlvbigpIHtcbi8vIFx0cmV0dXJuIChcbi8vICAgICAgIDxSZXNldD5cbi8vICAgICAgICAgLi4uIHRoZSByZXN0IG9mIG15IGNvZGUgZ29lcyBoZXJlIC4uLlxuLy8gICAgICAgPC9SZXNldD5cbi8vIFx0KVxuLy8gfVxuXG4vLyB0byBhZGQgYWRkaXRpb25hbCBDU1MsIHBhc3MgaXQgaW4gdXNpbmcgdGhlIFwiQ1NTXCIgcHJvcGVydHlcblxudmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCksXG5cdFJhZGl1bSA9IHJlcXVpcmUoJ3JhZGl1bScpLFxuXHRtID0gcmVxdWlyZSgnLi4vdXRpbHMvbScpO1xuXG52YXIgaWRDb3VudGVyID0gMDtcblxudmFyIFJlc2V0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIlJlc2V0XCIsXG5cdHByb3BUeXBlczoge1xuXHRcdGNzczogUmVhY3QuUHJvcFR5cGVzLm9iamVjdFxuXHR9LFxuXG5cdHN0eWxlOiB7XG5cdFx0cmVzZXRzOiB7XG5cdFx0XHQnKic6IHtcblx0XHRcdFx0Ym94U2l6aW5nOiAnYm9yZGVyLWJveCdcblx0XHRcdH0sXG5cdFx0XHQnZGl2LCB1bCwgb2wsIGxpLCBoMSwgaDIsIGgzLCBoNCwgaDUsIGg2LCBmb3JtLCBmaWVsZHNldCwgbGVnZW5kLCBpbnB1dCwgYnV0dG9uLCB0ZXh0YXJlYSwgcCwgYmxvY2txdW90ZSwgdGgsIHRkJzogeyBcblx0XHRcdFx0bWFyZ2luOiAwLCBwYWRkaW5nOiAwIFxuXHRcdFx0fSxcblx0XHRcdGltZzoge1xuXHRcdFx0XHRib3JkZXI6ICdub25lJyxcblx0XHRcdFx0bWF4V2lkdGg6ICcxMDAlJ1xuXHRcdFx0fSxcblx0XHRcdHRkOiB7XG5cdFx0XHRcdHZlcnRpY2FsQWxpZ246ICd0b3AnXG5cdFx0XHR9LFxuXG5cdFx0XHQvLyB0aGVzZSBzdXBwb3J0IGFuaW1hdGlvbnNcblx0XHRcdCcuc2xpZGVEb3duLWVudGVyJzoge1xuXHRcdFx0XHRvdmVyZmxvd1k6ICdoaWRkZW4nLFxuXHRcdFx0XHRtYXhIZWlnaHQ6IDAsXG5cdFx0XHRcdHRyYW5zaXRpb246ICdhbGwgLjVzIGVhc2Utb3V0J1xuXHRcdFx0fSxcblxuXHRcdFx0Jy5zbGlkZURvd24tZW50ZXItYWN0aXZlJzoge1xuXHRcdFx0XHRvdmVyZmxvd1k6ICdoaWRkZW4nLFxuXHRcdFx0XHRtYXhIZWlnaHQ6IDQwMFxuXHRcdFx0fSxcblxuXHRcdFx0Jy5zbGlkZURvd24tbGVhdmUnOiB7XG5cdFx0XHRcdG92ZXJmbG93WTogJ2hpZGRlbicsXG5cdFx0XHRcdG1heEhlaWdodDogNDAwLFxuXHRcdFx0XHR0cmFuc2l0aW9uOiAnYWxsIC41cyBlYXNlLW91dCdcblx0XHRcdH0sXG5cblx0XHRcdCcuc2xpZGVEb3duLWxlYXZlLWFjdGl2ZSc6IHtcblx0XHRcdFx0b3ZlcmZsb3dZOiAnaGlkZGVuJyxcblx0XHRcdFx0bWF4SGVpZ2h0OiAwXG5cdFx0XHR9LFxuXG5cdFx0XHQvKipcblx0XHRcdCAqIFNsaWRlIGFjcm9zcyByaWdodC10by1sZWZ0XG5cdFx0XHQgKi9cblxuXHRcdFx0Jy5zbGlkZVJUTC1lbnRlcic6IHtcblx0XHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdFx0XHRcdGxlZnQ6ICcxMDAlJyxcblx0XHRcdFx0dHJhbnNpdGlvbjogJ2FsbCAuMnMgbGluZWFyJ1xuXHRcdFx0fSxcblxuXHRcdFx0Jy5zbGlkZVJUTC1lbnRlci1hY3RpdmUnOiB7XG5cdFx0XHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuXHRcdFx0XHRsZWZ0OiAnMCUnXG5cdFx0XHR9LFxuXG5cdFx0XHQnLnNsaWRlUlRMLWxlYXZlJzoge1xuXHRcdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcblx0XHRcdFx0bGVmdDogJzAlJyxcblx0XHRcdFx0dHJhbnNpdGlvbjogJ2FsbCAuMnMgbGluZWFyJ1xuXHRcdFx0fSxcblxuXHRcdFx0Jy5zbGlkZVJUTC1sZWF2ZS1hY3RpdmUnOiB7XG5cdFx0XHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuXHRcdFx0XHRsZWZ0OiAnLTEwMCUnXG5cdFx0XHR9LFxuXG5cdFx0XHQvKipcblx0XHRcdCAqIFNsaWRlIGFjcm9zcyBsZWZ0LXRvLXJpZ2h0XG5cdFx0XHQgKi9cblxuXHRcdFx0Jy5zbGlkZUxUUi1lbnRlcic6IHtcblx0XHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdFx0XHRcdGxlZnQ6ICctMTAwJScsXG5cdFx0XHRcdHRyYW5zaXRpb246ICdhbGwgLjJzIGxpbmVhcidcblx0XHRcdH0sXG5cblx0XHRcdCcuc2xpZGVMVFItZW50ZXItYWN0aXZlJzoge1xuXHRcdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcblx0XHRcdFx0bGVmdDogJzAlJ1xuXHRcdFx0fSxcblxuXHRcdFx0Jy5zbGlkZUxUUi1sZWF2ZSc6IHtcblx0XHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdFx0XHRcdGxlZnQ6ICcwJScsXG5cdFx0XHRcdHRyYW5zaXRpb246ICdhbGwgLjJzIGxpbmVhcidcblx0XHRcdH0sXG5cblx0XHRcdCcuc2xpZGVMVFItbGVhdmUtYWN0aXZlJzoge1xuXHRcdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcblx0XHRcdFx0bGVmdDogJzEwMCUnXG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciAkX18wPSAgdGhpcy5wcm9wcyxwcm9wcz0oZnVuY3Rpb24oc291cmNlLCBleGNsdXNpb24pIHt2YXIgcmVzdCA9IHt9O3ZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O2lmIChzb3VyY2UgPT0gbnVsbCkge3Rocm93IG5ldyBUeXBlRXJyb3IoKTt9Zm9yICh2YXIga2V5IGluIHNvdXJjZSkge2lmIChoYXNPd24uY2FsbChzb3VyY2UsIGtleSkgJiYgIWhhc093bi5jYWxsKGV4Y2x1c2lvbiwga2V5KSkge3Jlc3Rba2V5XSA9IHNvdXJjZVtrZXldO319cmV0dXJuIHJlc3Q7fSkoJF9fMCx7fSksXG5cdFx0XHRpZCA9IHRoaXMuX2dlbmVyYXRlSWQoKTtcblxuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIFJlYWN0Ll9fc3ByZWFkKHtpZDogaWR9LCAgcHJvcHMpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChSYWRpdW0uU3R5bGUsIHtzY29wZVNlbGVjdG9yOiAnIycraWQsIHJ1bGVzOiBtKHRoaXMuc3R5bGUucmVzZXRzLCB0aGlzLnByb3BzLmNzcyl9KSwgXG5cdFx0XHRcdHRoaXMucHJvcHMuY2hpbGRyZW5cblx0XHRcdClcblx0XHQpO1xuXHR9LFxuXG5cdF9nZW5lcmF0ZUlkOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gJ2RvcHNpZCcrKGlkQ291bnRlcisrKTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVzZXQ7IiwidmFyIHN0eWxlcyA9IHtcblx0Ly9sYXlvdXRcblx0cmlnaHQ6IHsgZmxvYXQ6ICdyaWdodCcgfSxcblx0XG5cdGxlZnQ6IHsgZmxvYXQ6ICdsZWZ0JyB9LFxuXHRcblx0dGhpcmQ6IHsgd2lkdGg6ICczMyUnIH0sXG5cblx0ZnVsbDogeyB3aWR0aDogJzEwMCUnIH0sXG5cblx0aGFsZjogeyB3aWR0aDogJzQ4JScgfSxcblxuXHRoaWRkZW46IHsgZGlzcGxheTogJ25vbmUnIH0sXG5cblx0Y2xlYXI6IHtcblx0XHRjbGVhcjogJ2JvdGgnLCBcblx0XHRkaXNwbGF5OiAnYmxvY2snIFxuXHR9LFxuXG5cdC8vYWNjb3VudCBzdGF0dXMgaW5kaWNhdG9yXG5cdGFjY291bnRTdGF0dXM6IHtcblx0XHR0ZXh0VHJhbnNmb3JtOiAnY2FwaXRhbGl6ZSdcblx0fSxcblxuXHRhY2NvdW50U3RhdHVzTm90aWNvbjoge1xuXHRcdGJvcmRlclJhZGl1czogXCI1MCVcIixcblx0XHR3aWR0aDogMTYsXG5cdFx0aGVpZ2h0OiAxNixcblx0XHRtYXJnaW5SaWdodDogMTAsXG5cdFx0Y29sb3I6ICcjZmZmJyxcblx0XHRiYWNrZ3JvdW5kOiAnIzgxYmYxNidcblx0fSxcblxuXHQvL2JveCB3aWRnZXRcblx0Ym94OiB7XG5cdFx0Ym9yZGVyUmFkaXVzOiAyLFxuXHRcdHBhZGRpbmc6ICc1cHggMTBweCcsXG5cdFx0YmFja2dyb3VuZDogJyNmNWY1ZjUnXG5cdH0sXG5cblx0Ly9iYXNpYyBzdHlsaW5nIC0gZm9udHMgYW5kIGNvbG9yc1xuXHRsaWdodDogeyBjb2xvcjogJyM5OTknIH0sXG5cdGNvbG9yczoge1xuXHRcdGFraXNtZXRHcmVlbjogJyM1ZThlMTQnLFxuXHRcdGJsdWU6ICcjMDI5ZGQ2Jyxcblx0XHRsaWdodGVyQmx1ZTogJyMxM0FFRTcnLFxuXHRcdGJsYWNrOiAnIzMzMycsXG5cdFx0ZGFya0dyYXk6ICcjNDQ0Jyxcblx0XHRncmF5OiAnIzc4Nzg3OCcsXG5cdFx0bGlnaHRHcmF5OiAnI2JiYicsXG5cdFx0dmVyeUxpZ2h0R3JheTogJyNlZWUnLFxuXHRcdG9mZldoaXRlOiAnI2Y5ZjlmOScsXG5cdFx0YWNjb3VudEFjdGl2ZTogJyM4MWJmMTYnLFxuXHRcdGFjY291bnRJbmFjdGl2ZTogJyNiYmInLFxuXHRcdGdyZWVuOiAnIzUxOGQyYScsXG5cdFx0bGlnaHRlckdyZWVuOiAnIzU3OTcyZCdcblx0fSxcblxuXHRmb250czoge1xuXHRcdHNhbnM6ICdPcGVuIFNhbnMsIFwiT3BlbiBTYW5zXCIsIFwiSGVsdmV0aWNhIE5ldWVcIiwgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZicsXG5cdFx0c2VyaWY6ICdNZXJyaXdlYXRoZXIsIEdlb3JnaWEsIHNlcmlmJyxcblx0XHRtb25vOiAnXCJDb3VyaWVyIE5ld1wiLCBDb3VyaWVyLCBtb25vc3BhY2UnXG5cdH0sXG5cblx0Ly9mb3Jtc1xuXHRpbnB1dDoge1xuXHRcdHdpZHRoOiBcIjEwMCVcIixcblx0XHRib3hTaGFkb3c6ICdub25lJyxcblx0XHRiYWNrZ3JvdW5kOiAnI2ZmZicsXG5cdFx0Ym9yZGVyOiAnMXB4IHNvbGlkICNkNWQ1ZDUnLFxuXHRcdGZvbnRTaXplOiAxMixcblx0XHRwYWRkaW5nOiAnOHB4IDEwcHgnXG5cdH0sXG5cblx0c2VsZWN0OiB7XG5cdFx0Ym9yZGVyUmFkaXVzOiAzLFxuXHRcdGJhY2tncm91bmRDb2xvcjogJyNmZmYnLFxuXHRcdGZvbnRTaXplOiAxMixcblx0XHRoZWlnaHQ6IDM1LFxuXHRcdHdpZHRoOiAnMTAwJScsXG5cdFx0Ym9yZGVyOiAnMXB4IHNvbGlkICNkNWQ1ZDUnLFxuXHRcdHBhZGRpbmc6ICczcHggNXB4Jyxcblx0XHRtaW5XaWR0aDogMFxuXHR9LFxuXG5cdGNoZWNrYm94OiB7XG5cdFx0bWFyZ2luUmlnaHQ6IDEwXG5cdH0sXG5cblx0ZXJyb3JGaWVsZDoge1xuXHRcdGJvcmRlcjogJzFweCBzb2xpZCAjZGQzZDM2J1xuXHR9LFxuXHRcblx0ZXJyb3JMYWJlbDoge1xuXHRcdGJvcmRlcjogJzFweCBzb2xpZCAjZGQzZDM2Jyxcblx0XHRjb2xvcjogJyNhMDAnLFxuXHRcdGRpc3BsYXk6ICdibG9jaycsXG5cdFx0Zm9udFNpemU6IDEyLFxuXHRcdG1hcmdpbjogJzVweCAwIDAgMCcsXG5cdFx0cGFkZGluZzogNVxuXHR9LFxuXG5cdFxufTtcblxuLy8gb3B0aW9uYWwgdG9wLWxldmVsIHN0eWxlcyBmb3IgcGFzc2luZyBpbnRvIHRoZSBcInJlc2V0XCIgb2JqZWN0XG5zdHlsZXMuY3NzID0ge1xuXHQnPiAqJzoge1xuXHRcdGZvbnQ6ICcxNHB4LzEuNSAnICsgc3R5bGVzLmZvbnRzLnNhbnMsXG5cdFx0Y29sb3I6IHN0eWxlcy5jb2xvcnMuYmxhY2tcblx0fSxcblx0YToge1xuXHRcdGNvbG9yOiBzdHlsZXMuY29sb3JzLmJsdWUsXG5cdFx0dGV4dERlY29yYXRpb246ICdub25lJ1xuXHR9LFxuXHQnYTpob3Zlcic6IHtcblx0XHR0ZXh0RGVjb3JhdGlvbjogJ3VuZGVybGluZSdcblx0fSxcblx0aDE6IHtcblx0XHRmb250U2l6ZTogMzRcblx0fSxcblx0aDI6IHtcblx0XHRjb2xvcjogc3R5bGVzLmNvbG9ycy5ncmF5LFxuXHRcdGZvbnRTaXplOiAxNlxuXHR9LFxuXHRoMzoge1xuXHRcdGZvbnRTaXplOiAxOFxuXHR9LFxuXHQnaDEsIGgyLCBoMyc6IHtcblx0XHRmb250RmFtaWx5OiBzdHlsZXMuZm9udHMuc2VyaWYsXG5cdFx0Zm9udFdlaWdodDogNTAwXG5cdH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVzOyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdHZhciByZXMgPSB7fTtcblx0Zm9yICggdmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgKytpKSB7XG5cdFx0aWYgKGFyZ3VtZW50c1tpXSkge1xuXHRcdFx0alF1ZXJ5LmV4dGVuZChyZXMsIGFyZ3VtZW50c1tpXSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiByZXM7XG59OyIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cy5EaXNwYXRjaGVyID0gcmVxdWlyZSgnLi9saWIvRGlzcGF0Y2hlcicpXG4iLCIvKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIERpc3BhdGNoZXJcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCcuL2ludmFyaWFudCcpO1xuXG52YXIgX2xhc3RJRCA9IDE7XG52YXIgX3ByZWZpeCA9ICdJRF8nO1xuXG4vKipcbiAqIERpc3BhdGNoZXIgaXMgdXNlZCB0byBicm9hZGNhc3QgcGF5bG9hZHMgdG8gcmVnaXN0ZXJlZCBjYWxsYmFja3MuIFRoaXMgaXNcbiAqIGRpZmZlcmVudCBmcm9tIGdlbmVyaWMgcHViLXN1YiBzeXN0ZW1zIGluIHR3byB3YXlzOlxuICpcbiAqICAgMSkgQ2FsbGJhY2tzIGFyZSBub3Qgc3Vic2NyaWJlZCB0byBwYXJ0aWN1bGFyIGV2ZW50cy4gRXZlcnkgcGF5bG9hZCBpc1xuICogICAgICBkaXNwYXRjaGVkIHRvIGV2ZXJ5IHJlZ2lzdGVyZWQgY2FsbGJhY2suXG4gKiAgIDIpIENhbGxiYWNrcyBjYW4gYmUgZGVmZXJyZWQgaW4gd2hvbGUgb3IgcGFydCB1bnRpbCBvdGhlciBjYWxsYmFja3MgaGF2ZVxuICogICAgICBiZWVuIGV4ZWN1dGVkLlxuICpcbiAqIEZvciBleGFtcGxlLCBjb25zaWRlciB0aGlzIGh5cG90aGV0aWNhbCBmbGlnaHQgZGVzdGluYXRpb24gZm9ybSwgd2hpY2hcbiAqIHNlbGVjdHMgYSBkZWZhdWx0IGNpdHkgd2hlbiBhIGNvdW50cnkgaXMgc2VsZWN0ZWQ6XG4gKlxuICogICB2YXIgZmxpZ2h0RGlzcGF0Y2hlciA9IG5ldyBEaXNwYXRjaGVyKCk7XG4gKlxuICogICAvLyBLZWVwcyB0cmFjayBvZiB3aGljaCBjb3VudHJ5IGlzIHNlbGVjdGVkXG4gKiAgIHZhciBDb3VudHJ5U3RvcmUgPSB7Y291bnRyeTogbnVsbH07XG4gKlxuICogICAvLyBLZWVwcyB0cmFjayBvZiB3aGljaCBjaXR5IGlzIHNlbGVjdGVkXG4gKiAgIHZhciBDaXR5U3RvcmUgPSB7Y2l0eTogbnVsbH07XG4gKlxuICogICAvLyBLZWVwcyB0cmFjayBvZiB0aGUgYmFzZSBmbGlnaHQgcHJpY2Ugb2YgdGhlIHNlbGVjdGVkIGNpdHlcbiAqICAgdmFyIEZsaWdodFByaWNlU3RvcmUgPSB7cHJpY2U6IG51bGx9XG4gKlxuICogV2hlbiBhIHVzZXIgY2hhbmdlcyB0aGUgc2VsZWN0ZWQgY2l0eSwgd2UgZGlzcGF0Y2ggdGhlIHBheWxvYWQ6XG4gKlxuICogICBmbGlnaHREaXNwYXRjaGVyLmRpc3BhdGNoKHtcbiAqICAgICBhY3Rpb25UeXBlOiAnY2l0eS11cGRhdGUnLFxuICogICAgIHNlbGVjdGVkQ2l0eTogJ3BhcmlzJ1xuICogICB9KTtcbiAqXG4gKiBUaGlzIHBheWxvYWQgaXMgZGlnZXN0ZWQgYnkgYENpdHlTdG9yZWA6XG4gKlxuICogICBmbGlnaHREaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAqICAgICBpZiAocGF5bG9hZC5hY3Rpb25UeXBlID09PSAnY2l0eS11cGRhdGUnKSB7XG4gKiAgICAgICBDaXR5U3RvcmUuY2l0eSA9IHBheWxvYWQuc2VsZWN0ZWRDaXR5O1xuICogICAgIH1cbiAqICAgfSk7XG4gKlxuICogV2hlbiB0aGUgdXNlciBzZWxlY3RzIGEgY291bnRyeSwgd2UgZGlzcGF0Y2ggdGhlIHBheWxvYWQ6XG4gKlxuICogICBmbGlnaHREaXNwYXRjaGVyLmRpc3BhdGNoKHtcbiAqICAgICBhY3Rpb25UeXBlOiAnY291bnRyeS11cGRhdGUnLFxuICogICAgIHNlbGVjdGVkQ291bnRyeTogJ2F1c3RyYWxpYSdcbiAqICAgfSk7XG4gKlxuICogVGhpcyBwYXlsb2FkIGlzIGRpZ2VzdGVkIGJ5IGJvdGggc3RvcmVzOlxuICpcbiAqICAgIENvdW50cnlTdG9yZS5kaXNwYXRjaFRva2VuID0gZmxpZ2h0RGlzcGF0Y2hlci5yZWdpc3RlcihmdW5jdGlvbihwYXlsb2FkKSB7XG4gKiAgICAgaWYgKHBheWxvYWQuYWN0aW9uVHlwZSA9PT0gJ2NvdW50cnktdXBkYXRlJykge1xuICogICAgICAgQ291bnRyeVN0b3JlLmNvdW50cnkgPSBwYXlsb2FkLnNlbGVjdGVkQ291bnRyeTtcbiAqICAgICB9XG4gKiAgIH0pO1xuICpcbiAqIFdoZW4gdGhlIGNhbGxiYWNrIHRvIHVwZGF0ZSBgQ291bnRyeVN0b3JlYCBpcyByZWdpc3RlcmVkLCB3ZSBzYXZlIGEgcmVmZXJlbmNlXG4gKiB0byB0aGUgcmV0dXJuZWQgdG9rZW4uIFVzaW5nIHRoaXMgdG9rZW4gd2l0aCBgd2FpdEZvcigpYCwgd2UgY2FuIGd1YXJhbnRlZVxuICogdGhhdCBgQ291bnRyeVN0b3JlYCBpcyB1cGRhdGVkIGJlZm9yZSB0aGUgY2FsbGJhY2sgdGhhdCB1cGRhdGVzIGBDaXR5U3RvcmVgXG4gKiBuZWVkcyB0byBxdWVyeSBpdHMgZGF0YS5cbiAqXG4gKiAgIENpdHlTdG9yZS5kaXNwYXRjaFRva2VuID0gZmxpZ2h0RGlzcGF0Y2hlci5yZWdpc3RlcihmdW5jdGlvbihwYXlsb2FkKSB7XG4gKiAgICAgaWYgKHBheWxvYWQuYWN0aW9uVHlwZSA9PT0gJ2NvdW50cnktdXBkYXRlJykge1xuICogICAgICAgLy8gYENvdW50cnlTdG9yZS5jb3VudHJ5YCBtYXkgbm90IGJlIHVwZGF0ZWQuXG4gKiAgICAgICBmbGlnaHREaXNwYXRjaGVyLndhaXRGb3IoW0NvdW50cnlTdG9yZS5kaXNwYXRjaFRva2VuXSk7XG4gKiAgICAgICAvLyBgQ291bnRyeVN0b3JlLmNvdW50cnlgIGlzIG5vdyBndWFyYW50ZWVkIHRvIGJlIHVwZGF0ZWQuXG4gKlxuICogICAgICAgLy8gU2VsZWN0IHRoZSBkZWZhdWx0IGNpdHkgZm9yIHRoZSBuZXcgY291bnRyeVxuICogICAgICAgQ2l0eVN0b3JlLmNpdHkgPSBnZXREZWZhdWx0Q2l0eUZvckNvdW50cnkoQ291bnRyeVN0b3JlLmNvdW50cnkpO1xuICogICAgIH1cbiAqICAgfSk7XG4gKlxuICogVGhlIHVzYWdlIG9mIGB3YWl0Rm9yKClgIGNhbiBiZSBjaGFpbmVkLCBmb3IgZXhhbXBsZTpcbiAqXG4gKiAgIEZsaWdodFByaWNlU3RvcmUuZGlzcGF0Y2hUb2tlbiA9XG4gKiAgICAgZmxpZ2h0RGlzcGF0Y2hlci5yZWdpc3RlcihmdW5jdGlvbihwYXlsb2FkKSB7XG4gKiAgICAgICBzd2l0Y2ggKHBheWxvYWQuYWN0aW9uVHlwZSkge1xuICogICAgICAgICBjYXNlICdjb3VudHJ5LXVwZGF0ZSc6XG4gKiAgICAgICAgICAgZmxpZ2h0RGlzcGF0Y2hlci53YWl0Rm9yKFtDaXR5U3RvcmUuZGlzcGF0Y2hUb2tlbl0pO1xuICogICAgICAgICAgIEZsaWdodFByaWNlU3RvcmUucHJpY2UgPVxuICogICAgICAgICAgICAgZ2V0RmxpZ2h0UHJpY2VTdG9yZShDb3VudHJ5U3RvcmUuY291bnRyeSwgQ2l0eVN0b3JlLmNpdHkpO1xuICogICAgICAgICAgIGJyZWFrO1xuICpcbiAqICAgICAgICAgY2FzZSAnY2l0eS11cGRhdGUnOlxuICogICAgICAgICAgIEZsaWdodFByaWNlU3RvcmUucHJpY2UgPVxuICogICAgICAgICAgICAgRmxpZ2h0UHJpY2VTdG9yZShDb3VudHJ5U3RvcmUuY291bnRyeSwgQ2l0eVN0b3JlLmNpdHkpO1xuICogICAgICAgICAgIGJyZWFrO1xuICogICAgIH1cbiAqICAgfSk7XG4gKlxuICogVGhlIGBjb3VudHJ5LXVwZGF0ZWAgcGF5bG9hZCB3aWxsIGJlIGd1YXJhbnRlZWQgdG8gaW52b2tlIHRoZSBzdG9yZXMnXG4gKiByZWdpc3RlcmVkIGNhbGxiYWNrcyBpbiBvcmRlcjogYENvdW50cnlTdG9yZWAsIGBDaXR5U3RvcmVgLCB0aGVuXG4gKiBgRmxpZ2h0UHJpY2VTdG9yZWAuXG4gKi9cblxuICBmdW5jdGlvbiBEaXNwYXRjaGVyKCkge1xuICAgIHRoaXMuJERpc3BhdGNoZXJfY2FsbGJhY2tzID0ge307XG4gICAgdGhpcy4kRGlzcGF0Y2hlcl9pc1BlbmRpbmcgPSB7fTtcbiAgICB0aGlzLiREaXNwYXRjaGVyX2lzSGFuZGxlZCA9IHt9O1xuICAgIHRoaXMuJERpc3BhdGNoZXJfaXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuICAgIHRoaXMuJERpc3BhdGNoZXJfcGVuZGluZ1BheWxvYWQgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBhIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgd2l0aCBldmVyeSBkaXNwYXRjaGVkIHBheWxvYWQuIFJldHVybnNcbiAgICogYSB0b2tlbiB0aGF0IGNhbiBiZSB1c2VkIHdpdGggYHdhaXRGb3IoKWAuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIERpc3BhdGNoZXIucHJvdG90eXBlLnJlZ2lzdGVyPWZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgdmFyIGlkID0gX3ByZWZpeCArIF9sYXN0SUQrKztcbiAgICB0aGlzLiREaXNwYXRjaGVyX2NhbGxiYWNrc1tpZF0gPSBjYWxsYmFjaztcbiAgICByZXR1cm4gaWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBjYWxsYmFjayBiYXNlZCBvbiBpdHMgdG9rZW4uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgKi9cbiAgRGlzcGF0Y2hlci5wcm90b3R5cGUudW5yZWdpc3Rlcj1mdW5jdGlvbihpZCkge1xuICAgIGludmFyaWFudChcbiAgICAgIHRoaXMuJERpc3BhdGNoZXJfY2FsbGJhY2tzW2lkXSxcbiAgICAgICdEaXNwYXRjaGVyLnVucmVnaXN0ZXIoLi4uKTogYCVzYCBkb2VzIG5vdCBtYXAgdG8gYSByZWdpc3RlcmVkIGNhbGxiYWNrLicsXG4gICAgICBpZFxuICAgICk7XG4gICAgZGVsZXRlIHRoaXMuJERpc3BhdGNoZXJfY2FsbGJhY2tzW2lkXTtcbiAgfTtcblxuICAvKipcbiAgICogV2FpdHMgZm9yIHRoZSBjYWxsYmFja3Mgc3BlY2lmaWVkIHRvIGJlIGludm9rZWQgYmVmb3JlIGNvbnRpbnVpbmcgZXhlY3V0aW9uXG4gICAqIG9mIHRoZSBjdXJyZW50IGNhbGxiYWNrLiBUaGlzIG1ldGhvZCBzaG91bGQgb25seSBiZSB1c2VkIGJ5IGEgY2FsbGJhY2sgaW5cbiAgICogcmVzcG9uc2UgdG8gYSBkaXNwYXRjaGVkIHBheWxvYWQuXG4gICAqXG4gICAqIEBwYXJhbSB7YXJyYXk8c3RyaW5nPn0gaWRzXG4gICAqL1xuICBEaXNwYXRjaGVyLnByb3RvdHlwZS53YWl0Rm9yPWZ1bmN0aW9uKGlkcykge1xuICAgIGludmFyaWFudChcbiAgICAgIHRoaXMuJERpc3BhdGNoZXJfaXNEaXNwYXRjaGluZyxcbiAgICAgICdEaXNwYXRjaGVyLndhaXRGb3IoLi4uKTogTXVzdCBiZSBpbnZva2VkIHdoaWxlIGRpc3BhdGNoaW5nLidcbiAgICApO1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBpZHMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICB2YXIgaWQgPSBpZHNbaWldO1xuICAgICAgaWYgKHRoaXMuJERpc3BhdGNoZXJfaXNQZW5kaW5nW2lkXSkge1xuICAgICAgICBpbnZhcmlhbnQoXG4gICAgICAgICAgdGhpcy4kRGlzcGF0Y2hlcl9pc0hhbmRsZWRbaWRdLFxuICAgICAgICAgICdEaXNwYXRjaGVyLndhaXRGb3IoLi4uKTogQ2lyY3VsYXIgZGVwZW5kZW5jeSBkZXRlY3RlZCB3aGlsZSAnICtcbiAgICAgICAgICAnd2FpdGluZyBmb3IgYCVzYC4nLFxuICAgICAgICAgIGlkXG4gICAgICAgICk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaW52YXJpYW50KFxuICAgICAgICB0aGlzLiREaXNwYXRjaGVyX2NhbGxiYWNrc1tpZF0sXG4gICAgICAgICdEaXNwYXRjaGVyLndhaXRGb3IoLi4uKTogYCVzYCBkb2VzIG5vdCBtYXAgdG8gYSByZWdpc3RlcmVkIGNhbGxiYWNrLicsXG4gICAgICAgIGlkXG4gICAgICApO1xuICAgICAgdGhpcy4kRGlzcGF0Y2hlcl9pbnZva2VDYWxsYmFjayhpZCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBEaXNwYXRjaGVzIGEgcGF5bG9hZCB0byBhbGwgcmVnaXN0ZXJlZCBjYWxsYmFja3MuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXlsb2FkXG4gICAqL1xuICBEaXNwYXRjaGVyLnByb3RvdHlwZS5kaXNwYXRjaD1mdW5jdGlvbihwYXlsb2FkKSB7XG4gICAgaW52YXJpYW50KFxuICAgICAgIXRoaXMuJERpc3BhdGNoZXJfaXNEaXNwYXRjaGluZyxcbiAgICAgICdEaXNwYXRjaC5kaXNwYXRjaCguLi4pOiBDYW5ub3QgZGlzcGF0Y2ggaW4gdGhlIG1pZGRsZSBvZiBhIGRpc3BhdGNoLidcbiAgICApO1xuICAgIHRoaXMuJERpc3BhdGNoZXJfc3RhcnREaXNwYXRjaGluZyhwYXlsb2FkKTtcbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy4kRGlzcGF0Y2hlcl9jYWxsYmFja3MpIHtcbiAgICAgICAgaWYgKHRoaXMuJERpc3BhdGNoZXJfaXNQZW5kaW5nW2lkXSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuJERpc3BhdGNoZXJfaW52b2tlQ2FsbGJhY2soaWQpO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLiREaXNwYXRjaGVyX3N0b3BEaXNwYXRjaGluZygpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogSXMgdGhpcyBEaXNwYXRjaGVyIGN1cnJlbnRseSBkaXNwYXRjaGluZy5cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIERpc3BhdGNoZXIucHJvdG90eXBlLmlzRGlzcGF0Y2hpbmc9ZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuJERpc3BhdGNoZXJfaXNEaXNwYXRjaGluZztcbiAgfTtcblxuICAvKipcbiAgICogQ2FsbCB0aGUgY2FsbGJhY2sgc3RvcmVkIHdpdGggdGhlIGdpdmVuIGlkLiBBbHNvIGRvIHNvbWUgaW50ZXJuYWxcbiAgICogYm9va2tlZXBpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIERpc3BhdGNoZXIucHJvdG90eXBlLiREaXNwYXRjaGVyX2ludm9rZUNhbGxiYWNrPWZ1bmN0aW9uKGlkKSB7XG4gICAgdGhpcy4kRGlzcGF0Y2hlcl9pc1BlbmRpbmdbaWRdID0gdHJ1ZTtcbiAgICB0aGlzLiREaXNwYXRjaGVyX2NhbGxiYWNrc1tpZF0odGhpcy4kRGlzcGF0Y2hlcl9wZW5kaW5nUGF5bG9hZCk7XG4gICAgdGhpcy4kRGlzcGF0Y2hlcl9pc0hhbmRsZWRbaWRdID0gdHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IHVwIGJvb2trZWVwaW5nIG5lZWRlZCB3aGVuIGRpc3BhdGNoaW5nLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gcGF5bG9hZFxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIERpc3BhdGNoZXIucHJvdG90eXBlLiREaXNwYXRjaGVyX3N0YXJ0RGlzcGF0Y2hpbmc9ZnVuY3Rpb24ocGF5bG9hZCkge1xuICAgIGZvciAodmFyIGlkIGluIHRoaXMuJERpc3BhdGNoZXJfY2FsbGJhY2tzKSB7XG4gICAgICB0aGlzLiREaXNwYXRjaGVyX2lzUGVuZGluZ1tpZF0gPSBmYWxzZTtcbiAgICAgIHRoaXMuJERpc3BhdGNoZXJfaXNIYW5kbGVkW2lkXSA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLiREaXNwYXRjaGVyX3BlbmRpbmdQYXlsb2FkID0gcGF5bG9hZDtcbiAgICB0aGlzLiREaXNwYXRjaGVyX2lzRGlzcGF0Y2hpbmcgPSB0cnVlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDbGVhciBib29ra2VlcGluZyB1c2VkIGZvciBkaXNwYXRjaGluZy5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBEaXNwYXRjaGVyLnByb3RvdHlwZS4kRGlzcGF0Y2hlcl9zdG9wRGlzcGF0Y2hpbmc9ZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kRGlzcGF0Y2hlcl9wZW5kaW5nUGF5bG9hZCA9IG51bGw7XG4gICAgdGhpcy4kRGlzcGF0Y2hlcl9pc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG4gIH07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBEaXNwYXRjaGVyO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgaW52YXJpYW50XG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbnZhciBpbnZhcmlhbnQgPSBmdW5jdGlvbihjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICBpZiAoZmFsc2UpIHtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIHZhciBlcnJvcjtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICAnTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArXG4gICAgICAgICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLidcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICAnSW52YXJpYW50IFZpb2xhdGlvbjogJyArXG4gICAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107IH0pXG4gICAgICApO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbkV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKG4pIHtcbiAgaWYgKCFpc051bWJlcihuKSB8fCBuIDwgMCB8fCBpc05hTihuKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGVyLCBoYW5kbGVyLCBsZW4sIGFyZ3MsIGksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmICh0eXBlID09PSAnZXJyb3InKSB7XG4gICAgaWYgKCF0aGlzLl9ldmVudHMuZXJyb3IgfHxcbiAgICAgICAgKGlzT2JqZWN0KHRoaXMuX2V2ZW50cy5lcnJvcikgJiYgIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKSB7XG4gICAgICBlciA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgICAgfVxuICAgICAgdGhyb3cgVHlwZUVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgXCJlcnJvclwiIGV2ZW50LicpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzVW5kZWZpbmVkKGhhbmRsZXIpKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgLy8gZmFzdCBjYXNlc1xuICAgICAgY2FzZSAxOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gc2xvd2VyXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICBhcmdzID0gbmV3IEFycmF5KGxlbiAtIDEpO1xuICAgICAgICBmb3IgKGkgPSAxOyBpIDwgbGVuOyBpKyspXG4gICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIGhhbmRsZXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGhhbmRsZXIpKSB7XG4gICAgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBhcmdzID0gbmV3IEFycmF5KGxlbiAtIDEpO1xuICAgIGZvciAoaSA9IDE7IGkgPCBsZW47IGkrKylcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuXG4gICAgbGlzdGVuZXJzID0gaGFuZGxlci5zbGljZSgpO1xuICAgIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKVxuICAgICAgbGlzdGVuZXJzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIG07XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJcIi5cbiAgaWYgKHRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lcilcbiAgICB0aGlzLmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgaXNGdW5jdGlvbihsaXN0ZW5lci5saXN0ZW5lcikgP1xuICAgICAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgZWxzZSBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlXG4gICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gW3RoaXMuX2V2ZW50c1t0eXBlXSwgbGlzdGVuZXJdO1xuXG4gIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pICYmICF0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkKSB7XG4gICAgdmFyIG07XG4gICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLl9tYXhMaXN0ZW5lcnMpKSB7XG4gICAgICBtID0gdGhpcy5fbWF4TGlzdGVuZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gICAgfVxuXG4gICAgaWYgKG0gJiYgbSA+IDAgJiYgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCA+IG0pIHtcbiAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQgPSB0cnVlO1xuICAgICAgY29uc29sZS5lcnJvcignKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgJyArXG4gICAgICAgICAgICAgICAgICAgICdsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAnVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuJyxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCk7XG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUudHJhY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gbm90IHN1cHBvcnRlZCBpbiBJRSAxMFxuICAgICAgICBjb25zb2xlLnRyYWNlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIHZhciBmaXJlZCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGcoKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBnKTtcblxuICAgIGlmICghZmlyZWQpIHtcbiAgICAgIGZpcmVkID0gdHJ1ZTtcbiAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG5cbiAgZy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICB0aGlzLm9uKHR5cGUsIGcpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWRcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbGlzdCwgcG9zaXRpb24sIGxlbmd0aCwgaTtcblxuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXR1cm4gdGhpcztcblxuICBsaXN0ID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuICBsZW5ndGggPSBsaXN0Lmxlbmd0aDtcbiAgcG9zaXRpb24gPSAtMTtcblxuICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHxcbiAgICAgIChpc0Z1bmN0aW9uKGxpc3QubGlzdGVuZXIpICYmIGxpc3QubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG5cbiAgfSBlbHNlIGlmIChpc09iamVjdChsaXN0KSkge1xuICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tID4gMDspIHtcbiAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fFxuICAgICAgICAgIChsaXN0W2ldLmxpc3RlbmVyICYmIGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICByZXR1cm4gdGhpcztcblxuICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgbGlzdC5sZW5ndGggPSAwO1xuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGlzdC5zcGxpY2UocG9zaXRpb24sIDEpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGtleSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgaWYgKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIGVsc2UgaWYgKHRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICBmb3IgKGtleSBpbiB0aGlzLl9ldmVudHMpIHtcbiAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICB9XG4gICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXJzKSkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBMSUZPIG9yZGVyXG4gICAgd2hpbGUgKGxpc3RlbmVycy5sZW5ndGgpXG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tsaXN0ZW5lcnMubGVuZ3RoIC0gMV0pO1xuICB9XG4gIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIHJldDtcbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXQgPSBbXTtcbiAgZWxzZSBpZiAoaXNGdW5jdGlvbih0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIHJldCA9IFt0aGlzLl9ldmVudHNbdHlwZV1dO1xuICBlbHNlXG4gICAgcmV0ID0gdGhpcy5fZXZlbnRzW3R5cGVdLnNsaWNlKCk7XG4gIHJldHVybiByZXQ7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgdmFyIHJldDtcbiAgaWYgKCFlbWl0dGVyLl9ldmVudHMgfHwgIWVtaXR0ZXIuX2V2ZW50c1t0eXBlXSlcbiAgICByZXQgPSAwO1xuICBlbHNlIGlmIChpc0Z1bmN0aW9uKGVtaXR0ZXIuX2V2ZW50c1t0eXBlXSkpXG4gICAgcmV0ID0gMTtcbiAgZWxzZVxuICAgIHJldCA9IGVtaXR0ZXIuX2V2ZW50c1t0eXBlXS5sZW5ndGg7XG4gIHJldHVybiByZXQ7XG59O1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcblxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBzZXRUaW1lb3V0KGRyYWluUXVldWUsIDApO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxuLy8gVE9ETyhzaHR5bG1hbilcbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGFuIGVudW1lcmF0aW9uIHdpdGgga2V5cyBlcXVhbCB0byB0aGVpciB2YWx1ZS5cbiAqXG4gKiBGb3IgZXhhbXBsZTpcbiAqXG4gKiAgIHZhciBDT0xPUlMgPSBrZXlNaXJyb3Ioe2JsdWU6IG51bGwsIHJlZDogbnVsbH0pO1xuICogICB2YXIgbXlDb2xvciA9IENPTE9SUy5ibHVlO1xuICogICB2YXIgaXNDb2xvclZhbGlkID0gISFDT0xPUlNbbXlDb2xvcl07XG4gKlxuICogVGhlIGxhc3QgbGluZSBjb3VsZCBub3QgYmUgcGVyZm9ybWVkIGlmIHRoZSB2YWx1ZXMgb2YgdGhlIGdlbmVyYXRlZCBlbnVtIHdlcmVcbiAqIG5vdCBlcXVhbCB0byB0aGVpciBrZXlzLlxuICpcbiAqICAgSW5wdXQ6ICB7a2V5MTogdmFsMSwga2V5MjogdmFsMn1cbiAqICAgT3V0cHV0OiB7a2V5MToga2V5MSwga2V5Mjoga2V5Mn1cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKi9cbnZhciBrZXlNaXJyb3IgPSBmdW5jdGlvbihvYmopIHtcbiAgdmFyIHJldCA9IHt9O1xuICB2YXIga2V5O1xuICBpZiAoIShvYmogaW5zdGFuY2VvZiBPYmplY3QgJiYgIUFycmF5LmlzQXJyYXkob2JqKSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2tleU1pcnJvciguLi4pOiBBcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdC4nKTtcbiAgfVxuICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICBpZiAoIW9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgcmV0W2tleV0gPSBrZXk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ga2V5TWlycm9yO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKTtcblxudmFyIFN0eWxlID0gcmVxdWlyZSgnLi9zdHlsZS5qcycpO1xudmFyIHByaW50U3R5bGVzID0gcmVxdWlyZSgnLi4vcHJpbnQtc3R5bGVzLmpzJyk7XG5cbnZhciBQcmludFN0eWxlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ1ByaW50U3R5bGUnLFxuXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRTdHlsZXNTdGF0ZSgpO1xuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbiA9IHByaW50U3R5bGVzLnN1YnNjcmliZSh0aGlzLl9vbkNoYW5nZSk7XG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9uLnJlbW92ZSgpO1xuICB9LFxuXG4gIF9vbkNoYW5nZTogZnVuY3Rpb24gX29uQ2hhbmdlKCkge1xuICAgIHRoaXMuc2V0U3RhdGUodGhpcy5fZ2V0U3R5bGVzU3RhdGUoKSk7XG4gIH0sXG5cbiAgX2dldFN0eWxlc1N0YXRlOiBmdW5jdGlvbiBfZ2V0U3R5bGVzU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0eWxlczogcHJpbnRTdHlsZXMuZ2V0UHJpbnRTdHlsZXMoKVxuICAgIH07XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGUsIHsgcnVsZXM6IHtcbiAgICAgICAgbWVkaWFRdWVyaWVzOiB7XG4gICAgICAgICAgcHJpbnQ6IHRoaXMuc3RhdGUuc3R5bGVzXG4gICAgICAgIH1cbiAgICAgIH0gfSk7XG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFByaW50U3R5bGU7IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3JlYXRlTWFya3VwRm9yU3R5bGVzID0gcmVxdWlyZSgnLi4vY3JlYXRlLW1hcmt1cC1mb3Itc3R5bGVzJyk7XG52YXIgUHJlZml4ZXIgPSByZXF1aXJlKCcuLi9wcmVmaXhlcicpO1xuXG52YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKTtcblxudmFyIGJ1aWxkQ3NzU3RyaW5nID0gZnVuY3Rpb24gYnVpbGRDc3NTdHJpbmcoY29tcG9uZW50LCBzZWxlY3RvciwgcnVsZXMpIHtcbiAgaWYgKCFzZWxlY3RvciB8fCAhcnVsZXMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgcHJlZml4ZWRSdWxlcyA9IFByZWZpeGVyLmdldFByZWZpeGVkU3R5bGUoY29tcG9uZW50LCBydWxlcywgJ2NzcycpO1xuICB2YXIgc2VyaWFsaXplZFJ1bGVzID0gY3JlYXRlTWFya3VwRm9yU3R5bGVzKHByZWZpeGVkUnVsZXMpO1xuXG4gIHJldHVybiBzZWxlY3RvciArICd7JyArIHNlcmlhbGl6ZWRSdWxlcyArICd9Jztcbn07XG5cbnZhciBTdHlsZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdTdHlsZScsXG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgcnVsZXM6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgc2NvcGVTZWxlY3RvcjogUmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xuICB9LFxuXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzY29wZVNlbGVjdG9yOiAnJ1xuICAgIH07XG4gIH0sXG5cbiAgX2J1aWxkU3R5bGVzOiBmdW5jdGlvbiBfYnVpbGRTdHlsZXMoc3R5bGVzKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHJldHVybiBPYmplY3Qua2V5cyhzdHlsZXMpLnJlZHVjZShmdW5jdGlvbiAoYWNjdW11bGF0b3IsIHNlbGVjdG9yKSB7XG4gICAgICB2YXIgcnVsZXMgPSBzdHlsZXNbc2VsZWN0b3JdO1xuXG4gICAgICBpZiAoc2VsZWN0b3IgPT09ICdtZWRpYVF1ZXJpZXMnKSB7XG4gICAgICAgIGFjY3VtdWxhdG9yICs9IF90aGlzLl9idWlsZE1lZGlhUXVlcnlTdHJpbmcocnVsZXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGNvbXBsZXRlU2VsZWN0b3IgPSAoX3RoaXMucHJvcHMuc2NvcGVTZWxlY3RvciA/IF90aGlzLnByb3BzLnNjb3BlU2VsZWN0b3IgKyAnICcgOiAnJykgKyBzZWxlY3RvcjtcbiAgICAgICAgYWNjdW11bGF0b3IgKz0gYnVpbGRDc3NTdHJpbmcoX3RoaXMsIGNvbXBsZXRlU2VsZWN0b3IsIHJ1bGVzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH0sICcnKTtcbiAgfSxcblxuICBfYnVpbGRNZWRpYVF1ZXJ5U3RyaW5nOiBmdW5jdGlvbiBfYnVpbGRNZWRpYVF1ZXJ5U3RyaW5nKG1lZGlhUXVlcnlPYmopIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBjb250ZXh0TWVkaWFRdWVyaWVzID0gdGhpcy5fZ2V0Q29udGV4dE1lZGlhUXVlcmllcygpO1xuICAgIHZhciBtZWRpYVF1ZXJ5U3RyaW5nID0gJyc7XG5cbiAgICBPYmplY3Qua2V5cyhtZWRpYVF1ZXJ5T2JqKS5mb3JFYWNoKGZ1bmN0aW9uIChxdWVyeSkge1xuICAgICAgdmFyIGNvbXBsZXRlUXVlcnkgPSBjb250ZXh0TWVkaWFRdWVyaWVzW3F1ZXJ5XSA/IGNvbnRleHRNZWRpYVF1ZXJpZXNbcXVlcnldIDogcXVlcnk7XG4gICAgICBtZWRpYVF1ZXJ5U3RyaW5nICs9ICdAbWVkaWEgJyArIGNvbXBsZXRlUXVlcnkgKyAneycgKyBfdGhpczIuX2J1aWxkU3R5bGVzKG1lZGlhUXVlcnlPYmpbcXVlcnldKSArICd9JztcbiAgICB9KTtcblxuICAgIHJldHVybiBtZWRpYVF1ZXJ5U3RyaW5nO1xuICB9LFxuXG4gIF9nZXRDb250ZXh0TWVkaWFRdWVyaWVzOiBmdW5jdGlvbiBfZ2V0Q29udGV4dE1lZGlhUXVlcmllcygpIHtcbiAgICB2YXIgY29udGV4dE1lZGlhUXVlcmllcyA9IHt9O1xuICAgIGlmICh0aGlzLmNvbnRleHQgJiYgdGhpcy5jb250ZXh0Lm1lZGlhUXVlcmllcykge1xuICAgICAgT2JqZWN0LmtleXModGhpcy5jb250ZXh0Lm1lZGlhUXVlcmllcykuZm9yRWFjaCgoZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgICAgIGNvbnRleHRNZWRpYVF1ZXJpZXNbcXVlcnldID0gdGhpcy5jb250ZXh0Lm1lZGlhUXVlcmllc1txdWVyeV0ubWVkaWE7XG4gICAgICB9KS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29udGV4dE1lZGlhUXVlcmllcztcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucnVsZXMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBzdHlsZXMgPSB0aGlzLl9idWlsZFN0eWxlcyh0aGlzLnByb3BzLnJ1bGVzKTtcblxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KCdzdHlsZScsIHsgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiBzdHlsZXMgfSB9KTtcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU3R5bGU7IiwiLyogQGZsb3cgKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCdleGVudicpO1xuXG52YXIgX21hdGNoTWVkaWFGdW5jdGlvbiA9IEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiB3aW5kb3cgJiYgd2luZG93Lm1hdGNoTWVkaWEgJiYgZnVuY3Rpb24gKG1lZGlhUXVlcnlTdHJpbmcpIHtcbiAgcmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKG1lZGlhUXVlcnlTdHJpbmcpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNhbk1hdGNoTWVkaWE6IGZ1bmN0aW9uIGNhbk1hdGNoTWVkaWEoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBfbWF0Y2hNZWRpYUZ1bmN0aW9uID09PSAnZnVuY3Rpb24nO1xuICB9LFxuXG4gIG1hdGNoTWVkaWE6IGZ1bmN0aW9uIG1hdGNoTWVkaWEocXVlcnkpIHtcbiAgICByZXR1cm4gX21hdGNoTWVkaWFGdW5jdGlvbihxdWVyeSk7XG4gIH0sXG5cbiAgc2V0TWF0Y2hNZWRpYTogZnVuY3Rpb24gc2V0TWF0Y2hNZWRpYShuZXh0TWF0Y2hNZWRpYUZ1bmN0aW9uKSB7XG4gICAgX21hdGNoTWVkaWFGdW5jdGlvbiA9IG5leHRNYXRjaE1lZGlhRnVuY3Rpb247XG4gIH1cbn07IiwiLyogQGZsb3cgKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3JlYXRlTWFya3VwRm9yU3R5bGVzID0gZnVuY3Rpb24gY3JlYXRlTWFya3VwRm9yU3R5bGVzKHN0eWxlLCBzcGFjZXMpIHtcbiAgc3BhY2VzID0gc3BhY2VzIHx8ICcnO1xuICByZXR1cm4gT2JqZWN0LmtleXMoc3R5bGUpLm1hcChmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICByZXR1cm4gc3BhY2VzICsgcHJvcGVydHkgKyAnOiAnICsgc3R5bGVbcHJvcGVydHldICsgJzsnO1xuICB9KS5qb2luKCdcXG4nKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlTWFya3VwRm9yU3R5bGVzOyIsIi8qIEBmbG93ICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxudmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IGRlc2MgPSBwYXJlbnQgPSBnZXR0ZXIgPSB1bmRlZmluZWQ7IF9hZ2FpbiA9IGZhbHNlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHJlc29sdmVTdHlsZXMgPSByZXF1aXJlKCcuL3Jlc29sdmUtc3R5bGVzLmpzJyk7XG52YXIgcHJpbnRTdHlsZXMgPSByZXF1aXJlKCcuL3ByaW50LXN0eWxlcy5qcycpO1xuXG52YXIgZW5oYW5jZVdpdGhSYWRpdW0gPSBmdW5jdGlvbiBlbmhhbmNlV2l0aFJhZGl1bShDb21wb3NlZENvbXBvbmVudCkge1xuICB2YXIgUmFkaXVtRW5oYW5jZXIgPSAoZnVuY3Rpb24gKF9Db21wb3NlZENvbXBvbmVudCkge1xuICAgIGZ1bmN0aW9uIFJhZGl1bUVuaGFuY2VyKCkge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJhZGl1bUVuaGFuY2VyKTtcblxuICAgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmFkaXVtRW5oYW5jZXIucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuc3RhdGUgfHwge307XG4gICAgICB0aGlzLnN0YXRlLl9yYWRpdW1TdHlsZVN0YXRlID0ge307XG5cbiAgICAgIGlmIChSYWRpdW1FbmhhbmNlci5wcmludFN0eWxlQ2xhc3MpIHtcbiAgICAgICAgdGhpcy5wcmludFN0eWxlQ2xhc3MgPSBSYWRpdW1FbmhhbmNlci5wcmludFN0eWxlQ2xhc3M7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2luaGVyaXRzKFJhZGl1bUVuaGFuY2VyLCBfQ29tcG9zZWRDb21wb25lbnQpO1xuXG4gICAgX2NyZWF0ZUNsYXNzKFJhZGl1bUVuaGFuY2VyLCBbe1xuICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciByZW5kZXJlZEVsZW1lbnQgPSBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihSYWRpdW1FbmhhbmNlci5wcm90b3R5cGUpLCAncmVuZGVyJywgdGhpcykuY2FsbCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVTdHlsZXModGhpcywgcmVuZGVyZWRFbGVtZW50KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIGlmIChfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihSYWRpdW1FbmhhbmNlci5wcm90b3R5cGUpLCAnY29tcG9uZW50V2lsbFVubW91bnQnLCB0aGlzKSkge1xuICAgICAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFJhZGl1bUVuaGFuY2VyLnByb3RvdHlwZSksICdjb21wb25lbnRXaWxsVW5tb3VudCcsIHRoaXMpLmNhbGwodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcmFkaXVtTW91c2VVcExpc3RlbmVyKSB7XG4gICAgICAgICAgdGhpcy5fcmFkaXVtTW91c2VVcExpc3RlbmVyLnJlbW92ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3JhZGl1bU1lZGlhUXVlcnlMaXN0ZW5lcnNCeVF1ZXJ5KSB7XG4gICAgICAgICAgT2JqZWN0LmtleXModGhpcy5fcmFkaXVtTWVkaWFRdWVyeUxpc3RlbmVyc0J5UXVlcnkpLmZvckVhY2goZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgICAgICAgICB0aGlzLl9yYWRpdW1NZWRpYVF1ZXJ5TGlzdGVuZXJzQnlRdWVyeVtxdWVyeV0ucmVtb3ZlKCk7XG4gICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUmFkaXVtRW5oYW5jZXI7XG4gIH0pKENvbXBvc2VkQ29tcG9uZW50KTtcblxuICAvLyBDbGFzcyBpbmhlcml0YW5jZSB1c2VzIE9iamVjdC5jcmVhdGUgYW5kIGJlY2F1c2Ugb2YgX19wcm90b19fIGlzc3Vlc1xuICAvLyB3aXRoIElFIDwxMCBhbnkgc3RhdGljIHByb3BlcnRpZXMgb2YgdGhlIHN1cGVyY2xhc3MgYXJlbid0IGluaGVyaXRlZCBhbmRcbiAgLy8gc28gbmVlZCB0byBiZSBtYW51YWxseSBwb3B1bGF0ZWRcbiAgLy8gU2VlIGh0dHA6Ly9iYWJlbGpzLmlvL2RvY3MvYWR2YW5jZWQvY2F2ZWF0cy8jY2xhc3Nlcy0xMC1hbmQtYmVsb3ctXG4gIHZhciBzdGF0aWNLZXlzID0gWydkZWZhdWx0UHJvcHMnLCAncHJvcFR5cGVzJywgJ2NvbnRleHRUeXBlcycsICdjaGlsZENvbnRleHRUeXBlcyddO1xuXG4gIHN0YXRpY0tleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKENvbXBvc2VkQ29tcG9uZW50Lmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIFJhZGl1bUVuaGFuY2VyW2tleV0gPSBDb21wb3NlZENvbXBvbmVudFtrZXldO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAvLyBUaGlzIGZpeGVzIFJlYWN0IEhvdCBMb2FkZXIgYnkgZXhwb3NpbmcgdGhlIG9yaWdpbmFsIGNvbXBvbmVudHMgdG9wIGxldmVsXG4gICAgLy8gcHJvdG90eXBlIG1ldGhvZHMgb24gdGhlIFJhZGl1bSBlbmhhbmNlZCBwcm90b3R5cGUgYXMgZGlzY3Vzc2VkIGluICMyMTkuXG4gICAgT2JqZWN0LmtleXMoQ29tcG9zZWRDb21wb25lbnQucHJvdG90eXBlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmICghUmFkaXVtRW5oYW5jZXIucHJvdG90eXBlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKENvbXBvc2VkQ29tcG9uZW50LnByb3RvdHlwZSwga2V5KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJhZGl1bUVuaGFuY2VyLnByb3RvdHlwZSwga2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIFJhZGl1bUVuaGFuY2VyLmRpc3BsYXlOYW1lID0gQ29tcG9zZWRDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9zZWRDb21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50JztcblxuICBSYWRpdW1FbmhhbmNlci5wcmludFN0eWxlQ2xhc3MgPSBwcmludFN0eWxlcy5hZGRQcmludFN0eWxlcyhSYWRpdW1FbmhhbmNlcik7XG5cbiAgcmV0dXJuIFJhZGl1bUVuaGFuY2VyO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBlbmhhbmNlV2l0aFJhZGl1bTsiLCIvKiBAZmxvdyAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBnZXRTdGF0ZUtleSA9IGZ1bmN0aW9uIGdldFN0YXRlS2V5KGVsZW1lbnRLZXkpIHtcbiAgcmV0dXJuIGVsZW1lbnRLZXkgPT09IG51bGwgfHwgZWxlbWVudEtleSA9PT0gdW5kZWZpbmVkID8gJ21haW4nIDogZWxlbWVudEtleS50b1N0cmluZygpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBnZXRTdGF0ZUtleTsiLCIvKiBAZmxvdyAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBnZXRTdGF0ZUtleSA9IHJlcXVpcmUoJy4vZ2V0LXN0YXRlLWtleScpO1xuXG52YXIgVkFMSURfS0VZUyA9IFsnOmFjdGl2ZScsICc6Zm9jdXMnLCAnOmhvdmVyJ107XG5cbnZhciBnZXRTdGF0ZSA9IGZ1bmN0aW9uIGdldFN0YXRlKHN0YXRlLCBlbGVtZW50S2V5LCB2YWx1ZSkge1xuICBpZiAoVkFMSURfS0VZUy5pbmRleE9mKHZhbHVlKSA9PT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1JhZGl1bS5nZXRTdGF0ZSBpbnZhbGlkIHZhbHVlIHBhcmFtOiBgJyArIHZhbHVlICsgJ2AnKTtcbiAgfVxuXG4gIHZhciBrZXkgPSBnZXRTdGF0ZUtleShlbGVtZW50S2V5KTtcblxuICByZXR1cm4gISEoc3RhdGUgJiYgc3RhdGUuX3JhZGl1bVN0eWxlU3RhdGUgJiYgc3RhdGUuX3JhZGl1bVN0eWxlU3RhdGVba2V5XSAmJiBzdGF0ZS5fcmFkaXVtU3R5bGVTdGF0ZVtrZXldW3ZhbHVlXSkgfHwgZmFsc2U7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFN0YXRlOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIEVuaGFuY2VyID0gcmVxdWlyZSgnLi9lbmhhbmNlcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChDb21wb3NlZENvbXBvbmVudCkge1xuICByZXR1cm4gRW5oYW5jZXIoQ29tcG9zZWRDb21wb25lbnQpO1xufTtcbm1vZHVsZS5leHBvcnRzLlN0eWxlID0gcmVxdWlyZSgnLi9jb21wb25lbnRzL3N0eWxlJyk7XG5tb2R1bGUuZXhwb3J0cy5QcmludFN0eWxlU2hlZXQgPSByZXF1aXJlKCcuL2NvbXBvbmVudHMvcHJpbnQtc3R5bGUtc2hlZXQnKTtcbm1vZHVsZS5leHBvcnRzLmdldFN0YXRlID0gcmVxdWlyZSgnLi9nZXQtc3RhdGUnKTtcbm1vZHVsZS5leHBvcnRzLmtleWZyYW1lcyA9IHJlcXVpcmUoJy4va2V5ZnJhbWVzJyk7XG5tb2R1bGUuZXhwb3J0cy5Db25maWcgPSByZXF1aXJlKCcuL2NvbmZpZycpOyIsIi8qIEBmbG93ICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGNyZWF0ZU1hcmt1cEZvclN0eWxlcyA9IHJlcXVpcmUoJy4vY3JlYXRlLW1hcmt1cC1mb3Itc3R5bGVzJyk7XG52YXIgUHJlZml4ZXIgPSByZXF1aXJlKCcuL3ByZWZpeGVyJyk7XG5cbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJ2V4ZW52Jyk7XG5cbnZhciBpc0FuaW1hdGlvblN1cHBvcnRlZCA9IEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiBQcmVmaXhlci5nZXRQcmVmaXhlZFByb3BlcnR5TmFtZSgnYW5pbWF0aW9uJykgIT09IGZhbHNlO1xuXG52YXIgYW5pbWF0aW9uSW5kZXggPSAxO1xudmFyIGFuaW1hdGlvblN0eWxlU2hlZXQgPSBudWxsO1xudmFyIGtleWZyYW1lc1ByZWZpeGVkID0gJ2tleWZyYW1lcyc7XG5cbmlmIChpc0FuaW1hdGlvblN1cHBvcnRlZCkge1xuICBhbmltYXRpb25TdHlsZVNoZWV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChhbmltYXRpb25TdHlsZVNoZWV0KTtcblxuICAvLyBUZXN0IGlmIHByZWZpeCBuZWVkZWQgZm9yIGtleWZyYW1lcyAoY29waWVkIGZyb20gUHJlZml4RnJlZSlcbiAgYW5pbWF0aW9uU3R5bGVTaGVldC50ZXh0Q29udGVudCA9ICdAa2V5ZnJhbWVzIHt9JztcbiAgaWYgKCFhbmltYXRpb25TdHlsZVNoZWV0LnNoZWV0LmNzc1J1bGVzLmxlbmd0aCkge1xuICAgIGtleWZyYW1lc1ByZWZpeGVkID0gUHJlZml4ZXIuY3NzUHJlZml4ICsgJ2tleWZyYW1lcyc7XG4gIH1cbn1cblxuLy8gU2ltcGxlIGFuaW1hdGlvbiBoZWxwZXIgdGhhdCBpbmplY3RzIENTUyBpbnRvIGEgc3R5bGUgb2JqZWN0IGNvbnRhaW5pbmcgdGhlXG4vLyBrZXlmcmFtZXMsIGFuZCByZXR1cm5zIGEgc3RyaW5nIHdpdGggdGhlIGdlbmVyYXRlZCBhbmltYXRpb24gbmFtZS5cbnZhciBrZXlmcmFtZXMgPSBmdW5jdGlvbiBrZXlmcmFtZXMoa2V5ZnJhbWVSdWxlcywgY29tcG9uZW50KSB7XG4gIHZhciBuYW1lID0gJ0FuaW1hdGlvbicgKyBhbmltYXRpb25JbmRleDtcbiAgYW5pbWF0aW9uSW5kZXggKz0gMTtcblxuICBpZiAoIWlzQW5pbWF0aW9uU3VwcG9ydGVkKSB7XG4gICAgcmV0dXJuIG5hbWU7XG4gIH1cblxuICB2YXIgcnVsZSA9ICdAJyArIGtleWZyYW1lc1ByZWZpeGVkICsgJyAnICsgbmFtZSArICcge1xcbicgKyBPYmplY3Qua2V5cyhrZXlmcmFtZVJ1bGVzKS5tYXAoZnVuY3Rpb24gKHBlcmNlbnRhZ2UpIHtcbiAgICB2YXIgcHJvcHMgPSBrZXlmcmFtZVJ1bGVzW3BlcmNlbnRhZ2VdO1xuICAgIHZhciBwcmVmaXhlZFByb3BzID0gUHJlZml4ZXIuZ2V0UHJlZml4ZWRTdHlsZShjb21wb25lbnQsIHByb3BzLCAnY3NzJyk7XG4gICAgdmFyIHNlcmlhbGl6ZWRQcm9wcyA9IGNyZWF0ZU1hcmt1cEZvclN0eWxlcyhwcmVmaXhlZFByb3BzLCAnICAnKTtcbiAgICByZXR1cm4gJyAgJyArIHBlcmNlbnRhZ2UgKyAnIHtcXG4gICcgKyBzZXJpYWxpemVkUHJvcHMgKyAnXFxuICB9JztcbiAgfSkuam9pbignXFxuJykgKyAnXFxufVxcbic7XG5cbiAgLy8gZm9yIGZsb3dcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKCFhbmltYXRpb25TdHlsZVNoZWV0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdrZXlmcmFtZXMgbm90IGluaXRpYWxpemVkIHByb3Blcmx5Jyk7XG4gIH1cblxuICBhbmltYXRpb25TdHlsZVNoZWV0LnNoZWV0Lmluc2VydFJ1bGUocnVsZSwgYW5pbWF0aW9uU3R5bGVTaGVldC5zaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICByZXR1cm4gbmFtZTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ga2V5ZnJhbWVzOyIsIi8qIEBmbG93ICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIF9jYWxsYmFja3MgPSBbXTtcbnZhciBfbW91c2VVcExpc3RlbmVySXNBY3RpdmUgPSBmYWxzZTtcblxudmFyIF9oYW5kbGVNb3VzZVVwID0gZnVuY3Rpb24gX2hhbmRsZU1vdXNlVXAoZXYpIHtcbiAgX2NhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKGV2KTtcbiAgfSk7XG59O1xuXG52YXIgc3Vic2NyaWJlID0gZnVuY3Rpb24gc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4gIGlmIChfY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spID09PSAtMSkge1xuICAgIF9jYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gIH1cblxuICBpZiAoIV9tb3VzZVVwTGlzdGVuZXJJc0FjdGl2ZSkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgX2hhbmRsZU1vdXNlVXApO1xuICAgIF9tb3VzZVVwTGlzdGVuZXJJc0FjdGl2ZSA9IHRydWU7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgdmFyIGluZGV4ID0gX2NhbGxiYWNrcy5pbmRleE9mKGNhbGxiYWNrKTtcbiAgICAgIF9jYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcblxuICAgICAgaWYgKF9jYWxsYmFja3MubGVuZ3RoID09PSAwICYmIF9tb3VzZVVwTGlzdGVuZXJJc0FjdGl2ZSkge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIF9oYW5kbGVNb3VzZVVwKTtcbiAgICAgICAgX21vdXNlVXBMaXN0ZW5lcklzQWN0aXZlID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHN1YnNjcmliZTogc3Vic2NyaWJlXG59OyIsIi8qKlxuICogQmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL2pzc3R5bGVzL2Nzcy12ZW5kb3IsIGJ1dCB3aXRob3V0IGhhdmluZyB0b1xuICogY29udmVydCBiZXR3ZWVuIGRpZmZlcmVudCBjYXNlcyBhbGwgdGhlIHRpbWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCdleGVudicpO1xudmFyIGFycmF5RmluZCA9IHJlcXVpcmUoJ2FycmF5LWZpbmQnKTtcblxudmFyIFZFTkRPUl9QUkVGSVhfUkVHRVggPSAvLShtb3p8d2Via2l0fG1zfG8pLS87XG5cbnZhciB2ZW5kb3JQcmVmaXhlcyA9IFsnV2Via2l0JywgJ21zJywgJ01veicsICdPJ107XG5cbnZhciBpbmZvQnlDc3NQcmVmaXggPSB7XG4gICctbW96LSc6IHtcbiAgICBjc3NQcmVmaXg6ICctbW96LScsXG4gICAganNQcmVmaXg6ICdNb3onLFxuICAgIGFsdGVybmF0aXZlUHJvcGVydGllczoge1xuICAgICAgLy8gT0xEIC0gRmlyZWZveCAxOS1cbiAgICAgIGFsaWduSXRlbXM6IFt7IGNzczogJy1tb3otYm94LWFsaWduJywganM6ICdNb3pCb3hBbGlnbicgfV0sXG4gICAgICBmbGV4OiBbeyBjc3M6ICctbW96LWJveC1mbGV4JywganM6ICdNb3pCb3hGbGV4JyB9XSxcbiAgICAgIGZsZXhEaXJlY3Rpb246IFt7IGNzczogJy1tb3otYm94LW9yaWVudCcsIGpzOiAnTW96Qm94T3JpZW50JyB9XSxcbiAgICAgIGp1c3RpZnlDb250ZW50OiBbeyBjc3M6ICctbW96LWJveC1wYWNrJywganM6ICdNb3pCb3hQYWNrJyB9XSxcbiAgICAgIG9yZGVyOiBbeyBjc3M6ICctbW96LWJveC1vcmRpbmFsLWdyb3VwJywganM6ICdNb3pCb3hPcmRpbmFsR3JvdXAnIH1dXG4gICAgfSxcbiAgICBhbHRlcm5hdGl2ZVZhbHVlczoge1xuICAgICAgLy8gT0xEIC0gRmlyZWZveCAxOS1cbiAgICAgIGFsaWduSXRlbXM6IHtcbiAgICAgICAgJ2ZsZXgtc3RhcnQnOiBbJ3N0YXJ0J10sXG4gICAgICAgICdmbGV4LWVuZCc6IFsnZW5kJ11cbiAgICAgIH0sXG4gICAgICBkaXNwbGF5OiB7XG4gICAgICAgIGZsZXg6IFsnLW1vei1ib3gnXVxuICAgICAgfSxcbiAgICAgIGZsZXhEaXJlY3Rpb246IHtcbiAgICAgICAgY29sdW1uOiBbJ3ZlcnRpY2FsJ10sXG4gICAgICAgIHJvdzogWydob3Jpem9udGFsJ11cbiAgICAgIH0sXG4gICAgICBqdXN0aWZ5Q29udGVudDoge1xuICAgICAgICAnZmxleC1zdGFydCc6IFsnc3RhcnQnXSxcbiAgICAgICAgJ2ZsZXgtZW5kJzogWydlbmQnXSxcbiAgICAgICAgJ3NwYWNlLWJldHdlZW4nOiBbJ2p1c3RpZnknXVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgJy1tcy0nOiB7XG4gICAgY3NzUHJlZml4OiAnLW1zLScsXG4gICAganNQcmVmaXg6ICdtcycsXG4gICAgYWx0ZXJuYXRpdmVQcm9wZXJ0aWVzOiB7XG4gICAgICAvLyBUV0VFTkVSIC0gSUUgMTBcbiAgICAgIGFsaWduQ29udGVudDogW3sgY3NzOiAnLW1zLWZsZXgtbGluZS1wYWNrJywganM6ICdtc0ZsZXhMaW5lUGFjaycgfV0sXG4gICAgICBhbGlnbkl0ZW1zOiBbeyBjc3M6ICctbXMtZmxleC1hbGlnbicsIGpzOiAnbXNGbGV4QWxpZ24nIH1dLFxuICAgICAgYWxpZ25TZWxmOiBbeyBjc3M6ICctbXMtZmxleC1hbGlnbi1pdGVtJywganM6ICdtc0ZsZXhBbGlnbkl0ZW0nIH1dLFxuICAgICAganVzdGlmeUNvbnRlbnQ6IFt7IGNzczogJy1tcy1mbGV4LXBhY2snLCBqczogJ21zRmxleFBhY2snIH1dLFxuICAgICAgb3JkZXI6IFt7IGNzczogJy1tcy1mbGV4LW9yZGVyJywganM6ICdtc0ZsZXhPcmRlcicgfV1cbiAgICB9LFxuICAgIGFsdGVybmF0aXZlVmFsdWVzOiB7XG4gICAgICAvLyBUV0VFTkVSIC0gSUUgMTBcbiAgICAgIGFsaWduQ29udGVudDoge1xuICAgICAgICAnZmxleC1zdGFydCc6IFsnc3RhcnQnXSxcbiAgICAgICAgJ2ZsZXgtZW5kJzogWydlbmQnXSxcbiAgICAgICAgJ3NwYWNlLWJldHdlZW4nOiBbJ2p1c3RpZnknXSxcbiAgICAgICAgJ3NwYWNlLWFyb3VuZCc6IFsnZGlzdHJpYnV0ZSddXG4gICAgICB9LFxuICAgICAgYWxpZ25JdGVtczoge1xuICAgICAgICAnZmxleC1zdGFydCc6IFsnc3RhcnQnXSxcbiAgICAgICAgJ2ZsZXgtZW5kJzogWydlbmQnXVxuICAgICAgfSxcbiAgICAgIGFsaWduU2VsZjoge1xuICAgICAgICAnZmxleC1zdGFydCc6IFsnc3RhcnQnXSxcbiAgICAgICAgJ2ZsZXgtZW5kJzogWydlbmQnXVxuICAgICAgfSxcbiAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgZmxleDogWyctbXMtZmxleGJveCddLFxuICAgICAgICAnaW5saW5lLWZsZXgnOiBbJy1tcy1pbmxpbmUtZmxleGJveCddXG4gICAgICB9LFxuICAgICAganVzdGlmeUNvbnRlbnQ6IHtcbiAgICAgICAgJ2ZsZXgtc3RhcnQnOiBbJ3N0YXJ0J10sXG4gICAgICAgICdmbGV4LWVuZCc6IFsnZW5kJ10sXG4gICAgICAgICdzcGFjZS1iZXR3ZWVuJzogWydqdXN0aWZ5J10sXG4gICAgICAgICdzcGFjZS1hcm91bmQnOiBbJ2Rpc3RyaWJ1dGUnXVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgJy1vLSc6IHtcbiAgICBjc3NQcmVmaXg6ICctby0nLFxuICAgIGpzUHJlZml4OiAnTydcbiAgfSxcbiAgJy13ZWJraXQtJzoge1xuICAgIGNzc1ByZWZpeDogJy13ZWJraXQtJyxcbiAgICBqc1ByZWZpeDogJ1dlYmtpdCcsXG4gICAgYWx0ZXJuYXRpdmVQcm9wZXJ0aWVzOiB7XG4gICAgICAvLyBPTEQgLSBpT1MgNi0sIFNhZmFyaSAzLjEtNlxuICAgICAgYWxpZ25JdGVtczogW3sgY3NzOiAnLXdlYmtpdC1ib3gtYWxpZ24nLCBqczogJ1dlYmtpdEJveEFsaWduJyB9XSxcbiAgICAgIGZsZXg6IFt7IGNzczogJy13ZWJraXQtYm94LWZsZXgnLCBqczogJ01vekJveEZsZXgnIH1dLFxuICAgICAgZmxleERpcmVjdGlvbjogW3sgY3NzOiAnLXdlYmtpdC1ib3gtb3JpZW50JywganM6ICdXZWJraXRCb3hPcmllbnQnIH1dLFxuICAgICAganVzdGlmeUNvbnRlbnQ6IFt7IGNzczogJy13ZWJraXQtYm94LXBhY2snLCBqczogJ1dlYmtpdEJveFBhY2snIH1dLFxuICAgICAgb3JkZXI6IFt7IGNzczogJy13ZWJraXQtYm94LW9yZGluYWwtZ3JvdXAnLCBqczogJ1dlYmtpdEJveE9yZGluYWxHcm91cCcgfV1cbiAgICB9LFxuICAgIGFsdGVybmF0aXZlVmFsdWVzOiB7XG4gICAgICAvLyBPTEQgLSBpT1MgNi0sIFNhZmFyaSAzLjEtNlxuICAgICAgYWxpZ25JdGVtczoge1xuICAgICAgICAnZmxleC1zdGFydCc6IFsnc3RhcnQnXSxcbiAgICAgICAgJ2ZsZXgtZW5kJzogWydlbmQnXVxuICAgICAgfSxcbiAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgZmxleDogWyctd2Via2l0LWJveCddXG4gICAgICB9LFxuICAgICAgZmxleERpcmVjdGlvbjoge1xuICAgICAgICByb3c6IFsnaG9yaXpvbnRhbCddLFxuICAgICAgICBjb2x1bW46IFsndmVydGljYWwnXVxuICAgICAgfSxcbiAgICAgIGp1c3RpZnlDb250ZW50OiB7XG4gICAgICAgICdmbGV4LXN0YXJ0JzogWydzdGFydCddLFxuICAgICAgICAnZmxleC1lbmQnOiBbJ2VuZCddLFxuICAgICAgICAnc3BhY2UtYmV0d2Vlbic6IFsnanVzdGlmeSddXG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIENTUyBwcm9wZXJ0aWVzIHdoaWNoIGFjY2VwdCBudW1iZXJzIGJ1dCBhcmUgbm90IGluIHVuaXRzIG9mIFwicHhcIi5cbiAqIENvcGllZCBmcm9tIFJlYWN0IGNvcmUgSnVuZSAyMiwgMjAxNS5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9ibG9iL1xuICogYmE4MWI2MGFkOGU5M2I3NDdiZTQyYTAzYjc5NzA2NTkzMmM0OWM5Ni9cbiAqIHNyYy9yZW5kZXJlcnMvZG9tL3NoYXJlZC9DU1NQcm9wZXJ0eS5qc1xuICovXG52YXIgaXNVbml0bGVzc051bWJlciA9IHtcbiAgYm94RmxleDogdHJ1ZSxcbiAgYm94RmxleEdyb3VwOiB0cnVlLFxuICBjb2x1bW5Db3VudDogdHJ1ZSxcbiAgZmxleDogdHJ1ZSxcbiAgZmxleEdyb3c6IHRydWUsXG4gIGZsZXhQb3NpdGl2ZTogdHJ1ZSxcbiAgZmxleFNocmluazogdHJ1ZSxcbiAgZmxleE5lZ2F0aXZlOiB0cnVlLFxuICBmb250V2VpZ2h0OiB0cnVlLFxuICBsaW5lQ2xhbXA6IHRydWUsXG4gIGxpbmVIZWlnaHQ6IHRydWUsXG4gIG9wYWNpdHk6IHRydWUsXG4gIG9yZGVyOiB0cnVlLFxuICBvcnBoYW5zOiB0cnVlLFxuICB0YWJTaXplOiB0cnVlLFxuICB3aWRvd3M6IHRydWUsXG4gIHpJbmRleDogdHJ1ZSxcbiAgem9vbTogdHJ1ZSxcblxuICAvLyBTVkctcmVsYXRlZCBwcm9wZXJ0aWVzXG4gIGZpbGxPcGFjaXR5OiB0cnVlLFxuICBzdHJva2VEYXNob2Zmc2V0OiB0cnVlLFxuICBzdHJva2VPcGFjaXR5OiB0cnVlLFxuICBzdHJva2VXaWR0aDogdHJ1ZVxufTtcblxudmFyIGRvbVN0eWxlID0ge307XG52YXIgcHJlZml4ZWRQcm9wZXJ0eUNhY2hlID0ge307XG52YXIgcHJlZml4ZWRWYWx1ZUNhY2hlID0ge307XG52YXIgcHJlZml4SW5mbyA9IHtcbiAgY3NzUHJlZml4OiAnJyxcbiAganNQcmVmaXg6ICcnXG59O1xuXG5pZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gIGRvbVN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpLnN0eWxlO1xuXG4gIC8vIG9sZGVyIEZpcmVmb3ggdmVyc2lvbnMgbWF5IGhhdmUgbm8gZmxvYXQgcHJvcGVydHkgaW4gc3R5bGUgb2JqZWN0XG4gIC8vIHNvIHdlIG5lZWQgdG8gYWRkIGl0IG1hbnVhbGx5XG4gIGlmIChkb21TdHlsZS5mbG9hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZG9tU3R5bGUuZmxvYXQgPSAnJztcbiAgfVxuXG4gIC8vIEJhc2VkIG9uIGh0dHA6Ly9kYXZpZHdhbHNoLm5hbWUvdmVuZG9yLXByZWZpeFxuICB2YXIgY3NzVmVuZG9yUHJlZml4O1xuICB2YXIgcHJlZml4TWF0Y2g7XG4gIHZhciB3aW5kb3dTdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICcnKTtcblxuICAvLyBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh3aW5kb3dTdHlsZXMpIGZhaWxzIHdpdGhcbiAgLy8gXCJVbmNhdWdodCBUeXBlRXJyb3I6IHVuZGVmaW5lZCBpcyBub3QgYSBmdW5jdGlvblwiXG4gIC8vIGluIG9sZGVyIHZlcnNpb25zIEFuZHJvaWQgKEtpdEthdCkgd2ViIHZpZXdzXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgd2luZG93U3R5bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgcHJlZml4TWF0Y2ggPSB3aW5kb3dTdHlsZXNbaV0ubWF0Y2goVkVORE9SX1BSRUZJWF9SRUdFWCk7XG5cbiAgICBpZiAocHJlZml4TWF0Y2gpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGNzc1ZlbmRvclByZWZpeCA9IHByZWZpeE1hdGNoICYmIHByZWZpeE1hdGNoWzBdO1xuXG4gIHByZWZpeEluZm8gPSBpbmZvQnlDc3NQcmVmaXhbY3NzVmVuZG9yUHJlZml4XSB8fCBwcmVmaXhJbmZvO1xufVxuXG52YXIgX2NhbWVsQ2FzZVJlZ2V4ID0gLyhbYS16XSk/KFtBLVpdKS9nO1xudmFyIF9jYW1lbENhc2VSZXBsYWNlciA9IGZ1bmN0aW9uIF9jYW1lbENhc2VSZXBsYWNlcihtYXRjaCwgcDEsIHAyKSB7XG4gIHJldHVybiBwMSArICctJyArIHAyLnRvTG93ZXJDYXNlKCk7XG59O1xudmFyIF9jYW1lbENhc2VUb0Rhc2hDYXNlID0gZnVuY3Rpb24gX2NhbWVsQ2FzZVRvRGFzaENhc2Uocykge1xuICByZXR1cm4gcy5yZXBsYWNlKF9jYW1lbENhc2VSZWdleCwgX2NhbWVsQ2FzZVJlcGxhY2VyKTtcbn07XG5cbnZhciBnZXRQcmVmaXhlZFByb3BlcnR5TmFtZSA9IGZ1bmN0aW9uIGdldFByZWZpeGVkUHJvcGVydHlOYW1lKHByb3BlcnR5KSB7XG4gIGlmIChwcmVmaXhlZFByb3BlcnR5Q2FjaGUuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XG4gICAgcmV0dXJuIHByZWZpeGVkUHJvcGVydHlDYWNoZVtwcm9wZXJ0eV07XG4gIH1cblxuICB2YXIgdW5wcmVmaXhlZCA9IHtcbiAgICBjc3M6IF9jYW1lbENhc2VUb0Rhc2hDYXNlKHByb3BlcnR5KSxcbiAgICBqczogcHJvcGVydHksXG4gICAgaXNEZWZhdWx0Rm9yU2VydmVyOiB0cnVlXG4gIH07XG5cbiAgLy8gVHJ5IHRoZSBwcmVmaXhlZCB2ZXJzaW9uIGZpcnN0LiBDaHJvbWUgaW4gcGFydGljdWxhciBoYXMgdGhlIGBmaWx0ZXJgIGFuZFxuICAvLyBgd2Via2l0RmlsdGVyYCBwcm9wZXJ0aWVzIGF2YWlsYWxiZSBvbiB0aGUgc3R5bGUgb2JqZWN0LCBidXQgb25seSB0aGVcbiAgLy8gcHJlZml4ZWQgdmVyc2lvbiBhY3R1YWxseSB3b3Jrcy5cbiAgdmFyIHBvc3NpYmxlUHJvcGVydHlOYW1lcyA9IFtcbiAgLy8gUHJlZml4ZWRcbiAge1xuICAgIGNzczogcHJlZml4SW5mby5jc3NQcmVmaXggKyBfY2FtZWxDYXNlVG9EYXNoQ2FzZShwcm9wZXJ0eSksXG4gICAganM6IHByZWZpeEluZm8uanNQcmVmaXggKyBwcm9wZXJ0eVswXS50b1VwcGVyQ2FzZSgpICsgcHJvcGVydHkuc2xpY2UoMSlcbiAgfSwgdW5wcmVmaXhlZF07XG5cbiAgLy8gQWx0ZXJuYXRpdmUgcHJvcGVydHkgbmFtZXNcbiAgaWYgKHByZWZpeEluZm8uYWx0ZXJuYXRpdmVQcm9wZXJ0aWVzICYmIHByZWZpeEluZm8uYWx0ZXJuYXRpdmVQcm9wZXJ0aWVzW3Byb3BlcnR5XSkge1xuICAgIHBvc3NpYmxlUHJvcGVydHlOYW1lcyA9IHBvc3NpYmxlUHJvcGVydHlOYW1lcy5jb25jYXQocHJlZml4SW5mby5hbHRlcm5hdGl2ZVByb3BlcnRpZXNbcHJvcGVydHldKTtcbiAgfVxuXG4gIHZhciB3b3JraW5nUHJvcGVydHkgPSBhcnJheUZpbmQocG9zc2libGVQcm9wZXJ0eU5hbWVzLCBmdW5jdGlvbiAocG9zc2libGVQcm9wZXJ0eU5hbWUpIHtcbiAgICBpZiAocG9zc2libGVQcm9wZXJ0eU5hbWUuanMgaW4gZG9tU3R5bGUpIHtcbiAgICAgIHJldHVybiBwb3NzaWJsZVByb3BlcnR5TmFtZTtcbiAgICB9XG4gIH0pIHx8IGZhbHNlO1xuXG4gIHJldHVybiBwcmVmaXhlZFByb3BlcnR5Q2FjaGVbcHJvcGVydHldID0gd29ya2luZ1Byb3BlcnR5O1xufTtcblxuLy8gV2UgYXJlIHVuLXByZWZpeGluZyB2YWx1ZXMgYmVmb3JlIGNoZWNraW5nIGZvciBpc1VuaXRsZXNzTnVtYmVyLFxuLy8gb3RoZXJ3aXNlIHdlIGFyZSBhdCByaXNrIG9mIGJlaW5nIGluIGEgc2l0dWF0aW9uIHdoZXJlIHNvbWVvbmVcbi8vIGV4cGxpY2l0bHkgcGFzc2VzIHNvbWV0aGluZyBsaWtlIGBNb3pCb3hGbGV4OiAxYCBhbmQgdGhhdCB3aWxsXG4vLyBpbiB0dXJuIGdldCB0cmFuc2Zvcm1lZCBpbnRvIGBNb3pCb3hGbGV4OiAxcHhgLlxudmFyIF9nZXRVbnByZWZpeGVkUHJvcGVydHkgPSBmdW5jdGlvbiBfZ2V0VW5wcmVmaXhlZFByb3BlcnR5KHByb3BlcnR5KSB7XG4gIHZhciBub1ByZWZpeFByb3BlcnR5ID0gcHJvcGVydHk7XG5cbiAgdmVuZG9yUHJlZml4ZXMuc29tZShmdW5jdGlvbiAocHJlZml4KSB7XG4gICAgLy8gTGV0J3MgY2hlY2sgaWYgdGhlIHByb3BlcnR5IHN0YXJ0cyB3aXRoIGEgdmVuZG9yIHByZWZpeFxuICAgIGlmIChwcm9wZXJ0eS5pbmRleE9mKHByZWZpeCkgPT09IDApIHtcbiAgICAgIG5vUHJlZml4UHJvcGVydHkgPSBub1ByZWZpeFByb3BlcnR5LnJlcGxhY2UocHJlZml4LCAnJyk7XG5cbiAgICAgIC8vIFdlIGhhdmUgcmVtb3ZlZCB0aGUgdmVuZG9yIHByZWZpeCwgaG93ZXZlciB0aGUgZmlyc3RcbiAgICAgIC8vIGNoYXJhY3RlciBpcyBnb2luZyB0byBiZSB1cHBlcmNhc2UgaGVuY2Ugd29uJ3QgbWF0Y2hcbiAgICAgIC8vIGFueSBvZiB0aGUgYGlzVW5pdGxlc3NOdW1iZXJgIGtleXMgYXMgdGhleSBhbGwgc3RhcnRcbiAgICAgIC8vIHdpdGggbG93ZXIgY2FzZS4gTGV0J3MgZW5zdXJlIHRoYXQgdGhlIGZpcnN0IGNoYXIgaXNcbiAgICAgIC8vIGxvd2VyIGNhc2UuXG4gICAgICBub1ByZWZpeFByb3BlcnR5ID0gbm9QcmVmaXhQcm9wZXJ0eS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIG5vUHJlZml4UHJvcGVydHkuc2xpY2UoMSk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIG5vUHJlZml4UHJvcGVydHk7XG59O1xuXG4vLyBSZWFjdCBpcyBwbGFubmluZyB0byBkZXByZWNhdGUgYWRkaW5nIHB4IGF1dG9tYXRpY2FsbHlcbi8vIChodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzE4NzMpLCBhbmQgaWYgdGhleSBkbywgdGhpc1xuLy8gc2hvdWxkIGNoYW5nZSB0byBhIHdhcm5pbmcgb3IgYmUgcmVtb3ZlZCBpbiBmYXZvciBvZiBSZWFjdCdzIHdhcm5pbmcuXG4vLyBTYW1lIGdvZXMgZm9yIGJlbG93LlxudmFyIF9hZGRQaXhlbFN1ZmZpeFRvVmFsdWVJZk5lZWRlZCA9IGZ1bmN0aW9uIF9hZGRQaXhlbFN1ZmZpeFRvVmFsdWVJZk5lZWRlZChvcmlnaW5hbFByb3BlcnR5LCB2YWx1ZSkge1xuICB2YXIgdW5QcmVmaXhlZFByb3BlcnR5ID0gX2dldFVucHJlZml4ZWRQcm9wZXJ0eShvcmlnaW5hbFByb3BlcnR5KTtcblxuICBpZiAodmFsdWUgIT09IDAgJiYgIWlzTmFOKHZhbHVlKSAmJiAhaXNVbml0bGVzc051bWJlclt1blByZWZpeGVkUHJvcGVydHldKSB7XG4gICAgcmV0dXJuIHZhbHVlICsgJ3B4JztcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59O1xuXG52YXIgX2dldFByZWZpeGVkVmFsdWUgPSBmdW5jdGlvbiBfZ2V0UHJlZml4ZWRWYWx1ZShjb21wb25lbnQsIHByb3BlcnR5LCB2YWx1ZSwgb3JpZ2luYWxQcm9wZXJ0eSkge1xuICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgLy8gZG9uJ3QgdGVzdCBudW1iZXJzIChwdXJlIG9yIHN0cmluZ3kpLCBidXQgZG8gYWRkICdweCcgcHJlZml4IGlmIG5lZWRlZFxuICAgIGlmICghaXNOYU4odmFsdWUpICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4gX2FkZFBpeGVsU3VmZml4VG9WYWx1ZUlmTmVlZGVkKG9yaWdpbmFsUHJvcGVydHksIHZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRvbid0IHRlc3QgbnVtYmVycyB3aXRoIHVuaXRzIChlLmcuIDEwZW0pXG4gICAgaWYgKCFpc05hTihwYXJzZUludCh2YWx1ZSwgMTApKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIHZhciBjYWNoZUtleSA9IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUuam9pbignIHx8ICcpXG4gIC8qIGJhYmVsLWVzbGludCBidWc6IGh0dHBzOi8vZ2l0aHViLmNvbS9iYWJlbC9iYWJlbC1lc2xpbnQvaXNzdWVzLzE0OSAqL1xuICAvKiBlc2xpbnQtZGlzYWJsZSBzcGFjZS1pbmZpeC1vcHMgKi9cbiAgOlxuICAvKiBlc2xpbnQtZW5hYmxlIHNwYWNlLWluZml4LW9wcyAqL1xuICBwcm9wZXJ0eSArIHZhbHVlO1xuXG4gIGlmIChwcmVmaXhlZFZhbHVlQ2FjaGUuaGFzT3duUHJvcGVydHkoY2FjaGVLZXkpKSB7XG4gICAgcmV0dXJuIHByZWZpeGVkVmFsdWVDYWNoZVtjYWNoZUtleV07XG4gIH1cblxuICB2YXIgcG9zc2libGVWYWx1ZXM7XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIC8vIEFkZCBweCBmb3IgdGhlIHNhbWUgdmFsdWVzIFJlYWN0IHdvdWxkLCBvdGhlcndpc2UgdGhlIHRlc3RpbmcgYmVsb3cgd2lsbFxuICAgIC8vIGZhaWwgYW5kIGl0IHdpbGwgdHJ5IHRvIGZhbGxiYWNrLlxuICAgIHBvc3NpYmxlVmFsdWVzID0gdmFsdWUubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICByZXR1cm4gX2FkZFBpeGVsU3VmZml4VG9WYWx1ZUlmTmVlZGVkKG9yaWdpbmFsUHJvcGVydHksIHYpO1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIHByZWZpeGVkIHZlcnNpb25zXG4gICAgcG9zc2libGVWYWx1ZXMgPSBwb3NzaWJsZVZhbHVlcy5jb25jYXQodmFsdWUuZmlsdGVyKGZ1bmN0aW9uICh2KSB7XG4gICAgICByZXR1cm4gIWlzTmFOKHYpO1xuICAgIH0pIC8vIERvbid0IHByZWZpeCBudW1iZXJzXG4gICAgLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgcmV0dXJuIHByZWZpeEluZm8uY3NzUHJlZml4ICsgdjtcbiAgICB9KSk7XG4gIH0gZWxzZSB7XG4gICAgcG9zc2libGVWYWx1ZXMgPSBbXG4gICAgLy8gVW5wcmVmaXhlZFxuICAgIHZhbHVlLFxuICAgIC8vIFByZWZpeGVkXG4gICAgcHJlZml4SW5mby5jc3NQcmVmaXggKyB2YWx1ZV07XG4gIH1cblxuICAvLyBBbHRlcm5hdGl2ZSB2YWx1ZXNcbiAgaWYgKHByZWZpeEluZm8uYWx0ZXJuYXRpdmVWYWx1ZXMgJiYgcHJlZml4SW5mby5hbHRlcm5hdGl2ZVZhbHVlc1tvcmlnaW5hbFByb3BlcnR5XSAmJiBwcmVmaXhJbmZvLmFsdGVybmF0aXZlVmFsdWVzW29yaWdpbmFsUHJvcGVydHldW3ZhbHVlXSkge1xuICAgIHBvc3NpYmxlVmFsdWVzID0gcG9zc2libGVWYWx1ZXMuY29uY2F0KHByZWZpeEluZm8uYWx0ZXJuYXRpdmVWYWx1ZXNbb3JpZ2luYWxQcm9wZXJ0eV1bdmFsdWVdKTtcbiAgfVxuXG4gIC8vIFRlc3QgcG9zc2libGUgdmFsdWUgaW4gb3JkZXJcbiAgdmFyIHdvcmtpbmdWYWx1ZSA9IGFycmF5RmluZChwb3NzaWJsZVZhbHVlcywgZnVuY3Rpb24gKHBvc3NpYmxlVmFsdWUpIHtcbiAgICBkb21TdHlsZVtwcm9wZXJ0eV0gPSAnJztcbiAgICBkb21TdHlsZVtwcm9wZXJ0eV0gPSBwb3NzaWJsZVZhbHVlO1xuXG4gICAgLy8gTm90ZSB0aGF0IHdlIGp1c3QgbWFrZSBzdXJlIGl0IGlzIG5vdCBhbiBlbXB0eSBzdHJpbmcuIEJyb3dzZXJzIHdpbGxcbiAgICAvLyBzb21ldGltZXMgcmV3cml0ZSB2YWx1ZXMsIGJ1dCBzdGlsbCBhY2NlcHQgdGhlbS4gVGhleSB3aWxsIHNldCB0aGUgdmFsdWVcbiAgICAvLyB0byBhbiBlbXB0eSBzdHJpbmcgaWYgbm90IHN1cHBvcnRlZC5cbiAgICAvLyBFLmcuIGZvciBib3JkZXIsIFwic29saWQgMXB4IGJsYWNrXCIgYmVjb21lcyBcIjFweCBzb2xpZCBibGFja1wiXG4gICAgLy8gICAgICBidXQgXCJmb29iYXJcIiBiZWNvbWVzIFwiXCIsIHNpbmNlIGl0IGlzIG5vdCBzdXBwb3J0ZWQuXG4gICAgcmV0dXJuICEhZG9tU3R5bGVbcHJvcGVydHldO1xuICB9KTtcblxuICBpZiAod29ya2luZ1ZhbHVlKSB7XG4gICAgcHJlZml4ZWRWYWx1ZUNhY2hlW2NhY2hlS2V5XSA9IHdvcmtpbmdWYWx1ZTtcbiAgfSBlbHNlIHtcbiAgICAvLyBVbnN1cHBvcnRlZCwgYXNzdW1lIHVucHJlZml4ZWQgd29ya3MsIGJ1dCB3YXJuXG4gICAgcHJlZml4ZWRWYWx1ZUNhY2hlW2NhY2hlS2V5XSA9IHZhbHVlO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgIGlmIChjb25zb2xlICYmIGNvbnNvbGUud2Fybikge1xuICAgICAgICB2YXIgY29tcG9uZW50Q29udGV4dCA9IGNvbXBvbmVudCA/ICcgaW4gY29tcG9uZW50IFwiJyArIGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSArICdcIicgOiAnJztcblxuICAgICAgICBjb25zb2xlLndhcm4oJ1Vuc3VwcG9ydGVkIENTUyB2YWx1ZSBcIicgKyB2YWx1ZSArICdcIiBmb3IgcHJvcGVydHkgXCInICsgcHJvcGVydHkgKyAnJFwiJyArIGNvbXBvbmVudENvbnRleHQpO1xuICAgICAgfVxuICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHByZWZpeGVkVmFsdWVDYWNoZVtjYWNoZUtleV07XG59O1xuXG4vLyBSZXR1cm5zIGEgbmV3IHN0eWxlIG9iamVjdCB3aXRoIHZlbmRvciBwcmVmaXhlcyBhZGRlZCB0byBwcm9wZXJ0eSBuYW1lc1xuLy8gYW5kIHZhbHVlcy5cbnZhciBnZXRQcmVmaXhlZFN0eWxlID0gZnVuY3Rpb24gZ2V0UHJlZml4ZWRTdHlsZShjb21wb25lbnQsIHN0eWxlLCBtb2RlIC8qICdjc3MnIG9yICdqcycgKi8pIHtcbiAgbW9kZSA9IG1vZGUgfHwgJ2pzJztcblxuICBpZiAoIUV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhzdHlsZSkucmVkdWNlKGZ1bmN0aW9uIChuZXdTdHlsZSwga2V5KSB7XG4gICAgICB2YXIgdmFsdWUgPSBzdHlsZVtrZXldO1xuICAgICAgdmFyIG5ld0tleSA9IG1vZGUgPT09ICdjc3MnID8gX2NhbWVsQ2FzZVRvRGFzaENhc2Uoa2V5KSA6IGtleTtcbiAgICAgIHZhciBuZXdWYWx1ZSA9IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWVbMF0gOiB2YWx1ZTtcbiAgICAgIG5ld1N0eWxlW25ld0tleV0gPSBuZXdWYWx1ZTtcbiAgICAgIHJldHVybiBuZXdTdHlsZTtcbiAgICB9LCB7fSk7XG4gIH1cblxuICB2YXIgcHJlZml4ZWRTdHlsZSA9IHt9O1xuICBPYmplY3Qua2V5cyhzdHlsZSkuZm9yRWFjaChmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICB2YXIgdmFsdWUgPSBzdHlsZVtwcm9wZXJ0eV07XG5cbiAgICB2YXIgbmV3UHJvcGVydHkgPSBnZXRQcmVmaXhlZFByb3BlcnR5TmFtZShwcm9wZXJ0eSk7XG4gICAgaWYgKG5ld1Byb3BlcnR5ID09PSBmYWxzZSkge1xuICAgICAgLy8gSWdub3JlIHVuc3VwcG9ydGVkIHByb3BlcnRpZXNcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSB7XG4gICAgICAgICAgdmFyIGNvbXBvbmVudENvbnRleHQgPSBjb21wb25lbnQgPyAnIGluIGNvbXBvbmVudCBcIicgKyBjb21wb25lbnQuY29uc3RydWN0b3IuZGlzcGxheU5hbWUgKyAnXCInIDogJyc7XG5cbiAgICAgICAgICBjb25zb2xlLndhcm4oJ1Vuc3VwcG9ydGVkIENTUyBwcm9wZXJ0eSBcIicgKyBwcm9wZXJ0eSArICckXCInICsgY29tcG9uZW50Q29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbmV3VmFsdWUgPSBfZ2V0UHJlZml4ZWRWYWx1ZShjb21wb25lbnQsIG5ld1Byb3BlcnR5LmpzLCB2YWx1ZSwgcHJvcGVydHkpO1xuXG4gICAgcHJlZml4ZWRTdHlsZVtuZXdQcm9wZXJ0eVttb2RlXV0gPSBuZXdWYWx1ZTtcbiAgfSk7XG4gIHJldHVybiBwcmVmaXhlZFN0eWxlO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdldFByZWZpeGVkUHJvcGVydHlOYW1lOiBnZXRQcmVmaXhlZFByb3BlcnR5TmFtZSxcbiAgZ2V0UHJlZml4ZWRTdHlsZTogZ2V0UHJlZml4ZWRTdHlsZSxcbiAgY3NzUHJlZml4OiBwcmVmaXhJbmZvLmNzc1ByZWZpeCxcbiAganNQcmVmaXg6IHByZWZpeEluZm8uanNQcmVmaXhcbn07IiwiLyogQGZsb3cgKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBhbGxQcmludFN0eWxlcyA9IHt9O1xudmFyIGxpc3RlbmVycyA9IFtdO1xuXG52YXIgc3Vic2NyaWJlID0gZnVuY3Rpb24gc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gIGlmIChsaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPT09IC0xKSB7XG4gICAgbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHZhciBsaXN0ZW5lckluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuXG4gICAgICBpZiAobGlzdGVuZXJJbmRleCA+IC0xKSB7XG4gICAgICAgIGxpc3RlbmVycy5zcGxpY2UobGlzdGVuZXJJbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcblxudmFyIF9lbWl0Q2hhbmdlID0gZnVuY3Rpb24gX2VtaXRDaGFuZ2UoKSB7XG4gIGxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgIHJldHVybiBsaXN0ZW5lcigpO1xuICB9KTtcbn07XG5cbnZhciBfYXBwZW5kSW1wb3J0YW50VG9FYWNoVmFsdWUgPSBmdW5jdGlvbiBfYXBwZW5kSW1wb3J0YW50VG9FYWNoVmFsdWUoc3R5bGVPYmopIHtcbiAgdmFyIGltcG9ydGFudFN0eWxlT2JqID0ge307XG5cbiAgT2JqZWN0LmtleXMoc3R5bGVPYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciB2YWx1ZSA9IHN0eWxlT2JqW2tleV07XG5cbiAgICAvLyBUaGlzIGJyZWFrcyB1bml0bGVzcyB2YWx1ZXMgYnV0IHRoZXknbGwgYmUgZGVwcmVjYXRlZCBzb29uIGFueXdheVxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTg3M1xuICAgIHZhbHVlID0gXCJcIiArIHZhbHVlICsgXCIgIWltcG9ydGFudFwiO1xuICAgIGltcG9ydGFudFN0eWxlT2JqW2tleV0gPSB2YWx1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGltcG9ydGFudFN0eWxlT2JqO1xufTtcblxudmFyIGFkZFByaW50U3R5bGVzID0gZnVuY3Rpb24gYWRkUHJpbnRTdHlsZXMoQ29tcG9uZW50KSB7XG4gIGlmICghQ29tcG9uZW50LnByaW50U3R5bGVzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHByaW50U3R5bGVDbGFzcyA9IHt9O1xuXG4gIE9iamVjdC5rZXlzKENvbXBvbmVudC5wcmludFN0eWxlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHN0eWxlcyA9IENvbXBvbmVudC5wcmludFN0eWxlc1trZXldO1xuICAgIHZhciBjbGFzc05hbWUgPSBcIlJhZGl1bS1cIiArIENvbXBvbmVudC5kaXNwbGF5TmFtZSArIFwiLVwiICsga2V5O1xuICAgIGFsbFByaW50U3R5bGVzW1wiLlwiICsgY2xhc3NOYW1lXSA9IF9hcHBlbmRJbXBvcnRhbnRUb0VhY2hWYWx1ZShzdHlsZXMpO1xuICAgIHByaW50U3R5bGVDbGFzc1trZXldID0gY2xhc3NOYW1lO1xuICB9KTtcblxuICAvLyBBbGxvd3MgZm9yIGxhenkgbG9hZGluZyBvZiBKUyB0aGF0IHRoZW4gY2FsbHMgUmFkaXVtIHRvIHVwZGF0ZSB0aGVcbiAgLy8gcHJpbnQgc3R5bGVzXG4gIF9lbWl0Q2hhbmdlKCk7XG4gIHJldHVybiBwcmludFN0eWxlQ2xhc3M7XG59O1xuXG52YXIgZ2V0UHJpbnRTdHlsZXMgPSBmdW5jdGlvbiBnZXRQcmludFN0eWxlcygpIHtcbiAgcmV0dXJuIGFsbFByaW50U3R5bGVzO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGFkZFByaW50U3R5bGVzOiBhZGRQcmludFN0eWxlcyxcbiAgZ2V0UHJpbnRTdHlsZXM6IGdldFByaW50U3R5bGVzLFxuICBzdWJzY3JpYmU6IHN1YnNjcmliZVxufTsiLCIvKiBAZmxvdyAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBNb3VzZVVwTGlzdGVuZXIgPSByZXF1aXJlKCcuL21vdXNlLXVwLWxpc3RlbmVyJyk7XG52YXIgZ2V0U3RhdGUgPSByZXF1aXJlKCcuL2dldC1zdGF0ZScpO1xudmFyIGdldFN0YXRlS2V5ID0gcmVxdWlyZSgnLi9nZXQtc3RhdGUta2V5Jyk7XG52YXIgUHJlZml4ZXIgPSByZXF1aXJlKCcuL3ByZWZpeGVyJyk7XG52YXIgQ29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcnKTtcblxudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZXhlbnYnKTtcbnZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpO1xuXG4vLyBiYWJlbC1lc2xpbnQgMy4xLjcgZmFpbHMgaGVyZSBmb3Igc29tZSByZWFzb24sIGVycm9yOlxuLy8gICAwOjAgIGVycm9yICBDYW5ub3QgY2FsbCBtZXRob2QgJ2lzU2VxdWVuY2VFeHByZXNzaW9uJyBvZiB1bmRlZmluZWRcbi8vXG4vLyBkZWNsYXJlIGNsYXNzIFJhZGl1bUNvbXBvbmVudCBleHRlbmRzIFJlYWN0Q29tcG9uZW50IHtcbi8vICAgX2xhc3RNb3VzZURvd246IG51bWJlcixcbi8vICAgX3JhZGl1bU1lZGlhUXVlcnlMaXN0ZW5lcnNCeVF1ZXJ5OiBPYmplY3Q8c3RyaW5nLCB7cmVtb3ZlOiAoKSA9PiB2b2lkfT4sXG4vLyAgIF9yYWRpdW1Nb3VzZVVwTGlzdGVuZXI6IHtyZW1vdmU6ICgpID0+IHZvaWR9LFxuLy8gfVxuXG52YXIgbWVkaWFRdWVyeUxpc3RCeVF1ZXJ5U3RyaW5nID0ge307XG5cbnZhciBfaXNTcGVjaWFsS2V5ID0gZnVuY3Rpb24gX2lzU3BlY2lhbEtleShrZXkpIHtcbiAgcmV0dXJuIGtleVswXSA9PT0gJzonIHx8IGtleVswXSA9PT0gJ0AnO1xufTtcblxudmFyIF9nZXRTdHlsZVN0YXRlID0gZnVuY3Rpb24gX2dldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksIHZhbHVlKSB7XG4gIHJldHVybiBnZXRTdGF0ZShjb21wb25lbnQuc3RhdGUsIGtleSwgdmFsdWUpO1xufTtcblxudmFyIF9zZXRTdHlsZVN0YXRlID0gZnVuY3Rpb24gX3NldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksIG5ld1N0YXRlKSB7XG4gIHZhciBleGlzdGluZyA9IGNvbXBvbmVudC5fbGFzdFJhZGl1bVN0YXRlIHx8IGNvbXBvbmVudC5zdGF0ZSAmJiBjb21wb25lbnQuc3RhdGUuX3JhZGl1bVN0eWxlU3RhdGUgfHwge307XG5cbiAgdmFyIHN0YXRlID0geyBfcmFkaXVtU3R5bGVTdGF0ZTogX2V4dGVuZHMoe30sIGV4aXN0aW5nKSB9O1xuICBzdGF0ZS5fcmFkaXVtU3R5bGVTdGF0ZVtrZXldID0gX2V4dGVuZHMoe30sIHN0YXRlLl9yYWRpdW1TdHlsZVN0YXRlW2tleV0sIG5ld1N0YXRlKTtcblxuICBjb21wb25lbnQuX2xhc3RSYWRpdW1TdGF0ZSA9IHN0YXRlLl9yYWRpdW1TdHlsZVN0YXRlO1xuICBjb21wb25lbnQuc2V0U3RhdGUoc3RhdGUpO1xufTtcblxuLy8gTWVyZ2Ugc3R5bGUgb2JqZWN0cy4gU3BlY2lhbCBjYXNpbmcgZm9yIHByb3BzIHN0YXJ0aW5nIHdpdGggJzsnOyB0aGUgdmFsdWVzXG4vLyBzaG91bGQgYmUgb2JqZWN0cywgYW5kIGFyZSBtZXJnZWQgd2l0aCBvdGhlcnMgb2YgdGhlIHNhbWUgbmFtZSAoaW5zdGVhZCBvZlxuLy8gb3ZlcndyaXRpbmcpLlxudmFyIF9tZXJnZVN0eWxlcyA9IGZ1bmN0aW9uIF9tZXJnZVN0eWxlcyhzdHlsZXMpIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gIHN0eWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChzdHlsZSkge1xuICAgIGlmICghc3R5bGUgfHwgdHlwZW9mIHN0eWxlICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KHN0eWxlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIE9iamVjdC5rZXlzKHN0eWxlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmIChfaXNTcGVjaWFsS2V5KGtleSkgJiYgcmVzdWx0W2tleV0pIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSBfbWVyZ2VTdHlsZXMoW3Jlc3VsdFtrZXldLCBzdHlsZVtrZXldXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRba2V5XSA9IHN0eWxlW2tleV07XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG52YXIgX21vdXNlVXAgPSBmdW5jdGlvbiBfbW91c2VVcChjb21wb25lbnQpIHtcbiAgT2JqZWN0LmtleXMoY29tcG9uZW50LnN0YXRlLl9yYWRpdW1TdHlsZVN0YXRlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoX2dldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksICc6YWN0aXZlJykpIHtcbiAgICAgIF9zZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCB7ICc6YWN0aXZlJzogZmFsc2UgfSk7XG4gICAgfVxuICB9KTtcbn07XG5cbnZhciBfb25NZWRpYVF1ZXJ5Q2hhbmdlID0gZnVuY3Rpb24gX29uTWVkaWFRdWVyeUNoYW5nZShjb21wb25lbnQsIHF1ZXJ5LCBtZWRpYVF1ZXJ5TGlzdCkge1xuICB2YXIgc3RhdGUgPSB7fTtcbiAgc3RhdGVbcXVlcnldID0gbWVkaWFRdWVyeUxpc3QubWF0Y2hlcztcbiAgX3NldFN0eWxlU3RhdGUoY29tcG9uZW50LCAnX2FsbCcsIHN0YXRlKTtcbn07XG5cbnZhciBfcmVzb2x2ZU1lZGlhUXVlcnlTdHlsZXMgPSBmdW5jdGlvbiBfcmVzb2x2ZU1lZGlhUXVlcnlTdHlsZXMoY29tcG9uZW50LCBzdHlsZSkge1xuICBpZiAoIUNvbmZpZy5jYW5NYXRjaE1lZGlhKCkpIHtcbiAgICByZXR1cm4gc3R5bGU7XG4gIH1cblxuICBPYmplY3Qua2V5cyhzdHlsZSkuZmlsdGVyKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuIG5hbWVbMF0gPT09ICdAJztcbiAgfSkubWFwKGZ1bmN0aW9uIChxdWVyeSkge1xuICAgIHZhciBtZWRpYVF1ZXJ5U3R5bGVzID0gc3R5bGVbcXVlcnldO1xuICAgIHF1ZXJ5ID0gcXVlcnkucmVwbGFjZSgnQG1lZGlhICcsICcnKTtcblxuICAgIC8vIENyZWF0ZSBhIGdsb2JhbCBNZWRpYVF1ZXJ5TGlzdCBpZiBvbmUgZG9lc24ndCBhbHJlYWR5IGV4aXN0XG4gICAgdmFyIG1xbCA9IG1lZGlhUXVlcnlMaXN0QnlRdWVyeVN0cmluZ1txdWVyeV07XG4gICAgaWYgKCFtcWwpIHtcbiAgICAgIG1lZGlhUXVlcnlMaXN0QnlRdWVyeVN0cmluZ1txdWVyeV0gPSBtcWwgPSBDb25maWcubWF0Y2hNZWRpYShxdWVyeSk7XG4gICAgfVxuXG4gICAgLy8gS2VlcCB0cmFjayBvZiB3aGljaCBrZXlzIGFscmVhZHkgaGF2ZSBsaXN0ZW5lcnNcbiAgICBpZiAoIWNvbXBvbmVudC5fcmFkaXVtTWVkaWFRdWVyeUxpc3RlbmVyc0J5UXVlcnkpIHtcbiAgICAgIGNvbXBvbmVudC5fcmFkaXVtTWVkaWFRdWVyeUxpc3RlbmVyc0J5UXVlcnkgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoIWNvbXBvbmVudC5fcmFkaXVtTWVkaWFRdWVyeUxpc3RlbmVyc0J5UXVlcnlbcXVlcnldKSB7XG4gICAgICB2YXIgbGlzdGVuZXIgPSBfb25NZWRpYVF1ZXJ5Q2hhbmdlLmJpbmQobnVsbCwgY29tcG9uZW50LCBxdWVyeSk7XG4gICAgICBtcWwuYWRkTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgICAgY29tcG9uZW50Ll9yYWRpdW1NZWRpYVF1ZXJ5TGlzdGVuZXJzQnlRdWVyeVtxdWVyeV0gPSB7XG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgICAgIG1xbC5yZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gQXBwbHkgbWVkaWEgcXVlcnkgc3RhdGVzXG4gICAgaWYgKG1xbC5tYXRjaGVzKSB7XG4gICAgICBzdHlsZSA9IF9tZXJnZVN0eWxlcyhbc3R5bGUsIG1lZGlhUXVlcnlTdHlsZXNdKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBzdHlsZTtcbn07XG5cbi8vIFdyYXBwZXIgYXJvdW5kIFJlYWN0LmNsb25lRWxlbWVudC4gVG8gYXZvaWQgcHJvY2Vzc2luZyB0aGUgc2FtZSBlbGVtZW50XG4vLyB0d2ljZSwgd2hlbmV2ZXIgd2UgY2xvbmUgYW4gZWxlbWVudCBhZGQgYSBzcGVjaWFsIG5vbi1lbnVtZXJhYmxlIHByb3AgdG9cbi8vIG1ha2Ugc3VyZSB3ZSBkb24ndCBwcm9jZXNzIHRoaXMgZWxlbWVudCBhZ2Fpbi5cbnZhciBfY2xvbmVFbGVtZW50ID0gZnVuY3Rpb24gX2Nsb25lRWxlbWVudChyZW5kZXJlZEVsZW1lbnQsIG5ld1Byb3BzLCBuZXdDaGlsZHJlbikge1xuICB2YXIgY2xvbmUgPSBSZWFjdC5jbG9uZUVsZW1lbnQocmVuZGVyZWRFbGVtZW50LCBfZXh0ZW5kcyh7fSwgbmV3UHJvcHMsIHtcbiAgICBfcmFkaXVtRGlkUmVzb2x2ZVN0eWxlczogdHJ1ZVxuICB9KSwgbmV3Q2hpbGRyZW4pO1xuXG4gIHJldHVybiBjbG9uZTtcbn07XG5cbi8vXG4vLyBUaGUgbnVjbGV1cyBvZiBSYWRpdW0uIHJlc29sdmVTdHlsZXMgaXMgY2FsbGVkIG9uIHRoZSByZW5kZXJlZCBlbGVtZW50c1xuLy8gYmVmb3JlIHRoZXkgYXJlIHJldHVybmVkIGluIHJlbmRlci4gSXQgaXRlcmF0ZXMgb3ZlciB0aGUgZWxlbWVudHMgYW5kXG4vLyBjaGlsZHJlbiwgcmV3cml0aW5nIHByb3BzIHRvIGFkZCBldmVudCBoYW5kbGVycyByZXF1aXJlZCB0byBjYXB0dXJlIHVzZXJcbi8vIGludGVyYWN0aW9ucyAoZS5nLiBtb3VzZSBvdmVyKS4gSXQgYWxzbyByZXBsYWNlcyB0aGUgc3R5bGUgcHJvcCBiZWNhdXNlIGl0XG4vLyBhZGRzIGluIHRoZSB2YXJpb3VzIGludGVyYWN0aW9uIHN0eWxlcyAoZS5nLiA6aG92ZXIpLlxuLy9cbnZhciByZXNvbHZlU3R5bGVzID0gZnVuY3Rpb24gcmVzb2x2ZVN0eWxlcyhjb21wb25lbnQsIC8vIFJlYWN0Q29tcG9uZW50LCBmbG93K2VzbGludCBjb21wbGFpbmluZ1xucmVuZGVyZWRFbGVtZW50LCAvLyBSZWFjdEVsZW1lbnRcbmV4aXN0aW5nS2V5TWFwKSB7XG4gIC8vIFJlYWN0RWxlbWVudFxuICBleGlzdGluZ0tleU1hcCA9IGV4aXN0aW5nS2V5TWFwIHx8IHt9O1xuXG4gIGlmICghcmVuZGVyZWRFbGVtZW50IHx8IHJlbmRlcmVkRWxlbWVudC5wcm9wcyAmJiByZW5kZXJlZEVsZW1lbnQucHJvcHMuX3JhZGl1bURpZFJlc29sdmVTdHlsZXMpIHtcbiAgICByZXR1cm4gcmVuZGVyZWRFbGVtZW50O1xuICB9XG5cbiAgLy8gUmVjdXJzZSBvdmVyIGNoaWxkcmVuIGZpcnN0IGluIGNhc2Ugd2UgYmFpbCBlYXJseS4gTm90ZSB0aGF0IGNoaWxkcmVuIG9ubHlcbiAgLy8gaW5jbHVkZSB0aG9zZSByZW5kZXJlZCBpbiBgdGhpc2AgY29tcG9uZW50LiBDaGlsZCBub2RlcyBpbiBvdGhlciBjb21wb25lbnRzXG4gIC8vIHdpbGwgbm90IGJlIGhlcmUsIHNvIGVhY2ggY29tcG9uZW50IG5lZWRzIHRvIHVzZSBSYWRpdW0uXG4gIHZhciBvbGRDaGlsZHJlbiA9IHJlbmRlcmVkRWxlbWVudC5wcm9wcy5jaGlsZHJlbjtcbiAgdmFyIG5ld0NoaWxkcmVuID0gb2xkQ2hpbGRyZW47XG4gIGlmIChvbGRDaGlsZHJlbikge1xuICAgIHZhciBjaGlsZHJlblR5cGUgPSB0eXBlb2Ygb2xkQ2hpbGRyZW47XG4gICAgaWYgKGNoaWxkcmVuVHlwZSA9PT0gJ3N0cmluZycgfHwgY2hpbGRyZW5UeXBlID09PSAnbnVtYmVyJykge1xuICAgICAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgd2l0aCBhIHNpbmdsZSBwcmltaXRpdmUgY2hpbGRcbiAgICAgIG5ld0NoaWxkcmVuID0gb2xkQ2hpbGRyZW47XG4gICAgfSBlbHNlIGlmIChjaGlsZHJlblR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIFdyYXAgdGhlIGZ1bmN0aW9uLCByZXNvbHZpbmcgc3R5bGVzIG9uIHRoZSByZXN1bHRcbiAgICAgIG5ld0NoaWxkcmVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gb2xkQ2hpbGRyZW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgaWYgKFJlYWN0LmlzVmFsaWRFbGVtZW50KHJlc3VsdCkpIHtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZVN0eWxlcyhjb21wb25lbnQsIHJlc3VsdCwgZXhpc3RpbmdLZXlNYXApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoUmVhY3QuQ2hpbGRyZW4uY291bnQob2xkQ2hpbGRyZW4pID09PSAxICYmIG9sZENoaWxkcmVuLnR5cGUpIHtcbiAgICAgIC8vIElmIGEgUmVhY3QgRWxlbWVudCBpcyBhbiBvbmx5IGNoaWxkLCBkb24ndCB3cmFwIGl0IGluIGFuIGFycmF5IGZvclxuICAgICAgLy8gUmVhY3QuQ2hpbGRyZW4ubWFwKCkgZm9yIFJlYWN0LkNoaWxkcmVuLm9ubHkoKSBjb21wYXRpYmlsaXR5LlxuICAgICAgdmFyIG9ubHlDaGlsZCA9IFJlYWN0LkNoaWxkcmVuLm9ubHkob2xkQ2hpbGRyZW4pO1xuICAgICAgbmV3Q2hpbGRyZW4gPSByZXNvbHZlU3R5bGVzKGNvbXBvbmVudCwgb25seUNoaWxkLCBleGlzdGluZ0tleU1hcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0NoaWxkcmVuID0gUmVhY3QuQ2hpbGRyZW4ubWFwKG9sZENoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgaWYgKFJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICAgIHJldHVybiByZXNvbHZlU3R5bGVzKGNvbXBvbmVudCwgY2hpbGQsIGV4aXN0aW5nS2V5TWFwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHZhciBwcm9wcyA9IHJlbmRlcmVkRWxlbWVudC5wcm9wcztcbiAgdmFyIG5ld1Byb3BzID0ge307XG5cbiAgLy8gUmVjdXJzZSBvdmVyIHByb3BzLCBqdXN0IGxpa2UgY2hpbGRyZW5cbiAgT2JqZWN0LmtleXMocHJvcHMpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICAvLyBXZSBhbHJlYWR5IHJlY3Vyc2Ugb3ZlciBjaGlsZHJlbiBhYm92ZVxuICAgIGlmIChwcm9wID09PSAnY2hpbGRyZW4nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BdO1xuICAgIGlmIChSZWFjdC5pc1ZhbGlkRWxlbWVudChwcm9wVmFsdWUpKSB7XG4gICAgICBuZXdQcm9wc1twcm9wXSA9IHJlc29sdmVTdHlsZXMoY29tcG9uZW50LCBwcm9wVmFsdWUsIGV4aXN0aW5nS2V5TWFwKTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBoYXNSZXNvbHZlZFByb3BzID0gT2JqZWN0LmtleXMobmV3UHJvcHMpLmxlbmd0aCA+IDA7XG5cbiAgLy8gQmFpbCBlYXJseSBpZiBlbGVtZW50IGlzIG5vdCBhIHNpbXBsZSBSZWFjdERPTUVsZW1lbnQuXG4gIGlmICghUmVhY3QuaXNWYWxpZEVsZW1lbnQocmVuZGVyZWRFbGVtZW50KSB8fCB0eXBlb2YgcmVuZGVyZWRFbGVtZW50LnR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKG9sZENoaWxkcmVuID09PSBuZXdDaGlsZHJlbiAmJiAhaGFzUmVzb2x2ZWRQcm9wcykge1xuICAgICAgcmV0dXJuIHJlbmRlcmVkRWxlbWVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gX2Nsb25lRWxlbWVudChyZW5kZXJlZEVsZW1lbnQsIGhhc1Jlc29sdmVkUHJvcHMgPyBuZXdQcm9wcyA6IHt9LCBuZXdDaGlsZHJlbik7XG4gIH1cblxuICB2YXIgc3R5bGUgPSBwcm9wcy5zdHlsZTtcblxuICAvLyBDb252ZW5pZW50IHN5bnRheCBmb3IgbXVsdGlwbGUgc3R5bGVzOiBgc3R5bGU9e1tzdHlsZTEsIHN0eWxlMiwgZXRjXX1gXG4gIC8vIElnbm9yZXMgbm9uLW9iamVjdHMsIHNvIHlvdSBjYW4gZG8gYHRoaXMuc3RhdGUuaXNDb29sICYmIHN0eWxlcy5jb29sYC5cbiAgaWYgKEFycmF5LmlzQXJyYXkoc3R5bGUpKSB7XG4gICAgc3R5bGUgPSBfbWVyZ2VTdHlsZXMoc3R5bGUpO1xuICB9XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAvLyBXYXJuIGlmIHlvdSB1c2UgbG9uZ2hhbmQgYW5kIHNob3J0aGFuZCBwcm9wZXJ0aWVzIGluIHRoZSBzYW1lIHN0eWxlXG4gICAgLy8gb2JqZWN0LlxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9TaG9ydGhhbmRfcHJvcGVydGllc1xuXG4gICAgdmFyIHNob3J0aGFuZFByb3BlcnR5RXhwYW5zaW9ucyA9IHtcbiAgICAgICdiYWNrZ3JvdW5kJzogWydiYWNrZ3JvdW5kQXR0YWNobWVudCcsICdiYWNrZ3JvdW5kQmxlbmRNb2RlJywgJ2JhY2tncm91bmRDbGlwJywgJ2JhY2tncm91bmRDb2xvcicsICdiYWNrZ3JvdW5kSW1hZ2UnLCAnYmFja2dyb3VuZE9yaWdpbicsICdiYWNrZ3JvdW5kUG9zaXRpb24nLCAnYmFja2dyb3VuZFBvc2l0aW9uWCcsICdiYWNrZ3JvdW5kUG9zaXRpb25ZJywgJ2JhY2tncm91bmRSZXBlYXQnLCAnYmFja2dyb3VuZFJlcGVhdFgnLCAnYmFja2dyb3VuZFJlcGVhdFknLCAnYmFja2dyb3VuZFNpemUnXSxcbiAgICAgICdib3JkZXInOiBbJ2JvcmRlckJvdHRvbScsICdib3JkZXJCb3R0b21Db2xvcicsICdib3JkZXJCb3R0b21TdHlsZScsICdib3JkZXJCb3R0b21XaWR0aCcsICdib3JkZXJDb2xvcicsICdib3JkZXJMZWZ0JywgJ2JvcmRlckxlZnRDb2xvcicsICdib3JkZXJMZWZ0U3R5bGUnLCAnYm9yZGVyTGVmdFdpZHRoJywgJ2JvcmRlclJpZ2h0JywgJ2JvcmRlclJpZ2h0Q29sb3InLCAnYm9yZGVyUmlnaHRTdHlsZScsICdib3JkZXJSaWdodFdpZHRoJywgJ2JvcmRlclN0eWxlJywgJ2JvcmRlclRvcCcsICdib3JkZXJUb3BDb2xvcicsICdib3JkZXJUb3BTdHlsZScsICdib3JkZXJUb3BXaWR0aCcsICdib3JkZXJXaWR0aCddLFxuICAgICAgJ2JvcmRlckltYWdlJzogWydib3JkZXJJbWFnZU91dHNldCcsICdib3JkZXJJbWFnZVJlcGVhdCcsICdib3JkZXJJbWFnZVNsaWNlJywgJ2JvcmRlckltYWdlU291cmNlJywgJ2JvcmRlckltYWdlV2lkdGgnXSxcbiAgICAgICdib3JkZXJSYWRpdXMnOiBbJ2JvcmRlckJvdHRvbUxlZnRSYWRpdXMnLCAnYm9yZGVyQm90dG9tUmlnaHRSYWRpdXMnLCAnYm9yZGVyVG9wTGVmdFJhZGl1cycsICdib3JkZXJUb3BSaWdodFJhZGl1cyddLFxuICAgICAgJ2ZvbnQnOiBbJ2ZvbnRGYW1pbHknLCAnZm9udEtlcm5pbmcnLCAnZm9udFNpemUnLCAnZm9udFN0cmV0Y2gnLCAnZm9udFN0eWxlJywgJ2ZvbnRWYXJpYW50JywgJ2ZvbnRWYXJpYW50TGlnYXR1cmVzJywgJ2ZvbnRXZWlnaHQnLCAnbGluZUhlaWdodCddLFxuICAgICAgJ2xpc3RTdHlsZSc6IFsnbGlzdFN0eWxlSW1hZ2UnLCAnbGlzdFN0eWxlUG9zaXRpb24nLCAnbGlzdFN0eWxlVHlwZSddLFxuICAgICAgJ21hcmdpbic6IFsnbWFyZ2luQm90dG9tJywgJ21hcmdpbkxlZnQnLCAnbWFyZ2luUmlnaHQnLCAnbWFyZ2luVG9wJ10sXG4gICAgICAncGFkZGluZyc6IFsncGFkZGluZ0JvdHRvbScsICdwYWRkaW5nTGVmdCcsICdwYWRkaW5nUmlnaHQnLCAncGFkZGluZ1RvcCddLFxuICAgICAgJ3RyYW5zaXRpb24nOiBbJ3RyYW5zaXRpb25EZWxheScsICd0cmFuc2l0aW9uRHVyYXRpb24nLCAndHJhbnNpdGlvblByb3BlcnR5JywgJ3RyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiddXG4gICAgfTtcblxuICAgIHZhciBjaGVja1Byb3BzID0gZnVuY3Rpb24gY2hlY2tQcm9wcyhzKSB7XG4gICAgICBpZiAodHlwZW9mIHMgIT09ICdvYmplY3QnIHx8ICFzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0eWxlS2V5cyA9IE9iamVjdC5rZXlzKHMpO1xuICAgICAgc3R5bGVLZXlzLmZvckVhY2goZnVuY3Rpb24gKHN0eWxlS2V5KSB7XG4gICAgICAgIGlmIChzaG9ydGhhbmRQcm9wZXJ0eUV4cGFuc2lvbnNbc3R5bGVLZXldICYmIHNob3J0aGFuZFByb3BlcnR5RXhwYW5zaW9uc1tzdHlsZUtleV0uc29tZShmdW5jdGlvbiAoc3ApIHtcbiAgICAgICAgICByZXR1cm4gc3R5bGVLZXlzLmluZGV4T2Yoc3ApICE9PSAtMTtcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdSYWRpdW06IHByb3BlcnR5IFwiJyArIHN0eWxlS2V5ICsgJ1wiIGluIHN0eWxlIG9iamVjdCcsIHN0eWxlLCAnOiBkbyBub3QgbWl4IGxvbmdoYW5kIGFuZCAnICsgJ3Nob3J0aGFuZCBwcm9wZXJ0aWVzIGluIHRoZSBzYW1lIHN0eWxlIG9iamVjdC4gQ2hlY2sgdGhlIHJlbmRlciAnICsgJ21ldGhvZCBvZiAnICsgY29tcG9uZW50LmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lICsgJy4nLCAnU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Gb3JtaWRhYmxlTGFicy9yYWRpdW0vaXNzdWVzLzk1IGZvciBtb3JlICcgKyAnaW5mb3JtYXRpb24uJyk7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzdHlsZUtleXMuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICByZXR1cm4gY2hlY2tQcm9wcyhzW2tdKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgY2hlY2tQcm9wcyhzdHlsZSk7XG4gIH1cblxuICAvLyBCYWlsIGVhcmx5IGlmIG5vIGludGVyYWN0aXZlIHN0eWxlcy5cbiAgaWYgKCFzdHlsZSB8fCAhT2JqZWN0LmtleXMoc3R5bGUpLnNvbWUoX2lzU3BlY2lhbEtleSkpIHtcbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgIC8vIFN0aWxsIHBlcmZvcm0gdmVuZG9yIHByZWZpeGluZywgdGhvdWdoLlxuICAgICAgbmV3UHJvcHMuc3R5bGUgPSBQcmVmaXhlci5nZXRQcmVmaXhlZFN0eWxlKGNvbXBvbmVudCwgc3R5bGUpO1xuICAgICAgcmV0dXJuIF9jbG9uZUVsZW1lbnQocmVuZGVyZWRFbGVtZW50LCBuZXdQcm9wcywgbmV3Q2hpbGRyZW4pO1xuICAgIH0gZWxzZSBpZiAobmV3Q2hpbGRyZW4gfHwgaGFzUmVzb2x2ZWRQcm9wcykge1xuICAgICAgcmV0dXJuIF9jbG9uZUVsZW1lbnQocmVuZGVyZWRFbGVtZW50LCBuZXdQcm9wcywgbmV3Q2hpbGRyZW4pO1xuICAgIH1cblxuICAgIHJldHVybiByZW5kZXJlZEVsZW1lbnQ7XG4gIH1cblxuICAvLyBXZSBuZWVkIGEgdW5pcXVlIGtleSB0byBjb3JyZWxhdGUgc3RhdGUgY2hhbmdlcyBkdWUgdG8gdXNlciBpbnRlcmFjdGlvblxuICAvLyB3aXRoIHRoZSByZW5kZXJlZCBlbGVtZW50LCBzbyB3ZSBrbm93IHRvIGFwcGx5IHRoZSBwcm9wZXIgaW50ZXJhY3RpdmVcbiAgLy8gc3R5bGVzLlxuICB2YXIgb3JpZ2luYWxLZXkgPSByZW5kZXJlZEVsZW1lbnQucmVmIHx8IHJlbmRlcmVkRWxlbWVudC5rZXk7XG4gIHZhciBrZXkgPSBnZXRTdGF0ZUtleShvcmlnaW5hbEtleSk7XG5cbiAgaWYgKGV4aXN0aW5nS2V5TWFwW2tleV0pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1JhZGl1bSByZXF1aXJlcyBlYWNoIGVsZW1lbnQgd2l0aCBpbnRlcmFjdGl2ZSBzdHlsZXMgdG8gaGF2ZSBhIHVuaXF1ZSAnICsgJ2tleSwgc2V0IHVzaW5nIGVpdGhlciB0aGUgcmVmIG9yIGtleSBwcm9wLiAnICsgKG9yaWdpbmFsS2V5ID8gJ0tleSBcIicgKyBvcmlnaW5hbEtleSArICdcIiBpcyBhIGR1cGxpY2F0ZS4nIDogJ011bHRpcGxlIGVsZW1lbnRzIGhhdmUgbm8ga2V5IHNwZWNpZmllZC4nKSk7XG4gIH1cblxuICBleGlzdGluZ0tleU1hcFtrZXldID0gdHJ1ZTtcblxuICAvLyBNZWRpYSBxdWVyaWVzIGNhbiBjb250YWluIHBzZXVkbyBzdHlsZXMsIGxpa2UgOmhvdmVyXG4gIHN0eWxlID0gX3Jlc29sdmVNZWRpYVF1ZXJ5U3R5bGVzKGNvbXBvbmVudCwgc3R5bGUpO1xuXG4gIHZhciBuZXdTdHlsZSA9IHt9O1xuICBPYmplY3Qua2V5cyhzdHlsZSkuZm9yRWFjaChmdW5jdGlvbiAoc3R5bGVLZXkpIHtcbiAgICBpZiAoIV9pc1NwZWNpYWxLZXkoc3R5bGVLZXkpKSB7XG4gICAgICBuZXdTdHlsZVtzdHlsZUtleV0gPSBzdHlsZVtzdHlsZUtleV07XG4gICAgfVxuICB9KTtcblxuICAvLyBPbmx5IGFkZCBoYW5kbGVycyBpZiBuZWNlc3NhcnlcbiAgaWYgKHN0eWxlWyc6aG92ZXInXSB8fCBzdHlsZVsnOmFjdGl2ZSddKSB7XG4gICAgLy8gQWx3YXlzIGNhbGwgdGhlIGV4aXN0aW5nIGhhbmRsZXIgaWYgb25lIGlzIGFscmVhZHkgZGVmaW5lZC5cbiAgICAvLyBUaGlzIGNvZGUsIGFuZCB0aGUgdmVyeSBzaW1pbGFyIG9uZXMgYmVsb3csIGNvdWxkIGJlIGFic3RyYWN0ZWQgYSBiaXRcbiAgICAvLyBtb3JlLCBidXQgaXQgaHVydHMgcmVhZGFiaWxpdHkgSU1PLlxuICAgIHZhciBleGlzdGluZ09uTW91c2VFbnRlciA9IHByb3BzLm9uTW91c2VFbnRlcjtcbiAgICBuZXdQcm9wcy5vbk1vdXNlRW50ZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZXhpc3RpbmdPbk1vdXNlRW50ZXIgJiYgZXhpc3RpbmdPbk1vdXNlRW50ZXIoZSk7XG4gICAgICBfc2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgeyAnOmhvdmVyJzogdHJ1ZSB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGV4aXN0aW5nT25Nb3VzZUxlYXZlID0gcHJvcHMub25Nb3VzZUxlYXZlO1xuICAgIG5ld1Byb3BzLm9uTW91c2VMZWF2ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBleGlzdGluZ09uTW91c2VMZWF2ZSAmJiBleGlzdGluZ09uTW91c2VMZWF2ZShlKTtcbiAgICAgIF9zZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCB7ICc6aG92ZXInOiBmYWxzZSB9KTtcbiAgICB9O1xuICB9XG5cbiAgaWYgKHN0eWxlWyc6YWN0aXZlJ10pIHtcbiAgICB2YXIgZXhpc3RpbmdPbk1vdXNlRG93biA9IHByb3BzLm9uTW91c2VEb3duO1xuICAgIG5ld1Byb3BzLm9uTW91c2VEb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGV4aXN0aW5nT25Nb3VzZURvd24gJiYgZXhpc3RpbmdPbk1vdXNlRG93bihlKTtcbiAgICAgIGNvbXBvbmVudC5fbGFzdE1vdXNlRG93biA9IERhdGUubm93KCk7XG4gICAgICBfc2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgeyAnOmFjdGl2ZSc6IHRydWUgfSk7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChzdHlsZVsnOmZvY3VzJ10pIHtcbiAgICB2YXIgZXhpc3RpbmdPbkZvY3VzID0gcHJvcHMub25Gb2N1cztcbiAgICBuZXdQcm9wcy5vbkZvY3VzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGV4aXN0aW5nT25Gb2N1cyAmJiBleGlzdGluZ09uRm9jdXMoZSk7XG4gICAgICBfc2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgeyAnOmZvY3VzJzogdHJ1ZSB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGV4aXN0aW5nT25CbHVyID0gcHJvcHMub25CbHVyO1xuICAgIG5ld1Byb3BzLm9uQmx1ciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBleGlzdGluZ09uQmx1ciAmJiBleGlzdGluZ09uQmx1cihlKTtcbiAgICAgIF9zZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCB7ICc6Zm9jdXMnOiBmYWxzZSB9KTtcbiAgICB9O1xuICB9XG5cbiAgLy8gTWVyZ2UgdGhlIHN0eWxlcyBpbiB0aGUgb3JkZXIgdGhleSB3ZXJlIGRlZmluZWRcbiAgdmFyIGludGVyYWN0aW9uU3R5bGVzID0gT2JqZWN0LmtleXMoc3R5bGUpLmZpbHRlcihmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiBuYW1lID09PSAnOmFjdGl2ZScgJiYgX2dldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksICc6YWN0aXZlJykgfHwgbmFtZSA9PT0gJzpob3ZlcicgJiYgX2dldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksICc6aG92ZXInKSB8fCBuYW1lID09PSAnOmZvY3VzJyAmJiBfZ2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgJzpmb2N1cycpO1xuICB9KS5tYXAoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gc3R5bGVbbmFtZV07XG4gIH0pO1xuXG4gIGlmIChpbnRlcmFjdGlvblN0eWxlcy5sZW5ndGgpIHtcbiAgICBuZXdTdHlsZSA9IF9tZXJnZVN0eWxlcyhbbmV3U3R5bGVdLmNvbmNhdChpbnRlcmFjdGlvblN0eWxlcykpO1xuICB9XG5cbiAgaWYgKHN0eWxlWyc6YWN0aXZlJ10gJiYgIWNvbXBvbmVudC5fcmFkaXVtTW91c2VVcExpc3RlbmVyICYmIEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZUV2ZW50TGlzdGVuZXJzKSB7XG4gICAgY29tcG9uZW50Ll9yYWRpdW1Nb3VzZVVwTGlzdGVuZXIgPSBNb3VzZVVwTGlzdGVuZXIuc3Vic2NyaWJlKF9tb3VzZVVwLmJpbmQobnVsbCwgY29tcG9uZW50KSk7XG4gIH1cblxuICBuZXdQcm9wcy5zdHlsZSA9IFByZWZpeGVyLmdldFByZWZpeGVkU3R5bGUoY29tcG9uZW50LCBuZXdTdHlsZSk7XG5cbiAgcmV0dXJuIF9jbG9uZUVsZW1lbnQocmVuZGVyZWRFbGVtZW50LCBuZXdQcm9wcywgbmV3Q2hpbGRyZW4pO1xufTtcblxuLy8gRXhwb3NpbmcgbWV0aG9kcyBmb3IgdGVzdHMgaXMgdWdseSwgYnV0IHRoZSBhbHRlcm5hdGl2ZSwgcmUtcmVxdWlyaW5nIHRoZVxuLy8gbW9kdWxlIGVhY2ggdGltZSwgaXMgdG9vIHNsb3dcbnJlc29sdmVTdHlsZXMuX19jbGVhclN0YXRlRm9yVGVzdHMgPSBmdW5jdGlvbiAoKSB7XG4gIG1lZGlhUXVlcnlMaXN0QnlRdWVyeVN0cmluZyA9IHt9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSByZXNvbHZlU3R5bGVzO1xuXG4vLyBCYWlsIGlmIHdlJ3ZlIGFscmVhZHkgcHJvY2Vzc2VkIHRoaXMgZWxlbWVudC4gVGhpcyBlbnN1cmVzIHRoYXQgb25seSB0aGVcbi8vIG93bmVyIG9mIGFuIGVsZW1lbnQgcHJvY2Vzc2VzIHRoYXQgZWxlbWVudCwgc2luY2UgdGhlIG93bmVyJ3MgcmVuZGVyXG4vLyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBmaXJzdCAod2hpY2ggd2lsbCBhbHdheXMgYmUgdGhlIGNhc2UsIHNpbmNlIHlvdVxuLy8gY2FuJ3Qga25vdyB3aGF0IGVsc2UgdG8gcmVuZGVyIHVudGlsIHlvdSByZW5kZXIgdGhlIHBhcmVudCBjb21wb25lbnQpLiIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gZmluZChhcnJheSwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gIGlmICh0eXBlb2YgQXJyYXkucHJvdG90eXBlLmZpbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYXJyYXkuZmluZChwcmVkaWNhdGUsIGNvbnRleHQpO1xuICB9XG5cbiAgY29udGV4dCA9IGNvbnRleHQgfHwgdGhpcztcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgdmFyIGk7XG5cbiAgaWYgKHR5cGVvZiBwcmVkaWNhdGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHByZWRpY2F0ZSArICcgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGlmIChwcmVkaWNhdGUuY2FsbChjb250ZXh0LCBhcnJheVtpXSwgaSwgYXJyYXkpKSB7XG4gICAgICByZXR1cm4gYXJyYXlbaV07XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZmluZDtcbiIsIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTUgSmVkIFdhdHNvbi5cbiAgQmFzZWQgb24gY29kZSB0aGF0IGlzIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4qL1xuXG4oZnVuY3Rpb24gKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGNhblVzZURPTSA9ICEhKFxuXHRcdHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG5cdFx0d2luZG93LmRvY3VtZW50ICYmXG5cdFx0d2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnRcblx0KTtcblxuXHR2YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSB7XG5cblx0XHRjYW5Vc2VET006IGNhblVzZURPTSxcblxuXHRcdGNhblVzZVdvcmtlcnM6IHR5cGVvZiBXb3JrZXIgIT09ICd1bmRlZmluZWQnLFxuXG5cdFx0Y2FuVXNlRXZlbnRMaXN0ZW5lcnM6XG5cdFx0XHRjYW5Vc2VET00gJiYgISEod2luZG93LmFkZEV2ZW50TGlzdGVuZXIgfHwgd2luZG93LmF0dGFjaEV2ZW50KSxcblxuXHRcdGNhblVzZVZpZXdwb3J0OiBjYW5Vc2VET00gJiYgISF3aW5kb3cuc2NyZWVuXG5cblx0fTtcblxuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdGRlZmluZShmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gRXhlY3V0aW9uRW52aXJvbm1lbnQ7XG5cdFx0fSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IEV4ZWN1dGlvbkVudmlyb25tZW50O1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5FeGVjdXRpb25FbnZpcm9ubWVudCA9IEV4ZWN1dGlvbkVudmlyb25tZW50O1xuXHR9XG5cbn0oKSk7XG4iXX0=
