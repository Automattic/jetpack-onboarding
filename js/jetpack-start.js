(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),DataActions={requestStarted:function(){AppDispatcher.dispatch({actionType:JPSConstants.SAVE_STARTED})},requestFinished:function(){AppDispatcher.dispatch({actionType:JPSConstants.SAVE_FINISHED})}};module.exports=DataActions;


},{"../constants/jetpack-start-constants":20,"../dispatcher/app-dispatcher":22}],2:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),FlashActions={notice:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SET_FLASH,message:t,severity:JPSConstants.FLASH_SEVERITY_NOTICE})},error:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SET_FLASH,message:t,severity:JPSConstants.FLASH_SEVERITY_ERROR})},unset:function(){AppDispatcher.dispatch({actionType:JPSConstants.UNSET_FLASH})}};module.exports=FlashActions;


},{"../constants/jetpack-start-constants":20,"../dispatcher/app-dispatcher":22}],3:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),Paths=require("../constants/jetpack-start-paths"),FlashActions=require("./flash-actions"),SiteActions=require("./site-actions"),WPAjax=require("../utils/wp-ajax"),SetupProgressStore=require("../stores/setup-progress-store"),SiteStore=require("../stores/site-store"),SetupProgressActions={resetData:function(){WPAjax.post(JPS.site_actions.reset_data).fail(function(t){FlashActions.error("Failed to save data: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.RESET_DATA})},completeStep:function(t,e){var s=SetupProgressStore.getStepFromSlug(t);AppDispatcher.dispatch({actionType:JPSConstants.STEP_COMPLETE,slug:t}),this._recordComplete(s,e)},completeAndNextStep:function(t,e){this.completeStep(t,e),AppDispatcher.dispatch({actionType:JPSConstants.STEP_NEXT,slug:t})},_recordComplete:function(t,e){"undefined"==typeof e&&(e={}),e.completion=SetupProgressStore.getProgressPercent(),WPAjax.post(JPS.step_actions.complete,{step:t.slug,data:e}).fail(function(t){FlashActions.error(t)})},skipStep:function(){FlashActions.unset();var t=SetupProgressStore.getCurrentStep();t.skipped||WPAjax.post(JPS.step_actions.skip,{step:t.slug}).fail(function(t){FlashActions.error(t)}),AppDispatcher.dispatch({actionType:JPSConstants.STEP_SKIP})},getStarted:function(){WPAjax.post(JPS.step_actions.start).fail(function(t){FlashActions.error(t)}),AppDispatcher.dispatch({actionType:JPSConstants.STEP_GET_STARTED})},setCurrentStep:function(t){FlashActions.unset(),AppDispatcher.dispatch({actionType:JPSConstants.STEP_SELECT,slug:t})},selectNextStep:function(){FlashActions.unset(),AppDispatcher.dispatch({actionType:JPSConstants.STEP_NEXT})},submitTitleStep:function(){SiteActions.saveTitleAndDescription().done(function(){this.completeAndNextStep(Paths.SITE_TITLE_STEP_SLUG)}.bind(this))},submitLayoutStep:function(t){SiteActions.setLayout(t).done(function(){this.completeAndNextStep(Paths.LAYOUT_STEP_SLUG)}.bind(this))},submitJetpackJumpstart:function(){SiteActions.enableJumpstart().done(function(){this.completeStep(Paths.JETPACK_MODULES_STEP_SLUG)}.bind(this))},setActiveTheme:function(t){SiteActions.setActiveTheme(t).done(function(){this.completeStep(Paths.DESIGN_STEP_SLUG,{themeId:t.id})}.bind(this))},saveDesignStep:function(){this.completeAndNextStep(Paths.DESIGN_STEP_SLUG,{themeId:SiteStore.getActiveThemeId()})}};module.exports=SetupProgressActions;


},{"../constants/jetpack-start-constants":20,"../constants/jetpack-start-paths":21,"../dispatcher/app-dispatcher":22,"../stores/setup-progress-store":26,"../stores/site-store":27,"../utils/wp-ajax":29,"./flash-actions":2,"./site-actions":4}],4:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),SiteStore=require("../stores/site-store"),FlashActions=require("./flash-actions.js"),SpinnerActions=require("./spinner-actions.js"),WPAjax=require("../utils/wp-ajax"),SiteActions={setTitle:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_TITLE,title:t})},setDescription:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_DESCRIPTION,description:t})},saveTitleAndDescription:function(){var t=SiteStore.getTitle(),e=SiteStore.getDescription();return WPAjax.post(JPS.site_actions.set_title,{title:t,description:e}).fail(function(t){FlashActions.error("Error setting title: "+t)}),jQuery("#wp-admin-bar-site-name .ab-item").html(t),AppDispatcher.dispatch({actionType:JPSConstants.SITE_SAVE_TITLE_AND_DESCRIPTION,title:t}),jQuery.Deferred().resolve()},_installTheme:function(t){return t.installed?jQuery.Deferred().resolve():(SpinnerActions.show("Installing '"+t.name+"'"),WPAjax.post(JPS.site_actions.install_theme,{themeId:t.id}).done(function(){t.installed=!0,AppDispatcher.dispatch({actionType:JPSConstants.SITE_INSTALL_THEME,theme:t})}).fail(function(t){FlashActions.error("Server error installing theme: "+t)}).always(function(){SpinnerActions.hide()}))},_activateTheme:function(t){WPAjax.post(JPS.site_actions.set_theme,{themeId:t.id}).fail(function(t){FlashActions.error("Server error setting theme: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_THEME,themeId:t.id})},setActiveTheme:function(t){return this._installTheme(t).done(function(){this._activateTheme(t)}.bind(this)),jQuery.Deferred().resolve()},setLayout:function(t){return WPAjax.post(JPS.site_actions.set_layout,{layout:t}).fail(function(t){FlashActions.error("Error setting layout: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_LAYOUT,layout:t}),jQuery.Deferred().resolve()},configureJetpack:function(t){return SpinnerActions.show("Connecting to WordPress.com"),WPAjax.post(JPS.site_actions.configure_jetpack,{return_to_step:t}).done(function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_CONFIGURED}),t.next?window.location.replace(t.next):SpinnerActions.hide()}).fail(function(t){FlashActions.error("Error enabling Jetpack: "+t),SpinnerActions.hide()})},activateJetpackModule:function(t){return WPAjax.post(JPS.site_actions.activate_jetpack_modules,{modules:[t]}).fail(function(t){FlashActions.error("Error activating Jetpack module: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_MODULE_ENABLED,slug:t}),jQuery.Deferred().resolve()},deactivateJetpackModule:function(t){return WPAjax.post(JPS.site_actions.deactivate_jetpack_modules,{modules:[t]}).fail(function(t){FlashActions.error("Error deactivating Jetpack module: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_MODULE_DISABLED,slug:t}),jQuery.Deferred().resolve()},loadAllJetpackModules:function(){return 0===SiteStore.getJetpackAdditionalModules().length?WPAjax.post(JPS.site_actions.list_jetpack_modules).done(function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_ADD_MODULES,modules:t})}).fail(function(t){FlashActions.error("Error fetching all Jetpack modules: "+t)}):jQuery.Deferred().resolve()},enableJumpstart:function(){return WPAjax.post(JPS.site_actions.activate_jetpack_modules,{modules:SiteStore.getJumpstartModuleSlugs()}).fail(function(t){FlashActions.error("Error activating Jetpack modules: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_JUMPSTART_ENABLED}),jQuery.Deferred().resolve()}};module.exports=SiteActions;


},{"../constants/jetpack-start-constants":20,"../dispatcher/app-dispatcher":22,"../stores/site-store":27,"../utils/wp-ajax":29,"./flash-actions.js":2,"./spinner-actions.js":5}],5:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),SpinnerActions={show:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SHOW_SPINNER,message:t})},hide:function(){AppDispatcher.dispatch({actionType:JPSConstants.HIDE_SPINNER})},showAsync:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SHOW_ASYNC_SPINNER,message:t})},hideAsync:function(){AppDispatcher.dispatch({actionType:JPSConstants.HIDE_ASYNC_SPINNER})}};module.exports=SpinnerActions;


},{"../constants/jetpack-start-constants":20,"../dispatcher/app-dispatcher":22}],6:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteStore=require("../stores/site-store"),AdvancedSettingsStep=React.createClass({displayName:"AdvancedSettingsStep",render:function(){return React.createElement("div",{className:"welcome__section",id:"welcome__advanced"},React.createElement("h4",null,"Advanced settings"),React.createElement("ul",{className:"welcome__advanced"},React.createElement("li",null,React.createElement("h5",null,"Fine-tune your site's layout and appearance"),"Customize your site’s colors, fonts, sidebars and other settings.",React.createElement("br",null),React.createElement("a",{className:"button button-primary button-large",href:JPS.steps.advanced_settings.customize_url},"Customize my site"),"   ",React.createElement("a",{className:"button button-primary button-large",href:JPS.steps.advanced_settings.themes_url},"Browse and add themes")),("blog"==SiteStore.getLayout()||"site-blog"==SiteStore.getLayout())&&React.createElement("li",null,React.createElement("h5",null,"Create your first blog post"),'An epic essay or just "Hello World!"',React.createElement("br",null),React.createElement("a",{className:"button button-primary button-large",href:JPS.steps.advanced_settings.new_blog_post_url},"Write a new blog post"),"  ",React.createElement("a",{className:"button button-primary button-large",href:JPS.steps.advanced_settings.manage_posts_url},"Manage posts")),React.createElement("li",null,React.createElement("h5",null,"Create a static page"),'"About me", "Our Services" or anything else you can imagine.',React.createElement("br",null),React.createElement("a",{className:"button button-primary button-large",href:JPS.steps.advanced_settings.new_page_url},"Create a new page"),"  ",React.createElement("a",{className:"button button-primary button-large",href:JPS.steps.advanced_settings.manage_pages_url},"Manage pages")),React.createElement("li",null,React.createElement("h5",null,"Extend your site's functionality"),"WordPress offers thousands of plugins from Jetpack and the WordPress community.",React.createElement("br",null),React.createElement("a",{className:"button button-primary button-large",href:JPS.steps.advanced_settings.plugins_url},"Manage plugins"),"   ",SiteStore.getJetpackConfigured()&&React.createElement("a",{className:"button button-primary button-large",href:JPS.steps.advanced_settings.jetpack_modules_url},"Manage Jetpack modules")),React.createElement("li",null,React.createElement("h5",null,"Learn more"),React.createElement("a",{href:"https://codex.wordpress.org/First_Steps_With_WordPress"},"First Steps with WordPress")," - an online guide from the creators of WordPress")))}});module.exports=AdvancedSettingsStep;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../stores/site-store":27}],7:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,ContentBox=React.createClass({displayName:"ContentBox",render:function(){return React.createElement("div",{className:"welcome__content_box"},this.props.children,React.createElement("div",{className:"clear"}))}});module.exports=ContentBox;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],8:[function(require,module,exports){
(function (global){
function getThemeState(){return{themes:SiteStore.getThemes()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteStore=require("../stores/site-store"),SetupProgressActions=require("../actions/setup-progress-actions"),Tooltip=require("./tooltip"),ContentBox=require("./content-box"),DesignStep=React.createClass({displayName:"DesignStep",componentDidMount:function(){SiteStore.addChangeListener(this._onChange),this._loadPopularThemes()},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getThemeState())},getInitialState:function(){var e=getThemeState();return e.popularThemes=[],e},handleActivateTheme:function(e){e.preventDefault(),this.setState({tooltipTheme:null,tooltipPosition:null});var t=jQuery(e.currentTarget),n=t.data("theme-id"),a=this.findTheme(n),o=!a.installed,i=SetupProgressActions.setActiveTheme(a);o&&i.done(function(){this._loadPopularThemes()}.bind(this))},findTheme:function(e){return _.findWhere(this.state.themes,{id:e})||_.findWhere(this.state.popularThemes,{id:e})},handleContinue:function(e){e.preventDefault(),SetupProgressActions.saveDesignStep()},handleShowTooltip:function(e){e.preventDefault();var t=jQuery(e.currentTarget),n=this.findTheme(t.data("theme-id")),a=t.position(),o=t.outerWidth(),i=t.outerHeight(),s={top:a.top+i/2,left:a.left+o};this.setState({tooltipTheme:n,tooltipPosition:s})},handleHideTooltip:function(e){e.preventDefault(),this.setState({tooltipTheme:null,tooltipPosition:null})},handleGetPopularThemes:function(e){e.preventDefault(),this._loadPopularThemes()},_loadPopularThemes:function(){SiteStore.getPopularThemes().done(function(e){this.setState({popularThemes:e})}.bind(this))},render:function(){return React.createElement("div",{className:"welcome__section",id:"welcome__design"},React.createElement("h4",null,"Pick a design"),React.createElement("p",{className:"step-description"},'A "theme" controls the design of your site - colours, fonts and layout.'),React.createElement("p",{className:"step-description"},"Click any theme below to choose it for your site. And don't worry - you can easily change this later."),React.createElement("p",{className:"submit"},React.createElement("input",{type:"submit",name:"save",className:"button button-primary button-large",onClick:this.handleContinue,value:"Next Step →"})),React.createElement(ContentBox,null,React.createElement("h3",null,"Installed themes"),React.createElement("div",{className:"theme-browser rendered"},this._renderThemeList())),React.createElement(ContentBox,null,React.createElement("h3",null,"Popular themes from WordPress.org",React.createElement("a",{href:"#",className:"button button-primary button-large",style:{"float":"right"},onClick:this.handleGetPopularThemes},"Load more themes")),React.createElement("div",{className:"theme-browser rendered"},this._renderPopularThemeList())),React.createElement("div",{style:{clear:"both"}}),this.state.tooltipTheme&&this._renderTooltip())},_renderTooltip:function(){var e=this.state.tooltipTheme,t=this.state.tooltipPosition;return React.createElement(Tooltip,{left:t.left,top:t.top,width:320,title:e.name},React.createElement("p",null,"By ",e.author),React.createElement("p",{dangerouslySetInnerHTML:{__html:_.unescape(e.description)}}))},_renderTheme:function(e){return React.createElement("div",{key:e.id,className:"theme"+(e.active?" active":""),"data-theme-id":e.id,onClick:this.handleActivateTheme,onMouseEnter:this.handleShowTooltip,onMouseLeave:this.handleHideTooltip,"aria-describedby":e.id+"-action "+e.id+"-name"},e.screenshot?React.createElement("div",{className:"theme-screenshot"},React.createElement("img",{src:e.screenshot,alt:""})):React.createElement("div",{className:"theme-screenshot blank"}),!e.active&&React.createElement("span",{className:"more-details"},e.installed?"Click to select":"Click to install"),React.createElement("h3",{className:"theme-name",id:e.id+"-name"},React.createElement("span",null,e.active?"Selected:":"")," ",e.name))},_renderPopularThemeList:function(){return this.state.popularThemes.map(this._renderTheme)},_renderThemeList:function(){return this.state.themes.map(this._renderTheme)}});module.exports=DesignStep;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/site-store":27,"./content-box":7,"./tooltip":16}],9:[function(require,module,exports){
(function (global){
function getFlashState(){return FlashStore.getFlash()}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,FlashStore=require("../stores/flash-store"),Flash=React.createClass({displayName:"Flash",componentDidMount:function(){FlashStore.addChangeListener(this._onChange)},componentWillUnmount:function(){FlashStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getFlashState())},getInitialState:function(){return getFlashState()},render:function(){return this.state.message?React.createElement("div",{className:this.state.severity+" updated"},this.state.message):null}});module.exports=Flash;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../stores/flash-store":25}],10:[function(require,module,exports){
(function (global){
function getSetupState(){return{}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SetupProgressStore=require("../stores/setup-progress-store"),SetupProgressActions=require("../actions/setup-progress-actions"),GetStarted=React.createClass({displayName:"GetStarted",componentDidMount:function(){SetupProgressStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SetupProgressStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSetupState())},getInitialState:function(){return getSetupState()},handleGetStarted:function(e){e.preventDefault(),SetupProgressActions.getStarted()},render:function(){return React.createElement("div",{className:"getting-started__intro"},React.createElement("h3",null,"You're almost done!"),React.createElement("p",{className:"getting-started__subhead"},"Take these steps to supercharge your WordPress site."),React.createElement("p",{className:"getting-started__action"},React.createElement("a",{href:"#",className:"button button-primary button-large",onClick:this.handleGetStarted},"Get Started →")))}});module.exports=GetStarted;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/setup-progress-store":26}],11:[function(require,module,exports){
(function (global){
function getJetpackProgress(){return{jetpackConfigured:SiteStore.getJetpackConfigured()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteStore=require("../stores/site-store"),SiteActions=require("../actions/site-actions"),Paths=require("../constants/jetpack-start-paths"),JetpackJumpstartMenu=React.createClass({displayName:"JetpackJumpstartMenu",componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getJetpackProgress())},getInitialState:function(){return getJetpackProgress()},handleClickConnect:function(e){e.preventDefault(),console.log("clicked"),SiteActions.configureJetpack(Paths.JETPACK_MODULES_STEP_SLUG)},style:{color:"black",fontSize:12},render:function(){return React.createElement("div",{style:this.style},this.state.jetpackConfigured?React.createElement("div",null):React.createElement("div",null,"Boost traffic, enhance security, and improve performance with a connection to WordPress.com",React.createElement("br",null),React.createElement("a",{className:"button button-primary button-large",href:"#",onClick:this.handleClickConnect},"Connect to WordPress.com")))}});module.exports=JetpackJumpstartMenu;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/site-actions":4,"../constants/jetpack-start-paths":21,"../stores/site-store":27}],12:[function(require,module,exports){
(function (global){
function getJetpackState(){return{site_title:SiteStore.getTitle(),jetpackConfigured:SiteStore.getJetpackConfigured(),jumpstartEnabled:SiteStore.getJetpackJumpstartEnabled(),modulesEnabled:SiteStore.getActiveModuleSlugs()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SkipButton=require("./skip-button"),SiteStore=require("../stores/site-store"),SiteActions=require("../actions/site-actions"),Paths=require("../constants/jetpack-start-paths"),ContentBox=require("./content-box"),SetupProgressActions=require("../actions/setup-progress-actions"),SpinnerStore=require("../stores/spinner-store"),JetpackJumpstart=React.createClass({displayName:"JetpackJumpstart",componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getJetpackState())},getInitialState:function(){var e=getJetpackState();return e.showMoreModules=!1,e},handleJetpackConnect:function(e){e.preventDefault(),SiteActions.configureJetpack(Paths.JETPACK_MODULES_STEP_SLUG)},handleChangeModuleStatus:function(e){var t=jQuery(e.currentTarget),a=t.data("module-slug");SiteStore.isJetpackModuleEnabled(a)?SiteActions.deactivateJetpackModule(a):SiteActions.activateJetpackModule(a)},handleEnableAllModules:function(e){e.preventDefault(),SiteActions.enableJumpstart()},handleNext:function(e){e.preventDefault(),SetupProgressActions.completeAndNextStep(Paths.JETPACK_MODULES_STEP_SLUG)},handleShowMoreModules:function(e){e.preventDefault(),SiteActions.loadAllJetpackModules().done(function(){this.setState({showMoreModules:!0})}.bind(this))},handleShowFewerModules:function(e){e.preventDefault(),this.setState({showMoreModules:!1})},_renderModule:function(e){var t=SiteStore.isJetpackModuleEnabled(e.slug),a="jp-module-"+e.slug;return React.createElement("div",{key:"modules-"+e.slug,className:"welcome__jumpstart_module"},React.createElement("input",{id:a,type:"checkbox",checked:t,"data-module-slug":e.slug,onChange:this.handleChangeModuleStatus}),React.createElement("label",{htmlFor:a},React.createElement("strong",null,e.name)),React.createElement("small",{className:"jumpstart_module__description",dangerouslySetInnerHTML:{__html:e.description}}),t&&e.configure_url&&React.createElement("small",null,React.createElement("a",{target:"_configure",href:e.configure_url},"configure")))},render:function(){var e,t;this.state.jetpackConfigured||SpinnerStore.showing()||(e=React.createElement("div",{className:"welcome__jumpstart_overlay"}),t=React.createElement("div",{className:"welcome__jumpstart_overlay__body"},React.createElement("p",null,"These modules require a WordPress.com account - it's free!"),React.createElement("a",{href:"#",className:"download-jetpack",onClick:this.handleJetpackConnect},"Connect to WordPress.com"),React.createElement("p",null,React.createElement(SkipButton,null))));var a=SiteStore.getJumpstartModules().map(this._renderModule),n=SiteStore.getJetpackAdditionalModules().map(this._renderModule);return React.createElement("div",{className:"welcome__section"},React.createElement("h3",null,"Let's launch ",React.createElement("em",null,this.state.site_title)),React.createElement("h4",null,"Enable modules"),this.state.jetpackConfigured&&React.createElement("div",null,React.createElement("span",{className:"jetpack-logo"},"Powered by",React.createElement("br",null),React.createElement("a",{href:"http://192.168.59.103/wp-admin/admin.php?page=jetpack",title:"Jetpack",className:"current"},React.createElement("span",null,"Jetpack"))),React.createElement("p",{className:"step-description"},"Congratulations! You've connected your site to WordPress.com and unlocked dozens of powerful features."),React.createElement("p",{className:"step-description"},"We've highlighted some of the most popular WordPress-connected modules for you.")),React.createElement("div",{className:"welcome__connect"},React.createElement("div",{className:"welcome__jumpstart_wrapper"},e,t,this.state.jetpackConfigured&&React.createElement("div",{className:"submit"},React.createElement("input",{style:{"float":"right"},type:"submit",name:"save",className:"button button-primary button-large",onClick:this.handleNext,value:"Next Step →"}),React.createElement("div",{className:"clear"})),React.createElement(ContentBox,null,React.createElement("h3",null,"Popular modules   ",React.createElement("button",{disabled:this.state.jumpstartEnabled,className:"button button-primary",onClick:this.handleEnableAllModules},this.state.jumpstartEnabled?"Enabled":"Enable all (recommended)")),a),this.state.showMoreModules?React.createElement("p",{className:"more"},React.createElement("a",{href:"#",onClick:this.handleShowFewerModules},"hide additional modules")):React.createElement("p",{className:"more"},React.createElement("a",{href:"#",onClick:this.handleShowMoreModules},"show additional modules")),this.state.showMoreModules&&React.createElement(ContentBox,null,React.createElement("h3",null,"Additional modules"),n))))}});module.exports=JetpackJumpstart;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../actions/site-actions":4,"../constants/jetpack-start-paths":21,"../stores/site-store":27,"../stores/spinner-store":28,"./content-box":7,"./skip-button":15}],13:[function(require,module,exports){
(function (global){
function getSiteLayoutState(){return{site_title:SiteStore.getTitle(),layout:SiteStore.getLayout()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteStore=require("../stores/site-store"),SetupProgressActions=require("../actions/setup-progress-actions"),LayoutStep=React.createClass({displayName:"LayoutStep",componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSiteLayoutState())},getInitialState:function(){return getSiteLayoutState()},handleSetLayout:function(e){this.setState({layout:jQuery(e.currentTarget).val()})},handleSubmit:function(e){e.preventDefault(),SetupProgressActions.submitLayoutStep(this.state.layout)},render:function(){return React.createElement("div",{className:"welcome__section",id:"welcome__layout"},React.createElement("h3",null,"Let's launch ",React.createElement("em",null,this.state.site_title)),React.createElement("h4",null,"Select a layout"),React.createElement("p",{className:"step-description"},"WordPress can be a blog, a web site with a hierarchy of static pages, or a combination of the two."),React.createElement("form",{onSubmit:this.handleSubmit},React.createElement("label",null,React.createElement("input",{type:"radio",name:"site_layout",value:"website",checked:"website"===this.state.layout,onChange:this.handleSetLayout})," Static Website",React.createElement("p",{className:"description"},"A web site with a hierarchy of pages")),React.createElement("br",null),React.createElement("label",null,React.createElement("input",{type:"radio",name:"site_layout",value:"site-blog",checked:"site-blog"===this.state.layout,onChange:this.handleSetLayout})," Static Website with a blog",React.createElement("p",{className:"description"},"A web site with pages that also has a blog or news section")),React.createElement("br",null),React.createElement("label",null,React.createElement("input",{type:"radio",name:"site_layout",value:"blog",checked:"blog"===this.state.layout,onChange:this.handleSetLayout})," Just a blog",React.createElement("p",{className:"description"},"A web site that will constantly show new content (articles, photos, videos, etc.)")),React.createElement("p",{className:"submit"},React.createElement("input",{type:"submit",name:"save",className:"button button-primary button-large",value:"Next Step →"}))))}});module.exports=LayoutStep;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/site-store":27}],14:[function(require,module,exports){
(function (global){
function getSiteTitleState(){return{title:SiteStore.getTitle(),description:SiteStore.getDescription()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteActions=require("../actions/site-actions"),SiteStore=require("../stores/site-store"),SetupProgressActions=require("../actions/setup-progress-actions"),SiteTitleStep=React.createClass({displayName:"SiteTitleStep",componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSiteTitleState())},getInitialState:function(){return getSiteTitleState()},handleChangeTitle:function(e){SiteActions.setTitle(e.currentTarget.value)},handleChangeDescription:function(e){SiteActions.setDescription(e.currentTarget.value)},handleSubmit:function(e){e.preventDefault(),SetupProgressActions.submitTitleStep()},render:function(){return React.createElement("div",{className:"welcome__section",id:"welcome__site-title"},React.createElement("h3",null,"Let's launch your new website"),React.createElement("h4",null,"Title and Description"),React.createElement("p",{className:"step-description"},"Make your site stand out with a catchy name."),React.createElement("form",{onSubmit:this.handleSubmit},React.createElement("table",{className:"form-table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("th",null,React.createElement("label",{htmlFor:"site_title"},"Site Title")),React.createElement("td",null,React.createElement("input",{type:"text",name:"site_title",id:"site-title",autoComplete:"off",onChange:this.handleChangeTitle,value:this.state.title,placeholder:"Site Title (this can be changed later)",required:!0}),React.createElement("p",{className:"description"},"The name of your site. This title appears at the top of pages and in search results."))),React.createElement("tr",null,React.createElement("th",null,React.createElement("label",{htmlFor:"site_description"},"Site Description")),React.createElement("td",null,React.createElement("input",{type:"text",name:"site_description",id:"site-description",autoComplete:"off",onChange:this.handleChangeDescription,value:this.state.description,placeholder:"Site Description",required:!0}),React.createElement("p",{className:"description"},'A motto or tagline. This appears below the title on your site, and next to the title in search results. Try to be brief and descriptive, e.g. "Your online bait and tackle store"'))))),React.createElement("p",{className:"submit"},React.createElement("input",{type:"submit",name:"save",className:"button button-primary button-large",value:"Next Step →"}))))}});module.exports=SiteTitleStep;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../actions/site-actions":4,"../stores/site-store":27}],15:[function(require,module,exports){
(function (global){
function getSetupProgress(){return{completed:SetupProgressStore.getCurrentStep().completed}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SetupProgressStore=require("../stores/setup-progress-store"),SetupProgressActions=require("../actions/setup-progress-actions"),SkipButton=React.createClass({displayName:"SkipButton",componentDidMount:function(){SetupProgressStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SetupProgressStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSetupProgress())},getInitialState:function(){return getSetupProgress()},handleSkip:function(e){e.preventDefault(),SetupProgressActions.skipStep()},render:function(){var e=this.state.completed;return e?null:React.createElement("a",{className:"skip",href:"#",onClick:this.handleSkip},"Not now")}});module.exports=SkipButton;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/setup-progress-store":26}],16:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Tooltip=React.createClass({displayName:"Tooltip",propTypes:{left:React.PropTypes.number.isRequired,top:React.PropTypes.number.isRequired,width:React.PropTypes.number.isRequired,title:React.PropTypes.string.isRequired},handleDismiss:function(e){e.preventDefault()},componentDidMount:function(){this._recomputePosition()},componentWillReceiveProps:function(){this._recomputePosition()},getInitialState:function(){return{realTop:this.props.top}},_recomputePosition:function(){var e=jQuery(React.findDOMNode(this.refs.wrapper));this.setState({realTop:this.props.top-e.outerHeight()/2})},render:function(){return React.createElement("div",{ref:"wrapper",className:"wp-pointer wp-pointer-left",style:{position:"absolute",width:this.props.width,top:this.state.realTop,left:this.props.left,zIndex:9999}},React.createElement("div",{className:"wp-pointer-content"},React.createElement("h3",null,this.props.title),React.createElement("p",null,this.props.children)),React.createElement("div",{className:"wp-pointer-arrow"},React.createElement("div",{className:"wp-pointer-arrow-inner"})))}});module.exports=Tooltip;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],17:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,WelcomeProgressBar=require("./welcome-progress-bar"),SetupProgressActions=require("../actions/setup-progress-actions"),stepShape=React.PropTypes.shape({name:React.PropTypes.string.isRequired,slug:React.PropTypes.string}),WelcomeMenu=React.createClass({displayName:"WelcomeMenu",propTypes:{currentStep:stepShape.isRequired,clickable:React.PropTypes.bool,allSteps:React.PropTypes.arrayOf(stepShape).isRequired,progressPercent:React.PropTypes.number.isRequired},getDefaultProps:function(){return{clickable:!0}},selectStep:function(e){e.preventDefault();var t=jQuery(e.currentTarget).data("step-slug");SetupProgressActions.setCurrentStep(t)},render:function(){var e=this.props.allSteps.map(function(e){var t,r,s,a;return this.props.clickable&&this.props.currentStep&&(r=this.props.currentStep.slug==e.slug),t=!e["static"]&&this.props.clickable?React.createElement("a",{href:"#","data-step-slug":e.slug,onClick:this.selectStep},e.name):e.name,e.menuView&&(a=React.createElement(e.menuView,null)),s=e.completed?"completed":"",React.createElement("li",{key:e.slug,className:s+(r?" current":"")},t," ",e.skipped?"(skipped)":null,a)}.bind(this));return React.createElement("div",{className:"getting-started__steps"},React.createElement("h3",null,React.createElement("span",null,"Your Progress"),React.createElement("div",null,React.createElement(WelcomeProgressBar,{progressPercent:this.props.progressPercent}))),React.createElement("ol",null,e))}});module.exports=WelcomeMenu;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"./welcome-progress-bar":18}],18:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,ProgressBar=React.createClass({displayName:"ProgressBar",propTypes:{progressPercent:React.PropTypes.number.isRequired},render:function(){var e="getting-started__progress progress_"+this.props.progressPercent;return React.createElement("div",{className:e},React.createElement("div",{className:"progress__bar"},React.createElement("span",null)),this.props.progressPercent,"% complete")}});module.exports=ProgressBar;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],19:[function(require,module,exports){
(function (global){
function getSetupProgress(){return{newUser:SetupProgressStore.isNewUser(),showSpinner:SpinnerStore.showing(),spinnerMessage:SpinnerStore.getMessage(),currentStep:SetupProgressStore.getCurrentStep(),allSteps:SetupProgressStore.getAllSteps(),progressPercent:SetupProgressStore.getProgressPercent()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,WelcomeMenu=require("./welcome-menu"),SetupProgressStore=require("../stores/setup-progress-store"),SetupProgressActions=require("../actions/setup-progress-actions"),Flash=require("./flash"),GetStarted=require("./get-started"),SpinnerStore=require("../stores/spinner-store"),SpinnerActions=require("../actions/spinner-actions"),DataStore=require("../stores/data-store"),WelcomeWidget=React.createClass({displayName:"WelcomeWidget",componentDidMount:function(){SetupProgressStore.addChangeListener(this._onChange),SpinnerStore.addChangeListener(this._onSpinnerChange),DataStore.addChangeListener(this._onDataChange)},componentWillUnmount:function(){SetupProgressStore.removeChangeListener(this._onChange),SpinnerStore.removeChangeListener(this._onSpinnerChange),DataStore.removeChangeListener(this._onDataChange)},_onChange:function(){this.setState(getSetupProgress())},_onSpinnerChange:function(){this.setState({showSpinner:SpinnerStore.showing(),spinnerMessage:SpinnerStore.getMessage()})},_onDataChange:function(){this.setState({saving:DataStore.isSaving()})},getInitialState:function(){return getSetupProgress()},handleReset:function(e){e.preventDefault(),SetupProgressActions.resetData()},handleShowSpinner:function(e){e.preventDefault(),SpinnerActions.show("Testing spinner")},handleHideSpinner:function(e){e.preventDefault(),SpinnerActions.hide()},render:function(){return React.createElement("div",{className:"getting-started"},this._renderDebug(),React.createElement("div",{className:"getting-started__wrapper"},this._renderSpinner(),React.createElement("div",{className:"getting-started__sections"},React.createElement(Flash,null),this._renderSection()),React.createElement(WelcomeMenu,{clickable:!this.state.newUser,currentStep:this.state.currentStep,allSteps:this.state.allSteps,progressPercent:this.state.progressPercent}),React.createElement("div",{className:"clear"})))},_renderSection:function(){return this.state.newUser?React.createElement(GetStarted,null):this._renderCurrentView()},_renderDebug:function(){return JPS.debug?React.createElement("div",null,React.createElement("a",{href:"#",className:"button",onClick:this.handleReset},"Reset Wizard"),React.createElement("a",{href:"#",className:"button",onClick:this.handleShowSpinner},"Show spinner"),React.createElement("a",{href:"#",className:"button",onClick:this.handleHideSpinner},"Hide spinner")):null},_renderSpinner:function(){return this.state.showSpinner?React.createElement("div",{className:"loading"},React.createElement("div",{className:"loading__message"},React.createElement("img",{src:"/wp-admin/images/spinner-2x.gif",width:"16px",height:"16px"}),"  ",this.state.spinnerMessage)):null},_renderCurrentView:function(){return this.state.currentStep?React.createElement(this.state.currentStep.welcomeView,null):React.createElement("h3",null,"Nothing")}});module.exports=WelcomeWidget;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../actions/spinner-actions":5,"../stores/data-store":24,"../stores/setup-progress-store":26,"../stores/spinner-store":28,"./flash":9,"./get-started":10,"./welcome-menu":17}],20:[function(require,module,exports){
var keyMirror=require("keymirror");module.exports=keyMirror({STEP_COMPLETE:null,STEP_GET_STARTED:null,STEP_SELECT:null,STEP_NEXT:null,STEP_SKIP:null,SITE_SET_TITLE:null,SITE_SET_DESCRIPTION:null,SITE_SAVE_TITLE_AND_DESCRIPTION:null,SITE_SET_THEME:null,SITE_INSTALL_THEME:null,SITE_JETPACK_CONFIGURED:null,SITE_JETPACK_MODULE_ENABLED:null,SITE_JETPACK_MODULE_DISABLED:null,SITE_JETPACK_JUMPSTART_ENABLED:null,SITE_JETPACK_ADD_MODULES:null,SITE_SET_LAYOUT:null,SAVE_STARTED:null,SAVE_FINISHED:null,SET_FLASH:null,UNSET_FLASH:null,FLASH_SEVERITY_NOTICE:null,FLASH_SEVERITY_ERROR:null,RESET_DATA:null,SHOW_SPINNER:null,HIDE_SPINNER:null});


},{"keymirror":35}],21:[function(require,module,exports){
module.exports={SITE_TITLE_STEP_SLUG:"title",LAYOUT_STEP_SLUG:"layout",TRAFFIC_STEP_SLUG:"traffic",STATS_MONITORING_STEP_SLUG:"stats-monitoring",DESIGN_STEP_SLUG:"design",ADVANCED_STEP_SLUG:"advanced",JETPACK_MODULES_STEP_SLUG:"jetpack"};


},{}],22:[function(require,module,exports){
var Dispatcher=require("flux").Dispatcher;module.exports=new Dispatcher;


},{"flux":31}],23:[function(require,module,exports){
var WelcomePanel=require("./welcome-panel");WelcomePanel();


},{"./welcome-panel":30}],24:[function(require,module,exports){
function incrementSaveCounter(){_currentSaves+=1}function decrementSaveCounter(){_currentSaves-=1}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),_currentSaves=0,jpsTimeout,CHANGE_EVENT="change";jQuery(window).on("beforeunload",function(){return DataStore.isSaving()?(jpsTimeout=setTimeout(function(){},1e3),"Your site changes are still saving."):void 0}),jQuery(window).on("unload",function(){clearTimeout(jpsTimeout)});var DataStore=_.extend({},EventEmitter.prototype,{isSaving:function(){return _currentSaves>0},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)},emitChange:function(){this.emit(CHANGE_EVENT)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SAVE_STARTED:incrementSaveCounter(),DataStore.emitChange();break;case JPSConstants.SAVE_FINISHED:decrementSaveCounter(),DataStore.emitChange()}}),module.exports=DataStore;


},{"../constants/jetpack-start-constants":20,"../dispatcher/app-dispatcher":22,"events":34}],25:[function(require,module,exports){
function setFlash(e,t){message=e,severity=t}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),CHANGE_EVENT="change",message,severity,FlashStore=_.extend({},EventEmitter.prototype,{getFlash:function(){var e;switch(severity){case JPSConstants.FLASH_SEVERITY_ERROR:e="error";break;case JPSConstants.FLASH_SEVERITY_NOTICE:e="notice"}return{message:message,severity:e}},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)},emitChange:function(){this.emit(CHANGE_EVENT)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SET_FLASH:setFlash(e.message,e.severity),FlashStore.emitChange();break;case JPSConstants.UNSET_FLASH:setFlash(null,null),FlashStore.emitChange()}}),module.exports=FlashStore;


},{"../constants/jetpack-start-constants":20,"../dispatcher/app-dispatcher":22,"events":34}],26:[function(require,module,exports){
function setSteps(e){e.forEach(function(e){"undefined"==typeof e.completed&&(e.completed=JPS.step_status[e.slug]&&JPS.step_status[e.slug].completed||!1),"undefined"==typeof e.skipped&&(e.skipped=JPS.step_status[e.slug]&&JPS.step_status[e.slug].skipped||!1),"undefined"==typeof e["static"]&&(e["static"]=!1),"undefined"==typeof e.includeInProgress&&(e.includeInProgress=!0)}),_steps=e,ensureValidStepSlug()}function getStarted(){_started=!0,selectNextPendingStep()}function complete(e){var t=getStepFromSlug(e);t.completed=!0,t.skipped=!1}function skip(){var e=currentStepSlug(),t=getStepFromSlug(e);t.skipped=!0,selectNextPendingStep()}function getStepFromSlug(e){var t=null;return _.each(_steps,function(s){s.slug===e&&(t=s)}),t}function ensureValidStepSlug(){var e=currentStepSlug();e&&getStepFromSlug(e)||selectNextPendingStep()}function selectNextPendingStep(){var e=_.findWhere(_steps,{completed:!1,skipped:!1});null!==e&&select(e.slug)}function currentStepSlug(){if(0===window.location.hash.indexOf("#welcome/steps")){var e=window.location.hash.split("/"),t=e[e.length-1];return t}return null}function select(e){window.location.hash="welcome/steps/"+e}function reset(){JPS.step_status={},_.where(_steps,{"static":!1}).forEach(function(e){e.completed=!1,e.skipped=!1}),_started=!1}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),CHANGE_EVENT="change",_steps,_started=JPS.started,SetupProgressStore=_.extend({},EventEmitter.prototype,{init:function(e){setSteps(e)},getAllSteps:function(){return _steps},isNewUser:function(){return!_started},emitChange:function(){this.emit(CHANGE_EVENT)},getCurrentStep:function(){return getStepFromSlug(currentStepSlug())},getStepFromSlug:function(e){return getStepFromSlug(e)},getProgressPercent:function(){var e=_.where(_steps,{includeInProgress:!0}).length,t=_.where(_steps,{includeInProgress:!0,completed:!0}).length,s=t/e*90+10,n=10*Math.round(s/10);return n},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.STEP_GET_STARTED:getStarted(),SetupProgressStore.emitChange();break;case JPSConstants.STEP_SELECT:select(e.slug),SetupProgressStore.emitChange();break;case JPSConstants.STEP_NEXT:selectNextPendingStep(),SetupProgressStore.emitChange();break;case JPSConstants.STEP_COMPLETE:complete(e.slug),SetupProgressStore.emitChange();break;case JPSConstants.STEP_COMPLETE_AND_NEXT:complete(e.slug),selectNextPendingStep(),SetupProgressStore.emitChange();break;case JPSConstants.RESET_DATA:reset(),SetupProgressStore.emitChange();break;case JPSConstants.STEP_SKIP:skip(),SetupProgressStore.emitChange()}}),module.exports=SetupProgressStore;


},{"../constants/jetpack-start-constants":20,"../dispatcher/app-dispatcher":22,"events":34}],27:[function(require,module,exports){
function setTitle(e){JPS.bloginfo.name=e}function setDescription(e){JPS.bloginfo.description=e}function setActiveTheme(e){JPS.themes.forEach(function(t){t.id==e?t.active=!0:t.active=!1})}function installedTheme(e){JPS.themes.unshift(e),JPS.themes=JPS.themes.slice(0,3)}function setJetpackModuleActivated(e){-1===_.indexOf(JPS.jetpack.active_modules,e)&&JPS.jetpack.active_modules.push(e)}function setJetpackModuleDectivated(e){var t=_.indexOf(JPS.jetpack.active_modules,e);t>=0&&JPS.jetpack.active_modules.splice(t,1)}function setJetpackAdditionalModules(e){JPS.jetpack.additional_modules=_.filter(e,function(e){return-1==_.indexOf(JPS.jetpack.jumpstart_modules.map(function(e){return e.slug}),e.slug)})}function setLayout(e){layout=e}function setJetpackConfigured(){JPS.jetpack.configured=!0}function setJetpackJumpstartActivated(){JPS.jetpack.jumpstart_modules.forEach(function(e){setJetpackModuleActivated(e.slug)})}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),WPAjax=require("../utils/wp-ajax"),CHANGE_EVENT="change",layout=JPS.steps.layout.current,SiteStore=_.extend({},EventEmitter.prototype,{getTitle:function(){return JPS.bloginfo.name},getDescription:function(){return JPS.bloginfo.description},getThemes:function(){return JPS.themes},getActiveThemeId:function(){for(var e=0;e<JPS.themes.length;e++){var t=JPS.themes[e];if(t.active)return t.id}return null},getJetpackConfigured:function(){return JPS.jetpack.configured},getActiveModuleSlugs:function(){return JPS.jetpack.active_modules},isJetpackModuleEnabled:function(e){return _.indexOf(JPS.jetpack.active_modules,e)>=0},getJetpackAdditionalModules:function(){return JPS.jetpack.additional_modules},getJumpstartModuleSlugs:function(){return JPS.jetpack.jumpstart_modules.map(function(e){return e.slug})},getJumpstartModules:function(){return JPS.jetpack.jumpstart_modules},getPopularThemes:function(){return WPAjax.post(JPS.site_actions.get_popular_themes)},getJetpackJumpstartEnabled:function(){for(var e=0;e<JPS.jetpack.jumpstart_modules.length;e++){var t=JPS.jetpack.jumpstart_modules[e];if(!this.isJetpackModuleEnabled(t.slug))return!1}return!0},getLayout:function(){return layout},emitChange:function(){this.emit(CHANGE_EVENT)},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SITE_SET_TITLE:setTitle(e.title),SiteStore.emitChange();break;case JPSConstants.SITE_SET_DESCRIPTION:setDescription(e.description),SiteStore.emitChange();break;case JPSConstants.SITE_SET_THEME:setActiveTheme(e.themeId),SiteStore.emitChange();break;case JPSConstants.SITE_INSTALL_THEME:installedTheme(e.theme),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_CONFIGURED:setJetpackConfigured(),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_ADD_MODULES:setJetpackAdditionalModules(e.modules),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_MODULE_ENABLED:setJetpackModuleActivated(e.slug),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_MODULE_DISABLED:setJetpackModuleDectivated(e.slug),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_JUMPSTART_ENABLED:setJetpackJumpstartActivated(),SiteStore.emitChange();break;case JPSConstants.SITE_SET_LAYOUT:setLayout(e.layout),SiteStore.emitChange()}}),module.exports=SiteStore;


},{"../constants/jetpack-start-constants":20,"../dispatcher/app-dispatcher":22,"../utils/wp-ajax":29,"events":34}],28:[function(require,module,exports){
function show(e){spinnerEnabled=!0,spinnerMessage=e}function hide(){spinnerEnabled=!1,spinnerMessage=null}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),CHANGE_EVENT="change",spinnerEnabled=!1,spinnerMessage=null,SpinnerStore=_.extend({},EventEmitter.prototype,{showing:function(){return spinnerEnabled},getMessage:function(){return spinnerMessage},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)},emitChange:function(){this.emit(CHANGE_EVENT)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SHOW_SPINNER:show(e.message),SpinnerStore.emitChange();break;case JPSConstants.HIDE_SPINNER:hide(),SpinnerStore.emitChange()}}),module.exports=SpinnerStore;


},{"../constants/jetpack-start-constants":20,"../dispatcher/app-dispatcher":22,"events":34}],29:[function(require,module,exports){
var DataActions=require("../actions/data-actions"),WPAjax=function(){return{post:function(e,t){t="undefined"!=typeof t?t:{};var n=_.extend(t,{action:e,nonce:JPS.nonce}),a=jQuery.Deferred();return DataActions.requestStarted(),jQuery.post(ajaxurl,n).success(function(e){e.success?a.resolve(e.data):a.reject(e.data)}).fail(function(){a.reject("Server error")}).always(function(){DataActions.requestFinished()}),a}}}();module.exports=WPAjax;


},{"../actions/data-actions":1}],30:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,WelcomeWidget=require("./components/welcome-widget"),Paths=require("./constants/jetpack-start-paths"),SetupProgressStore=require("./stores/setup-progress-store");module.exports=function(){jQuery(document).ready(function(){SetupProgressStore.init([{name:"Site title",slug:Paths.SITE_TITLE_STEP_SLUG,welcomeView:require("./components/site-title-step")},{name:"Pick a layout",slug:Paths.LAYOUT_STEP_SLUG,welcomeView:require("./components/layout-step")},{name:"Pick a design",slug:Paths.DESIGN_STEP_SLUG,welcomeView:require("./components/design-step")},{name:"Enable modules",slug:Paths.JETPACK_MODULES_STEP_SLUG,welcomeView:require("./components/jetpack-jumpstart-step"),menuView:require("./components/jetpack-jumpstart-menu")},{name:"Advanced settings",slug:Paths.ADVANCED_STEP_SLUG,welcomeView:require("./components/advanced-settings-step"),includeInProgress:!1}]),React.render(React.createElement(WelcomeWidget,{}),document.getElementById("jps-welcome-panel"))})};


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./components/advanced-settings-step":6,"./components/design-step":8,"./components/jetpack-jumpstart-menu":11,"./components/jetpack-jumpstart-step":12,"./components/layout-step":13,"./components/site-title-step":14,"./components/welcome-widget":19,"./constants/jetpack-start-paths":21,"./stores/setup-progress-store":26}],31:[function(require,module,exports){
module.exports.Dispatcher=require("./lib/Dispatcher");


},{"./lib/Dispatcher":32}],32:[function(require,module,exports){
"use strict";function Dispatcher(){this.$Dispatcher_callbacks={},this.$Dispatcher_isPending={},this.$Dispatcher_isHandled={},this.$Dispatcher_isDispatching=!1,this.$Dispatcher_pendingPayload=null}var invariant=require("./invariant"),_lastID=1,_prefix="ID_";Dispatcher.prototype.register=function(i){var t=_prefix+_lastID++;return this.$Dispatcher_callbacks[t]=i,t},Dispatcher.prototype.unregister=function(i){invariant(this.$Dispatcher_callbacks[i],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",i),delete this.$Dispatcher_callbacks[i]},Dispatcher.prototype.waitFor=function(i){invariant(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<i.length;t++){var a=i[t];this.$Dispatcher_isPending[a]?invariant(this.$Dispatcher_isHandled[a],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",a):(invariant(this.$Dispatcher_callbacks[a],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",a),this.$Dispatcher_invokeCallback(a))}},Dispatcher.prototype.dispatch=function(i){invariant(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this.$Dispatcher_startDispatching(i);try{for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]||this.$Dispatcher_invokeCallback(t)}finally{this.$Dispatcher_stopDispatching()}},Dispatcher.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching},Dispatcher.prototype.$Dispatcher_invokeCallback=function(i){this.$Dispatcher_isPending[i]=!0,this.$Dispatcher_callbacks[i](this.$Dispatcher_pendingPayload),this.$Dispatcher_isHandled[i]=!0},Dispatcher.prototype.$Dispatcher_startDispatching=function(i){for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]=!1,this.$Dispatcher_isHandled[t]=!1;this.$Dispatcher_pendingPayload=i,this.$Dispatcher_isDispatching=!0},Dispatcher.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null,this.$Dispatcher_isDispatching=!1},module.exports=Dispatcher;


},{"./invariant":33}],33:[function(require,module,exports){
"use strict";var invariant=function(r,e,n,i,o,a,t,f){if(!r){var s;if(void 0===e)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,i,o,a,t,f],l=0;s=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return d[l++]}))}throw s.framesToPop=1,s}};module.exports=invariant;


},{}],34:[function(require,module,exports){
function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,n,s,i,r,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],isUndefined(n))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];n.apply(this,i)}else if(isObject(n)){for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];for(o=n.slice(),s=o.length,r=0;s>r;r++)o[r].apply(this,i)}return!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned){var n;n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function n(){this.removeListener(e,n),s||(s=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var s=!1;return n.listener=t,this.on(e,n),this},EventEmitter.prototype.removeListener=function(e,t){var n,s,i,r;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,s=-1,n===t||isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(n)){for(r=i;r-->0;)if(n[r]===t||n[r].listener&&n[r].listener===t){s=r;break}if(0>s)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],isFunction(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?isFunction(e._events[t])?1:e._events[t].length:0};


},{}],35:[function(require,module,exports){
"use strict";var keyMirror=function(r){var e,o={};if(!(r instanceof Object)||Array.isArray(r))throw new Error("keyMirror(...): Argument must be an object.");for(e in r)r.hasOwnProperty(e)&&(o[e]=e);return o};module.exports=keyMirror;


},{}]},{},[23])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9ncnVudC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2FjdGlvbnMvZGF0YS1hY3Rpb25zLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9hY3Rpb25zL2ZsYXNoLWFjdGlvbnMuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2FjdGlvbnMvc2V0dXAtcHJvZ3Jlc3MtYWN0aW9ucy5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvYWN0aW9ucy9zaXRlLWFjdGlvbnMuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2FjdGlvbnMvc3Bpbm5lci1hY3Rpb25zLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb21wb25lbnRzL2FkdmFuY2VkLXNldHRpbmdzLXN0ZXAuanN4IiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb21wb25lbnRzL2NvbnRlbnQtYm94LmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29tcG9uZW50cy9kZXNpZ24tc3RlcC5qc3giLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvZmxhc2guanN4IiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb21wb25lbnRzL2dldC1zdGFydGVkLmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29tcG9uZW50cy9qZXRwYWNrLWp1bXBzdGFydC1tZW51LmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29tcG9uZW50cy9qZXRwYWNrLWp1bXBzdGFydC1zdGVwLmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29tcG9uZW50cy9sYXlvdXQtc3RlcC5qc3giLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvc2l0ZS10aXRsZS1zdGVwLmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29tcG9uZW50cy9za2lwLWJ1dHRvbi5qc3giLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvdG9vbHRpcC5qc3giLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvd2VsY29tZS1tZW51LmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29tcG9uZW50cy93ZWxjb21lLXByb2dyZXNzLWJhci5qc3giLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvd2VsY29tZS13aWRnZXQuanN4IiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb25zdGFudHMvamV0cGFjay1zdGFydC1jb25zdGFudHMuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LXBhdGhzLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9kaXNwYXRjaGVyL2FwcC1kaXNwYXRjaGVyLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9qZXRwYWNrLXN0YXJ0LmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9zdG9yZXMvZGF0YS1zdG9yZS5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvc3RvcmVzL2ZsYXNoLXN0b3JlLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9zdG9yZXMvc2V0dXAtcHJvZ3Jlc3Mtc3RvcmUuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L3N0b3Jlcy9zaXRlLXN0b3JlLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9zdG9yZXMvc3Bpbm5lci1zdG9yZS5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvdXRpbHMvd3AtYWpheC5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvd2VsY29tZS1wYW5lbC5qc3giLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL2ZsdXgvaW5kZXguanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL2ZsdXgvbGliL0Rpc3BhdGNoZXIuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL2ZsdXgvbGliL2ludmFyaWFudC5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvZ3J1bnQtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMva2V5bWlycm9yL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FD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TSxZQUFlLFVBQVcsTUFBTSxRQUFRLEdBQzVDLEtBQU0sSUFBSSxPQUFNLDhDQUVsQixLQUFLLElBQU8sR0FDTCxFQUFJLGVBQWUsS0FHeEIsRUFBSSxHQUFPLEVBRWIsT0FBTyxHQUdULFFBQU8sUUFBVSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJ2YXIgQXBwRGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4uL2Rpc3BhdGNoZXIvYXBwLWRpc3BhdGNoZXInKSxcblx0SlBTQ29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtY29uc3RhbnRzJyk7XG5cbnZhciBEYXRhQWN0aW9ucyA9IHtcblx0cmVxdWVzdFN0YXJ0ZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNBVkVfU1RBUlRFRFxuXHRcdH0pO1xuXHR9LFxuXG5cdHJlcXVlc3RGaW5pc2hlZDogZnVuY3Rpb24oKSB7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0FWRV9GSU5JU0hFRFxuXHRcdH0pO1xuXHR9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IERhdGFBY3Rpb25zOyIsInZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuXHRKUFNDb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1jb25zdGFudHMnKTtcblxudmFyIEZsYXNoQWN0aW9ucyA9IHtcblx0bm90aWNlOiBmdW5jdGlvbihtc2cpIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TRVRfRkxBU0gsXG5cdFx0XHRtZXNzYWdlOiBtc2csXG5cdFx0XHRzZXZlcml0eTogSlBTQ29uc3RhbnRzLkZMQVNIX1NFVkVSSVRZX05PVElDRVxuXHRcdH0pO1xuXHR9LFxuXG5cdGVycm9yOiBmdW5jdGlvbihtc2cpIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TRVRfRkxBU0gsXG5cdFx0XHRtZXNzYWdlOiBtc2csXG5cdFx0XHRzZXZlcml0eTogSlBTQ29uc3RhbnRzLkZMQVNIX1NFVkVSSVRZX0VSUk9SXG5cdFx0fSk7XG5cdH0sXG5cblx0dW5zZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlVOU0VUX0ZMQVNIXG5cdFx0fSk7XG5cdH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRmxhc2hBY3Rpb25zOyIsInZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuXHRKUFNDb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1jb25zdGFudHMnKSxcblx0UGF0aHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1wYXRocycpLFxuXHRGbGFzaEFjdGlvbnMgPSByZXF1aXJlKCcuL2ZsYXNoLWFjdGlvbnMnKSxcblx0U2l0ZUFjdGlvbnMgPSByZXF1aXJlKCcuL3NpdGUtYWN0aW9ucycpLFxuXHRXUEFqYXggPSByZXF1aXJlKCcuLi91dGlscy93cC1hamF4JyksXG5cdFNldHVwUHJvZ3Jlc3NTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zZXR1cC1wcm9ncmVzcy1zdG9yZScpLFxuXHRTaXRlU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2l0ZS1zdG9yZScpO1xuXG52YXIgU2V0dXBQcm9ncmVzc0FjdGlvbnMgPSB7XG5cdHJlc2V0RGF0YTogZnVuY3Rpb24oKSB7XG5cdFx0V1BBamF4LlxuXHRcdFx0cG9zdChKUFMuc2l0ZV9hY3Rpb25zLnJlc2V0X2RhdGEpLlxuXHRcdFx0ZmFpbCggZnVuY3Rpb24gKCBtc2cgKSB7XG5cdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihcIkZhaWxlZCB0byBzYXZlIGRhdGE6IFwiICsgbXNnKTtcblx0XHRcdH0pO1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHQgICAgICBcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5SRVNFVF9EQVRBXG5cdCAgICB9KTtcblx0fSxcblxuXHRjb21wbGV0ZVN0ZXA6IGZ1bmN0aW9uKHNsdWcsIG1ldGEpIHtcblx0XHR2YXIgc3RlcCA9IFNldHVwUHJvZ3Jlc3NTdG9yZS5nZXRTdGVwRnJvbVNsdWcoc2x1Zyk7XG5cblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TVEVQX0NPTVBMRVRFLFxuXHRcdFx0c2x1Zzogc2x1Z1xuXHQgICAgfSk7XG5cblx0XHQvLyBOT1RFOiB0aGlzIG5lZWRzIHRvIGNvbWUgYWZ0ZXIgdGhlIGRpc3BhdGNoLCBzbyB0aGF0IHRoZSBjb21wbGV0aW9uICUgXG5cdFx0Ly8gaXMgYWxyZWFkeSB1cGRhdGVkIGFuZCBjYW4gYmUgaW5jbHVkZWQgaW4gdGhlIG1ldGFkYXRhXG5cdFx0dGhpcy5fcmVjb3JkQ29tcGxldGUoc3RlcCwgbWV0YSk7XG5cdH0sXG5cblx0Y29tcGxldGVBbmROZXh0U3RlcDogZnVuY3Rpb24oc2x1ZywgbWV0YSkge1xuXHRcdHRoaXMuY29tcGxldGVTdGVwKHNsdWcsIG1ldGEpO1xuXG5cdCAgICBBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0ICAgICAgYWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNURVBfTkVYVCxcblx0ICAgICAgc2x1Zzogc2x1Z1xuXHQgICAgfSk7XG5cdH0sXG5cblx0X3JlY29yZENvbXBsZXRlOiBmdW5jdGlvbihzdGVwLCBtZXRhKSB7XG5cdFx0aWYgKHR5cGVvZihtZXRhKSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdG1ldGEgPSB7fTtcblx0XHR9XG5cblx0XHRtZXRhLmNvbXBsZXRpb24gPSBTZXR1cFByb2dyZXNzU3RvcmUuZ2V0UHJvZ3Jlc3NQZXJjZW50KCk7XG5cblx0XHRXUEFqYXguXG5cdFx0ICBcdHBvc3QoSlBTLnN0ZXBfYWN0aW9ucy5jb21wbGV0ZSwgeyBzdGVwOiBzdGVwLnNsdWcsIGRhdGE6IG1ldGEgfSkuXG5cdFx0XHRmYWlsKCBmdW5jdGlvbihtc2cpIHtcblx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKG1zZyk7XG5cdFx0XHR9KTtcblx0fSxcblxuXHQvLyBtYXJrIGN1cnJlbnQgc3RlcCBhcyBza2lwcGVkIGFuZCBtb3ZlIG9uXG5cdHNraXBTdGVwOiBmdW5jdGlvbigpIHtcblx0XHRGbGFzaEFjdGlvbnMudW5zZXQoKTtcblx0XHRcblx0XHR2YXIgc3RlcCA9IFNldHVwUHJvZ3Jlc3NTdG9yZS5nZXRDdXJyZW50U3RlcCgpO1xuXG5cdFx0aWYgKCAhIHN0ZXAuc2tpcHBlZCApIHtcblx0XHQgICAgV1BBamF4LlxuXHRcdFx0XHRwb3N0KEpQUy5zdGVwX2FjdGlvbnMuc2tpcCwgeyBzdGVwOiBzdGVwLnNsdWcgfSkuXG5cdFx0XHRcdGZhaWwoIGZ1bmN0aW9uKG1zZykge1xuXHRcdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihtc2cpO1xuXHRcdFx0XHR9KTtcblx0XHR9XG5cblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TVEVQX1NLSVBcblx0ICAgIH0pO1xuXHR9LFxuXG5cdGdldFN0YXJ0ZWQ6IGZ1bmN0aW9uKCkge1xuXHQgICAgV1BBamF4LlxuXHRcdFx0cG9zdChKUFMuc3RlcF9hY3Rpb25zLnN0YXJ0KS5cblx0XHRcdGZhaWwoIGZ1bmN0aW9uKG1zZykge1xuXHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IobXNnKTtcblx0XHRcdH0pO1xuXG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdCAgICAgIGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TVEVQX0dFVF9TVEFSVEVEXG5cdCAgICB9KTtcblx0fSxcblxuXHRzZXRDdXJyZW50U3RlcDogZnVuY3Rpb24oc2x1Zykge1xuXHRcdEZsYXNoQWN0aW9ucy51bnNldCgpO1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHQgICAgICBhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU1RFUF9TRUxFQ1QsXG5cdCAgICAgIHNsdWc6IHNsdWdcblx0ICAgIH0pO1xuXHR9LFxuXG5cdC8vIG1vdmVzIG9uIHRvIHRoZSBuZXh0IHN0ZXAsIGJ1dCBkb2Vzbid0IG1hcmsgaXQgYXMgXCJza2lwcGVkXCJcblx0c2VsZWN0TmV4dFN0ZXA6IGZ1bmN0aW9uKCkge1xuXHRcdEZsYXNoQWN0aW9ucy51bnNldCgpO1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNURVBfTkVYVFxuXHQgICAgfSk7XG5cdH0sXG5cblx0c3VibWl0VGl0bGVTdGVwOiBmdW5jdGlvbigpIHtcblx0XHRTaXRlQWN0aW9ucy5zYXZlVGl0bGVBbmREZXNjcmlwdGlvbigpLmRvbmUoZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmNvbXBsZXRlQW5kTmV4dFN0ZXAoUGF0aHMuU0lURV9USVRMRV9TVEVQX1NMVUcpO1xuXHRcdH0uYmluZCh0aGlzKSk7XG5cdH0sXG5cblx0c3VibWl0TGF5b3V0U3RlcDogZnVuY3Rpb24obGF5b3V0KSB7XG5cdFx0U2l0ZUFjdGlvbnMuc2V0TGF5b3V0KGxheW91dCkuZG9uZShmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuY29tcGxldGVBbmROZXh0U3RlcChQYXRocy5MQVlPVVRfU1RFUF9TTFVHKTtcblx0XHR9LmJpbmQodGhpcykpO1xuXHR9LFxuXG5cdHN1Ym1pdEpldHBhY2tKdW1wc3RhcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVBY3Rpb25zLmVuYWJsZUp1bXBzdGFydCgpLmRvbmUoZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmNvbXBsZXRlU3RlcChQYXRocy5KRVRQQUNLX01PRFVMRVNfU1RFUF9TTFVHKTtcblx0XHR9LmJpbmQodGhpcykpO1xuXHR9LFxuXG5cdHNldEFjdGl2ZVRoZW1lOiBmdW5jdGlvbih0aGVtZSkge1xuXHRcdFNpdGVBY3Rpb25zLnNldEFjdGl2ZVRoZW1lKHRoZW1lKS5kb25lKCBmdW5jdGlvbiAoKSB7XG5cdFx0XHR0aGlzLmNvbXBsZXRlU3RlcChQYXRocy5ERVNJR05fU1RFUF9TTFVHLCB7dGhlbWVJZDogdGhlbWUuaWR9KTtcblx0XHR9LmJpbmQodGhpcykpO1xuXHR9LFxuXG5cdHNhdmVEZXNpZ25TdGVwOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmNvbXBsZXRlQW5kTmV4dFN0ZXAoUGF0aHMuREVTSUdOX1NURVBfU0xVRywge3RoZW1lSWQ6IFNpdGVTdG9yZS5nZXRBY3RpdmVUaGVtZUlkKCl9KTtcblx0fVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTZXR1cFByb2dyZXNzQWN0aW9uczsiLCJ2YXIgQXBwRGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4uL2Rpc3BhdGNoZXIvYXBwLWRpc3BhdGNoZXInKSxcblx0SlBTQ29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtY29uc3RhbnRzJyksXG5cdFNpdGVTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zaXRlLXN0b3JlJyksXG5cdEZsYXNoQWN0aW9ucyA9IHJlcXVpcmUoJy4vZmxhc2gtYWN0aW9ucy5qcycpLFxuXHRTcGlubmVyQWN0aW9ucyA9IHJlcXVpcmUoJy4vc3Bpbm5lci1hY3Rpb25zLmpzJyksXG5cdFdQQWpheCA9IHJlcXVpcmUoJy4uL3V0aWxzL3dwLWFqYXgnKTtcblxudmFyIFNpdGVBY3Rpb25zID0ge1xuXHRzZXRUaXRsZTogZnVuY3Rpb24odGl0bGUpIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSVRFX1NFVF9USVRMRSxcblx0XHRcdHRpdGxlOiB0aXRsZVxuXHQgICAgfSk7XG5cdH0sXG5cblx0c2V0RGVzY3JpcHRpb246IGZ1bmN0aW9uKGRlc2NyaXB0aW9uKSB7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9TRVRfREVTQ1JJUFRJT04sXG5cdFx0XHRkZXNjcmlwdGlvbjogZGVzY3JpcHRpb25cblx0ICAgIH0pO1xuXHR9LFxuXG5cdHNhdmVUaXRsZUFuZERlc2NyaXB0aW9uOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGl0bGUgPSBTaXRlU3RvcmUuZ2V0VGl0bGUoKTtcblx0XHR2YXIgZGVzY3JpcHRpb24gPSBTaXRlU3RvcmUuZ2V0RGVzY3JpcHRpb24oKTtcblx0XHRcblx0XHRXUEFqYXguXG5cdFx0XHRwb3N0KCBKUFMuc2l0ZV9hY3Rpb25zLnNldF90aXRsZSwgeyB0aXRsZTogdGl0bGUsIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiB9ICkuXG5cdFx0XHRmYWlsKCBmdW5jdGlvbiAoIG1zZyApIHtcblx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKFwiRXJyb3Igc2V0dGluZyB0aXRsZTogXCIrbXNnKTtcblx0XHRcdH0pO1xuXG5cdFx0alF1ZXJ5KCcjd3AtYWRtaW4tYmFyLXNpdGUtbmFtZSAuYWItaXRlbScpLmh0bWwodGl0bGUpO1xuXHRcdC8vIEZsYXNoQWN0aW9ucy5ub3RpY2UoIFwiU2V0IHRpdGxlIHRvICdcIit0aXRsZStcIicgYW5kIGRlc2NyaXB0aW9uIHRvICdcIitkZXNjcmlwdGlvbitcIidcIiApO1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNJVEVfU0FWRV9USVRMRV9BTkRfREVTQ1JJUFRJT04sXG5cdFx0XHR0aXRsZTogdGl0bGVcblx0ICAgIH0pO1xuXG5cdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZCgpLnJlc29sdmUoKTsgLy8gWFhYIEhBQ0tcblx0fSxcblxuXHRfaW5zdGFsbFRoZW1lOiBmdW5jdGlvbiAoIHRoZW1lICkge1xuXHRcdGlmICggISB0aGVtZS5pbnN0YWxsZWQgKSB7XG5cdFx0XHRTcGlubmVyQWN0aW9ucy5zaG93KFwiSW5zdGFsbGluZyAnXCIrdGhlbWUubmFtZStcIidcIik7XG5cdFx0XHRyZXR1cm4gV1BBamF4LlxuXHRcdFx0XHRwb3N0KCBKUFMuc2l0ZV9hY3Rpb25zLmluc3RhbGxfdGhlbWUsIHsgdGhlbWVJZDogdGhlbWUuaWQgfSApLlxuXHRcdFx0XHRkb25lKCBmdW5jdGlvbiAoICkge1xuXHRcdFx0XHRcdHRoZW1lLmluc3RhbGxlZCA9IHRydWU7XG5cdFx0XHRcdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRcdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9JTlNUQUxMX1RIRU1FLFxuXHRcdFx0XHRcdFx0dGhlbWU6IHRoZW1lXG5cdFx0XHRcdCAgICB9KTtcblx0XHRcdFx0fSkuXG5cdFx0XHRcdGZhaWwoIGZ1bmN0aW9uICggbXNnICkge1xuXHRcdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihcIlNlcnZlciBlcnJvciBpbnN0YWxsaW5nIHRoZW1lOiBcIittc2cpO1xuXHRcdFx0XHR9KS5cblx0XHRcdFx0YWx3YXlzKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRTcGlubmVyQWN0aW9ucy5oaWRlKCk7XG5cdFx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCkucmVzb2x2ZSgpO1xuXHRcdH1cblx0fSxcblxuXHRfYWN0aXZhdGVUaGVtZTogZnVuY3Rpb24gKCB0aGVtZSApIHtcblx0XHRXUEFqYXguXG5cdFx0XHRwb3N0KCBKUFMuc2l0ZV9hY3Rpb25zLnNldF90aGVtZSwgeyB0aGVtZUlkOiB0aGVtZS5pZCB9ICkuXG5cdFx0XHRmYWlsKCBmdW5jdGlvbiAoIG1zZyApIHtcblx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKFwiU2VydmVyIGVycm9yIHNldHRpbmcgdGhlbWU6IFwiK21zZyk7XG5cdFx0XHR9KTtcblxuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNJVEVfU0VUX1RIRU1FLFxuXHRcdFx0dGhlbWVJZDogdGhlbWUuaWRcblx0ICAgIH0pO1xuXHR9LFxuXG5cdHNldEFjdGl2ZVRoZW1lOiBmdW5jdGlvbiggdGhlbWUgKSB7XG5cblx0XHR0aGlzLl9pbnN0YWxsVGhlbWUodGhlbWUpLlxuXHRcdFx0ZG9uZSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMuX2FjdGl2YXRlVGhlbWUodGhlbWUpO1xuXHRcdFx0fS5iaW5kKHRoaXMpKTtcblxuXHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoKS5yZXNvbHZlKCk7IC8vIFhYWCBIQUNLXG5cdH0sXG5cblx0c2V0TGF5b3V0OiBmdW5jdGlvbiggbGF5b3V0TmFtZSApIHtcblx0XG5cdFx0V1BBamF4LlxuXHRcdFx0cG9zdCggSlBTLnNpdGVfYWN0aW9ucy5zZXRfbGF5b3V0LCB7IGxheW91dDogbGF5b3V0TmFtZSB9ICkuXG5cdFx0XHRmYWlsKCBmdW5jdGlvbiAobXNnICkge1xuXHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IoXCJFcnJvciBzZXR0aW5nIGxheW91dDogXCIrbXNnKTtcblx0XHRcdH0pO1xuXG5cdFx0Ly8gRmxhc2hBY3Rpb25zLm5vdGljZShcIlNldCBsYXlvdXQgdG8gXCIrbGF5b3V0TmFtZSk7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9TRVRfTEFZT1VULFxuXHRcdFx0bGF5b3V0OiBsYXlvdXROYW1lXG5cdCAgICB9KTtcblxuXHQgICAgcmV0dXJuIGpRdWVyeS5EZWZlcnJlZCgpLnJlc29sdmUoKTsgLy8gWFhYIEhBQ0tcblx0fSxcblxuXHRjb25maWd1cmVKZXRwYWNrOiBmdW5jdGlvbihyZXR1cm5fdG9fc3RlcCkge1xuXHRcdFNwaW5uZXJBY3Rpb25zLnNob3coXCJDb25uZWN0aW5nIHRvIFdvcmRQcmVzcy5jb21cIik7XG5cdFx0cmV0dXJuIFdQQWpheC5cblx0XHRcdHBvc3QoIEpQUy5zaXRlX2FjdGlvbnMuY29uZmlndXJlX2pldHBhY2ssIHsgcmV0dXJuX3RvX3N0ZXA6IHJldHVybl90b19zdGVwIH0gKS5cblx0XHRcdGRvbmUoIGZ1bmN0aW9uICggZGF0YSApIHtcblx0XHRcdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNJVEVfSkVUUEFDS19DT05GSUdVUkVEXG5cdFx0XHQgICAgfSk7XG5cblx0XHRcdFx0aWYgKCBkYXRhLm5leHQgKSB7XG5cdFx0XHRcdFx0d2luZG93LmxvY2F0aW9uLnJlcGxhY2UoZGF0YS5uZXh0KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRTcGlubmVyQWN0aW9ucy5oaWRlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pLlxuXHRcdFx0ZmFpbCggZnVuY3Rpb24gKCBtc2cgKSB7XG5cdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihcIkVycm9yIGVuYWJsaW5nIEpldHBhY2s6IFwiK21zZyk7XG5cdFx0XHRcdFNwaW5uZXJBY3Rpb25zLmhpZGUoKTtcblx0XHRcdH0pO1xuXHR9LFxuXG5cdGFjdGl2YXRlSmV0cGFja01vZHVsZTogZnVuY3Rpb24obW9kdWxlX3NsdWcpIHtcblxuXHRcdFdQQWpheC5cblx0XHRcdHBvc3QoIEpQUy5zaXRlX2FjdGlvbnMuYWN0aXZhdGVfamV0cGFja19tb2R1bGVzLCB7IG1vZHVsZXM6IFttb2R1bGVfc2x1Z10gfSkuXG5cdFx0XHRmYWlsKCBmdW5jdGlvbiAoIG1zZyApIHtcblx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKFwiRXJyb3IgYWN0aXZhdGluZyBKZXRwYWNrIG1vZHVsZTogXCIrbXNnKTtcblx0XHRcdH0pO1xuXG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9KRVRQQUNLX01PRFVMRV9FTkFCTEVELFxuXHRcdFx0c2x1ZzogbW9kdWxlX3NsdWdcblx0ICAgIH0pO1xuXG5cdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZCgpLnJlc29sdmUoKTsgLy8gWFhYIEhBQ0tcblx0fSxcblxuXHRkZWFjdGl2YXRlSmV0cGFja01vZHVsZTogZnVuY3Rpb24obW9kdWxlX3NsdWcpIHtcblxuXHRcdFdQQWpheC5cblx0XHRcdHBvc3QoIEpQUy5zaXRlX2FjdGlvbnMuZGVhY3RpdmF0ZV9qZXRwYWNrX21vZHVsZXMsIHsgbW9kdWxlczogW21vZHVsZV9zbHVnXSB9KS5cblx0XHRcdGZhaWwoIGZ1bmN0aW9uICggbXNnICkge1xuXHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IoXCJFcnJvciBkZWFjdGl2YXRpbmcgSmV0cGFjayBtb2R1bGU6IFwiK21zZyk7XG5cdFx0XHR9KTtcblxuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNJVEVfSkVUUEFDS19NT0RVTEVfRElTQUJMRUQsXG5cdFx0XHRzbHVnOiBtb2R1bGVfc2x1Z1xuXHQgICAgfSk7XG5cblx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCkucmVzb2x2ZSgpOyAvLyBYWFggSEFDS1xuXHR9LFxuXG5cdGxvYWRBbGxKZXRwYWNrTW9kdWxlczogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCBTaXRlU3RvcmUuZ2V0SmV0cGFja0FkZGl0aW9uYWxNb2R1bGVzKCkubGVuZ3RoID09PSAwICkge1xuXHRcdFx0cmV0dXJuIFdQQWpheC5cblx0XHRcdFx0cG9zdCggSlBTLnNpdGVfYWN0aW9ucy5saXN0X2pldHBhY2tfbW9kdWxlcyApLlxuXHRcdFx0XHRkb25lKCBmdW5jdGlvbiAoIGFsbF9tb2R1bGVzICkge1xuXHRcdFx0XHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0XHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNJVEVfSkVUUEFDS19BRERfTU9EVUxFUyxcblx0XHRcdFx0XHRcdG1vZHVsZXM6IGFsbF9tb2R1bGVzXG5cdFx0XHRcdCAgICB9KTtcblx0XHRcdFx0fSkuXG5cdFx0XHRcdGZhaWwoIGZ1bmN0aW9uICggbXNnICkge1xuXHRcdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihcIkVycm9yIGZldGNoaW5nIGFsbCBKZXRwYWNrIG1vZHVsZXM6IFwiK21zZyk7XG5cdFx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCkucmVzb2x2ZSgpOyAvLyBYWFggSEFDS1xuXHRcdH1cblx0fSxcblxuXHRlbmFibGVKdW1wc3RhcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFdQQWpheC5cblx0XHRcdHBvc3QoIEpQUy5zaXRlX2FjdGlvbnMuYWN0aXZhdGVfamV0cGFja19tb2R1bGVzLCB7IG1vZHVsZXM6IFNpdGVTdG9yZS5nZXRKdW1wc3RhcnRNb2R1bGVTbHVncygpIH0pLlxuXHRcdFx0ZmFpbCggZnVuY3Rpb24gKCBtc2cgKSB7XG5cdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihcIkVycm9yIGFjdGl2YXRpbmcgSmV0cGFjayBtb2R1bGVzOiBcIittc2cpO1xuXHRcdFx0fSk7XG5cblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSVRFX0pFVFBBQ0tfSlVNUFNUQVJUX0VOQUJMRURcblx0ICAgIH0pO1xuXG5cdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZCgpLnJlc29sdmUoKTsgLy8gWFhYIEhBQ0tcblx0fVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTaXRlQWN0aW9uczsiLCJ2YXIgQXBwRGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4uL2Rpc3BhdGNoZXIvYXBwLWRpc3BhdGNoZXInKSxcblx0SlBTQ29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtY29uc3RhbnRzJyk7XG5cbnZhciBTcGlubmVyQWN0aW9ucyA9IHtcblx0c2hvdzogZnVuY3Rpb24obXNnKSB7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0hPV19TUElOTkVSLFxuXHRcdFx0bWVzc2FnZTogbXNnXG5cdFx0fSk7XG5cdH0sXG5cblx0aGlkZTogZnVuY3Rpb24oKSB7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuSElERV9TUElOTkVSLFxuXHRcdH0pO1x0XG5cdH0sXG5cblx0c2hvd0FzeW5jOiBmdW5jdGlvbihtc2cpIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSE9XX0FTWU5DX1NQSU5ORVIsXG5cdFx0XHRtZXNzYWdlOiBtc2dcblx0XHR9KTtcdFx0XG5cdH0sXG5cblx0aGlkZUFzeW5jOiBmdW5jdGlvbigpIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5ISURFX0FTWU5DX1NQSU5ORVJcblx0XHR9KTtcdFx0XHRcblx0fVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTcGlubmVyQWN0aW9uczsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdy5SZWFjdCA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwuUmVhY3QgOiBudWxsKSxcblx0U2l0ZVN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NpdGUtc3RvcmUnKTtcblxudmFyIEFkdmFuY2VkU2V0dGluZ3NTdGVwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIkFkdmFuY2VkU2V0dGluZ3NTdGVwXCIsXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcIndlbGNvbWVfX3NlY3Rpb25cIiwgaWQ6IFwid2VsY29tZV9fYWR2YW5jZWRcIn0sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDRcIiwgbnVsbCwgXCJBZHZhbmNlZCBzZXR0aW5nc1wiKSwgXG5cblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInVsXCIsIHtjbGFzc05hbWU6IFwid2VsY29tZV9fYWR2YW5jZWRcIn0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoNVwiLCBudWxsLCBcIkZpbmUtdHVuZSB5b3VyIHNpdGUncyBsYXlvdXQgYW5kIGFwcGVhcmFuY2VcIiksIFxuXHRcdFx0XHRcdFx0XCJDdXN0b21pemUgeW91ciBzaXRl4oCZcyBjb2xvcnMsIGZvbnRzLCBzaWRlYmFycyBhbmQgb3RoZXIgc2V0dGluZ3MuXCIsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImJyXCIsIG51bGwpLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtjbGFzc05hbWU6IFwiYnV0dG9uIGJ1dHRvbi1wcmltYXJ5IGJ1dHRvbi1sYXJnZVwiLCBocmVmOiBKUFMuc3RlcHMuYWR2YW5jZWRfc2V0dGluZ3MuY3VzdG9taXplX3VybH0sIFwiQ3VzdG9taXplIG15IHNpdGVcIiksIFxuXHRcdFx0XHRcdFx0XCLCoFwiICsgJyAnICtcblx0XHRcdFx0XHRcdFwiwqBcIiwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7Y2xhc3NOYW1lOiBcImJ1dHRvbiBidXR0b24tcHJpbWFyeSBidXR0b24tbGFyZ2VcIiwgaHJlZjogSlBTLnN0ZXBzLmFkdmFuY2VkX3NldHRpbmdzLnRoZW1lc191cmx9LCBcIkJyb3dzZSBhbmQgYWRkIHRoZW1lc1wiKVxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0KSwgXG5cdFx0XHRcdFx0KFNpdGVTdG9yZS5nZXRMYXlvdXQoKSA9PSAnYmxvZycgfHwgU2l0ZVN0b3JlLmdldExheW91dCgpID09ICdzaXRlLWJsb2cnKSAmJiAoXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoNVwiLCBudWxsLCBcIkNyZWF0ZSB5b3VyIGZpcnN0IGJsb2cgcG9zdFwiKSwgXG5cdFx0XHRcdFx0XHRcdFwiQW4gZXBpYyBlc3NheSBvciBqdXN0IFxcXCJIZWxsbyBXb3JsZCFcXFwiXCIsIFxuXHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCksIFxuXHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7Y2xhc3NOYW1lOiBcImJ1dHRvbiBidXR0b24tcHJpbWFyeSBidXR0b24tbGFyZ2VcIiwgaHJlZjogSlBTLnN0ZXBzLmFkdmFuY2VkX3NldHRpbmdzLm5ld19ibG9nX3Bvc3RfdXJsfSwgXCJXcml0ZSBhIG5ldyBibG9nIHBvc3RcIiksIFxuXHRcdFx0XHRcdFx0XHRcIsKgwqBcIiwgXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtjbGFzc05hbWU6IFwiYnV0dG9uIGJ1dHRvbi1wcmltYXJ5IGJ1dHRvbi1sYXJnZVwiLCBocmVmOiBKUFMuc3RlcHMuYWR2YW5jZWRfc2V0dGluZ3MubWFuYWdlX3Bvc3RzX3VybH0sIFwiTWFuYWdlIHBvc3RzXCIpXG5cdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0KSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImg1XCIsIG51bGwsIFwiQ3JlYXRlIGEgc3RhdGljIHBhZ2VcIiksIFxuXHRcdFx0XHRcdFx0XCJcXFwiQWJvdXQgbWVcXFwiLCBcXFwiT3VyIFNlcnZpY2VzXFxcIiBvciBhbnl0aGluZyBlbHNlIHlvdSBjYW4gaW1hZ2luZS5cIiwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCksIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge2NsYXNzTmFtZTogXCJidXR0b24gYnV0dG9uLXByaW1hcnkgYnV0dG9uLWxhcmdlXCIsIGhyZWY6IEpQUy5zdGVwcy5hZHZhbmNlZF9zZXR0aW5ncy5uZXdfcGFnZV91cmx9LCBcIkNyZWF0ZSBhIG5ldyBwYWdlXCIpLCBcblx0XHRcdFx0XHRcdFwiwqDCoFwiLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtjbGFzc05hbWU6IFwiYnV0dG9uIGJ1dHRvbi1wcmltYXJ5IGJ1dHRvbi1sYXJnZVwiLCBocmVmOiBKUFMuc3RlcHMuYWR2YW5jZWRfc2V0dGluZ3MubWFuYWdlX3BhZ2VzX3VybH0sIFwiTWFuYWdlIHBhZ2VzXCIpXG5cdFx0XHRcdFx0KSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImg1XCIsIG51bGwsIFwiRXh0ZW5kIHlvdXIgc2l0ZSdzIGZ1bmN0aW9uYWxpdHlcIiksIFxuXHRcdFx0XHRcdFx0XCJXb3JkUHJlc3Mgb2ZmZXJzIHRob3VzYW5kcyBvZiBwbHVnaW5zIGZyb20gSmV0cGFjayBhbmQgdGhlIFdvcmRQcmVzcyBjb21tdW5pdHkuXCIsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImJyXCIsIG51bGwpLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtjbGFzc05hbWU6IFwiYnV0dG9uIGJ1dHRvbi1wcmltYXJ5IGJ1dHRvbi1sYXJnZVwiLCBocmVmOiBKUFMuc3RlcHMuYWR2YW5jZWRfc2V0dGluZ3MucGx1Z2luc191cmx9LCBcIk1hbmFnZSBwbHVnaW5zXCIpLCBcblx0XHRcdFx0XHRcdFwiwqBcIiArICcgJyArXG5cdFx0XHRcdFx0XHRcIsKgXCIsIFxuXHRcdFx0XHRcdFx0U2l0ZVN0b3JlLmdldEpldHBhY2tDb25maWd1cmVkKCkgJiYgKFxuXHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7Y2xhc3NOYW1lOiBcImJ1dHRvbiBidXR0b24tcHJpbWFyeSBidXR0b24tbGFyZ2VcIiwgaHJlZjogSlBTLnN0ZXBzLmFkdmFuY2VkX3NldHRpbmdzLmpldHBhY2tfbW9kdWxlc191cmx9LCBcIk1hbmFnZSBKZXRwYWNrIG1vZHVsZXNcIilcblx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHQpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDVcIiwgbnVsbCwgXCJMZWFybiBtb3JlXCIpLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtocmVmOiBcImh0dHBzOi8vY29kZXgud29yZHByZXNzLm9yZy9GaXJzdF9TdGVwc19XaXRoX1dvcmRQcmVzc1wifSwgXCJGaXJzdCBTdGVwcyB3aXRoIFdvcmRQcmVzc1wiKSwgXCIgLSBhbiBvbmxpbmUgZ3VpZGUgZnJvbSB0aGUgY3JlYXRvcnMgb2YgV29yZFByZXNzXCJcblx0XHRcdFx0XHQpXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBBZHZhbmNlZFNldHRpbmdzU3RlcDsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdy5SZWFjdCA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwuUmVhY3QgOiBudWxsKTtcblxudmFyIENvbnRlbnRCb3ggPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiQ29udGVudEJveFwiLFxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwid2VsY29tZV9fY29udGVudF9ib3hcIn0sIFxuXHRcdFx0XHR0aGlzLnByb3BzLmNoaWxkcmVuLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcImNsZWFyXCJ9KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbnRlbnRCb3g7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cuUmVhY3QgOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsLlJlYWN0IDogbnVsbCksXG5cdFNpdGVTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zaXRlLXN0b3JlJyksXG5cdFNldHVwUHJvZ3Jlc3NBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zZXR1cC1wcm9ncmVzcy1hY3Rpb25zJyksXG5cdFRvb2x0aXAgPSByZXF1aXJlKCcuL3Rvb2x0aXAnKSxcblx0Q29udGVudEJveCA9IHJlcXVpcmUoJy4vY29udGVudC1ib3gnKTtcblxuZnVuY3Rpb24gZ2V0VGhlbWVTdGF0ZSgpIHtcblx0cmV0dXJuIHsgdGhlbWVzOiBTaXRlU3RvcmUuZ2V0VGhlbWVzKCkgfTtcbn1cblxudmFyIERlc2lnblN0ZXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiRGVzaWduU3RlcFwiLFxuXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHRcdHRoaXMuX2xvYWRQb3B1bGFyVGhlbWVzKCk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0X29uQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICBcdHRoaXMuc2V0U3RhdGUoZ2V0VGhlbWVTdGF0ZSgpKTtcbiAgXHR9LFxuXG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGluaXRpYWxTdGF0ZSA9IGdldFRoZW1lU3RhdGUoKTtcblx0XHRpbml0aWFsU3RhdGUucG9wdWxhclRoZW1lcyA9IFtdO1xuXHRcdHJldHVybiBpbml0aWFsU3RhdGU7XG5cdH0sXG5cblx0aGFuZGxlQWN0aXZhdGVUaGVtZTogZnVuY3Rpb24gKCBlICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcblx0XHR0aGlzLnNldFN0YXRlKHt0b29sdGlwVGhlbWU6IG51bGwsIHRvb2x0aXBQb3NpdGlvbjogbnVsbH0pO1xuXG5cdFx0dmFyICRlbCA9IGpRdWVyeShlLmN1cnJlbnRUYXJnZXQpLFxuXHRcdFx0dGhlbWVJZCA9ICRlbC5kYXRhKCd0aGVtZS1pZCcpLFxuXHRcdFx0dGhlbWUgPSB0aGlzLmZpbmRUaGVtZSh0aGVtZUlkKSxcblx0XHRcdG5lZWRzSW5zdGFsbGF0aW9uID0gIXRoZW1lLmluc3RhbGxlZDtcblxuXHRcdHZhciByZXNwb25zZSA9IFNldHVwUHJvZ3Jlc3NBY3Rpb25zLnNldEFjdGl2ZVRoZW1lKHRoZW1lKTtcblxuXHRcdC8vIGlmIHdlIGp1c3QgaW5zdGFsbGVkIGEgdGhlbWUgZnJvbSB0aGUgXCJwb3B1bGFyXCIgbGlzdCwgbGV0J3MgbG9hZCBzb21lIG5ld1xuXHRcdC8vIHNlbGVjdGlvbnMgb25jZSBpbnN0YWxsYXRpb24gaXMgZmluaXNoZWRcblx0XHRpZiAoIG5lZWRzSW5zdGFsbGF0aW9uICkge1xuXHRcdFx0cmVzcG9uc2UuZG9uZSggZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR0aGlzLl9sb2FkUG9wdWxhclRoZW1lcygpO1xuXHRcdFx0fS5iaW5kKHRoaXMpKTtcblx0XHR9XG5cdH0sXG5cblx0ZmluZFRoZW1lOiBmdW5jdGlvbiAoIHRoZW1lSWQgKVx0e1xuXHRcdHJldHVybiBfLmZpbmRXaGVyZSh0aGlzLnN0YXRlLnRoZW1lcywge2lkOiB0aGVtZUlkfSkgfHwgXy5maW5kV2hlcmUodGhpcy5zdGF0ZS5wb3B1bGFyVGhlbWVzLCB7aWQ6IHRoZW1lSWR9KTtcblx0fSxcblxuXHRoYW5kbGVDb250aW51ZTogZnVuY3Rpb24gKCBlICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRTZXR1cFByb2dyZXNzQWN0aW9ucy5zYXZlRGVzaWduU3RlcCgpO1xuXHR9LFxuXG5cdGhhbmRsZVNob3dUb29sdGlwOiBmdW5jdGlvbiAoIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0dmFyICRlbCAgID0galF1ZXJ5KGUuY3VycmVudFRhcmdldCksXG5cdFx0XHR0aGVtZSA9IHRoaXMuZmluZFRoZW1lKCRlbC5kYXRhKCd0aGVtZS1pZCcpKSxcblx0XHRcdG9mZnNldCA9ICRlbC5wb3NpdGlvbigpLFxuXHRcdFx0d2lkdGggPSAkZWwub3V0ZXJXaWR0aCgpLFxuXHRcdFx0aGVpZ2h0ID0gJGVsLm91dGVySGVpZ2h0KCk7XG5cdFx0XG5cdFx0Ly9kZXNjcmliZXMgYSBwb3NpdGlvbiBpbiB0aGUgbWlkZGxlIG9mIHRoZSByaWdodCBzaWRlXG5cdFx0dmFyIHBvc2l0aW9uID0ge1xuXHRcdFx0dG9wOiBvZmZzZXQudG9wICsgKGhlaWdodC8yKSxcblx0XHRcdGxlZnQ6IG9mZnNldC5sZWZ0ICsgd2lkdGhcblx0XHR9O1xuXG5cdFx0dGhpcy5zZXRTdGF0ZSh7dG9vbHRpcFRoZW1lOiB0aGVtZSwgdG9vbHRpcFBvc2l0aW9uOiBwb3NpdGlvbn0pO1xuXHR9LFxuXG5cdGhhbmRsZUhpZGVUb29sdGlwOiBmdW5jdGlvbiAoIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHRoaXMuc2V0U3RhdGUoe3Rvb2x0aXBUaGVtZTogbnVsbCwgdG9vbHRpcFBvc2l0aW9uOiBudWxsfSk7XG5cdH0sXG5cblx0aGFuZGxlR2V0UG9wdWxhclRoZW1lczogZnVuY3Rpb24gKCBlICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR0aGlzLl9sb2FkUG9wdWxhclRoZW1lcygpO1x0XHRcblx0fSxcblxuXHRfbG9hZFBvcHVsYXJUaGVtZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5nZXRQb3B1bGFyVGhlbWVzKCkuZG9uZShmdW5jdGlvbih0aGVtZXMpIHtcblx0XHRcdHRoaXMuc2V0U3RhdGUoe3BvcHVsYXJUaGVtZXM6IHRoZW1lc30pO1xuXHRcdH0uYmluZCh0aGlzKSk7XG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblxuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwid2VsY29tZV9fc2VjdGlvblwiLCBpZDogXCJ3ZWxjb21lX19kZXNpZ25cIn0sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDRcIiwgbnVsbCwgXCJQaWNrIGEgZGVzaWduXCIpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJzdGVwLWRlc2NyaXB0aW9uXCJ9LCBcIkEgXFxcInRoZW1lXFxcIiBjb250cm9scyB0aGUgZGVzaWduIG9mIHlvdXIgc2l0ZSAtIGNvbG91cnMsIGZvbnRzIGFuZCBsYXlvdXQuXCIpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJzdGVwLWRlc2NyaXB0aW9uXCJ9LCBcIkNsaWNrIGFueSB0aGVtZSBiZWxvdyB0byBjaG9vc2UgaXQgZm9yIHlvdXIgc2l0ZS4gQW5kIGRvbid0IHdvcnJ5IC0geW91IGNhbiBlYXNpbHkgY2hhbmdlIHRoaXMgbGF0ZXIuXCIpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJzdWJtaXRcIn0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7dHlwZTogXCJzdWJtaXRcIiwgbmFtZTogXCJzYXZlXCIsIGNsYXNzTmFtZTogXCJidXR0b24gYnV0dG9uLXByaW1hcnkgYnV0dG9uLWxhcmdlXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ29udGludWUsIHZhbHVlOiBcIk5leHQgU3RlcCDihpJcIn0pXG5cdFx0XHRcdCksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRlbnRCb3gsIG51bGwsIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCBcIkluc3RhbGxlZCB0aGVtZXNcIiksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ0aGVtZS1icm93c2VyIHJlbmRlcmVkXCJ9LCBcblx0XHRcdFx0XHRcdHRoaXMuX3JlbmRlclRoZW1lTGlzdCgpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpLCBcblx0XHRcdFx0XG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGVudEJveCwgbnVsbCwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiUG9wdWxhciB0aGVtZXMgZnJvbSBXb3JkUHJlc3Mub3JnXCIsIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtocmVmOiBcIiNcIiwgY2xhc3NOYW1lOiBcImJ1dHRvbiBidXR0b24tcHJpbWFyeSBidXR0b24tbGFyZ2VcIiwgc3R5bGU6IHtmbG9hdDogJ3JpZ2h0J30sIG9uQ2xpY2s6IHRoaXMuaGFuZGxlR2V0UG9wdWxhclRoZW1lc30sIFwiTG9hZCBtb3JlIHRoZW1lc1wiKVxuXHRcdFx0XHRcdCksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ0aGVtZS1icm93c2VyIHJlbmRlcmVkXCJ9LCBcblx0XHRcdFx0XHRcdHRoaXMuX3JlbmRlclBvcHVsYXJUaGVtZUxpc3QoKVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KSwgXG5cblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7c3R5bGU6IHtjbGVhcjogJ2JvdGgnfX0pLCBcblx0XHRcdFx0dGhpcy5zdGF0ZS50b29sdGlwVGhlbWUgJiYgdGhpcy5fcmVuZGVyVG9vbHRpcCgpXG5cdFx0XHQpXG5cdFx0KTtcblx0fSxcblxuXHRfcmVuZGVyVG9vbHRpcDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHRoZW1lID0gdGhpcy5zdGF0ZS50b29sdGlwVGhlbWUsIHBvc2l0aW9uID0gdGhpcy5zdGF0ZS50b29sdGlwUG9zaXRpb247XG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoVG9vbHRpcCwge1xuXHRcdFx0XHRsZWZ0OiBwb3NpdGlvbi5sZWZ0LCBcblx0XHRcdFx0dG9wOiBwb3NpdGlvbi50b3AsIFxuXHRcdFx0XHR3aWR0aDogMzIwLCBcblx0XHRcdFx0dGl0bGU6IHRoZW1lLm5hbWV9LCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwgbnVsbCwgXCJCeSBcIiwgdGhlbWUuYXV0aG9yKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtkYW5nZXJvdXNseVNldElubmVySFRNTDoge19faHRtbDogXy51bmVzY2FwZSh0aGVtZS5kZXNjcmlwdGlvbil9fSlcblx0XHRcdClcblx0XHQpO1xuXHR9LFxuXG5cdF9yZW5kZXJUaGVtZTogZnVuY3Rpb24odGhlbWUpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7a2V5OiB0aGVtZS5pZCwgXG5cdFx0XHRcdGNsYXNzTmFtZTogJ3RoZW1lJyArICh0aGVtZS5hY3RpdmUgPyAnIGFjdGl2ZScgOiAnJyksIFxuXHRcdFx0XHRcImRhdGEtdGhlbWUtaWRcIjogdGhlbWUuaWQsIFxuXHRcdFx0XHRvbkNsaWNrOiB0aGlzLmhhbmRsZUFjdGl2YXRlVGhlbWUsIFxuXHRcdFx0XHRvbk1vdXNlRW50ZXI6IHRoaXMuaGFuZGxlU2hvd1Rvb2x0aXAsIFxuXHRcdFx0XHRvbk1vdXNlTGVhdmU6IHRoaXMuaGFuZGxlSGlkZVRvb2x0aXAsIFxuXHRcdFx0XHRcImFyaWEtZGVzY3JpYmVkYnlcIjogdGhlbWUuaWQrJy1hY3Rpb24gJyt0aGVtZS5pZCsnLW5hbWUnfSwgXG5cblx0XHRcdFx0dGhlbWUuc2NyZWVuc2hvdCA/IChcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwidGhlbWUtc2NyZWVuc2hvdFwifSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIHtzcmM6IHRoZW1lLnNjcmVlbnNob3QsIGFsdDogXCJcIn0pXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpIDogKFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ0aGVtZS1zY3JlZW5zaG90IGJsYW5rXCJ9KVxuXHRcdFx0XHQpLCBcblx0XHRcdFx0IXRoZW1lLmFjdGl2ZSAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge2NsYXNzTmFtZTogXCJtb3JlLWRldGFpbHNcIn0sIHRoZW1lLmluc3RhbGxlZCA/ICdDbGljayB0byBzZWxlY3QnIDogJ0NsaWNrIHRvIGluc3RhbGwnKSksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwge2NsYXNzTmFtZTogXCJ0aGVtZS1uYW1lXCIsIGlkOiB0aGVtZS5pZCsnLW5hbWUnfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgdGhlbWUuYWN0aXZlID8gJ1NlbGVjdGVkOicgOiAnJyksIFwiIFwiLCB0aGVtZS5uYW1lKVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0X3JlbmRlclBvcHVsYXJUaGVtZUxpc3Q6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnN0YXRlLnBvcHVsYXJUaGVtZXMubWFwKCB0aGlzLl9yZW5kZXJUaGVtZSApO1xuXHR9LFxuXG5cdF9yZW5kZXJUaGVtZUxpc3Q6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnN0YXRlLnRoZW1lcy5tYXAoIHRoaXMuX3JlbmRlclRoZW1lICk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERlc2lnblN0ZXA7IiwiLyoqXG4gKiBEaXNwbGF5cyBhIGZsYXNoIG1lc3NhZ2UsIGlmIHNldC5cbiAqIEpTT04gc3RydWN0dXJlOlxuICogeyBzZXZlcml0eTogJ25vdGljZScsIG1lc3NhZ2U6ICdNeSBtZXNzYWdlJyB9XG4gKlxuICogVmFsaWQgc2V2ZXJpdGllczpcbiAqIC0gZXJyb3IsIG5vdGljZVxuICovXG5cbnZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93LlJlYWN0IDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbC5SZWFjdCA6IG51bGwpLFxuXHRGbGFzaFN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL2ZsYXNoLXN0b3JlJyk7XG5cbmZ1bmN0aW9uIGdldEZsYXNoU3RhdGUoKSB7XG5cdHJldHVybiBGbGFzaFN0b3JlLmdldEZsYXNoKCk7XG59XG5cbnZhciBGbGFzaCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJGbGFzaFwiLFxuXHRjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0Rmxhc2hTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdEZsYXNoU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdF9vbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgXHR0aGlzLnNldFN0YXRlKGdldEZsYXNoU3RhdGUoKSk7XG4gIFx0fSxcblxuXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBnZXRGbGFzaFN0YXRlKCk7XG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoIHRoaXMuc3RhdGUubWVzc2FnZSApIHtcblx0XHRcdHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiB0aGlzLnN0YXRlLnNldmVyaXR5ICsgJyB1cGRhdGVkJ30sIHRoaXMuc3RhdGUubWVzc2FnZSkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZsYXNoOyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93LlJlYWN0IDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbC5SZWFjdCA6IG51bGwpLFxuXHRTZXR1cFByb2dyZXNzU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2V0dXAtcHJvZ3Jlc3Mtc3RvcmUnKSxcblx0U2V0dXBQcm9ncmVzc0FjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3NldHVwLXByb2dyZXNzLWFjdGlvbnMnKTtcblxuZnVuY3Rpb24gZ2V0U2V0dXBTdGF0ZSgpIHtcblx0cmV0dXJuIHt9O1xufVxuXG52YXIgR2V0U3RhcnRlZCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJHZXRTdGFydGVkXCIsXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTZXR1cFByb2dyZXNzU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTZXR1cFByb2dyZXNzU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdF9vbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgXHR0aGlzLnNldFN0YXRlKGdldFNldHVwU3RhdGUoKSk7XG4gIFx0fSxcblxuXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBnZXRTZXR1cFN0YXRlKCk7XG5cdH0sXG5cblx0aGFuZGxlR2V0U3RhcnRlZDogZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRTZXR1cFByb2dyZXNzQWN0aW9ucy5nZXRTdGFydGVkKCk7XG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcImdldHRpbmctc3RhcnRlZF9faW50cm9cIn0sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJZb3UncmUgYWxtb3N0IGRvbmUhXCIpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJnZXR0aW5nLXN0YXJ0ZWRfX3N1YmhlYWRcIn0sIFxuXHRcdFx0XHRcdFwiVGFrZSB0aGVzZSBzdGVwcyB0byBzdXBlcmNoYXJnZSB5b3VyIFdvcmRQcmVzcyBzaXRlLlwiXG5cdFx0XHRcdCksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcImdldHRpbmctc3RhcnRlZF9fYWN0aW9uXCJ9LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7aHJlZjogXCIjXCIsIGNsYXNzTmFtZTogXCJidXR0b24gYnV0dG9uLXByaW1hcnkgYnV0dG9uLWxhcmdlXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlR2V0U3RhcnRlZH0sIFwiR2V0IFN0YXJ0ZWQg4oaSXCIpXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBHZXRTdGFydGVkOyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93LlJlYWN0IDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbC5SZWFjdCA6IG51bGwpLFxuXHRTaXRlU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2l0ZS1zdG9yZScpLFxuXHRTaXRlQWN0aW9ucyA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvc2l0ZS1hY3Rpb25zJyksXG5cdFBhdGhzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtcGF0aHMnKTtcblxuZnVuY3Rpb24gZ2V0SmV0cGFja1Byb2dyZXNzKCkge1xuXHRyZXR1cm4geyBcblx0XHRqZXRwYWNrQ29uZmlndXJlZDogU2l0ZVN0b3JlLmdldEpldHBhY2tDb25maWd1cmVkKClcblx0fTtcbn1cblxudmFyIEpldHBhY2tKdW1wc3RhcnRNZW51ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIkpldHBhY2tKdW1wc3RhcnRNZW51XCIsXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdF9vbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgXHR0aGlzLnNldFN0YXRlKGdldEpldHBhY2tQcm9ncmVzcygpKTtcbiAgXHR9LFxuXG4gIFx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZ2V0SmV0cGFja1Byb2dyZXNzKCk7XG5cdH0sXG5cblx0aGFuZGxlQ2xpY2tDb25uZWN0OiBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdGNvbnNvbGUubG9nKFwiY2xpY2tlZFwiKTtcblx0XHRTaXRlQWN0aW9ucy5jb25maWd1cmVKZXRwYWNrKFBhdGhzLkpFVFBBQ0tfTU9EVUxFU19TVEVQX1NMVUcpO1xuXHR9LFxuXG5cdHN0eWxlOiB7XG5cdFx0Y29sb3I6ICdibGFjaycsXG5cdFx0Zm9udFNpemU6IDEyXG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7c3R5bGU6IHRoaXMuc3R5bGV9LCBcblx0XHRcdFx0dGhpcy5zdGF0ZS5qZXRwYWNrQ29uZmlndXJlZCA/IChcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwpXG5cdFx0XHRcdCkgOiAoXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFwiQm9vc3QgdHJhZmZpYywgZW5oYW5jZSBzZWN1cml0eSwgYW5kIGltcHJvdmUgcGVyZm9ybWFuY2Ugd2l0aCBhIGNvbm5lY3Rpb24gdG8gV29yZFByZXNzLmNvbVwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCksIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge2NsYXNzTmFtZTogXCJidXR0b24gYnV0dG9uLXByaW1hcnkgYnV0dG9uLWxhcmdlXCIsIGhyZWY6IFwiI1wiLCBvbkNsaWNrOiB0aGlzLmhhbmRsZUNsaWNrQ29ubmVjdH0sIFwiQ29ubmVjdCB0byBXb3JkUHJlc3MuY29tXCIpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHRcdFxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEpldHBhY2tKdW1wc3RhcnRNZW51OyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93LlJlYWN0IDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbC5SZWFjdCA6IG51bGwpLFxuXHRTa2lwQnV0dG9uID0gcmVxdWlyZSgnLi9za2lwLWJ1dHRvbicpLFxuXHRTaXRlU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2l0ZS1zdG9yZScpLFxuXHRTaXRlQWN0aW9ucyA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvc2l0ZS1hY3Rpb25zJyksXG5cdFBhdGhzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtcGF0aHMnKSwgXG5cdENvbnRlbnRCb3ggPSByZXF1aXJlKCcuL2NvbnRlbnQtYm94JyksXG5cdFNldHVwUHJvZ3Jlc3NBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zZXR1cC1wcm9ncmVzcy1hY3Rpb25zJyksXG5cdFNwaW5uZXJTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zcGlubmVyLXN0b3JlJyk7XG5cbmZ1bmN0aW9uIGdldEpldHBhY2tTdGF0ZSgpIHtcblx0cmV0dXJuIHtcblx0XHRzaXRlX3RpdGxlOiBTaXRlU3RvcmUuZ2V0VGl0bGUoKSxcblx0XHRqZXRwYWNrQ29uZmlndXJlZDogU2l0ZVN0b3JlLmdldEpldHBhY2tDb25maWd1cmVkKCksXG5cdFx0anVtcHN0YXJ0RW5hYmxlZDogU2l0ZVN0b3JlLmdldEpldHBhY2tKdW1wc3RhcnRFbmFibGVkKCksXG5cdFx0bW9kdWxlc0VuYWJsZWQ6IFNpdGVTdG9yZS5nZXRBY3RpdmVNb2R1bGVTbHVncygpXHRcblx0fTtcbn1cblxudmFyIEpldHBhY2tKdW1wc3RhcnQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiSmV0cGFja0p1bXBzdGFydFwiLFxuXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdF9vbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgXHR0aGlzLnNldFN0YXRlKGdldEpldHBhY2tTdGF0ZSgpKTtcbiAgXHR9LFxuXG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHN0YXRlID0gZ2V0SmV0cGFja1N0YXRlKCk7XG5cdFx0c3RhdGUuc2hvd01vcmVNb2R1bGVzID0gZmFsc2U7XG5cdFx0cmV0dXJuIHN0YXRlO1xuXHR9LFxuXG5cdGhhbmRsZUpldHBhY2tDb25uZWN0OiBmdW5jdGlvbiAoZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFNpdGVBY3Rpb25zLmNvbmZpZ3VyZUpldHBhY2soUGF0aHMuSkVUUEFDS19NT0RVTEVTX1NURVBfU0xVRyk7XG5cdH0sXG5cblx0aGFuZGxlQ2hhbmdlTW9kdWxlU3RhdHVzOiBmdW5jdGlvbiAoZSkge1xuXHRcdHZhciAkdGFyZ2V0ID0galF1ZXJ5KGUuY3VycmVudFRhcmdldCksXG5cdFx0XHRtb2R1bGVfc2x1ZyA9ICR0YXJnZXQuZGF0YSgnbW9kdWxlLXNsdWcnKTtcblxuXHRcdGlmICggU2l0ZVN0b3JlLmlzSmV0cGFja01vZHVsZUVuYWJsZWQobW9kdWxlX3NsdWcpICkge1xuXHRcdFx0U2l0ZUFjdGlvbnMuZGVhY3RpdmF0ZUpldHBhY2tNb2R1bGUobW9kdWxlX3NsdWcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRTaXRlQWN0aW9ucy5hY3RpdmF0ZUpldHBhY2tNb2R1bGUobW9kdWxlX3NsdWcpO1xuXHRcdH1cblx0fSxcblxuXHRoYW5kbGVFbmFibGVBbGxNb2R1bGVzOiBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFNpdGVBY3Rpb25zLmVuYWJsZUp1bXBzdGFydCgpO1xuXHR9LFxuXG5cdGhhbmRsZU5leHQ6IGZ1bmN0aW9uIChlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0U2V0dXBQcm9ncmVzc0FjdGlvbnMuY29tcGxldGVBbmROZXh0U3RlcChQYXRocy5KRVRQQUNLX01PRFVMRVNfU1RFUF9TTFVHKTtcblx0fSxcblxuXHRoYW5kbGVTaG93TW9yZU1vZHVsZXM6IGZ1bmN0aW9uIChlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFxuXHRcdFNpdGVBY3Rpb25zLmxvYWRBbGxKZXRwYWNrTW9kdWxlcygpLmRvbmUoZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHtzaG93TW9yZU1vZHVsZXM6IHRydWV9KTtcblx0XHR9LmJpbmQodGhpcykpO1xuXHR9LFxuXG5cdGhhbmRsZVNob3dGZXdlck1vZHVsZXM6IGZ1bmN0aW9uIChlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHRoaXMuc2V0U3RhdGUoe3Nob3dNb3JlTW9kdWxlczogZmFsc2V9KTtcblx0fSxcblxuXHRfcmVuZGVyTW9kdWxlOiBmdW5jdGlvbihtb2R1bGUpIHtcblx0XHR2YXIgaXNBY3RpdmUgPSBTaXRlU3RvcmUuaXNKZXRwYWNrTW9kdWxlRW5hYmxlZChtb2R1bGUuc2x1Zyk7XG5cdFx0dmFyIG1vZHVsZUlkID0gJ2pwLW1vZHVsZS0nK21vZHVsZS5zbHVnO1xuXHRcdFxuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtrZXk6ICdtb2R1bGVzLScrbW9kdWxlLnNsdWcsIGNsYXNzTmFtZTogXCJ3ZWxjb21lX19qdW1wc3RhcnRfbW9kdWxlXCJ9LCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtpZDogbW9kdWxlSWQsIHR5cGU6IFwiY2hlY2tib3hcIiwgY2hlY2tlZDogaXNBY3RpdmUsIFwiZGF0YS1tb2R1bGUtc2x1Z1wiOiBtb2R1bGUuc2x1Zywgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlTW9kdWxlU3RhdHVzfSksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwge2h0bWxGb3I6IG1vZHVsZUlkfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInN0cm9uZ1wiLCBudWxsLCBtb2R1bGUubmFtZSkpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInNtYWxsXCIsIHtjbGFzc05hbWU6IFwianVtcHN0YXJ0X21vZHVsZV9fZGVzY3JpcHRpb25cIiwgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHtfX2h0bWw6IG1vZHVsZS5kZXNjcmlwdGlvbn19KSwgXG5cdFx0XHRcdGlzQWN0aXZlICYmIG1vZHVsZS5jb25maWd1cmVfdXJsICYmIChcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwic21hbGxcIiwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge3RhcmdldDogXCJfY29uZmlndXJlXCIsIGhyZWY6IG1vZHVsZS5jb25maWd1cmVfdXJsfSwgXCJjb25maWd1cmVcIikpXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpO1xuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG1vZHVsZU92ZXJsYXksIG1vZHVsZU92ZXJsYXlCb2R5O1xuXG5cblx0XHRpZiAoICEgdGhpcy5zdGF0ZS5qZXRwYWNrQ29uZmlndXJlZCAmJiAhU3Bpbm5lclN0b3JlLnNob3dpbmcoKSApIHtcblx0XHRcdG1vZHVsZU92ZXJsYXkgPSAoXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ3ZWxjb21lX19qdW1wc3RhcnRfb3ZlcmxheVwifSlcblx0XHRcdCk7XG5cdFx0XHRtb2R1bGVPdmVybGF5Qm9keSA9IChcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcIndlbGNvbWVfX2p1bXBzdGFydF9vdmVybGF5X19ib2R5XCJ9LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCBudWxsLCBcIlRoZXNlIG1vZHVsZXMgcmVxdWlyZSBhIFdvcmRQcmVzcy5jb20gYWNjb3VudCAtIGl0J3MgZnJlZSFcIiksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtocmVmOiBcIiNcIiwgY2xhc3NOYW1lOiBcImRvd25sb2FkLWpldHBhY2tcIiwgb25DbGljazogdGhpcy5oYW5kbGVKZXRwYWNrQ29ubmVjdH0sIFwiQ29ubmVjdCB0byBXb3JkUHJlc3MuY29tXCIpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2tpcEJ1dHRvbiwgbnVsbClcblx0XHRcdFx0XHQpXG5cdFx0XHRcdClcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0dmFyIG1vZHVsZURlc2NyaXB0aW9ucyA9IFNpdGVTdG9yZS5nZXRKdW1wc3RhcnRNb2R1bGVzKCkubWFwKHRoaXMuX3JlbmRlck1vZHVsZSk7XG5cdFx0dmFyIG1vcmVNb2R1bGVEZXNjcmlwdGlvbnMgPSBTaXRlU3RvcmUuZ2V0SmV0cGFja0FkZGl0aW9uYWxNb2R1bGVzKCkubWFwKHRoaXMuX3JlbmRlck1vZHVsZSk7XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcIndlbGNvbWVfX3NlY3Rpb25cIn0sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJMZXQncyBsYXVuY2ggXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJlbVwiLCBudWxsLCB0aGlzLnN0YXRlLnNpdGVfdGl0bGUpKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoNFwiLCBudWxsLCBcIkVuYWJsZSBtb2R1bGVzXCIpLCBcblx0XHRcdFx0dGhpcy5zdGF0ZS5qZXRwYWNrQ29uZmlndXJlZCAmJiAoXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtjbGFzc05hbWU6IFwiamV0cGFjay1sb2dvXCJ9LCBcIlBvd2VyZWQgYnlcIiwgUmVhY3QuY3JlYXRlRWxlbWVudChcImJyXCIsIG51bGwpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7aHJlZjogXCJodHRwOi8vMTkyLjE2OC41OS4xMDMvd3AtYWRtaW4vYWRtaW4ucGhwP3BhZ2U9amV0cGFja1wiLCB0aXRsZTogXCJKZXRwYWNrXCIsIGNsYXNzTmFtZTogXCJjdXJyZW50XCJ9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBcIkpldHBhY2tcIikpKSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcInN0ZXAtZGVzY3JpcHRpb25cIn0sIFwiQ29uZ3JhdHVsYXRpb25zISBZb3UndmUgY29ubmVjdGVkIHlvdXIgc2l0ZSB0byBXb3JkUHJlc3MuY29tIGFuZCB1bmxvY2tlZCBkb3plbnMgb2YgcG93ZXJmdWwgZmVhdHVyZXMuXCIpLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwic3RlcC1kZXNjcmlwdGlvblwifSwgXCJXZSd2ZSBoaWdobGlnaHRlZCBzb21lIG9mIHRoZSBtb3N0IHBvcHVsYXIgV29yZFByZXNzLWNvbm5lY3RlZCBtb2R1bGVzIGZvciB5b3UuXCIpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcIndlbGNvbWVfX2Nvbm5lY3RcIn0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ3ZWxjb21lX19qdW1wc3RhcnRfd3JhcHBlclwifSwgXG5cdFx0XHRcdFx0XHRtb2R1bGVPdmVybGF5LCBcblx0XHRcdFx0XHRcdG1vZHVsZU92ZXJsYXlCb2R5LCBcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0dGhpcy5zdGF0ZS5qZXRwYWNrQ29uZmlndXJlZCAmJiAoXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJzdWJtaXRcIn0sIFxuXHRcdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7c3R5bGU6IHtmbG9hdDogJ3JpZ2h0J30sIHR5cGU6IFwic3VibWl0XCIsIG5hbWU6IFwic2F2ZVwiLCBjbGFzc05hbWU6IFwiYnV0dG9uIGJ1dHRvbi1wcmltYXJ5IGJ1dHRvbi1sYXJnZVwiLCBvbkNsaWNrOiB0aGlzLmhhbmRsZU5leHQsIHZhbHVlOiBcIk5leHQgU3RlcCDihpJcIn0pLCBcblx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwiY2xlYXJcIn0pXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCksIFxuXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRlbnRCb3gsIG51bGwsIFxuXHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJQb3B1bGFyIG1vZHVsZXNcIiArICcgJyArXG5cdFx0XHRcdFx0XHRcdFx0XCLCoMKgXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge2Rpc2FibGVkOiB0aGlzLnN0YXRlLmp1bXBzdGFydEVuYWJsZWQsIGNsYXNzTmFtZTogXCJidXR0b24gYnV0dG9uLXByaW1hcnlcIiwgb25DbGljazogdGhpcy5oYW5kbGVFbmFibGVBbGxNb2R1bGVzfSwgdGhpcy5zdGF0ZS5qdW1wc3RhcnRFbmFibGVkID8gJ0VuYWJsZWQnIDogJ0VuYWJsZSBhbGwgKHJlY29tbWVuZGVkKScpXG5cdFx0XHRcdFx0XHRcdCksIFxuXHRcdFx0XHRcdFx0XHRtb2R1bGVEZXNjcmlwdGlvbnNcblx0XHRcdFx0XHRcdCksIFxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHR0aGlzLnN0YXRlLnNob3dNb3JlTW9kdWxlcyA/IChcblx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJtb3JlXCJ9LCBcblx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7aHJlZjogXCIjXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlU2hvd0Zld2VyTW9kdWxlc30sIFwiaGlkZSBhZGRpdGlvbmFsIG1vZHVsZXNcIilcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0KSA6IChcblx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJtb3JlXCJ9LCBcblx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7aHJlZjogXCIjXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlU2hvd01vcmVNb2R1bGVzfSwgXCJzaG93IGFkZGl0aW9uYWwgbW9kdWxlc1wiKVxuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHQpLCBcblxuXHRcdFx0XHRcdFx0dGhpcy5zdGF0ZS5zaG93TW9yZU1vZHVsZXMgJiYgKFxuXHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRlbnRCb3gsIG51bGwsIFxuXHRcdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCBcIkFkZGl0aW9uYWwgbW9kdWxlc1wiKSwgXG5cdFx0XHRcdFx0XHRcdFx0bW9yZU1vZHVsZURlc2NyaXB0aW9uc1xuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gSmV0cGFja0p1bXBzdGFydDsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdy5SZWFjdCA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwuUmVhY3QgOiBudWxsKSxcblx0U2l0ZVN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NpdGUtc3RvcmUnKSxcblx0U2V0dXBQcm9ncmVzc0FjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3NldHVwLXByb2dyZXNzLWFjdGlvbnMnKTtcblxuZnVuY3Rpb24gZ2V0U2l0ZUxheW91dFN0YXRlKCkge1xuXHRyZXR1cm4ge1xuXHRcdHNpdGVfdGl0bGU6IFNpdGVTdG9yZS5nZXRUaXRsZSgpLFxuXHRcdGxheW91dDogU2l0ZVN0b3JlLmdldExheW91dCgpXG5cdH07XG59XG5cbnZhciBMYXlvdXRTdGVwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIkxheW91dFN0ZXBcIixcblxuXHRjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0U2l0ZVN0b3JlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0fSxcblxuXHRjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0U2l0ZVN0b3JlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0fSxcblxuXHRfb25DaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICAgIFx0dGhpcy5zZXRTdGF0ZShnZXRTaXRlTGF5b3V0U3RhdGUoKSk7XG4gIFx0fSxcblxuXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBnZXRTaXRlTGF5b3V0U3RhdGUoKTtcblx0fSxcblxuXHRoYW5kbGVTZXRMYXlvdXQ6IGZ1bmN0aW9uKCBlICkge1xuXHRcdHRoaXMuc2V0U3RhdGUoeyBsYXlvdXQ6IGpRdWVyeShlLmN1cnJlbnRUYXJnZXQpLnZhbCgpIH0pO1xuXHR9LFxuXG5cdGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24oIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFNldHVwUHJvZ3Jlc3NBY3Rpb25zLnN1Ym1pdExheW91dFN0ZXAodGhpcy5zdGF0ZS5sYXlvdXQpO1xuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ3ZWxjb21lX19zZWN0aW9uXCIsIGlkOiBcIndlbGNvbWVfX2xheW91dFwifSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCBcIkxldCdzIGxhdW5jaCBcIiwgUmVhY3QuY3JlYXRlRWxlbWVudChcImVtXCIsIG51bGwsIHRoaXMuc3RhdGUuc2l0ZV90aXRsZSkpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImg0XCIsIG51bGwsIFwiU2VsZWN0IGEgbGF5b3V0XCIpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJzdGVwLWRlc2NyaXB0aW9uXCJ9LCBcIldvcmRQcmVzcyBjYW4gYmUgYSBibG9nLCBhIHdlYiBzaXRlIHdpdGggYSBoaWVyYXJjaHkgb2Ygc3RhdGljIHBhZ2VzLCBvciBhIGNvbWJpbmF0aW9uIG9mIHRoZSB0d28uXCIpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImZvcm1cIiwge29uU3VibWl0OiB0aGlzLmhhbmRsZVN1Ym1pdH0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7dHlwZTogXCJyYWRpb1wiLCBuYW1lOiBcInNpdGVfbGF5b3V0XCIsIHZhbHVlOiBcIndlYnNpdGVcIiwgY2hlY2tlZDogdGhpcy5zdGF0ZS5sYXlvdXQgPT09ICd3ZWJzaXRlJywgb25DaGFuZ2U6IHRoaXMuaGFuZGxlU2V0TGF5b3V0fSksIFwiIFN0YXRpYyBXZWJzaXRlXCIsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJkZXNjcmlwdGlvblwifSwgXCJBIHdlYiBzaXRlIHdpdGggYSBoaWVyYXJjaHkgb2YgcGFnZXNcIilcblx0XHRcdFx0XHQpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7dHlwZTogXCJyYWRpb1wiLCBuYW1lOiBcInNpdGVfbGF5b3V0XCIsIHZhbHVlOiBcInNpdGUtYmxvZ1wiLCBjaGVja2VkOiB0aGlzLnN0YXRlLmxheW91dCA9PT0gJ3NpdGUtYmxvZycsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVNldExheW91dH0pLCBcIiBTdGF0aWMgV2Vic2l0ZSB3aXRoIGEgYmxvZ1wiLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwiZGVzY3JpcHRpb25cIn0sIFwiQSB3ZWIgc2l0ZSB3aXRoIHBhZ2VzIHRoYXQgYWxzbyBoYXMgYSBibG9nIG9yIG5ld3Mgc2VjdGlvblwiKVxuXHRcdFx0XHRcdCksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiclwiLCBudWxsKSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImxhYmVsXCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHt0eXBlOiBcInJhZGlvXCIsIG5hbWU6IFwic2l0ZV9sYXlvdXRcIiwgdmFsdWU6IFwiYmxvZ1wiLCBjaGVja2VkOiB0aGlzLnN0YXRlLmxheW91dCA9PT0gJ2Jsb2cnLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVTZXRMYXlvdXR9KSwgXCIgSnVzdCBhIGJsb2dcIiwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcImRlc2NyaXB0aW9uXCJ9LCBcIkEgd2ViIHNpdGUgdGhhdCB3aWxsIGNvbnN0YW50bHkgc2hvdyBuZXcgY29udGVudCAoYXJ0aWNsZXMsIHBob3RvcywgdmlkZW9zLCBldGMuKVwiKVxuXHRcdFx0XHRcdCksIFxuXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJzdWJtaXRcIn0sIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHt0eXBlOiBcInN1Ym1pdFwiLCBuYW1lOiBcInNhdmVcIiwgY2xhc3NOYW1lOiBcImJ1dHRvbiBidXR0b24tcHJpbWFyeSBidXR0b24tbGFyZ2VcIiwgdmFsdWU6IFwiTmV4dCBTdGVwIOKGklwifSlcblx0XHRcdFx0XHQpXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBMYXlvdXRTdGVwOyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93LlJlYWN0IDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbC5SZWFjdCA6IG51bGwpLFxuXHRTaXRlQWN0aW9ucyA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvc2l0ZS1hY3Rpb25zJyksXG5cdFNpdGVTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zaXRlLXN0b3JlJyksXG5cdFNldHVwUHJvZ3Jlc3NBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zZXR1cC1wcm9ncmVzcy1hY3Rpb25zJyk7XG5cbmZ1bmN0aW9uIGdldFNpdGVUaXRsZVN0YXRlKCkge1xuXHRyZXR1cm4ge1xuXHRcdHRpdGxlOiBTaXRlU3RvcmUuZ2V0VGl0bGUoKSxcblx0XHRkZXNjcmlwdGlvbjogU2l0ZVN0b3JlLmdldERlc2NyaXB0aW9uKClcblx0fTtcbn1cblxudmFyIFNpdGVUaXRsZVN0ZXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiU2l0ZVRpdGxlU3RlcFwiLFxuXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdF9vbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgXHR0aGlzLnNldFN0YXRlKGdldFNpdGVUaXRsZVN0YXRlKCkpO1xuICBcdH0sXG5cblx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZ2V0U2l0ZVRpdGxlU3RhdGUoKTtcblx0fSxcblxuXHRoYW5kbGVDaGFuZ2VUaXRsZTogZnVuY3Rpb24oZSkge1xuXHRcdFNpdGVBY3Rpb25zLnNldFRpdGxlKGUuY3VycmVudFRhcmdldC52YWx1ZSk7XG5cdH0sXG5cblx0aGFuZGxlQ2hhbmdlRGVzY3JpcHRpb246IGZ1bmN0aW9uKGUpIHtcblx0XHRTaXRlQWN0aW9ucy5zZXREZXNjcmlwdGlvbihlLmN1cnJlbnRUYXJnZXQudmFsdWUpO1xuXHR9LFxuXG5cdGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRTZXR1cFByb2dyZXNzQWN0aW9ucy5zdWJtaXRUaXRsZVN0ZXAoKTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwid2VsY29tZV9fc2VjdGlvblwiLCBpZDogXCJ3ZWxjb21lX19zaXRlLXRpdGxlXCJ9LCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiTGV0J3MgbGF1bmNoIHlvdXIgbmV3IHdlYnNpdGVcIiksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDRcIiwgbnVsbCwgXCJUaXRsZSBhbmQgRGVzY3JpcHRpb25cIiksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcInN0ZXAtZGVzY3JpcHRpb25cIn0sIFxuXHRcdFx0XHRcdFwiTWFrZSB5b3VyIHNpdGUgc3RhbmQgb3V0IHdpdGggYSBjYXRjaHkgbmFtZS5cIlxuXHRcdFx0XHQpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImZvcm1cIiwge29uU3VibWl0OiB0aGlzLmhhbmRsZVN1Ym1pdH0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiLCB7Y2xhc3NOYW1lOiBcImZvcm0tdGFibGVcIn0sIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInRib2R5XCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwidHJcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInRoXCIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCB7aHRtbEZvcjogXCJzaXRlX3RpdGxlXCJ9LCBcIlNpdGUgVGl0bGVcIikpLCBcblx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwidGRcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge3R5cGU6IFwidGV4dFwiLCBuYW1lOiBcInNpdGVfdGl0bGVcIiwgaWQ6IFwic2l0ZS10aXRsZVwiLCBhdXRvQ29tcGxldGU6IFwib2ZmXCIsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZVRpdGxlLCB2YWx1ZTogdGhpcy5zdGF0ZS50aXRsZSwgXG5cdFx0XHRcdFx0ICAgICAgIHBsYWNlaG9sZGVyOiBcIlNpdGUgVGl0bGUgKHRoaXMgY2FuIGJlIGNoYW5nZWQgbGF0ZXIpXCIsIHJlcXVpcmVkOiB0cnVlfSksIFxuXHRcdFx0XHRcdCAgICAgICBcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcImRlc2NyaXB0aW9uXCJ9LCBcIlRoZSBuYW1lIG9mIHlvdXIgc2l0ZS4gVGhpcyB0aXRsZSBhcHBlYXJzIGF0IHRoZSB0b3Agb2YgcGFnZXMgYW5kIGluIHNlYXJjaCByZXN1bHRzLlwiKVxuXHRcdFx0XHRcdCAgICAgICBcdFx0KVxuXHRcdFx0XHRcdCAgICAgIFx0KSwgXG5cdFx0XHRcdFx0ICAgICAgXHRSZWFjdC5jcmVhdGVFbGVtZW50KFwidHJcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInRoXCIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCB7aHRtbEZvcjogXCJzaXRlX2Rlc2NyaXB0aW9uXCJ9LCBcIlNpdGUgRGVzY3JpcHRpb25cIikpLCBcblx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwidGRcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge3R5cGU6IFwidGV4dFwiLCBuYW1lOiBcInNpdGVfZGVzY3JpcHRpb25cIiwgaWQ6IFwic2l0ZS1kZXNjcmlwdGlvblwiLCBhdXRvQ29tcGxldGU6IFwib2ZmXCIsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZURlc2NyaXB0aW9uLCB2YWx1ZTogdGhpcy5zdGF0ZS5kZXNjcmlwdGlvbiwgXG5cdFx0XHRcdFx0ICAgICAgIHBsYWNlaG9sZGVyOiBcIlNpdGUgRGVzY3JpcHRpb25cIiwgcmVxdWlyZWQ6IHRydWV9KSwgXG5cdFx0XHRcdFx0ICAgICAgIFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwiZGVzY3JpcHRpb25cIn0sIFwiQSBtb3R0byBvciB0YWdsaW5lLiBUaGlzIGFwcGVhcnMgYmVsb3cgdGhlIHRpdGxlIG9uIHlvdXIgc2l0ZSwgYW5kIG5leHQgdG8gdGhlIHRpdGxlIGluIHNlYXJjaCByZXN1bHRzLiBUcnkgdG8gYmUgYnJpZWYgYW5kIGRlc2NyaXB0aXZlLCBlLmcuIFxcXCJZb3VyIG9ubGluZSBiYWl0IGFuZCB0YWNrbGUgc3RvcmVcXFwiXCIpXG5cdFx0XHRcdFx0ICAgICAgIFx0XHQpXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHQpLCBcblxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwic3VibWl0XCJ9LCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7dHlwZTogXCJzdWJtaXRcIiwgbmFtZTogXCJzYXZlXCIsIGNsYXNzTmFtZTogXCJidXR0b24gYnV0dG9uLXByaW1hcnkgYnV0dG9uLWxhcmdlXCIsIHZhbHVlOiBcIk5leHQgU3RlcCDihpJcIn0pXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU2l0ZVRpdGxlU3RlcDsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdy5SZWFjdCA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwuUmVhY3QgOiBudWxsKSxcblx0U2V0dXBQcm9ncmVzc1N0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NldHVwLXByb2dyZXNzLXN0b3JlJyksXG5cdFNldHVwUHJvZ3Jlc3NBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zZXR1cC1wcm9ncmVzcy1hY3Rpb25zJyk7XG5cbmZ1bmN0aW9uIGdldFNldHVwUHJvZ3Jlc3MoKSB7XG5cdHJldHVybiB7XG5cdFx0Y29tcGxldGVkOiBTZXR1cFByb2dyZXNzU3RvcmUuZ2V0Q3VycmVudFN0ZXAoKS5jb21wbGV0ZWRcblx0fTtcbn1cblxudmFyIFNraXBCdXR0b24gPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiU2tpcEJ1dHRvblwiLFxuXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTZXR1cFByb2dyZXNzU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTZXR1cFByb2dyZXNzU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdF9vbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgXHR0aGlzLnNldFN0YXRlKGdldFNldHVwUHJvZ3Jlc3MoKSk7XG4gIFx0fSxcblxuICBcdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGdldFNldHVwUHJvZ3Jlc3MoKTtcblx0fSxcblxuXHRoYW5kbGVTa2lwOiBmdW5jdGlvbiAoZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRTZXR1cFByb2dyZXNzQWN0aW9ucy5za2lwU3RlcCgpO1xuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGNvbXBsZXRlZCA9ICh0aGlzLnN0YXRlLmNvbXBsZXRlZCk7XG5cdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7Y2xhc3NOYW1lOiBcInNraXBcIiwgaHJlZjogXCIjXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlU2tpcH0sIFwiTm90IG5vd1wiKSk7XG5cdFx0fVxuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBTa2lwQnV0dG9uOyIsIlxudmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cuUmVhY3QgOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsLlJlYWN0IDogbnVsbCk7XG5cbnZhciBUb29sdGlwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIlRvb2x0aXBcIixcblx0cHJvcFR5cGVzOiB7XG5cdFx0bGVmdDogUmVhY3QuUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLCAgLy8gZS5nLiA2MDBcblx0XHR0b3A6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCwgICAvL2UuZy4gMTU3XG5cdFx0d2lkdGg6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCwgLy9lLmcuIDMyMFxuXHRcdHRpdGxlOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsICAvLyBlLmcuIERpc3RyYWN0aW9uLUZyZWUgV3JpdGluZ1xuXHR9LFxuXG5cdGhhbmRsZURpc21pc3M6IGZ1bmN0aW9uICggZSApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdH0sXG5cblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9yZWNvbXB1dGVQb3NpdGlvbigpO1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9yZWNvbXB1dGVQb3NpdGlvbigpO1xuXHR9LFxuXG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRyZWFsVG9wOiB0aGlzLnByb3BzLnRvcFxuXHRcdH07XG5cdH0sXG5cblx0X3JlY29tcHV0ZVBvc2l0aW9uOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyICR3cmFwcGVyID0galF1ZXJ5KFJlYWN0LmZpbmRET01Ob2RlKHRoaXMucmVmcy53cmFwcGVyKSk7XG5cblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdHJlYWxUb3A6IHRoaXMucHJvcHMudG9wIC0gKCR3cmFwcGVyLm91dGVySGVpZ2h0KCkvMilcblx0XHR9KTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtyZWY6IFwid3JhcHBlclwiLCBjbGFzc05hbWU6IFwid3AtcG9pbnRlciB3cC1wb2ludGVyLWxlZnRcIiwgc3R5bGU6IHtwb3NpdGlvbjogJ2Fic29sdXRlJywgd2lkdGg6IHRoaXMucHJvcHMud2lkdGgsIHRvcDogdGhpcy5zdGF0ZS5yZWFsVG9wLCBsZWZ0OiB0aGlzLnByb3BzLmxlZnQsIHpJbmRleDogOTk5OX19LCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcIndwLXBvaW50ZXItY29udGVudFwifSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIHRoaXMucHJvcHMudGl0bGUpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCBudWxsLCB0aGlzLnByb3BzLmNoaWxkcmVuKVxuXHRcdFx0XHQpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcIndwLXBvaW50ZXItYXJyb3dcIn0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ3cC1wb2ludGVyLWFycm93LWlubmVyXCJ9KVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gVG9vbHRpcDsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdy5SZWFjdCA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwuUmVhY3QgOiBudWxsKSxcblx0V2VsY29tZVByb2dyZXNzQmFyID0gcmVxdWlyZSgnLi93ZWxjb21lLXByb2dyZXNzLWJhcicpLFxuXHRTZXR1cFByb2dyZXNzQWN0aW9ucyA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvc2V0dXAtcHJvZ3Jlc3MtYWN0aW9ucycpO1xuXG52YXIgc3RlcFNoYXBlID0gUmVhY3QuUHJvcFR5cGVzLnNoYXBlKHtcblx0bmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuXHRzbHVnOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXG59KTtcblxuLyoqXG4gKiBUaGUgbWVudSB3aGljaCBhbGxvd3MgdGhlIHVzZXIgdG8gc3dpdGNoIHN0ZXBzXG4gKiovXG52YXIgV2VsY29tZU1lbnUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiV2VsY29tZU1lbnVcIixcblx0XG5cdHByb3BUeXBlczoge1xuXHRcdGN1cnJlbnRTdGVwOiBzdGVwU2hhcGUuaXNSZXF1aXJlZCxcblx0XHRjbGlja2FibGU6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuXHRcdGFsbFN0ZXBzOiBSZWFjdC5Qcm9wVHlwZXMuYXJyYXlPZihzdGVwU2hhcGUpLmlzUmVxdWlyZWQsXG5cdFx0cHJvZ3Jlc3NQZXJjZW50OiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcblx0fSxcblxuXHRnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRjbGlja2FibGU6IHRydWVcblx0XHR9O1xuXHR9LFxuXG5cdHNlbGVjdFN0ZXA6IGZ1bmN0aW9uKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XG5cdFx0dmFyIHNsdWcgPSBqUXVlcnkoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCdzdGVwLXNsdWcnKTtcblxuXHRcdFNldHVwUHJvZ3Jlc3NBY3Rpb25zLnNldEN1cnJlbnRTdGVwKHNsdWcpO1xuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgbWVudUl0ZW1zID0gdGhpcy5wcm9wcy5hbGxTdGVwcy5tYXAoZnVuY3Rpb24gKCBzdGVwICkge1xuXHRcdFx0dmFyIHRpdGxlLCBjdXJyZW50LCBzdGF0dXMsIG1lbnVWaWV3O1xuXG5cdFx0XHRpZiAoIHRoaXMucHJvcHMuY2xpY2thYmxlICYmIHRoaXMucHJvcHMuY3VycmVudFN0ZXAgKSB7XG5cdFx0XHRcdGN1cnJlbnQgPSAoIHRoaXMucHJvcHMuY3VycmVudFN0ZXAuc2x1ZyA9PSBzdGVwLnNsdWcgKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCAhc3RlcC5zdGF0aWMgJiYgdGhpcy5wcm9wcy5jbGlja2FibGUgKSB7XG5cdFx0XHRcdHRpdGxlID0gUmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge2hyZWY6IFwiI1wiLCBcImRhdGEtc3RlcC1zbHVnXCI6IHN0ZXAuc2x1Zywgb25DbGljazogdGhpcy5zZWxlY3RTdGVwfSwgc3RlcC5uYW1lKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRpdGxlID0gc3RlcC5uYW1lO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHN0ZXAubWVudVZpZXcgKSB7XG5cdFx0XHRcdG1lbnVWaWV3ID0gUmVhY3QuY3JlYXRlRWxlbWVudChzdGVwLm1lbnVWaWV3LCBudWxsKTtcblx0XHRcdH1cblxuXHRcdFx0c3RhdHVzID0gc3RlcC5jb21wbGV0ZWQgPyAnY29tcGxldGVkJyA6ICcnO1xuXHRcdFx0XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwge2tleTogc3RlcC5zbHVnLCBjbGFzc05hbWU6IHN0YXR1cyArIChjdXJyZW50ID8gJyBjdXJyZW50JyA6ICcnKX0sIFxuXHRcdFx0XHRcdHRpdGxlLCBcIiBcIiwgc3RlcC5za2lwcGVkID8gJyhza2lwcGVkKScgOiBudWxsLCBcblx0XHRcdFx0XHRtZW51Vmlld1xuXHRcdFx0XHQpXG5cdFx0XHQpO1xuXHRcdH0uYmluZCh0aGlzKSApO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJnZXR0aW5nLXN0YXJ0ZWRfX3N0ZXBzXCJ9LCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIFwiWW91ciBQcm9ncmVzc1wiKSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoV2VsY29tZVByb2dyZXNzQmFyLCB7cHJvZ3Jlc3NQZXJjZW50OiB0aGlzLnByb3BzLnByb2dyZXNzUGVyY2VudH0pXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpLCBcblx0XHRcdFx0XG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJvbFwiLCBudWxsLCBcblx0XHRcdFx0XHRtZW51SXRlbXNcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFdlbGNvbWVNZW51OyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93LlJlYWN0IDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbC5SZWFjdCA6IG51bGwpO1xuXG4vKipcbiAqIFNob3cgcHJvZ3Jlc3MgdGhyb3VnaCB0aGUgc3RlcHNcbiAqIE5PVEU6IHByb2dyZXNzUGVyY2VudCBNVVNUIGJlIHJvdW5kZWQgdG8gdGhlIG5lYXJlc3QgMTAsIGkuZS4gMTAsIDIwLCAzMCwgNDAuLi4xMDBcbiAqIFRoaXMgaXMgcmVxdWlyZWQgZm9yIHRoZSBDU1MgdG8gd29yayAod2lsbCBmaXggbGF0ZXIuLi4pXG4gKiovXG52YXIgUHJvZ3Jlc3NCYXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiUHJvZ3Jlc3NCYXJcIixcblxuXHRwcm9wVHlwZXM6IHtcblx0XHRwcm9ncmVzc1BlcmNlbnQ6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGNsYXNzZXMgPSAnZ2V0dGluZy1zdGFydGVkX19wcm9ncmVzcyBwcm9ncmVzc18nK3RoaXMucHJvcHMucHJvZ3Jlc3NQZXJjZW50O1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IGNsYXNzZXN9LCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcInByb2dyZXNzX19iYXJcIn0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwpXG5cdFx0XHRcdCksIFxuXHRcdFx0XHR0aGlzLnByb3BzLnByb2dyZXNzUGVyY2VudCwgXCIlIGNvbXBsZXRlXCJcblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBQcm9ncmVzc0JhcjsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdy5SZWFjdCA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwuUmVhY3QgOiBudWxsKSxcblx0V2VsY29tZU1lbnUgPSByZXF1aXJlKCcuL3dlbGNvbWUtbWVudScpLFxuXHRTZXR1cFByb2dyZXNzU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2V0dXAtcHJvZ3Jlc3Mtc3RvcmUnKSxcblx0U2V0dXBQcm9ncmVzc0FjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3NldHVwLXByb2dyZXNzLWFjdGlvbnMnKSxcblx0Rmxhc2ggPSByZXF1aXJlKCcuL2ZsYXNoJyksXG5cdEdldFN0YXJ0ZWQgPSByZXF1aXJlKCcuL2dldC1zdGFydGVkJyksXG5cdFNwaW5uZXJTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zcGlubmVyLXN0b3JlJyksXG5cdFNwaW5uZXJBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zcGlubmVyLWFjdGlvbnMnKSxcblx0RGF0YVN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL2RhdGEtc3RvcmUnKTtcblxuZnVuY3Rpb24gZ2V0U2V0dXBQcm9ncmVzcygpIHtcblx0cmV0dXJuIHsgXG5cdFx0bmV3VXNlcjogU2V0dXBQcm9ncmVzc1N0b3JlLmlzTmV3VXNlcigpLCBcblx0XHRzaG93U3Bpbm5lcjogU3Bpbm5lclN0b3JlLnNob3dpbmcoKSwgXG5cdFx0c3Bpbm5lck1lc3NhZ2U6IFNwaW5uZXJTdG9yZS5nZXRNZXNzYWdlKCksIFxuXHRcdGN1cnJlbnRTdGVwOiBTZXR1cFByb2dyZXNzU3RvcmUuZ2V0Q3VycmVudFN0ZXAoKSwgXG5cdFx0YWxsU3RlcHM6IFNldHVwUHJvZ3Jlc3NTdG9yZS5nZXRBbGxTdGVwcygpLCBcblx0XHRwcm9ncmVzc1BlcmNlbnQ6IFNldHVwUHJvZ3Jlc3NTdG9yZS5nZXRQcm9ncmVzc1BlcmNlbnQoKSBcblx0fTtcbn1cblxuLy8gVE9ETzogdmlzdWFsIFwic2F2aW5nXCIgZm9yIHRoaXMuc3RhdGUuc2F2aW5nXG52YXIgV2VsY29tZVdpZGdldCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJXZWxjb21lV2lkZ2V0XCIsXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTZXR1cFByb2dyZXNzU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHRcdFNwaW5uZXJTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vblNwaW5uZXJDaGFuZ2UpO1xuXHRcdERhdGFTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkRhdGFDaGFuZ2UpO1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTZXR1cFByb2dyZXNzU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHRcdFNwaW5uZXJTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vblNwaW5uZXJDaGFuZ2UpO1xuXHRcdERhdGFTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkRhdGFDaGFuZ2UpO1xuXHR9LFxuXG5cdF9vbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgXHR0aGlzLnNldFN0YXRlKGdldFNldHVwUHJvZ3Jlc3MoKSk7XG4gIFx0fSxcblxuICBcdF9vblNwaW5uZXJDaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICBcdFx0dGhpcy5zZXRTdGF0ZSh7IHNob3dTcGlubmVyOiBTcGlubmVyU3RvcmUuc2hvd2luZygpLCBzcGlubmVyTWVzc2FnZTogU3Bpbm5lclN0b3JlLmdldE1lc3NhZ2UoKSB9KTtcbiAgXHR9LFxuXG4gIFx0X29uRGF0YUNoYW5nZTogZnVuY3Rpb24oKSB7XG4gIFx0XHR0aGlzLnNldFN0YXRlKHsgc2F2aW5nOiBEYXRhU3RvcmUuaXNTYXZpbmcoKSB9KTtcbiAgXHR9LFxuXG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGdldFNldHVwUHJvZ3Jlc3MoKTtcblx0fSxcblxuXHRoYW5kbGVSZXNldDogZnVuY3Rpb24oIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFNldHVwUHJvZ3Jlc3NBY3Rpb25zLnJlc2V0RGF0YSgpO1xuXHR9LFxuXG5cdGhhbmRsZVNob3dTcGlubmVyOiBmdW5jdGlvbiAoIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFNwaW5uZXJBY3Rpb25zLnNob3coXCJUZXN0aW5nIHNwaW5uZXJcIik7XG5cdH0sXG5cblx0aGFuZGxlSGlkZVNwaW5uZXI6IGZ1bmN0aW9uICggZSApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0U3Bpbm5lckFjdGlvbnMuaGlkZSgpO1xuXHR9LFxuXG4gIFx0cmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwiZ2V0dGluZy1zdGFydGVkXCJ9LCBcblx0XHRcdFx0dGhpcy5fcmVuZGVyRGVidWcoKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJnZXR0aW5nLXN0YXJ0ZWRfX3dyYXBwZXJcIn0sIFxuXHRcdFx0XHRcdHRoaXMuX3JlbmRlclNwaW5uZXIoKSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcImdldHRpbmctc3RhcnRlZF9fc2VjdGlvbnNcIn0sIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChGbGFzaCwgbnVsbCksIFxuXHRcdFx0XHRcdFx0dGhpcy5fcmVuZGVyU2VjdGlvbigpXG5cdFx0XHRcdFx0KSwgXG5cblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFdlbGNvbWVNZW51LCB7Y2xpY2thYmxlOiAhdGhpcy5zdGF0ZS5uZXdVc2VyLCBjdXJyZW50U3RlcDogdGhpcy5zdGF0ZS5jdXJyZW50U3RlcCwgYWxsU3RlcHM6IHRoaXMuc3RhdGUuYWxsU3RlcHMsIHByb2dyZXNzUGVyY2VudDogdGhpcy5zdGF0ZS5wcm9ncmVzc1BlcmNlbnR9KSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcImNsZWFyXCJ9KVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KTtcblx0fSxcblxuXHRfcmVuZGVyU2VjdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCB0aGlzLnN0YXRlLm5ld1VzZXIgKSB7XG4gIFx0XHRcdHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChHZXRTdGFydGVkLCBudWxsKSk7XG4gIFx0XHR9IGVsc2Uge1xuICBcdFx0XHRyZXR1cm4gdGhpcy5fcmVuZGVyQ3VycmVudFZpZXcoKTtcbiAgXHRcdH1cblx0fSxcblxuXHRfcmVuZGVyRGVidWc6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggSlBTLmRlYnVnICkge1xuICBcdFx0XHRyZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgXG4gIFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge2hyZWY6IFwiI1wiLCBjbGFzc05hbWU6IFwiYnV0dG9uXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlUmVzZXR9LCBcIlJlc2V0IFdpemFyZFwiKSwgXG4gIFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge2hyZWY6IFwiI1wiLCBjbGFzc05hbWU6IFwiYnV0dG9uXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlU2hvd1NwaW5uZXJ9LCBcIlNob3cgc3Bpbm5lclwiKSwgXG4gIFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge2hyZWY6IFwiI1wiLCBjbGFzc05hbWU6IFwiYnV0dG9uXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlSGlkZVNwaW5uZXJ9LCBcIkhpZGUgc3Bpbm5lclwiKVxuICBcdFx0XHQpKTtcbiAgXHRcdH0gZWxzZSB7XG4gIFx0XHRcdHJldHVybiBudWxsO1xuICBcdFx0fVxuXHR9LFxuXG5cdF9yZW5kZXJTcGlubmVyOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoIHRoaXMuc3RhdGUuc2hvd1NwaW5uZXIgKSB7XG4gIFx0XHRcdHJldHVybiAoXG4gIFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcImxvYWRpbmdcIn0sIFxuICBcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcImxvYWRpbmdfX21lc3NhZ2VcIn0sIFxuICBcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIHtzcmM6IFwiL3dwLWFkbWluL2ltYWdlcy9zcGlubmVyLTJ4LmdpZlwiLCB3aWR0aDogXCIxNnB4XCIsIGhlaWdodDogXCIxNnB4XCJ9KSwgXG4gIFx0XHRcdFx0XHRcdFwiwqDCoFwiLCB0aGlzLnN0YXRlLnNwaW5uZXJNZXNzYWdlXG4gIFx0XHRcdFx0XHQpXG4gIFx0XHRcdFx0KVxuICBcdFx0XHQpO1xuXG4gIFx0XHR9IGVsc2Uge1xuICBcdFx0XHRyZXR1cm4gbnVsbDtcbiAgXHRcdH1cblx0fSxcblxuXHRfcmVuZGVyQ3VycmVudFZpZXc6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggdGhpcy5zdGF0ZS5jdXJyZW50U3RlcCApIHtcbiAgXHRcdFx0cmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KHRoaXMuc3RhdGUuY3VycmVudFN0ZXAud2VsY29tZVZpZXcsIG51bGwpKTtcbiAgXHRcdH0gZWxzZSB7XG4gIFx0XHRcdHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiTm90aGluZ1wiKSk7XG4gIFx0XHR9XG5cdH0sXG5cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFdlbGNvbWVXaWRnZXQ7IiwidmFyIGtleU1pcnJvciA9IHJlcXVpcmUoJ2tleW1pcnJvcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGtleU1pcnJvcih7XG5cdFNURVBfQ09NUExFVEU6IG51bGwsXG5cdFNURVBfR0VUX1NUQVJURUQ6IG51bGwsXG5cdFNURVBfU0VMRUNUOiBudWxsLFxuXHRTVEVQX05FWFQ6IG51bGwsXG5cdFNURVBfU0tJUDogbnVsbCxcblx0U0lURV9TRVRfVElUTEU6IG51bGwsXG5cdFNJVEVfU0VUX0RFU0NSSVBUSU9OOiBudWxsLFxuXHRTSVRFX1NBVkVfVElUTEVfQU5EX0RFU0NSSVBUSU9OOiBudWxsLFxuXHRTSVRFX1NFVF9USEVNRTogbnVsbCxcblx0U0lURV9JTlNUQUxMX1RIRU1FOiBudWxsLFxuXHRTSVRFX0pFVFBBQ0tfQ09ORklHVVJFRDogbnVsbCxcblx0U0lURV9KRVRQQUNLX01PRFVMRV9FTkFCTEVEOiBudWxsLFxuXHRTSVRFX0pFVFBBQ0tfTU9EVUxFX0RJU0FCTEVEOiBudWxsLFxuXHRTSVRFX0pFVFBBQ0tfSlVNUFNUQVJUX0VOQUJMRUQ6IG51bGwsXG5cdFNJVEVfSkVUUEFDS19BRERfTU9EVUxFUzogbnVsbCxcblx0U0lURV9TRVRfTEFZT1VUOiBudWxsLFxuXG5cdFNBVkVfU1RBUlRFRDogbnVsbCxcblx0U0FWRV9GSU5JU0hFRDogbnVsbCxcblxuXHRTRVRfRkxBU0g6IG51bGwsXG5cdFVOU0VUX0ZMQVNIOiBudWxsLFxuXHRGTEFTSF9TRVZFUklUWV9OT1RJQ0U6IG51bGwsXG5cdEZMQVNIX1NFVkVSSVRZX0VSUk9SOiBudWxsLFxuXG5cdFJFU0VUX0RBVEE6IG51bGwsXG5cblx0U0hPV19TUElOTkVSOiBudWxsLFxuXHRISURFX1NQSU5ORVI6IG51bGxcbn0pOyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHQvLyBzdGVwc1xuXHRTSVRFX1RJVExFX1NURVBfU0xVRzogJ3RpdGxlJyxcblx0TEFZT1VUX1NURVBfU0xVRzogJ2xheW91dCcsXG5cdFRSQUZGSUNfU1RFUF9TTFVHOiAndHJhZmZpYycsXG5cdFNUQVRTX01PTklUT1JJTkdfU1RFUF9TTFVHOiAnc3RhdHMtbW9uaXRvcmluZycsXG5cdERFU0lHTl9TVEVQX1NMVUc6ICdkZXNpZ24nLFxuXHRBRFZBTkNFRF9TVEVQX1NMVUc6ICdhZHZhbmNlZCcsXG5cdEpFVFBBQ0tfTU9EVUxFU19TVEVQX1NMVUc6ICdqZXRwYWNrJ1xufTsiLCIvKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBBcHBEaXNwYXRjaGVyXG4gKlxuICogQSBzaW5nbGV0b24gdGhhdCBvcGVyYXRlcyBhcyB0aGUgY2VudHJhbCBodWIgZm9yIGFwcGxpY2F0aW9uIHVwZGF0ZXMuXG4gKi9cblxudmFyIERpc3BhdGNoZXIgPSByZXF1aXJlKCdmbHV4JykuRGlzcGF0Y2hlcjtcblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgRGlzcGF0Y2hlcigpOyIsInZhciBXZWxjb21lUGFuZWwgPSByZXF1aXJlKCcuL3dlbGNvbWUtcGFuZWwnKTtcblxuV2VsY29tZVBhbmVsKCk7IiwidmFyIEFwcERpc3BhdGNoZXIgPSByZXF1aXJlKCcuLi9kaXNwYXRjaGVyL2FwcC1kaXNwYXRjaGVyJyksXG5cdEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcixcblx0SlBTQ29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtY29uc3RhbnRzJyk7XG5cbi8qXG4gKiBUaGlzIGlzIGEgcmVmY291bnRlZCBzYXZlIG1vbml0b3Igd2hpY2ggd2FybnMgaWYgeW91IHRyeSB0byBsZWF2ZSB0aGUgcGFnZSB3aGlsZSB0aGUgZGF0YSBpcyBzdGlsbCBzYXZpbmdcbiAqL1xuXG52YXIgX2N1cnJlbnRTYXZlcyA9IDAsIGpwc1RpbWVvdXQsIENIQU5HRV9FVkVOVCA9ICdjaGFuZ2UnO1xuXG5qUXVlcnkod2luZG93KS5vbignYmVmb3JldW5sb2FkJywgZnVuY3Rpb24oKSB7XG5cdGlmKERhdGFTdG9yZS5pc1NhdmluZygpKSB7XG5cdFx0anBzVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgLy8gYWxlcnQoJ1lvdSBzdGF5ZWQnKTtcblx0ICAgICAgICAvLyBub29wXG5cdCAgICB9LCAxMDAwKTtcblx0ICAgIHJldHVybiBcIllvdXIgc2l0ZSBjaGFuZ2VzIGFyZSBzdGlsbCBzYXZpbmcuXCI7XG5cdH1cbn0pO1xuXG5qUXVlcnkod2luZG93KS5vbigndW5sb2FkJywgZnVuY3Rpb24oKSB7XG5cdGNsZWFyVGltZW91dChqcHNUaW1lb3V0KTtcbn0pO1xuXG5mdW5jdGlvbiBpbmNyZW1lbnRTYXZlQ291bnRlcigpIHtcblx0X2N1cnJlbnRTYXZlcyA9IF9jdXJyZW50U2F2ZXMgKyAxO1xufVxuXG5mdW5jdGlvbiBkZWNyZW1lbnRTYXZlQ291bnRlcigpIHtcblx0X2N1cnJlbnRTYXZlcyA9IF9jdXJyZW50U2F2ZXMgLSAxO1xufVxuXG52YXIgRGF0YVN0b3JlID0gXy5leHRlbmQoe30sIEV2ZW50RW1pdHRlci5wcm90b3R5cGUsIHtcblx0aXNTYXZpbmc6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBfY3VycmVudFNhdmVzID4gMDtcblx0fSxcblxuXHRhZGRDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0XHR0aGlzLm9uKENIQU5HRV9FVkVOVCwgY2FsbGJhY2spO1xuXHR9LFxuXG5cdHJlbW92ZUNoYW5nZUxpc3RlbmVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRcdHRoaXMucmVtb3ZlTGlzdGVuZXIoQ0hBTkdFX0VWRU5ULCBjYWxsYmFjayk7XG5cdH0sXG5cblx0ZW1pdENoYW5nZTogZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLmVtaXQoQ0hBTkdFX0VWRU5UKTtcblx0fSxcbn0pO1xuXG5BcHBEaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuXG4gIHN3aXRjaChhY3Rpb24uYWN0aW9uVHlwZSkge1xuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNBVkVfU1RBUlRFRDpcbiAgICBcdGluY3JlbWVudFNhdmVDb3VudGVyKCk7XG5cdFx0RGF0YVN0b3JlLmVtaXRDaGFuZ2UoKTtcblx0XHRicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNBVkVfRklOSVNIRUQ6XG4gICAgXHRkZWNyZW1lbnRTYXZlQ291bnRlcigpO1xuICAgICBcdERhdGFTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgIFx0YnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgLy8gbm8gb3BcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gRGF0YVN0b3JlOyIsInZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuXHRFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXIsXG5cdEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LWNvbnN0YW50cycpO1xuXG52YXIgQ0hBTkdFX0VWRU5UID0gJ2NoYW5nZSc7XG52YXIgbWVzc2FnZSwgc2V2ZXJpdHk7XG5cbmZ1bmN0aW9uIHNldEZsYXNoKG5ld01lc3NhZ2UsIG5ld1NldmVyaXR5KSB7XG5cdG1lc3NhZ2UgPSBuZXdNZXNzYWdlO1xuXHRzZXZlcml0eSA9IG5ld1NldmVyaXR5O1xufVxuXG52YXIgRmxhc2hTdG9yZSA9IF8uZXh0ZW5kKHt9LCBFdmVudEVtaXR0ZXIucHJvdG90eXBlLCB7XG5cdGdldEZsYXNoOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgc2V2ZXJpdHlTdHJpbmc7XG5cblx0XHRzd2l0Y2goc2V2ZXJpdHkpIHtcblx0XHRcdGNhc2UgSlBTQ29uc3RhbnRzLkZMQVNIX1NFVkVSSVRZX0VSUk9SOlxuXHRcdFx0XHRzZXZlcml0eVN0cmluZyA9ICdlcnJvcic7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBKUFNDb25zdGFudHMuRkxBU0hfU0VWRVJJVFlfTk9USUNFOlxuXHRcdFx0XHRzZXZlcml0eVN0cmluZyA9ICdub3RpY2UnO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdC8vbm9vcFxuXHRcdH1cblx0XHRyZXR1cm4ge21lc3NhZ2U6IG1lc3NhZ2UsIHNldmVyaXR5OiBzZXZlcml0eVN0cmluZ307XG5cblx0fSxcblxuXHRhZGRDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0XHR0aGlzLm9uKENIQU5HRV9FVkVOVCwgY2FsbGJhY2spO1xuXHR9LFxuXG5cdHJlbW92ZUNoYW5nZUxpc3RlbmVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRcdHRoaXMucmVtb3ZlTGlzdGVuZXIoQ0hBTkdFX0VWRU5ULCBjYWxsYmFjayk7XG5cdH0sXG5cblx0ZW1pdENoYW5nZTogZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLmVtaXQoQ0hBTkdFX0VWRU5UKTtcblx0fSxcbn0pO1xuXG5BcHBEaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuXG4gIHN3aXRjaChhY3Rpb24uYWN0aW9uVHlwZSkge1xuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNFVF9GTEFTSDpcblx0XHRzZXRGbGFzaChhY3Rpb24ubWVzc2FnZSwgYWN0aW9uLnNldmVyaXR5KTtcblx0XHRGbGFzaFN0b3JlLmVtaXRDaGFuZ2UoKTtcblx0XHRicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlVOU0VUX0ZMQVNIOlxuICAgICBcdHNldEZsYXNoKG51bGwsIG51bGwpO1xuICAgICBcdEZsYXNoU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICBcdGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIG5vIG9wXG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZsYXNoU3RvcmU7IiwiLypcbiAqIFN0b3JlIHdoaWNoIG1hbmFnZXMgYW5kIHBlcnNpc3RzIHNldHVwIHdpemFyZCBwcm9ncmVzc1xuICovXG5cbnZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuICBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXIsXG4gIEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LWNvbnN0YW50cycpO1xuXG52YXIgQ0hBTkdFX0VWRU5UID0gJ2NoYW5nZSc7XG5cbnZhciBfc3RlcHMsIF9zdGFydGVkID0gSlBTLnN0YXJ0ZWQ7IFxuXG5mdW5jdGlvbiBzZXRTdGVwcyhzdGVwcykge1xuXG4gIC8vIHNldCB0aGUgY29tcGxldGlvbiBzdGF0dXMgb2YgZWFjaCBzdGVwIHRvIHRoZSBzYXZlZCB2YWx1ZXNcbiAgc3RlcHMuZm9yRWFjaCggZnVuY3Rpb24oc3RlcCkge1xuICAgIFxuICAgIC8vIGRlZmF1bHQgdmFsdWVzIGZvciBza2lwcGVkLCBjb21wbGV0ZWQgYW5kIHN0YXRpY1xuICAgIGlmICggdHlwZW9mKCBzdGVwLmNvbXBsZXRlZCApID09PSAndW5kZWZpbmVkJyApIHtcbiAgICAgIHN0ZXAuY29tcGxldGVkID0gKEpQUy5zdGVwX3N0YXR1c1tzdGVwLnNsdWddICYmIEpQUy5zdGVwX3N0YXR1c1tzdGVwLnNsdWddLmNvbXBsZXRlZCkgfHwgZmFsc2U7ICBcbiAgICB9XG5cbiAgICBpZiAoIHR5cGVvZiggc3RlcC5za2lwcGVkICkgPT09ICd1bmRlZmluZWQnICkge1xuICAgICAgc3RlcC5za2lwcGVkID0gKEpQUy5zdGVwX3N0YXR1c1tzdGVwLnNsdWddICYmIEpQUy5zdGVwX3N0YXR1c1tzdGVwLnNsdWddLnNraXBwZWQpIHx8IGZhbHNlOyAgXG4gICAgfVxuXG4gICAgaWYgKCB0eXBlb2YoIHN0ZXAuc3RhdGljICkgPT09ICd1bmRlZmluZWQnICkge1xuICAgICAgc3RlcC5zdGF0aWMgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBkZWZhdWx0IHZhbHVlIGZvciBpbmNsdWRlSW5Qcm9ncmVzc1xuICAgIGlmICggdHlwZW9mKCBzdGVwLmluY2x1ZGVJblByb2dyZXNzICkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBzdGVwLmluY2x1ZGVJblByb2dyZXNzID0gdHJ1ZTtcbiAgICB9XG4gIH0pOyBcbiAgXG4gIF9zdGVwcyA9IHN0ZXBzO1xuICBcbiAgLy8gc2V0IGxvY2F0aW9uIHRvIGZpcnN0IHBlbmRpbmcgc3RlcCwgaWYgbm90IHNldFxuICBlbnN1cmVWYWxpZFN0ZXBTbHVnKCk7IFxufVxuXG5mdW5jdGlvbiBnZXRTdGFydGVkKCkge1xuICBfc3RhcnRlZCA9IHRydWU7XG4gIHNlbGVjdE5leHRQZW5kaW5nU3RlcCgpO1xufVxuXG5mdW5jdGlvbiBjb21wbGV0ZShzdGVwU2x1Zykge1xuICB2YXIgc3RlcCA9IGdldFN0ZXBGcm9tU2x1ZyhzdGVwU2x1Zyk7XG4gIHN0ZXAuY29tcGxldGVkID0gdHJ1ZTtcbiAgc3RlcC5za2lwcGVkID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHNraXAoKSB7XG4gIHZhciBzdGVwU2x1ZyA9IGN1cnJlbnRTdGVwU2x1ZygpO1xuICB2YXIgc3RlcCA9IGdldFN0ZXBGcm9tU2x1ZyhzdGVwU2x1Zyk7XG4gIHN0ZXAuc2tpcHBlZCA9IHRydWU7XG4gIHNlbGVjdE5leHRQZW5kaW5nU3RlcCgpO1xufVxuXG5mdW5jdGlvbiBnZXRTdGVwRnJvbVNsdWcoIHN0ZXBTbHVnICkge1xuICB2YXIgY3VycmVudFN0ZXAgPSBudWxsO1xuICBfLmVhY2goIF9zdGVwcywgZnVuY3Rpb24oIHN0ZXAgKSB7XG4gICAgaWYoIHN0ZXAuc2x1ZyA9PT0gc3RlcFNsdWcgKSB7XG4gICAgICBjdXJyZW50U3RlcCA9IHN0ZXA7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGN1cnJlbnRTdGVwO1xufVxuXG5mdW5jdGlvbiBlbnN1cmVWYWxpZFN0ZXBTbHVnKCkge1xuICB2YXIgc3RlcFNsdWcgPSBjdXJyZW50U3RlcFNsdWcoKTtcbiAgaWYgKCAhICggc3RlcFNsdWcgJiYgZ2V0U3RlcEZyb21TbHVnKCBzdGVwU2x1ZyApICkgKSB7XG4gICAgc2VsZWN0TmV4dFBlbmRpbmdTdGVwKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2VsZWN0TmV4dFBlbmRpbmdTdGVwKCkge1xuICB2YXIgcGVuZGluZ1N0ZXAgPSBfLmZpbmRXaGVyZSggX3N0ZXBzLCB7IGNvbXBsZXRlZDogZmFsc2UsIHNraXBwZWQ6IGZhbHNlIH0gKTtcbiAgaWYgKCBwZW5kaW5nU3RlcCAhPT0gbnVsbCApIHtcbiAgICBzZWxlY3QocGVuZGluZ1N0ZXAuc2x1Zyk7IC8vIGFsc28gc2V0cyB0aGUgd2luZG93IGxvY2F0aW9uIGhhc2hcbiAgfVxufVxuXG5mdW5jdGlvbiBjdXJyZW50U3RlcFNsdWcoKSB7XG4gIGlmICggd2luZG93LmxvY2F0aW9uLmhhc2guaW5kZXhPZignI3dlbGNvbWUvc3RlcHMnKSA9PT0gMCApIHtcbiAgICB2YXIgcGFydHMgPSB3aW5kb3cubG9jYXRpb24uaGFzaC5zcGxpdCgnLycpO1xuICAgIHZhciBzdGVwU2x1ZyA9IHBhcnRzW3BhcnRzLmxlbmd0aC0xXTtcbiAgICByZXR1cm4gc3RlcFNsdWc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2VsZWN0KHN0ZXBTbHVnKSB7XG4gIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gJ3dlbGNvbWUvc3RlcHMvJytzdGVwU2x1Zztcbn1cblxuLy9yZXNldCBldmVyeXRoaW5nIGJhY2sgdG8gZGVmYXVsdHNcbmZ1bmN0aW9uIHJlc2V0KCkge1xuICBKUFMuc3RlcF9zdGF0dXMgPSB7fTtcbiAgXy53aGVyZSggX3N0ZXBzLCB7IHN0YXRpYzogZmFsc2V9ICkuZm9yRWFjaCggZnVuY3Rpb24gKCBzdGVwICkgeyBcbiAgICBzdGVwLmNvbXBsZXRlZCA9IGZhbHNlO1xuICAgIHN0ZXAuc2tpcHBlZCA9IGZhbHNlO1xuICB9ICk7XG4gIF9zdGFydGVkID0gZmFsc2U7XG59XG5cbnZhciBTZXR1cFByb2dyZXNzU3RvcmUgPSBfLmV4dGVuZCh7fSwgRXZlbnRFbWl0dGVyLnByb3RvdHlwZSwge1xuXG4gIGluaXQ6IGZ1bmN0aW9uKHN0ZXBzKSB7XG4gICAgc2V0U3RlcHMoc3RlcHMpO1xuICB9LFxuXG4gIGdldEFsbFN0ZXBzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gX3N0ZXBzO1xuICB9LFxuXG4gIGlzTmV3VXNlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICFfc3RhcnRlZDtcbiAgfSxcblxuICBlbWl0Q2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmVtaXQoIENIQU5HRV9FVkVOVCApO1xuICB9LFxuXG4gIGdldEN1cnJlbnRTdGVwOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZ2V0U3RlcEZyb21TbHVnKCBjdXJyZW50U3RlcFNsdWcoKSApO1xuICB9LFxuXG4gIGdldFN0ZXBGcm9tU2x1ZzogZnVuY3Rpb24oc2x1Zykge1xuICAgIHJldHVybiBnZXRTdGVwRnJvbVNsdWcoIHNsdWcgKTtcbiAgfSxcblxuICBnZXRQcm9ncmVzc1BlcmNlbnQ6IGZ1bmN0aW9uKCkge1xuICBcdHZhciBudW1TdGVwcyA9IF8ud2hlcmUoIF9zdGVwcywgeyBpbmNsdWRlSW5Qcm9ncmVzczogdHJ1ZSB9ICkubGVuZ3RoO1xuICAgIHZhciBjb21wbGV0ZWRTdGVwcyA9IF8ud2hlcmUoIF9zdGVwcywgeyBpbmNsdWRlSW5Qcm9ncmVzczogdHJ1ZSwgY29tcGxldGVkOiB0cnVlIH0gKS5sZW5ndGg7XG4gICAgdmFyIHBlcmNlbnRDb21wbGV0ZSA9IChjb21wbGV0ZWRTdGVwcyAvIG51bVN0ZXBzKSAqIDkwICsgMTA7XG4gICAgdmFyIG91dHB1dCA9IE1hdGgucm91bmQocGVyY2VudENvbXBsZXRlIC8gMTApICogMTA7XG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfSxcblxuICBhZGRDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICB0aGlzLm9uKCBDSEFOR0VfRVZFTlQsIGNhbGxiYWNrICk7XG4gIH0sXG5cbiAgcmVtb3ZlQ2hhbmdlTGlzdGVuZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lciggQ0hBTkdFX0VWRU5ULCBjYWxsYmFjayApO1xuICB9XG59KTtcblxuLy8gUmVnaXN0ZXIgY2FsbGJhY2sgdG8gaGFuZGxlIGFsbCB1cGRhdGVzXG5BcHBEaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuICBcbiAgc3dpdGNoKGFjdGlvbi5hY3Rpb25UeXBlKSB7XG4gICAgY2FzZSBKUFNDb25zdGFudHMuU1RFUF9HRVRfU1RBUlRFRDpcbiAgICAgIGdldFN0YXJ0ZWQoKTtcbiAgICAgIFNldHVwUHJvZ3Jlc3NTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNURVBfU0VMRUNUOlxuICAgICAgc2VsZWN0KGFjdGlvbi5zbHVnKTtcbiAgICAgIFNldHVwUHJvZ3Jlc3NTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNURVBfTkVYVDpcbiAgICAgIHNlbGVjdE5leHRQZW5kaW5nU3RlcCgpO1xuICAgICAgU2V0dXBQcm9ncmVzc1N0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU1RFUF9DT01QTEVURTpcbiAgICAgIGNvbXBsZXRlKGFjdGlvbi5zbHVnKTtcbiAgICAgIFNldHVwUHJvZ3Jlc3NTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNURVBfQ09NUExFVEVfQU5EX05FWFQ6XG4gICAgICBjb21wbGV0ZShhY3Rpb24uc2x1Zyk7XG4gICAgICBzZWxlY3ROZXh0UGVuZGluZ1N0ZXAoKTtcbiAgICAgIFNldHVwUHJvZ3Jlc3NTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlJFU0VUX0RBVEE6XG4gICAgICByZXNldCgpO1xuICAgICAgU2V0dXBQcm9ncmVzc1N0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU1RFUF9TS0lQOlxuICAgICAgc2tpcCgpO1xuICAgICAgU2V0dXBQcm9ncmVzc1N0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIG5vIG9wXG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNldHVwUHJvZ3Jlc3NTdG9yZTsiLCIvKlxuICogU3RvcmUgd2hpY2ggbWFuYWdlcyBhbmQgcGVyc2lzdHMgc2l0ZSBpbmZvcm1hdGlvblxuICovXG5cbnZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuICBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXIsXG4gIEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LWNvbnN0YW50cycpLFxuICBXUEFqYXggPSByZXF1aXJlKCcuLi91dGlscy93cC1hamF4Jyk7XG5cbnZhciBDSEFOR0VfRVZFTlQgPSAnY2hhbmdlJztcblxudmFyIGxheW91dCA9IEpQUy5zdGVwcy5sYXlvdXQuY3VycmVudDtcblxuZnVuY3Rpb24gc2V0VGl0bGUobmV3VGl0bGUpIHtcblx0SlBTLmJsb2dpbmZvLm5hbWUgPSBuZXdUaXRsZTtcbn1cblxuZnVuY3Rpb24gc2V0RGVzY3JpcHRpb24obmV3RGVzY3JpcHRpb24pIHtcbiAgSlBTLmJsb2dpbmZvLmRlc2NyaXB0aW9uID0gbmV3RGVzY3JpcHRpb247IFxufVxuXG5mdW5jdGlvbiBzZXRBY3RpdmVUaGVtZShhY3RpdmVUaGVtZUlkKSB7XG4gIEpQUy50aGVtZXMuZm9yRWFjaCggZnVuY3Rpb24oIHRoZW1lICkge1xuICAgIGlmICggdGhlbWUuaWQgPT0gYWN0aXZlVGhlbWVJZCApIHtcbiAgICAgIHRoZW1lLmFjdGl2ZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoZW1lLmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgfSApO1xufVxuXG5mdW5jdGlvbiBpbnN0YWxsZWRUaGVtZSh0aGVtZSkge1xuICBKUFMudGhlbWVzLnVuc2hpZnQodGhlbWUpO1xuICBKUFMudGhlbWVzID0gSlBTLnRoZW1lcy5zbGljZSgwLCAzKTtcbn1cblxuZnVuY3Rpb24gc2V0SmV0cGFja01vZHVsZUFjdGl2YXRlZChzbHVnKSB7XG4gIGlmICggXy5pbmRleE9mKCBKUFMuamV0cGFjay5hY3RpdmVfbW9kdWxlcywgc2x1ZyApID09PSAtMSApIHtcbiAgICBKUFMuamV0cGFjay5hY3RpdmVfbW9kdWxlcy5wdXNoKHNsdWcpOyAgXG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0SmV0cGFja01vZHVsZURlY3RpdmF0ZWQoc2x1Zykge1xuICB2YXIgaW5kZXggPSBfLmluZGV4T2YoIEpQUy5qZXRwYWNrLmFjdGl2ZV9tb2R1bGVzLCBzbHVnICk7XG4gIGlmICggaW5kZXggPj0gMCkge1xuICAgIEpQUy5qZXRwYWNrLmFjdGl2ZV9tb2R1bGVzLnNwbGljZShpbmRleCwgMSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0SmV0cGFja0FkZGl0aW9uYWxNb2R1bGVzKG1vZHVsZXMpIHtcbiAgSlBTLmpldHBhY2suYWRkaXRpb25hbF9tb2R1bGVzID0gXy5maWx0ZXIobW9kdWxlcywgZnVuY3Rpb24obW9kdWxlKSB7XG4gICAgcmV0dXJuIF8uaW5kZXhPZihKUFMuamV0cGFjay5qdW1wc3RhcnRfbW9kdWxlcy5tYXAoZnVuY3Rpb24obW9kKXtyZXR1cm4gbW9kLnNsdWc7fSksIG1vZHVsZS5zbHVnKSA9PSAtMTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNldExheW91dChsYXlvdXROYW1lKSB7XG4gIGxheW91dCA9IGxheW91dE5hbWU7IC8vIFhYWCBUT0RPOiBnZXQgdGhpcyB2YWx1ZSBkeW5hbWljYWxseSBmcm9tIHRoZSBzZXJ2ZXIhXG59XG5cbmZ1bmN0aW9uIHNldEpldHBhY2tDb25maWd1cmVkKCkge1xuICBKUFMuamV0cGFjay5jb25maWd1cmVkID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gc2V0SmV0cGFja0p1bXBzdGFydEFjdGl2YXRlZCgpIHtcbiAgSlBTLmpldHBhY2suanVtcHN0YXJ0X21vZHVsZXMuZm9yRWFjaCggZnVuY3Rpb24oIG1vZHVsZSApIHtcbiAgICBzZXRKZXRwYWNrTW9kdWxlQWN0aXZhdGVkKCBtb2R1bGUuc2x1ZyApO1xuICB9KTtcbn1cblxudmFyIFNpdGVTdG9yZSA9IF8uZXh0ZW5kKHt9LCBFdmVudEVtaXR0ZXIucHJvdG90eXBlLCB7XG5cbiAgZ2V0VGl0bGU6IGZ1bmN0aW9uKCkge1xuICBcdHJldHVybiBKUFMuYmxvZ2luZm8ubmFtZTtcbiAgfSxcblxuICBnZXREZXNjcmlwdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIEpQUy5ibG9naW5mby5kZXNjcmlwdGlvbjtcbiAgfSxcblxuICBnZXRUaGVtZXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBKUFMudGhlbWVzO1xuICB9LFxuXG4gIGdldEFjdGl2ZVRoZW1lSWQ6IGZ1bmN0aW9uKCkge1xuICAgIGZvcih2YXIgaT0wOyBpIDwgSlBTLnRoZW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHRoZW1lID0gSlBTLnRoZW1lc1tpXTtcbiAgICAgIGlmICggdGhlbWUuYWN0aXZlICkge1xuICAgICAgICByZXR1cm4gdGhlbWUuaWQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9LFxuXG4gIGdldEpldHBhY2tDb25maWd1cmVkOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gSlBTLmpldHBhY2suY29uZmlndXJlZDtcbiAgfSxcblxuICBnZXRBY3RpdmVNb2R1bGVTbHVnczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIEpQUy5qZXRwYWNrLmFjdGl2ZV9tb2R1bGVzO1xuICB9LFxuXG4gIGlzSmV0cGFja01vZHVsZUVuYWJsZWQ6IGZ1bmN0aW9uKHNsdWcpIHtcbiAgICByZXR1cm4gKCBfLmluZGV4T2YoIEpQUy5qZXRwYWNrLmFjdGl2ZV9tb2R1bGVzLCBzbHVnICkgPj0gMCApO1xuICB9LFxuXG4gIGdldEpldHBhY2tBZGRpdGlvbmFsTW9kdWxlczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIEpQUy5qZXRwYWNrLmFkZGl0aW9uYWxfbW9kdWxlcztcbiAgfSxcblxuICBnZXRKdW1wc3RhcnRNb2R1bGVTbHVnczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIEpQUy5qZXRwYWNrLmp1bXBzdGFydF9tb2R1bGVzLm1hcChmdW5jdGlvbihtb2R1bGUpIHsgcmV0dXJuIG1vZHVsZS5zbHVnOyB9KTtcbiAgfSxcblxuICBnZXRKdW1wc3RhcnRNb2R1bGVzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gSlBTLmpldHBhY2suanVtcHN0YXJ0X21vZHVsZXM7XG4gIH0sXG5cbiAgZ2V0UG9wdWxhclRoZW1lczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFdQQWpheC5wb3N0KEpQUy5zaXRlX2FjdGlvbnMuZ2V0X3BvcHVsYXJfdGhlbWVzKTtcbiAgfSxcblxuICBnZXRKZXRwYWNrSnVtcHN0YXJ0RW5hYmxlZDogZnVuY3Rpb24oKSB7XG4gICAgZm9yKHZhciBpPTA7IGkgPCBKUFMuamV0cGFjay5qdW1wc3RhcnRfbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG1vZHVsZSA9IEpQUy5qZXRwYWNrLmp1bXBzdGFydF9tb2R1bGVzW2ldO1xuICAgICAgaWYgKCAhIHRoaXMuaXNKZXRwYWNrTW9kdWxlRW5hYmxlZCggbW9kdWxlLnNsdWcgKSApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcblxuICBnZXRMYXlvdXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBsYXlvdXQ7XG4gIH0sXG5cbiAgZW1pdENoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5lbWl0KENIQU5HRV9FVkVOVCk7XG4gIH0sXG5cbiAgYWRkQ2hhbmdlTGlzdGVuZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5vbihDSEFOR0VfRVZFTlQsIGNhbGxiYWNrKTtcbiAgfSxcblxuICByZW1vdmVDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKENIQU5HRV9FVkVOVCwgY2FsbGJhY2spO1xuICB9XG59KTtcblxuLy8gUmVnaXN0ZXIgY2FsbGJhY2sgdG8gaGFuZGxlIGFsbCB1cGRhdGVzXG5BcHBEaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuXG4gIHN3aXRjaChhY3Rpb24uYWN0aW9uVHlwZSkge1xuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfU0VUX1RJVExFOlxuICAgICAgc2V0VGl0bGUoYWN0aW9uLnRpdGxlKTtcbiAgICAgIFNpdGVTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfU0VUX0RFU0NSSVBUSU9OOlxuICAgICAgc2V0RGVzY3JpcHRpb24oYWN0aW9uLmRlc2NyaXB0aW9uKTtcbiAgICAgIFNpdGVTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfU0VUX1RIRU1FOlxuICAgICAgc2V0QWN0aXZlVGhlbWUoYWN0aW9uLnRoZW1lSWQpO1xuICAgICAgU2l0ZVN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU0lURV9JTlNUQUxMX1RIRU1FOlxuICAgICAgaW5zdGFsbGVkVGhlbWUoYWN0aW9uLnRoZW1lKTtcbiAgICAgIFNpdGVTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfSkVUUEFDS19DT05GSUdVUkVEOlxuICAgICAgc2V0SmV0cGFja0NvbmZpZ3VyZWQoKTtcbiAgICAgIFNpdGVTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfSkVUUEFDS19BRERfTU9EVUxFUzpcbiAgICAgIHNldEpldHBhY2tBZGRpdGlvbmFsTW9kdWxlcyhhY3Rpb24ubW9kdWxlcyk7XG4gICAgICBTaXRlU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TSVRFX0pFVFBBQ0tfTU9EVUxFX0VOQUJMRUQ6XG4gICAgICBzZXRKZXRwYWNrTW9kdWxlQWN0aXZhdGVkKGFjdGlvbi5zbHVnKTtcbiAgICAgIFNpdGVTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfSkVUUEFDS19NT0RVTEVfRElTQUJMRUQ6XG4gICAgICBzZXRKZXRwYWNrTW9kdWxlRGVjdGl2YXRlZChhY3Rpb24uc2x1Zyk7XG4gICAgICBTaXRlU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TSVRFX0pFVFBBQ0tfSlVNUFNUQVJUX0VOQUJMRUQ6IFxuICAgICAgc2V0SmV0cGFja0p1bXBzdGFydEFjdGl2YXRlZCgpO1xuICAgICAgU2l0ZVN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU0lURV9TRVRfTEFZT1VUOlxuICAgICAgc2V0TGF5b3V0KGFjdGlvbi5sYXlvdXQpO1xuICAgICAgU2l0ZVN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIG5vIG9wXG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNpdGVTdG9yZTsiLCJ2YXIgQXBwRGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4uL2Rpc3BhdGNoZXIvYXBwLWRpc3BhdGNoZXInKSxcblx0RXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyLFxuXHRKUFNDb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1jb25zdGFudHMnKTtcblxudmFyIENIQU5HRV9FVkVOVCA9ICdjaGFuZ2UnO1xuXG52YXIgc3Bpbm5lckVuYWJsZWQgPSBmYWxzZSxcblx0c3Bpbm5lck1lc3NhZ2UgPSBudWxsO1xuXG5mdW5jdGlvbiBzaG93KG1lc3NhZ2UpIHtcblx0c3Bpbm5lckVuYWJsZWQgPSB0cnVlO1xuXHRzcGlubmVyTWVzc2FnZSA9IG1lc3NhZ2U7XG59XG5cbmZ1bmN0aW9uIGhpZGUoKSB7XG5cdHNwaW5uZXJFbmFibGVkID0gZmFsc2U7XG5cdHNwaW5uZXJNZXNzYWdlID0gbnVsbDtcbn1cblxudmFyIFNwaW5uZXJTdG9yZSA9IF8uZXh0ZW5kKHt9LCBFdmVudEVtaXR0ZXIucHJvdG90eXBlLCB7XG5cdHNob3dpbmc6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBzcGlubmVyRW5hYmxlZDtcblx0fSxcblxuXHRnZXRNZXNzYWdlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc3Bpbm5lck1lc3NhZ2U7XG5cdH0sXG5cblx0YWRkQ2hhbmdlTGlzdGVuZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdFx0dGhpcy5vbiggQ0hBTkdFX0VWRU5ULCBjYWxsYmFjayApO1xuXHR9LFxuXG5cdHJlbW92ZUNoYW5nZUxpc3RlbmVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRcdHRoaXMucmVtb3ZlTGlzdGVuZXIoIENIQU5HRV9FVkVOVCwgY2FsbGJhY2sgKTtcblx0fSxcblxuXHRlbWl0Q2hhbmdlOiBmdW5jdGlvbigpIHtcblx0ICAgIHRoaXMuZW1pdCggQ0hBTkdFX0VWRU5UICk7XG5cdH0sXG59KTtcblxuQXBwRGlzcGF0Y2hlci5yZWdpc3RlcihmdW5jdGlvbihhY3Rpb24pIHtcblxuICBzd2l0Y2goYWN0aW9uLmFjdGlvblR5cGUpIHtcbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TSE9XX1NQSU5ORVI6XG5cdFx0c2hvdyhhY3Rpb24ubWVzc2FnZSk7XG5cdFx0U3Bpbm5lclN0b3JlLmVtaXRDaGFuZ2UoKTtcblx0XHRicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLkhJREVfU1BJTk5FUjpcbiAgICAgXHRoaWRlKCk7XG4gICAgIFx0U3Bpbm5lclN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgXHRicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBubyBvcFxuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBTcGlubmVyU3RvcmU7IiwiLypcbiAqIEEgc2ltcGxlIHdyYXBwZXIgZm9yIGNhbGxzIHRvIFdQJ3MgXCJhamF4dXJsXCIuXG4gKlxuICogVGhpcyBleGlzdHMgYmVjYXVzZSBXUCdzIHdwX3NlbmRfanNvbl9lcnJvciBkb2Vzbid0IGFjdHVhbGx5IHNlbmQgYW4gZXJyb3IgY29kZSwgYnV0IHJhdGhlclxuICogYSAyMDAgT0sgcmVzcG9uc2Ugd2l0aCBhIHN0cnVjdHVyZSBsaWtlIHRoaXM6XG4gKiB7c3VjY2VzczogZmFsc2UsIGRhdGE6IFwic29tZXRoaW5nIHdlbnQgd3JvbmdcIn1cbiAqXG4gKiBTbyB0aGlzIGNsYXNzIHNtb290aGVzIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gNTB4IGVycm9ycyBhbmQgV1AncyBlcnJvciBvYmplY3QuXG4gKlxuICogRm9yIGNvbnZlbmllbmNlLCB0aGlzIHJldHVybnMgYSBqUXVlcnkuRGVmZXJyZWQgb2JqZWN0IHdoaWNoIGNhbiBoYXZlIC5kb25lKCkgXG4gKiBhbmQgLmZhaWwoKSBtZXRob2RzIGNoYWluZWQgb250byBpdCwgc2ltaWxhciB0byBqUXVlcnkucG9zdCdzIFwic3VjY2Vzc1wiIGFuZCBcImZhaWxcIlxuICpcbiAqIEFsc28sIGl0IGFjY2VwdHMgYW4gXCJhY3Rpb25cIiBwYXJhbSBpbnN0ZWFkIG9mIGEgVVJMLCBzaW5jZSBhbGwgV1AgYWpheCByZXF1ZXN0c1xuICogYWN0dWFsbHkgZ28gdmlhIHRoZSBzYW1lIFVSTCB3aXRoIGRpZmZlcmVudCBwYXJhbWV0ZXJzLCBhbmQgaXQgaW52b2tlcyBjYWxsYmFja3Mgd2l0aFxuICoganVzdCB0aGUgXCJkYXRhXCIgcG9ydGlvbiBvZiBXUCdzIGFqYXggcGF5bG9hZCwgcmF0aGVyIHRoYW4gdGhlIHdob2xlIHN0cnVjdHVyZS5cbiAqIFxuICoqL1xuXG52YXIgRGF0YUFjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL2RhdGEtYWN0aW9ucycpO1xuXG52YXIgV1BBamF4ID0gKGZ1bmN0aW9uKCkge1xuXG5cdHJldHVybiB7XG5cdFx0cG9zdDogZnVuY3Rpb24oYWN0aW9uLCBwYXlsb2FkKSB7XG5cdFx0XHRwYXlsb2FkID0gdHlwZW9mIHBheWxvYWQgIT09ICd1bmRlZmluZWQnID8gcGF5bG9hZCA6IHt9O1xuXHRcdFx0dmFyIGRhdGEgPSBfLmV4dGVuZChwYXlsb2FkLCB7YWN0aW9uOiBhY3Rpb24sIG5vbmNlOiBKUFMubm9uY2V9KTtcblx0XHRcdFxuXHRcdFx0dmFyIGRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCk7XG5cblx0XHRcdERhdGFBY3Rpb25zLnJlcXVlc3RTdGFydGVkKCk7XG5cblx0XHRcdGpRdWVyeS5wb3N0KCBhamF4dXJsLCBkYXRhIClcblx0XHRcdFx0LnN1Y2Nlc3MoIGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblx0XHRcdFx0XHRpZiAoICEgcmVzcG9uc2Uuc3VjY2VzcyApIHtcblx0XHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdChyZXNwb25zZS5kYXRhKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShyZXNwb25zZS5kYXRhKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5mYWlsKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoXCJTZXJ2ZXIgZXJyb3JcIik7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5hbHdheXMoIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHREYXRhQWN0aW9ucy5yZXF1ZXN0RmluaXNoZWQoKTtcblx0XHRcdFx0fSk7XHRcblxuXHRcdFx0cmV0dXJuIGRlZmVycmVkO1xuXHRcdH1cblx0fTtcblxufSkoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBXUEFqYXg7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cuUmVhY3QgOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsLlJlYWN0IDogbnVsbCksXG4gICAgV2VsY29tZVdpZGdldCA9IHJlcXVpcmUoJy4vY29tcG9uZW50cy93ZWxjb21lLXdpZGdldCcpLFxuICAgIFBhdGhzID0gcmVxdWlyZSgnLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1wYXRocycpLFxuICAgIFNldHVwUHJvZ3Jlc3NTdG9yZSA9IHJlcXVpcmUoJy4vc3RvcmVzL3NldHVwLXByb2dyZXNzLXN0b3JlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgalF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG5cbiAgICBcdFNldHVwUHJvZ3Jlc3NTdG9yZS5pbml0KFtcbiAgICBcdFx0Ly8gTk9URTogWW91IGNhbiBoYXZlIFwic3RhdGljOiB0cnVlXCIgdG8gaW5jbHVkZSB1bi1jbGlja2FibGUgXG4gICAgXHRcdC8vIHByZWZpbGxlZCBzdGVwcyB0aGF0IGFjdCBhcyB0aG91Z2ggdGhleSd2ZSBhbHJlYWR5IGJlZW4gY29tcGxldGVkXG5cdFx0XHQvLyB7XG5cdFx0XHQvLyBcdG5hbWU6IFwiU2lnbiB1cFwiLFxuXHRcdFx0Ly8gXHRjb21wbGV0ZWQ6IHRydWUsXG5cdFx0XHQvLyBcdHN0YXRpYzogdHJ1ZVxuXHRcdFx0Ly8gfSxcblx0XHRcdHtcblx0XHRcdFx0bmFtZTogJ1NpdGUgdGl0bGUnLFxuXHRcdFx0XHRzbHVnOiBQYXRocy5TSVRFX1RJVExFX1NURVBfU0xVRyxcblx0XHRcdFx0d2VsY29tZVZpZXc6IHJlcXVpcmUoJy4vY29tcG9uZW50cy9zaXRlLXRpdGxlLXN0ZXAnKVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0bmFtZTogJ1BpY2sgYSBsYXlvdXQnLFxuXHRcdFx0XHRzbHVnOiBQYXRocy5MQVlPVVRfU1RFUF9TTFVHLFxuXHRcdFx0XHR3ZWxjb21lVmlldzogcmVxdWlyZSgnLi9jb21wb25lbnRzL2xheW91dC1zdGVwJylcblx0XHRcdH0sXG5cdFx0XHR7IFxuXHRcdFx0XHRuYW1lOiBcIlBpY2sgYSBkZXNpZ25cIiwgXG5cdFx0XHRcdHNsdWc6IFBhdGhzLkRFU0lHTl9TVEVQX1NMVUcsXG5cdFx0XHRcdHdlbGNvbWVWaWV3OiByZXF1aXJlKCcuL2NvbXBvbmVudHMvZGVzaWduLXN0ZXAnKSwgXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRuYW1lOiAnRW5hYmxlIG1vZHVsZXMnLFxuXHRcdFx0XHRzbHVnOiBQYXRocy5KRVRQQUNLX01PRFVMRVNfU1RFUF9TTFVHLFxuXHRcdFx0XHR3ZWxjb21lVmlldzogcmVxdWlyZSgnLi9jb21wb25lbnRzL2pldHBhY2stanVtcHN0YXJ0LXN0ZXAnKSxcblx0XHRcdFx0bWVudVZpZXc6IHJlcXVpcmUoJy4vY29tcG9uZW50cy9qZXRwYWNrLWp1bXBzdGFydC1tZW51Jylcblx0XHRcdH0sXG5cdFx0XHR7IFxuXHRcdFx0XHRuYW1lOiBcIkFkdmFuY2VkIHNldHRpbmdzXCIsIFxuXHRcdFx0XHRzbHVnOiBQYXRocy5BRFZBTkNFRF9TVEVQX1NMVUcsXG5cdFx0XHRcdHdlbGNvbWVWaWV3OiByZXF1aXJlKCcuL2NvbXBvbmVudHMvYWR2YW5jZWQtc2V0dGluZ3Mtc3RlcCcpLFxuXHRcdFx0XHRpbmNsdWRlSW5Qcm9ncmVzczogZmFsc2Vcblx0XHRcdH1cblx0XHRdKTtcblxuICAgICAgICBSZWFjdC5yZW5kZXIoXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChXZWxjb21lV2lkZ2V0LCB7fSksIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqcHMtd2VsY29tZS1wYW5lbCcpXG4gICAgICAgICk7XG4gICAgfSk7XG59OyIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cy5EaXNwYXRjaGVyID0gcmVxdWlyZSgnLi9saWIvRGlzcGF0Y2hlcicpXG4iLCIvKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIERpc3BhdGNoZXJcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCcuL2ludmFyaWFudCcpO1xuXG52YXIgX2xhc3RJRCA9IDE7XG52YXIgX3ByZWZpeCA9ICdJRF8nO1xuXG4vKipcbiAqIERpc3BhdGNoZXIgaXMgdXNlZCB0byBicm9hZGNhc3QgcGF5bG9hZHMgdG8gcmVnaXN0ZXJlZCBjYWxsYmFja3MuIFRoaXMgaXNcbiAqIGRpZmZlcmVudCBmcm9tIGdlbmVyaWMgcHViLXN1YiBzeXN0ZW1zIGluIHR3byB3YXlzOlxuICpcbiAqICAgMSkgQ2FsbGJhY2tzIGFyZSBub3Qgc3Vic2NyaWJlZCB0byBwYXJ0aWN1bGFyIGV2ZW50cy4gRXZlcnkgcGF5bG9hZCBpc1xuICogICAgICBkaXNwYXRjaGVkIHRvIGV2ZXJ5IHJlZ2lzdGVyZWQgY2FsbGJhY2suXG4gKiAgIDIpIENhbGxiYWNrcyBjYW4gYmUgZGVmZXJyZWQgaW4gd2hvbGUgb3IgcGFydCB1bnRpbCBvdGhlciBjYWxsYmFja3MgaGF2ZVxuICogICAgICBiZWVuIGV4ZWN1dGVkLlxuICpcbiAqIEZvciBleGFtcGxlLCBjb25zaWRlciB0aGlzIGh5cG90aGV0aWNhbCBmbGlnaHQgZGVzdGluYXRpb24gZm9ybSwgd2hpY2hcbiAqIHNlbGVjdHMgYSBkZWZhdWx0IGNpdHkgd2hlbiBhIGNvdW50cnkgaXMgc2VsZWN0ZWQ6XG4gKlxuICogICB2YXIgZmxpZ2h0RGlzcGF0Y2hlciA9IG5ldyBEaXNwYXRjaGVyKCk7XG4gKlxuICogICAvLyBLZWVwcyB0cmFjayBvZiB3aGljaCBjb3VudHJ5IGlzIHNlbGVjdGVkXG4gKiAgIHZhciBDb3VudHJ5U3RvcmUgPSB7Y291bnRyeTogbnVsbH07XG4gKlxuICogICAvLyBLZWVwcyB0cmFjayBvZiB3aGljaCBjaXR5IGlzIHNlbGVjdGVkXG4gKiAgIHZhciBDaXR5U3RvcmUgPSB7Y2l0eTogbnVsbH07XG4gKlxuICogICAvLyBLZWVwcyB0cmFjayBvZiB0aGUgYmFzZSBmbGlnaHQgcHJpY2Ugb2YgdGhlIHNlbGVjdGVkIGNpdHlcbiAqICAgdmFyIEZsaWdodFByaWNlU3RvcmUgPSB7cHJpY2U6IG51bGx9XG4gKlxuICogV2hlbiBhIHVzZXIgY2hhbmdlcyB0aGUgc2VsZWN0ZWQgY2l0eSwgd2UgZGlzcGF0Y2ggdGhlIHBheWxvYWQ6XG4gKlxuICogICBmbGlnaHREaXNwYXRjaGVyLmRpc3BhdGNoKHtcbiAqICAgICBhY3Rpb25UeXBlOiAnY2l0eS11cGRhdGUnLFxuICogICAgIHNlbGVjdGVkQ2l0eTogJ3BhcmlzJ1xuICogICB9KTtcbiAqXG4gKiBUaGlzIHBheWxvYWQgaXMgZGlnZXN0ZWQgYnkgYENpdHlTdG9yZWA6XG4gKlxuICogICBmbGlnaHREaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAqICAgICBpZiAocGF5bG9hZC5hY3Rpb25UeXBlID09PSAnY2l0eS11cGRhdGUnKSB7XG4gKiAgICAgICBDaXR5U3RvcmUuY2l0eSA9IHBheWxvYWQuc2VsZWN0ZWRDaXR5O1xuICogICAgIH1cbiAqICAgfSk7XG4gKlxuICogV2hlbiB0aGUgdXNlciBzZWxlY3RzIGEgY291bnRyeSwgd2UgZGlzcGF0Y2ggdGhlIHBheWxvYWQ6XG4gKlxuICogICBmbGlnaHREaXNwYXRjaGVyLmRpc3BhdGNoKHtcbiAqICAgICBhY3Rpb25UeXBlOiAnY291bnRyeS11cGRhdGUnLFxuICogICAgIHNlbGVjdGVkQ291bnRyeTogJ2F1c3RyYWxpYSdcbiAqICAgfSk7XG4gKlxuICogVGhpcyBwYXlsb2FkIGlzIGRpZ2VzdGVkIGJ5IGJvdGggc3RvcmVzOlxuICpcbiAqICAgIENvdW50cnlTdG9yZS5kaXNwYXRjaFRva2VuID0gZmxpZ2h0RGlzcGF0Y2hlci5yZWdpc3RlcihmdW5jdGlvbihwYXlsb2FkKSB7XG4gKiAgICAgaWYgKHBheWxvYWQuYWN0aW9uVHlwZSA9PT0gJ2NvdW50cnktdXBkYXRlJykge1xuICogICAgICAgQ291bnRyeVN0b3JlLmNvdW50cnkgPSBwYXlsb2FkLnNlbGVjdGVkQ291bnRyeTtcbiAqICAgICB9XG4gKiAgIH0pO1xuICpcbiAqIFdoZW4gdGhlIGNhbGxiYWNrIHRvIHVwZGF0ZSBgQ291bnRyeVN0b3JlYCBpcyByZWdpc3RlcmVkLCB3ZSBzYXZlIGEgcmVmZXJlbmNlXG4gKiB0byB0aGUgcmV0dXJuZWQgdG9rZW4uIFVzaW5nIHRoaXMgdG9rZW4gd2l0aCBgd2FpdEZvcigpYCwgd2UgY2FuIGd1YXJhbnRlZVxuICogdGhhdCBgQ291bnRyeVN0b3JlYCBpcyB1cGRhdGVkIGJlZm9yZSB0aGUgY2FsbGJhY2sgdGhhdCB1cGRhdGVzIGBDaXR5U3RvcmVgXG4gKiBuZWVkcyB0byBxdWVyeSBpdHMgZGF0YS5cbiAqXG4gKiAgIENpdHlTdG9yZS5kaXNwYXRjaFRva2VuID0gZmxpZ2h0RGlzcGF0Y2hlci5yZWdpc3RlcihmdW5jdGlvbihwYXlsb2FkKSB7XG4gKiAgICAgaWYgKHBheWxvYWQuYWN0aW9uVHlwZSA9PT0gJ2NvdW50cnktdXBkYXRlJykge1xuICogICAgICAgLy8gYENvdW50cnlTdG9yZS5jb3VudHJ5YCBtYXkgbm90IGJlIHVwZGF0ZWQuXG4gKiAgICAgICBmbGlnaHREaXNwYXRjaGVyLndhaXRGb3IoW0NvdW50cnlTdG9yZS5kaXNwYXRjaFRva2VuXSk7XG4gKiAgICAgICAvLyBgQ291bnRyeVN0b3JlLmNvdW50cnlgIGlzIG5vdyBndWFyYW50ZWVkIHRvIGJlIHVwZGF0ZWQuXG4gKlxuICogICAgICAgLy8gU2VsZWN0IHRoZSBkZWZhdWx0IGNpdHkgZm9yIHRoZSBuZXcgY291bnRyeVxuICogICAgICAgQ2l0eVN0b3JlLmNpdHkgPSBnZXREZWZhdWx0Q2l0eUZvckNvdW50cnkoQ291bnRyeVN0b3JlLmNvdW50cnkpO1xuICogICAgIH1cbiAqICAgfSk7XG4gKlxuICogVGhlIHVzYWdlIG9mIGB3YWl0Rm9yKClgIGNhbiBiZSBjaGFpbmVkLCBmb3IgZXhhbXBsZTpcbiAqXG4gKiAgIEZsaWdodFByaWNlU3RvcmUuZGlzcGF0Y2hUb2tlbiA9XG4gKiAgICAgZmxpZ2h0RGlzcGF0Y2hlci5yZWdpc3RlcihmdW5jdGlvbihwYXlsb2FkKSB7XG4gKiAgICAgICBzd2l0Y2ggKHBheWxvYWQuYWN0aW9uVHlwZSkge1xuICogICAgICAgICBjYXNlICdjb3VudHJ5LXVwZGF0ZSc6XG4gKiAgICAgICAgICAgZmxpZ2h0RGlzcGF0Y2hlci53YWl0Rm9yKFtDaXR5U3RvcmUuZGlzcGF0Y2hUb2tlbl0pO1xuICogICAgICAgICAgIEZsaWdodFByaWNlU3RvcmUucHJpY2UgPVxuICogICAgICAgICAgICAgZ2V0RmxpZ2h0UHJpY2VTdG9yZShDb3VudHJ5U3RvcmUuY291bnRyeSwgQ2l0eVN0b3JlLmNpdHkpO1xuICogICAgICAgICAgIGJyZWFrO1xuICpcbiAqICAgICAgICAgY2FzZSAnY2l0eS11cGRhdGUnOlxuICogICAgICAgICAgIEZsaWdodFByaWNlU3RvcmUucHJpY2UgPVxuICogICAgICAgICAgICAgRmxpZ2h0UHJpY2VTdG9yZShDb3VudHJ5U3RvcmUuY291bnRyeSwgQ2l0eVN0b3JlLmNpdHkpO1xuICogICAgICAgICAgIGJyZWFrO1xuICogICAgIH1cbiAqICAgfSk7XG4gKlxuICogVGhlIGBjb3VudHJ5LXVwZGF0ZWAgcGF5bG9hZCB3aWxsIGJlIGd1YXJhbnRlZWQgdG8gaW52b2tlIHRoZSBzdG9yZXMnXG4gKiByZWdpc3RlcmVkIGNhbGxiYWNrcyBpbiBvcmRlcjogYENvdW50cnlTdG9yZWAsIGBDaXR5U3RvcmVgLCB0aGVuXG4gKiBgRmxpZ2h0UHJpY2VTdG9yZWAuXG4gKi9cblxuICBmdW5jdGlvbiBEaXNwYXRjaGVyKCkge1xuICAgIHRoaXMuJERpc3BhdGNoZXJfY2FsbGJhY2tzID0ge307XG4gICAgdGhpcy4kRGlzcGF0Y2hlcl9pc1BlbmRpbmcgPSB7fTtcbiAgICB0aGlzLiREaXNwYXRjaGVyX2lzSGFuZGxlZCA9IHt9O1xuICAgIHRoaXMuJERpc3BhdGNoZXJfaXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuICAgIHRoaXMuJERpc3BhdGNoZXJfcGVuZGluZ1BheWxvYWQgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBhIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgd2l0aCBldmVyeSBkaXNwYXRjaGVkIHBheWxvYWQuIFJldHVybnNcbiAgICogYSB0b2tlbiB0aGF0IGNhbiBiZSB1c2VkIHdpdGggYHdhaXRGb3IoKWAuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIERpc3BhdGNoZXIucHJvdG90eXBlLnJlZ2lzdGVyPWZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgdmFyIGlkID0gX3ByZWZpeCArIF9sYXN0SUQrKztcbiAgICB0aGlzLiREaXNwYXRjaGVyX2NhbGxiYWNrc1tpZF0gPSBjYWxsYmFjaztcbiAgICByZXR1cm4gaWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBjYWxsYmFjayBiYXNlZCBvbiBpdHMgdG9rZW4uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgKi9cbiAgRGlzcGF0Y2hlci5wcm90b3R5cGUudW5yZWdpc3Rlcj1mdW5jdGlvbihpZCkge1xuICAgIGludmFyaWFudChcbiAgICAgIHRoaXMuJERpc3BhdGNoZXJfY2FsbGJhY2tzW2lkXSxcbiAgICAgICdEaXNwYXRjaGVyLnVucmVnaXN0ZXIoLi4uKTogYCVzYCBkb2VzIG5vdCBtYXAgdG8gYSByZWdpc3RlcmVkIGNhbGxiYWNrLicsXG4gICAgICBpZFxuICAgICk7XG4gICAgZGVsZXRlIHRoaXMuJERpc3BhdGNoZXJfY2FsbGJhY2tzW2lkXTtcbiAgfTtcblxuICAvKipcbiAgICogV2FpdHMgZm9yIHRoZSBjYWxsYmFja3Mgc3BlY2lmaWVkIHRvIGJlIGludm9rZWQgYmVmb3JlIGNvbnRpbnVpbmcgZXhlY3V0aW9uXG4gICAqIG9mIHRoZSBjdXJyZW50IGNhbGxiYWNrLiBUaGlzIG1ldGhvZCBzaG91bGQgb25seSBiZSB1c2VkIGJ5IGEgY2FsbGJhY2sgaW5cbiAgICogcmVzcG9uc2UgdG8gYSBkaXNwYXRjaGVkIHBheWxvYWQuXG4gICAqXG4gICAqIEBwYXJhbSB7YXJyYXk8c3RyaW5nPn0gaWRzXG4gICAqL1xuICBEaXNwYXRjaGVyLnByb3RvdHlwZS53YWl0Rm9yPWZ1bmN0aW9uKGlkcykge1xuICAgIGludmFyaWFudChcbiAgICAgIHRoaXMuJERpc3BhdGNoZXJfaXNEaXNwYXRjaGluZyxcbiAgICAgICdEaXNwYXRjaGVyLndhaXRGb3IoLi4uKTogTXVzdCBiZSBpbnZva2VkIHdoaWxlIGRpc3BhdGNoaW5nLidcbiAgICApO1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBpZHMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICB2YXIgaWQgPSBpZHNbaWldO1xuICAgICAgaWYgKHRoaXMuJERpc3BhdGNoZXJfaXNQZW5kaW5nW2lkXSkge1xuICAgICAgICBpbnZhcmlhbnQoXG4gICAgICAgICAgdGhpcy4kRGlzcGF0Y2hlcl9pc0hhbmRsZWRbaWRdLFxuICAgICAgICAgICdEaXNwYXRjaGVyLndhaXRGb3IoLi4uKTogQ2lyY3VsYXIgZGVwZW5kZW5jeSBkZXRlY3RlZCB3aGlsZSAnICtcbiAgICAgICAgICAnd2FpdGluZyBmb3IgYCVzYC4nLFxuICAgICAgICAgIGlkXG4gICAgICAgICk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaW52YXJpYW50KFxuICAgICAgICB0aGlzLiREaXNwYXRjaGVyX2NhbGxiYWNrc1tpZF0sXG4gICAgICAgICdEaXNwYXRjaGVyLndhaXRGb3IoLi4uKTogYCVzYCBkb2VzIG5vdCBtYXAgdG8gYSByZWdpc3RlcmVkIGNhbGxiYWNrLicsXG4gICAgICAgIGlkXG4gICAgICApO1xuICAgICAgdGhpcy4kRGlzcGF0Y2hlcl9pbnZva2VDYWxsYmFjayhpZCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBEaXNwYXRjaGVzIGEgcGF5bG9hZCB0byBhbGwgcmVnaXN0ZXJlZCBjYWxsYmFja3MuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXlsb2FkXG4gICAqL1xuICBEaXNwYXRjaGVyLnByb3RvdHlwZS5kaXNwYXRjaD1mdW5jdGlvbihwYXlsb2FkKSB7XG4gICAgaW52YXJpYW50KFxuICAgICAgIXRoaXMuJERpc3BhdGNoZXJfaXNEaXNwYXRjaGluZyxcbiAgICAgICdEaXNwYXRjaC5kaXNwYXRjaCguLi4pOiBDYW5ub3QgZGlzcGF0Y2ggaW4gdGhlIG1pZGRsZSBvZiBhIGRpc3BhdGNoLidcbiAgICApO1xuICAgIHRoaXMuJERpc3BhdGNoZXJfc3RhcnREaXNwYXRjaGluZyhwYXlsb2FkKTtcbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy4kRGlzcGF0Y2hlcl9jYWxsYmFja3MpIHtcbiAgICAgICAgaWYgKHRoaXMuJERpc3BhdGNoZXJfaXNQZW5kaW5nW2lkXSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuJERpc3BhdGNoZXJfaW52b2tlQ2FsbGJhY2soaWQpO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLiREaXNwYXRjaGVyX3N0b3BEaXNwYXRjaGluZygpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogSXMgdGhpcyBEaXNwYXRjaGVyIGN1cnJlbnRseSBkaXNwYXRjaGluZy5cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIERpc3BhdGNoZXIucHJvdG90eXBlLmlzRGlzcGF0Y2hpbmc9ZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuJERpc3BhdGNoZXJfaXNEaXNwYXRjaGluZztcbiAgfTtcblxuICAvKipcbiAgICogQ2FsbCB0aGUgY2FsbGJhY2sgc3RvcmVkIHdpdGggdGhlIGdpdmVuIGlkLiBBbHNvIGRvIHNvbWUgaW50ZXJuYWxcbiAgICogYm9va2tlZXBpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIERpc3BhdGNoZXIucHJvdG90eXBlLiREaXNwYXRjaGVyX2ludm9rZUNhbGxiYWNrPWZ1bmN0aW9uKGlkKSB7XG4gICAgdGhpcy4kRGlzcGF0Y2hlcl9pc1BlbmRpbmdbaWRdID0gdHJ1ZTtcbiAgICB0aGlzLiREaXNwYXRjaGVyX2NhbGxiYWNrc1tpZF0odGhpcy4kRGlzcGF0Y2hlcl9wZW5kaW5nUGF5bG9hZCk7XG4gICAgdGhpcy4kRGlzcGF0Y2hlcl9pc0hhbmRsZWRbaWRdID0gdHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IHVwIGJvb2trZWVwaW5nIG5lZWRlZCB3aGVuIGRpc3BhdGNoaW5nLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gcGF5bG9hZFxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIERpc3BhdGNoZXIucHJvdG90eXBlLiREaXNwYXRjaGVyX3N0YXJ0RGlzcGF0Y2hpbmc9ZnVuY3Rpb24ocGF5bG9hZCkge1xuICAgIGZvciAodmFyIGlkIGluIHRoaXMuJERpc3BhdGNoZXJfY2FsbGJhY2tzKSB7XG4gICAgICB0aGlzLiREaXNwYXRjaGVyX2lzUGVuZGluZ1tpZF0gPSBmYWxzZTtcbiAgICAgIHRoaXMuJERpc3BhdGNoZXJfaXNIYW5kbGVkW2lkXSA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLiREaXNwYXRjaGVyX3BlbmRpbmdQYXlsb2FkID0gcGF5bG9hZDtcbiAgICB0aGlzLiREaXNwYXRjaGVyX2lzRGlzcGF0Y2hpbmcgPSB0cnVlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDbGVhciBib29ra2VlcGluZyB1c2VkIGZvciBkaXNwYXRjaGluZy5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBEaXNwYXRjaGVyLnByb3RvdHlwZS4kRGlzcGF0Y2hlcl9zdG9wRGlzcGF0Y2hpbmc9ZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kRGlzcGF0Y2hlcl9wZW5kaW5nUGF5bG9hZCA9IG51bGw7XG4gICAgdGhpcy4kRGlzcGF0Y2hlcl9pc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG4gIH07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBEaXNwYXRjaGVyO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgaW52YXJpYW50XG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbnZhciBpbnZhcmlhbnQgPSBmdW5jdGlvbihjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICBpZiAoZmFsc2UpIHtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIHZhciBlcnJvcjtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICAnTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArXG4gICAgICAgICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLidcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICAnSW52YXJpYW50IFZpb2xhdGlvbjogJyArXG4gICAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107IH0pXG4gICAgICApO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbkV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKG4pIHtcbiAgaWYgKCFpc051bWJlcihuKSB8fCBuIDwgMCB8fCBpc05hTihuKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGVyLCBoYW5kbGVyLCBsZW4sIGFyZ3MsIGksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmICh0eXBlID09PSAnZXJyb3InKSB7XG4gICAgaWYgKCF0aGlzLl9ldmVudHMuZXJyb3IgfHxcbiAgICAgICAgKGlzT2JqZWN0KHRoaXMuX2V2ZW50cy5lcnJvcikgJiYgIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKSB7XG4gICAgICBlciA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgICAgfVxuICAgICAgdGhyb3cgVHlwZUVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgXCJlcnJvclwiIGV2ZW50LicpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzVW5kZWZpbmVkKGhhbmRsZXIpKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgLy8gZmFzdCBjYXNlc1xuICAgICAgY2FzZSAxOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gc2xvd2VyXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICBhcmdzID0gbmV3IEFycmF5KGxlbiAtIDEpO1xuICAgICAgICBmb3IgKGkgPSAxOyBpIDwgbGVuOyBpKyspXG4gICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIGhhbmRsZXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGhhbmRsZXIpKSB7XG4gICAgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBhcmdzID0gbmV3IEFycmF5KGxlbiAtIDEpO1xuICAgIGZvciAoaSA9IDE7IGkgPCBsZW47IGkrKylcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuXG4gICAgbGlzdGVuZXJzID0gaGFuZGxlci5zbGljZSgpO1xuICAgIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKVxuICAgICAgbGlzdGVuZXJzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIG07XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJcIi5cbiAgaWYgKHRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lcilcbiAgICB0aGlzLmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgaXNGdW5jdGlvbihsaXN0ZW5lci5saXN0ZW5lcikgP1xuICAgICAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgZWxzZSBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlXG4gICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gW3RoaXMuX2V2ZW50c1t0eXBlXSwgbGlzdGVuZXJdO1xuXG4gIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pICYmICF0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkKSB7XG4gICAgdmFyIG07XG4gICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLl9tYXhMaXN0ZW5lcnMpKSB7XG4gICAgICBtID0gdGhpcy5fbWF4TGlzdGVuZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gICAgfVxuXG4gICAgaWYgKG0gJiYgbSA+IDAgJiYgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCA+IG0pIHtcbiAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQgPSB0cnVlO1xuICAgICAgY29uc29sZS5lcnJvcignKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgJyArXG4gICAgICAgICAgICAgICAgICAgICdsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAnVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuJyxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCk7XG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUudHJhY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gbm90IHN1cHBvcnRlZCBpbiBJRSAxMFxuICAgICAgICBjb25zb2xlLnRyYWNlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIHZhciBmaXJlZCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGcoKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBnKTtcblxuICAgIGlmICghZmlyZWQpIHtcbiAgICAgIGZpcmVkID0gdHJ1ZTtcbiAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG5cbiAgZy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICB0aGlzLm9uKHR5cGUsIGcpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWRcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbGlzdCwgcG9zaXRpb24sIGxlbmd0aCwgaTtcblxuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXR1cm4gdGhpcztcblxuICBsaXN0ID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuICBsZW5ndGggPSBsaXN0Lmxlbmd0aDtcbiAgcG9zaXRpb24gPSAtMTtcblxuICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHxcbiAgICAgIChpc0Z1bmN0aW9uKGxpc3QubGlzdGVuZXIpICYmIGxpc3QubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG5cbiAgfSBlbHNlIGlmIChpc09iamVjdChsaXN0KSkge1xuICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tID4gMDspIHtcbiAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fFxuICAgICAgICAgIChsaXN0W2ldLmxpc3RlbmVyICYmIGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICByZXR1cm4gdGhpcztcblxuICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgbGlzdC5sZW5ndGggPSAwO1xuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGlzdC5zcGxpY2UocG9zaXRpb24sIDEpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGtleSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgaWYgKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIGVsc2UgaWYgKHRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICBmb3IgKGtleSBpbiB0aGlzLl9ldmVudHMpIHtcbiAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICB9XG4gICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXJzKSkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBMSUZPIG9yZGVyXG4gICAgd2hpbGUgKGxpc3RlbmVycy5sZW5ndGgpXG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tsaXN0ZW5lcnMubGVuZ3RoIC0gMV0pO1xuICB9XG4gIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIHJldDtcbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXQgPSBbXTtcbiAgZWxzZSBpZiAoaXNGdW5jdGlvbih0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIHJldCA9IFt0aGlzLl9ldmVudHNbdHlwZV1dO1xuICBlbHNlXG4gICAgcmV0ID0gdGhpcy5fZXZlbnRzW3R5cGVdLnNsaWNlKCk7XG4gIHJldHVybiByZXQ7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgdmFyIHJldDtcbiAgaWYgKCFlbWl0dGVyLl9ldmVudHMgfHwgIWVtaXR0ZXIuX2V2ZW50c1t0eXBlXSlcbiAgICByZXQgPSAwO1xuICBlbHNlIGlmIChpc0Z1bmN0aW9uKGVtaXR0ZXIuX2V2ZW50c1t0eXBlXSkpXG4gICAgcmV0ID0gMTtcbiAgZWxzZVxuICAgIHJldCA9IGVtaXR0ZXIuX2V2ZW50c1t0eXBlXS5sZW5ndGg7XG4gIHJldHVybiByZXQ7XG59O1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTQgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQ29uc3RydWN0cyBhbiBlbnVtZXJhdGlvbiB3aXRoIGtleXMgZXF1YWwgdG8gdGhlaXIgdmFsdWUuXG4gKlxuICogRm9yIGV4YW1wbGU6XG4gKlxuICogICB2YXIgQ09MT1JTID0ga2V5TWlycm9yKHtibHVlOiBudWxsLCByZWQ6IG51bGx9KTtcbiAqICAgdmFyIG15Q29sb3IgPSBDT0xPUlMuYmx1ZTtcbiAqICAgdmFyIGlzQ29sb3JWYWxpZCA9ICEhQ09MT1JTW215Q29sb3JdO1xuICpcbiAqIFRoZSBsYXN0IGxpbmUgY291bGQgbm90IGJlIHBlcmZvcm1lZCBpZiB0aGUgdmFsdWVzIG9mIHRoZSBnZW5lcmF0ZWQgZW51bSB3ZXJlXG4gKiBub3QgZXF1YWwgdG8gdGhlaXIga2V5cy5cbiAqXG4gKiAgIElucHV0OiAge2tleTE6IHZhbDEsIGtleTI6IHZhbDJ9XG4gKiAgIE91dHB1dDoge2tleTE6IGtleTEsIGtleTI6IGtleTJ9XG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9ialxuICogQHJldHVybiB7b2JqZWN0fVxuICovXG52YXIga2V5TWlycm9yID0gZnVuY3Rpb24ob2JqKSB7XG4gIHZhciByZXQgPSB7fTtcbiAgdmFyIGtleTtcbiAgaWYgKCEob2JqIGluc3RhbmNlb2YgT2JqZWN0ICYmICFBcnJheS5pc0FycmF5KG9iaikpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdrZXlNaXJyb3IoLi4uKTogQXJndW1lbnQgbXVzdCBiZSBhbiBvYmplY3QuJyk7XG4gIH1cbiAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgaWYgKCFvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHJldFtrZXldID0ga2V5O1xuICB9XG4gIHJldHVybiByZXQ7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGtleU1pcnJvcjtcbiJdfQ==
