(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),DataActions={requestStarted:function(){AppDispatcher.dispatch({actionType:JPSConstants.SAVE_STARTED})},requestFinished:function(){AppDispatcher.dispatch({actionType:JPSConstants.SAVE_FINISHED})}};module.exports=DataActions;

},{"../constants/jetpack-start-constants":21,"../dispatcher/app-dispatcher":23}],2:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),FlashActions={notice:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SET_FLASH,message:t,severity:JPSConstants.FLASH_SEVERITY_NOTICE})},error:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SET_FLASH,message:t,severity:JPSConstants.FLASH_SEVERITY_ERROR})},unset:function(){AppDispatcher.dispatch({actionType:JPSConstants.UNSET_FLASH})}};module.exports=FlashActions;

},{"../constants/jetpack-start-constants":21,"../dispatcher/app-dispatcher":23}],3:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),Paths=require("../constants/jetpack-start-paths"),FlashActions=require("./flash-actions"),SiteActions=require("./site-actions"),WPAjax=require("../utils/wp-ajax"),SpinnerActions=require("./spinner-actions"),SetupProgressStore=require("../stores/setup-progress-store"),SiteStore=require("../stores/site-store"),SetupProgressActions={resetData:function(){WPAjax.post(JPS.site_actions.reset_data).fail(function(t){FlashActions.error("Failed to save data: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.RESET_DATA})},completeStep:function(t,e){var s=SetupProgressStore.getStepFromSlug(t);AppDispatcher.dispatch({actionType:JPSConstants.STEP_COMPLETE,slug:t}),this._recordComplete(s,e)},completeAndNextStep:function(t,e){this.completeStep(t,e),AppDispatcher.dispatch({actionType:JPSConstants.STEP_NEXT})},_recordComplete:function(t,e){"undefined"==typeof e&&(e={}),e.completion=SetupProgressStore.getProgressPercent(),WPAjax.post(JPS.step_actions.complete,{step:t.slug,data:e}).fail(function(t){FlashActions.error(t)})},skipStep:function(){FlashActions.unset();var t=SetupProgressStore.getCurrentStep();t.skipped||WPAjax.post(JPS.step_actions.skip,{step:t.slug}).fail(function(t){FlashActions.error(t)}),AppDispatcher.dispatch({actionType:JPSConstants.STEP_SKIP})},getStarted:function(){SpinnerActions.show("Loading"),WPAjax.post(JPS.step_actions.start).fail(function(t){FlashActions.error(t)}).always(function(){SpinnerActions.hide(),AppDispatcher.dispatch({actionType:JPSConstants.STEP_GET_STARTED})})},disableJPS:function(){SpinnerActions.show(""),WPAjax.post(JPS.step_actions.disable).fail(function(t){FlashActions.error(t)}).always(function(){window.location.reload()})},setCurrentStep:function(t){FlashActions.unset(),AppDispatcher.dispatch({actionType:JPSConstants.STEP_SELECT,slug:t})},selectNextStep:function(){FlashActions.unset(),AppDispatcher.dispatch({actionType:JPSConstants.STEP_NEXT})},submitTitleStep:function(){SiteActions.saveTitleAndDescription().done(function(){this.completeAndNextStep(Paths.SITE_TITLE_STEP_SLUG)}.bind(this))},submitLayoutStep:function(t){SiteActions.setLayout(t).done(function(){this.completeAndNextStep(Paths.LAYOUT_STEP_SLUG)}.bind(this))},submitJetpackJumpstart:function(){SiteActions.enableJumpstart().done(function(){this.completeStep(Paths.JETPACK_MODULES_STEP_SLUG)}.bind(this))},setActiveTheme:function(t){SiteActions.setActiveTheme(t).done(function(){this.completeStep(Paths.DESIGN_STEP_SLUG,{themeId:t.id})}.bind(this))},saveDesignStep:function(){this.completeAndNextStep(Paths.DESIGN_STEP_SLUG,{themeId:SiteStore.getActiveThemeId()})}};module.exports=SetupProgressActions;

},{"../constants/jetpack-start-constants":21,"../constants/jetpack-start-paths":22,"../dispatcher/app-dispatcher":23,"../stores/setup-progress-store":27,"../stores/site-store":28,"../utils/wp-ajax":31,"./flash-actions":2,"./site-actions":4,"./spinner-actions":5}],4:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),SiteStore=require("../stores/site-store"),FlashActions=require("./flash-actions.js"),SpinnerActions=require("./spinner-actions.js"),WPAjax=require("../utils/wp-ajax"),SiteActions={setTitle:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_TITLE,title:t})},setDescription:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_DESCRIPTION,description:t})},saveTitleAndDescription:function(){var t=SiteStore.getTitle(),e=SiteStore.getDescription();return WPAjax.post(JPS.site_actions.set_title,{title:t,description:e}).fail(function(t){FlashActions.error("Error setting title: "+t)}),jQuery("#wp-admin-bar-site-name .ab-item").html(t),AppDispatcher.dispatch({actionType:JPSConstants.SITE_SAVE_TITLE_AND_DESCRIPTION,title:t}),jQuery.Deferred().resolve()},_installTheme:function(t){return t.installed?jQuery.Deferred().resolve():(SpinnerActions.show("Installing '"+t.name+"'"),WPAjax.post(JPS.site_actions.install_theme,{themeId:t.id}).done(function(){t.installed=!0,AppDispatcher.dispatch({actionType:JPSConstants.SITE_INSTALL_THEME,theme:t})}).fail(function(t){FlashActions.error("Server error installing theme: "+t)}).always(function(){SpinnerActions.hide()}))},_activateTheme:function(t){WPAjax.post(JPS.site_actions.set_theme,{themeId:t.id}).fail(function(t){FlashActions.error("Server error setting theme: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_THEME,themeId:t.id})},setActiveTheme:function(t){return this._installTheme(t).done(function(){this._activateTheme(t)}.bind(this)),jQuery.Deferred().resolve()},setLayout:function(t){return WPAjax.post(JPS.site_actions.set_layout,{layout:t}).fail(function(t){FlashActions.error("Error setting layout: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_LAYOUT,layout:t}),jQuery.Deferred().resolve()},configureJetpack:function(t){return SpinnerActions.show("Connecting to WordPress.com"),WPAjax.post(JPS.site_actions.configure_jetpack,{return_to_step:t}).done(function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_CONFIGURED}),t.next?window.location.replace(t.next):SpinnerActions.hide()}).fail(function(t){FlashActions.error("Error enabling Jetpack: "+t),SpinnerActions.hide()})},activateJetpackModule:function(t){return WPAjax.post(JPS.site_actions.activate_jetpack_modules,{modules:[t]}).fail(function(t){FlashActions.error("Error activating Jetpack module: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_MODULE_ENABLED,slug:t}),jQuery.Deferred().resolve()},deactivateJetpackModule:function(t){return WPAjax.post(JPS.site_actions.deactivate_jetpack_modules,{modules:[t]}).fail(function(t){FlashActions.error("Error deactivating Jetpack module: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_MODULE_DISABLED,slug:t}),jQuery.Deferred().resolve()},loadAllJetpackModules:function(){return 0===SiteStore.getJetpackAdditionalModules().length?WPAjax.post(JPS.site_actions.list_jetpack_modules).done(function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_ADD_MODULES,modules:t})}).fail(function(t){FlashActions.error("Error fetching all Jetpack modules: "+t)}):jQuery.Deferred().resolve()},enableJumpstart:function(){return WPAjax.post(JPS.site_actions.activate_jetpack_modules,{modules:SiteStore.getJumpstartModuleSlugs()}).fail(function(t){FlashActions.error("Error activating Jetpack modules: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_JUMPSTART_ENABLED}),jQuery.Deferred().resolve()}};module.exports=SiteActions;

},{"../constants/jetpack-start-constants":21,"../dispatcher/app-dispatcher":23,"../stores/site-store":28,"../utils/wp-ajax":31,"./flash-actions.js":2,"./spinner-actions.js":5}],5:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-start-constants"),SpinnerActions={show:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SHOW_SPINNER,message:t})},hide:function(){AppDispatcher.dispatch({actionType:JPSConstants.HIDE_SPINNER})},showAsync:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SHOW_ASYNC_SPINNER,message:t})},hideAsync:function(){AppDispatcher.dispatch({actionType:JPSConstants.HIDE_ASYNC_SPINNER})}};module.exports=SpinnerActions;

},{"../constants/jetpack-start-constants":21,"../dispatcher/app-dispatcher":23}],6:[function(require,module,exports){
(function (global){
function getSiteState(){return{site_title:SiteStore.getTitle()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Button=require("@automattic/dops-react/js/components/button"),SiteStore=require("../stores/site-store"),WelcomeSection=require("./welcome-section"),SettingsItem=React.createClass({displayName:"SettingsItem",styles:{item:{padding:"1em",marginBottom:"1em",listStyle:"none",background:"#f5f5f5",border:"1px solid #ddd"},heading:{margin:0,fontSize:"1.2em",fontWeight:800}},render:function(){return React.createElement("li",{style:this.styles.item},React.createElement("h5",{style:this.styles.heading},this.props.title),this.props.children)}}),AdvancedSettingsStep=React.createClass({displayName:"AdvancedSettingsStep",styles:{wrapper:{marginLeft:0}},getInitialState:function(){return getSiteState()},componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSiteState())},render:function(){return React.createElement(WelcomeSection,null,React.createElement("h3",null,"Let's launch ",React.createElement("em",null,this.state.site_title)),React.createElement("h4",null,"Advanced settings"),React.createElement("ul",{style:this.styles.wrapper},React.createElement(SettingsItem,{title:"Fine-tune your site's layout and appearance"},"Customize your site’s colors, fonts, sidebars and other settings.",React.createElement("br",null),React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.customize_url},"Customize my site"),"  ",React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.themes_url},"Browse and add themes")),("blog"==SiteStore.getLayout()||"site-blog"==SiteStore.getLayout())&&React.createElement(SettingsItem,{title:"Create your first blog post"},'An epic essay or just "Hello World!"',React.createElement("br",null),React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.new_blog_post_url},"Write a new blog post"),"  ",React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.manage_posts_url},"Manage posts")),React.createElement(SettingsItem,{title:"Create a static page"},'"About me", "Our Services" or anything else you can imagine.',React.createElement("br",null),React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.new_page_url},"Create a new page"),"  ",React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.manage_pages_url},"Manage pages")),React.createElement(SettingsItem,{title:"Extend your site's functionality"},"WordPress offers thousands of plugins from Jetpack and the WordPress community.",React.createElement("br",null),React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.plugins_url},"Manage plugins"),"  ",SiteStore.getJetpackConfigured()&&React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.jetpack_modules_url},"Manage Jetpack modules")),React.createElement(SettingsItem,{title:"Learn more"},React.createElement("a",{href:"https://codex.wordpress.org/First_Steps_With_WordPress"},"First Steps with WordPress")," - an online guide from the creators of WordPress")))}});module.exports=AdvancedSettingsStep;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../stores/site-store":28,"./welcome-section":19,"@automattic/dops-react/js/components/button":33}],7:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,ContentBox=React.createClass({displayName:"ContentBox",render:function(){return React.createElement("div",{className:"welcome__content_box"},this.props.children,React.createElement("div",{className:"clear"}))}});module.exports=ContentBox;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],8:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Dashicon=React.createClass({displayName:"Dashicon",propTypes:{name:React.PropTypes.string.isRequired,style:React.PropTypes.object,onMouseOver:React.PropTypes.func,onMouseOut:React.PropTypes.func},render:function(){return React.createElement("span",{style:this.props.style,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut,className:"dashicons dashicons-"+this.props.name},this.props.children)}});module.exports=Dashicon;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],9:[function(require,module,exports){
(function (global){
function getThemeState(){return{themes:SiteStore.getThemes(),site_title:SiteStore.getTitle()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteStore=require("../stores/site-store"),SetupProgressActions=require("../actions/setup-progress-actions"),Tooltip=require("./tooltip"),WelcomeSection=require("./welcome-section"),ContentBox=require("./content-box"),styles=require("../styles"),Button=require("@automattic/dops-react/js/components/button"),DesignStep=React.createClass({displayName:"DesignStep",componentDidMount:function(){SiteStore.addChangeListener(this._onChange),this._loadPopularThemes()},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getThemeState())},getInitialState:function(){var e=getThemeState();return e.popularThemes=[],e},handleActivateTheme:function(e){e.preventDefault(),this.setState({tooltipTheme:null,tooltipPosition:null});var t=jQuery(e.currentTarget),n=t.data("theme-id"),o=this.findTheme(n),a=!o.installed,i=SetupProgressActions.setActiveTheme(o);a&&i.done(function(){this._loadPopularThemes()}.bind(this))},findTheme:function(e){return _.findWhere(this.state.themes,{id:e})||_.findWhere(this.state.popularThemes,{id:e})},handleContinue:function(e){e.preventDefault(),SetupProgressActions.saveDesignStep()},handleShowTooltip:function(e){e.preventDefault();var t=jQuery(e.currentTarget),n=this.findTheme(t.data("theme-id")),o=t.position(),a=t.outerWidth(),i=t.outerHeight(),l={top:o.top+i/2,left:o.left+a};this.setState({tooltipTheme:n,tooltipPosition:l})},handleHideTooltip:function(e){e.preventDefault(),this.setState({tooltipTheme:null,tooltipPosition:null})},handleGetPopularThemes:function(e){e.preventDefault(),this._loadPopularThemes()},_loadPopularThemes:function(){SiteStore.getPopularThemes().done(function(e){this.setState({popularThemes:e})}.bind(this))},render:function(){return React.createElement(WelcomeSection,{id:"welcome__design"},React.createElement("h3",null,"Let's launch ",React.createElement("em",null,this.state.site_title)),React.createElement("h4",null,"Pick a design"),React.createElement("p",{style:styles.content},'A "theme" controls the design of your site - colours, fonts and layout.'),React.createElement("p",{style:styles.content},"Click any theme below to choose it for your site. And don't worry - you can easily change this later."),React.createElement("p",{className:"submit"},React.createElement(Button,{color:"blue",onClick:this.handleContinue},"Next Step →")),React.createElement(ContentBox,null,React.createElement("h3",null,"Installed themes"),React.createElement("div",{className:"theme-browser rendered"},this._renderThemeList())),React.createElement(ContentBox,null,React.createElement("h3",null,"Popular themes from WordPress.org",React.createElement(Button,{color:"blue",style:{"float":"right"},onClick:this.handleGetPopularThemes},"Load more themes")),React.createElement("div",{className:"theme-browser rendered"},this._renderPopularThemeList())),React.createElement("div",{style:{clear:"both"}}),this.state.tooltipTheme&&this._renderTooltip())},_renderTooltip:function(){var e=this.state.tooltipTheme,t=this.state.tooltipPosition;return React.createElement(Tooltip,{left:t.left,top:t.top,width:320,title:e.name},React.createElement("p",null,"By ",e.author),React.createElement("p",{dangerouslySetInnerHTML:{__html:_.unescape(e.description)}}))},_renderTheme:function(e){return React.createElement("div",{key:e.id,className:"theme"+(e.active?" active":""),"data-theme-id":e.id,onClick:this.handleActivateTheme,onMouseEnter:this.handleShowTooltip,onMouseLeave:this.handleHideTooltip,"aria-describedby":e.id+"-action "+e.id+"-name"},e.screenshot?React.createElement("div",{className:"theme-screenshot"},React.createElement("img",{src:e.screenshot,alt:""})):React.createElement("div",{className:"theme-screenshot blank"}),!e.active&&React.createElement("span",{className:"more-details"},e.installed?"Click to select":"Click to install"),React.createElement("h3",{className:"theme-name",id:e.id+"-name"},React.createElement("span",null,e.active?"Selected:":"")," ",e.name))},_renderPopularThemeList:function(){return this.state.popularThemes.map(this._renderTheme)},_renderThemeList:function(){return this.state.themes.map(this._renderTheme)}});module.exports=DesignStep;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/site-store":28,"../styles":30,"./content-box":7,"./tooltip":17,"./welcome-section":19,"@automattic/dops-react/js/components/button":33}],10:[function(require,module,exports){
(function (global){
function getFlashState(){return FlashStore.getFlash()}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,FlashStore=require("../stores/flash-store"),Flash=React.createClass({displayName:"Flash",componentDidMount:function(){FlashStore.addChangeListener(this._onChange)},componentWillUnmount:function(){FlashStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getFlashState())},getInitialState:function(){return getFlashState()},render:function(){return this.state.message?React.createElement("div",{className:this.state.severity+" updated"},this.state.message):null}});module.exports=Flash;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../stores/flash-store":26}],11:[function(require,module,exports){
(function (global){
function getSetupState(){return{}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SetupProgressStore=require("../stores/setup-progress-store"),SetupProgressActions=require("../actions/setup-progress-actions"),Button=require("@automattic/dops-react/js/components/button"),Radium=require("radium"),GetStarted=React.createClass({displayName:"GetStarted",componentDidMount:function(){SetupProgressStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SetupProgressStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSetupState())},getInitialState:function(){return getSetupState()},handleGetStarted:function(e){e.preventDefault(),SetupProgressActions.getStarted()},handleNoThanks:function(e){e.preventDefault(),SetupProgressActions.disableJPS()},_isIE8:function(){jQuery("html").is(".ie8")},styles:{wrapper:{textAlign:"center",backgroundRepeat:"no-repeat",backgroundPosition:"center bottom",backgroundSize:"520px auto",position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"#fff",paddingTop:100,zIndex:999},wrapperIE8:{backgroundImage:"none"},subhead:{margin:"20px 0 15px",color:"#666",fontSize:18,lineHeight:1.6,textAlign:"center","@media (max-width: 600px)":{marginBottom:15,fontSize:15},"@media (max-width: 320px)":{fontSize:13}},button:{borderRadius:6,fontFamily:"proxima-nova, 'Open Sans', Helvetica, sans-serif",fontSize:16,lineHeight:1,padding:"0.64286em 0.85714em 0.53571em"},green:{border:"1px solid rgb(62, 108, 32)",background:"rgb(81, 141, 42)",boxShadow:"rgb(62, 108, 32) 0px 3px 0px, rgba(0, 0, 0, 0.4) 0px 4px 3px",color:"#fff"},gray:{background:"linear-gradient(rgb(255, 255, 255), rgb(249, 249, 249))",boxShadow:"rgb(150, 150, 150) 0px 3px 0px, rgba(0, 0, 0, 0.4) 0px 4px 3px;",color:"#333"}},render:function(){return React.createElement("div",{key:"welcome-intro",style:[this.styles.wrapper,this._isIE8()&&this.styles.wrapperIE8]},React.createElement("h3",{style:{fontSize:30,marginTop:30}},"Welcome to WordPress"),React.createElement("p",{style:this.styles.subhead},"Would you like help launching your site?"),React.createElement("p",null,React.createElement(Button,{style:[this.styles.button,this.styles.green],onClick:this.handleGetStarted},"Yes"),"   ",React.createElement(Button,{style:[this.styles.button,this.styles.gray],onClick:this.handleNoThanks},"No thanks")))}});module.exports=Radium(GetStarted);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/setup-progress-store":27,"@automattic/dops-react/js/components/button":33,"radium":66}],12:[function(require,module,exports){
(function (global){
function getJetpackProgress(){return{jetpackConfigured:SiteStore.getJetpackConfigured()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteStore=require("../stores/site-store"),SiteActions=require("../actions/site-actions"),Paths=require("../constants/jetpack-start-paths"),JetpackJumpstartMenu=React.createClass({displayName:"JetpackJumpstartMenu",componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getJetpackProgress())},getInitialState:function(){return getJetpackProgress()},handleClickConnect:function(e){e.preventDefault(),SiteActions.configureJetpack(Paths.JETPACK_MODULES_STEP_SLUG)},style:{color:"black",fontSize:12,marginTop:5,marginLeft:20},primaryConnectBtn:{marginTop:10,marginBottom:20},render:function(){return React.createElement("div",{style:this.style},this.state.jetpackConfigured?React.createElement("div",null):React.createElement("div",null,"Boost traffic, enhance security, and improve performance with a connection to WordPress.com",React.createElement("br",null),React.createElement("a",{className:"button button-primary button-large",style:this.primaryConnectBtn,href:"#",onClick:this.handleClickConnect},"Connect to WordPress.com")))}});module.exports=JetpackJumpstartMenu;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/site-actions":4,"../constants/jetpack-start-paths":22,"../stores/site-store":28}],13:[function(require,module,exports){
(function (global){
function getJetpackState(){return{site_title:SiteStore.getTitle(),jetpackConfigured:SiteStore.getJetpackConfigured(),jumpstartEnabled:SiteStore.getJetpackJumpstartEnabled(),modulesEnabled:SiteStore.getActiveModuleSlugs()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Radium=require("radium"),SkipButton=require("./skip-button"),SiteStore=require("../stores/site-store"),SiteActions=require("../actions/site-actions"),Paths=require("../constants/jetpack-start-paths"),ContentBox=require("./content-box"),styles=require("../styles"),WelcomeSection=require("./welcome-section"),SetupProgressActions=require("../actions/setup-progress-actions"),SpinnerStore=require("../stores/spinner-store"),Button=require("@automattic/dops-react/js/components/button"),JetpackLogo=React.createClass({displayName:"JetpackLogo",styles:{jetpackLogoWrapper:{display:"block",textAlign:"center",height:70,color:"white",marginLeft:5,backgroundColor:"#81a844"},jetpackLogo:{display:"inline-block",position:"relative",width:214,marginRight:6,background:"url("+JPS.jetpack.logo_url+") center center no-repeat",backgroundSize:"183px auto",color:"#fff",fontWeight:"normal",padding:"5px 0px"},jetpackLogoName:{textIndent:-9999,visibility:"hidden"}},render:function(){return React.createElement("span",{style:[this.styles.jetpackLogoWrapper,this.props.style]},"Powered by",React.createElement("br",null),React.createElement("a",{href:"/wp-admin/admin.php?page=jetpack",title:"Jetpack",style:this.styles.jetpackLogo},React.createElement("span",{style:this.styles.jetpackLogoName},"Jetpack")))}});JetpackLogo=Radium(JetpackLogo);var JetpackJumpstart=React.createClass({displayName:"JetpackJumpstart",styles:{jetpackLogo:{"float":"right","@media (max-width: 782px)":{"float":"none",marginLeft:0}},jumpstartModule:{"float":"left",position:"relative",height:160,padding:10,"@media (min-width: 782px)":{width:"33%"}},jumpstartModuleDesc:{display:"block",marginTop:5,lineHeight:"150%"},overlayContent:{marginTop:10,marginBottom:10},overlayBefore:{display:"block",position:"absolute",width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.2)"},overlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",minHeight:"100%",zIndex:700},overlayBody:{textAlign:"center",position:"absolute",borderRadius:3,boxShadow:"0 0 4px rgba(0,0,0,0.2)",zIndex:800,left:"50%",top:"50%",padding:15,transform:"translate(-50%,-50%)",width:"70%",backgroundColor:"#fff"},moreLink:{textAlign:"center"}},componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getJetpackState())},getInitialState:function(){var e=getJetpackState();return e.showMoreModules=!1,e},handleJetpackConnect:function(e){e.preventDefault(),SiteActions.configureJetpack(Paths.JETPACK_MODULES_STEP_SLUG)},handleChangeModuleStatus:function(e){var t=jQuery(e.currentTarget),a=t.data("module-slug");SiteStore.isJetpackModuleEnabled(a)?SiteActions.deactivateJetpackModule(a):SiteActions.activateJetpackModule(a)},handleEnableAllModules:function(e){e.preventDefault(),SiteActions.enableJumpstart()},handleNext:function(e){e.preventDefault(),SetupProgressActions.completeAndNextStep(Paths.JETPACK_MODULES_STEP_SLUG)},handleShowMoreModules:function(e){e.preventDefault(),SiteActions.loadAllJetpackModules().done(function(){this.setState({showMoreModules:!0})}.bind(this))},handleShowFewerModules:function(e){e.preventDefault(),this.setState({showMoreModules:!1})},_renderModule:function(e){var t=SiteStore.isJetpackModuleEnabled(e.slug),a="jp-module-"+e.slug;return React.createElement("div",{key:"modules-"+e.slug,style:this.styles.jumpstartModule},React.createElement("input",{id:a,type:"checkbox",checked:t,"data-module-slug":e.slug,onChange:this.handleChangeModuleStatus}),React.createElement("label",{htmlFor:a},React.createElement("strong",null,e.name)),React.createElement("div",{style:this.styles.jumpstartModuleDesc},React.createElement("div",{dangerouslySetInnerHTML:{__html:e.description}}),t&&e.configure_url&&React.createElement("div",null,React.createElement("a",{target:"_configure",href:e.configure_url},"configure"))))},render:function(){var e,t,a;this.state.jetpackConfigured||SpinnerStore.showing()||(e=React.createElement("div",{style:this.styles.overlayBefore}),t=React.createElement("div",{style:this.styles.overlay}),a=React.createElement("div",{style:this.styles.overlayBody},React.createElement("p",{style:this.styles.overlayContent},"These modules require a WordPress.com account - it's free!"),React.createElement(Button,{color:"green",size:"big",theme:"jetpack",onClick:this.handleJetpackConnect},"Connect to WordPress.com"),React.createElement("p",{style:this.styles.overlayContent},React.createElement(SkipButton,null))));var o=SiteStore.getJumpstartModules().map(this._renderModule),n=SiteStore.getJetpackAdditionalModules().map(this._renderModule);return React.createElement(WelcomeSection,null,React.createElement("h3",null,"Let's launch ",React.createElement("em",null,this.state.site_title)),React.createElement("h4",null,"Enable Jetpack features"),this.state.jetpackConfigured&&React.createElement("div",null,React.createElement(JetpackLogo,{style:this.styles.jetpackLogo}),React.createElement("p",{style:styles.content},"Congratulations! You've enabled Jetpack and unlocked dozens of powerful features."),React.createElement("p",{style:styles.content},"Check the boxes below to enable our most popular features."),React.createElement("div",{className:"clear"})),React.createElement("div",{className:"welcome__connect"},React.createElement("div",{style:{position:"relative"}},e,t,a,this.state.jetpackConfigured&&React.createElement("div",{className:"submit"},React.createElement(Button,{style:{"float":"right"},color:"blue",onClick:this.handleNext},"Next Step →"),React.createElement("div",{className:"clear"})),React.createElement(ContentBox,null,React.createElement("h3",null,"Popular features   ",React.createElement(Button,{disabled:this.state.jumpstartEnabled,color:"blue",onClick:this.handleEnableAllModules},this.state.jumpstartEnabled?"Enabled All":"Enable all (recommended)")),o),this.state.showMoreModules?React.createElement("p",{style:this.styles.moreLink},React.createElement("a",{href:"#",onClick:this.handleShowFewerModules},"hide additional features")):React.createElement("p",{style:this.styles.moreLink},React.createElement("a",{href:"#",onClick:this.handleShowMoreModules},"show additional features")),this.state.showMoreModules&&React.createElement(ContentBox,null,React.createElement("h3",null,"Additional modules"),n))))}});module.exports=Radium(JetpackJumpstart);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../actions/site-actions":4,"../constants/jetpack-start-paths":22,"../stores/site-store":28,"../stores/spinner-store":29,"../styles":30,"./content-box":7,"./skip-button":16,"./welcome-section":19,"@automattic/dops-react/js/components/button":33,"radium":66}],14:[function(require,module,exports){
(function (global){
function getSiteLayoutState(){return{site_title:SiteStore.getTitle(),layout:SiteStore.getLayout()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteStore=require("../stores/site-store"),Button=require("@automattic/dops-react/js/components/button"),WelcomeSection=require("./welcome-section"),styles=require("../styles"),SetupProgressActions=require("../actions/setup-progress-actions"),LayoutStep=React.createClass({displayName:"LayoutStep",componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSiteLayoutState())},getInitialState:function(){return getSiteLayoutState()},handleSetLayout:function(e){this.setState({layout:jQuery(e.currentTarget).val()})},handleSubmit:function(e){e.preventDefault(),SetupProgressActions.submitLayoutStep(this.state.layout)},render:function(){return React.createElement(WelcomeSection,{id:"welcome__layout"},React.createElement("h3",null,"Let's launch ",React.createElement("em",null,this.state.site_title)),React.createElement("h4",null,"Select a Layout"),React.createElement("p",{style:styles.content},"WordPress can be a blog, a web site with a hierarchy of static pages, or a combination of the two."),React.createElement("form",{onSubmit:this.handleSubmit},React.createElement("label",null,React.createElement("input",{type:"radio",name:"site_layout",value:"website",checked:"website"===this.state.layout,onChange:this.handleSetLayout})," Static Website",React.createElement("p",{className:"description"},"A web site with a hierarchy of pages")),React.createElement("br",null),React.createElement("label",null,React.createElement("input",{type:"radio",name:"site_layout",value:"site-blog",checked:"site-blog"===this.state.layout,onChange:this.handleSetLayout})," Static Website with a blog",React.createElement("p",{className:"description"},"A web site with pages that also has a blog or news section")),React.createElement("br",null),React.createElement("label",null,React.createElement("input",{type:"radio",name:"site_layout",value:"blog",checked:"blog"===this.state.layout,onChange:this.handleSetLayout})," Just a blog",React.createElement("p",{className:"description"},"A web site that will constantly show new content (articles, photos, videos, etc.)")),React.createElement("p",{className:"submit"},React.createElement(Button,{color:"blue"},"Next Step →"))))}});module.exports=LayoutStep;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/site-store":28,"../styles":30,"./welcome-section":19,"@automattic/dops-react/js/components/button":33}],15:[function(require,module,exports){
(function (global){
function getSiteTitleState(){return{title:SiteStore.getTitle(),description:SiteStore.getDescription()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteActions=require("../actions/site-actions"),SiteStore=require("../stores/site-store"),WelcomeSection=require("./welcome-section"),styles=require("../styles"),Button=require("@automattic/dops-react/js/components/button"),SetupProgressActions=require("../actions/setup-progress-actions"),SiteTitleStep=React.createClass({displayName:"SiteTitleStep",componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSiteTitleState())},getInitialState:function(){return getSiteTitleState()},handleChangeTitle:function(e){SiteActions.setTitle(e.currentTarget.value)},handleChangeDescription:function(e){SiteActions.setDescription(e.currentTarget.value)},handleSubmit:function(e){e.preventDefault(),SetupProgressActions.submitTitleStep()},render:function(){return React.createElement(WelcomeSection,{id:"welcome__site-title"},React.createElement("h3",null,"Let's launch your new website"),React.createElement("h4",null,"Enter a Title and Description"),React.createElement("p",{style:styles.content},"Make your site stand out with a catchy name."),React.createElement("form",{onSubmit:this.handleSubmit},React.createElement("table",{className:"form-table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("th",null,React.createElement("label",{htmlFor:"site_title"},"Site Title")),React.createElement("td",null,React.createElement("input",{type:"text",name:"site_title",id:"site-title",autoComplete:"off",onChange:this.handleChangeTitle,value:this.state.title,placeholder:"Site Title (this can be changed later)",required:!0}),React.createElement("p",{className:"description"},"The name of your site. This title appears at the top of pages and in search results."))),React.createElement("tr",null,React.createElement("th",null,React.createElement("label",{htmlFor:"site_description"},"Site Description")),React.createElement("td",null,React.createElement("input",{type:"text",name:"site_description",id:"site-description",autoComplete:"off",onChange:this.handleChangeDescription,value:this.state.description,placeholder:"Site Description",required:!0}),React.createElement("p",{className:"description"},'A motto or tagline. This appears below the title on your site, and next to the title in search results. Try to be brief and descriptive, e.g. "Your online bait and tackle store"'))))),React.createElement("p",{className:"submit"},React.createElement(Button,{color:"blue"},"Next Step →"))))}});module.exports=SiteTitleStep;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../actions/site-actions":4,"../stores/site-store":28,"../styles":30,"./welcome-section":19,"@automattic/dops-react/js/components/button":33}],16:[function(require,module,exports){
(function (global){
function getSetupProgress(){return{completed:SetupProgressStore.getCurrentStep().completed}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SetupProgressStore=require("../stores/setup-progress-store"),SetupProgressActions=require("../actions/setup-progress-actions"),SkipButton=React.createClass({displayName:"SkipButton",style:{color:"#bbb",fontSize:"90%",marginLeft:20,borderBottom:"1px dotted #bbb"},componentDidMount:function(){SetupProgressStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SetupProgressStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSetupProgress())},getInitialState:function(){return getSetupProgress()},handleSkip:function(e){e.preventDefault(),SetupProgressActions.skipStep()},render:function(){var e=this.state.completed;return e?null:React.createElement("a",{style:this.style,href:"#",onClick:this.handleSkip},"Not now")}});module.exports=SkipButton;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/setup-progress-store":27}],17:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Tooltip=React.createClass({displayName:"Tooltip",propTypes:{left:React.PropTypes.number.isRequired,top:React.PropTypes.number.isRequired,width:React.PropTypes.number.isRequired,title:React.PropTypes.string.isRequired},handleDismiss:function(e){e.preventDefault()},componentDidMount:function(){this._recomputePosition()},componentWillReceiveProps:function(){this._recomputePosition()},getInitialState:function(){return{realTop:this.props.top}},_recomputePosition:function(){var e=jQuery(React.findDOMNode(this.refs.wrapper));this.setState({realTop:this.props.top-e.outerHeight()/2})},render:function(){return React.createElement("div",{ref:"wrapper",className:"wp-pointer wp-pointer-left",style:{position:"absolute",width:this.props.width,top:this.state.realTop,left:this.props.left,zIndex:9999}},React.createElement("div",{className:"wp-pointer-content"},React.createElement("h3",null,this.props.title),React.createElement("p",null,this.props.children)),React.createElement("div",{className:"wp-pointer-arrow"},React.createElement("div",{className:"wp-pointer-arrow-inner"})))}});module.exports=Tooltip;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],18:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Radium=require("radium"),ProgressBar=require("@automattic/dops-react/js/components/progress-bar"),SetupProgressActions=require("../actions/setup-progress-actions"),Dashicon=require("./dashicon"),stepShape=React.PropTypes.shape({name:React.PropTypes.string.isRequired,slug:React.PropTypes.string}),WelcomeMenu=React.createClass({displayName:"WelcomeMenu",propTypes:{currentStep:stepShape.isRequired,clickable:React.PropTypes.bool,allSteps:React.PropTypes.arrayOf(stepShape).isRequired,progressPercent:React.PropTypes.number.isRequired},getDefaultProps:function(){return{clickable:!0}},styles:{wrapper:{"float":"right",width:"28%",height:"100%",background:"#fafafa",border:"1px solid #eee"},title:{margin:0,padding:12,overflow:"hidden",background:"#444",color:"#fff",fontSize:12,textTransform:"uppercase"},list:{margin:"13px 10px",listStyle:"none","@media (max-width: 600px)":{margin:"5px 4px"}},menuItem:{marginBottom:6,position:"relative",color:"#333",lineHeight:1.7,"@media (max-width: 782px)":{fontSize:"small"},"@media (max-width: 600px)":{fontSize:"smaller"}},menuItemCompleted:{color:"#4AB866"},icon:{fontSize:16,top:3,position:"relative"},menuItemLink:{color:"inherit",borderBottom:"1px dashed"},menuItemCurrent:{color:"#0074A2"}},selectStep:function(e){e.preventDefault();var t=jQuery(e.currentTarget).data("step-slug");SetupProgressActions.setCurrentStep(t)},render:function(){var e=this.props.allSteps.map(function(e){var t,r,s,a;return this.props.clickable&&this.props.currentStep&&(r=this.props.currentStep.slug==e.slug),t=!e["static"]&&this.props.clickable?React.createElement("a",{href:"#",style:this.styles.menuItemLink,"data-step-slug":e.slug,onClick:this.selectStep},e.name):e.name,e.menuView&&this.props.clickable&&(s=React.createElement(e.menuView,null)),a=e.completed?"yes":"arrow-right-alt2",React.createElement("li",{key:e.slug,style:[this.styles.menuItem,e.completed&&this.styles.menuItemCompleted,r&&this.styles.menuItemCurrent]},React.createElement(Dashicon,{style:this.styles.icon,name:a}),t," ",e.skipped?"(skipped)":null,s)}.bind(this));return React.createElement("div",{style:[this.styles.wrapper,this.props.style]},React.createElement("h3",{style:this.styles.title},React.createElement("span",{style:{"float":"left",marginRight:10}},"Your Progress"),React.createElement("div",null,React.createElement(ProgressBar,{style:{"float":"left"},progressPercent:this.props.progressPercent}))),React.createElement("ol",{style:this.styles.list},e))}});module.exports=Radium(WelcomeMenu);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"./dashicon":8,"@automattic/dops-react/js/components/progress-bar":34,"radium":66}],19:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,WelcomeSection=React.createClass({displayName:"WelcomeSection",render:function(){var e=this.props,t=function(e,t){var o={},r=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var n in e)r.call(e,n)&&!r.call(t,n)&&(o[n]=e[n]);return o}(e,{});return React.createElement("div",React.__spread({},t,{className:"welcome__section"}),this.props.children)}});module.exports=WelcomeSection;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],20:[function(require,module,exports){
(function (global){
function getSetupProgress(){return{newUser:SetupProgressStore.isNewUser(),showSpinner:SpinnerStore.showing(),spinnerMessage:SpinnerStore.getMessage(),currentStep:SetupProgressStore.getCurrentStep(),allSteps:SetupProgressStore.getAllSteps(),progressPercent:SetupProgressStore.getProgressPercent()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,WelcomeMenu=require("./welcome-menu"),SetupProgressStore=require("../stores/setup-progress-store"),Reset=require("@automattic/dops-react/js/components/reset"),SetupProgressActions=require("../actions/setup-progress-actions"),Flash=require("./flash"),styles=require("../styles"),GetStarted=require("./get-started"),SpinnerStore=require("../stores/spinner-store"),SpinnerActions=require("../actions/spinner-actions"),DataStore=require("../stores/data-store"),WelcomeWidget=React.createClass({displayName:"WelcomeWidget",styles:{wrapper:{position:"relative"},loadingOverlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",minHeight:"100%",zIndex:999,backgroundColor:"rgba(255,255,255,0.6)"},loadingMessage:{position:"absolute",width:"50%",minWidth:300,borderRadius:2,padding:20,border:"1px solid black",backgroundColor:"white",textAlign:"center",left:"50%",top:100,transform:"translate(-50%,-50%)"},container:{"float":"left",width:"70%",padding:"0 10px"},menu:{marginTop:25}},componentDidMount:function(){SetupProgressStore.addChangeListener(this._onChange),SpinnerStore.addChangeListener(this._onSpinnerChange),DataStore.addChangeListener(this._onDataChange)},componentWillUnmount:function(){SetupProgressStore.removeChangeListener(this._onChange),SpinnerStore.removeChangeListener(this._onSpinnerChange),DataStore.removeChangeListener(this._onDataChange)},_onChange:function(){this.setState(getSetupProgress())},_onSpinnerChange:function(){this.setState({showSpinner:SpinnerStore.showing(),spinnerMessage:SpinnerStore.getMessage()})},_onDataChange:function(){this.setState({saving:DataStore.isSaving()})},getInitialState:function(){return getSetupProgress()},handleReset:function(e){e.preventDefault(),SetupProgressActions.resetData()},handleShowSpinner:function(e){e.preventDefault(),SpinnerActions.show("Testing spinner")},handleHideSpinner:function(e){e.preventDefault(),SpinnerActions.hide()},render:function(){return React.createElement(Reset,{css:styles.css},this._renderDebug(),React.createElement("div",{style:this.styles.wrapper},this._renderSpinner(),React.createElement("div",{style:this.styles.container},React.createElement(Flash,null),this._renderSection()),React.createElement(WelcomeMenu,{style:this.styles.menu,clickable:!this.state.newUser,currentStep:this.state.currentStep,allSteps:this.state.allSteps,progressPercent:this.state.progressPercent}),React.createElement("div",{className:"clear"})))},_renderSection:function(){return this.state.newUser?React.createElement(GetStarted,null):this._renderCurrentView()},_renderDebug:function(){return null},_renderSpinner:function(){return this.state.showSpinner?React.createElement("div",{style:this.styles.loadingOverlay},React.createElement("div",{style:this.styles.loadingMessage},React.createElement("img",{src:"/wp-admin/images/spinner-2x.gif",width:"16px",height:"16px"}),"  ",this.state.spinnerMessage)):null},_renderCurrentView:function(){return this.state.currentStep?React.createElement(this.state.currentStep.welcomeView,null):React.createElement("h3",null,"Nothing")}});module.exports=WelcomeWidget;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../actions/spinner-actions":5,"../stores/data-store":25,"../stores/setup-progress-store":27,"../stores/spinner-store":29,"../styles":30,"./flash":10,"./get-started":11,"./welcome-menu":18,"@automattic/dops-react/js/components/reset":35}],21:[function(require,module,exports){
var keyMirror=require("keymirror");module.exports=keyMirror({STEP_COMPLETE:null,STEP_GET_STARTED:null,STEP_SELECT:null,STEP_NEXT:null,STEP_SKIP:null,SITE_SET_TITLE:null,SITE_SET_DESCRIPTION:null,SITE_SAVE_TITLE_AND_DESCRIPTION:null,SITE_SET_THEME:null,SITE_INSTALL_THEME:null,SITE_JETPACK_CONFIGURED:null,SITE_JETPACK_MODULE_ENABLED:null,SITE_JETPACK_MODULE_DISABLED:null,SITE_JETPACK_JUMPSTART_ENABLED:null,SITE_JETPACK_ADD_MODULES:null,SITE_SET_LAYOUT:null,SAVE_STARTED:null,SAVE_FINISHED:null,SET_FLASH:null,UNSET_FLASH:null,FLASH_SEVERITY_NOTICE:null,FLASH_SEVERITY_ERROR:null,RESET_DATA:null,SHOW_SPINNER:null,HIDE_SPINNER:null});

},{"keymirror":58}],22:[function(require,module,exports){
module.exports={SITE_TITLE_STEP_SLUG:"title",LAYOUT_STEP_SLUG:"layout",TRAFFIC_STEP_SLUG:"traffic",STATS_MONITORING_STEP_SLUG:"stats-monitoring",DESIGN_STEP_SLUG:"design",ADVANCED_STEP_SLUG:"advanced",JETPACK_MODULES_STEP_SLUG:"jetpack"};

},{}],23:[function(require,module,exports){
var Dispatcher=require("flux").Dispatcher;module.exports=new Dispatcher;

},{"flux":53}],24:[function(require,module,exports){
var WelcomePanel=require("./welcome-panel");WelcomePanel();

},{"./welcome-panel":32}],25:[function(require,module,exports){
function incrementSaveCounter(){_currentSaves+=1}function decrementSaveCounter(){_currentSaves-=1}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),_currentSaves=0,jpsTimeout,CHANGE_EVENT="change";jQuery(window).on("beforeunload",function(){return DataStore.isSaving()?(jpsTimeout=setTimeout(function(){},1e3),"Your site changes are still saving."):void 0}),jQuery(window).on("unload",function(){clearTimeout(jpsTimeout)});var DataStore=_.extend({},EventEmitter.prototype,{isSaving:function(){return _currentSaves>0},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)},emitChange:function(){this.emit(CHANGE_EVENT)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SAVE_STARTED:incrementSaveCounter(),DataStore.emitChange();break;case JPSConstants.SAVE_FINISHED:decrementSaveCounter(),DataStore.emitChange()}}),module.exports=DataStore;

},{"../constants/jetpack-start-constants":21,"../dispatcher/app-dispatcher":23,"events":56}],26:[function(require,module,exports){
function setFlash(e,t){message=e,severity=t}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),CHANGE_EVENT="change",message,severity,FlashStore=_.extend({},EventEmitter.prototype,{getFlash:function(){var e;switch(severity){case JPSConstants.FLASH_SEVERITY_ERROR:e="error";break;case JPSConstants.FLASH_SEVERITY_NOTICE:e="notice"}return{message:message,severity:e}},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)},emitChange:function(){this.emit(CHANGE_EVENT)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SET_FLASH:setFlash(e.message,e.severity),FlashStore.emitChange();break;case JPSConstants.UNSET_FLASH:setFlash(null,null),FlashStore.emitChange()}}),module.exports=FlashStore;

},{"../constants/jetpack-start-constants":21,"../dispatcher/app-dispatcher":23,"events":56}],27:[function(require,module,exports){
function setSteps(e){e.forEach(function(e){"undefined"==typeof e.completed&&(e.completed=JPS.step_status[e.slug]&&JPS.step_status[e.slug].completed||!1),"undefined"==typeof e.skipped&&(e.skipped=JPS.step_status[e.slug]&&JPS.step_status[e.slug].skipped||!1),"undefined"==typeof e["static"]&&(e["static"]=!1),"undefined"==typeof e.neverSkip&&(e.neverSkip=!1),"undefined"==typeof e.includeInProgress&&(e.includeInProgress=!0)}),_steps=e,ensureValidStepSlug()}function setStarted(){_started=!0,selectNextPendingStep()}function complete(e){var t=getStepFromSlug(e);t.completed=!0,t.skipped=!1}function skip(){var e=currentStepSlug(),t=getStepFromSlug(e);t.skipped=!0,selectNextPendingStep()}function getStepFromSlug(e){var t=null;return _.each(_steps,function(n){n.slug===e&&(t=n)}),t}function ensureValidStepSlug(){var e=currentStepSlug();if(!e||!getStepFromSlug(e)){var t=getNextPendingStep();null!==t&&(window.location.hash="welcome/steps/"+t.slug)}}function selectNextPendingStep(){var e=getNextPendingStep();null!==e&&select(e.slug)}function getNextPendingStep(){var e=currentStepIndex();return e&&_steps[e+1]&&_steps[e+1].neverSkip===!0?_steps[e+1]:_.findWhere(_steps,{completed:!1,skipped:!1})}function currentStepSlug(){if(0===window.location.hash.indexOf("#welcome/steps")){var e=window.location.hash.split("/"),t=e[e.length-1];return t}return null}function currentStepIndex(){for(var e=currentStepSlug(),t=0;t<_steps.length;t++)if(_steps[t].slug===e)return t;return!1}function select(e){window.location.hash="welcome/steps/"+e,WPAjax.post(JPS.step_actions.view,{step:e},{quiet:!0})}function reset(){JPS.step_status={},_.where(_steps,{"static":!1}).forEach(function(e){e.completed=!1,e.skipped=!1}),_started=!1}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),WPAjax=require("../utils/wp-ajax"),CHANGE_EVENT="change",_steps,_started=JPS.started,SetupProgressStore=_.extend({},EventEmitter.prototype,{init:function(e){setSteps(e)},getAllSteps:function(){return _steps},isNewUser:function(){return!_started},emitChange:function(){this.emit(CHANGE_EVENT)},getCurrentStep:function(){return getStepFromSlug(currentStepSlug())},getNextPendingStep:function(){return getNextPendingStep()},getStepFromSlug:function(e){return getStepFromSlug(e)},getProgressPercent:function(){var e=_.where(_steps,{includeInProgress:!0}).length,t=_.where(_steps,{includeInProgress:!0,completed:!0}).length,n=t/e*90+10,s=10*Math.round(n/10);return s},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.STEP_GET_STARTED:setStarted(),SetupProgressStore.emitChange();break;case JPSConstants.STEP_SELECT:select(e.slug),SetupProgressStore.emitChange();break;case JPSConstants.STEP_NEXT:selectNextPendingStep(),SetupProgressStore.emitChange();break;case JPSConstants.STEP_COMPLETE:complete(e.slug),SetupProgressStore.emitChange();break;case JPSConstants.STEP_COMPLETE_AND_NEXT:complete(e.slug),selectNextPendingStep(),SetupProgressStore.emitChange();break;case JPSConstants.RESET_DATA:reset(),SetupProgressStore.emitChange();break;case JPSConstants.STEP_SKIP:skip(),SetupProgressStore.emitChange()}}),module.exports=SetupProgressStore;

},{"../constants/jetpack-start-constants":21,"../dispatcher/app-dispatcher":23,"../utils/wp-ajax":31,"events":56}],28:[function(require,module,exports){
function setTitle(e){JPS.bloginfo.name=e}function setDescription(e){JPS.bloginfo.description=e}function setActiveTheme(e){JPS.themes.forEach(function(t){t.id==e?t.active=!0:t.active=!1})}function installedTheme(e){JPS.themes.unshift(e),JPS.themes=JPS.themes.slice(0,3)}function setJetpackModuleActivated(e){-1===_.indexOf(JPS.jetpack.active_modules,e)&&JPS.jetpack.active_modules.push(e)}function setJetpackModuleDectivated(e){var t=_.indexOf(JPS.jetpack.active_modules,e);t>=0&&JPS.jetpack.active_modules.splice(t,1)}function setJetpackAdditionalModules(e){JPS.jetpack.additional_modules=_.filter(e,function(e){return-1==_.indexOf(JPS.jetpack.jumpstart_modules.map(function(e){return e.slug}),e.slug)})}function setLayout(e){layout=e}function setJetpackConfigured(){JPS.jetpack.configured=!0}function setJetpackJumpstartActivated(){JPS.jetpack.jumpstart_modules.forEach(function(e){setJetpackModuleActivated(e.slug)})}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),WPAjax=require("../utils/wp-ajax"),CHANGE_EVENT="change",layout=JPS.steps.layout.current,SiteStore=_.extend({},EventEmitter.prototype,{getTitle:function(){return JPS.bloginfo.name},getDescription:function(){return JPS.bloginfo.description},getThemes:function(){return JPS.themes},getActiveThemeId:function(){for(var e=0;e<JPS.themes.length;e++){var t=JPS.themes[e];if(t.active)return t.id}return null},getJetpackConfigured:function(){return JPS.jetpack.configured},getActiveModuleSlugs:function(){return JPS.jetpack.active_modules},isJetpackModuleEnabled:function(e){return _.indexOf(JPS.jetpack.active_modules,e)>=0},getJetpackAdditionalModules:function(){return JPS.jetpack.additional_modules},getJumpstartModuleSlugs:function(){return JPS.jetpack.jumpstart_modules.map(function(e){return e.slug})},getJumpstartModules:function(){return JPS.jetpack.jumpstart_modules},getPopularThemes:function(){return WPAjax.post(JPS.site_actions.get_popular_themes)},getJetpackJumpstartEnabled:function(){for(var e=0;e<JPS.jetpack.jumpstart_modules.length;e++){var t=JPS.jetpack.jumpstart_modules[e];if(!this.isJetpackModuleEnabled(t.slug))return!1}return!0},getLayout:function(){return layout},emitChange:function(){this.emit(CHANGE_EVENT)},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SITE_SET_TITLE:setTitle(e.title),SiteStore.emitChange();break;case JPSConstants.SITE_SET_DESCRIPTION:setDescription(e.description),SiteStore.emitChange();break;case JPSConstants.SITE_SET_THEME:setActiveTheme(e.themeId),SiteStore.emitChange();break;case JPSConstants.SITE_INSTALL_THEME:installedTheme(e.theme),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_CONFIGURED:setJetpackConfigured(),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_ADD_MODULES:setJetpackAdditionalModules(e.modules),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_MODULE_ENABLED:setJetpackModuleActivated(e.slug),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_MODULE_DISABLED:setJetpackModuleDectivated(e.slug),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_JUMPSTART_ENABLED:setJetpackJumpstartActivated(),SiteStore.emitChange();break;case JPSConstants.SITE_SET_LAYOUT:setLayout(e.layout),SiteStore.emitChange()}}),module.exports=SiteStore;

},{"../constants/jetpack-start-constants":21,"../dispatcher/app-dispatcher":23,"../utils/wp-ajax":31,"events":56}],29:[function(require,module,exports){
function show(e){spinnerEnabled=!0,spinnerMessage=e}function hide(){spinnerEnabled=!1,spinnerMessage=null}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-start-constants"),CHANGE_EVENT="change",spinnerEnabled=!1,spinnerMessage=null,SpinnerStore=_.extend({},EventEmitter.prototype,{showing:function(){return spinnerEnabled},getMessage:function(){return spinnerMessage},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)},emitChange:function(){this.emit(CHANGE_EVENT)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SHOW_SPINNER:show(e.message),SpinnerStore.emitChange();break;case JPSConstants.HIDE_SPINNER:hide(),SpinnerStore.emitChange()}}),module.exports=SpinnerStore;

},{"../constants/jetpack-start-constants":21,"../dispatcher/app-dispatcher":23,"events":56}],30:[function(require,module,exports){
module.exports={h3:{fontWeight:"normal"},content:{fontSize:"larger",color:"#777",lineHeight:1.5,margin:"1em 0"},css:{h4:{marginBottom:10},h5:{marginTop:0,fontSize:"1em",fontWeight:400},"input, select":{margin:1,padding:"3px 5px"},'input[type="text"]':{width:"100%"},".submit":{margin:"0px !important",padding:"5px 5px !important",backgroundColor:"#EEE",textAlign:"right"}}};

},{}],31:[function(require,module,exports){
var DataActions=require("../actions/data-actions"),WPAjax=function(){return{post:function(e,t,n){n="undefined"!=typeof n?n:{},t="undefined"!=typeof t?t:{};var a=_.extend(t,{action:e,nonce:JPS.nonce}),r=jQuery.Deferred();return n.quiet||DataActions.requestStarted(),jQuery.post(ajaxurl,a).success(function(e){e.success?r.resolve(e.data):r.reject(e.data)}).fail(function(){r.reject("Server error")}).always(function(){n.quiet||DataActions.requestFinished()}),r}}}();module.exports=WPAjax;

},{"../actions/data-actions":1}],32:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,WelcomeWidget=require("./components/welcome-widget"),Paths=require("./constants/jetpack-start-paths"),SetupProgressStore=require("./stores/setup-progress-store");module.exports=function(){jQuery(document).ready(function(){SetupProgressStore.init([{name:"Site title",slug:Paths.SITE_TITLE_STEP_SLUG,welcomeView:require("./components/site-title-step")},{name:"Pick a layout",slug:Paths.LAYOUT_STEP_SLUG,welcomeView:require("./components/layout-step")},{name:"Pick a design",slug:Paths.DESIGN_STEP_SLUG,welcomeView:require("./components/design-step")},{name:"Enable Jetpack",slug:Paths.JETPACK_MODULES_STEP_SLUG,neverSkip:!0,welcomeView:require("./components/jetpack-jumpstart-step"),menuView:require("./components/jetpack-jumpstart-menu")},{name:"Advanced settings",slug:Paths.ADVANCED_STEP_SLUG,welcomeView:require("./components/advanced-settings-step"),includeInProgress:!1}]),React.render(React.createElement(WelcomeWidget,{}),document.getElementById("jps-welcome-panel"))})};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./components/advanced-settings-step":6,"./components/design-step":9,"./components/jetpack-jumpstart-menu":12,"./components/jetpack-jumpstart-step":13,"./components/layout-step":14,"./components/site-title-step":15,"./components/welcome-widget":20,"./constants/jetpack-start-paths":22,"./stores/setup-progress-store":27}],33:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,styles=require("../styles"),Radium=require("radium"),Button=React.createClass({displayName:"Button",propTypes:{size:React.PropTypes.oneOf(["tiny","normal","big"]),color:React.PropTypes.oneOf(["gray","blue","green"]),theme:React.PropTypes.oneOf(["wp","jetpack"]),inline:React.PropTypes.bool,onClick:React.PropTypes.func,disabled:React.PropTypes.bool,href:React.PropTypes.string},getDefaultProps:function(){return{size:"normal",inline:!0,color:"gray",theme:"wp",disabled:!1}},handleCallbackHref:function(e){e.preventDefault(),window.location=this.props.href},styles:{basic:{borderRadius:3,boxShadow:"inset 0 1px 0 rgba(255, 255, 255, 0.3)",borderWidth:1,borderStyle:"solid",cursor:"pointer",display:"block",fontSize:14,fontWeight:"bold",padding:"10px 20px",textAlign:"center",textDecoration:"none",WebkitFontSmoothing:"antialiased",transition:"background 0.2s"},sizes:{tiny:{fontSize:10,padding:"2px 10px"},normal:{fontSize:13,padding:"5px 10px"},big:{fontSize:16,padding:"20px 40px"}},colors:{gray:{background:"linear-gradient(#fff, #f9f9f9)",borderColor:styles.colors.lightGray,color:styles.colors.darkGray,":hover":{color:styles.colors.gray}},blue:{background:styles.colors.blue,borderColor:"rgba(0,0,0,0.6)",color:"white",":hover":{background:styles.colors.lighterBlue}},green:{background:styles.colors.green,color:"white",borderColor:"rgba(0,0,0,0.6)",":hover":{background:styles.colors.lighterGreen}}},themes:{wp:{},jetpack:{padding:"18px 24px 15px",borderRadius:6,borderStyle:"none",boxShadow:"0 6px 0 #3e6c20,0 6px 3px rgba(0,0,0,0.4)"}},inline:{display:"inline-block"},disabled:{background:"#f9f9f9",borderColor:styles.colors.lightGray,color:styles.colors.lightGray,":hover":{background:"#f9f9f9",borderColor:styles.colors.lightGray,color:styles.colors.lightGray}}},render:function(){var e,o=this.props,r=o.size,t=o.color,l=o.inline,s=o.onClick,i=o.theme,n=o.href,a=function(e,o){var r={},t=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var l in e)t.call(e,l)&&!t.call(o,l)&&(r[l]=e[l]);return r}(o,{size:1,color:1,inline:1,onClick:1,theme:1,href:1}),c=[this.styles.basic,this.styles.sizes[r],this.styles.colors[t],this.styles.themes[i],this.props.disabled&&this.styles.disabled,l&&this.styles.inline,this.props.style];return e=n&&!s?this.handleCallbackHref:s,React.createElement("button",React.__spread({},a,{style:c,onClick:e,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut}),this.props.children)}});module.exports=Radium(Button);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../styles":36,"radium":45}],34:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Radium=require("radium"),ProgressBar=React.createClass({displayName:"ProgressBar",propTypes:{style:React.PropTypes.object,progressPercent:React.PropTypes.number.isRequired},styles:{wrapper:{fontWeight:400,fontSize:"80%"},progress:{background:"#4ab866",width:"0%",transition:"width 0.5s",display:"block",height:"100%"},bar:{display:"inline-block",width:80,height:12,margin:"0 8px -2px 0",padding:2,borderRadius:2,background:"#f5f5f5"}},render:function(){return React.createElement("div",{style:[this.styles.wrapper,this.props.style]},React.createElement("div",{style:this.styles.bar},React.createElement("span",{style:[this.styles.progress,{width:this.props.progressPercent+"%"}]})),this.props.progressPercent,"% complete")}});module.exports=Radium(ProgressBar);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"radium":45}],35:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Radium=require("radium"),m=require("../utils/m"),idCounter=0,Reset=React.createClass({displayName:"Reset",propTypes:{css:React.PropTypes.object},style:{resets:{"*":{boxSizing:"border-box"},"div, ul, ol, li, h1, h2, h3, h4, h5, h6, form, fieldset, legend, input, button, textarea, p, blockquote, th, td":{margin:0,padding:0},img:{border:"none",maxWidth:"100%"},td:{verticalAlign:"top"},".slideDown-enter":{overflowY:"hidden",maxHeight:0,transition:"all .5s ease-out"},".slideDown-enter-active":{overflowY:"hidden",maxHeight:400},".slideDown-leave":{overflowY:"hidden",maxHeight:400,transition:"all .5s ease-out"},".slideDown-leave-active":{overflowY:"hidden",maxHeight:0},".slideRTL-enter":{position:"absolute",left:"100%",transition:"all .2s linear"},".slideRTL-enter-active":{position:"absolute",left:"0%"},".slideRTL-leave":{position:"absolute",left:"0%",transition:"all .2s linear"},".slideRTL-leave-active":{position:"absolute",left:"-100%"},".slideLTR-enter":{position:"absolute",left:"-100%",transition:"all .2s linear"},".slideLTR-enter-active":{position:"absolute",left:"0%"},".slideLTR-leave":{position:"absolute",left:"0%",transition:"all .2s linear"},".slideLTR-leave-active":{position:"absolute",left:"100%"}}},render:function(){var e=this.props,t=function(e,t){var i={},l=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var o in e)l.call(e,o)&&!l.call(t,o)&&(i[o]=e[o]);return i}(e,{}),i=this._generateId();return React.createElement("div",React.__spread({id:i},t),React.createElement(Radium.Style,{scopeSelector:"#"+i,rules:m(this.style.resets,this.props.css)}),this.props.children)},_generateId:function(){return"dopsid"+idCounter++}});module.exports=Reset;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../utils/m":37,"radium":45}],36:[function(require,module,exports){
var styles={right:{"float":"right"},left:{"float":"left"},third:{width:"33%"},full:{width:"100%"},half:{width:"48%"},hidden:{display:"none"},clear:{clear:"both",display:"block"},accountStatus:{textTransform:"capitalize"},accountStatusNoticon:{borderRadius:"50%",width:16,height:16,marginRight:10,color:"#fff",background:"#81bf16"},box:{borderRadius:2,padding:"5px 10px",background:"#f5f5f5"},light:{color:"#999"},colors:{akismetGreen:"#5e8e14",blue:"#029dd6",lighterBlue:"#13AEE7",black:"#333",darkGray:"#444",gray:"#787878",lightGray:"#bbb",veryLightGray:"#eee",offWhite:"#f9f9f9",accountActive:"#81bf16",accountInactive:"#bbb",green:"#518d2a",lighterGreen:"#57972d"},fonts:{sans:'Open Sans, "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif',serif:"Merriweather, Georgia, serif",mono:'"Courier New", Courier, monospace'},input:{width:"100%",boxShadow:"none",background:"#fff",border:"1px solid #d5d5d5",fontSize:12,padding:"8px 10px"},select:{borderRadius:3,backgroundColor:"#fff",fontSize:12,height:35,width:"100%",border:"1px solid #d5d5d5",padding:"3px 5px",minWidth:0},checkbox:{marginRight:10},errorField:{border:"1px solid #dd3d36"},errorLabel:{border:"1px solid #dd3d36",color:"#a00",display:"block",fontSize:12,margin:"5px 0 0 0",padding:5}};styles.css={"> *":{font:"14px/1.5 "+styles.fonts.sans,color:styles.colors.black},a:{color:styles.colors.blue,textDecoration:"none"},"a:hover":{textDecoration:"underline"},h1:{fontSize:34},h2:{color:styles.colors.gray,fontSize:16},h3:{fontSize:18},"h1, h2, h3":{fontFamily:styles.fonts.serif,fontWeight:500}},module.exports=styles;

},{}],37:[function(require,module,exports){
module.exports=function(){for(var e={},r=0;r<arguments.length;++r)arguments[r]&&jQuery.extend(e,arguments[r]);return e};

},{}],38:[function(require,module,exports){
(function (global){
"use strict";var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Style=require("./style.js"),printStyles=require("../print-styles.js"),PrintStyle=React.createClass({displayName:"PrintStyle",getInitialState:function(){return this._getStylesState()},componentDidMount:function(){this.subscription=printStyles.subscribe(this._onChange)},componentWillUnmount:function(){this.subscription.remove()},_onChange:function(){this.setState(this._getStylesState())},_getStylesState:function(){return{styles:printStyles.getPrintStyles()}},render:function(){return React.createElement(Style,{rules:{mediaQueries:{print:this.state.styles}}})}});module.exports=PrintStyle;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../print-styles.js":49,"./style.js":39}],39:[function(require,module,exports){
(function (global){
"use strict";var createMarkupForStyles=require("../create-markup-for-styles"),Prefixer=require("../prefixer"),React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,buildCssString=function(e,t,r){if(t&&r){var i=Prefixer.getPrefixedStyle(e,r,"css"),s=createMarkupForStyles(i);return t+"{"+s+"}"}},Style=React.createClass({displayName:"Style",propTypes:{rules:React.PropTypes.object,scopeSelector:React.PropTypes.string},getDefaultProps:function(){return{scopeSelector:""}},_buildStyles:function(e){var t=this;return Object.keys(e).reduce(function(r,i){var s=e[i];if("mediaQueries"===i)r+=t._buildMediaQueryString(s);else{var n=(t.props.scopeSelector?t.props.scopeSelector+" ":"")+i;r+=buildCssString(t,n,s)}return r},"")},_buildMediaQueryString:function(e){var t=this,r=this._getContextMediaQueries(),i="";return Object.keys(e).forEach(function(s){var n=r[s]?r[s]:s;i+="@media "+n+"{"+t._buildStyles(e[s])+"}"}),i},_getContextMediaQueries:function(){var e={};return this.context&&this.context.mediaQueries&&Object.keys(this.context.mediaQueries).forEach(function(t){e[t]=this.context.mediaQueries[t].media}.bind(this)),e},render:function(){if(!this.props.rules)return null;var e=this._buildStyles(this.props.rules);return React.createElement("style",{dangerouslySetInnerHTML:{__html:e}})}});module.exports=Style;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../create-markup-for-styles":41,"../prefixer":48}],40:[function(require,module,exports){
"use strict";var ExecutionEnvironment=require("exenv"),_matchMediaFunction=ExecutionEnvironment.canUseDOM&&window&&window.matchMedia&&function(n){return window.matchMedia(n)};module.exports={canMatchMedia:function(){return"function"==typeof _matchMediaFunction},matchMedia:function(n){return _matchMediaFunction(n)},setMatchMedia:function(n){_matchMediaFunction=n}};

},{"exenv":52}],41:[function(require,module,exports){
"use strict";var createMarkupForStyles=function(e,r){return r=r||"",Object.keys(e).map(function(t){return r+t+": "+e[t]+";"}).join("\n")};module.exports=createMarkupForStyles;

},{}],42:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),_get=function(t,e,r){for(var o=!0;o;){var n=t,i=e,s=r;a=u=l=void 0,o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(n);if(null===u)return void 0;t=u,e=i,r=s,o=!0}},resolveStyles=require("./resolve-styles.js"),printStyles=require("./print-styles.js"),enhanceWithRadium=function(t){var e=function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments),this.state=this.state||{},this.state._radiumStyleState={},e.printStyleClass&&(this.printStyleClass=e.printStyleClass)}return _inherits(e,t),_createClass(e,[{key:"render",value:function(){var t=_get(Object.getPrototypeOf(e.prototype),"render",this).call(this);return resolveStyles(this,t)}},{key:"componentWillUnmount",value:function(){_get(Object.getPrototypeOf(e.prototype),"componentWillUnmount",this)&&_get(Object.getPrototypeOf(e.prototype),"componentWillUnmount",this).call(this),this._radiumMouseUpListener&&this._radiumMouseUpListener.remove(),this._radiumMediaQueryListenersByQuery&&Object.keys(this._radiumMediaQueryListenersByQuery).forEach(function(t){this._radiumMediaQueryListenersByQuery[t].remove()},this)}}]),e}(t);return Object.getOwnPropertyNames(t.prototype).forEach(function(r){if(!e.prototype.hasOwnProperty(r)){var o=Object.getOwnPropertyDescriptor(t.prototype,r);Object.defineProperty(e.prototype,r,o)}}),e.displayName=t.displayName||t.name||"Component",e.printStyleClass=printStyles.addPrintStyles(e),e};module.exports=enhanceWithRadium;

},{"./print-styles.js":49,"./resolve-styles.js":50}],43:[function(require,module,exports){
"use strict";var getStateKey=function(t){return null===t||void 0===t?"main":t.toString()};module.exports=getStateKey;

},{}],44:[function(require,module,exports){
"use strict";var getStateKey=require("./get-state-key"),VALID_KEYS=[":active",":focus",":hover"],getState=function(t,e,a){if(-1===VALID_KEYS.indexOf(a))throw new Error("Radium.getState invalid value param: `"+a+"`");var r=getStateKey(e);return!!(t&&t._radiumStyleState&&t._radiumStyleState[r]&&t._radiumStyleState[r][a])};module.exports=getState;

},{"./get-state-key":43}],45:[function(require,module,exports){
"use strict";var Enhancer=require("./enhancer");module.exports=function(e){return Enhancer(e)},module.exports.Style=require("./components/style"),module.exports.PrintStyleSheet=require("./components/print-style-sheet"),module.exports.getState=require("./get-state"),module.exports.keyframes=require("./keyframes"),module.exports.Config=require("./config");

},{"./components/print-style-sheet":38,"./components/style":39,"./config":40,"./enhancer":42,"./get-state":44,"./keyframes":46}],46:[function(require,module,exports){
"use strict";var createMarkupForStyles=require("./create-markup-for-styles"),Prefixer=require("./prefixer"),ExecutionEnvironment=require("exenv"),isAnimationSupported=ExecutionEnvironment.canUseDOM&&Prefixer.getPrefixedPropertyName("animation")!==!1,animationIndex=1,animationStyleSheet=null,keyframesPrefixed="keyframes";isAnimationSupported&&(animationStyleSheet=document.createElement("style"),document.head.appendChild(animationStyleSheet),animationStyleSheet.textContent="@keyframes {}",animationStyleSheet.sheet.cssRules.length||(keyframesPrefixed=Prefixer.cssPrefix+"keyframes"));var keyframes=function(e,t){var n="Animation"+animationIndex;if(animationIndex+=1,!isAnimationSupported)return n;var r="@"+keyframesPrefixed+" "+n+" {\n"+Object.keys(e).map(function(n){var r=e[n],i=Prefixer.getPrefixedStyle(t,r,"css"),a=createMarkupForStyles(i,"  ");return"  "+n+" {\n  "+a+"\n  }"}).join("\n")+"\n}\n";if(!animationStyleSheet)throw new Error("keyframes not initialized properly");return animationStyleSheet.sheet.insertRule(r,animationStyleSheet.sheet.cssRules.length),n};module.exports=keyframes;

},{"./create-markup-for-styles":41,"./prefixer":48,"exenv":52}],47:[function(require,module,exports){
"use strict";var _callbacks=[],_mouseUpListenerIsActive=!1,_handleMouseUp=function(e){_callbacks.forEach(function(s){s(e)})},subscribe=function(e){return-1===_callbacks.indexOf(e)&&_callbacks.push(e),_mouseUpListenerIsActive||(window.addEventListener("mouseup",_handleMouseUp),_mouseUpListenerIsActive=!0),{remove:function(){var s=_callbacks.indexOf(e);_callbacks.splice(s,1),0===_callbacks.length&&_mouseUpListenerIsActive&&(window.removeEventListener("mouseup",_handleMouseUp),_mouseUpListenerIsActive=!1)}}};module.exports={subscribe:subscribe};

},{}],48:[function(require,module,exports){
(function (process){
"use strict";var ExecutionEnvironment=require("exenv"),arrayFind=require("array-find"),VENDOR_PREFIX_REGEX=/-(moz|webkit|ms|o)-/,vendorPrefixes=["Webkit","ms","Moz","O"],infoByCssPrefix={"-moz-":{cssPrefix:"-moz-",jsPrefix:"Moz",alternativeProperties:{alignItems:[{css:"-moz-box-align",js:"MozBoxAlign"}],flex:[{css:"-moz-box-flex",js:"MozBoxFlex"}],flexDirection:[{css:"-moz-box-orient",js:"MozBoxOrient"}],justifyContent:[{css:"-moz-box-pack",js:"MozBoxPack"}],order:[{css:"-moz-box-ordinal-group",js:"MozBoxOrdinalGroup"}]},alternativeValues:{alignItems:{"flex-start":["start"],"flex-end":["end"]},display:{flex:["-moz-box"]},flexDirection:{column:["vertical"],row:["horizontal"]},justifyContent:{"flex-start":["start"],"flex-end":["end"],"space-between":["justify"]}}},"-ms-":{cssPrefix:"-ms-",jsPrefix:"ms",alternativeProperties:{alignContent:[{css:"-ms-flex-line-pack",js:"msFlexLinePack"}],alignItems:[{css:"-ms-flex-align",js:"msFlexAlign"}],alignSelf:[{css:"-ms-flex-align-item",js:"msFlexAlignItem"}],justifyContent:[{css:"-ms-flex-pack",js:"msFlexPack"}],order:[{css:"-ms-flex-order",js:"msFlexOrder"}]},alternativeValues:{alignContent:{"flex-start":["start"],"flex-end":["end"],"space-between":["justify"],"space-around":["distribute"]},alignItems:{"flex-start":["start"],"flex-end":["end"]},alignSelf:{"flex-start":["start"],"flex-end":["end"]},display:{flex:["-ms-flexbox"],"inline-flex":["-ms-inline-flexbox"]},justifyContent:{"flex-start":["start"],"flex-end":["end"],"space-between":["justify"],"space-around":["distribute"]}}},"-o-":{cssPrefix:"-o-",jsPrefix:"O"},"-webkit-":{cssPrefix:"-webkit-",jsPrefix:"Webkit",alternativeProperties:{alignItems:[{css:"-webkit-box-align",js:"WebkitBoxAlign"}],flex:[{css:"-webkit-box-flex",js:"MozBoxFlex"}],flexDirection:[{css:"-webkit-box-orient",js:"WebkitBoxOrient"}],justifyContent:[{css:"-webkit-box-pack",js:"WebkitBoxPack"}],order:[{css:"-webkit-box-ordinal-group",js:"WebkitBoxOrdinalGroup"}]},alternativeValues:{alignItems:{"flex-start":["start"],"flex-end":["end"]},display:{flex:["-webkit-box"]},flexDirection:{row:["horizontal"],column:["vertical"]},justifyContent:{"flex-start":["start"],"flex-end":["end"],"space-between":["justify"]}}}},isUnitlessNumber={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},domStyle={},prefixedPropertyCache={},prefixedValueCache={},prefixInfo={cssPrefix:"",jsPrefix:""};if(ExecutionEnvironment.canUseDOM){domStyle=document.createElement("p").style,void 0===domStyle["float"]&&(domStyle["float"]="");for(var prefixMatch,windowStyles=window.getComputedStyle(document.documentElement,""),i=0;i<windowStyles.length&&!(prefixMatch=windowStyles[i].match(VENDOR_PREFIX_REGEX));i++);var cssVendorPrefix=prefixMatch&&prefixMatch[0];prefixInfo=cssVendorPrefix&&infoByCssPrefix[cssVendorPrefix]?infoByCssPrefix[cssVendorPrefix]:prefixInfo}var _camelCaseRegex=/([a-z])?([A-Z])/g,_camelCaseReplacer=function(e,r,t){return r+"-"+t.toLowerCase()},_camelCaseToDashCase=function(e){return e.replace(_camelCaseRegex,_camelCaseReplacer)},getPrefixedPropertyName=function(e){if(prefixedPropertyCache.hasOwnProperty(e))return prefixedPropertyCache[e];var r={css:_camelCaseToDashCase(e),js:e,isDefaultForServer:!0},t=[{css:prefixInfo.cssPrefix+_camelCaseToDashCase(e),js:prefixInfo.jsPrefix+e[0].toUpperCase()+e.slice(1)},r];prefixInfo.alternativeProperties&&prefixInfo.alternativeProperties[e]&&(t=t.concat(prefixInfo.alternativeProperties[e]));var i=arrayFind(t,function(e){return e.js in domStyle?e:void 0})||!1;return prefixedPropertyCache[e]=i},_getUnprefixedProperty=function(e){var r=e;return vendorPrefixes.some(function(t){return 0===e.indexOf(t)?(r=r.replace(t,""),r=r.charAt(0).toLowerCase()+r.slice(1),!0):void 0}),r},_addPixelSuffixToValueIfNeeded=function(e,r){var t=_getUnprefixedProperty(e);return 0===r||isNaN(r)||isUnitlessNumber[t]?r:r+"px"},_getPrefixedValue=function(e,r,t,i){if(!Array.isArray(t)){if(!isNaN(t)&&null!==t)return _addPixelSuffixToValueIfNeeded(i,t);if("string"!=typeof t){if(null===t||void 0===t)return t;t=t.toString()}if(!isNaN(parseInt(t,10)))return t}var s=Array.isArray(t)?t.join(" || "):r+t;if(prefixedValueCache.hasOwnProperty(s))return prefixedValueCache[s];var n;Array.isArray(t)?(n=t.map(function(e){return _addPixelSuffixToValueIfNeeded(i,e)}),n=n.concat(t.filter(function(e){return!isNaN(e)}).map(function(e){return prefixInfo.cssPrefix+e}))):n=[t,prefixInfo.cssPrefix+t],prefixInfo.alternativeValues&&prefixInfo.alternativeValues[i]&&prefixInfo.alternativeValues[i][t]&&(n=n.concat(prefixInfo.alternativeValues[i][t]));var o=arrayFind(n,function(e){return domStyle[r]="",domStyle[r]=e,!!domStyle[r]});if(o)prefixedValueCache[s]=o;else if(prefixedValueCache[s]=t,"production"!==process.env.NODE_ENV&&console&&console.warn){var a=e?' in component "'+e.constructor.displayName+'"':"";console.warn('Unsupported CSS value "'+t+'" for property "'+r+'$"'+a)}return prefixedValueCache[s]},getPrefixedStyle=function(e,r){var t=arguments.length<=2||void 0===arguments[2]?"js":arguments[2];if(!ExecutionEnvironment.canUseDOM)return Object.keys(r).reduce(function(e,i){var s=r[i],n="css"===t?_camelCaseToDashCase(i):i,o=Array.isArray(s)?s[0]:s;return e[n]=o,e},{});var i={};return Object.keys(r).forEach(function(s){var n=r[s],o=getPrefixedPropertyName(s);if(o!==!1||"production"===process.env.NODE_ENV){var a=_getPrefixedValue(e,o.js,n,s);i[o[t]]=a}else if(console&&console.warn){var f=e?' in component "'+e.constructor.displayName+'"':"";console.warn('Unsupported CSS property "'+s+'$"'+f)}}),i};module.exports={getPrefixedPropertyName:getPrefixedPropertyName,getPrefixedStyle:getPrefixedStyle,cssPrefix:prefixInfo.cssPrefix,jsPrefix:prefixInfo.jsPrefix};

}).call(this,require('_process'))

},{"_process":57,"array-find":51,"exenv":52}],49:[function(require,module,exports){
"use strict";var allPrintStyles={},listeners=[],subscribe=function(t){return-1===listeners.indexOf(t)&&listeners.push(t),{remove:function(){var e=listeners.indexOf(t);e>-1&&listeners.splice(e,1)}}},_emitChange=function(){listeners.forEach(function(t){return t()})},_appendImportantToEachValue=function(t){var e={};return Object.keys(t).forEach(function(n){var r=t[n];r+=" !important",e[n]=r}),e},addPrintStyles=function(t){if(t.printStyles){var e={};return Object.keys(t.printStyles).forEach(function(n){var r=t.printStyles[n],i="Radium-"+t.displayName+"-"+n;allPrintStyles["."+i]=_appendImportantToEachValue(r),e[n]=i}),_emitChange(),e}},getPrintStyles=function(){return allPrintStyles};module.exports={addPrintStyles:addPrintStyles,getPrintStyles:getPrintStyles,subscribe:subscribe};

},{}],50:[function(require,module,exports){
(function (process,global){
"use strict";var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},MouseUpListener=require("./mouse-up-listener"),getState=require("./get-state"),getStateKey=require("./get-state-key"),Prefixer=require("./prefixer"),Config=require("./config"),ExecutionEnvironment=require("exenv"),React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,mediaQueryListByQueryString={},_isSpecialKey=function(e){return":"===e[0]||"@"===e[0]},_getStyleState=function(e,t,r){return getState(e.state,t,r)},_setStyleState=function(e,t,r){var o=e._lastRadiumState||e.state&&e.state._radiumStyleState||{},n={_radiumStyleState:_extends({},o)};n._radiumStyleState[t]=_extends({},n._radiumStyleState[t],r),e._lastRadiumState=n._radiumStyleState,e.setState(n)},_mergeStyles=function e(t){var r={};return t.forEach(function(t){t&&"object"==typeof t&&!Array.isArray(t)&&Object.keys(t).forEach(function(o){_isSpecialKey(o)&&r[o]?r[o]=e([r[o],t[o]]):r[o]=t[o]})}),r},_mouseUp=function(e){Object.keys(e.state._radiumStyleState).forEach(function(t){_getStyleState(e,t,":active")&&_setStyleState(e,t,{":active":!1})})},_onMediaQueryChange=function(e,t,r){var o={};o[t]=r.matches,_setStyleState(e,"_all",o)},_resolveMediaQueryStyles=function(e,t){return Config.canMatchMedia()?(Object.keys(t).filter(function(e){return"@"===e[0]}).map(function(r){var o=t[r];r=r.replace("@media ","");var n=mediaQueryListByQueryString[r];if(n||(mediaQueryListByQueryString[r]=n=Config.matchMedia(r)),e._radiumMediaQueryListenersByQuery||(e._radiumMediaQueryListenersByQuery={}),!e._radiumMediaQueryListenersByQuery[r]){var i=_onMediaQueryChange.bind(null,e,r);n.addListener(i),e._radiumMediaQueryListenersByQuery[r]={remove:function(){n.removeListener(i)}}}n.matches&&(t=_mergeStyles([t,o]))}),t):t},_cloneElement=function(e,t,r){return"string"==typeof e.type&&(t=_extends({},t,{_radiumDidResolveStyles:!0})),React.cloneElement(e,t,r)},resolveStyles=function t(e,r,o){if(o=o||{},!r||r.props&&r.props._radiumDidResolveStyles)return r;var n=r.props.children,i=n;if(n){var a=typeof n;if("string"===a||"number"===a)i=n;else if("function"===a)i=function(){var r=n.apply(this,arguments);return React.isValidElement(r)?t(e,r,o):r};else if(1===React.Children.count(n)&&n.type){var s=React.Children.only(n);i=t(e,s,o)}else i=React.Children.map(n,function(r){return React.isValidElement(r)?t(e,r,o):r})}var u=r.props,d={};Object.keys(u).forEach(function(r){if("children"!==r){var n=u[r];React.isValidElement(n)&&(d[r]=t(e,n,o))}});var c=Object.keys(d).length>0;if(!React.isValidElement(r)||"string"!=typeof r.type)return n!==i||c?_cloneElement(r,c?d:{},i):r;var l=u.style;if(Array.isArray(l)&&(l=_mergeStyles(l)),"production"!==process.env.NODE_ENV){var y={background:["backgroundAttachment","backgroundBlendMode","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPosition","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundRepeatX","backgroundRepeatY","backgroundSize"],border:["borderBottom","borderBottomColor","borderBottomStyle","borderBottomWidth","borderColor","borderLeft","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRight","borderRightColor","borderRightStyle","borderRightWidth","borderStyle","borderTop","borderTopColor","borderTopStyle","borderTopWidth","borderWidth"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],font:["fontFamily","fontKerning","fontSize","fontStretch","fontStyle","fontVariant","fontVariantLigatures","fontWeight","lineHeight"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"]},f=function k(t){if("object"==typeof t&&t){var r=Object.keys(t);r.forEach(function(t){y[t]&&y[t].some(function(e){return-1!==r.indexOf(e)})&&"production"!==process.env.NODE_ENV&&console.warn('Radium: property "'+t+'" in style object',l,": do not mix longhand and shorthand properties in the same style object. Check the render method of "+e.constructor.displayName+".","See https://github.com/FormidableLabs/radium/issues/95 for more information.")}),r.forEach(function(e){return k(t[e])})}};f(l)}if(!l||!Object.keys(l).some(_isSpecialKey))return l?(d.style=Prefixer.getPrefixedStyle(e,l),_cloneElement(r,d,i)):i||c?_cloneElement(r,d,i):r;var m=r.ref||r.key,g=getStateKey(m);if(o[g])throw new Error("Radium requires each element with interactive styles to have a unique key, set using either the ref or key prop. "+(m?'Key "'+m+'" is a duplicate.':"Multiple elements have no key specified."));o[g]=!0,l=_resolveMediaQueryStyles(e,l);var S={};if(Object.keys(l).forEach(function(e){_isSpecialKey(e)||(S[e]=l[e])}),l[":hover"]||l[":active"]){var p=u.onMouseEnter;d.onMouseEnter=function(t){p&&p(t),_setStyleState(e,g,{":hover":!0})};var b=u.onMouseLeave;d.onMouseLeave=function(t){b&&b(t),_setStyleState(e,g,{":hover":!1})}}if(l[":active"]){var h=u.onMouseDown;d.onMouseDown=function(t){h&&h(t),e._lastMouseDown=Date.now(),_setStyleState(e,g,{":active":!0})}}if(l[":focus"]){var v=u.onFocus;d.onFocus=function(t){v&&v(t),_setStyleState(e,g,{":focus":!0})};var _=u.onBlur;d.onBlur=function(t){_&&_(t),_setStyleState(e,g,{":focus":!1})}}var R=Object.keys(l).filter(function(t){return":active"===t&&_getStyleState(e,g,":active")||":hover"===t&&_getStyleState(e,g,":hover")||":focus"===t&&_getStyleState(e,g,":focus")}).map(function(e){return l[e]});return R.length&&(S=_mergeStyles([S].concat(R))),l[":active"]&&!e._radiumMouseUpListener&&ExecutionEnvironment.canUseEventListeners&&(e._radiumMouseUpListener=MouseUpListener.subscribe(_mouseUp.bind(null,e))),d.style=Prefixer.getPrefixedStyle(e,S),_cloneElement(r,d,i)};resolveStyles.__clearStateForTests=function(){mediaQueryListByQueryString={}},module.exports=resolveStyles;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./config":40,"./get-state":44,"./get-state-key":43,"./mouse-up-listener":47,"./prefixer":48,"_process":57,"exenv":52}],51:[function(require,module,exports){
"use strict";function find(n,t,r){if("function"==typeof Array.prototype.find)return n.find(t,r);r=r||this;var f,i=n.length;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(f=0;i>f;f++)if(t.call(r,n[f],f,n))return n[f]}module.exports=find;

},{}],52:[function(require,module,exports){
!function(){"use strict";var e=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:e,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:e&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:e&&!!window.screen};"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:window.ExecutionEnvironment=n}();

},{}],53:[function(require,module,exports){
module.exports.Dispatcher=require("./lib/Dispatcher");

},{"./lib/Dispatcher":54}],54:[function(require,module,exports){
(function (process){
"use strict";function _classCallCheck(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var invariant=require("fbjs/lib/invariant"),_prefix="ID_",Dispatcher=function(){function i(){_classCallCheck(this,i),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return i.prototype.register=function(i){var t=_prefix+this._lastID++;return this._callbacks[t]=i,t},i.prototype.unregister=function(i){this._callbacks[i]?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"Dispatcher.unregister(...): `%s` does not map to a registered callback.",i):invariant(!1),delete this._callbacks[i]},i.prototype.waitFor=function(i){this._isDispatching?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"Dispatcher.waitFor(...): Must be invoked while dispatching."):invariant(!1);for(var t=0;t<i.length;t++){var s=i[t];this._isPending[s]?this._isHandled[s]?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",s):invariant(!1):(this._callbacks[s]?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",s):invariant(!1),this._invokeCallback(s))}},i.prototype.dispatch=function(i){this._isDispatching?"production"!==process.env.NODE_ENV?invariant(!1,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."):invariant(!1):void 0,this._startDispatching(i);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},i.prototype.isDispatching=function(){return this._isDispatching},i.prototype._invokeCallback=function(i){this._isPending[i]=!0,this._callbacks[i](this._pendingPayload),this._isHandled[i]=!0},i.prototype._startDispatching=function(i){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=i,this._isDispatching=!0},i.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},i}();module.exports=Dispatcher;

}).call(this,require('_process'))

},{"_process":57,"fbjs/lib/invariant":55}],55:[function(require,module,exports){
(function (process){
"use strict";var invariant=function(r,e,n,i,o,a,t,s){if("production"!==process.env.NODE_ENV&&void 0===e)throw new Error("invariant requires an error message argument");if(!r){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[n,i,o,a,t,s],d=0;u=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return v[d++]}))}throw u.framesToPop=1,u}};module.exports=invariant;

}).call(this,require('_process'))

},{"_process":57}],56:[function(require,module,exports){
function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,n,s,i,r,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],isUndefined(n))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];n.apply(this,i)}else if(isObject(n)){for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];for(o=n.slice(),s=o.length,r=0;s>r;r++)o[r].apply(this,i)}return!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned){var n;n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function n(){this.removeListener(e,n),s||(s=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var s=!1;return n.listener=t,this.on(e,n),this},EventEmitter.prototype.removeListener=function(e,t){var n,s,i,r;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,s=-1,n===t||isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(n)){for(r=i;r-->0;)if(n[r]===t||n[r].listener&&n[r].listener===t){s=r;break}if(0>s)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],isFunction(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?isFunction(e._events[t])?1:e._events[t].length:0};

},{}],57:[function(require,module,exports){
function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(!draining){var e=setTimeout(cleanUpNextTick);draining=!0;for(var n=queue.length;n;){for(currentQueue=queue,queue=[];++queueIndex<n;)currentQueue[queueIndex].run();queueIndex=-1,n=queue.length}currentQueue=null,draining=!1,clearTimeout(e)}}function Item(e,n){this.fun=e,this.array=n}function noop(){}var process=module.exports={},queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];queue.push(new Item(e,n)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}],58:[function(require,module,exports){
"use strict";var keyMirror=function(r){var e,o={};if(!(r instanceof Object)||Array.isArray(r))throw new Error("keyMirror(...): Argument must be an object.");for(e in r)r.hasOwnProperty(e)&&(o[e]=e);return o};module.exports=keyMirror;

},{}],59:[function(require,module,exports){
(function (global){
"use strict";var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Style=require("./style.js"),printStyles=require("../print-styles.js"),PrintStyle=React.createClass({displayName:"PrintStyle",getInitialState:function(){return this._getStylesState()},componentDidMount:function(){this.subscription=printStyles.subscribe(this._onChange)},componentWillUnmount:function(){this.subscription.remove()},_onChange:function(){this.setState(this._getStylesState())},_getStylesState:function(){return{styles:printStyles.getPrintStyles()}},render:function(){return React.createElement(Style,{rules:{mediaQueries:{print:this.state.styles}}})}});module.exports=PrintStyle;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../print-styles.js":70,"./style.js":60}],60:[function(require,module,exports){
(function (global){
"use strict";var createMarkupForStyles=require("../create-markup-for-styles"),Prefixer=require("../prefixer"),React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,buildCssString=function(e,t,r){if(t&&r){var i=Prefixer.getPrefixedStyle(e,r,"css"),s=createMarkupForStyles(i);return t+"{"+s+"}"}},Style=React.createClass({displayName:"Style",propTypes:{rules:React.PropTypes.object,scopeSelector:React.PropTypes.string},getDefaultProps:function(){return{scopeSelector:""}},_buildStyles:function(e){var t=this;return Object.keys(e).reduce(function(r,i){var s=e[i];if("mediaQueries"===i)r+=t._buildMediaQueryString(s);else{var n=(t.props.scopeSelector?t.props.scopeSelector+" ":"")+i;r+=buildCssString(t,n,s)}return r},"")},_buildMediaQueryString:function(e){var t=this,r=this._getContextMediaQueries(),i="";return Object.keys(e).forEach(function(s){var n=r[s]?r[s]:s;i+="@media "+n+"{"+t._buildStyles(e[s])+"}"}),i},_getContextMediaQueries:function(){var e={};return this.context&&this.context.mediaQueries&&Object.keys(this.context.mediaQueries).forEach(function(t){e[t]=this.context.mediaQueries[t].media}.bind(this)),e},render:function(){if(!this.props.rules)return null;var e=this._buildStyles(this.props.rules);return React.createElement("style",{dangerouslySetInnerHTML:{__html:e}})}});module.exports=Style;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../create-markup-for-styles":62,"../prefixer":69}],61:[function(require,module,exports){
"use strict";var ExecutionEnvironment=require("exenv"),_matchMediaFunction=ExecutionEnvironment.canUseDOM&&window&&window.matchMedia&&function(n){return window.matchMedia(n)};module.exports={canMatchMedia:function(){return"function"==typeof _matchMediaFunction},matchMedia:function(n){return _matchMediaFunction(n)},setMatchMedia:function(n){_matchMediaFunction=n}};

},{"exenv":73}],62:[function(require,module,exports){
"use strict";var createMarkupForStyles=function(e,r){return r=r||"",Object.keys(e).map(function(t){return r+t+": "+e[t]+";"}).join("\n")};module.exports=createMarkupForStyles;

},{}],63:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),_get=function(t,e,r){for(var o=!0;o;){var n=t,i=e,s=r;a=u=l=void 0,o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(n);if(null===u)return void 0;t=u,e=i,r=s,o=!0}},resolveStyles=require("./resolve-styles.js"),printStyles=require("./print-styles.js"),enhanceWithRadium=function(t){var e=function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments),this.state=this.state||{},this.state._radiumStyleState={},e.printStyleClass&&(this.printStyleClass=e.printStyleClass)}return _inherits(e,t),_createClass(e,[{key:"render",value:function(){var t=_get(Object.getPrototypeOf(e.prototype),"render",this).call(this);return resolveStyles(this,t)}},{key:"componentWillUnmount",value:function(){_get(Object.getPrototypeOf(e.prototype),"componentWillUnmount",this)&&_get(Object.getPrototypeOf(e.prototype),"componentWillUnmount",this).call(this),this._radiumMouseUpListener&&this._radiumMouseUpListener.remove(),this._radiumMediaQueryListenersByQuery&&Object.keys(this._radiumMediaQueryListenersByQuery).forEach(function(t){this._radiumMediaQueryListenersByQuery[t].remove()},this)}}]),e}(t);return Object.getOwnPropertyNames(t.prototype).forEach(function(r){if(!e.prototype.hasOwnProperty(r)){var o=Object.getOwnPropertyDescriptor(t.prototype,r);Object.defineProperty(e.prototype,r,o)}}),e.displayName=t.displayName||t.name||"Component",e.printStyleClass=printStyles.addPrintStyles(e),e};module.exports=enhanceWithRadium;

},{"./print-styles.js":70,"./resolve-styles.js":71}],64:[function(require,module,exports){
"use strict";var getStateKey=function(t){return null===t||void 0===t?"main":t.toString()};module.exports=getStateKey;

},{}],65:[function(require,module,exports){
"use strict";var getStateKey=require("./get-state-key"),VALID_KEYS=[":active",":focus",":hover"],getState=function(t,e,a){if(-1===VALID_KEYS.indexOf(a))throw new Error("Radium.getState invalid value param: `"+a+"`");var r=getStateKey(e);return!!(t&&t._radiumStyleState&&t._radiumStyleState[r]&&t._radiumStyleState[r][a])};module.exports=getState;

},{"./get-state-key":64}],66:[function(require,module,exports){
"use strict";var Enhancer=require("./enhancer");module.exports=function(e){return Enhancer(e)},module.exports.Style=require("./components/style"),module.exports.PrintStyleSheet=require("./components/print-style-sheet"),module.exports.getState=require("./get-state"),module.exports.keyframes=require("./keyframes"),module.exports.Config=require("./config");

},{"./components/print-style-sheet":59,"./components/style":60,"./config":61,"./enhancer":63,"./get-state":65,"./keyframes":67}],67:[function(require,module,exports){
"use strict";var createMarkupForStyles=require("./create-markup-for-styles"),Prefixer=require("./prefixer"),ExecutionEnvironment=require("exenv"),isAnimationSupported=ExecutionEnvironment.canUseDOM&&Prefixer.getPrefixedPropertyName("animation")!==!1,animationIndex=1,animationStyleSheet=null,keyframesPrefixed="keyframes";isAnimationSupported&&(animationStyleSheet=document.createElement("style"),document.head.appendChild(animationStyleSheet),animationStyleSheet.textContent="@keyframes {}",animationStyleSheet.sheet.cssRules.length||(keyframesPrefixed=Prefixer.cssPrefix+"keyframes"));var keyframes=function(e,t){var n="Animation"+animationIndex;if(animationIndex+=1,!isAnimationSupported)return n;var r="@"+keyframesPrefixed+" "+n+" {\n"+Object.keys(e).map(function(n){var r=e[n],i=Prefixer.getPrefixedStyle(t,r,"css"),a=createMarkupForStyles(i,"  ");return"  "+n+" {\n  "+a+"\n  }"}).join("\n")+"\n}\n";if(!animationStyleSheet)throw new Error("keyframes not initialized properly");return animationStyleSheet.sheet.insertRule(r,animationStyleSheet.sheet.cssRules.length),n};module.exports=keyframes;

},{"./create-markup-for-styles":62,"./prefixer":69,"exenv":73}],68:[function(require,module,exports){
"use strict";var _callbacks=[],_mouseUpListenerIsActive=!1,_handleMouseUp=function(e){_callbacks.forEach(function(s){s(e)})},subscribe=function(e){return-1===_callbacks.indexOf(e)&&_callbacks.push(e),_mouseUpListenerIsActive||(window.addEventListener("mouseup",_handleMouseUp),_mouseUpListenerIsActive=!0),{remove:function(){var s=_callbacks.indexOf(e);_callbacks.splice(s,1),0===_callbacks.length&&_mouseUpListenerIsActive&&(window.removeEventListener("mouseup",_handleMouseUp),_mouseUpListenerIsActive=!1)}}};module.exports={subscribe:subscribe};

},{}],69:[function(require,module,exports){
(function (process){
"use strict";var ExecutionEnvironment=require("exenv"),arrayFind=require("array-find"),VENDOR_PREFIX_REGEX=/-(moz|webkit|ms|o)-/,vendorPrefixes=["Webkit","ms","Moz","O"],infoByCssPrefix={"-moz-":{cssPrefix:"-moz-",jsPrefix:"Moz",alternativeProperties:{alignItems:[{css:"-moz-box-align",js:"MozBoxAlign"}],flex:[{css:"-moz-box-flex",js:"MozBoxFlex"}],flexDirection:[{css:"-moz-box-orient",js:"MozBoxOrient"}],justifyContent:[{css:"-moz-box-pack",js:"MozBoxPack"}],order:[{css:"-moz-box-ordinal-group",js:"MozBoxOrdinalGroup"}]},alternativeValues:{alignItems:{"flex-start":["start"],"flex-end":["end"]},display:{flex:["-moz-box"]},flexDirection:{column:["vertical"],row:["horizontal"]},justifyContent:{"flex-start":["start"],"flex-end":["end"],"space-between":["justify"]}}},"-ms-":{cssPrefix:"-ms-",jsPrefix:"ms",alternativeProperties:{alignContent:[{css:"-ms-flex-line-pack",js:"msFlexLinePack"}],alignItems:[{css:"-ms-flex-align",js:"msFlexAlign"}],alignSelf:[{css:"-ms-flex-align-item",js:"msFlexAlignItem"}],justifyContent:[{css:"-ms-flex-pack",js:"msFlexPack"}],order:[{css:"-ms-flex-order",js:"msFlexOrder"}]},alternativeValues:{alignContent:{"flex-start":["start"],"flex-end":["end"],"space-between":["justify"],"space-around":["distribute"]},alignItems:{"flex-start":["start"],"flex-end":["end"]},alignSelf:{"flex-start":["start"],"flex-end":["end"]},display:{flex:["-ms-flexbox"],"inline-flex":["-ms-inline-flexbox"]},justifyContent:{"flex-start":["start"],"flex-end":["end"],"space-between":["justify"],"space-around":["distribute"]}}},"-o-":{cssPrefix:"-o-",jsPrefix:"O"},"-webkit-":{cssPrefix:"-webkit-",jsPrefix:"Webkit",alternativeProperties:{alignItems:[{css:"-webkit-box-align",js:"WebkitBoxAlign"}],flex:[{css:"-webkit-box-flex",js:"MozBoxFlex"}],flexDirection:[{css:"-webkit-box-orient",js:"WebkitBoxOrient"}],justifyContent:[{css:"-webkit-box-pack",js:"WebkitBoxPack"}],order:[{css:"-webkit-box-ordinal-group",js:"WebkitBoxOrdinalGroup"}]},alternativeValues:{alignItems:{"flex-start":["start"],"flex-end":["end"]},display:{flex:["-webkit-box"]},flexDirection:{row:["horizontal"],column:["vertical"]},justifyContent:{"flex-start":["start"],"flex-end":["end"],"space-between":["justify"]}}}},isUnitlessNumber={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},domStyle={},prefixedPropertyCache={},prefixedValueCache={},prefixInfo={cssPrefix:"",jsPrefix:""};if(ExecutionEnvironment.canUseDOM){domStyle=document.createElement("p").style,void 0===domStyle["float"]&&(domStyle["float"]="");for(var prefixMatch,windowStyles=window.getComputedStyle(document.documentElement,""),i=0;i<windowStyles.length&&!(prefixMatch=windowStyles[i].match(VENDOR_PREFIX_REGEX));i++);var cssVendorPrefix=prefixMatch&&prefixMatch[0];prefixInfo=cssVendorPrefix&&infoByCssPrefix[cssVendorPrefix]?infoByCssPrefix[cssVendorPrefix]:prefixInfo}var _camelCaseRegex=/([a-z])?([A-Z])/g,_camelCaseReplacer=function(e,r,t){return r+"-"+t.toLowerCase()},_camelCaseToDashCase=function(e){return e.replace(_camelCaseRegex,_camelCaseReplacer)},getPrefixedPropertyName=function(e){if(prefixedPropertyCache.hasOwnProperty(e))return prefixedPropertyCache[e];var r={css:_camelCaseToDashCase(e),js:e,isDefaultForServer:!0},t=[{css:prefixInfo.cssPrefix+_camelCaseToDashCase(e),js:prefixInfo.jsPrefix+e[0].toUpperCase()+e.slice(1)},r];prefixInfo.alternativeProperties&&prefixInfo.alternativeProperties[e]&&(t=t.concat(prefixInfo.alternativeProperties[e]));var i=arrayFind(t,function(e){return e.js in domStyle?e:void 0})||!1;return prefixedPropertyCache[e]=i},_getUnprefixedProperty=function(e){var r=e;return vendorPrefixes.some(function(t){return 0===e.indexOf(t)?(r=r.replace(t,""),r=r.charAt(0).toLowerCase()+r.slice(1),!0):void 0}),r},_addPixelSuffixToValueIfNeeded=function(e,r){var t=_getUnprefixedProperty(e);return 0===r||isNaN(r)||isUnitlessNumber[t]?r:r+"px"},_getPrefixedValue=function(e,r,t,i){if(!Array.isArray(t)){if(!isNaN(t)&&null!==t)return _addPixelSuffixToValueIfNeeded(i,t);if("string"!=typeof t){if(null===t||void 0===t)return t;t=t.toString()}if(!isNaN(parseInt(t,10)))return t}var s=Array.isArray(t)?t.join(" || "):r+t;if(prefixedValueCache.hasOwnProperty(s))return prefixedValueCache[s];var n;Array.isArray(t)?(n=t.map(function(e){return _addPixelSuffixToValueIfNeeded(i,e)}),n=n.concat(t.filter(function(e){return!isNaN(e)}).map(function(e){return prefixInfo.cssPrefix+e}))):n=[t,prefixInfo.cssPrefix+t],prefixInfo.alternativeValues&&prefixInfo.alternativeValues[i]&&prefixInfo.alternativeValues[i][t]&&(n=n.concat(prefixInfo.alternativeValues[i][t]));var o=arrayFind(n,function(e){return domStyle[r]="",domStyle[r]=e,!!domStyle[r]});if(o)prefixedValueCache[s]=o;else if(prefixedValueCache[s]=t,"production"!==process.env.NODE_ENV&&console&&console.warn){var a=e?' in component "'+e.constructor.displayName+'"':"";console.warn('Unsupported CSS value "'+t+'" for property "'+r+'$"'+a)}return prefixedValueCache[s]},getPrefixedStyle=function(e,r){var t=arguments.length<=2||void 0===arguments[2]?"js":arguments[2];if(!ExecutionEnvironment.canUseDOM)return Object.keys(r).reduce(function(e,i){var s=r[i],n="css"===t?_camelCaseToDashCase(i):i,o=Array.isArray(s)?s[0]:s;return e[n]=o,e},{});var i={};return Object.keys(r).forEach(function(s){var n=r[s],o=getPrefixedPropertyName(s);if(o!==!1||"production"===process.env.NODE_ENV){var a=_getPrefixedValue(e,o.js,n,s);i[o[t]]=a}else if(console&&console.warn){var f=e?' in component "'+e.constructor.displayName+'"':"";console.warn('Unsupported CSS property "'+s+'$"'+f)}}),i};module.exports={getPrefixedPropertyName:getPrefixedPropertyName,getPrefixedStyle:getPrefixedStyle,cssPrefix:prefixInfo.cssPrefix,jsPrefix:prefixInfo.jsPrefix};

}).call(this,require('_process'))

},{"_process":57,"array-find":72,"exenv":73}],70:[function(require,module,exports){
"use strict";var allPrintStyles={},listeners=[],subscribe=function(t){return-1===listeners.indexOf(t)&&listeners.push(t),{remove:function(){var e=listeners.indexOf(t);e>-1&&listeners.splice(e,1)}}},_emitChange=function(){listeners.forEach(function(t){return t()})},_appendImportantToEachValue=function(t){var e={};return Object.keys(t).forEach(function(n){var r=t[n];r+=" !important",e[n]=r}),e},addPrintStyles=function(t){if(t.printStyles){var e={};return Object.keys(t.printStyles).forEach(function(n){var r=t.printStyles[n],i="Radium-"+t.displayName+"-"+n;allPrintStyles["."+i]=_appendImportantToEachValue(r),e[n]=i}),_emitChange(),e}},getPrintStyles=function(){return allPrintStyles};module.exports={addPrintStyles:addPrintStyles,getPrintStyles:getPrintStyles,subscribe:subscribe};

},{}],71:[function(require,module,exports){
(function (process,global){
"use strict";var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},MouseUpListener=require("./mouse-up-listener"),getState=require("./get-state"),getStateKey=require("./get-state-key"),Prefixer=require("./prefixer"),Config=require("./config"),ExecutionEnvironment=require("exenv"),React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,mediaQueryListByQueryString={},_isSpecialKey=function(e){return":"===e[0]||"@"===e[0]},_getStyleState=function(e,t,r){return getState(e.state,t,r)},_setStyleState=function(e,t,r){var o=e._lastRadiumState||e.state&&e.state._radiumStyleState||{},n={_radiumStyleState:_extends({},o)};n._radiumStyleState[t]=_extends({},n._radiumStyleState[t],r),e._lastRadiumState=n._radiumStyleState,e.setState(n)},_mergeStyles=function e(t){var r={};return t.forEach(function(t){t&&"object"==typeof t&&!Array.isArray(t)&&Object.keys(t).forEach(function(o){_isSpecialKey(o)&&r[o]?r[o]=e([r[o],t[o]]):r[o]=t[o]})}),r},_mouseUp=function(e){Object.keys(e.state._radiumStyleState).forEach(function(t){_getStyleState(e,t,":active")&&_setStyleState(e,t,{":active":!1})})},_onMediaQueryChange=function(e,t,r){var o={};o[t]=r.matches,_setStyleState(e,"_all",o)},_resolveMediaQueryStyles=function(e,t){return Config.canMatchMedia()?(Object.keys(t).filter(function(e){return"@"===e[0]}).map(function(r){var o=t[r];r=r.replace("@media ","");var n=mediaQueryListByQueryString[r];if(n||(mediaQueryListByQueryString[r]=n=Config.matchMedia(r)),e._radiumMediaQueryListenersByQuery||(e._radiumMediaQueryListenersByQuery={}),!e._radiumMediaQueryListenersByQuery[r]){var i=_onMediaQueryChange.bind(null,e,r);n.addListener(i),e._radiumMediaQueryListenersByQuery[r]={remove:function(){n.removeListener(i)}}}n.matches&&(t=_mergeStyles([t,o]))}),t):t},_cloneElement=function(e,t,r){return"string"==typeof e.type&&(t=_extends({},t,{_radiumDidResolveStyles:!0})),React.cloneElement(e,t,r)},resolveStyles=function t(e,r,o){if(o=o||{},!r||r.props&&r.props._radiumDidResolveStyles)return r;var n=r.props.children,i=n;if(n){var a=typeof n;if("string"===a||"number"===a)i=n;else if("function"===a)i=function(){var r=n.apply(this,arguments);return React.isValidElement(r)?t(e,r,o):r};else if(1===React.Children.count(n)&&n.type){var s=React.Children.only(n);i=t(e,s,o)}else i=React.Children.map(n,function(r){return React.isValidElement(r)?t(e,r,o):r})}var u=r.props,d={};Object.keys(u).forEach(function(r){if("children"!==r){var n=u[r];React.isValidElement(n)&&(d[r]=t(e,n,o))}});var c=Object.keys(d).length>0;if(!React.isValidElement(r)||"string"!=typeof r.type)return n!==i||c?_cloneElement(r,c?d:{},i):r;var l=u.style;if(Array.isArray(l)&&(l=_mergeStyles(l)),"production"!==process.env.NODE_ENV){var y={background:["backgroundAttachment","backgroundBlendMode","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPosition","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundRepeatX","backgroundRepeatY","backgroundSize"],border:["borderBottom","borderBottomColor","borderBottomStyle","borderBottomWidth","borderColor","borderLeft","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRight","borderRightColor","borderRightStyle","borderRightWidth","borderStyle","borderTop","borderTopColor","borderTopStyle","borderTopWidth","borderWidth"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],font:["fontFamily","fontKerning","fontSize","fontStretch","fontStyle","fontVariant","fontVariantLigatures","fontWeight","lineHeight"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"]},f=function k(t){if("object"==typeof t&&t){var r=Object.keys(t);r.forEach(function(t){y[t]&&y[t].some(function(e){return-1!==r.indexOf(e)})&&"production"!==process.env.NODE_ENV&&console.warn('Radium: property "'+t+'" in style object',l,": do not mix longhand and shorthand properties in the same style object. Check the render method of "+e.constructor.displayName+".","See https://github.com/FormidableLabs/radium/issues/95 for more information.")}),r.forEach(function(e){return k(t[e])})}};f(l)}if(!l||!Object.keys(l).some(_isSpecialKey))return l?(d.style=Prefixer.getPrefixedStyle(e,l),_cloneElement(r,d,i)):i||c?_cloneElement(r,d,i):r;var m=r.ref||r.key,g=getStateKey(m);if(o[g])throw new Error("Radium requires each element with interactive styles to have a unique key, set using either the ref or key prop. "+(m?'Key "'+m+'" is a duplicate.':"Multiple elements have no key specified."));o[g]=!0,l=_resolveMediaQueryStyles(e,l);var S={};if(Object.keys(l).forEach(function(e){_isSpecialKey(e)||(S[e]=l[e])}),l[":hover"]||l[":active"]){var p=u.onMouseEnter;d.onMouseEnter=function(t){p&&p(t),_setStyleState(e,g,{":hover":!0})};var b=u.onMouseLeave;d.onMouseLeave=function(t){b&&b(t),_setStyleState(e,g,{":hover":!1})}}if(l[":active"]){var h=u.onMouseDown;d.onMouseDown=function(t){h&&h(t),e._lastMouseDown=Date.now(),_setStyleState(e,g,{":active":!0})}}if(l[":focus"]){var v=u.onFocus;d.onFocus=function(t){v&&v(t),_setStyleState(e,g,{":focus":!0})};var _=u.onBlur;d.onBlur=function(t){_&&_(t),_setStyleState(e,g,{":focus":!1})}}var R=Object.keys(l).filter(function(t){return":active"===t&&_getStyleState(e,g,":active")||":hover"===t&&_getStyleState(e,g,":hover")||":focus"===t&&_getStyleState(e,g,":focus")}).map(function(e){return l[e]});return R.length&&(S=_mergeStyles([S].concat(R))),l[":active"]&&!e._radiumMouseUpListener&&ExecutionEnvironment.canUseEventListeners&&(e._radiumMouseUpListener=MouseUpListener.subscribe(_mouseUp.bind(null,e))),d.style=Prefixer.getPrefixedStyle(e,S),_cloneElement(r,d,i)};resolveStyles.__clearStateForTests=function(){mediaQueryListByQueryString={}},module.exports=resolveStyles;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./config":61,"./get-state":65,"./get-state-key":64,"./mouse-up-listener":68,"./prefixer":69,"_process":57,"exenv":73}],72:[function(require,module,exports){
"use strict";function find(n,t,r){if("function"==typeof Array.prototype.find)return n.find(t,r);r=r||this;var f,i=n.length;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(f=0;i>f;f++)if(t.call(r,n[f],f,n))return n[f]}module.exports=find;

},{}],73:[function(require,module,exports){
!function(){"use strict";var e=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:e,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:e&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:e&&!!window.screen};"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:window.ExecutionEnvironment=n}();

},{}]},{},[24])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9ncnVudC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2FjdGlvbnMvZGF0YS1hY3Rpb25zLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9hY3Rpb25zL2ZsYXNoLWFjdGlvbnMuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2FjdGlvbnMvc2V0dXAtcHJvZ3Jlc3MtYWN0aW9ucy5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvYWN0aW9ucy9zaXRlLWFjdGlvbnMuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2FjdGlvbnMvc3Bpbm5lci1hY3Rpb25zLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb21wb25lbnRzL2FkdmFuY2VkLXNldHRpbmdzLXN0ZXAuanN4IiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb21wb25lbnRzL2NvbnRlbnQtYm94LmpzeCIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29tcG9uZW50cy9kYXNoaWNvbi5qc3giLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvZGVzaWduLXN0ZXAuanN4IiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb21wb25lbnRzL2ZsYXNoLmpzeCIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29tcG9uZW50cy9nZXQtc3RhcnRlZC5qc3giLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvamV0cGFjay1qdW1wc3RhcnQtbWVudS5qc3giLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvamV0cGFjay1qdW1wc3RhcnQtc3RlcC5qc3giLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvbGF5b3V0LXN0ZXAuanN4IiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb21wb25lbnRzL3NpdGUtdGl0bGUtc3RlcC5qc3giLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvc2tpcC1idXR0b24uanN4IiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb21wb25lbnRzL3Rvb2x0aXAuanN4IiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9jb21wb25lbnRzL3dlbGNvbWUtbWVudS5qc3giLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbXBvbmVudHMvd2VsY29tZS1zZWN0aW9uLmpzeCIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29tcG9uZW50cy93ZWxjb21lLXdpZGdldC5qc3giLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LWNvbnN0YW50cy5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvY29uc3RhbnRzL2pldHBhY2stc3RhcnQtcGF0aHMuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2Rpc3BhdGNoZXIvYXBwLWRpc3BhdGNoZXIuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L2pldHBhY2stc3RhcnQuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L3N0b3Jlcy9kYXRhLXN0b3JlLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9zdG9yZXMvZmxhc2gtc3RvcmUuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L3N0b3Jlcy9zZXR1cC1wcm9ncmVzcy1zdG9yZS5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9jbGllbnQvc3RvcmVzL3NpdGUtc3RvcmUuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L3N0b3Jlcy9zcGlubmVyLXN0b3JlLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L2NsaWVudC9zdHlsZXMuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L3V0aWxzL3dwLWFqYXguanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvY2xpZW50L3dlbGNvbWUtcGFuZWwuanN4IiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvYnV0dG9uLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvcHJvZ3Jlc3MtYmFyLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvcmVzZXQuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL0BhdXRvbWF0dGljL2RvcHMtcmVhY3QvanMvc3R5bGVzLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL3V0aWxzL20uanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL0BhdXRvbWF0dGljL2RvcHMtcmVhY3Qvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvY29tcG9uZW50cy9wcmludC1zdHlsZS1zaGVldC5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9jb21wb25lbnRzL3N0eWxlLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL2NvbmZpZy5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9jcmVhdGUtbWFya3VwLWZvci1zdHlsZXMuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL0BhdXRvbWF0dGljL2RvcHMtcmVhY3Qvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvZW5oYW5jZXIuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL0BhdXRvbWF0dGljL2RvcHMtcmVhY3Qvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvZ2V0LXN0YXRlLWtleS5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9nZXQtc3RhdGUuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL0BhdXRvbWF0dGljL2RvcHMtcmVhY3Qvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvaW5kZXguanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL0BhdXRvbWF0dGljL2RvcHMtcmVhY3Qvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIva2V5ZnJhbWVzLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL21vdXNlLXVwLWxpc3RlbmVyLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL3ByZWZpeGVyLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL3ByaW50LXN0eWxlcy5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9yZXNvbHZlLXN0eWxlcy5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9ub2RlX21vZHVsZXMvcmFkaXVtL25vZGVfbW9kdWxlcy9hcnJheS1maW5kL2ZpbmQuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL0BhdXRvbWF0dGljL2RvcHMtcmVhY3Qvbm9kZV9tb2R1bGVzL3JhZGl1bS9ub2RlX21vZHVsZXMvZXhlbnYvaW5kZXguanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL2ZsdXgvaW5kZXguanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL2ZsdXgvbGliL0Rpc3BhdGNoZXIuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL2ZsdXgvbm9kZV9tb2R1bGVzL2ZianMvbGliL2ludmFyaWFudC5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvZ3J1bnQtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvZ3J1bnQtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9rZXltaXJyb3IvaW5kZXguanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvY29tcG9uZW50cy9wcmludC1zdHlsZS1zaGVldC5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9jb21wb25lbnRzL3N0eWxlLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL2NvbmZpZy5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9jcmVhdGUtbWFya3VwLWZvci1zdHlsZXMuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvZW5oYW5jZXIuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvZ2V0LXN0YXRlLWtleS5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9nZXQtc3RhdGUuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvaW5kZXguanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIva2V5ZnJhbWVzLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL21vdXNlLXVwLWxpc3RlbmVyLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL3ByZWZpeGVyLmpzIiwiL1VzZXJzL2plc3NlZnJpZWRtYW4vRG9jdW1lbnRzL3dwb3JnX3NhbmR5L3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLXN0YXJ0L25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL3ByaW50LXN0eWxlcy5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9yZXNvbHZlLXN0eWxlcy5qcyIsIi9Vc2Vycy9qZXNzZWZyaWVkbWFuL0RvY3VtZW50cy93cG9yZ19zYW5keS93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1zdGFydC9ub2RlX21vZHVsZXMvcmFkaXVtL25vZGVfbW9kdWxlcy9hcnJheS1maW5kL2ZpbmQuanMiLCIvVXNlcnMvamVzc2VmcmllZG1hbi9Eb2N1bWVudHMvd3Bvcmdfc2FuZHkvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stc3RhcnQvbm9kZV9tb2R1bGVzL3JhZGl1bS9ub2RlX21vZHVsZXMvZXhlbnYvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxHQUFJLGVBQWdCLFFBQVEsZ0NBQzNCLGFBQWUsUUFBUSx3Q0FFcEIsYUFDSCxlQUFnQixXQUNmLGNBQWMsVUFDYixXQUFZLGFBQWEsZ0JBSTNCLGdCQUFpQixXQUNoQixjQUFjLFVBQ2IsV0FBWSxhQUFhLGlCQUs1QixRQUFPLFFBQVU7OztBQ2pCakIsR0FBSSxlQUFnQixRQUFRLGdDQUMzQixhQUFlLFFBQVEsd0NBRXBCLGNBQ0gsT0FBUSxTQUFTLEdBQ2hCLGNBQWMsVUFDYixXQUFZLGFBQWEsVUFDekIsUUFBUyxFQUNULFNBQVUsYUFBYSx5QkFJekIsTUFBTyxTQUFTLEdBQ2YsY0FBYyxVQUNiLFdBQVksYUFBYSxVQUN6QixRQUFTLEVBQ1QsU0FBVSxhQUFhLHdCQUl6QixNQUFPLFdBQ04sY0FBYyxVQUNiLFdBQVksYUFBYSxlQUs1QixRQUFPLFFBQVU7OztBQzNCakIsR0FBSSxlQUFnQixRQUFRLGdDQUMzQixhQUFlLFFBQVEsd0NBQ3ZCLE1BQVEsUUFBUSxvQ0FDaEIsYUFBZSxRQUFRLG1CQUN2QixZQUFjLFFBQVEsa0JBQ3RCLE9BQVMsUUFBUSxvQkFDakIsZUFBaUIsUUFBUSxxQkFDekIsbUJBQXFCLFFBQVEsa0NBQzdCLFVBQVksUUFBUSx3QkFFakIsc0JBQ0gsVUFBVyxXQUNWLE9BQ0MsS0FBSyxJQUFJ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dW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwidmFyIEFwcERpc3BhdGNoZXIgPSByZXF1aXJlKCcuLi9kaXNwYXRjaGVyL2FwcC1kaXNwYXRjaGVyJyksXG5cdEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LWNvbnN0YW50cycpO1xuXG52YXIgRGF0YUFjdGlvbnMgPSB7XG5cdHJlcXVlc3RTdGFydGVkOiBmdW5jdGlvbigpIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TQVZFX1NUQVJURURcblx0XHR9KTtcblx0fSxcblxuXHRyZXF1ZXN0RmluaXNoZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNBVkVfRklOSVNIRURcblx0XHR9KTtcblx0fVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBEYXRhQWN0aW9uczsiLCJ2YXIgQXBwRGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4uL2Rpc3BhdGNoZXIvYXBwLWRpc3BhdGNoZXInKSxcblx0SlBTQ29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtY29uc3RhbnRzJyk7XG5cbnZhciBGbGFzaEFjdGlvbnMgPSB7XG5cdG5vdGljZTogZnVuY3Rpb24obXNnKSB7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0VUX0ZMQVNILFxuXHRcdFx0bWVzc2FnZTogbXNnLFxuXHRcdFx0c2V2ZXJpdHk6IEpQU0NvbnN0YW50cy5GTEFTSF9TRVZFUklUWV9OT1RJQ0Vcblx0XHR9KTtcblx0fSxcblxuXHRlcnJvcjogZnVuY3Rpb24obXNnKSB7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0VUX0ZMQVNILFxuXHRcdFx0bWVzc2FnZTogbXNnLFxuXHRcdFx0c2V2ZXJpdHk6IEpQU0NvbnN0YW50cy5GTEFTSF9TRVZFUklUWV9FUlJPUlxuXHRcdH0pO1xuXHR9LFxuXG5cdHVuc2V0OiBmdW5jdGlvbigpIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5VTlNFVF9GTEFTSFxuXHRcdH0pO1xuXHR9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZsYXNoQWN0aW9uczsiLCJ2YXIgQXBwRGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4uL2Rpc3BhdGNoZXIvYXBwLWRpc3BhdGNoZXInKSxcblx0SlBTQ29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtY29uc3RhbnRzJyksXG5cdFBhdGhzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtcGF0aHMnKSxcblx0Rmxhc2hBY3Rpb25zID0gcmVxdWlyZSgnLi9mbGFzaC1hY3Rpb25zJyksXG5cdFNpdGVBY3Rpb25zID0gcmVxdWlyZSgnLi9zaXRlLWFjdGlvbnMnKSxcblx0V1BBamF4ID0gcmVxdWlyZSgnLi4vdXRpbHMvd3AtYWpheCcpLFxuXHRTcGlubmVyQWN0aW9ucyA9IHJlcXVpcmUoJy4vc3Bpbm5lci1hY3Rpb25zJyksXG5cdFNldHVwUHJvZ3Jlc3NTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zZXR1cC1wcm9ncmVzcy1zdG9yZScpLFxuXHRTaXRlU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2l0ZS1zdG9yZScpO1xuXG52YXIgU2V0dXBQcm9ncmVzc0FjdGlvbnMgPSB7XG5cdHJlc2V0RGF0YTogZnVuY3Rpb24oKSB7XG5cdFx0V1BBamF4LlxuXHRcdFx0cG9zdChKUFMuc2l0ZV9hY3Rpb25zLnJlc2V0X2RhdGEpLlxuXHRcdFx0ZmFpbCggZnVuY3Rpb24gKCBtc2cgKSB7XG5cdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihcIkZhaWxlZCB0byBzYXZlIGRhdGE6IFwiICsgbXNnKTtcblx0XHRcdH0pO1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHQgICAgICBcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5SRVNFVF9EQVRBXG5cdCAgICB9KTtcblx0fSxcblxuXHRjb21wbGV0ZVN0ZXA6IGZ1bmN0aW9uKHNsdWcsIG1ldGEpIHtcblx0XHR2YXIgc3RlcCA9IFNldHVwUHJvZ3Jlc3NTdG9yZS5nZXRTdGVwRnJvbVNsdWcoc2x1Zyk7XG5cblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TVEVQX0NPTVBMRVRFLFxuXHRcdFx0c2x1Zzogc2x1Z1xuXHQgICAgfSk7XG5cblx0XHQvLyBOT1RFOiB0aGlzIG5lZWRzIHRvIGNvbWUgYWZ0ZXIgdGhlIGRpc3BhdGNoLCBzbyB0aGF0IHRoZSBjb21wbGV0aW9uICUgXG5cdFx0Ly8gaXMgYWxyZWFkeSB1cGRhdGVkIGFuZCBjYW4gYmUgaW5jbHVkZWQgaW4gdGhlIG1ldGFkYXRhXG5cdFx0dGhpcy5fcmVjb3JkQ29tcGxldGUoc3RlcCwgbWV0YSk7XG5cdH0sXG5cblx0Y29tcGxldGVBbmROZXh0U3RlcDogZnVuY3Rpb24oc2x1ZywgbWV0YSkge1xuXHRcdHRoaXMuY29tcGxldGVTdGVwKHNsdWcsIG1ldGEpO1xuXG5cdCAgICBBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0ICAgICAgYWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNURVBfTkVYVFxuXHQgICAgfSk7XG5cdH0sXG5cblx0X3JlY29yZENvbXBsZXRlOiBmdW5jdGlvbihzdGVwLCBtZXRhKSB7XG5cdFx0aWYgKHR5cGVvZihtZXRhKSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdG1ldGEgPSB7fTtcblx0XHR9XG5cblx0XHRtZXRhLmNvbXBsZXRpb24gPSBTZXR1cFByb2dyZXNzU3RvcmUuZ2V0UHJvZ3Jlc3NQZXJjZW50KCk7XG5cblx0XHRXUEFqYXguXG5cdFx0ICBcdHBvc3QoSlBTLnN0ZXBfYWN0aW9ucy5jb21wbGV0ZSwgeyBzdGVwOiBzdGVwLnNsdWcsIGRhdGE6IG1ldGEgfSkuXG5cdFx0XHRmYWlsKCBmdW5jdGlvbihtc2cpIHtcblx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKG1zZyk7XG5cdFx0XHR9KTtcblx0fSxcblxuXHQvLyBtYXJrIGN1cnJlbnQgc3RlcCBhcyBza2lwcGVkIGFuZCBtb3ZlIG9uXG5cdHNraXBTdGVwOiBmdW5jdGlvbigpIHtcblx0XHRGbGFzaEFjdGlvbnMudW5zZXQoKTtcblx0XHRcblx0XHR2YXIgc3RlcCA9IFNldHVwUHJvZ3Jlc3NTdG9yZS5nZXRDdXJyZW50U3RlcCgpO1xuXG5cdFx0aWYgKCAhIHN0ZXAuc2tpcHBlZCApIHtcblx0XHQgICAgV1BBamF4LlxuXHRcdFx0XHRwb3N0KEpQUy5zdGVwX2FjdGlvbnMuc2tpcCwgeyBzdGVwOiBzdGVwLnNsdWcgfSkuXG5cdFx0XHRcdGZhaWwoIGZ1bmN0aW9uKG1zZykge1xuXHRcdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihtc2cpO1xuXHRcdFx0XHR9KTtcblx0XHR9XG5cblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TVEVQX1NLSVBcblx0ICAgIH0pO1xuXHR9LFxuXG5cdGdldFN0YXJ0ZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNwaW5uZXJBY3Rpb25zLnNob3coXCJMb2FkaW5nXCIpO1xuXHQgICAgV1BBamF4LlxuXHRcdFx0cG9zdChKUFMuc3RlcF9hY3Rpb25zLnN0YXJ0KS5cblx0XHRcdGZhaWwoIGZ1bmN0aW9uKG1zZykge1xuXHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IobXNnKTtcblx0XHRcdH0pLlxuXHRcdFx0YWx3YXlzKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0U3Bpbm5lckFjdGlvbnMuaGlkZSgpO1xuXHRcdFx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdCAgICAgIGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TVEVQX0dFVF9TVEFSVEVEXG5cdFx0XHQgICAgfSk7XHRcdFxuXHRcdFx0fSk7XG5cdH0sXG5cblx0ZGlzYWJsZUpQUzogZnVuY3Rpb24oKSB7XG5cdFx0U3Bpbm5lckFjdGlvbnMuc2hvdyhcIlwiKTtcblx0XHRXUEFqYXguXG5cdFx0XHRwb3N0KEpQUy5zdGVwX2FjdGlvbnMuZGlzYWJsZSkuXG5cdFx0XHRmYWlsKCBmdW5jdGlvbihtc2cpIHtcblx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKG1zZyk7XG5cdFx0XHR9KS5cblx0XHRcdGFsd2F5cyggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcblx0XHRcdH0pO1xuXHR9LFxuXG5cdHNldEN1cnJlbnRTdGVwOiBmdW5jdGlvbihzbHVnKSB7XG5cdFx0Rmxhc2hBY3Rpb25zLnVuc2V0KCk7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdCAgICAgIGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TVEVQX1NFTEVDVCxcblx0ICAgICAgc2x1Zzogc2x1Z1xuXHQgICAgfSk7XG5cdH0sXG5cblx0Ly8gbW92ZXMgb24gdG8gdGhlIG5leHQgc3RlcCwgYnV0IGRvZXNuJ3QgbWFyayBpdCBhcyBcInNraXBwZWRcIlxuXHRzZWxlY3ROZXh0U3RlcDogZnVuY3Rpb24oKSB7XG5cdFx0Rmxhc2hBY3Rpb25zLnVuc2V0KCk7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU1RFUF9ORVhUXG5cdCAgICB9KTtcblx0fSxcblxuXHRzdWJtaXRUaXRsZVN0ZXA6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVBY3Rpb25zLnNhdmVUaXRsZUFuZERlc2NyaXB0aW9uKCkuZG9uZShmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuY29tcGxldGVBbmROZXh0U3RlcChQYXRocy5TSVRFX1RJVExFX1NURVBfU0xVRyk7XG5cdFx0fS5iaW5kKHRoaXMpKTtcblx0fSxcblxuXHRzdWJtaXRMYXlvdXRTdGVwOiBmdW5jdGlvbihsYXlvdXQpIHtcblx0XHRTaXRlQWN0aW9ucy5zZXRMYXlvdXQobGF5b3V0KS5kb25lKGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5jb21wbGV0ZUFuZE5leHRTdGVwKFBhdGhzLkxBWU9VVF9TVEVQX1NMVUcpO1xuXHRcdH0uYmluZCh0aGlzKSk7XG5cdH0sXG5cblx0c3VibWl0SmV0cGFja0p1bXBzdGFydDogZnVuY3Rpb24oKSB7XG5cdFx0U2l0ZUFjdGlvbnMuZW5hYmxlSnVtcHN0YXJ0KCkuZG9uZShmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuY29tcGxldGVTdGVwKFBhdGhzLkpFVFBBQ0tfTU9EVUxFU19TVEVQX1NMVUcpO1xuXHRcdH0uYmluZCh0aGlzKSk7XG5cdH0sXG5cblx0c2V0QWN0aXZlVGhlbWU6IGZ1bmN0aW9uKHRoZW1lKSB7XG5cdFx0U2l0ZUFjdGlvbnMuc2V0QWN0aXZlVGhlbWUodGhlbWUpLmRvbmUoIGZ1bmN0aW9uICgpIHtcblx0XHRcdHRoaXMuY29tcGxldGVTdGVwKFBhdGhzLkRFU0lHTl9TVEVQX1NMVUcsIHt0aGVtZUlkOiB0aGVtZS5pZH0pO1xuXHRcdH0uYmluZCh0aGlzKSk7XG5cdH0sXG5cblx0c2F2ZURlc2lnblN0ZXA6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuY29tcGxldGVBbmROZXh0U3RlcChQYXRocy5ERVNJR05fU1RFUF9TTFVHLCB7dGhlbWVJZDogU2l0ZVN0b3JlLmdldEFjdGl2ZVRoZW1lSWQoKX0pO1xuXHR9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNldHVwUHJvZ3Jlc3NBY3Rpb25zOyIsInZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuXHRKUFNDb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1jb25zdGFudHMnKSxcblx0U2l0ZVN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NpdGUtc3RvcmUnKSxcblx0Rmxhc2hBY3Rpb25zID0gcmVxdWlyZSgnLi9mbGFzaC1hY3Rpb25zLmpzJyksXG5cdFNwaW5uZXJBY3Rpb25zID0gcmVxdWlyZSgnLi9zcGlubmVyLWFjdGlvbnMuanMnKSxcblx0V1BBamF4ID0gcmVxdWlyZSgnLi4vdXRpbHMvd3AtYWpheCcpO1xuXG52YXIgU2l0ZUFjdGlvbnMgPSB7XG5cdHNldFRpdGxlOiBmdW5jdGlvbih0aXRsZSkge1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNJVEVfU0VUX1RJVExFLFxuXHRcdFx0dGl0bGU6IHRpdGxlXG5cdCAgICB9KTtcblx0fSxcblxuXHRzZXREZXNjcmlwdGlvbjogZnVuY3Rpb24oZGVzY3JpcHRpb24pIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSVRFX1NFVF9ERVNDUklQVElPTixcblx0XHRcdGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvblxuXHQgICAgfSk7XG5cdH0sXG5cblx0c2F2ZVRpdGxlQW5kRGVzY3JpcHRpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aXRsZSA9IFNpdGVTdG9yZS5nZXRUaXRsZSgpO1xuXHRcdHZhciBkZXNjcmlwdGlvbiA9IFNpdGVTdG9yZS5nZXREZXNjcmlwdGlvbigpO1xuXHRcdFxuXHRcdFdQQWpheC5cblx0XHRcdHBvc3QoIEpQUy5zaXRlX2FjdGlvbnMuc2V0X3RpdGxlLCB7IHRpdGxlOiB0aXRsZSwgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uIH0gKS5cblx0XHRcdGZhaWwoIGZ1bmN0aW9uICggbXNnICkge1xuXHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IoXCJFcnJvciBzZXR0aW5nIHRpdGxlOiBcIittc2cpO1xuXHRcdFx0fSk7XG5cblx0XHRqUXVlcnkoJyN3cC1hZG1pbi1iYXItc2l0ZS1uYW1lIC5hYi1pdGVtJykuaHRtbCh0aXRsZSk7XG5cdFx0Ly8gRmxhc2hBY3Rpb25zLm5vdGljZSggXCJTZXQgdGl0bGUgdG8gJ1wiK3RpdGxlK1wiJyBhbmQgZGVzY3JpcHRpb24gdG8gJ1wiK2Rlc2NyaXB0aW9uK1wiJ1wiICk7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9TQVZFX1RJVExFX0FORF9ERVNDUklQVElPTixcblx0XHRcdHRpdGxlOiB0aXRsZVxuXHQgICAgfSk7XG5cblx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCkucmVzb2x2ZSgpOyAvLyBYWFggSEFDS1xuXHR9LFxuXG5cdF9pbnN0YWxsVGhlbWU6IGZ1bmN0aW9uICggdGhlbWUgKSB7XG5cdFx0aWYgKCAhIHRoZW1lLmluc3RhbGxlZCApIHtcblx0XHRcdFNwaW5uZXJBY3Rpb25zLnNob3coXCJJbnN0YWxsaW5nICdcIit0aGVtZS5uYW1lK1wiJ1wiKTtcblx0XHRcdHJldHVybiBXUEFqYXguXG5cdFx0XHRcdHBvc3QoIEpQUy5zaXRlX2FjdGlvbnMuaW5zdGFsbF90aGVtZSwgeyB0aGVtZUlkOiB0aGVtZS5pZCB9ICkuXG5cdFx0XHRcdGRvbmUoIGZ1bmN0aW9uICggKSB7XG5cdFx0XHRcdFx0dGhlbWUuaW5zdGFsbGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdFx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSVRFX0lOU1RBTExfVEhFTUUsXG5cdFx0XHRcdFx0XHR0aGVtZTogdGhlbWVcblx0XHRcdFx0ICAgIH0pO1xuXHRcdFx0XHR9KS5cblx0XHRcdFx0ZmFpbCggZnVuY3Rpb24gKCBtc2cgKSB7XG5cdFx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKFwiU2VydmVyIGVycm9yIGluc3RhbGxpbmcgdGhlbWU6IFwiK21zZyk7XG5cdFx0XHRcdH0pLlxuXHRcdFx0XHRhbHdheXMoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFNwaW5uZXJBY3Rpb25zLmhpZGUoKTtcblx0XHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoKS5yZXNvbHZlKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9hY3RpdmF0ZVRoZW1lOiBmdW5jdGlvbiAoIHRoZW1lICkge1xuXHRcdFdQQWpheC5cblx0XHRcdHBvc3QoIEpQUy5zaXRlX2FjdGlvbnMuc2V0X3RoZW1lLCB7IHRoZW1lSWQ6IHRoZW1lLmlkIH0gKS5cblx0XHRcdGZhaWwoIGZ1bmN0aW9uICggbXNnICkge1xuXHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IoXCJTZXJ2ZXIgZXJyb3Igc2V0dGluZyB0aGVtZTogXCIrbXNnKTtcblx0XHRcdH0pO1xuXG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9TRVRfVEhFTUUsXG5cdFx0XHR0aGVtZUlkOiB0aGVtZS5pZFxuXHQgICAgfSk7XG5cdH0sXG5cblx0c2V0QWN0aXZlVGhlbWU6IGZ1bmN0aW9uKCB0aGVtZSApIHtcblxuXHRcdHRoaXMuX2luc3RhbGxUaGVtZSh0aGVtZSkuXG5cdFx0XHRkb25lKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhpcy5fYWN0aXZhdGVUaGVtZSh0aGVtZSk7XG5cdFx0XHR9LmJpbmQodGhpcykpO1xuXG5cdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZCgpLnJlc29sdmUoKTsgLy8gWFhYIEhBQ0tcblx0fSxcblxuXHRzZXRMYXlvdXQ6IGZ1bmN0aW9uKCBsYXlvdXROYW1lICkge1xuXHRcblx0XHRXUEFqYXguXG5cdFx0XHRwb3N0KCBKUFMuc2l0ZV9hY3Rpb25zLnNldF9sYXlvdXQsIHsgbGF5b3V0OiBsYXlvdXROYW1lIH0gKS5cblx0XHRcdGZhaWwoIGZ1bmN0aW9uIChtc2cgKSB7XG5cdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihcIkVycm9yIHNldHRpbmcgbGF5b3V0OiBcIittc2cpO1xuXHRcdFx0fSk7XG5cblx0XHQvLyBGbGFzaEFjdGlvbnMubm90aWNlKFwiU2V0IGxheW91dCB0byBcIitsYXlvdXROYW1lKTtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSVRFX1NFVF9MQVlPVVQsXG5cdFx0XHRsYXlvdXQ6IGxheW91dE5hbWVcblx0ICAgIH0pO1xuXG5cdCAgICByZXR1cm4galF1ZXJ5LkRlZmVycmVkKCkucmVzb2x2ZSgpOyAvLyBYWFggSEFDS1xuXHR9LFxuXG5cdGNvbmZpZ3VyZUpldHBhY2s6IGZ1bmN0aW9uKHJldHVybl90b19zdGVwKSB7XG5cdFx0U3Bpbm5lckFjdGlvbnMuc2hvdyhcIkNvbm5lY3RpbmcgdG8gV29yZFByZXNzLmNvbVwiKTtcblx0XHRyZXR1cm4gV1BBamF4LlxuXHRcdFx0cG9zdCggSlBTLnNpdGVfYWN0aW9ucy5jb25maWd1cmVfamV0cGFjaywgeyByZXR1cm5fdG9fc3RlcDogcmV0dXJuX3RvX3N0ZXAgfSApLlxuXHRcdFx0ZG9uZSggZnVuY3Rpb24gKCBkYXRhICkge1xuXHRcdFx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9KRVRQQUNLX0NPTkZJR1VSRURcblx0XHRcdCAgICB9KTtcblxuXHRcdFx0XHRpZiAoIGRhdGEubmV4dCApIHtcblx0XHRcdFx0XHR3aW5kb3cubG9jYXRpb24ucmVwbGFjZShkYXRhLm5leHQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFNwaW5uZXJBY3Rpb25zLmhpZGUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSkuXG5cdFx0XHRmYWlsKCBmdW5jdGlvbiAoIG1zZyApIHtcblx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKFwiRXJyb3IgZW5hYmxpbmcgSmV0cGFjazogXCIrbXNnKTtcblx0XHRcdFx0U3Bpbm5lckFjdGlvbnMuaGlkZSgpO1xuXHRcdFx0fSk7XG5cdH0sXG5cblx0YWN0aXZhdGVKZXRwYWNrTW9kdWxlOiBmdW5jdGlvbihtb2R1bGVfc2x1Zykge1xuXG5cdFx0V1BBamF4LlxuXHRcdFx0cG9zdCggSlBTLnNpdGVfYWN0aW9ucy5hY3RpdmF0ZV9qZXRwYWNrX21vZHVsZXMsIHsgbW9kdWxlczogW21vZHVsZV9zbHVnXSB9KS5cblx0XHRcdGZhaWwoIGZ1bmN0aW9uICggbXNnICkge1xuXHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IoXCJFcnJvciBhY3RpdmF0aW5nIEpldHBhY2sgbW9kdWxlOiBcIittc2cpO1xuXHRcdFx0fSk7XG5cblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSVRFX0pFVFBBQ0tfTU9EVUxFX0VOQUJMRUQsXG5cdFx0XHRzbHVnOiBtb2R1bGVfc2x1Z1xuXHQgICAgfSk7XG5cblx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCkucmVzb2x2ZSgpOyAvLyBYWFggSEFDS1xuXHR9LFxuXG5cdGRlYWN0aXZhdGVKZXRwYWNrTW9kdWxlOiBmdW5jdGlvbihtb2R1bGVfc2x1Zykge1xuXG5cdFx0V1BBamF4LlxuXHRcdFx0cG9zdCggSlBTLnNpdGVfYWN0aW9ucy5kZWFjdGl2YXRlX2pldHBhY2tfbW9kdWxlcywgeyBtb2R1bGVzOiBbbW9kdWxlX3NsdWddIH0pLlxuXHRcdFx0ZmFpbCggZnVuY3Rpb24gKCBtc2cgKSB7XG5cdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihcIkVycm9yIGRlYWN0aXZhdGluZyBKZXRwYWNrIG1vZHVsZTogXCIrbXNnKTtcblx0XHRcdH0pO1xuXG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9KRVRQQUNLX01PRFVMRV9ESVNBQkxFRCxcblx0XHRcdHNsdWc6IG1vZHVsZV9zbHVnXG5cdCAgICB9KTtcblxuXHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoKS5yZXNvbHZlKCk7IC8vIFhYWCBIQUNLXG5cdH0sXG5cblx0bG9hZEFsbEpldHBhY2tNb2R1bGVzOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoIFNpdGVTdG9yZS5nZXRKZXRwYWNrQWRkaXRpb25hbE1vZHVsZXMoKS5sZW5ndGggPT09IDAgKSB7XG5cdFx0XHRyZXR1cm4gV1BBamF4LlxuXHRcdFx0XHRwb3N0KCBKUFMuc2l0ZV9hY3Rpb25zLmxpc3RfamV0cGFja19tb2R1bGVzICkuXG5cdFx0XHRcdGRvbmUoIGZ1bmN0aW9uICggYWxsX21vZHVsZXMgKSB7XG5cdFx0XHRcdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRcdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9KRVRQQUNLX0FERF9NT0RVTEVTLFxuXHRcdFx0XHRcdFx0bW9kdWxlczogYWxsX21vZHVsZXNcblx0XHRcdFx0ICAgIH0pO1xuXHRcdFx0XHR9KS5cblx0XHRcdFx0ZmFpbCggZnVuY3Rpb24gKCBtc2cgKSB7XG5cdFx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgYWxsIEpldHBhY2sgbW9kdWxlczogXCIrbXNnKTtcblx0XHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoKS5yZXNvbHZlKCk7IC8vIFhYWCBIQUNLXG5cdFx0fVxuXHR9LFxuXG5cdGVuYWJsZUp1bXBzdGFydDogZnVuY3Rpb24oKSB7XG5cdFx0V1BBamF4LlxuXHRcdFx0cG9zdCggSlBTLnNpdGVfYWN0aW9ucy5hY3RpdmF0ZV9qZXRwYWNrX21vZHVsZXMsIHsgbW9kdWxlczogU2l0ZVN0b3JlLmdldEp1bXBzdGFydE1vZHVsZVNsdWdzKCkgfSkuXG5cdFx0XHRmYWlsKCBmdW5jdGlvbiAoIG1zZyApIHtcblx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKFwiRXJyb3IgYWN0aXZhdGluZyBKZXRwYWNrIG1vZHVsZXM6IFwiK21zZyk7XG5cdFx0XHR9KTtcblxuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNJVEVfSkVUUEFDS19KVU1QU1RBUlRfRU5BQkxFRFxuXHQgICAgfSk7XG5cblx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCkucmVzb2x2ZSgpOyAvLyBYWFggSEFDS1xuXHR9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNpdGVBY3Rpb25zOyIsInZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuXHRKUFNDb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1zdGFydC1jb25zdGFudHMnKTtcblxudmFyIFNwaW5uZXJBY3Rpb25zID0ge1xuXHRzaG93OiBmdW5jdGlvbihtc2cpIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSE9XX1NQSU5ORVIsXG5cdFx0XHRtZXNzYWdlOiBtc2dcblx0XHR9KTtcblx0fSxcblxuXHRoaWRlOiBmdW5jdGlvbigpIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5ISURFX1NQSU5ORVIsXG5cdFx0fSk7XHRcblx0fSxcblxuXHRzaG93QXN5bmM6IGZ1bmN0aW9uKG1zZykge1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNIT1dfQVNZTkNfU1BJTk5FUixcblx0XHRcdG1lc3NhZ2U6IG1zZ1xuXHRcdH0pO1x0XHRcblx0fSxcblxuXHRoaWRlQXN5bmM6IGZ1bmN0aW9uKCkge1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLkhJREVfQVNZTkNfU1BJTk5FUlxuXHRcdH0pO1x0XHRcdFxuXHR9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNwaW5uZXJBY3Rpb25zOyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpLFxuXHRCdXR0b24gPSByZXF1aXJlKCdAYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvYnV0dG9uJyksXG5cdFNpdGVTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zaXRlLXN0b3JlJyksXG5cdFdlbGNvbWVTZWN0aW9uID0gcmVxdWlyZSgnLi93ZWxjb21lLXNlY3Rpb24nKTtcblxuZnVuY3Rpb24gZ2V0U2l0ZVN0YXRlKCkge1xuXHRyZXR1cm4ge1xuXHRcdHNpdGVfdGl0bGU6IFNpdGVTdG9yZS5nZXRUaXRsZSgpXG5cdH07XG59XG5cbnZhciBTZXR0aW5nc0l0ZW0gPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiU2V0dGluZ3NJdGVtXCIsXG5cdHN0eWxlczoge1xuXHRcdGl0ZW06IHtcblx0XHRcdHBhZGRpbmc6ICcxZW0nLFxuXHRcdFx0bWFyZ2luQm90dG9tOiAnMWVtJyxcblx0XHRcdGxpc3RTdHlsZTogJ25vbmUnLFxuXHRcdFx0YmFja2dyb3VuZDogJyNmNWY1ZjUnLFxuXHRcdFx0Ym9yZGVyOiAnMXB4IHNvbGlkICNkZGQnXG5cdFx0fSxcblxuXHRcdGhlYWRpbmc6IHtcblx0XHRcdG1hcmdpbjogMCxcblx0XHRcdGZvbnRTaXplOiAnMS4yZW0nLFxuXHRcdFx0Zm9udFdlaWdodDogODAwXG5cdFx0fVxuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLml0ZW19LCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImg1XCIsIHtzdHlsZTogdGhpcy5zdHlsZXMuaGVhZGluZ30sIHRoaXMucHJvcHMudGl0bGUpLCBcblx0XHRcdFx0dGhpcy5wcm9wcy5jaGlsZHJlblx0XHRcdFx0XG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbnZhciBBZHZhbmNlZFNldHRpbmdzU3RlcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJBZHZhbmNlZFNldHRpbmdzU3RlcFwiLFxuXG5cdHN0eWxlczoge1xuXHRcdHdyYXBwZXI6IHtcblx0XHRcdG1hcmdpbkxlZnQ6IDBcblx0XHR9XG5cdH0sXG5cbiAgXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBnZXRTaXRlU3RhdGUoKTtcblx0fSxcblxuXHRjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0U2l0ZVN0b3JlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0fSxcblxuXHRjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0U2l0ZVN0b3JlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0fSxcblxuXHRfb25DaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICAgIFx0dGhpcy5zZXRTdGF0ZShnZXRTaXRlU3RhdGUoKSk7XG4gIFx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFdlbGNvbWVTZWN0aW9uLCBudWxsLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiTGV0J3MgbGF1bmNoIFwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZW1cIiwgbnVsbCwgdGhpcy5zdGF0ZS5zaXRlX3RpdGxlKSksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDRcIiwgbnVsbCwgXCJBZHZhbmNlZCBzZXR0aW5nc1wiKSwgXG5cblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInVsXCIsIHtzdHlsZTogdGhpcy5zdHlsZXMud3JhcHBlcn0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2V0dGluZ3NJdGVtLCB7dGl0bGU6IFwiRmluZS10dW5lIHlvdXIgc2l0ZSdzIGxheW91dCBhbmQgYXBwZWFyYW5jZVwifSwgXG5cdFx0XHRcdFx0XHRcIkN1c3RvbWl6ZSB5b3VyIHNpdGXigJlzIGNvbG9ycywgZm9udHMsIHNpZGViYXJzIGFuZCBvdGhlciBzZXR0aW5ncy5cIiwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCksIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtjb2xvcjogXCJibHVlXCIsIGhyZWY6IEpQUy5zdGVwcy5hZHZhbmNlZF9zZXR0aW5ncy5jdXN0b21pemVfdXJsfSwgXCJDdXN0b21pemUgbXkgc2l0ZVwiKSwgXG5cdFx0XHRcdFx0XHRcIsKgwqBcIiwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2NvbG9yOiBcImJsdWVcIiwgaHJlZjogSlBTLnN0ZXBzLmFkdmFuY2VkX3NldHRpbmdzLnRoZW1lc191cmx9LCBcIkJyb3dzZSBhbmQgYWRkIHRoZW1lc1wiKVxuXHRcdFx0XHRcdCksIFxuXG5cdFx0XHRcdFx0KFNpdGVTdG9yZS5nZXRMYXlvdXQoKSA9PSAnYmxvZycgfHwgU2l0ZVN0b3JlLmdldExheW91dCgpID09ICdzaXRlLWJsb2cnKSAmJiAoXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFNldHRpbmdzSXRlbSwge3RpdGxlOiBcIkNyZWF0ZSB5b3VyIGZpcnN0IGJsb2cgcG9zdFwifSwgXG5cdFx0XHRcdFx0XHRcdFwiQW4gZXBpYyBlc3NheSBvciBqdXN0IFxcXCJIZWxsbyBXb3JsZCFcXFwiXCIsIFxuXHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCksIFxuXHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2NvbG9yOiBcImJsdWVcIiwgaHJlZjogSlBTLnN0ZXBzLmFkdmFuY2VkX3NldHRpbmdzLm5ld19ibG9nX3Bvc3RfdXJsfSwgXCJXcml0ZSBhIG5ldyBibG9nIHBvc3RcIiksIFxuXHRcdFx0XHRcdFx0XHRcIsKgwqBcIiwgXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7Y29sb3I6IFwiYmx1ZVwiLCBocmVmOiBKUFMuc3RlcHMuYWR2YW5jZWRfc2V0dGluZ3MubWFuYWdlX3Bvc3RzX3VybH0sIFwiTWFuYWdlIHBvc3RzXCIpXG5cdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0KSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChTZXR0aW5nc0l0ZW0sIHt0aXRsZTogXCJDcmVhdGUgYSBzdGF0aWMgcGFnZVwifSwgXG5cdFx0XHRcdFx0XHRcIlxcXCJBYm91dCBtZVxcXCIsIFxcXCJPdXIgU2VydmljZXNcXFwiIG9yIGFueXRoaW5nIGVsc2UgeW91IGNhbiBpbWFnaW5lLlwiLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiclwiLCBudWxsKSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2NvbG9yOiBcImJsdWVcIiwgaHJlZjogSlBTLnN0ZXBzLmFkdmFuY2VkX3NldHRpbmdzLm5ld19wYWdlX3VybH0sIFwiQ3JlYXRlIGEgbmV3IHBhZ2VcIiksIFxuXHRcdFx0XHRcdFx0XCLCoMKgXCIsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtjb2xvcjogXCJibHVlXCIsIGhyZWY6IEpQUy5zdGVwcy5hZHZhbmNlZF9zZXR0aW5ncy5tYW5hZ2VfcGFnZXNfdXJsfSwgXCJNYW5hZ2UgcGFnZXNcIilcblx0XHRcdFx0XHQpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFNldHRpbmdzSXRlbSwge3RpdGxlOiBcIkV4dGVuZCB5b3VyIHNpdGUncyBmdW5jdGlvbmFsaXR5XCJ9LCBcblx0XHRcdFx0XHRcdFwiV29yZFByZXNzIG9mZmVycyB0aG91c2FuZHMgb2YgcGx1Z2lucyBmcm9tIEpldHBhY2sgYW5kIHRoZSBXb3JkUHJlc3MgY29tbXVuaXR5LlwiLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiclwiLCBudWxsKSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2NvbG9yOiBcImJsdWVcIiwgaHJlZjogSlBTLnN0ZXBzLmFkdmFuY2VkX3NldHRpbmdzLnBsdWdpbnNfdXJsfSwgXCJNYW5hZ2UgcGx1Z2luc1wiKSwgXG5cdFx0XHRcdFx0XHRcIsKgwqBcIiwgXG5cdFx0XHRcdFx0XHRTaXRlU3RvcmUuZ2V0SmV0cGFja0NvbmZpZ3VyZWQoKSAmJiAoXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7Y29sb3I6IFwiYmx1ZVwiLCBocmVmOiBKUFMuc3RlcHMuYWR2YW5jZWRfc2V0dGluZ3MuamV0cGFja19tb2R1bGVzX3VybH0sIFwiTWFuYWdlIEpldHBhY2sgbW9kdWxlc1wiKVxuXHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdCksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2V0dGluZ3NJdGVtLCB7dGl0bGU6IFwiTGVhcm4gbW9yZVwifSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7aHJlZjogXCJodHRwczovL2NvZGV4LndvcmRwcmVzcy5vcmcvRmlyc3RfU3RlcHNfV2l0aF9Xb3JkUHJlc3NcIn0sIFwiRmlyc3QgU3RlcHMgd2l0aCBXb3JkUHJlc3NcIiksIFwiIC0gYW4gb25saW5lIGd1aWRlIGZyb20gdGhlIGNyZWF0b3JzIG9mIFdvcmRQcmVzc1wiXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQWR2YW5jZWRTZXR0aW5nc1N0ZXA7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCk7XG5cbnZhciBDb250ZW50Qm94ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIkNvbnRlbnRCb3hcIixcblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcIndlbGNvbWVfX2NvbnRlbnRfYm94XCJ9LCBcblx0XHRcdFx0dGhpcy5wcm9wcy5jaGlsZHJlbiwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJjbGVhclwifSlcblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBDb250ZW50Qm94OyIsIi8vIHNpbXBsZSBub3RpY29uIHdyYXBwZXJcblxudmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCk7XG5cbnZhciBEYXNoaWNvbiA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJEYXNoaWNvblwiLFxuXHRcblx0cHJvcFR5cGVzOiB7XG5cdFx0bmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuXHRcdHN0eWxlOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHRcdG9uTW91c2VPdmVyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0XHRvbk1vdXNlT3V0OiBSZWFjdC5Qcm9wVHlwZXMuZnVuY1xuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcblx0XHRcdFx0c3R5bGU6IHRoaXMucHJvcHMuc3R5bGUsIFxuXHRcdFx0XHRvbk1vdXNlT3ZlcjogdGhpcy5wcm9wcy5vbk1vdXNlT3ZlciwgXG5cdFx0XHRcdG9uTW91c2VPdXQ6IHRoaXMucHJvcHMub25Nb3VzZU91dCwgXG5cdFx0XHRcdGNsYXNzTmFtZTogXCJkYXNoaWNvbnMgZGFzaGljb25zLVwiK3RoaXMucHJvcHMubmFtZX0sIFxuXG5cdFx0XHRcdHRoaXMucHJvcHMuY2hpbGRyZW5cblx0XHRcdFx0XG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gRGFzaGljb247IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCksXG5cdFNpdGVTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zaXRlLXN0b3JlJyksXG5cdFNldHVwUHJvZ3Jlc3NBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zZXR1cC1wcm9ncmVzcy1hY3Rpb25zJyksXG5cdFRvb2x0aXAgPSByZXF1aXJlKCcuL3Rvb2x0aXAnKSxcblx0V2VsY29tZVNlY3Rpb24gPSByZXF1aXJlKCcuL3dlbGNvbWUtc2VjdGlvbicpLFxuXHRDb250ZW50Qm94ID0gcmVxdWlyZSgnLi9jb250ZW50LWJveCcpLFxuXHRzdHlsZXMgPSByZXF1aXJlKCcuLi9zdHlsZXMnKSxcblx0QnV0dG9uID0gcmVxdWlyZSgnQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9qcy9jb21wb25lbnRzL2J1dHRvbicpO1xuXG5mdW5jdGlvbiBnZXRUaGVtZVN0YXRlKCkge1xuXHRyZXR1cm4geyB0aGVtZXM6IFNpdGVTdG9yZS5nZXRUaGVtZXMoKSwgc2l0ZV90aXRsZTogU2l0ZVN0b3JlLmdldFRpdGxlKCkgfTtcbn1cblxudmFyIERlc2lnblN0ZXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiRGVzaWduU3RlcFwiLFxuXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHRcdHRoaXMuX2xvYWRQb3B1bGFyVGhlbWVzKCk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0X29uQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICBcdHRoaXMuc2V0U3RhdGUoZ2V0VGhlbWVTdGF0ZSgpKTtcbiAgXHR9LFxuXG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGluaXRpYWxTdGF0ZSA9IGdldFRoZW1lU3RhdGUoKTtcblx0XHRpbml0aWFsU3RhdGUucG9wdWxhclRoZW1lcyA9IFtdO1xuXHRcdHJldHVybiBpbml0aWFsU3RhdGU7XG5cdH0sXG5cblx0aGFuZGxlQWN0aXZhdGVUaGVtZTogZnVuY3Rpb24gKCBlICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcblx0XHR0aGlzLnNldFN0YXRlKHt0b29sdGlwVGhlbWU6IG51bGwsIHRvb2x0aXBQb3NpdGlvbjogbnVsbH0pO1xuXG5cdFx0dmFyICRlbCA9IGpRdWVyeShlLmN1cnJlbnRUYXJnZXQpLFxuXHRcdFx0dGhlbWVJZCA9ICRlbC5kYXRhKCd0aGVtZS1pZCcpLFxuXHRcdFx0dGhlbWUgPSB0aGlzLmZpbmRUaGVtZSh0aGVtZUlkKSxcblx0XHRcdG5lZWRzSW5zdGFsbGF0aW9uID0gIXRoZW1lLmluc3RhbGxlZDtcblxuXHRcdHZhciByZXNwb25zZSA9IFNldHVwUHJvZ3Jlc3NBY3Rpb25zLnNldEFjdGl2ZVRoZW1lKHRoZW1lKTtcblxuXHRcdC8vIGlmIHdlIGp1c3QgaW5zdGFsbGVkIGEgdGhlbWUgZnJvbSB0aGUgXCJwb3B1bGFyXCIgbGlzdCwgbGV0J3MgbG9hZCBzb21lIG5ld1xuXHRcdC8vIHNlbGVjdGlvbnMgb25jZSBpbnN0YWxsYXRpb24gaXMgZmluaXNoZWRcblx0XHRpZiAoIG5lZWRzSW5zdGFsbGF0aW9uICkge1xuXHRcdFx0cmVzcG9uc2UuZG9uZSggZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR0aGlzLl9sb2FkUG9wdWxhclRoZW1lcygpO1xuXHRcdFx0fS5iaW5kKHRoaXMpKTtcblx0XHR9XG5cdH0sXG5cblx0ZmluZFRoZW1lOiBmdW5jdGlvbiAoIHRoZW1lSWQgKVx0e1xuXHRcdHJldHVybiBfLmZpbmRXaGVyZSh0aGlzLnN0YXRlLnRoZW1lcywge2lkOiB0aGVtZUlkfSkgfHwgXy5maW5kV2hlcmUodGhpcy5zdGF0ZS5wb3B1bGFyVGhlbWVzLCB7aWQ6IHRoZW1lSWR9KTtcblx0fSxcblxuXHRoYW5kbGVDb250aW51ZTogZnVuY3Rpb24gKCBlICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRTZXR1cFByb2dyZXNzQWN0aW9ucy5zYXZlRGVzaWduU3RlcCgpO1xuXHR9LFxuXG5cdGhhbmRsZVNob3dUb29sdGlwOiBmdW5jdGlvbiAoIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0dmFyICRlbCAgID0galF1ZXJ5KGUuY3VycmVudFRhcmdldCksXG5cdFx0XHR0aGVtZSA9IHRoaXMuZmluZFRoZW1lKCRlbC5kYXRhKCd0aGVtZS1pZCcpKSxcblx0XHRcdG9mZnNldCA9ICRlbC5wb3NpdGlvbigpLFxuXHRcdFx0d2lkdGggPSAkZWwub3V0ZXJXaWR0aCgpLFxuXHRcdFx0aGVpZ2h0ID0gJGVsLm91dGVySGVpZ2h0KCk7XG5cdFx0XG5cdFx0Ly9kZXNjcmliZXMgYSBwb3NpdGlvbiBpbiB0aGUgbWlkZGxlIG9mIHRoZSByaWdodCBzaWRlXG5cdFx0dmFyIHBvc2l0aW9uID0ge1xuXHRcdFx0dG9wOiBvZmZzZXQudG9wICsgKGhlaWdodC8yKSxcblx0XHRcdGxlZnQ6IG9mZnNldC5sZWZ0ICsgd2lkdGhcblx0XHR9O1xuXG5cdFx0dGhpcy5zZXRTdGF0ZSh7dG9vbHRpcFRoZW1lOiB0aGVtZSwgdG9vbHRpcFBvc2l0aW9uOiBwb3NpdGlvbn0pO1xuXHR9LFxuXG5cdGhhbmRsZUhpZGVUb29sdGlwOiBmdW5jdGlvbiAoIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHRoaXMuc2V0U3RhdGUoe3Rvb2x0aXBUaGVtZTogbnVsbCwgdG9vbHRpcFBvc2l0aW9uOiBudWxsfSk7XG5cdH0sXG5cblx0aGFuZGxlR2V0UG9wdWxhclRoZW1lczogZnVuY3Rpb24gKCBlICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR0aGlzLl9sb2FkUG9wdWxhclRoZW1lcygpO1x0XHRcblx0fSxcblxuXHRfbG9hZFBvcHVsYXJUaGVtZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5nZXRQb3B1bGFyVGhlbWVzKCkuZG9uZShmdW5jdGlvbih0aGVtZXMpIHtcblx0XHRcdHRoaXMuc2V0U3RhdGUoe3BvcHVsYXJUaGVtZXM6IHRoZW1lc30pO1xuXHRcdH0uYmluZCh0aGlzKSk7XG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblxuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFdlbGNvbWVTZWN0aW9uLCB7aWQ6IFwid2VsY29tZV9fZGVzaWduXCJ9LCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiTGV0J3MgbGF1bmNoIFwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZW1cIiwgbnVsbCwgdGhpcy5zdGF0ZS5zaXRlX3RpdGxlKSksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDRcIiwgbnVsbCwgXCJQaWNrIGEgZGVzaWduXCIpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge3N0eWxlOiBzdHlsZXMuY29udGVudH0sIFwiQSBcXFwidGhlbWVcXFwiIGNvbnRyb2xzIHRoZSBkZXNpZ24gb2YgeW91ciBzaXRlIC0gY29sb3VycywgZm9udHMgYW5kIGxheW91dC5cIiksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7c3R5bGU6IHN0eWxlcy5jb250ZW50fSwgXCJDbGljayBhbnkgdGhlbWUgYmVsb3cgdG8gY2hvb3NlIGl0IGZvciB5b3VyIHNpdGUuIEFuZCBkb24ndCB3b3JyeSAtIHlvdSBjYW4gZWFzaWx5IGNoYW5nZSB0aGlzIGxhdGVyLlwiKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwic3VibWl0XCJ9LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2NvbG9yOiBcImJsdWVcIiwgb25DbGljazogdGhpcy5oYW5kbGVDb250aW51ZX0sIFwiTmV4dCBTdGVwIOKGklwiKVxuXHRcdFx0XHQpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChDb250ZW50Qm94LCBudWxsLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJJbnN0YWxsZWQgdGhlbWVzXCIpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwidGhlbWUtYnJvd3NlciByZW5kZXJlZFwifSwgXG5cdFx0XHRcdFx0XHR0aGlzLl9yZW5kZXJUaGVtZUxpc3QoKVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KSwgXG5cdFx0XHRcdFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRlbnRCb3gsIG51bGwsIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCBcIlBvcHVsYXIgdGhlbWVzIGZyb20gV29yZFByZXNzLm9yZ1wiLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2NvbG9yOiBcImJsdWVcIiwgc3R5bGU6IHtmbG9hdDogJ3JpZ2h0J30sIG9uQ2xpY2s6IHRoaXMuaGFuZGxlR2V0UG9wdWxhclRoZW1lc30sIFwiTG9hZCBtb3JlIHRoZW1lc1wiKVxuXHRcdFx0XHRcdCksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ0aGVtZS1icm93c2VyIHJlbmRlcmVkXCJ9LCBcblx0XHRcdFx0XHRcdHRoaXMuX3JlbmRlclBvcHVsYXJUaGVtZUxpc3QoKVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KSwgXG5cblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7c3R5bGU6IHtjbGVhcjogJ2JvdGgnfX0pLCBcblx0XHRcdFx0dGhpcy5zdGF0ZS50b29sdGlwVGhlbWUgJiYgdGhpcy5fcmVuZGVyVG9vbHRpcCgpXG5cdFx0XHQpXG5cdFx0KTtcblx0fSxcblxuXHRfcmVuZGVyVG9vbHRpcDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHRoZW1lID0gdGhpcy5zdGF0ZS50b29sdGlwVGhlbWUsIHBvc2l0aW9uID0gdGhpcy5zdGF0ZS50b29sdGlwUG9zaXRpb247XG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoVG9vbHRpcCwge1xuXHRcdFx0XHRsZWZ0OiBwb3NpdGlvbi5sZWZ0LCBcblx0XHRcdFx0dG9wOiBwb3NpdGlvbi50b3AsIFxuXHRcdFx0XHR3aWR0aDogMzIwLCBcblx0XHRcdFx0dGl0bGU6IHRoZW1lLm5hbWV9LCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwgbnVsbCwgXCJCeSBcIiwgdGhlbWUuYXV0aG9yKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtkYW5nZXJvdXNseVNldElubmVySFRNTDoge19faHRtbDogXy51bmVzY2FwZSh0aGVtZS5kZXNjcmlwdGlvbil9fSlcblx0XHRcdClcblx0XHQpO1xuXHR9LFxuXG5cdF9yZW5kZXJUaGVtZTogZnVuY3Rpb24odGhlbWUpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7a2V5OiB0aGVtZS5pZCwgXG5cdFx0XHRcdGNsYXNzTmFtZTogJ3RoZW1lJyArICh0aGVtZS5hY3RpdmUgPyAnIGFjdGl2ZScgOiAnJyksIFxuXHRcdFx0XHRcImRhdGEtdGhlbWUtaWRcIjogdGhlbWUuaWQsIFxuXHRcdFx0XHRvbkNsaWNrOiB0aGlzLmhhbmRsZUFjdGl2YXRlVGhlbWUsIFxuXHRcdFx0XHRvbk1vdXNlRW50ZXI6IHRoaXMuaGFuZGxlU2hvd1Rvb2x0aXAsIFxuXHRcdFx0XHRvbk1vdXNlTGVhdmU6IHRoaXMuaGFuZGxlSGlkZVRvb2x0aXAsIFxuXHRcdFx0XHRcImFyaWEtZGVzY3JpYmVkYnlcIjogdGhlbWUuaWQrJy1hY3Rpb24gJyt0aGVtZS5pZCsnLW5hbWUnfSwgXG5cblx0XHRcdFx0dGhlbWUuc2NyZWVuc2hvdCA/IChcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwidGhlbWUtc2NyZWVuc2hvdFwifSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIHtzcmM6IHRoZW1lLnNjcmVlbnNob3QsIGFsdDogXCJcIn0pXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpIDogKFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ0aGVtZS1zY3JlZW5zaG90IGJsYW5rXCJ9KVxuXHRcdFx0XHQpLCBcblx0XHRcdFx0IXRoZW1lLmFjdGl2ZSAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge2NsYXNzTmFtZTogXCJtb3JlLWRldGFpbHNcIn0sIHRoZW1lLmluc3RhbGxlZCA/ICdDbGljayB0byBzZWxlY3QnIDogJ0NsaWNrIHRvIGluc3RhbGwnKSksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwge2NsYXNzTmFtZTogXCJ0aGVtZS1uYW1lXCIsIGlkOiB0aGVtZS5pZCsnLW5hbWUnfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgdGhlbWUuYWN0aXZlID8gJ1NlbGVjdGVkOicgOiAnJyksIFwiIFwiLCB0aGVtZS5uYW1lKVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0X3JlbmRlclBvcHVsYXJUaGVtZUxpc3Q6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnN0YXRlLnBvcHVsYXJUaGVtZXMubWFwKCB0aGlzLl9yZW5kZXJUaGVtZSApO1xuXHR9LFxuXG5cdF9yZW5kZXJUaGVtZUxpc3Q6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnN0YXRlLnRoZW1lcy5tYXAoIHRoaXMuX3JlbmRlclRoZW1lICk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERlc2lnblN0ZXA7IiwiLyoqXG4gKiBEaXNwbGF5cyBhIGZsYXNoIG1lc3NhZ2UsIGlmIHNldC5cbiAqIEpTT04gc3RydWN0dXJlOlxuICogeyBzZXZlcml0eTogJ25vdGljZScsIG1lc3NhZ2U6ICdNeSBtZXNzYWdlJyB9XG4gKlxuICogVmFsaWQgc2V2ZXJpdGllczpcbiAqIC0gZXJyb3IsIG5vdGljZVxuICovXG5cbnZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpLFxuXHRGbGFzaFN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL2ZsYXNoLXN0b3JlJyk7XG5cbmZ1bmN0aW9uIGdldEZsYXNoU3RhdGUoKSB7XG5cdHJldHVybiBGbGFzaFN0b3JlLmdldEZsYXNoKCk7XG59XG5cbnZhciBGbGFzaCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJGbGFzaFwiLFxuXHRjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0Rmxhc2hTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdEZsYXNoU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdF9vbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgXHR0aGlzLnNldFN0YXRlKGdldEZsYXNoU3RhdGUoKSk7XG4gIFx0fSxcblxuXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBnZXRGbGFzaFN0YXRlKCk7XG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoIHRoaXMuc3RhdGUubWVzc2FnZSApIHtcblx0XHRcdHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiB0aGlzLnN0YXRlLnNldmVyaXR5ICsgJyB1cGRhdGVkJ30sIHRoaXMuc3RhdGUubWVzc2FnZSkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZsYXNoOyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpLFxuXHRTZXR1cFByb2dyZXNzU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2V0dXAtcHJvZ3Jlc3Mtc3RvcmUnKSxcblx0U2V0dXBQcm9ncmVzc0FjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3NldHVwLXByb2dyZXNzLWFjdGlvbnMnKSxcblx0QnV0dG9uID0gcmVxdWlyZSgnQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9qcy9jb21wb25lbnRzL2J1dHRvbicpLFxuXHRSYWRpdW0gPSByZXF1aXJlKCdyYWRpdW0nKTtcblxuZnVuY3Rpb24gZ2V0U2V0dXBTdGF0ZSgpIHtcblx0cmV0dXJuIHt9O1xufVxuXG52YXIgR2V0U3RhcnRlZCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJHZXRTdGFydGVkXCIsXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTZXR1cFByb2dyZXNzU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTZXR1cFByb2dyZXNzU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdF9vbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgXHR0aGlzLnNldFN0YXRlKGdldFNldHVwU3RhdGUoKSk7XG4gIFx0fSxcblxuXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBnZXRTZXR1cFN0YXRlKCk7XG5cdH0sXG5cblx0aGFuZGxlR2V0U3RhcnRlZDogZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRTZXR1cFByb2dyZXNzQWN0aW9ucy5nZXRTdGFydGVkKCk7XG5cdH0sXG5cblx0aGFuZGxlTm9UaGFua3M6IGZ1bmN0aW9uKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0U2V0dXBQcm9ncmVzc0FjdGlvbnMuZGlzYWJsZUpQUygpO1x0XG5cdH0sXG5cblx0X2lzSUU4OiBmdW5jdGlvbigpIHtcblx0XHRqUXVlcnkoJ2h0bWwnKS5pcygnLmllOCcpO1xuXHR9LFxuXG5cdHN0eWxlczoge1xuXHRcdHdyYXBwZXI6IHtcblx0XHRcdHRleHRBbGlnbjogJ2NlbnRlcicsXG5cdFx0XHQvLyBiYWNrZ3JvdW5kSW1hZ2U6ICd1cmwoJytKUFMuYmFzZV91cmwrJy9pbWcvanBzLXdlbGNvbWUucG5nKScsXG5cdFx0XHRiYWNrZ3JvdW5kUmVwZWF0OiAnbm8tcmVwZWF0Jyxcblx0XHRcdGJhY2tncm91bmRQb3NpdGlvbjogJ2NlbnRlciBib3R0b20nLFxuXHRcdFx0YmFja2dyb3VuZFNpemU6ICc1MjBweCBhdXRvJyxcblx0XHRcdHBvc2l0aW9uOiAnZml4ZWQnLFxuXHRcdCAgICB0b3A6IDAsXG5cdFx0XHRsZWZ0OiAwLFxuXHRcdFx0d2lkdGg6ICcxMDAlJyxcblx0XHRcdGhlaWdodDogJzEwMCUnLFxuXHRcdFx0YmFja2dyb3VuZENvbG9yOiAnI2ZmZicsXG5cdFx0XHRwYWRkaW5nVG9wOiAxMDAsXG5cdFx0XHR6SW5kZXg6IDk5OVxuXHRcdH0sXG5cdFx0d3JhcHBlcklFODoge1xuXHRcdFx0YmFja2dyb3VuZEltYWdlOiAnbm9uZSdcblx0XHR9LFxuXHRcdHN1YmhlYWQ6IHtcblx0XHRcdG1hcmdpbjogJzIwcHggMCAxNXB4Jyxcblx0XHRcdGNvbG9yOiAnIzY2NicsXG5cdFx0XHRmb250U2l6ZTogMTgsXG5cdFx0XHRsaW5lSGVpZ2h0OiAxLjYsXG5cdFx0XHR0ZXh0QWxpZ246ICdjZW50ZXInLFxuXHRcdFx0J0BtZWRpYSAobWF4LXdpZHRoOiA2MDBweCknOiB7XG5cdFx0XHRcdG1hcmdpbkJvdHRvbTogMTUsXG5cdFx0XHRcdGZvbnRTaXplOiAxNVxuXHRcdFx0fSxcblx0XHRcdCdAbWVkaWEgKG1heC13aWR0aDogMzIwcHgpJzoge1xuXHRcdFx0XHRmb250U2l6ZTogMTNcblx0XHRcdH1cblx0XHR9LFxuXHRcdGJ1dHRvbjoge1xuXHRcdFx0Ym9yZGVyUmFkaXVzOiA2LFxuXHRcdFx0Zm9udEZhbWlseTogJ3Byb3hpbWEtbm92YSwgXFwnT3BlbiBTYW5zXFwnLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWYnLFxuXHRcdFx0Zm9udFNpemU6IDE2LFxuXHRcdFx0bGluZUhlaWdodDogMSxcblx0XHRcdHBhZGRpbmc6ICcwLjY0Mjg2ZW0gMC44NTcxNGVtIDAuNTM1NzFlbSdcblx0XHR9LFxuXHRcdGdyZWVuOiB7XG5cdFx0XHRib3JkZXI6ICcxcHggc29saWQgcmdiKDYyLCAxMDgsIDMyKScsXG5cdFx0XHRiYWNrZ3JvdW5kOiAncmdiKDgxLCAxNDEsIDQyKScsXG5cdFx0XHRib3hTaGFkb3c6ICdyZ2IoNjIsIDEwOCwgMzIpIDBweCAzcHggMHB4LCByZ2JhKDAsIDAsIDAsIDAuNCkgMHB4IDRweCAzcHgnLFxuXHRcdFx0Y29sb3I6ICcjZmZmJ1xuXHRcdH0sXG5cdFx0Z3JheToge1xuXHRcdFx0YmFja2dyb3VuZDogJ2xpbmVhci1ncmFkaWVudChyZ2IoMjU1LCAyNTUsIDI1NSksIHJnYigyNDksIDI0OSwgMjQ5KSknLFxuXHRcdFx0Ym94U2hhZG93OiAncmdiKDE1MCwgMTUwLCAxNTApIDBweCAzcHggMHB4LCByZ2JhKDAsIDAsIDAsIDAuNCkgMHB4IDRweCAzcHg7Jyxcblx0XHRcdGNvbG9yOiAnIzMzMydcblx0XHR9XG5cblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtrZXk6IFwid2VsY29tZS1pbnRyb1wiLCBzdHlsZTogW3RoaXMuc3R5bGVzLndyYXBwZXIsIHRoaXMuX2lzSUU4KCkgJiYgdGhpcy5zdHlsZXMud3JhcHBlcklFOF19LCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIHtzdHlsZToge2ZvbnRTaXplOiAzMCwgbWFyZ2luVG9wOiAzMH19LCBcIldlbGNvbWUgdG8gV29yZFByZXNzXCIpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge3N0eWxlOiB0aGlzLnN0eWxlcy5zdWJoZWFkfSwgXCJXb3VsZCB5b3UgbGlrZSBoZWxwIGxhdW5jaGluZyB5b3VyIHNpdGU/XCIpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwgbnVsbCwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtzdHlsZTogW3RoaXMuc3R5bGVzLmJ1dHRvbiwgdGhpcy5zdHlsZXMuZ3JlZW5dLCBvbkNsaWNrOiB0aGlzLmhhbmRsZUdldFN0YXJ0ZWR9LCBcIlllc1wiKSwgXG5cdFx0XHRcdFx0XCLCoMKgwqBcIiwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtzdHlsZTogW3RoaXMuc3R5bGVzLmJ1dHRvbiwgdGhpcy5zdHlsZXMuZ3JheV0sIG9uQ2xpY2s6IHRoaXMuaGFuZGxlTm9UaGFua3N9LCBcIk5vIHRoYW5rc1wiKVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmFkaXVtKEdldFN0YXJ0ZWQpOyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpLFxuXHRTaXRlU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2l0ZS1zdG9yZScpLFxuXHRTaXRlQWN0aW9ucyA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvc2l0ZS1hY3Rpb25zJyksXG5cdFBhdGhzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtcGF0aHMnKTtcblxuZnVuY3Rpb24gZ2V0SmV0cGFja1Byb2dyZXNzKCkge1xuXHRyZXR1cm4geyBcblx0XHRqZXRwYWNrQ29uZmlndXJlZDogU2l0ZVN0b3JlLmdldEpldHBhY2tDb25maWd1cmVkKClcblx0fTtcbn1cblxudmFyIEpldHBhY2tKdW1wc3RhcnRNZW51ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIkpldHBhY2tKdW1wc3RhcnRNZW51XCIsXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdF9vbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgXHR0aGlzLnNldFN0YXRlKGdldEpldHBhY2tQcm9ncmVzcygpKTtcbiAgXHR9LFxuXG4gIFx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZ2V0SmV0cGFja1Byb2dyZXNzKCk7XG5cdH0sXG5cblx0aGFuZGxlQ2xpY2tDb25uZWN0OiBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFNpdGVBY3Rpb25zLmNvbmZpZ3VyZUpldHBhY2soUGF0aHMuSkVUUEFDS19NT0RVTEVTX1NURVBfU0xVRyk7XG5cdH0sXG5cblx0c3R5bGU6IHtcblx0XHRjb2xvcjogJ2JsYWNrJyxcblx0XHRmb250U2l6ZTogMTIsXG5cdFx0bWFyZ2luVG9wOiA1LFxuXHRcdG1hcmdpbkxlZnQ6IDIwLFxuXHR9LFxuXG5cdHByaW1hcnlDb25uZWN0QnRuOiB7XG5cdFx0bWFyZ2luVG9wOiAxMCxcblx0XHRtYXJnaW5Cb3R0b206IDIwLFxuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge3N0eWxlOiB0aGlzLnN0eWxlfSwgXG5cdFx0XHRcdHRoaXMuc3RhdGUuamV0cGFja0NvbmZpZ3VyZWQgPyAoXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsKVxuXHRcdFx0XHQpIDogKFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRcIkJvb3N0IHRyYWZmaWMsIGVuaGFuY2Ugc2VjdXJpdHksIGFuZCBpbXByb3ZlIHBlcmZvcm1hbmNlIHdpdGggYSBjb25uZWN0aW9uIHRvIFdvcmRQcmVzcy5jb21cIiwgUmVhY3QuY3JlYXRlRWxlbWVudChcImJyXCIsIG51bGwpLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtjbGFzc05hbWU6IFwiYnV0dG9uIGJ1dHRvbi1wcmltYXJ5IGJ1dHRvbi1sYXJnZVwiLCBzdHlsZTogdGhpcy5wcmltYXJ5Q29ubmVjdEJ0biwgaHJlZjogXCIjXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ2xpY2tDb25uZWN0fSwgXCJDb25uZWN0IHRvIFdvcmRQcmVzcy5jb21cIilcblx0XHRcdFx0XHQpXG5cdFx0XHRcdClcblx0XHRcdFx0XG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gSmV0cGFja0p1bXBzdGFydE1lbnU7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCksXG5cdFJhZGl1bSA9IHJlcXVpcmUoJ3JhZGl1bScpLFxuXHRTa2lwQnV0dG9uID0gcmVxdWlyZSgnLi9za2lwLWJ1dHRvbicpLFxuXHRTaXRlU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2l0ZS1zdG9yZScpLFxuXHRTaXRlQWN0aW9ucyA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvc2l0ZS1hY3Rpb25zJyksXG5cdFBhdGhzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtcGF0aHMnKSwgXG5cdENvbnRlbnRCb3ggPSByZXF1aXJlKCcuL2NvbnRlbnQtYm94JyksXG5cdHN0eWxlcyA9IHJlcXVpcmUoJy4uL3N0eWxlcycpLFxuXHRXZWxjb21lU2VjdGlvbiA9IHJlcXVpcmUoJy4vd2VsY29tZS1zZWN0aW9uJyksXG5cdFNldHVwUHJvZ3Jlc3NBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zZXR1cC1wcm9ncmVzcy1hY3Rpb25zJyksXG5cdFNwaW5uZXJTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zcGlubmVyLXN0b3JlJyksXG5cdEJ1dHRvbiA9IHJlcXVpcmUoJ0BhdXRvbWF0dGljL2RvcHMtcmVhY3QvanMvY29tcG9uZW50cy9idXR0b24nKTtcblxuXG52YXIgSmV0cGFja0xvZ28gPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiSmV0cGFja0xvZ29cIixcblx0c3R5bGVzOiB7XG5cdFx0amV0cGFja0xvZ29XcmFwcGVyOiB7XG5cdFx0XHRkaXNwbGF5OiAnYmxvY2snLFxuXHRcdFx0dGV4dEFsaWduOiAnY2VudGVyJyxcblx0XHRcdGhlaWdodDogNzAsXG5cdFx0XHRjb2xvcjogJ3doaXRlJyxcblx0XHRcdG1hcmdpbkxlZnQ6IDUsXG5cdFx0XHRiYWNrZ3JvdW5kQ29sb3I6ICcjODFhODQ0J1xuXHRcdH0sXG5cdFx0amV0cGFja0xvZ286IHtcblx0XHRcdGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuXHRcdFx0cG9zaXRpb246ICdyZWxhdGl2ZScsXG5cdFx0XHR3aWR0aDogMjE0LFxuXHRcdFx0bWFyZ2luUmlnaHQ6IDYsXG5cdFx0XHRiYWNrZ3JvdW5kOiAndXJsKCcrSlBTLmpldHBhY2subG9nb191cmwrJykgY2VudGVyIGNlbnRlciBuby1yZXBlYXQnLFxuXHRcdFx0YmFja2dyb3VuZFNpemU6ICcxODNweCBhdXRvJyxcblx0XHRcdGNvbG9yOiAnI2ZmZicsXG5cdFx0XHRmb250V2VpZ2h0OiAnbm9ybWFsJyxcblx0XHRcdHBhZGRpbmc6ICc1cHggMHB4J1xuXHRcdH0sXG5cdFx0amV0cGFja0xvZ29OYW1lOiB7XG5cdFx0XHR0ZXh0SW5kZW50OiAtOTk5OSxcblx0XHRcdHZpc2liaWxpdHk6ICdoaWRkZW4nXG5cdFx0fVxuXG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge3N0eWxlOiBbdGhpcy5zdHlsZXMuamV0cGFja0xvZ29XcmFwcGVyLCB0aGlzLnByb3BzLnN0eWxlXX0sIFxuXHRcdFx0XHRcIlBvd2VyZWQgYnlcIiwgUmVhY3QuY3JlYXRlRWxlbWVudChcImJyXCIsIG51bGwpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge2hyZWY6IFwiL3dwLWFkbWluL2FkbWluLnBocD9wYWdlPWpldHBhY2tcIiwgdGl0bGU6IFwiSmV0cGFja1wiLCBzdHlsZTogdGhpcy5zdHlsZXMuamV0cGFja0xvZ299LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLmpldHBhY2tMb2dvTmFtZX0sIFwiSmV0cGFja1wiKVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbkpldHBhY2tMb2dvID0gUmFkaXVtKEpldHBhY2tMb2dvKTtcblxuZnVuY3Rpb24gZ2V0SmV0cGFja1N0YXRlKCkge1xuXHRyZXR1cm4ge1xuXHRcdHNpdGVfdGl0bGU6IFNpdGVTdG9yZS5nZXRUaXRsZSgpLFxuXHRcdGpldHBhY2tDb25maWd1cmVkOiBTaXRlU3RvcmUuZ2V0SmV0cGFja0NvbmZpZ3VyZWQoKSxcblx0XHRqdW1wc3RhcnRFbmFibGVkOiBTaXRlU3RvcmUuZ2V0SmV0cGFja0p1bXBzdGFydEVuYWJsZWQoKSxcblx0XHRtb2R1bGVzRW5hYmxlZDogU2l0ZVN0b3JlLmdldEFjdGl2ZU1vZHVsZVNsdWdzKClcdFxuXHR9O1xufVxuXG52YXIgSmV0cGFja0p1bXBzdGFydCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJKZXRwYWNrSnVtcHN0YXJ0XCIsXG5cblx0c3R5bGVzOiB7XG5cdFx0amV0cGFja0xvZ286IHtcblx0XHRcdGZsb2F0OiAncmlnaHQnLFxuXHRcdFx0J0BtZWRpYSAobWF4LXdpZHRoOiA3ODJweCknOiB7XG5cdFx0XHRcdGZsb2F0OiAnbm9uZScsXG5cdFx0XHRcdG1hcmdpbkxlZnQ6IDBcblx0XHRcdH1cblx0XHR9LFxuXHRcdGp1bXBzdGFydE1vZHVsZToge1xuXHRcdFx0ZmxvYXQ6ICdsZWZ0Jyxcblx0XHRcdHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuXHRcdFx0aGVpZ2h0OiAxNjAsXG5cdFx0XHRwYWRkaW5nOiAxMCxcblx0XHRcdCdAbWVkaWEgKG1pbi13aWR0aDogNzgycHgpJzoge1xuXHRcdFx0XHR3aWR0aDogJzMzJSdcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0anVtcHN0YXJ0TW9kdWxlRGVzYzoge1xuXHRcdFx0ZGlzcGxheTogJ2Jsb2NrJyxcblx0XHRcdG1hcmdpblRvcDogNSxcblx0XHRcdGxpbmVIZWlnaHQ6ICcxNTAlJ1xuXHRcdH0sXG5cblx0XHRvdmVybGF5Q29udGVudDoge1xuXHRcdFx0bWFyZ2luVG9wOiAxMCxcblx0XHRcdG1hcmdpbkJvdHRvbTogMTBcblx0XHR9LFxuXG5cdFx0b3ZlcmxheUJlZm9yZToge1xuXHRcdFx0ZGlzcGxheTogJ2Jsb2NrJyxcblx0XHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuXHRcdFx0d2lkdGg6ICcxMDAlJyxcblx0XHRcdGhlaWdodDogJzEwMCUnLFxuXHRcdFx0YmFja2dyb3VuZENvbG9yOiAncmdiYSgwLDAsMCwwLjIpJ1xuXHRcdH0sXG5cblx0XHRvdmVybGF5OiB7XG5cdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcblx0XHRcdHRvcDogMCxcblx0XHRcdGxlZnQ6IDAsXG5cdFx0XHR3aWR0aDogJzEwMCUnLFxuXHRcdFx0aGVpZ2h0OiAnMTAwJScsXG5cdFx0XHRtaW5IZWlnaHQ6ICcxMDAlJyxcblx0XHRcdHpJbmRleDogNzAwXG5cdFx0fSxcblxuXHRcdG92ZXJsYXlCb2R5OiB7XG5cdFx0XHR0ZXh0QWxpZ246ICdjZW50ZXInLFxuXHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdFx0XHRib3JkZXJSYWRpdXM6IDMsXG5cdFx0XHRib3hTaGFkb3c6ICcwIDAgNHB4IHJnYmEoMCwwLDAsMC4yKScsXG5cdFx0XHR6SW5kZXg6IDgwMCxcblx0XHRcdGxlZnQ6ICc1MCUnLFxuXHRcdCAgXHR0b3A6ICc1MCUnLFxuXHRcdCAgXHRwYWRkaW5nOiAxNSxcblx0XHQgIFx0dHJhbnNmb3JtOiAndHJhbnNsYXRlKC01MCUsLTUwJSknLFxuXHRcdFx0d2lkdGg6ICc3MCUnLFxuXHRcdFx0YmFja2dyb3VuZENvbG9yOiAnI2ZmZidcblx0XHR9LFxuXG5cdFx0bW9yZUxpbms6IHtcblx0XHRcdHRleHRBbGlnbjogJ2NlbnRlcidcblx0XHR9XG5cdH0sXG5cblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0X29uQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICBcdHRoaXMuc2V0U3RhdGUoZ2V0SmV0cGFja1N0YXRlKCkpO1xuICBcdH0sXG5cblx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgc3RhdGUgPSBnZXRKZXRwYWNrU3RhdGUoKTtcblx0XHRzdGF0ZS5zaG93TW9yZU1vZHVsZXMgPSBmYWxzZTtcblx0XHRyZXR1cm4gc3RhdGU7XG5cdH0sXG5cblx0aGFuZGxlSmV0cGFja0Nvbm5lY3Q6IGZ1bmN0aW9uIChlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0U2l0ZUFjdGlvbnMuY29uZmlndXJlSmV0cGFjayhQYXRocy5KRVRQQUNLX01PRFVMRVNfU1RFUF9TTFVHKTtcblx0fSxcblxuXHRoYW5kbGVDaGFuZ2VNb2R1bGVTdGF0dXM6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyICR0YXJnZXQgPSBqUXVlcnkoZS5jdXJyZW50VGFyZ2V0KSxcblx0XHRcdG1vZHVsZV9zbHVnID0gJHRhcmdldC5kYXRhKCdtb2R1bGUtc2x1ZycpO1xuXG5cdFx0aWYgKCBTaXRlU3RvcmUuaXNKZXRwYWNrTW9kdWxlRW5hYmxlZChtb2R1bGVfc2x1ZykgKSB7XG5cdFx0XHRTaXRlQWN0aW9ucy5kZWFjdGl2YXRlSmV0cGFja01vZHVsZShtb2R1bGVfc2x1Zyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdFNpdGVBY3Rpb25zLmFjdGl2YXRlSmV0cGFja01vZHVsZShtb2R1bGVfc2x1Zyk7XG5cdFx0fVxuXHR9LFxuXG5cdGhhbmRsZUVuYWJsZUFsbE1vZHVsZXM6IGZ1bmN0aW9uKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0U2l0ZUFjdGlvbnMuZW5hYmxlSnVtcHN0YXJ0KCk7XG5cdH0sXG5cblx0aGFuZGxlTmV4dDogZnVuY3Rpb24gKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRTZXR1cFByb2dyZXNzQWN0aW9ucy5jb21wbGV0ZUFuZE5leHRTdGVwKFBhdGhzLkpFVFBBQ0tfTU9EVUxFU19TVEVQX1NMVUcpO1xuXHR9LFxuXG5cdGhhbmRsZVNob3dNb3JlTW9kdWxlczogZnVuY3Rpb24gKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XG5cdFx0U2l0ZUFjdGlvbnMubG9hZEFsbEpldHBhY2tNb2R1bGVzKCkuZG9uZShmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuc2V0U3RhdGUoe3Nob3dNb3JlTW9kdWxlczogdHJ1ZX0pO1xuXHRcdH0uYmluZCh0aGlzKSk7XG5cdH0sXG5cblx0aGFuZGxlU2hvd0Zld2VyTW9kdWxlczogZnVuY3Rpb24gKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0dGhpcy5zZXRTdGF0ZSh7c2hvd01vcmVNb2R1bGVzOiBmYWxzZX0pO1xuXHR9LFxuXG5cdF9yZW5kZXJNb2R1bGU6IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRcdHZhciBpc0FjdGl2ZSA9IFNpdGVTdG9yZS5pc0pldHBhY2tNb2R1bGVFbmFibGVkKG1vZHVsZS5zbHVnKTtcblx0XHR2YXIgbW9kdWxlSWQgPSAnanAtbW9kdWxlLScrbW9kdWxlLnNsdWc7XG5cdFx0XG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2tleTogJ21vZHVsZXMtJyttb2R1bGUuc2x1Zywgc3R5bGU6IHRoaXMuc3R5bGVzLmp1bXBzdGFydE1vZHVsZX0sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge2lkOiBtb2R1bGVJZCwgdHlwZTogXCJjaGVja2JveFwiLCBjaGVja2VkOiBpc0FjdGl2ZSwgXCJkYXRhLW1vZHVsZS1zbHVnXCI6IG1vZHVsZS5zbHVnLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2VNb2R1bGVTdGF0dXN9KSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCB7aHRtbEZvcjogbW9kdWxlSWR9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3Ryb25nXCIsIG51bGwsIG1vZHVsZS5uYW1lKSksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZTogdGhpcy5zdHlsZXMuanVtcHN0YXJ0TW9kdWxlRGVzY30sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7X19odG1sOiBtb2R1bGUuZGVzY3JpcHRpb259fSksIFxuXHRcdFx0XHRcdGlzQWN0aXZlICYmIG1vZHVsZS5jb25maWd1cmVfdXJsICYmIChcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge3RhcmdldDogXCJfY29uZmlndXJlXCIsIGhyZWY6IG1vZHVsZS5jb25maWd1cmVfdXJsfSwgXCJjb25maWd1cmVcIikpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBtb2R1bGVPdmVybGF5QmVmb3JlLCBtb2R1bGVPdmVybGF5LCBtb2R1bGVPdmVybGF5Qm9keTtcblxuXG5cdFx0aWYgKCAhIHRoaXMuc3RhdGUuamV0cGFja0NvbmZpZ3VyZWQgJiYgIVNwaW5uZXJTdG9yZS5zaG93aW5nKCkgKSB7XG5cdFx0XHRtb2R1bGVPdmVybGF5QmVmb3JlID0gKFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZTogdGhpcy5zdHlsZXMub3ZlcmxheUJlZm9yZX0pXG5cdFx0XHQpO1xuXHRcdFx0bW9kdWxlT3ZlcmxheSA9IChcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLm92ZXJsYXl9KVxuXHRcdFx0KTtcblx0XHRcdG1vZHVsZU92ZXJsYXlCb2R5ID0gKFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZTogdGhpcy5zdHlsZXMub3ZlcmxheUJvZHl9LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLm92ZXJsYXlDb250ZW50fSwgXCJUaGVzZSBtb2R1bGVzIHJlcXVpcmUgYSBXb3JkUHJlc3MuY29tIGFjY291bnQgLSBpdCdzIGZyZWUhXCIpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2NvbG9yOiBcImdyZWVuXCIsIHNpemU6IFwiYmlnXCIsIHRoZW1lOiBcImpldHBhY2tcIiwgb25DbGljazogdGhpcy5oYW5kbGVKZXRwYWNrQ29ubmVjdH0sIFwiQ29ubmVjdCB0byBXb3JkUHJlc3MuY29tXCIpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLm92ZXJsYXlDb250ZW50fSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFNraXBCdXR0b24sIG51bGwpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHZhciBtb2R1bGVEZXNjcmlwdGlvbnMgPSBTaXRlU3RvcmUuZ2V0SnVtcHN0YXJ0TW9kdWxlcygpLm1hcCh0aGlzLl9yZW5kZXJNb2R1bGUpO1xuXHRcdHZhciBtb3JlTW9kdWxlRGVzY3JpcHRpb25zID0gU2l0ZVN0b3JlLmdldEpldHBhY2tBZGRpdGlvbmFsTW9kdWxlcygpLm1hcCh0aGlzLl9yZW5kZXJNb2R1bGUpO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoV2VsY29tZVNlY3Rpb24sIG51bGwsIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJMZXQncyBsYXVuY2ggXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJlbVwiLCBudWxsLCB0aGlzLnN0YXRlLnNpdGVfdGl0bGUpKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoNFwiLCBudWxsLCBcIkVuYWJsZSBKZXRwYWNrIGZlYXR1cmVzXCIpLCBcblx0XHRcdFx0dGhpcy5zdGF0ZS5qZXRwYWNrQ29uZmlndXJlZCAmJiAoXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoSmV0cGFja0xvZ28sIHtzdHlsZTogdGhpcy5zdHlsZXMuamV0cGFja0xvZ299KSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7c3R5bGU6IHN0eWxlcy5jb250ZW50fSwgXCJDb25ncmF0dWxhdGlvbnMhIFlvdSd2ZSBlbmFibGVkIEpldHBhY2sgYW5kIHVubG9ja2VkIGRvemVucyBvZiBwb3dlcmZ1bCBmZWF0dXJlcy5cIiksIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge3N0eWxlOiBzdHlsZXMuY29udGVudH0sIFwiQ2hlY2sgdGhlIGJveGVzIGJlbG93IHRvIGVuYWJsZSBvdXIgbW9zdCBwb3B1bGFyIGZlYXR1cmVzLlwiKSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwiY2xlYXJcIn0pXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcIndlbGNvbWVfX2Nvbm5lY3RcIn0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge3N0eWxlOiB7cG9zaXRpb246ICdyZWxhdGl2ZSd9fSwgXG5cdFx0XHRcdFx0XHRtb2R1bGVPdmVybGF5QmVmb3JlLCBcblx0XHRcdFx0XHRcdG1vZHVsZU92ZXJsYXksIFxuXHRcdFx0XHRcdFx0bW9kdWxlT3ZlcmxheUJvZHksIFxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHR0aGlzLnN0YXRlLmpldHBhY2tDb25maWd1cmVkICYmIChcblx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcInN1Ym1pdFwifSwgXG5cdFx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtzdHlsZToge2Zsb2F0OiAncmlnaHQnfSwgY29sb3I6IFwiYmx1ZVwiLCBvbkNsaWNrOiB0aGlzLmhhbmRsZU5leHR9LCBcIk5leHQgU3RlcCDihpJcIiksIFxuXHRcdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJjbGVhclwifSlcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0KSwgXG5cblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGVudEJveCwgbnVsbCwgXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCBcIlBvcHVsYXIgZmVhdHVyZXNcIiArICcgJyArXG5cdFx0XHRcdFx0XHRcdFx0XCLCoMKgXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7ZGlzYWJsZWQ6IHRoaXMuc3RhdGUuanVtcHN0YXJ0RW5hYmxlZCwgY29sb3I6IFwiYmx1ZVwiLCBvbkNsaWNrOiB0aGlzLmhhbmRsZUVuYWJsZUFsbE1vZHVsZXN9LCB0aGlzLnN0YXRlLmp1bXBzdGFydEVuYWJsZWQgPyAnRW5hYmxlZCBBbGwnIDogJ0VuYWJsZSBhbGwgKHJlY29tbWVuZGVkKScpXG5cdFx0XHRcdFx0XHRcdCksIFxuXHRcdFx0XHRcdFx0XHRtb2R1bGVEZXNjcmlwdGlvbnNcblx0XHRcdFx0XHRcdCksIFxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHR0aGlzLnN0YXRlLnNob3dNb3JlTW9kdWxlcyA/IChcblx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge3N0eWxlOiB0aGlzLnN0eWxlcy5tb3JlTGlua30sIFxuXHRcdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtocmVmOiBcIiNcIiwgb25DbGljazogdGhpcy5oYW5kbGVTaG93RmV3ZXJNb2R1bGVzfSwgXCJoaWRlIGFkZGl0aW9uYWwgZmVhdHVyZXNcIilcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0KSA6IChcblx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge3N0eWxlOiB0aGlzLnN0eWxlcy5tb3JlTGlua30sIFxuXHRcdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtocmVmOiBcIiNcIiwgb25DbGljazogdGhpcy5oYW5kbGVTaG93TW9yZU1vZHVsZXN9LCBcInNob3cgYWRkaXRpb25hbCBmZWF0dXJlc1wiKVxuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHQpLCBcblxuXHRcdFx0XHRcdFx0dGhpcy5zdGF0ZS5zaG93TW9yZU1vZHVsZXMgJiYgKFxuXHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRlbnRCb3gsIG51bGwsIFxuXHRcdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCBcIkFkZGl0aW9uYWwgbW9kdWxlc1wiKSwgXG5cdFx0XHRcdFx0XHRcdFx0bW9yZU1vZHVsZURlc2NyaXB0aW9uc1xuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmFkaXVtKEpldHBhY2tKdW1wc3RhcnQpOyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpLFxuXHRTaXRlU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2l0ZS1zdG9yZScpLFxuXHRCdXR0b24gPSByZXF1aXJlKCdAYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvYnV0dG9uJyksXG5cdFdlbGNvbWVTZWN0aW9uID0gcmVxdWlyZSgnLi93ZWxjb21lLXNlY3Rpb24nKSxcblx0c3R5bGVzID0gcmVxdWlyZSgnLi4vc3R5bGVzJyksXG5cdFNldHVwUHJvZ3Jlc3NBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zZXR1cC1wcm9ncmVzcy1hY3Rpb25zJyk7XG5cbmZ1bmN0aW9uIGdldFNpdGVMYXlvdXRTdGF0ZSgpIHtcblx0cmV0dXJuIHtcblx0XHRzaXRlX3RpdGxlOiBTaXRlU3RvcmUuZ2V0VGl0bGUoKSxcblx0XHRsYXlvdXQ6IFNpdGVTdG9yZS5nZXRMYXlvdXQoKVxuXHR9O1xufVxuXG52YXIgTGF5b3V0U3RlcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJMYXlvdXRTdGVwXCIsXG5cblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0X29uQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICBcdHRoaXMuc2V0U3RhdGUoZ2V0U2l0ZUxheW91dFN0YXRlKCkpO1xuICBcdH0sXG5cblx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZ2V0U2l0ZUxheW91dFN0YXRlKCk7XG5cdH0sXG5cblx0aGFuZGxlU2V0TGF5b3V0OiBmdW5jdGlvbiggZSApIHtcblx0XHR0aGlzLnNldFN0YXRlKHsgbGF5b3V0OiBqUXVlcnkoZS5jdXJyZW50VGFyZ2V0KS52YWwoKSB9KTtcblx0fSxcblxuXHRoYW5kbGVTdWJtaXQ6IGZ1bmN0aW9uKCBlICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRTZXR1cFByb2dyZXNzQWN0aW9ucy5zdWJtaXRMYXlvdXRTdGVwKHRoaXMuc3RhdGUubGF5b3V0KTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFdlbGNvbWVTZWN0aW9uLCB7aWQ6IFwid2VsY29tZV9fbGF5b3V0XCJ9LCBcblx0XHRcdFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJMZXQncyBsYXVuY2ggXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJlbVwiLCBudWxsLCB0aGlzLnN0YXRlLnNpdGVfdGl0bGUpKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoNFwiLCBudWxsLCBcIlNlbGVjdCBhIExheW91dFwiKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtzdHlsZTogc3R5bGVzLmNvbnRlbnR9LCBcIldvcmRQcmVzcyBjYW4gYmUgYSBibG9nLCBhIHdlYiBzaXRlIHdpdGggYSBoaWVyYXJjaHkgb2Ygc3RhdGljIHBhZ2VzLCBvciBhIGNvbWJpbmF0aW9uIG9mIHRoZSB0d28uXCIpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImZvcm1cIiwge29uU3VibWl0OiB0aGlzLmhhbmRsZVN1Ym1pdH0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7dHlwZTogXCJyYWRpb1wiLCBuYW1lOiBcInNpdGVfbGF5b3V0XCIsIHZhbHVlOiBcIndlYnNpdGVcIiwgY2hlY2tlZDogdGhpcy5zdGF0ZS5sYXlvdXQgPT09ICd3ZWJzaXRlJywgb25DaGFuZ2U6IHRoaXMuaGFuZGxlU2V0TGF5b3V0fSksIFwiIFN0YXRpYyBXZWJzaXRlXCIsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJkZXNjcmlwdGlvblwifSwgXCJBIHdlYiBzaXRlIHdpdGggYSBoaWVyYXJjaHkgb2YgcGFnZXNcIilcblx0XHRcdFx0XHQpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7dHlwZTogXCJyYWRpb1wiLCBuYW1lOiBcInNpdGVfbGF5b3V0XCIsIHZhbHVlOiBcInNpdGUtYmxvZ1wiLCBjaGVja2VkOiB0aGlzLnN0YXRlLmxheW91dCA9PT0gJ3NpdGUtYmxvZycsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVNldExheW91dH0pLCBcIiBTdGF0aWMgV2Vic2l0ZSB3aXRoIGEgYmxvZ1wiLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwiZGVzY3JpcHRpb25cIn0sIFwiQSB3ZWIgc2l0ZSB3aXRoIHBhZ2VzIHRoYXQgYWxzbyBoYXMgYSBibG9nIG9yIG5ld3Mgc2VjdGlvblwiKVxuXHRcdFx0XHRcdCksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiclwiLCBudWxsKSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImxhYmVsXCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHt0eXBlOiBcInJhZGlvXCIsIG5hbWU6IFwic2l0ZV9sYXlvdXRcIiwgdmFsdWU6IFwiYmxvZ1wiLCBjaGVja2VkOiB0aGlzLnN0YXRlLmxheW91dCA9PT0gJ2Jsb2cnLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVTZXRMYXlvdXR9KSwgXCIgSnVzdCBhIGJsb2dcIiwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcImRlc2NyaXB0aW9uXCJ9LCBcIkEgd2ViIHNpdGUgdGhhdCB3aWxsIGNvbnN0YW50bHkgc2hvdyBuZXcgY29udGVudCAoYXJ0aWNsZXMsIHBob3RvcywgdmlkZW9zLCBldGMuKVwiKVxuXHRcdFx0XHRcdCksIFxuXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJzdWJtaXRcIn0sIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtjb2xvcjogXCJibHVlXCJ9LCBcIk5leHQgU3RlcCDihpJcIilcblx0XHRcdFx0XHQpXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBMYXlvdXRTdGVwOyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpLFxuXHRTaXRlQWN0aW9ucyA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvc2l0ZS1hY3Rpb25zJyksXG5cdFNpdGVTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zaXRlLXN0b3JlJyksXG5cdFdlbGNvbWVTZWN0aW9uID0gcmVxdWlyZSgnLi93ZWxjb21lLXNlY3Rpb24nKSxcblx0c3R5bGVzID0gcmVxdWlyZSgnLi4vc3R5bGVzJyksXG5cdEJ1dHRvbiA9IHJlcXVpcmUoJ0BhdXRvbWF0dGljL2RvcHMtcmVhY3QvanMvY29tcG9uZW50cy9idXR0b24nKSxcblx0U2V0dXBQcm9ncmVzc0FjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3NldHVwLXByb2dyZXNzLWFjdGlvbnMnKTtcblxuZnVuY3Rpb24gZ2V0U2l0ZVRpdGxlU3RhdGUoKSB7XG5cdHJldHVybiB7XG5cdFx0dGl0bGU6IFNpdGVTdG9yZS5nZXRUaXRsZSgpLFxuXHRcdGRlc2NyaXB0aW9uOiBTaXRlU3RvcmUuZ2V0RGVzY3JpcHRpb24oKVxuXHR9O1xufVxuXG52YXIgU2l0ZVRpdGxlU3RlcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJTaXRlVGl0bGVTdGVwXCIsXG5cblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0X29uQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICBcdHRoaXMuc2V0U3RhdGUoZ2V0U2l0ZVRpdGxlU3RhdGUoKSk7XG4gIFx0fSxcblxuXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBnZXRTaXRlVGl0bGVTdGF0ZSgpO1xuXHR9LFxuXG5cdGhhbmRsZUNoYW5nZVRpdGxlOiBmdW5jdGlvbihlKSB7XG5cdFx0U2l0ZUFjdGlvbnMuc2V0VGl0bGUoZS5jdXJyZW50VGFyZ2V0LnZhbHVlKTtcblx0fSxcblxuXHRoYW5kbGVDaGFuZ2VEZXNjcmlwdGlvbjogZnVuY3Rpb24oZSkge1xuXHRcdFNpdGVBY3Rpb25zLnNldERlc2NyaXB0aW9uKGUuY3VycmVudFRhcmdldC52YWx1ZSk7XG5cdH0sXG5cblx0aGFuZGxlU3VibWl0OiBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFNldHVwUHJvZ3Jlc3NBY3Rpb25zLnN1Ym1pdFRpdGxlU3RlcCgpO1xuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIChcblxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChXZWxjb21lU2VjdGlvbiwge2lkOiBcIndlbGNvbWVfX3NpdGUtdGl0bGVcIn0sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJMZXQncyBsYXVuY2ggeW91ciBuZXcgd2Vic2l0ZVwiKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoNFwiLCBudWxsLCBcIkVudGVyIGEgVGl0bGUgYW5kIERlc2NyaXB0aW9uXCIpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge3N0eWxlOiBzdHlsZXMuY29udGVudH0sIFxuXHRcdFx0XHRcdFwiTWFrZSB5b3VyIHNpdGUgc3RhbmQgb3V0IHdpdGggYSBjYXRjaHkgbmFtZS5cIlxuXHRcdFx0XHQpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImZvcm1cIiwge29uU3VibWl0OiB0aGlzLmhhbmRsZVN1Ym1pdH0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiLCB7Y2xhc3NOYW1lOiBcImZvcm0tdGFibGVcIn0sIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInRib2R5XCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwidHJcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInRoXCIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCB7aHRtbEZvcjogXCJzaXRlX3RpdGxlXCJ9LCBcIlNpdGUgVGl0bGVcIikpLCBcblx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwidGRcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge3R5cGU6IFwidGV4dFwiLCBuYW1lOiBcInNpdGVfdGl0bGVcIiwgaWQ6IFwic2l0ZS10aXRsZVwiLCBhdXRvQ29tcGxldGU6IFwib2ZmXCIsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZVRpdGxlLCB2YWx1ZTogdGhpcy5zdGF0ZS50aXRsZSwgXG5cdFx0XHRcdFx0ICAgICAgIHBsYWNlaG9sZGVyOiBcIlNpdGUgVGl0bGUgKHRoaXMgY2FuIGJlIGNoYW5nZWQgbGF0ZXIpXCIsIHJlcXVpcmVkOiB0cnVlfSksIFxuXHRcdFx0XHRcdCAgICAgICBcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcImRlc2NyaXB0aW9uXCJ9LCBcIlRoZSBuYW1lIG9mIHlvdXIgc2l0ZS4gVGhpcyB0aXRsZSBhcHBlYXJzIGF0IHRoZSB0b3Agb2YgcGFnZXMgYW5kIGluIHNlYXJjaCByZXN1bHRzLlwiKVxuXHRcdFx0XHRcdCAgICAgICBcdFx0KVxuXHRcdFx0XHRcdCAgICAgIFx0KSwgXG5cdFx0XHRcdFx0ICAgICAgXHRSZWFjdC5jcmVhdGVFbGVtZW50KFwidHJcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInRoXCIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCB7aHRtbEZvcjogXCJzaXRlX2Rlc2NyaXB0aW9uXCJ9LCBcIlNpdGUgRGVzY3JpcHRpb25cIikpLCBcblx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwidGRcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge3R5cGU6IFwidGV4dFwiLCBuYW1lOiBcInNpdGVfZGVzY3JpcHRpb25cIiwgaWQ6IFwic2l0ZS1kZXNjcmlwdGlvblwiLCBhdXRvQ29tcGxldGU6IFwib2ZmXCIsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZURlc2NyaXB0aW9uLCB2YWx1ZTogdGhpcy5zdGF0ZS5kZXNjcmlwdGlvbiwgXG5cdFx0XHRcdFx0ICAgICAgIHBsYWNlaG9sZGVyOiBcIlNpdGUgRGVzY3JpcHRpb25cIiwgcmVxdWlyZWQ6IHRydWV9KSwgXG5cdFx0XHRcdFx0ICAgICAgIFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwiZGVzY3JpcHRpb25cIn0sIFwiQSBtb3R0byBvciB0YWdsaW5lLiBUaGlzIGFwcGVhcnMgYmVsb3cgdGhlIHRpdGxlIG9uIHlvdXIgc2l0ZSwgYW5kIG5leHQgdG8gdGhlIHRpdGxlIGluIHNlYXJjaCByZXN1bHRzLiBUcnkgdG8gYmUgYnJpZWYgYW5kIGRlc2NyaXB0aXZlLCBlLmcuIFxcXCJZb3VyIG9ubGluZSBiYWl0IGFuZCB0YWNrbGUgc3RvcmVcXFwiXCIpXG5cdFx0XHRcdFx0ICAgICAgIFx0XHQpXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHQpLCBcblxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwic3VibWl0XCJ9LCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7Y29sb3I6IFwiYmx1ZVwifSwgXCJOZXh0IFN0ZXAg4oaSXCIpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU2l0ZVRpdGxlU3RlcDsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKSxcblx0U2V0dXBQcm9ncmVzc1N0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NldHVwLXByb2dyZXNzLXN0b3JlJyksXG5cdFNldHVwUHJvZ3Jlc3NBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zZXR1cC1wcm9ncmVzcy1hY3Rpb25zJyk7XG5cbmZ1bmN0aW9uIGdldFNldHVwUHJvZ3Jlc3MoKSB7XG5cdHJldHVybiB7XG5cdFx0Y29tcGxldGVkOiBTZXR1cFByb2dyZXNzU3RvcmUuZ2V0Q3VycmVudFN0ZXAoKS5jb21wbGV0ZWRcblx0fTtcbn1cblxudmFyIFNraXBCdXR0b24gPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiU2tpcEJ1dHRvblwiLFxuXG5cdHN0eWxlOiB7XG5cdFx0Y29sb3I6ICcjYmJiJyxcblx0XHRmb250U2l6ZTogJzkwJScsXG5cdFx0bWFyZ2luTGVmdDogMjAsXG5cdFx0Ym9yZGVyQm90dG9tOiAnMXB4IGRvdHRlZCAjYmJiJ1xuXHR9LFxuXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTZXR1cFByb2dyZXNzU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTZXR1cFByb2dyZXNzU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdF9vbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgXHR0aGlzLnNldFN0YXRlKGdldFNldHVwUHJvZ3Jlc3MoKSk7XG4gIFx0fSxcblxuICBcdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGdldFNldHVwUHJvZ3Jlc3MoKTtcblx0fSxcblxuXHRoYW5kbGVTa2lwOiBmdW5jdGlvbiAoZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRTZXR1cFByb2dyZXNzQWN0aW9ucy5za2lwU3RlcCgpO1xuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGNvbXBsZXRlZCA9ICh0aGlzLnN0YXRlLmNvbXBsZXRlZCk7XG5cdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7c3R5bGU6IHRoaXMuc3R5bGUsIGhyZWY6IFwiI1wiLCBvbkNsaWNrOiB0aGlzLmhhbmRsZVNraXB9LCBcIk5vdCBub3dcIikpO1xuXHRcdH1cblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU2tpcEJ1dHRvbjsiLCJcbnZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpO1xuXG52YXIgVG9vbHRpcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJUb29sdGlwXCIsXG5cdHByb3BUeXBlczoge1xuXHRcdGxlZnQ6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCwgIC8vIGUuZy4gNjAwXG5cdFx0dG9wOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsICAgLy9lLmcuIDE1N1xuXHRcdHdpZHRoOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsIC8vZS5nLiAzMjBcblx0XHR0aXRsZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLCAgLy8gZS5nLiBEaXN0cmFjdGlvbi1GcmVlIFdyaXRpbmdcblx0fSxcblxuXHRoYW5kbGVEaXNtaXNzOiBmdW5jdGlvbiAoIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHR9LFxuXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fcmVjb21wdXRlUG9zaXRpb24oKTtcblx0fSxcblxuXHRjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fcmVjb21wdXRlUG9zaXRpb24oKTtcblx0fSxcblxuXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0cmVhbFRvcDogdGhpcy5wcm9wcy50b3Bcblx0XHR9O1xuXHR9LFxuXG5cdF9yZWNvbXB1dGVQb3NpdGlvbjogZnVuY3Rpb24gKCkge1xuXHRcdHZhciAkd3JhcHBlciA9IGpRdWVyeShSZWFjdC5maW5kRE9NTm9kZSh0aGlzLnJlZnMud3JhcHBlcikpO1xuXG5cdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRyZWFsVG9wOiB0aGlzLnByb3BzLnRvcCAtICgkd3JhcHBlci5vdXRlckhlaWdodCgpLzIpXG5cdFx0fSk7XG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7cmVmOiBcIndyYXBwZXJcIiwgY2xhc3NOYW1lOiBcIndwLXBvaW50ZXIgd3AtcG9pbnRlci1sZWZ0XCIsIHN0eWxlOiB7cG9zaXRpb246ICdhYnNvbHV0ZScsIHdpZHRoOiB0aGlzLnByb3BzLndpZHRoLCB0b3A6IHRoaXMuc3RhdGUucmVhbFRvcCwgbGVmdDogdGhpcy5wcm9wcy5sZWZ0LCB6SW5kZXg6IDk5OTl9fSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ3cC1wb2ludGVyLWNvbnRlbnRcIn0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCB0aGlzLnByb3BzLnRpdGxlKSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwgbnVsbCwgdGhpcy5wcm9wcy5jaGlsZHJlbilcblx0XHRcdFx0KSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ3cC1wb2ludGVyLWFycm93XCJ9LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwid3AtcG9pbnRlci1hcnJvdy1pbm5lclwifSlcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRvb2x0aXA7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCksXG5cdFJhZGl1bSA9IHJlcXVpcmUoJ3JhZGl1bScpLFxuXHRQcm9ncmVzc0JhciA9IHJlcXVpcmUoJ0BhdXRvbWF0dGljL2RvcHMtcmVhY3QvanMvY29tcG9uZW50cy9wcm9ncmVzcy1iYXInKSxcblx0U2V0dXBQcm9ncmVzc0FjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3NldHVwLXByb2dyZXNzLWFjdGlvbnMnKSxcblx0RGFzaGljb24gPSByZXF1aXJlKCcuL2Rhc2hpY29uJyk7XG5cbnZhciBzdGVwU2hhcGUgPSBSZWFjdC5Qcm9wVHlwZXMuc2hhcGUoe1xuXHRuYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG5cdHNsdWc6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmdcbn0pO1xuXG4vKipcbiAqIFRoZSBtZW51IHdoaWNoIGFsbG93cyB0aGUgdXNlciB0byBzd2l0Y2ggc3RlcHNcbiAqKi9cbnZhciBXZWxjb21lTWVudSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJXZWxjb21lTWVudVwiLFxuXHRcblx0cHJvcFR5cGVzOiB7XG5cdFx0Y3VycmVudFN0ZXA6IHN0ZXBTaGFwZS5pc1JlcXVpcmVkLFxuXHRcdGNsaWNrYWJsZTogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdFx0YWxsU3RlcHM6IFJlYWN0LlByb3BUeXBlcy5hcnJheU9mKHN0ZXBTaGFwZSkuaXNSZXF1aXJlZCxcblx0XHRwcm9ncmVzc1BlcmNlbnQ6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxuXHR9LFxuXG5cdGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGNsaWNrYWJsZTogdHJ1ZVxuXHRcdH07XG5cdH0sXG5cblx0c3R5bGVzOiB7XG5cdFx0d3JhcHBlcjoge1xuXHRcdFx0ZmxvYXQ6ICdyaWdodCcsXG5cdFx0XHR3aWR0aDogJzI4JScsXG5cdFx0XHRoZWlnaHQ6ICcxMDAlJyxcblx0XHRcdGJhY2tncm91bmQ6ICcjZmFmYWZhJyxcblx0XHRcdGJvcmRlcjogJzFweCBzb2xpZCAjZWVlJyxcblx0XHR9LFxuXHRcdHRpdGxlOiB7XG5cdFx0XHRtYXJnaW46IDAsXG5cdFx0XHRwYWRkaW5nOiAxMixcblx0XHRcdG92ZXJmbG93OiAnaGlkZGVuJyxcblx0XHRcdGJhY2tncm91bmQ6ICcjNDQ0Jyxcblx0XHRcdGNvbG9yOiAnI2ZmZicsXG5cdFx0XHRmb250U2l6ZTogMTIsXG5cdFx0XHR0ZXh0VHJhbnNmb3JtOiAndXBwZXJjYXNlJ1xuXHRcdH0sXG5cdFx0bGlzdDoge1xuXHRcdFx0bWFyZ2luOiAnMTNweCAxMHB4Jyxcblx0XHRcdGxpc3RTdHlsZTogJ25vbmUnLFxuXHRcdFx0J0BtZWRpYSAobWF4LXdpZHRoOiA2MDBweCknOiB7XG5cdFx0XHRcdG1hcmdpbjogJzVweCA0cHgnXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRtZW51SXRlbToge1xuXHRcdFx0bWFyZ2luQm90dG9tOiA2LFxuXHRcdFx0cG9zaXRpb246ICdyZWxhdGl2ZScsXG5cdFx0XHRjb2xvcjogJyMzMzMnLFxuXHRcdFx0bGluZUhlaWdodDogMS43LFxuXHRcdFx0J0BtZWRpYSAobWF4LXdpZHRoOiA3ODJweCknOiB7XG5cdFx0XHRcdGZvbnRTaXplOiAnc21hbGwnXG5cdFx0XHR9LFxuXHRcdFx0J0BtZWRpYSAobWF4LXdpZHRoOiA2MDBweCknOiB7XG5cdFx0XHRcdGZvbnRTaXplOiAnc21hbGxlcidcblx0XHRcdH1cblx0XHR9LFxuXHRcdG1lbnVJdGVtQ29tcGxldGVkOiB7XG5cdFx0XHRjb2xvcjogJyM0QUI4NjYnXG5cdFx0fSxcblx0XHRpY29uOiB7XG5cdFx0XHRmb250U2l6ZTogMTYsXG5cdFx0XHR0b3A6IDMsXG5cdFx0XHRwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuXHRcdH0sXG5cdFx0bWVudUl0ZW1MaW5rOiB7XG5cdFx0XHRjb2xvcjogJ2luaGVyaXQnLFxuXHRcdFx0Ym9yZGVyQm90dG9tOiAnMXB4IGRhc2hlZCdcblx0XHR9LFxuXHRcdG1lbnVJdGVtQ3VycmVudDoge1xuXHRcdFx0Y29sb3I6ICcjMDA3NEEyJ1xuXHRcdH1cblx0fSxcblxuXHRzZWxlY3RTdGVwOiBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFxuXHRcdHZhciBzbHVnID0galF1ZXJ5KGUuY3VycmVudFRhcmdldCkuZGF0YSgnc3RlcC1zbHVnJyk7XG5cblx0XHRTZXR1cFByb2dyZXNzQWN0aW9ucy5zZXRDdXJyZW50U3RlcChzbHVnKTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIG1lbnVJdGVtcyA9IHRoaXMucHJvcHMuYWxsU3RlcHMubWFwKGZ1bmN0aW9uICggc3RlcCApIHtcblx0XHRcdHZhciB0aXRsZSwgY3VycmVudCwgbWVudVZpZXcsIGljb25OYW1lO1xuXG5cdFx0XHRpZiAoIHRoaXMucHJvcHMuY2xpY2thYmxlICYmIHRoaXMucHJvcHMuY3VycmVudFN0ZXAgKSB7XG5cdFx0XHRcdGN1cnJlbnQgPSAoIHRoaXMucHJvcHMuY3VycmVudFN0ZXAuc2x1ZyA9PSBzdGVwLnNsdWcgKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCAhc3RlcC5zdGF0aWMgJiYgdGhpcy5wcm9wcy5jbGlja2FibGUgKSB7XG5cdFx0XHRcdHRpdGxlID0gUmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge2hyZWY6IFwiI1wiLCBzdHlsZTogdGhpcy5zdHlsZXMubWVudUl0ZW1MaW5rLCBcImRhdGEtc3RlcC1zbHVnXCI6IHN0ZXAuc2x1Zywgb25DbGljazogdGhpcy5zZWxlY3RTdGVwfSwgc3RlcC5uYW1lKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRpdGxlID0gc3RlcC5uYW1lO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHN0ZXAubWVudVZpZXcgJiYgdGhpcy5wcm9wcy5jbGlja2FibGUgKSB7XG5cdFx0XHRcdG1lbnVWaWV3ID0gUmVhY3QuY3JlYXRlRWxlbWVudChzdGVwLm1lbnVWaWV3LCBudWxsKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0aWNvbk5hbWUgPSBzdGVwLmNvbXBsZXRlZCA/ICd5ZXMnIDogJ2Fycm93LXJpZ2h0LWFsdDInO1xuXG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwge2tleTogc3RlcC5zbHVnLCBzdHlsZTogW3RoaXMuc3R5bGVzLm1lbnVJdGVtLCBzdGVwLmNvbXBsZXRlZCAmJiB0aGlzLnN0eWxlcy5tZW51SXRlbUNvbXBsZXRlZCwgY3VycmVudCAmJiB0aGlzLnN0eWxlcy5tZW51SXRlbUN1cnJlbnRdfSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChEYXNoaWNvbiwge3N0eWxlOiB0aGlzLnN0eWxlcy5pY29uLCBuYW1lOiBpY29uTmFtZX0pLCBcblx0XHRcdFx0XHR0aXRsZSwgXCIgXCIsIHN0ZXAuc2tpcHBlZCA/ICcoc2tpcHBlZCknIDogbnVsbCwgXG5cdFx0XHRcdFx0bWVudVZpZXdcblx0XHRcdFx0KVxuXHRcdFx0KTtcblx0XHR9LmJpbmQodGhpcykgKTtcblxuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZTogW3RoaXMuc3R5bGVzLndyYXBwZXIsIHRoaXMucHJvcHMuc3R5bGVdfSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLnRpdGxlfSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge3N0eWxlOiB7ZmxvYXQ6ICdsZWZ0JywgbWFyZ2luUmlnaHQ6IDEwfX0sIFwiWW91ciBQcm9ncmVzc1wiKSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoUHJvZ3Jlc3NCYXIsIHtzdHlsZTogeyBmbG9hdDogJ2xlZnQnfSwgcHJvZ3Jlc3NQZXJjZW50OiB0aGlzLnByb3BzLnByb2dyZXNzUGVyY2VudH0pXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpLCBcblx0XHRcdFx0XG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJvbFwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLmxpc3R9LCBcblx0XHRcdFx0XHRtZW51SXRlbXNcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJhZGl1bShXZWxjb21lTWVudSk7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCk7XG5cbnZhciBXZWxjb21lU2VjdGlvbiA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJXZWxjb21lU2VjdGlvblwiLFxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciAkX18wPSAgdGhpcy5wcm9wcyxvdGhlcj0oZnVuY3Rpb24oc291cmNlLCBleGNsdXNpb24pIHt2YXIgcmVzdCA9IHt9O3ZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O2lmIChzb3VyY2UgPT0gbnVsbCkge3Rocm93IG5ldyBUeXBlRXJyb3IoKTt9Zm9yICh2YXIga2V5IGluIHNvdXJjZSkge2lmIChoYXNPd24uY2FsbChzb3VyY2UsIGtleSkgJiYgIWhhc093bi5jYWxsKGV4Y2x1c2lvbiwga2V5KSkge3Jlc3Rba2V5XSA9IHNvdXJjZVtrZXldO319cmV0dXJuIHJlc3Q7fSkoJF9fMCx7fSk7XG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgUmVhY3QuX19zcHJlYWQoe30sICBvdGhlciwge2NsYXNzTmFtZTogXCJ3ZWxjb21lX19zZWN0aW9uXCJ9KSwgXG5cdFx0XHRcdHRoaXMucHJvcHMuY2hpbGRyZW5cblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBXZWxjb21lU2VjdGlvbjsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKSxcblx0V2VsY29tZU1lbnUgPSByZXF1aXJlKCcuL3dlbGNvbWUtbWVudScpLFxuXHRTZXR1cFByb2dyZXNzU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2V0dXAtcHJvZ3Jlc3Mtc3RvcmUnKSxcblx0UmVzZXQgPSByZXF1aXJlKCdAYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvcmVzZXQnKSxcblx0U2V0dXBQcm9ncmVzc0FjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3NldHVwLXByb2dyZXNzLWFjdGlvbnMnKSxcblx0Rmxhc2ggPSByZXF1aXJlKCcuL2ZsYXNoJyksXG5cdHN0eWxlcyA9IHJlcXVpcmUoJy4uL3N0eWxlcycpLFxuXHRHZXRTdGFydGVkID0gcmVxdWlyZSgnLi9nZXQtc3RhcnRlZCcpLFxuXHRTcGlubmVyU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc3Bpbm5lci1zdG9yZScpLFxuXHRTcGlubmVyQWN0aW9ucyA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvc3Bpbm5lci1hY3Rpb25zJyksXG5cdERhdGFTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9kYXRhLXN0b3JlJyk7XG5cbmZ1bmN0aW9uIGdldFNldHVwUHJvZ3Jlc3MoKSB7XG5cdHJldHVybiB7IFxuXHRcdG5ld1VzZXI6IFNldHVwUHJvZ3Jlc3NTdG9yZS5pc05ld1VzZXIoKSwgXG5cdFx0c2hvd1NwaW5uZXI6IFNwaW5uZXJTdG9yZS5zaG93aW5nKCksIFxuXHRcdHNwaW5uZXJNZXNzYWdlOiBTcGlubmVyU3RvcmUuZ2V0TWVzc2FnZSgpLCBcblx0XHRjdXJyZW50U3RlcDogU2V0dXBQcm9ncmVzc1N0b3JlLmdldEN1cnJlbnRTdGVwKCksIFxuXHRcdGFsbFN0ZXBzOiBTZXR1cFByb2dyZXNzU3RvcmUuZ2V0QWxsU3RlcHMoKSwgXG5cdFx0cHJvZ3Jlc3NQZXJjZW50OiBTZXR1cFByb2dyZXNzU3RvcmUuZ2V0UHJvZ3Jlc3NQZXJjZW50KCkgXG5cdH07XG59XG5cbi8vIFRPRE86IHZpc3VhbCBcInNhdmluZ1wiIGZvciB0aGlzLnN0YXRlLnNhdmluZ1xudmFyIFdlbGNvbWVXaWRnZXQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiV2VsY29tZVdpZGdldFwiLFxuXG5cdHN0eWxlczoge1xuXHRcdHdyYXBwZXI6IHsgcG9zaXRpb246ICdyZWxhdGl2ZScgfSxcblx0XHRsb2FkaW5nT3ZlcmxheToge1xuXHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdFx0XHR0b3A6IDAsXG5cdFx0XHRsZWZ0OiAwLFxuXHRcdFx0d2lkdGg6ICcxMDAlJyxcblx0XHRcdGhlaWdodDogJzEwMCUnLFxuXHRcdFx0bWluSGVpZ2h0OiAnMTAwJScsXG5cdFx0XHR6SW5kZXg6IDk5OSxcblx0XHRcdGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMjU1LDI1NSwyNTUsMC42KSdcblx0XHR9LFxuXHRcdGxvYWRpbmdNZXNzYWdlOiB7XG5cdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcblx0XHRcdHdpZHRoOiAnNTAlJyxcblx0XHRcdG1pbldpZHRoOiAzMDAsXG5cdFx0XHRib3JkZXJSYWRpdXM6IDIsXG5cdFx0XHRwYWRkaW5nOiAyMCxcblx0XHRcdGJvcmRlcjogJzFweCBzb2xpZCBibGFjaycsXG5cdFx0XHRiYWNrZ3JvdW5kQ29sb3I6ICd3aGl0ZScsXG5cdFx0XHR0ZXh0QWxpZ246ICdjZW50ZXInLFxuXHRcdFx0bGVmdDogJzUwJScsXG5cdFx0XHR0b3A6IDEwMCxcblx0XHRcdHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtNTAlLC01MCUpJ1xuXHRcdH0sXG5cdFx0Y29udGFpbmVyOiB7XG5cdFx0XHRmbG9hdDogJ2xlZnQnLFxuXHRcdFx0d2lkdGg6ICc3MCUnLFxuXHRcdFx0cGFkZGluZzogJzAgMTBweCdcblx0XHR9LFxuXHRcdG1lbnU6IHtcblx0XHRcdG1hcmdpblRvcDogMjVcblx0XHR9XG5cdH0sXG5cblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNldHVwUHJvZ3Jlc3NTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdFx0U3Bpbm5lclN0b3JlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMuX29uU3Bpbm5lckNoYW5nZSk7XG5cdFx0RGF0YVN0b3JlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMuX29uRGF0YUNoYW5nZSk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNldHVwUHJvZ3Jlc3NTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdFx0U3Bpbm5lclN0b3JlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMuX29uU3Bpbm5lckNoYW5nZSk7XG5cdFx0RGF0YVN0b3JlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMuX29uRGF0YUNoYW5nZSk7XG5cdH0sXG5cblx0X29uQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICBcdHRoaXMuc2V0U3RhdGUoZ2V0U2V0dXBQcm9ncmVzcygpKTtcbiAgXHR9LFxuXG4gIFx0X29uU3Bpbm5lckNoYW5nZTogZnVuY3Rpb24oKSB7XG4gIFx0XHR0aGlzLnNldFN0YXRlKHsgc2hvd1NwaW5uZXI6IFNwaW5uZXJTdG9yZS5zaG93aW5nKCksIHNwaW5uZXJNZXNzYWdlOiBTcGlubmVyU3RvcmUuZ2V0TWVzc2FnZSgpIH0pO1xuICBcdH0sXG5cbiAgXHRfb25EYXRhQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgXHRcdHRoaXMuc2V0U3RhdGUoeyBzYXZpbmc6IERhdGFTdG9yZS5pc1NhdmluZygpIH0pO1xuICBcdH0sXG5cblx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZ2V0U2V0dXBQcm9ncmVzcygpO1xuXHR9LFxuXG5cdGhhbmRsZVJlc2V0OiBmdW5jdGlvbiggZSApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0U2V0dXBQcm9ncmVzc0FjdGlvbnMucmVzZXREYXRhKCk7XG5cdH0sXG5cblx0aGFuZGxlU2hvd1NwaW5uZXI6IGZ1bmN0aW9uICggZSApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0U3Bpbm5lckFjdGlvbnMuc2hvdyhcIlRlc3Rpbmcgc3Bpbm5lclwiKTtcblx0fSxcblxuXHRoYW5kbGVIaWRlU3Bpbm5lcjogZnVuY3Rpb24gKCBlICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRTcGlubmVyQWN0aW9ucy5oaWRlKCk7XG5cdH0sXG5cdFxuXG4gIFx0cmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFJlc2V0LCB7Y3NzOiBzdHlsZXMuY3NzfSwgXG5cdFx0XHRcdHRoaXMuX3JlbmRlckRlYnVnKCksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZTogdGhpcy5zdHlsZXMud3JhcHBlcn0sIFxuXHRcdFx0XHRcdHRoaXMuX3JlbmRlclNwaW5uZXIoKSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLmNvbnRhaW5lcn0sIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChGbGFzaCwgbnVsbCksIFxuXHRcdFx0XHRcdFx0dGhpcy5fcmVuZGVyU2VjdGlvbigpXG5cdFx0XHRcdFx0KSwgXG5cblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFdlbGNvbWVNZW51LCB7c3R5bGU6IHRoaXMuc3R5bGVzLm1lbnUsIGNsaWNrYWJsZTogIXRoaXMuc3RhdGUubmV3VXNlciwgY3VycmVudFN0ZXA6IHRoaXMuc3RhdGUuY3VycmVudFN0ZXAsIGFsbFN0ZXBzOiB0aGlzLnN0YXRlLmFsbFN0ZXBzLCBwcm9ncmVzc1BlcmNlbnQ6IHRoaXMuc3RhdGUucHJvZ3Jlc3NQZXJjZW50fSksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJjbGVhclwifSlcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0X3JlbmRlclNlY3Rpb246IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggdGhpcy5zdGF0ZS5uZXdVc2VyICkge1xuICBcdFx0XHRyZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoR2V0U3RhcnRlZCwgbnVsbCkpO1xuICBcdFx0fSBlbHNlIHtcbiAgXHRcdFx0cmV0dXJuIHRoaXMuX3JlbmRlckN1cnJlbnRWaWV3KCk7XG4gIFx0XHR9XG5cdH0sXG5cblx0X3JlbmRlckRlYnVnOiBmdW5jdGlvbigpIHtcblx0XHQvLyBpZiAoIEpQUy5kZWJ1ZyApIHtcbiAgLy8gXHRcdFx0cmV0dXJuICg8ZGl2PlxuICAvLyBcdFx0XHRcdDxhIGhyZWY9XCIjXCIgY2xhc3NOYW1lPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5oYW5kbGVSZXNldH0+UmVzZXQgV2l6YXJkPC9hPlxuICAvLyBcdFx0XHRcdDxhIGhyZWY9XCIjXCIgY2xhc3NOYW1lPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5oYW5kbGVTaG93U3Bpbm5lcn0+U2hvdyBzcGlubmVyPC9hPlxuICAvLyBcdFx0XHRcdDxhIGhyZWY9XCIjXCIgY2xhc3NOYW1lPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5oYW5kbGVIaWRlU3Bpbm5lcn0+SGlkZSBzcGlubmVyPC9hPlxuICAvLyBcdFx0XHQ8L2Rpdj4pO1xuICAvLyBcdFx0fSBlbHNlIHtcbiAgXHRcdFx0cmV0dXJuIG51bGw7XG4gIFx0XHQvLyB9XG5cdH0sXG5cblx0X3JlbmRlclNwaW5uZXI6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggdGhpcy5zdGF0ZS5zaG93U3Bpbm5lciApIHtcbiAgXHRcdFx0cmV0dXJuIChcbiAgXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZTogdGhpcy5zdHlsZXMubG9hZGluZ092ZXJsYXl9LCBcbiAgXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge3N0eWxlOiB0aGlzLnN0eWxlcy5sb2FkaW5nTWVzc2FnZX0sIFxuICBcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIHtzcmM6IFwiL3dwLWFkbWluL2ltYWdlcy9zcGlubmVyLTJ4LmdpZlwiLCB3aWR0aDogXCIxNnB4XCIsIGhlaWdodDogXCIxNnB4XCJ9KSwgXG4gIFx0XHRcdFx0XHRcdFwiwqDCoFwiLCB0aGlzLnN0YXRlLnNwaW5uZXJNZXNzYWdlXG4gIFx0XHRcdFx0XHQpXG4gIFx0XHRcdFx0KVxuICBcdFx0XHQpO1xuXG4gIFx0XHR9IGVsc2Uge1xuICBcdFx0XHRyZXR1cm4gbnVsbDtcbiAgXHRcdH1cblx0fSxcblxuXHRfcmVuZGVyQ3VycmVudFZpZXc6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggdGhpcy5zdGF0ZS5jdXJyZW50U3RlcCApIHtcbiAgXHRcdFx0cmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KHRoaXMuc3RhdGUuY3VycmVudFN0ZXAud2VsY29tZVZpZXcsIG51bGwpKTtcbiAgXHRcdH0gZWxzZSB7XG4gIFx0XHRcdHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiTm90aGluZ1wiKSk7XG4gIFx0XHR9XG5cdH0sXG5cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFdlbGNvbWVXaWRnZXQ7IiwidmFyIGtleU1pcnJvciA9IHJlcXVpcmUoJ2tleW1pcnJvcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGtleU1pcnJvcih7XG5cdFNURVBfQ09NUExFVEU6IG51bGwsXG5cdFNURVBfR0VUX1NUQVJURUQ6IG51bGwsXG5cdFNURVBfU0VMRUNUOiBudWxsLFxuXHRTVEVQX05FWFQ6IG51bGwsXG5cdFNURVBfU0tJUDogbnVsbCxcblx0U0lURV9TRVRfVElUTEU6IG51bGwsXG5cdFNJVEVfU0VUX0RFU0NSSVBUSU9OOiBudWxsLFxuXHRTSVRFX1NBVkVfVElUTEVfQU5EX0RFU0NSSVBUSU9OOiBudWxsLFxuXHRTSVRFX1NFVF9USEVNRTogbnVsbCxcblx0U0lURV9JTlNUQUxMX1RIRU1FOiBudWxsLFxuXHRTSVRFX0pFVFBBQ0tfQ09ORklHVVJFRDogbnVsbCxcblx0U0lURV9KRVRQQUNLX01PRFVMRV9FTkFCTEVEOiBudWxsLFxuXHRTSVRFX0pFVFBBQ0tfTU9EVUxFX0RJU0FCTEVEOiBudWxsLFxuXHRTSVRFX0pFVFBBQ0tfSlVNUFNUQVJUX0VOQUJMRUQ6IG51bGwsXG5cdFNJVEVfSkVUUEFDS19BRERfTU9EVUxFUzogbnVsbCxcblx0U0lURV9TRVRfTEFZT1VUOiBudWxsLFxuXG5cdFNBVkVfU1RBUlRFRDogbnVsbCxcblx0U0FWRV9GSU5JU0hFRDogbnVsbCxcblxuXHRTRVRfRkxBU0g6IG51bGwsXG5cdFVOU0VUX0ZMQVNIOiBudWxsLFxuXHRGTEFTSF9TRVZFUklUWV9OT1RJQ0U6IG51bGwsXG5cdEZMQVNIX1NFVkVSSVRZX0VSUk9SOiBudWxsLFxuXG5cdFJFU0VUX0RBVEE6IG51bGwsXG5cblx0U0hPV19TUElOTkVSOiBudWxsLFxuXHRISURFX1NQSU5ORVI6IG51bGxcbn0pOyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHQvLyBzdGVwc1xuXHRTSVRFX1RJVExFX1NURVBfU0xVRzogJ3RpdGxlJyxcblx0TEFZT1VUX1NURVBfU0xVRzogJ2xheW91dCcsXG5cdFRSQUZGSUNfU1RFUF9TTFVHOiAndHJhZmZpYycsXG5cdFNUQVRTX01PTklUT1JJTkdfU1RFUF9TTFVHOiAnc3RhdHMtbW9uaXRvcmluZycsXG5cdERFU0lHTl9TVEVQX1NMVUc6ICdkZXNpZ24nLFxuXHRBRFZBTkNFRF9TVEVQX1NMVUc6ICdhZHZhbmNlZCcsXG5cdEpFVFBBQ0tfTU9EVUxFU19TVEVQX1NMVUc6ICdqZXRwYWNrJ1xufTsiLCIvKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBBcHBEaXNwYXRjaGVyXG4gKlxuICogQSBzaW5nbGV0b24gdGhhdCBvcGVyYXRlcyBhcyB0aGUgY2VudHJhbCBodWIgZm9yIGFwcGxpY2F0aW9uIHVwZGF0ZXMuXG4gKi9cblxudmFyIERpc3BhdGNoZXIgPSByZXF1aXJlKCdmbHV4JykuRGlzcGF0Y2hlcjtcblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgRGlzcGF0Y2hlcigpOyIsInZhciBXZWxjb21lUGFuZWwgPSByZXF1aXJlKCcuL3dlbGNvbWUtcGFuZWwnKTtcblxuV2VsY29tZVBhbmVsKCk7IiwidmFyIEFwcERpc3BhdGNoZXIgPSByZXF1aXJlKCcuLi9kaXNwYXRjaGVyL2FwcC1kaXNwYXRjaGVyJyksXG5cdEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcixcblx0SlBTQ29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtY29uc3RhbnRzJyk7XG5cbi8qXG4gKiBUaGlzIGlzIGEgcmVmY291bnRlZCBzYXZlIG1vbml0b3Igd2hpY2ggd2FybnMgaWYgeW91IHRyeSB0byBsZWF2ZSB0aGUgcGFnZSB3aGlsZSB0aGUgZGF0YSBpcyBzdGlsbCBzYXZpbmdcbiAqL1xuXG52YXIgX2N1cnJlbnRTYXZlcyA9IDAsIGpwc1RpbWVvdXQsIENIQU5HRV9FVkVOVCA9ICdjaGFuZ2UnO1xuXG5qUXVlcnkod2luZG93KS5vbignYmVmb3JldW5sb2FkJywgZnVuY3Rpb24oKSB7XG5cdGlmKERhdGFTdG9yZS5pc1NhdmluZygpKSB7XG5cdFx0anBzVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgLy8gYWxlcnQoJ1lvdSBzdGF5ZWQnKTtcblx0ICAgICAgICAvLyBub29wXG5cdCAgICB9LCAxMDAwKTtcblx0ICAgIHJldHVybiBcIllvdXIgc2l0ZSBjaGFuZ2VzIGFyZSBzdGlsbCBzYXZpbmcuXCI7XG5cdH1cbn0pO1xuXG5qUXVlcnkod2luZG93KS5vbigndW5sb2FkJywgZnVuY3Rpb24oKSB7XG5cdGNsZWFyVGltZW91dChqcHNUaW1lb3V0KTtcbn0pO1xuXG5mdW5jdGlvbiBpbmNyZW1lbnRTYXZlQ291bnRlcigpIHtcblx0X2N1cnJlbnRTYXZlcyA9IF9jdXJyZW50U2F2ZXMgKyAxO1xufVxuXG5mdW5jdGlvbiBkZWNyZW1lbnRTYXZlQ291bnRlcigpIHtcblx0X2N1cnJlbnRTYXZlcyA9IF9jdXJyZW50U2F2ZXMgLSAxO1xufVxuXG52YXIgRGF0YVN0b3JlID0gXy5leHRlbmQoe30sIEV2ZW50RW1pdHRlci5wcm90b3R5cGUsIHtcblx0aXNTYXZpbmc6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBfY3VycmVudFNhdmVzID4gMDtcblx0fSxcblxuXHRhZGRDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0XHR0aGlzLm9uKENIQU5HRV9FVkVOVCwgY2FsbGJhY2spO1xuXHR9LFxuXG5cdHJlbW92ZUNoYW5nZUxpc3RlbmVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRcdHRoaXMucmVtb3ZlTGlzdGVuZXIoQ0hBTkdFX0VWRU5ULCBjYWxsYmFjayk7XG5cdH0sXG5cblx0ZW1pdENoYW5nZTogZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLmVtaXQoQ0hBTkdFX0VWRU5UKTtcblx0fSxcbn0pO1xuXG5BcHBEaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuXG4gIHN3aXRjaChhY3Rpb24uYWN0aW9uVHlwZSkge1xuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNBVkVfU1RBUlRFRDpcbiAgICBcdGluY3JlbWVudFNhdmVDb3VudGVyKCk7XG5cdFx0RGF0YVN0b3JlLmVtaXRDaGFuZ2UoKTtcblx0XHRicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNBVkVfRklOSVNIRUQ6XG4gICAgXHRkZWNyZW1lbnRTYXZlQ291bnRlcigpO1xuICAgICBcdERhdGFTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgIFx0YnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgLy8gbm8gb3BcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gRGF0YVN0b3JlOyIsInZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuXHRFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXIsXG5cdEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LWNvbnN0YW50cycpO1xuXG52YXIgQ0hBTkdFX0VWRU5UID0gJ2NoYW5nZSc7XG52YXIgbWVzc2FnZSwgc2V2ZXJpdHk7XG5cbmZ1bmN0aW9uIHNldEZsYXNoKG5ld01lc3NhZ2UsIG5ld1NldmVyaXR5KSB7XG5cdG1lc3NhZ2UgPSBuZXdNZXNzYWdlO1xuXHRzZXZlcml0eSA9IG5ld1NldmVyaXR5O1xufVxuXG52YXIgRmxhc2hTdG9yZSA9IF8uZXh0ZW5kKHt9LCBFdmVudEVtaXR0ZXIucHJvdG90eXBlLCB7XG5cdGdldEZsYXNoOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgc2V2ZXJpdHlTdHJpbmc7XG5cblx0XHRzd2l0Y2goc2V2ZXJpdHkpIHtcblx0XHRcdGNhc2UgSlBTQ29uc3RhbnRzLkZMQVNIX1NFVkVSSVRZX0VSUk9SOlxuXHRcdFx0XHRzZXZlcml0eVN0cmluZyA9ICdlcnJvcic7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBKUFNDb25zdGFudHMuRkxBU0hfU0VWRVJJVFlfTk9USUNFOlxuXHRcdFx0XHRzZXZlcml0eVN0cmluZyA9ICdub3RpY2UnO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdC8vbm9vcFxuXHRcdH1cblx0XHRyZXR1cm4ge21lc3NhZ2U6IG1lc3NhZ2UsIHNldmVyaXR5OiBzZXZlcml0eVN0cmluZ307XG5cblx0fSxcblxuXHRhZGRDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0XHR0aGlzLm9uKENIQU5HRV9FVkVOVCwgY2FsbGJhY2spO1xuXHR9LFxuXG5cdHJlbW92ZUNoYW5nZUxpc3RlbmVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRcdHRoaXMucmVtb3ZlTGlzdGVuZXIoQ0hBTkdFX0VWRU5ULCBjYWxsYmFjayk7XG5cdH0sXG5cblx0ZW1pdENoYW5nZTogZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLmVtaXQoQ0hBTkdFX0VWRU5UKTtcblx0fSxcbn0pO1xuXG5BcHBEaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuXG4gIHN3aXRjaChhY3Rpb24uYWN0aW9uVHlwZSkge1xuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNFVF9GTEFTSDpcblx0XHRzZXRGbGFzaChhY3Rpb24ubWVzc2FnZSwgYWN0aW9uLnNldmVyaXR5KTtcblx0XHRGbGFzaFN0b3JlLmVtaXRDaGFuZ2UoKTtcblx0XHRicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlVOU0VUX0ZMQVNIOlxuICAgICBcdHNldEZsYXNoKG51bGwsIG51bGwpO1xuICAgICBcdEZsYXNoU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICBcdGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIG5vIG9wXG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZsYXNoU3RvcmU7IiwiLypcbiAqIFN0b3JlIHdoaWNoIG1hbmFnZXMgYW5kIHBlcnNpc3RzIHNldHVwIHdpemFyZCBwcm9ncmVzc1xuICovXG5cbnZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuICBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXIsXG4gIEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LWNvbnN0YW50cycpLFxuICBXUEFqYXggPSByZXF1aXJlKCcuLi91dGlscy93cC1hamF4Jyk7XG5cbnZhciBDSEFOR0VfRVZFTlQgPSAnY2hhbmdlJztcblxudmFyIF9zdGVwcywgX3N0YXJ0ZWQgPSBKUFMuc3RhcnRlZDsgXG5cbmZ1bmN0aW9uIHNldFN0ZXBzKHN0ZXBzKSB7XG5cbiAgLy8gc2V0IHRoZSBjb21wbGV0aW9uIHN0YXR1cyBvZiBlYWNoIHN0ZXAgdG8gdGhlIHNhdmVkIHZhbHVlc1xuICBzdGVwcy5mb3JFYWNoKCBmdW5jdGlvbihzdGVwKSB7XG4gICAgXG4gICAgLy8gZGVmYXVsdCB2YWx1ZXMgZm9yIHNraXBwZWQsIGNvbXBsZXRlZCBhbmQgc3RhdGljXG4gICAgaWYgKCB0eXBlb2YoIHN0ZXAuY29tcGxldGVkICkgPT09ICd1bmRlZmluZWQnICkge1xuICAgICAgc3RlcC5jb21wbGV0ZWQgPSAoSlBTLnN0ZXBfc3RhdHVzW3N0ZXAuc2x1Z10gJiYgSlBTLnN0ZXBfc3RhdHVzW3N0ZXAuc2x1Z10uY29tcGxldGVkKSB8fCBmYWxzZTsgIFxuICAgIH1cblxuICAgIGlmICggdHlwZW9mKCBzdGVwLnNraXBwZWQgKSA9PT0gJ3VuZGVmaW5lZCcgKSB7XG4gICAgICBzdGVwLnNraXBwZWQgPSAoSlBTLnN0ZXBfc3RhdHVzW3N0ZXAuc2x1Z10gJiYgSlBTLnN0ZXBfc3RhdHVzW3N0ZXAuc2x1Z10uc2tpcHBlZCkgfHwgZmFsc2U7ICBcbiAgICB9XG5cbiAgICBpZiAoIHR5cGVvZiggc3RlcC5zdGF0aWMgKSA9PT0gJ3VuZGVmaW5lZCcgKSB7XG4gICAgICBzdGVwLnN0YXRpYyA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIHNldCB0byAndHJ1ZScgaWYgeW91IHdhbnQgdGhlIHdpemFyZCB0byBtb3ZlIHRvIHRoaXMgc3RlcCBldmVuIGlmIGl0J3MgYmVlbiBjb21wbGV0ZWRcbiAgICAvLyBieSBkZWZhdWx0IGNvbXBsZXRlZCBzdGVwcyBhcmUgc2tpcHBlZFxuICAgIGlmICggdHlwZW9mKCBzdGVwLm5ldmVyU2tpcCApID09PSAndW5kZWZpbmVkJyApIHtcbiAgICAgIHN0ZXAubmV2ZXJTa2lwID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gZGVmYXVsdCB2YWx1ZSBmb3IgaW5jbHVkZUluUHJvZ3Jlc3NcbiAgICBpZiAoIHR5cGVvZiggc3RlcC5pbmNsdWRlSW5Qcm9ncmVzcyApID09PSAndW5kZWZpbmVkJykge1xuICAgICAgc3RlcC5pbmNsdWRlSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgfVxuICB9KTsgXG4gIFxuICBfc3RlcHMgPSBzdGVwcztcbiAgXG4gIC8vIHNldCBsb2NhdGlvbiB0byBmaXJzdCBwZW5kaW5nIHN0ZXAsIGlmIG5vdCBzZXRcbiAgZW5zdXJlVmFsaWRTdGVwU2x1ZygpOyBcbn1cblxuZnVuY3Rpb24gc2V0U3RhcnRlZCgpIHtcbiAgX3N0YXJ0ZWQgPSB0cnVlO1xuICBzZWxlY3ROZXh0UGVuZGluZ1N0ZXAoKTtcbn1cblxuZnVuY3Rpb24gY29tcGxldGUoc3RlcFNsdWcpIHtcbiAgdmFyIHN0ZXAgPSBnZXRTdGVwRnJvbVNsdWcoc3RlcFNsdWcpO1xuICBzdGVwLmNvbXBsZXRlZCA9IHRydWU7XG4gIHN0ZXAuc2tpcHBlZCA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBza2lwKCkge1xuICB2YXIgc3RlcFNsdWcgPSBjdXJyZW50U3RlcFNsdWcoKTtcbiAgdmFyIHN0ZXAgPSBnZXRTdGVwRnJvbVNsdWcoc3RlcFNsdWcpO1xuICBzdGVwLnNraXBwZWQgPSB0cnVlO1xuICBzZWxlY3ROZXh0UGVuZGluZ1N0ZXAoKTtcbn1cblxuZnVuY3Rpb24gZ2V0U3RlcEZyb21TbHVnKCBzdGVwU2x1ZyApIHtcbiAgdmFyIGN1cnJlbnRTdGVwID0gbnVsbDtcbiAgXy5lYWNoKCBfc3RlcHMsIGZ1bmN0aW9uKCBzdGVwICkge1xuICAgIGlmKCBzdGVwLnNsdWcgPT09IHN0ZXBTbHVnICkge1xuICAgICAgY3VycmVudFN0ZXAgPSBzdGVwO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBjdXJyZW50U3RlcDtcbn1cblxuZnVuY3Rpb24gZW5zdXJlVmFsaWRTdGVwU2x1ZygpIHtcbiAgdmFyIHN0ZXBTbHVnID0gY3VycmVudFN0ZXBTbHVnKCk7XG4gIGlmICggISAoIHN0ZXBTbHVnICYmIGdldFN0ZXBGcm9tU2x1Zyggc3RlcFNsdWcgKSApICkge1xuXG4gICAgdmFyIHBlbmRpbmdTdGVwID0gZ2V0TmV4dFBlbmRpbmdTdGVwKCk7XG4gICAgaWYgKCBwZW5kaW5nU3RlcCAhPT0gbnVsbCApIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gJ3dlbGNvbWUvc3RlcHMvJytwZW5kaW5nU3RlcC5zbHVnO1xuICAgIH0gICAgXG4gIH1cbn1cblxuZnVuY3Rpb24gc2VsZWN0TmV4dFBlbmRpbmdTdGVwKCkge1xuICB2YXIgcGVuZGluZ1N0ZXAgPSBnZXROZXh0UGVuZGluZ1N0ZXAoKTtcbiAgaWYgKCBwZW5kaW5nU3RlcCAhPT0gbnVsbCApIHtcbiAgICBzZWxlY3QocGVuZGluZ1N0ZXAuc2x1Zyk7IC8vIGFsc28gc2V0cyB0aGUgd2luZG93IGxvY2F0aW9uIGhhc2hcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXROZXh0UGVuZGluZ1N0ZXAoKSB7XG4gIC8vIGlmIHRoZSBfbmV4dF8gc3RlcCBpcyBuZXZlclNraXAsIHdlIHByb2NlZWQgdG8gaXRcbiAgdmFyIHN0ZXBJbmRleCA9IGN1cnJlbnRTdGVwSW5kZXgoKTtcbiAgaWYgKCBzdGVwSW5kZXggKSB7XG4gICAgaWYgKCBfc3RlcHNbc3RlcEluZGV4KzFdICYmIF9zdGVwc1tzdGVwSW5kZXgrMV0ubmV2ZXJTa2lwID09PSB0cnVlICkge1xuICAgICAgcmV0dXJuIF9zdGVwc1tzdGVwSW5kZXgrMV07XG4gICAgfVxuICB9XG5cbiAgLy8gb3RoZXJ3aXNlIGZpbmQgdGhlIG5leHQgdW5jb21wbGV0ZWQsIHVuc2tpcHBlZCBzdGVwXG4gIHJldHVybiBfLmZpbmRXaGVyZSggX3N0ZXBzLCB7IGNvbXBsZXRlZDogZmFsc2UsIHNraXBwZWQ6IGZhbHNlIH0gKTtcbn1cblxuZnVuY3Rpb24gY3VycmVudFN0ZXBTbHVnKCkge1xuICBpZiAoIHdpbmRvdy5sb2NhdGlvbi5oYXNoLmluZGV4T2YoJyN3ZWxjb21lL3N0ZXBzJykgPT09IDAgKSB7XG4gICAgdmFyIHBhcnRzID0gd2luZG93LmxvY2F0aW9uLmhhc2guc3BsaXQoJy8nKTtcbiAgICB2YXIgc3RlcFNsdWcgPSBwYXJ0c1twYXJ0cy5sZW5ndGgtMV07XG4gICAgcmV0dXJuIHN0ZXBTbHVnO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIGN1cnJlbnRTdGVwSW5kZXgoKSB7XG4gIHZhciBzbHVnID0gY3VycmVudFN0ZXBTbHVnKCk7XG4gIGZvciAoIHZhciBpPTA7IGk8X3N0ZXBzLmxlbmd0aDsgaSsrICkge1xuICAgIGlmICggX3N0ZXBzW2ldLnNsdWcgPT09IHNsdWcgKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBzZWxlY3Qoc3RlcFNsdWcpIHtcbiAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSAnd2VsY29tZS9zdGVwcy8nK3N0ZXBTbHVnO1xuICAvLyByZWNvcmQgYW5hbHl0aWNzXG4gIFdQQWpheC5wb3N0KEpQUy5zdGVwX2FjdGlvbnMudmlldywgeyBzdGVwOiBzdGVwU2x1ZyB9LCB7IHF1aWV0OiB0cnVlIH0pO1xufVxuXG4vL3Jlc2V0IGV2ZXJ5dGhpbmcgYmFjayB0byBkZWZhdWx0c1xuZnVuY3Rpb24gcmVzZXQoKSB7XG4gIEpQUy5zdGVwX3N0YXR1cyA9IHt9O1xuICBfLndoZXJlKCBfc3RlcHMsIHsgc3RhdGljOiBmYWxzZX0gKS5mb3JFYWNoKCBmdW5jdGlvbiAoIHN0ZXAgKSB7IFxuICAgIHN0ZXAuY29tcGxldGVkID0gZmFsc2U7XG4gICAgc3RlcC5za2lwcGVkID0gZmFsc2U7XG4gIH0gKTtcbiAgX3N0YXJ0ZWQgPSBmYWxzZTtcbn1cblxudmFyIFNldHVwUHJvZ3Jlc3NTdG9yZSA9IF8uZXh0ZW5kKHt9LCBFdmVudEVtaXR0ZXIucHJvdG90eXBlLCB7XG5cbiAgaW5pdDogZnVuY3Rpb24oc3RlcHMpIHtcbiAgICBzZXRTdGVwcyhzdGVwcyk7XG4gIH0sXG5cbiAgZ2V0QWxsU3RlcHM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBfc3RlcHM7XG4gIH0sXG5cbiAgaXNOZXdVc2VyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gIV9zdGFydGVkO1xuICB9LFxuXG4gIGVtaXRDaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZW1pdCggQ0hBTkdFX0VWRU5UICk7XG4gIH0sXG5cbiAgZ2V0Q3VycmVudFN0ZXA6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBnZXRTdGVwRnJvbVNsdWcoIGN1cnJlbnRTdGVwU2x1ZygpICk7XG4gIH0sXG5cbiAgZ2V0TmV4dFBlbmRpbmdTdGVwOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZ2V0TmV4dFBlbmRpbmdTdGVwKCk7IC8vIGRlbGVnYXRlXG4gIH0sXG5cbiAgZ2V0U3RlcEZyb21TbHVnOiBmdW5jdGlvbihzbHVnKSB7XG4gICAgcmV0dXJuIGdldFN0ZXBGcm9tU2x1Zyggc2x1ZyApOyAvLyBkZWxlZ2F0ZVxuICB9LFxuXG4gIGdldFByb2dyZXNzUGVyY2VudDogZnVuY3Rpb24oKSB7XG4gIFx0dmFyIG51bVN0ZXBzID0gXy53aGVyZSggX3N0ZXBzLCB7IGluY2x1ZGVJblByb2dyZXNzOiB0cnVlIH0gKS5sZW5ndGg7XG4gICAgdmFyIGNvbXBsZXRlZFN0ZXBzID0gXy53aGVyZSggX3N0ZXBzLCB7IGluY2x1ZGVJblByb2dyZXNzOiB0cnVlLCBjb21wbGV0ZWQ6IHRydWUgfSApLmxlbmd0aDtcbiAgICB2YXIgcGVyY2VudENvbXBsZXRlID0gKGNvbXBsZXRlZFN0ZXBzIC8gbnVtU3RlcHMpICogOTAgKyAxMDtcbiAgICB2YXIgb3V0cHV0ID0gTWF0aC5yb3VuZChwZXJjZW50Q29tcGxldGUgLyAxMCkgKiAxMDtcbiAgICByZXR1cm4gb3V0cHV0O1xuICB9LFxuXG4gIGFkZENoYW5nZUxpc3RlbmVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIHRoaXMub24oIENIQU5HRV9FVkVOVCwgY2FsbGJhY2sgKTtcbiAgfSxcblxuICByZW1vdmVDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKCBDSEFOR0VfRVZFTlQsIGNhbGxiYWNrICk7XG4gIH1cbn0pO1xuXG4vLyBSZWdpc3RlciBjYWxsYmFjayB0byBoYW5kbGUgYWxsIHVwZGF0ZXNcbkFwcERpc3BhdGNoZXIucmVnaXN0ZXIoZnVuY3Rpb24oYWN0aW9uKSB7XG4gIFxuICBzd2l0Y2goYWN0aW9uLmFjdGlvblR5cGUpIHtcbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TVEVQX0dFVF9TVEFSVEVEOlxuICAgICAgc2V0U3RhcnRlZCgpO1xuICAgICAgU2V0dXBQcm9ncmVzc1N0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU1RFUF9TRUxFQ1Q6XG4gICAgICBzZWxlY3QoYWN0aW9uLnNsdWcpO1xuICAgICAgU2V0dXBQcm9ncmVzc1N0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU1RFUF9ORVhUOlxuICAgICAgc2VsZWN0TmV4dFBlbmRpbmdTdGVwKCk7XG4gICAgICBTZXR1cFByb2dyZXNzU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TVEVQX0NPTVBMRVRFOlxuICAgICAgY29tcGxldGUoYWN0aW9uLnNsdWcpO1xuICAgICAgU2V0dXBQcm9ncmVzc1N0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU1RFUF9DT01QTEVURV9BTkRfTkVYVDpcbiAgICAgIGNvbXBsZXRlKGFjdGlvbi5zbHVnKTtcbiAgICAgIHNlbGVjdE5leHRQZW5kaW5nU3RlcCgpO1xuICAgICAgU2V0dXBQcm9ncmVzc1N0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuUkVTRVRfREFUQTpcbiAgICAgIHJlc2V0KCk7XG4gICAgICBTZXR1cFByb2dyZXNzU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TVEVQX1NLSVA6XG4gICAgICBza2lwKCk7XG4gICAgICBTZXR1cFByb2dyZXNzU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgLy8gbm8gb3BcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU2V0dXBQcm9ncmVzc1N0b3JlOyIsIi8qXG4gKiBTdG9yZSB3aGljaCBtYW5hZ2VzIGFuZCBwZXJzaXN0cyBzaXRlIGluZm9ybWF0aW9uXG4gKi9cblxudmFyIEFwcERpc3BhdGNoZXIgPSByZXF1aXJlKCcuLi9kaXNwYXRjaGVyL2FwcC1kaXNwYXRjaGVyJyksXG4gIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcixcbiAgSlBTQ29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stc3RhcnQtY29uc3RhbnRzJyksXG4gIFdQQWpheCA9IHJlcXVpcmUoJy4uL3V0aWxzL3dwLWFqYXgnKTtcblxudmFyIENIQU5HRV9FVkVOVCA9ICdjaGFuZ2UnO1xuXG52YXIgbGF5b3V0ID0gSlBTLnN0ZXBzLmxheW91dC5jdXJyZW50O1xuXG5mdW5jdGlvbiBzZXRUaXRsZShuZXdUaXRsZSkge1xuXHRKUFMuYmxvZ2luZm8ubmFtZSA9IG5ld1RpdGxlO1xufVxuXG5mdW5jdGlvbiBzZXREZXNjcmlwdGlvbihuZXdEZXNjcmlwdGlvbikge1xuICBKUFMuYmxvZ2luZm8uZGVzY3JpcHRpb24gPSBuZXdEZXNjcmlwdGlvbjsgXG59XG5cbmZ1bmN0aW9uIHNldEFjdGl2ZVRoZW1lKGFjdGl2ZVRoZW1lSWQpIHtcbiAgSlBTLnRoZW1lcy5mb3JFYWNoKCBmdW5jdGlvbiggdGhlbWUgKSB7XG4gICAgaWYgKCB0aGVtZS5pZCA9PSBhY3RpdmVUaGVtZUlkICkge1xuICAgICAgdGhlbWUuYWN0aXZlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhlbWUuYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICB9ICk7XG59XG5cbmZ1bmN0aW9uIGluc3RhbGxlZFRoZW1lKHRoZW1lKSB7XG4gIEpQUy50aGVtZXMudW5zaGlmdCh0aGVtZSk7XG4gIEpQUy50aGVtZXMgPSBKUFMudGhlbWVzLnNsaWNlKDAsIDMpO1xufVxuXG5mdW5jdGlvbiBzZXRKZXRwYWNrTW9kdWxlQWN0aXZhdGVkKHNsdWcpIHtcbiAgaWYgKCBfLmluZGV4T2YoIEpQUy5qZXRwYWNrLmFjdGl2ZV9tb2R1bGVzLCBzbHVnICkgPT09IC0xICkge1xuICAgIEpQUy5qZXRwYWNrLmFjdGl2ZV9tb2R1bGVzLnB1c2goc2x1Zyk7ICBcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXRKZXRwYWNrTW9kdWxlRGVjdGl2YXRlZChzbHVnKSB7XG4gIHZhciBpbmRleCA9IF8uaW5kZXhPZiggSlBTLmpldHBhY2suYWN0aXZlX21vZHVsZXMsIHNsdWcgKTtcbiAgaWYgKCBpbmRleCA+PSAwKSB7XG4gICAgSlBTLmpldHBhY2suYWN0aXZlX21vZHVsZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXRKZXRwYWNrQWRkaXRpb25hbE1vZHVsZXMobW9kdWxlcykge1xuICBKUFMuamV0cGFjay5hZGRpdGlvbmFsX21vZHVsZXMgPSBfLmZpbHRlcihtb2R1bGVzLCBmdW5jdGlvbihtb2R1bGUpIHtcbiAgICByZXR1cm4gXy5pbmRleE9mKEpQUy5qZXRwYWNrLmp1bXBzdGFydF9tb2R1bGVzLm1hcChmdW5jdGlvbihtb2Qpe3JldHVybiBtb2Quc2x1Zzt9KSwgbW9kdWxlLnNsdWcpID09IC0xO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gc2V0TGF5b3V0KGxheW91dE5hbWUpIHtcbiAgbGF5b3V0ID0gbGF5b3V0TmFtZTsgLy8gWFhYIFRPRE86IGdldCB0aGlzIHZhbHVlIGR5bmFtaWNhbGx5IGZyb20gdGhlIHNlcnZlciFcbn1cblxuZnVuY3Rpb24gc2V0SmV0cGFja0NvbmZpZ3VyZWQoKSB7XG4gIEpQUy5qZXRwYWNrLmNvbmZpZ3VyZWQgPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBzZXRKZXRwYWNrSnVtcHN0YXJ0QWN0aXZhdGVkKCkge1xuICBKUFMuamV0cGFjay5qdW1wc3RhcnRfbW9kdWxlcy5mb3JFYWNoKCBmdW5jdGlvbiggbW9kdWxlICkge1xuICAgIHNldEpldHBhY2tNb2R1bGVBY3RpdmF0ZWQoIG1vZHVsZS5zbHVnICk7XG4gIH0pO1xufVxuXG52YXIgU2l0ZVN0b3JlID0gXy5leHRlbmQoe30sIEV2ZW50RW1pdHRlci5wcm90b3R5cGUsIHtcblxuICBnZXRUaXRsZTogZnVuY3Rpb24oKSB7XG4gIFx0cmV0dXJuIEpQUy5ibG9naW5mby5uYW1lO1xuICB9LFxuXG4gIGdldERlc2NyaXB0aW9uOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gSlBTLmJsb2dpbmZvLmRlc2NyaXB0aW9uO1xuICB9LFxuXG4gIGdldFRoZW1lczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIEpQUy50aGVtZXM7XG4gIH0sXG5cbiAgZ2V0QWN0aXZlVGhlbWVJZDogZnVuY3Rpb24oKSB7XG4gICAgZm9yKHZhciBpPTA7IGkgPCBKUFMudGhlbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdGhlbWUgPSBKUFMudGhlbWVzW2ldO1xuICAgICAgaWYgKCB0aGVtZS5hY3RpdmUgKSB7XG4gICAgICAgIHJldHVybiB0aGVtZS5pZDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG5cbiAgZ2V0SmV0cGFja0NvbmZpZ3VyZWQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBKUFMuamV0cGFjay5jb25maWd1cmVkO1xuICB9LFxuXG4gIGdldEFjdGl2ZU1vZHVsZVNsdWdzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gSlBTLmpldHBhY2suYWN0aXZlX21vZHVsZXM7XG4gIH0sXG5cbiAgaXNKZXRwYWNrTW9kdWxlRW5hYmxlZDogZnVuY3Rpb24oc2x1Zykge1xuICAgIHJldHVybiAoIF8uaW5kZXhPZiggSlBTLmpldHBhY2suYWN0aXZlX21vZHVsZXMsIHNsdWcgKSA+PSAwICk7XG4gIH0sXG5cbiAgZ2V0SmV0cGFja0FkZGl0aW9uYWxNb2R1bGVzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gSlBTLmpldHBhY2suYWRkaXRpb25hbF9tb2R1bGVzO1xuICB9LFxuXG4gIGdldEp1bXBzdGFydE1vZHVsZVNsdWdzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gSlBTLmpldHBhY2suanVtcHN0YXJ0X21vZHVsZXMubWFwKGZ1bmN0aW9uKG1vZHVsZSkgeyByZXR1cm4gbW9kdWxlLnNsdWc7IH0pO1xuICB9LFxuXG4gIGdldEp1bXBzdGFydE1vZHVsZXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBKUFMuamV0cGFjay5qdW1wc3RhcnRfbW9kdWxlcztcbiAgfSxcblxuICBnZXRQb3B1bGFyVGhlbWVzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gV1BBamF4LnBvc3QoSlBTLnNpdGVfYWN0aW9ucy5nZXRfcG9wdWxhcl90aGVtZXMpO1xuICB9LFxuXG4gIGdldEpldHBhY2tKdW1wc3RhcnRFbmFibGVkOiBmdW5jdGlvbigpIHtcbiAgICBmb3IodmFyIGk9MDsgaSA8IEpQUy5qZXRwYWNrLmp1bXBzdGFydF9tb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbW9kdWxlID0gSlBTLmpldHBhY2suanVtcHN0YXJ0X21vZHVsZXNbaV07XG4gICAgICBpZiAoICEgdGhpcy5pc0pldHBhY2tNb2R1bGVFbmFibGVkKCBtb2R1bGUuc2x1ZyApICkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9LFxuXG4gIGdldExheW91dDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGxheW91dDtcbiAgfSxcblxuICBlbWl0Q2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmVtaXQoQ0hBTkdFX0VWRU5UKTtcbiAgfSxcblxuICBhZGRDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICB0aGlzLm9uKENIQU5HRV9FVkVOVCwgY2FsbGJhY2spO1xuICB9LFxuXG4gIHJlbW92ZUNoYW5nZUxpc3RlbmVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoQ0hBTkdFX0VWRU5ULCBjYWxsYmFjayk7XG4gIH1cbn0pO1xuXG4vLyBSZWdpc3RlciBjYWxsYmFjayB0byBoYW5kbGUgYWxsIHVwZGF0ZXNcbkFwcERpc3BhdGNoZXIucmVnaXN0ZXIoZnVuY3Rpb24oYWN0aW9uKSB7XG5cbiAgc3dpdGNoKGFjdGlvbi5hY3Rpb25UeXBlKSB7XG4gICAgY2FzZSBKUFNDb25zdGFudHMuU0lURV9TRVRfVElUTEU6XG4gICAgICBzZXRUaXRsZShhY3Rpb24udGl0bGUpO1xuICAgICAgU2l0ZVN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU0lURV9TRVRfREVTQ1JJUFRJT046XG4gICAgICBzZXREZXNjcmlwdGlvbihhY3Rpb24uZGVzY3JpcHRpb24pO1xuICAgICAgU2l0ZVN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU0lURV9TRVRfVEhFTUU6XG4gICAgICBzZXRBY3RpdmVUaGVtZShhY3Rpb24udGhlbWVJZCk7XG4gICAgICBTaXRlU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TSVRFX0lOU1RBTExfVEhFTUU6XG4gICAgICBpbnN0YWxsZWRUaGVtZShhY3Rpb24udGhlbWUpO1xuICAgICAgU2l0ZVN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU0lURV9KRVRQQUNLX0NPTkZJR1VSRUQ6XG4gICAgICBzZXRKZXRwYWNrQ29uZmlndXJlZCgpO1xuICAgICAgU2l0ZVN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU0lURV9KRVRQQUNLX0FERF9NT0RVTEVTOlxuICAgICAgc2V0SmV0cGFja0FkZGl0aW9uYWxNb2R1bGVzKGFjdGlvbi5tb2R1bGVzKTtcbiAgICAgIFNpdGVTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfSkVUUEFDS19NT0RVTEVfRU5BQkxFRDpcbiAgICAgIHNldEpldHBhY2tNb2R1bGVBY3RpdmF0ZWQoYWN0aW9uLnNsdWcpO1xuICAgICAgU2l0ZVN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU0lURV9KRVRQQUNLX01PRFVMRV9ESVNBQkxFRDpcbiAgICAgIHNldEpldHBhY2tNb2R1bGVEZWN0aXZhdGVkKGFjdGlvbi5zbHVnKTtcbiAgICAgIFNpdGVTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfSkVUUEFDS19KVU1QU1RBUlRfRU5BQkxFRDogXG4gICAgICBzZXRKZXRwYWNrSnVtcHN0YXJ0QWN0aXZhdGVkKCk7XG4gICAgICBTaXRlU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TSVRFX1NFVF9MQVlPVVQ6XG4gICAgICBzZXRMYXlvdXQoYWN0aW9uLmxheW91dCk7XG4gICAgICBTaXRlU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgLy8gbm8gb3BcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU2l0ZVN0b3JlOyIsInZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuXHRFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXIsXG5cdEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LWNvbnN0YW50cycpO1xuXG52YXIgQ0hBTkdFX0VWRU5UID0gJ2NoYW5nZSc7XG5cbnZhciBzcGlubmVyRW5hYmxlZCA9IGZhbHNlLFxuXHRzcGlubmVyTWVzc2FnZSA9IG51bGw7XG5cbmZ1bmN0aW9uIHNob3cobWVzc2FnZSkge1xuXHRzcGlubmVyRW5hYmxlZCA9IHRydWU7XG5cdHNwaW5uZXJNZXNzYWdlID0gbWVzc2FnZTtcbn1cblxuZnVuY3Rpb24gaGlkZSgpIHtcblx0c3Bpbm5lckVuYWJsZWQgPSBmYWxzZTtcblx0c3Bpbm5lck1lc3NhZ2UgPSBudWxsO1xufVxuXG52YXIgU3Bpbm5lclN0b3JlID0gXy5leHRlbmQoe30sIEV2ZW50RW1pdHRlci5wcm90b3R5cGUsIHtcblx0c2hvd2luZzogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNwaW5uZXJFbmFibGVkO1xuXHR9LFxuXG5cdGdldE1lc3NhZ2U6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBzcGlubmVyTWVzc2FnZTtcblx0fSxcblxuXHRhZGRDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0XHR0aGlzLm9uKCBDSEFOR0VfRVZFTlQsIGNhbGxiYWNrICk7XG5cdH0sXG5cblx0cmVtb3ZlQ2hhbmdlTGlzdGVuZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdFx0dGhpcy5yZW1vdmVMaXN0ZW5lciggQ0hBTkdFX0VWRU5ULCBjYWxsYmFjayApO1xuXHR9LFxuXG5cdGVtaXRDaGFuZ2U6IGZ1bmN0aW9uKCkge1xuXHQgICAgdGhpcy5lbWl0KCBDSEFOR0VfRVZFTlQgKTtcblx0fSxcbn0pO1xuXG5BcHBEaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuXG4gIHN3aXRjaChhY3Rpb24uYWN0aW9uVHlwZSkge1xuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNIT1dfU1BJTk5FUjpcblx0XHRzaG93KGFjdGlvbi5tZXNzYWdlKTtcblx0XHRTcGlubmVyU3RvcmUuZW1pdENoYW5nZSgpO1xuXHRcdGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuSElERV9TUElOTkVSOlxuICAgICBcdGhpZGUoKTtcbiAgICAgXHRTcGlubmVyU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICBcdGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIG5vIG9wXG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNwaW5uZXJTdG9yZTsiLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0J2gzJzoge1xuXHRcdGZvbnRXZWlnaHQ6ICdub3JtYWwnXG5cdH0sXG5cblx0J2NvbnRlbnQnOiB7XG5cdFx0Zm9udFNpemU6ICdsYXJnZXInLFxuXHRcdGNvbG9yOiAnIzc3NycsXG5cdFx0bGluZUhlaWdodDogMS41LFxuICBcdFx0bWFyZ2luOiAnMWVtIDAnXG5cdH0sXG5cblx0Y3NzOiB7XG5cdFx0aDQ6IHtcblx0XHRcdG1hcmdpbkJvdHRvbTogMTAsXG5cdFx0fSxcblxuXHRcdGg1OiB7XG5cdFx0XHRtYXJnaW5Ub3A6IDAsXG5cdFx0XHRmb250U2l6ZTogJzFlbScsXG5cdFx0XHRmb250V2VpZ2h0OiA0MDBcblx0XHR9LFxuXG5cdFx0J2lucHV0LCBzZWxlY3QnOiB7XG5cdFx0XHRtYXJnaW46IDEsXG5cdFx0XHRwYWRkaW5nOiAnM3B4IDVweCdcblx0XHR9LFxuXG5cdFx0J2lucHV0W3R5cGU9XCJ0ZXh0XCJdJzoge1xuXHRcdFx0d2lkdGg6ICcxMDAlJ1xuXHRcdH0sXG5cblx0XHQnLnN1Ym1pdCc6IHtcblx0XHRcdG1hcmdpbjogJzBweCAhaW1wb3J0YW50Jyxcblx0XHRcdHBhZGRpbmc6ICc1cHggNXB4ICFpbXBvcnRhbnQnLFxuXHRcdFx0YmFja2dyb3VuZENvbG9yOiAnI0VFRScsXG5cdFx0XHR0ZXh0QWxpZ246ICdyaWdodCdcblx0XHR9XG5cdH1cbn07IiwiLypcbiAqIEEgc2ltcGxlIHdyYXBwZXIgZm9yIGNhbGxzIHRvIFdQJ3MgXCJhamF4dXJsXCIuXG4gKlxuICogVGhpcyBleGlzdHMgYmVjYXVzZSBXUCdzIHdwX3NlbmRfanNvbl9lcnJvciBkb2Vzbid0IGFjdHVhbGx5IHNlbmQgYW4gZXJyb3IgY29kZSwgYnV0IHJhdGhlclxuICogYSAyMDAgT0sgcmVzcG9uc2Ugd2l0aCBhIHN0cnVjdHVyZSBsaWtlIHRoaXM6XG4gKiB7c3VjY2VzczogZmFsc2UsIGRhdGE6IFwic29tZXRoaW5nIHdlbnQgd3JvbmdcIn1cbiAqXG4gKiBTbyB0aGlzIGNsYXNzIHNtb290aGVzIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gNTB4IGVycm9ycyBhbmQgV1AncyBlcnJvciBvYmplY3QuXG4gKlxuICogRm9yIGNvbnZlbmllbmNlLCB0aGlzIHJldHVybnMgYSBqUXVlcnkuRGVmZXJyZWQgb2JqZWN0IHdoaWNoIGNhbiBoYXZlIC5kb25lKCkgXG4gKiBhbmQgLmZhaWwoKSBtZXRob2RzIGNoYWluZWQgb250byBpdCwgc2ltaWxhciB0byBqUXVlcnkucG9zdCdzIFwic3VjY2Vzc1wiIGFuZCBcImZhaWxcIlxuICpcbiAqIEFsc28sIGl0IGFjY2VwdHMgYW4gXCJhY3Rpb25cIiBwYXJhbSBpbnN0ZWFkIG9mIGEgVVJMLCBzaW5jZSBhbGwgV1AgYWpheCByZXF1ZXN0c1xuICogYWN0dWFsbHkgZ28gdmlhIHRoZSBzYW1lIFVSTCB3aXRoIGRpZmZlcmVudCBwYXJhbWV0ZXJzLCBhbmQgaXQgaW52b2tlcyBjYWxsYmFja3Mgd2l0aFxuICoganVzdCB0aGUgXCJkYXRhXCIgcG9ydGlvbiBvZiBXUCdzIGFqYXggcGF5bG9hZCwgcmF0aGVyIHRoYW4gdGhlIHdob2xlIHN0cnVjdHVyZS5cbiAqIFxuICoqL1xuXG52YXIgRGF0YUFjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL2RhdGEtYWN0aW9ucycpO1xuXG52YXIgV1BBamF4ID0gKGZ1bmN0aW9uKCkge1xuXG5cdHJldHVybiB7XG5cdFx0cG9zdDogZnVuY3Rpb24oYWN0aW9uLCBwYXlsb2FkLCBvcHRpb25zKSB7XG5cdFx0XHRvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucyA6IHt9O1xuXHRcdFx0cGF5bG9hZCA9IHR5cGVvZiBwYXlsb2FkICE9PSAndW5kZWZpbmVkJyA/IHBheWxvYWQgOiB7fTtcblx0XHRcdHZhciBkYXRhID0gXy5leHRlbmQocGF5bG9hZCwge2FjdGlvbjogYWN0aW9uLCBub25jZTogSlBTLm5vbmNlfSk7XG5cdFx0XHRcblx0XHRcdHZhciBkZWZlcnJlZCA9IGpRdWVyeS5EZWZlcnJlZCgpO1xuXG5cdFx0XHQvLyBwYXNzaW5nIHF1aWV0OiB0cnVlIGFsbG93cyBwYWdlIG5hdmlnYXRpb24gYmVmb3JlIHRoaXMgcmVxdWVzdCBoYXMgZmluaXNoZWQuXG5cdFx0XHQvLyB0aGlzIGlzIGFsc28gaGFuZHkgd2hlbiB5b3UncmUgY2FsbGluZyBmcm9tIHdpdGhpbiBhIERpc3BhdGNoIGN5Y2xlLCBhcyBpdCBcblx0XHRcdC8vIG5vIGxvbmdlciB0cmlnZ2VycyBhbiBhZGRpdGlvbmFsIERpc3BhdGNoICh3aGljaCB3b3VsZCBjYXVzZSBhbiBlcnJvcilcblx0XHRcdGlmICggIW9wdGlvbnMucXVpZXQgKSB7XG5cdFx0XHRcdERhdGFBY3Rpb25zLnJlcXVlc3RTdGFydGVkKCk7XG5cdFx0XHR9XG5cblx0XHRcdGpRdWVyeS5wb3N0KCBhamF4dXJsLCBkYXRhIClcblx0XHRcdFx0LnN1Y2Nlc3MoIGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblx0XHRcdFx0XHRpZiAoICEgcmVzcG9uc2Uuc3VjY2VzcyApIHtcblx0XHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdChyZXNwb25zZS5kYXRhKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShyZXNwb25zZS5kYXRhKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5mYWlsKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoXCJTZXJ2ZXIgZXJyb3JcIik7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5hbHdheXMoIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRpZiAoICFvcHRpb25zLnF1aWV0ICkge1xuXHRcdFx0XHRcdFx0RGF0YUFjdGlvbnMucmVxdWVzdEZpbmlzaGVkKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcdFxuXG5cdFx0XHRyZXR1cm4gZGVmZXJyZWQ7XG5cdFx0fVxuXHR9O1xuXG59KSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFdQQWpheDsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKSxcbiAgICBXZWxjb21lV2lkZ2V0ID0gcmVxdWlyZSgnLi9jb21wb25lbnRzL3dlbGNvbWUtd2lkZ2V0JyksXG4gICAgUGF0aHMgPSByZXF1aXJlKCcuL2NvbnN0YW50cy9qZXRwYWNrLXN0YXJ0LXBhdGhzJyksXG4gICAgU2V0dXBQcm9ncmVzc1N0b3JlID0gcmVxdWlyZSgnLi9zdG9yZXMvc2V0dXAtcHJvZ3Jlc3Mtc3RvcmUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICBqUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcblxuICAgIFx0U2V0dXBQcm9ncmVzc1N0b3JlLmluaXQoW1xuICAgIFx0XHQvLyBOT1RFOiBZb3UgY2FuIGhhdmUgXCJzdGF0aWM6IHRydWVcIiB0byBpbmNsdWRlIHVuLWNsaWNrYWJsZSBcbiAgICBcdFx0Ly8gcHJlZmlsbGVkIHN0ZXBzIHRoYXQgYWN0IGFzIHRob3VnaCB0aGV5J3ZlIGFscmVhZHkgYmVlbiBjb21wbGV0ZWRcblx0XHRcdC8vIHtcblx0XHRcdC8vIFx0bmFtZTogXCJTaWduIHVwXCIsXG5cdFx0XHQvLyBcdGNvbXBsZXRlZDogdHJ1ZSxcblx0XHRcdC8vIFx0c3RhdGljOiB0cnVlXG5cdFx0XHQvLyB9LFxuXHRcdFx0e1xuXHRcdFx0XHRuYW1lOiAnU2l0ZSB0aXRsZScsXG5cdFx0XHRcdHNsdWc6IFBhdGhzLlNJVEVfVElUTEVfU1RFUF9TTFVHLFxuXHRcdFx0XHR3ZWxjb21lVmlldzogcmVxdWlyZSgnLi9jb21wb25lbnRzL3NpdGUtdGl0bGUtc3RlcCcpXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRuYW1lOiAnUGljayBhIGxheW91dCcsXG5cdFx0XHRcdHNsdWc6IFBhdGhzLkxBWU9VVF9TVEVQX1NMVUcsXG5cdFx0XHRcdHdlbGNvbWVWaWV3OiByZXF1aXJlKCcuL2NvbXBvbmVudHMvbGF5b3V0LXN0ZXAnKVxuXHRcdFx0fSxcblx0XHRcdHsgXG5cdFx0XHRcdG5hbWU6IFwiUGljayBhIGRlc2lnblwiLCBcblx0XHRcdFx0c2x1ZzogUGF0aHMuREVTSUdOX1NURVBfU0xVRyxcblx0XHRcdFx0d2VsY29tZVZpZXc6IHJlcXVpcmUoJy4vY29tcG9uZW50cy9kZXNpZ24tc3RlcCcpLCBcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdG5hbWU6ICdFbmFibGUgSmV0cGFjaycsXG5cdFx0XHRcdHNsdWc6IFBhdGhzLkpFVFBBQ0tfTU9EVUxFU19TVEVQX1NMVUcsXG5cdFx0XHRcdG5ldmVyU2tpcDogdHJ1ZSwgLy8gZG9uJ3Qgc2tpcCB0aGlzIGV2ZW4gaWYgaXQncyBiZWVuIGNvbXBsZXRlZFxuXHRcdFx0XHR3ZWxjb21lVmlldzogcmVxdWlyZSgnLi9jb21wb25lbnRzL2pldHBhY2stanVtcHN0YXJ0LXN0ZXAnKSxcblx0XHRcdFx0bWVudVZpZXc6IHJlcXVpcmUoJy4vY29tcG9uZW50cy9qZXRwYWNrLWp1bXBzdGFydC1tZW51Jylcblx0XHRcdH0sXG5cdFx0XHR7IFxuXHRcdFx0XHRuYW1lOiBcIkFkdmFuY2VkIHNldHRpbmdzXCIsIFxuXHRcdFx0XHRzbHVnOiBQYXRocy5BRFZBTkNFRF9TVEVQX1NMVUcsXG5cdFx0XHRcdHdlbGNvbWVWaWV3OiByZXF1aXJlKCcuL2NvbXBvbmVudHMvYWR2YW5jZWQtc2V0dGluZ3Mtc3RlcCcpLFxuXHRcdFx0XHRpbmNsdWRlSW5Qcm9ncmVzczogZmFsc2Vcblx0XHRcdH1cblx0XHRdKTtcblxuICAgICAgICBSZWFjdC5yZW5kZXIoXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChXZWxjb21lV2lkZ2V0LCB7fSksIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqcHMtd2VsY29tZS1wYW5lbCcpXG4gICAgICAgICk7XG4gICAgfSk7XG59OyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpLFxuXHRzdHlsZXMgPSByZXF1aXJlKCcuLi9zdHlsZXMnKSxcblx0UmFkaXVtID0gcmVxdWlyZSgncmFkaXVtJyk7XG5cbnZhciBCdXR0b24gPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiQnV0dG9uXCIsXG5cblx0cHJvcFR5cGVzOiB7XG5cdFx0c2l6ZTogUmVhY3QuUHJvcFR5cGVzLm9uZU9mKFsndGlueScsICdub3JtYWwnLCAnYmlnJ10pLFxuXHRcdGNvbG9yOiBSZWFjdC5Qcm9wVHlwZXMub25lT2YoWydncmF5JywgJ2JsdWUnLCAnZ3JlZW4nXSksXG5cdFx0dGhlbWU6IFJlYWN0LlByb3BUeXBlcy5vbmVPZihbJ3dwJywgJ2pldHBhY2snXSksXG5cdFx0aW5saW5lOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0XHRvbkNsaWNrOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0XHRkaXNhYmxlZDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdFx0aHJlZjogUmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xuXHR9LFxuXG5cdGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHsgc2l6ZTogJ25vcm1hbCcsIGlubGluZTogdHJ1ZSwgY29sb3I6ICdncmF5JywgdGhlbWU6ICd3cCcsIGRpc2FibGVkOiBmYWxzZSB9O1xuXHR9LFxuXG5cdGhhbmRsZUNhbGxiYWNrSHJlZjogZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR3aW5kb3cubG9jYXRpb24gPSB0aGlzLnByb3BzLmhyZWY7XG5cdH0sXG5cblx0c3R5bGVzOiB7XG5cdFx0YmFzaWM6IHtcblx0XHRcdGJvcmRlclJhZGl1czogMyxcblx0XHRcdGJveFNoYWRvdzogJ2luc2V0IDAgMXB4IDAgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMpJyxcblx0XHRcdGJvcmRlcldpZHRoOiAxLFxuXHRcdFx0Ym9yZGVyU3R5bGU6ICdzb2xpZCcsXG5cdFx0XHRjdXJzb3I6ICdwb2ludGVyJyxcblx0XHRcdGRpc3BsYXk6ICdibG9jaycsXG5cdFx0XHRmb250U2l6ZTogMTQsXG5cdFx0XHRmb250V2VpZ2h0OiAnYm9sZCcsXG5cdFx0XHRwYWRkaW5nOiAnMTBweCAyMHB4Jyxcblx0XHRcdHRleHRBbGlnbjogJ2NlbnRlcicsXG5cdFx0XHR0ZXh0RGVjb3JhdGlvbjogJ25vbmUnLFxuXHRcdFx0V2Via2l0Rm9udFNtb290aGluZzogJ2FudGlhbGlhc2VkJyxcblx0XHRcdHRyYW5zaXRpb246ICdiYWNrZ3JvdW5kIDAuMnMnXG5cdFx0fSxcblxuXHRcdHNpemVzOiB7XG5cdFx0XHR0aW55OiB7XG5cdFx0XHRcdGZvbnRTaXplOiAxMCxcblx0XHRcdFx0cGFkZGluZzogJzJweCAxMHB4Jyxcblx0XHRcdH0sXG5cdFx0XHRub3JtYWw6IHtcblx0XHRcdFx0Zm9udFNpemU6IDEzLFxuXHRcdFx0XHRwYWRkaW5nOiAnNXB4IDEwcHgnXG5cdFx0XHR9LFxuXHRcdFx0YmlnOiB7XG5cdFx0XHRcdGZvbnRTaXplOiAxNixcblx0XHRcdFx0cGFkZGluZzogJzIwcHggNDBweCdcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0Y29sb3JzOiB7XG5cdFx0XHRncmF5OiB7XG5cdFx0XHRcdGJhY2tncm91bmQ6ICdsaW5lYXItZ3JhZGllbnQoI2ZmZiwgI2Y5ZjlmOSknLFxuXHRcdFx0XHRib3JkZXJDb2xvcjogc3R5bGVzLmNvbG9ycy5saWdodEdyYXksXG5cdFx0XHRcdGNvbG9yOiBzdHlsZXMuY29sb3JzLmRhcmtHcmF5LFxuXHRcdFx0XHQnOmhvdmVyJzoge1xuXHRcdFx0XHRcdGNvbG9yOiBzdHlsZXMuY29sb3JzLmdyYXlcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGJsdWU6IHtcblx0XHRcdFx0YmFja2dyb3VuZDogc3R5bGVzLmNvbG9ycy5ibHVlLFxuXHRcdFx0XHRib3JkZXJDb2xvcjogJ3JnYmEoMCwwLDAsMC42KScsXG5cdFx0XHRcdGNvbG9yOiAnd2hpdGUnLFxuXHRcdFx0XHQnOmhvdmVyJzoge1xuXHRcdFx0XHRcdGJhY2tncm91bmQ6IHN0eWxlcy5jb2xvcnMubGlnaHRlckJsdWUsXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRncmVlbjoge1xuXHRcdFx0XHRiYWNrZ3JvdW5kOiBzdHlsZXMuY29sb3JzLmdyZWVuLFxuXHRcdFx0XHRjb2xvcjogJ3doaXRlJyxcblx0XHRcdFx0Ym9yZGVyQ29sb3I6ICdyZ2JhKDAsMCwwLDAuNiknLFxuXHRcdFx0XHQnOmhvdmVyJzoge1xuXHRcdFx0XHRcdGJhY2tncm91bmQ6IHN0eWxlcy5jb2xvcnMubGlnaHRlckdyZWVuLFxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0dGhlbWVzOiB7XG5cdFx0XHR3cDoge30sXG5cdFx0XHRqZXRwYWNrOiB7XG5cdFx0XHRcdHBhZGRpbmc6ICcxOHB4IDI0cHggMTVweCcsXG5cdFx0XHRcdGJvcmRlclJhZGl1czogNixcblx0XHRcdFx0Ym9yZGVyU3R5bGU6ICdub25lJyxcblx0XHRcdFx0Ym94U2hhZG93OiAnMCA2cHggMCAjM2U2YzIwLDAgNnB4IDNweCByZ2JhKDAsMCwwLDAuNCknXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRcblx0XHRpbmxpbmU6IHtcblx0XHRcdGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snXG5cdFx0fSxcblxuXHRcdGRpc2FibGVkOiB7XG5cdFx0XHRiYWNrZ3JvdW5kOiAnI2Y5ZjlmOScsXG5cdFx0XHRib3JkZXJDb2xvcjogc3R5bGVzLmNvbG9ycy5saWdodEdyYXksXG5cdFx0XHRjb2xvcjogc3R5bGVzLmNvbG9ycy5saWdodEdyYXksXG5cdFx0XHQnOmhvdmVyJzoge1xuXHRcdFx0XHRiYWNrZ3JvdW5kOiAnI2Y5ZjlmOScsXG5cdFx0XHRcdGJvcmRlckNvbG9yOiBzdHlsZXMuY29sb3JzLmxpZ2h0R3JheSxcblx0XHRcdFx0Y29sb3I6IHN0eWxlcy5jb2xvcnMubGlnaHRHcmF5LFxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyICRfXzA9ICAgICAgICAgIHRoaXMucHJvcHMsc2l6ZT0kX18wLnNpemUsY29sb3I9JF9fMC5jb2xvcixpbmxpbmU9JF9fMC5pbmxpbmUsb25DbGljaz0kX18wLm9uQ2xpY2ssdGhlbWU9JF9fMC50aGVtZSxocmVmPSRfXzAuaHJlZixvdGhlcj0oZnVuY3Rpb24oc291cmNlLCBleGNsdXNpb24pIHt2YXIgcmVzdCA9IHt9O3ZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O2lmIChzb3VyY2UgPT0gbnVsbCkge3Rocm93IG5ldyBUeXBlRXJyb3IoKTt9Zm9yICh2YXIga2V5IGluIHNvdXJjZSkge2lmIChoYXNPd24uY2FsbChzb3VyY2UsIGtleSkgJiYgIWhhc093bi5jYWxsKGV4Y2x1c2lvbiwga2V5KSkge3Jlc3Rba2V5XSA9IHNvdXJjZVtrZXldO319cmV0dXJuIHJlc3Q7fSkoJF9fMCx7c2l6ZToxLGNvbG9yOjEsaW5saW5lOjEsb25DbGljazoxLHRoZW1lOjEsaHJlZjoxfSk7XG5cblx0XHR2YXIgY2FsbGJhY2s7XG5cblx0XHR2YXIgY29tYmluZWRTdHlsZSA9IFtcblx0XHRcdHRoaXMuc3R5bGVzLmJhc2ljLCBcblx0XHRcdHRoaXMuc3R5bGVzLnNpemVzW3NpemVdLFxuXHRcdFx0dGhpcy5zdHlsZXMuY29sb3JzW2NvbG9yXSxcblx0XHRcdHRoaXMuc3R5bGVzLnRoZW1lc1t0aGVtZV0sXG5cdFx0XHR0aGlzLnByb3BzLmRpc2FibGVkICYmIHRoaXMuc3R5bGVzLmRpc2FibGVkLFxuXHRcdFx0aW5saW5lICYmIHRoaXMuc3R5bGVzLmlubGluZSxcblx0XHRcdHRoaXMucHJvcHMuc3R5bGVcblx0XHRdO1xuXG5cdFx0aWYgKCBocmVmICYmICFvbkNsaWNrKSB7XG5cdFx0XHRjYWxsYmFjayA9IHRoaXMuaGFuZGxlQ2FsbGJhY2tIcmVmO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjYWxsYmFjayA9IG9uQ2xpY2s7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgUmVhY3QuX19zcHJlYWQoe30sICBvdGhlciwge3N0eWxlOiBjb21iaW5lZFN0eWxlLCBvbkNsaWNrOiBjYWxsYmFjaywgb25Nb3VzZU92ZXI6IHRoaXMuaGFuZGxlTW91c2VPdmVyLCBvbk1vdXNlT3V0OiB0aGlzLmhhbmRsZU1vdXNlT3V0fSksIFxuXHRcdFx0XHR0aGlzLnByb3BzLmNoaWxkcmVuXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmFkaXVtKEJ1dHRvbik7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCksXG5cdFJhZGl1bSA9IHJlcXVpcmUoJ3JhZGl1bScpO1xuXG4vKipcbiAqIFNob3cgcHJvZ3Jlc3MgdGhyb3VnaCB0aGUgc3RlcHNcbiAqIE5PVEU6IHByb2dyZXNzUGVyY2VudCBNVVNUIGJlIHJvdW5kZWQgdG8gdGhlIG5lYXJlc3QgMTAsIGkuZS4gMTAsIDIwLCAzMCwgNDAuLi4xMDBcbiAqIFRoaXMgaXMgcmVxdWlyZWQgZm9yIHRoZSBDU1MgdG8gd29yayAod2lsbCBmaXggbGF0ZXIuLi4pXG4gKiovXG52YXIgUHJvZ3Jlc3NCYXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiUHJvZ3Jlc3NCYXJcIixcblxuXHRwcm9wVHlwZXM6IHtcblx0XHRzdHlsZTogUmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0XHRwcm9ncmVzc1BlcmNlbnQ6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxuXHR9LFxuXG5cdHN0eWxlczoge1xuXHRcdHdyYXBwZXI6IHtcblx0XHRcdGZvbnRXZWlnaHQ6IDQwMCxcblx0XHRcdGZvbnRTaXplOiAnODAlJ1xuXHRcdH0sXG5cdFx0cHJvZ3Jlc3M6IHtcblx0XHRcdGJhY2tncm91bmQ6ICcjNGFiODY2Jyxcblx0XHRcdHdpZHRoOiAnMCUnLFxuXHRcdFx0dHJhbnNpdGlvbjogJ3dpZHRoIDAuNXMnLFxuXHRcdFx0ZGlzcGxheTogJ2Jsb2NrJyxcblx0XHRcdGhlaWdodDogJzEwMCUnXG5cdFx0fSxcblx0XHRiYXI6IHtcblx0XHRcdGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuXHRcdFx0d2lkdGg6IDgwLFxuXHRcdFx0aGVpZ2h0OiAxMixcblx0XHRcdG1hcmdpbjogJzAgOHB4IC0ycHggMCcsXG5cdFx0XHRwYWRkaW5nOiAyLFxuXHRcdFx0Ym9yZGVyUmFkaXVzOiAyLFxuXHRcdFx0YmFja2dyb3VuZDogJyNmNWY1ZjUnXG5cdFx0fVxuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0Ly8gdmFyIGNsYXNzZXMgPSAnZ2V0dGluZy1zdGFydGVkX19wcm9ncmVzcyBwcm9ncmVzc18nK3RoaXMucHJvcHMucHJvZ3Jlc3NQZXJjZW50O1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZTogW3RoaXMuc3R5bGVzLndyYXBwZXIsIHRoaXMucHJvcHMuc3R5bGVdfSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge3N0eWxlOiB0aGlzLnN0eWxlcy5iYXJ9LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7c3R5bGU6IFt0aGlzLnN0eWxlcy5wcm9ncmVzcywgeyB3aWR0aDogdGhpcy5wcm9wcy5wcm9ncmVzc1BlcmNlbnQrJyUnIH1dfSlcblx0XHRcdFx0KSwgXG5cdFx0XHRcdHRoaXMucHJvcHMucHJvZ3Jlc3NQZXJjZW50LCBcIiUgY29tcGxldGVcIlxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJhZGl1bShQcm9ncmVzc0Jhcik7IiwiLy8gdGhpcyBjb21wb25lbnQgcHJvdmlkZXMgc29tZSBiYXNpYyByZXNldHMgc28gdGhhdCB0aGUgcmVzdCBvZiB0aGUgc3R5bGluZyB3b3JrcyBhcyBpbnRlbmRlZC5cbi8vIHRoaXMgcHJldmVudHMgbm9pc3kgZHVwbGljYXRpb24gb2YgcmVzZXQgY29kZSB0aHJvdWdob3V0IHRoZSBjb2RlYmFzZS5cblxuLy8gdXNhZ2U6XG4vLyB1c2UgdGhpcyBhcyBhIHdyYXBwZXIgZm9yIGEgdG9wLWxldmVsIGNvbXBvbmVudCB0aGF0IHVzZXMgZG9wcy1yZWFjdCwgZS5nLlxuLy9cbi8vIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4vLyBcdHJldHVybiAoXG4vLyAgICAgICA8UmVzZXQ+XG4vLyAgICAgICAgIC4uLiB0aGUgcmVzdCBvZiBteSBjb2RlIGdvZXMgaGVyZSAuLi5cbi8vICAgICAgIDwvUmVzZXQ+XG4vLyBcdClcbi8vIH1cblxuLy8gdG8gYWRkIGFkZGl0aW9uYWwgQ1NTLCBwYXNzIGl0IGluIHVzaW5nIHRoZSBcIkNTU1wiIHByb3BlcnR5XG5cbnZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpLFxuXHRSYWRpdW0gPSByZXF1aXJlKCdyYWRpdW0nKSxcblx0bSA9IHJlcXVpcmUoJy4uL3V0aWxzL20nKTtcblxudmFyIGlkQ291bnRlciA9IDA7XG5cbnZhciBSZXNldCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJSZXNldFwiLFxuXHRwcm9wVHlwZXM6IHtcblx0XHRjc3M6IFJlYWN0LlByb3BUeXBlcy5vYmplY3Rcblx0fSxcblxuXHRzdHlsZToge1xuXHRcdHJlc2V0czoge1xuXHRcdFx0JyonOiB7XG5cdFx0XHRcdGJveFNpemluZzogJ2JvcmRlci1ib3gnXG5cdFx0XHR9LFxuXHRcdFx0J2RpdiwgdWwsIG9sLCBsaSwgaDEsIGgyLCBoMywgaDQsIGg1LCBoNiwgZm9ybSwgZmllbGRzZXQsIGxlZ2VuZCwgaW5wdXQsIGJ1dHRvbiwgdGV4dGFyZWEsIHAsIGJsb2NrcXVvdGUsIHRoLCB0ZCc6IHsgXG5cdFx0XHRcdG1hcmdpbjogMCwgcGFkZGluZzogMCBcblx0XHRcdH0sXG5cdFx0XHRpbWc6IHtcblx0XHRcdFx0Ym9yZGVyOiAnbm9uZScsXG5cdFx0XHRcdG1heFdpZHRoOiAnMTAwJSdcblx0XHRcdH0sXG5cdFx0XHR0ZDoge1xuXHRcdFx0XHR2ZXJ0aWNhbEFsaWduOiAndG9wJ1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gdGhlc2Ugc3VwcG9ydCBhbmltYXRpb25zXG5cdFx0XHQnLnNsaWRlRG93bi1lbnRlcic6IHtcblx0XHRcdFx0b3ZlcmZsb3dZOiAnaGlkZGVuJyxcblx0XHRcdFx0bWF4SGVpZ2h0OiAwLFxuXHRcdFx0XHR0cmFuc2l0aW9uOiAnYWxsIC41cyBlYXNlLW91dCdcblx0XHRcdH0sXG5cblx0XHRcdCcuc2xpZGVEb3duLWVudGVyLWFjdGl2ZSc6IHtcblx0XHRcdFx0b3ZlcmZsb3dZOiAnaGlkZGVuJyxcblx0XHRcdFx0bWF4SGVpZ2h0OiA0MDBcblx0XHRcdH0sXG5cblx0XHRcdCcuc2xpZGVEb3duLWxlYXZlJzoge1xuXHRcdFx0XHRvdmVyZmxvd1k6ICdoaWRkZW4nLFxuXHRcdFx0XHRtYXhIZWlnaHQ6IDQwMCxcblx0XHRcdFx0dHJhbnNpdGlvbjogJ2FsbCAuNXMgZWFzZS1vdXQnXG5cdFx0XHR9LFxuXG5cdFx0XHQnLnNsaWRlRG93bi1sZWF2ZS1hY3RpdmUnOiB7XG5cdFx0XHRcdG92ZXJmbG93WTogJ2hpZGRlbicsXG5cdFx0XHRcdG1heEhlaWdodDogMFxuXHRcdFx0fSxcblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBTbGlkZSBhY3Jvc3MgcmlnaHQtdG8tbGVmdFxuXHRcdFx0ICovXG5cblx0XHRcdCcuc2xpZGVSVEwtZW50ZXInOiB7XG5cdFx0XHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuXHRcdFx0XHRsZWZ0OiAnMTAwJScsXG5cdFx0XHRcdHRyYW5zaXRpb246ICdhbGwgLjJzIGxpbmVhcidcblx0XHRcdH0sXG5cblx0XHRcdCcuc2xpZGVSVEwtZW50ZXItYWN0aXZlJzoge1xuXHRcdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcblx0XHRcdFx0bGVmdDogJzAlJ1xuXHRcdFx0fSxcblxuXHRcdFx0Jy5zbGlkZVJUTC1sZWF2ZSc6IHtcblx0XHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdFx0XHRcdGxlZnQ6ICcwJScsXG5cdFx0XHRcdHRyYW5zaXRpb246ICdhbGwgLjJzIGxpbmVhcidcblx0XHRcdH0sXG5cblx0XHRcdCcuc2xpZGVSVEwtbGVhdmUtYWN0aXZlJzoge1xuXHRcdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcblx0XHRcdFx0bGVmdDogJy0xMDAlJ1xuXHRcdFx0fSxcblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBTbGlkZSBhY3Jvc3MgbGVmdC10by1yaWdodFxuXHRcdFx0ICovXG5cblx0XHRcdCcuc2xpZGVMVFItZW50ZXInOiB7XG5cdFx0XHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuXHRcdFx0XHRsZWZ0OiAnLTEwMCUnLFxuXHRcdFx0XHR0cmFuc2l0aW9uOiAnYWxsIC4ycyBsaW5lYXInXG5cdFx0XHR9LFxuXG5cdFx0XHQnLnNsaWRlTFRSLWVudGVyLWFjdGl2ZSc6IHtcblx0XHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdFx0XHRcdGxlZnQ6ICcwJSdcblx0XHRcdH0sXG5cblx0XHRcdCcuc2xpZGVMVFItbGVhdmUnOiB7XG5cdFx0XHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuXHRcdFx0XHRsZWZ0OiAnMCUnLFxuXHRcdFx0XHR0cmFuc2l0aW9uOiAnYWxsIC4ycyBsaW5lYXInXG5cdFx0XHR9LFxuXG5cdFx0XHQnLnNsaWRlTFRSLWxlYXZlLWFjdGl2ZSc6IHtcblx0XHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdFx0XHRcdGxlZnQ6ICcxMDAlJ1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgJF9fMD0gIHRoaXMucHJvcHMscHJvcHM9KGZ1bmN0aW9uKHNvdXJjZSwgZXhjbHVzaW9uKSB7dmFyIHJlc3QgPSB7fTt2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtpZiAoc291cmNlID09IG51bGwpIHt0aHJvdyBuZXcgVHlwZUVycm9yKCk7fWZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtpZiAoaGFzT3duLmNhbGwoc291cmNlLCBrZXkpICYmICFoYXNPd24uY2FsbChleGNsdXNpb24sIGtleSkpIHtyZXN0W2tleV0gPSBzb3VyY2Vba2V5XTt9fXJldHVybiByZXN0O30pKCRfXzAse30pLFxuXHRcdFx0aWQgPSB0aGlzLl9nZW5lcmF0ZUlkKCk7XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBSZWFjdC5fX3NwcmVhZCh7aWQ6IGlkfSwgIHByb3BzKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmFkaXVtLlN0eWxlLCB7c2NvcGVTZWxlY3RvcjogJyMnK2lkLCBydWxlczogbSh0aGlzLnN0eWxlLnJlc2V0cywgdGhpcy5wcm9wcy5jc3MpfSksIFxuXHRcdFx0XHR0aGlzLnByb3BzLmNoaWxkcmVuXG5cdFx0XHQpXG5cdFx0KTtcblx0fSxcblxuXHRfZ2VuZXJhdGVJZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuICdkb3BzaWQnKyhpZENvdW50ZXIrKyk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlc2V0OyIsInZhciBzdHlsZXMgPSB7XG5cdC8vbGF5b3V0XG5cdHJpZ2h0OiB7IGZsb2F0OiAncmlnaHQnIH0sXG5cdFxuXHRsZWZ0OiB7IGZsb2F0OiAnbGVmdCcgfSxcblx0XG5cdHRoaXJkOiB7IHdpZHRoOiAnMzMlJyB9LFxuXG5cdGZ1bGw6IHsgd2lkdGg6ICcxMDAlJyB9LFxuXG5cdGhhbGY6IHsgd2lkdGg6ICc0OCUnIH0sXG5cblx0aGlkZGVuOiB7IGRpc3BsYXk6ICdub25lJyB9LFxuXG5cdGNsZWFyOiB7XG5cdFx0Y2xlYXI6ICdib3RoJywgXG5cdFx0ZGlzcGxheTogJ2Jsb2NrJyBcblx0fSxcblxuXHQvL2FjY291bnQgc3RhdHVzIGluZGljYXRvclxuXHRhY2NvdW50U3RhdHVzOiB7XG5cdFx0dGV4dFRyYW5zZm9ybTogJ2NhcGl0YWxpemUnXG5cdH0sXG5cblx0YWNjb3VudFN0YXR1c05vdGljb246IHtcblx0XHRib3JkZXJSYWRpdXM6IFwiNTAlXCIsXG5cdFx0d2lkdGg6IDE2LFxuXHRcdGhlaWdodDogMTYsXG5cdFx0bWFyZ2luUmlnaHQ6IDEwLFxuXHRcdGNvbG9yOiAnI2ZmZicsXG5cdFx0YmFja2dyb3VuZDogJyM4MWJmMTYnXG5cdH0sXG5cblx0Ly9ib3ggd2lkZ2V0XG5cdGJveDoge1xuXHRcdGJvcmRlclJhZGl1czogMixcblx0XHRwYWRkaW5nOiAnNXB4IDEwcHgnLFxuXHRcdGJhY2tncm91bmQ6ICcjZjVmNWY1J1xuXHR9LFxuXG5cdC8vYmFzaWMgc3R5bGluZyAtIGZvbnRzIGFuZCBjb2xvcnNcblx0bGlnaHQ6IHsgY29sb3I6ICcjOTk5JyB9LFxuXHRjb2xvcnM6IHtcblx0XHRha2lzbWV0R3JlZW46ICcjNWU4ZTE0Jyxcblx0XHRibHVlOiAnIzAyOWRkNicsXG5cdFx0bGlnaHRlckJsdWU6ICcjMTNBRUU3Jyxcblx0XHRibGFjazogJyMzMzMnLFxuXHRcdGRhcmtHcmF5OiAnIzQ0NCcsXG5cdFx0Z3JheTogJyM3ODc4NzgnLFxuXHRcdGxpZ2h0R3JheTogJyNiYmInLFxuXHRcdHZlcnlMaWdodEdyYXk6ICcjZWVlJyxcblx0XHRvZmZXaGl0ZTogJyNmOWY5ZjknLFxuXHRcdGFjY291bnRBY3RpdmU6ICcjODFiZjE2Jyxcblx0XHRhY2NvdW50SW5hY3RpdmU6ICcjYmJiJyxcblx0XHRncmVlbjogJyM1MThkMmEnLFxuXHRcdGxpZ2h0ZXJHcmVlbjogJyM1Nzk3MmQnXG5cdH0sXG5cblx0Zm9udHM6IHtcblx0XHRzYW5zOiAnT3BlbiBTYW5zLCBcIk9wZW4gU2Fuc1wiLCBcIkhlbHZldGljYSBOZXVlXCIsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYnLFxuXHRcdHNlcmlmOiAnTWVycml3ZWF0aGVyLCBHZW9yZ2lhLCBzZXJpZicsXG5cdFx0bW9ubzogJ1wiQ291cmllciBOZXdcIiwgQ291cmllciwgbW9ub3NwYWNlJ1xuXHR9LFxuXG5cdC8vZm9ybXNcblx0aW5wdXQ6IHtcblx0XHR3aWR0aDogXCIxMDAlXCIsXG5cdFx0Ym94U2hhZG93OiAnbm9uZScsXG5cdFx0YmFja2dyb3VuZDogJyNmZmYnLFxuXHRcdGJvcmRlcjogJzFweCBzb2xpZCAjZDVkNWQ1Jyxcblx0XHRmb250U2l6ZTogMTIsXG5cdFx0cGFkZGluZzogJzhweCAxMHB4J1xuXHR9LFxuXG5cdHNlbGVjdDoge1xuXHRcdGJvcmRlclJhZGl1czogMyxcblx0XHRiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJyxcblx0XHRmb250U2l6ZTogMTIsXG5cdFx0aGVpZ2h0OiAzNSxcblx0XHR3aWR0aDogJzEwMCUnLFxuXHRcdGJvcmRlcjogJzFweCBzb2xpZCAjZDVkNWQ1Jyxcblx0XHRwYWRkaW5nOiAnM3B4IDVweCcsXG5cdFx0bWluV2lkdGg6IDBcblx0fSxcblxuXHRjaGVja2JveDoge1xuXHRcdG1hcmdpblJpZ2h0OiAxMFxuXHR9LFxuXG5cdGVycm9yRmllbGQ6IHtcblx0XHRib3JkZXI6ICcxcHggc29saWQgI2RkM2QzNidcblx0fSxcblx0XG5cdGVycm9yTGFiZWw6IHtcblx0XHRib3JkZXI6ICcxcHggc29saWQgI2RkM2QzNicsXG5cdFx0Y29sb3I6ICcjYTAwJyxcblx0XHRkaXNwbGF5OiAnYmxvY2snLFxuXHRcdGZvbnRTaXplOiAxMixcblx0XHRtYXJnaW46ICc1cHggMCAwIDAnLFxuXHRcdHBhZGRpbmc6IDVcblx0fSxcblxuXHRcbn07XG5cbi8vIG9wdGlvbmFsIHRvcC1sZXZlbCBzdHlsZXMgZm9yIHBhc3NpbmcgaW50byB0aGUgXCJyZXNldFwiIG9iamVjdFxuc3R5bGVzLmNzcyA9IHtcblx0Jz4gKic6IHtcblx0XHRmb250OiAnMTRweC8xLjUgJyArIHN0eWxlcy5mb250cy5zYW5zLFxuXHRcdGNvbG9yOiBzdHlsZXMuY29sb3JzLmJsYWNrXG5cdH0sXG5cdGE6IHtcblx0XHRjb2xvcjogc3R5bGVzLmNvbG9ycy5ibHVlLFxuXHRcdHRleHREZWNvcmF0aW9uOiAnbm9uZSdcblx0fSxcblx0J2E6aG92ZXInOiB7XG5cdFx0dGV4dERlY29yYXRpb246ICd1bmRlcmxpbmUnXG5cdH0sXG5cdGgxOiB7XG5cdFx0Zm9udFNpemU6IDM0XG5cdH0sXG5cdGgyOiB7XG5cdFx0Y29sb3I6IHN0eWxlcy5jb2xvcnMuZ3JheSxcblx0XHRmb250U2l6ZTogMTZcblx0fSxcblx0aDM6IHtcblx0XHRmb250U2l6ZTogMThcblx0fSxcblx0J2gxLCBoMiwgaDMnOiB7XG5cdFx0Zm9udEZhbWlseTogc3R5bGVzLmZvbnRzLnNlcmlmLFxuXHRcdGZvbnRXZWlnaHQ6IDUwMFxuXHR9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlczsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgcmVzID0ge307XG5cdGZvciAoIHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7ICsraSkge1xuXHRcdGlmIChhcmd1bWVudHNbaV0pIHtcblx0XHRcdGpRdWVyeS5leHRlbmQocmVzLCBhcmd1bWVudHNbaV0pO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzO1xufTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpO1xuXG52YXIgU3R5bGUgPSByZXF1aXJlKCcuL3N0eWxlLmpzJyk7XG52YXIgcHJpbnRTdHlsZXMgPSByZXF1aXJlKCcuLi9wcmludC1zdHlsZXMuanMnKTtcblxudmFyIFByaW50U3R5bGUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnUHJpbnRTdHlsZScsXG5cbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldFN0eWxlc1N0YXRlKCk7XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9uID0gcHJpbnRTdHlsZXMuc3Vic2NyaWJlKHRoaXMuX29uQ2hhbmdlKTtcbiAgfSxcblxuICBjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb24ucmVtb3ZlKCk7XG4gIH0sXG5cbiAgX29uQ2hhbmdlOiBmdW5jdGlvbiBfb25DaGFuZ2UoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh0aGlzLl9nZXRTdHlsZXNTdGF0ZSgpKTtcbiAgfSxcblxuICBfZ2V0U3R5bGVzU3RhdGU6IGZ1bmN0aW9uIF9nZXRTdHlsZXNTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3R5bGVzOiBwcmludFN0eWxlcy5nZXRQcmludFN0eWxlcygpXG4gICAgfTtcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZSwgeyBydWxlczoge1xuICAgICAgICBtZWRpYVF1ZXJpZXM6IHtcbiAgICAgICAgICBwcmludDogdGhpcy5zdGF0ZS5zdHlsZXNcbiAgICAgICAgfVxuICAgICAgfSB9KTtcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUHJpbnRTdHlsZTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBjcmVhdGVNYXJrdXBGb3JTdHlsZXMgPSByZXF1aXJlKCcuLi9jcmVhdGUtbWFya3VwLWZvci1zdHlsZXMnKTtcbnZhciBQcmVmaXhlciA9IHJlcXVpcmUoJy4uL3ByZWZpeGVyJyk7XG5cbnZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpO1xuXG52YXIgYnVpbGRDc3NTdHJpbmcgPSBmdW5jdGlvbiBidWlsZENzc1N0cmluZyhjb21wb25lbnQsIHNlbGVjdG9yLCBydWxlcykge1xuICBpZiAoIXNlbGVjdG9yIHx8ICFydWxlcykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBwcmVmaXhlZFJ1bGVzID0gUHJlZml4ZXIuZ2V0UHJlZml4ZWRTdHlsZShjb21wb25lbnQsIHJ1bGVzLCAnY3NzJyk7XG4gIHZhciBzZXJpYWxpemVkUnVsZXMgPSBjcmVhdGVNYXJrdXBGb3JTdHlsZXMocHJlZml4ZWRSdWxlcyk7XG5cbiAgcmV0dXJuIHNlbGVjdG9yICsgJ3snICsgc2VyaWFsaXplZFJ1bGVzICsgJ30nO1xufTtcblxudmFyIFN0eWxlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ1N0eWxlJyxcblxuICBwcm9wVHlwZXM6IHtcbiAgICBydWxlczogUmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICBzY29wZVNlbGVjdG9yOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXG4gIH0sXG5cbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNjb3BlU2VsZWN0b3I6ICcnXG4gICAgfTtcbiAgfSxcblxuICBfYnVpbGRTdHlsZXM6IGZ1bmN0aW9uIF9idWlsZFN0eWxlcyhzdHlsZXMpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHN0eWxlcykucmVkdWNlKGZ1bmN0aW9uIChhY2N1bXVsYXRvciwgc2VsZWN0b3IpIHtcbiAgICAgIHZhciBydWxlcyA9IHN0eWxlc1tzZWxlY3Rvcl07XG5cbiAgICAgIGlmIChzZWxlY3RvciA9PT0gJ21lZGlhUXVlcmllcycpIHtcbiAgICAgICAgYWNjdW11bGF0b3IgKz0gX3RoaXMuX2J1aWxkTWVkaWFRdWVyeVN0cmluZyhydWxlcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgY29tcGxldGVTZWxlY3RvciA9IChfdGhpcy5wcm9wcy5zY29wZVNlbGVjdG9yID8gX3RoaXMucHJvcHMuc2NvcGVTZWxlY3RvciArICcgJyA6ICcnKSArIHNlbGVjdG9yO1xuICAgICAgICBhY2N1bXVsYXRvciArPSBidWlsZENzc1N0cmluZyhfdGhpcywgY29tcGxldGVTZWxlY3RvciwgcnVsZXMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfSwgJycpO1xuICB9LFxuXG4gIF9idWlsZE1lZGlhUXVlcnlTdHJpbmc6IGZ1bmN0aW9uIF9idWlsZE1lZGlhUXVlcnlTdHJpbmcobWVkaWFRdWVyeU9iaikge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIGNvbnRleHRNZWRpYVF1ZXJpZXMgPSB0aGlzLl9nZXRDb250ZXh0TWVkaWFRdWVyaWVzKCk7XG4gICAgdmFyIG1lZGlhUXVlcnlTdHJpbmcgPSAnJztcblxuICAgIE9iamVjdC5rZXlzKG1lZGlhUXVlcnlPYmopLmZvckVhY2goZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgICB2YXIgY29tcGxldGVRdWVyeSA9IGNvbnRleHRNZWRpYVF1ZXJpZXNbcXVlcnldID8gY29udGV4dE1lZGlhUXVlcmllc1txdWVyeV0gOiBxdWVyeTtcbiAgICAgIG1lZGlhUXVlcnlTdHJpbmcgKz0gJ0BtZWRpYSAnICsgY29tcGxldGVRdWVyeSArICd7JyArIF90aGlzMi5fYnVpbGRTdHlsZXMobWVkaWFRdWVyeU9ialtxdWVyeV0pICsgJ30nO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG1lZGlhUXVlcnlTdHJpbmc7XG4gIH0sXG5cbiAgX2dldENvbnRleHRNZWRpYVF1ZXJpZXM6IGZ1bmN0aW9uIF9nZXRDb250ZXh0TWVkaWFRdWVyaWVzKCkge1xuICAgIHZhciBjb250ZXh0TWVkaWFRdWVyaWVzID0ge307XG4gICAgaWYgKHRoaXMuY29udGV4dCAmJiB0aGlzLmNvbnRleHQubWVkaWFRdWVyaWVzKSB7XG4gICAgICBPYmplY3Qua2V5cyh0aGlzLmNvbnRleHQubWVkaWFRdWVyaWVzKS5mb3JFYWNoKChmdW5jdGlvbiAocXVlcnkpIHtcbiAgICAgICAgY29udGV4dE1lZGlhUXVlcmllc1txdWVyeV0gPSB0aGlzLmNvbnRleHQubWVkaWFRdWVyaWVzW3F1ZXJ5XS5tZWRpYTtcbiAgICAgIH0pLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIHJldHVybiBjb250ZXh0TWVkaWFRdWVyaWVzO1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5ydWxlcykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHN0eWxlcyA9IHRoaXMuX2J1aWxkU3R5bGVzKHRoaXMucHJvcHMucnVsZXMpO1xuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJywgeyBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6IHN0eWxlcyB9IH0pO1xuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBTdHlsZTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJ2V4ZW52Jyk7XG5cbnZhciBfbWF0Y2hNZWRpYUZ1bmN0aW9uID0gRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NICYmIHdpbmRvdyAmJiB3aW5kb3cubWF0Y2hNZWRpYSAmJiBmdW5jdGlvbiAobWVkaWFRdWVyeVN0cmluZykge1xuICByZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEobWVkaWFRdWVyeVN0cmluZyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY2FuTWF0Y2hNZWRpYTogZnVuY3Rpb24gY2FuTWF0Y2hNZWRpYSgpIHtcbiAgICByZXR1cm4gdHlwZW9mIF9tYXRjaE1lZGlhRnVuY3Rpb24gPT09ICdmdW5jdGlvbic7XG4gIH0sXG5cbiAgbWF0Y2hNZWRpYTogZnVuY3Rpb24gbWF0Y2hNZWRpYShxdWVyeSkge1xuICAgIHJldHVybiBfbWF0Y2hNZWRpYUZ1bmN0aW9uKHF1ZXJ5KTtcbiAgfSxcblxuICBzZXRNYXRjaE1lZGlhOiBmdW5jdGlvbiBzZXRNYXRjaE1lZGlhKG5leHRNYXRjaE1lZGlhRnVuY3Rpb24pIHtcbiAgICBfbWF0Y2hNZWRpYUZ1bmN0aW9uID0gbmV4dE1hdGNoTWVkaWFGdW5jdGlvbjtcbiAgfVxufTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBjcmVhdGVNYXJrdXBGb3JTdHlsZXMgPSBmdW5jdGlvbiBjcmVhdGVNYXJrdXBGb3JTdHlsZXMoc3R5bGUsIHNwYWNlcykge1xuICBzcGFjZXMgPSBzcGFjZXMgfHwgJyc7XG4gIHJldHVybiBPYmplY3Qua2V5cyhzdHlsZSkubWFwKGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xuICAgIHJldHVybiBzcGFjZXMgKyBwcm9wZXJ0eSArICc6ICcgKyBzdHlsZVtwcm9wZXJ0eV0gKyAnOyc7XG4gIH0pLmpvaW4oJ1xcbicpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVNYXJrdXBGb3JTdHlsZXM7IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXG52YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgZGVzYyA9IHBhcmVudCA9IGdldHRlciA9IHVuZGVmaW5lZDsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgcmVzb2x2ZVN0eWxlcyA9IHJlcXVpcmUoJy4vcmVzb2x2ZS1zdHlsZXMuanMnKTtcbnZhciBwcmludFN0eWxlcyA9IHJlcXVpcmUoJy4vcHJpbnQtc3R5bGVzLmpzJyk7XG5cbnZhciBlbmhhbmNlV2l0aFJhZGl1bSA9IGZ1bmN0aW9uIGVuaGFuY2VXaXRoUmFkaXVtKENvbXBvc2VkQ29tcG9uZW50KSB7XG4gIHZhciBSYWRpdW1FbmhhbmNlciA9IChmdW5jdGlvbiAoX0NvbXBvc2VkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKFJhZGl1bUVuaGFuY2VyLCBfQ29tcG9zZWRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gUmFkaXVtRW5oYW5jZXIoKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmFkaXVtRW5oYW5jZXIpO1xuXG4gICAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihSYWRpdW1FbmhhbmNlci5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgICB0aGlzLnN0YXRlID0gdGhpcy5zdGF0ZSB8fCB7fTtcbiAgICAgIHRoaXMuc3RhdGUuX3JhZGl1bVN0eWxlU3RhdGUgPSB7fTtcblxuICAgICAgaWYgKFJhZGl1bUVuaGFuY2VyLnByaW50U3R5bGVDbGFzcykge1xuICAgICAgICB0aGlzLnByaW50U3R5bGVDbGFzcyA9IFJhZGl1bUVuaGFuY2VyLnByaW50U3R5bGVDbGFzcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDbGFzcyBpbmhlcml0YW5jZSB1c2VzIE9iamVjdC5jcmVhdGUgYW5kIGJlY2F1c2Ugb2YgX19wcm90b19fIGlzc3Vlc1xuICAgIC8vIHdpdGggSUUgPDEwIGFueSBzdGF0aWMgcHJvcGVydGllcyBvZiB0aGUgc3VwZXJjbGFzcyBhcmVuJ3QgaW5oZXJpdGVkIGFuZFxuICAgIC8vIHNvIG5lZWQgdG8gYmUgbWFudWFsbHkgcG9wdWxhdGVkXG4gICAgLy8gU2VlIGh0dHA6Ly9iYWJlbGpzLmlvL2RvY3MvYWR2YW5jZWQvY2F2ZWF0cy8jY2xhc3Nlcy0xMC1hbmQtYmVsb3ctXG4gICAgLy8gVGhpcyBhbHNvIGZpeGVzIFJlYWN0IEhvdCBMb2FkZXIgYnkgZXhwb3NpbmcgdGhlIG9yaWdpbmFsIGNvbXBvbmVudHMgdG9wIGxldmVsXG4gICAgLy8gcHJvdG90eXBlIG1ldGhvZHMgb24gdGhlIFJhZGl1bSBlbmhhbmNlZCBwcm90b3R5cGUgYXMgZGlzY3Vzc2VkIGluICMyMTkuXG5cbiAgICBfY3JlYXRlQ2xhc3MoUmFkaXVtRW5oYW5jZXIsIFt7XG4gICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVkRWxlbWVudCA9IF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFJhZGl1bUVuaGFuY2VyLnByb3RvdHlwZSksICdyZW5kZXInLCB0aGlzKS5jYWxsKHRoaXMpO1xuICAgICAgICByZXR1cm4gcmVzb2x2ZVN0eWxlcyh0aGlzLCByZW5kZXJlZEVsZW1lbnQpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFJhZGl1bUVuaGFuY2VyLnByb3RvdHlwZSksICdjb21wb25lbnRXaWxsVW5tb3VudCcsIHRoaXMpKSB7XG4gICAgICAgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmFkaXVtRW5oYW5jZXIucHJvdG90eXBlKSwgJ2NvbXBvbmVudFdpbGxVbm1vdW50JywgdGhpcykuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9yYWRpdW1Nb3VzZVVwTGlzdGVuZXIpIHtcbiAgICAgICAgICB0aGlzLl9yYWRpdW1Nb3VzZVVwTGlzdGVuZXIucmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcmFkaXVtTWVkaWFRdWVyeUxpc3RlbmVyc0J5UXVlcnkpIHtcbiAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9yYWRpdW1NZWRpYVF1ZXJ5TGlzdGVuZXJzQnlRdWVyeSkuZm9yRWFjaChmdW5jdGlvbiAocXVlcnkpIHtcbiAgICAgICAgICAgIHRoaXMuX3JhZGl1bU1lZGlhUXVlcnlMaXN0ZW5lcnNCeVF1ZXJ5W3F1ZXJ5XS5yZW1vdmUoKTtcbiAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBSYWRpdW1FbmhhbmNlcjtcbiAgfSkoQ29tcG9zZWRDb21wb25lbnQpO1xuXG4gIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKENvbXBvc2VkQ29tcG9uZW50LnByb3RvdHlwZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKCFSYWRpdW1FbmhhbmNlci5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKENvbXBvc2VkQ29tcG9uZW50LnByb3RvdHlwZSwga2V5KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSYWRpdW1FbmhhbmNlci5wcm90b3R5cGUsIGtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9KTtcblxuICBSYWRpdW1FbmhhbmNlci5kaXNwbGF5TmFtZSA9IENvbXBvc2VkQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvc2VkQ29tcG9uZW50Lm5hbWUgfHwgJ0NvbXBvbmVudCc7XG5cbiAgUmFkaXVtRW5oYW5jZXIucHJpbnRTdHlsZUNsYXNzID0gcHJpbnRTdHlsZXMuYWRkUHJpbnRTdHlsZXMoUmFkaXVtRW5oYW5jZXIpO1xuXG4gIHJldHVybiBSYWRpdW1FbmhhbmNlcjtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZW5oYW5jZVdpdGhSYWRpdW07IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZ2V0U3RhdGVLZXkgPSBmdW5jdGlvbiBnZXRTdGF0ZUtleShlbGVtZW50S2V5KSB7XG4gIHJldHVybiBlbGVtZW50S2V5ID09PSBudWxsIHx8IGVsZW1lbnRLZXkgPT09IHVuZGVmaW5lZCA/ICdtYWluJyA6IGVsZW1lbnRLZXkudG9TdHJpbmcoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0U3RhdGVLZXk7IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZ2V0U3RhdGVLZXkgPSByZXF1aXJlKCcuL2dldC1zdGF0ZS1rZXknKTtcblxudmFyIFZBTElEX0tFWVMgPSBbJzphY3RpdmUnLCAnOmZvY3VzJywgJzpob3ZlciddO1xuXG52YXIgZ2V0U3RhdGUgPSBmdW5jdGlvbiBnZXRTdGF0ZShzdGF0ZSwgZWxlbWVudEtleSwgdmFsdWUpIHtcbiAgaWYgKFZBTElEX0tFWVMuaW5kZXhPZih2YWx1ZSkgPT09IC0xKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdSYWRpdW0uZ2V0U3RhdGUgaW52YWxpZCB2YWx1ZSBwYXJhbTogYCcgKyB2YWx1ZSArICdgJyk7XG4gIH1cblxuICB2YXIga2V5ID0gZ2V0U3RhdGVLZXkoZWxlbWVudEtleSk7XG5cbiAgcmV0dXJuICEhKHN0YXRlICYmIHN0YXRlLl9yYWRpdW1TdHlsZVN0YXRlICYmIHN0YXRlLl9yYWRpdW1TdHlsZVN0YXRlW2tleV0gJiYgc3RhdGUuX3JhZGl1bVN0eWxlU3RhdGVba2V5XVt2YWx1ZV0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBnZXRTdGF0ZTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBFbmhhbmNlciA9IHJlcXVpcmUoJy4vZW5oYW5jZXInKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQ29tcG9zZWRDb21wb25lbnQpIHtcbiAgcmV0dXJuIEVuaGFuY2VyKENvbXBvc2VkQ29tcG9uZW50KTtcbn07XG5tb2R1bGUuZXhwb3J0cy5TdHlsZSA9IHJlcXVpcmUoJy4vY29tcG9uZW50cy9zdHlsZScpO1xubW9kdWxlLmV4cG9ydHMuUHJpbnRTdHlsZVNoZWV0ID0gcmVxdWlyZSgnLi9jb21wb25lbnRzL3ByaW50LXN0eWxlLXNoZWV0Jyk7XG5tb2R1bGUuZXhwb3J0cy5nZXRTdGF0ZSA9IHJlcXVpcmUoJy4vZ2V0LXN0YXRlJyk7XG5tb2R1bGUuZXhwb3J0cy5rZXlmcmFtZXMgPSByZXF1aXJlKCcuL2tleWZyYW1lcycpO1xubW9kdWxlLmV4cG9ydHMuQ29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcnKTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBjcmVhdGVNYXJrdXBGb3JTdHlsZXMgPSByZXF1aXJlKCcuL2NyZWF0ZS1tYXJrdXAtZm9yLXN0eWxlcycpO1xudmFyIFByZWZpeGVyID0gcmVxdWlyZSgnLi9wcmVmaXhlcicpO1xuXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCdleGVudicpO1xuXG52YXIgaXNBbmltYXRpb25TdXBwb3J0ZWQgPSBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgUHJlZml4ZXIuZ2V0UHJlZml4ZWRQcm9wZXJ0eU5hbWUoJ2FuaW1hdGlvbicpICE9PSBmYWxzZTtcblxudmFyIGFuaW1hdGlvbkluZGV4ID0gMTtcbnZhciBhbmltYXRpb25TdHlsZVNoZWV0ID0gbnVsbDtcbnZhciBrZXlmcmFtZXNQcmVmaXhlZCA9ICdrZXlmcmFtZXMnO1xuXG5pZiAoaXNBbmltYXRpb25TdXBwb3J0ZWQpIHtcbiAgYW5pbWF0aW9uU3R5bGVTaGVldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYW5pbWF0aW9uU3R5bGVTaGVldCk7XG5cbiAgLy8gVGVzdCBpZiBwcmVmaXggbmVlZGVkIGZvciBrZXlmcmFtZXMgKGNvcGllZCBmcm9tIFByZWZpeEZyZWUpXG4gIGFuaW1hdGlvblN0eWxlU2hlZXQudGV4dENvbnRlbnQgPSAnQGtleWZyYW1lcyB7fSc7XG4gIGlmICghYW5pbWF0aW9uU3R5bGVTaGVldC5zaGVldC5jc3NSdWxlcy5sZW5ndGgpIHtcbiAgICBrZXlmcmFtZXNQcmVmaXhlZCA9IFByZWZpeGVyLmNzc1ByZWZpeCArICdrZXlmcmFtZXMnO1xuICB9XG59XG5cbi8vIFNpbXBsZSBhbmltYXRpb24gaGVscGVyIHRoYXQgaW5qZWN0cyBDU1MgaW50byBhIHN0eWxlIG9iamVjdCBjb250YWluaW5nIHRoZVxuLy8ga2V5ZnJhbWVzLCBhbmQgcmV0dXJucyBhIHN0cmluZyB3aXRoIHRoZSBnZW5lcmF0ZWQgYW5pbWF0aW9uIG5hbWUuXG52YXIga2V5ZnJhbWVzID0gZnVuY3Rpb24ga2V5ZnJhbWVzKGtleWZyYW1lUnVsZXMsIGNvbXBvbmVudCkge1xuICB2YXIgbmFtZSA9ICdBbmltYXRpb24nICsgYW5pbWF0aW9uSW5kZXg7XG4gIGFuaW1hdGlvbkluZGV4ICs9IDE7XG5cbiAgaWYgKCFpc0FuaW1hdGlvblN1cHBvcnRlZCkge1xuICAgIHJldHVybiBuYW1lO1xuICB9XG5cbiAgdmFyIHJ1bGUgPSAnQCcgKyBrZXlmcmFtZXNQcmVmaXhlZCArICcgJyArIG5hbWUgKyAnIHtcXG4nICsgT2JqZWN0LmtleXMoa2V5ZnJhbWVSdWxlcykubWFwKGZ1bmN0aW9uIChwZXJjZW50YWdlKSB7XG4gICAgdmFyIHByb3BzID0ga2V5ZnJhbWVSdWxlc1twZXJjZW50YWdlXTtcbiAgICB2YXIgcHJlZml4ZWRQcm9wcyA9IFByZWZpeGVyLmdldFByZWZpeGVkU3R5bGUoY29tcG9uZW50LCBwcm9wcywgJ2NzcycpO1xuICAgIHZhciBzZXJpYWxpemVkUHJvcHMgPSBjcmVhdGVNYXJrdXBGb3JTdHlsZXMocHJlZml4ZWRQcm9wcywgJyAgJyk7XG4gICAgcmV0dXJuICcgICcgKyBwZXJjZW50YWdlICsgJyB7XFxuICAnICsgc2VyaWFsaXplZFByb3BzICsgJ1xcbiAgfSc7XG4gIH0pLmpvaW4oJ1xcbicpICsgJ1xcbn1cXG4nO1xuXG4gIC8vIGZvciBmbG93XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmICghYW5pbWF0aW9uU3R5bGVTaGVldCkge1xuICAgIHRocm93IG5ldyBFcnJvcigna2V5ZnJhbWVzIG5vdCBpbml0aWFsaXplZCBwcm9wZXJseScpO1xuICB9XG5cbiAgYW5pbWF0aW9uU3R5bGVTaGVldC5zaGVldC5pbnNlcnRSdWxlKHJ1bGUsIGFuaW1hdGlvblN0eWxlU2hlZXQuc2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgcmV0dXJuIG5hbWU7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGtleWZyYW1lczsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfY2FsbGJhY2tzID0gW107XG52YXIgX21vdXNlVXBMaXN0ZW5lcklzQWN0aXZlID0gZmFsc2U7XG5cbnZhciBfaGFuZGxlTW91c2VVcCA9IGZ1bmN0aW9uIF9oYW5kbGVNb3VzZVVwKGV2KSB7XG4gIF9jYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayhldik7XG4gIH0pO1xufTtcblxudmFyIHN1YnNjcmliZSA9IGZ1bmN0aW9uIHN1YnNjcmliZShjYWxsYmFjaykge1xuICBpZiAoX2NhbGxiYWNrcy5pbmRleE9mKGNhbGxiYWNrKSA9PT0gLTEpIHtcbiAgICBfY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICB9XG5cbiAgaWYgKCFfbW91c2VVcExpc3RlbmVySXNBY3RpdmUpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIF9oYW5kbGVNb3VzZVVwKTtcbiAgICBfbW91c2VVcExpc3RlbmVySXNBY3RpdmUgPSB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHZhciBpbmRleCA9IF9jYWxsYmFja3MuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgICBfY2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XG5cbiAgICAgIGlmIChfY2FsbGJhY2tzLmxlbmd0aCA9PT0gMCAmJiBfbW91c2VVcExpc3RlbmVySXNBY3RpdmUpIHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBfaGFuZGxlTW91c2VVcCk7XG4gICAgICAgIF9tb3VzZVVwTGlzdGVuZXJJc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBzdWJzY3JpYmU6IHN1YnNjcmliZVxufTsiLCIvKipcbiAqIEJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9qc3N0eWxlcy9jc3MtdmVuZG9yLCBidXQgd2l0aG91dCBoYXZpbmcgdG9cbiAqIGNvbnZlcnQgYmV0d2VlbiBkaWZmZXJlbnQgY2FzZXMgYWxsIHRoZSB0aW1lLlxuICpcbiAqIFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZXhlbnYnKTtcbnZhciBhcnJheUZpbmQgPSByZXF1aXJlKCdhcnJheS1maW5kJyk7XG5cbnZhciBWRU5ET1JfUFJFRklYX1JFR0VYID0gLy0obW96fHdlYmtpdHxtc3xvKS0vO1xuXG52YXIgdmVuZG9yUHJlZml4ZXMgPSBbJ1dlYmtpdCcsICdtcycsICdNb3onLCAnTyddO1xuXG52YXIgaW5mb0J5Q3NzUHJlZml4ID0ge1xuICAnLW1vei0nOiB7XG4gICAgY3NzUHJlZml4OiAnLW1vei0nLFxuICAgIGpzUHJlZml4OiAnTW96JyxcbiAgICBhbHRlcm5hdGl2ZVByb3BlcnRpZXM6IHtcbiAgICAgIC8vIE9MRCAtIEZpcmVmb3ggMTktXG4gICAgICBhbGlnbkl0ZW1zOiBbeyBjc3M6ICctbW96LWJveC1hbGlnbicsIGpzOiAnTW96Qm94QWxpZ24nIH1dLFxuICAgICAgZmxleDogW3sgY3NzOiAnLW1vei1ib3gtZmxleCcsIGpzOiAnTW96Qm94RmxleCcgfV0sXG4gICAgICBmbGV4RGlyZWN0aW9uOiBbeyBjc3M6ICctbW96LWJveC1vcmllbnQnLCBqczogJ01vekJveE9yaWVudCcgfV0sXG4gICAgICBqdXN0aWZ5Q29udGVudDogW3sgY3NzOiAnLW1vei1ib3gtcGFjaycsIGpzOiAnTW96Qm94UGFjaycgfV0sXG4gICAgICBvcmRlcjogW3sgY3NzOiAnLW1vei1ib3gtb3JkaW5hbC1ncm91cCcsIGpzOiAnTW96Qm94T3JkaW5hbEdyb3VwJyB9XVxuICAgIH0sXG4gICAgYWx0ZXJuYXRpdmVWYWx1ZXM6IHtcbiAgICAgIC8vIE9MRCAtIEZpcmVmb3ggMTktXG4gICAgICBhbGlnbkl0ZW1zOiB7XG4gICAgICAgICdmbGV4LXN0YXJ0JzogWydzdGFydCddLFxuICAgICAgICAnZmxleC1lbmQnOiBbJ2VuZCddXG4gICAgICB9LFxuICAgICAgZGlzcGxheToge1xuICAgICAgICBmbGV4OiBbJy1tb3otYm94J11cbiAgICAgIH0sXG4gICAgICBmbGV4RGlyZWN0aW9uOiB7XG4gICAgICAgIGNvbHVtbjogWyd2ZXJ0aWNhbCddLFxuICAgICAgICByb3c6IFsnaG9yaXpvbnRhbCddXG4gICAgICB9LFxuICAgICAganVzdGlmeUNvbnRlbnQ6IHtcbiAgICAgICAgJ2ZsZXgtc3RhcnQnOiBbJ3N0YXJ0J10sXG4gICAgICAgICdmbGV4LWVuZCc6IFsnZW5kJ10sXG4gICAgICAgICdzcGFjZS1iZXR3ZWVuJzogWydqdXN0aWZ5J11cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gICctbXMtJzoge1xuICAgIGNzc1ByZWZpeDogJy1tcy0nLFxuICAgIGpzUHJlZml4OiAnbXMnLFxuICAgIGFsdGVybmF0aXZlUHJvcGVydGllczoge1xuICAgICAgLy8gVFdFRU5FUiAtIElFIDEwXG4gICAgICBhbGlnbkNvbnRlbnQ6IFt7IGNzczogJy1tcy1mbGV4LWxpbmUtcGFjaycsIGpzOiAnbXNGbGV4TGluZVBhY2snIH1dLFxuICAgICAgYWxpZ25JdGVtczogW3sgY3NzOiAnLW1zLWZsZXgtYWxpZ24nLCBqczogJ21zRmxleEFsaWduJyB9XSxcbiAgICAgIGFsaWduU2VsZjogW3sgY3NzOiAnLW1zLWZsZXgtYWxpZ24taXRlbScsIGpzOiAnbXNGbGV4QWxpZ25JdGVtJyB9XSxcbiAgICAgIGp1c3RpZnlDb250ZW50OiBbeyBjc3M6ICctbXMtZmxleC1wYWNrJywganM6ICdtc0ZsZXhQYWNrJyB9XSxcbiAgICAgIG9yZGVyOiBbeyBjc3M6ICctbXMtZmxleC1vcmRlcicsIGpzOiAnbXNGbGV4T3JkZXInIH1dXG4gICAgfSxcbiAgICBhbHRlcm5hdGl2ZVZhbHVlczoge1xuICAgICAgLy8gVFdFRU5FUiAtIElFIDEwXG4gICAgICBhbGlnbkNvbnRlbnQ6IHtcbiAgICAgICAgJ2ZsZXgtc3RhcnQnOiBbJ3N0YXJ0J10sXG4gICAgICAgICdmbGV4LWVuZCc6IFsnZW5kJ10sXG4gICAgICAgICdzcGFjZS1iZXR3ZWVuJzogWydqdXN0aWZ5J10sXG4gICAgICAgICdzcGFjZS1hcm91bmQnOiBbJ2Rpc3RyaWJ1dGUnXVxuICAgICAgfSxcbiAgICAgIGFsaWduSXRlbXM6IHtcbiAgICAgICAgJ2ZsZXgtc3RhcnQnOiBbJ3N0YXJ0J10sXG4gICAgICAgICdmbGV4LWVuZCc6IFsnZW5kJ11cbiAgICAgIH0sXG4gICAgICBhbGlnblNlbGY6IHtcbiAgICAgICAgJ2ZsZXgtc3RhcnQnOiBbJ3N0YXJ0J10sXG4gICAgICAgICdmbGV4LWVuZCc6IFsnZW5kJ11cbiAgICAgIH0sXG4gICAgICBkaXNwbGF5OiB7XG4gICAgICAgIGZsZXg6IFsnLW1zLWZsZXhib3gnXSxcbiAgICAgICAgJ2lubGluZS1mbGV4JzogWyctbXMtaW5saW5lLWZsZXhib3gnXVxuICAgICAgfSxcbiAgICAgIGp1c3RpZnlDb250ZW50OiB7XG4gICAgICAgICdmbGV4LXN0YXJ0JzogWydzdGFydCddLFxuICAgICAgICAnZmxleC1lbmQnOiBbJ2VuZCddLFxuICAgICAgICAnc3BhY2UtYmV0d2Vlbic6IFsnanVzdGlmeSddLFxuICAgICAgICAnc3BhY2UtYXJvdW5kJzogWydkaXN0cmlidXRlJ11cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gICctby0nOiB7XG4gICAgY3NzUHJlZml4OiAnLW8tJyxcbiAgICBqc1ByZWZpeDogJ08nXG4gIH0sXG4gICctd2Via2l0LSc6IHtcbiAgICBjc3NQcmVmaXg6ICctd2Via2l0LScsXG4gICAganNQcmVmaXg6ICdXZWJraXQnLFxuICAgIGFsdGVybmF0aXZlUHJvcGVydGllczoge1xuICAgICAgLy8gT0xEIC0gaU9TIDYtLCBTYWZhcmkgMy4xLTZcbiAgICAgIGFsaWduSXRlbXM6IFt7IGNzczogJy13ZWJraXQtYm94LWFsaWduJywganM6ICdXZWJraXRCb3hBbGlnbicgfV0sXG4gICAgICBmbGV4OiBbeyBjc3M6ICctd2Via2l0LWJveC1mbGV4JywganM6ICdNb3pCb3hGbGV4JyB9XSxcbiAgICAgIGZsZXhEaXJlY3Rpb246IFt7IGNzczogJy13ZWJraXQtYm94LW9yaWVudCcsIGpzOiAnV2Via2l0Qm94T3JpZW50JyB9XSxcbiAgICAgIGp1c3RpZnlDb250ZW50OiBbeyBjc3M6ICctd2Via2l0LWJveC1wYWNrJywganM6ICdXZWJraXRCb3hQYWNrJyB9XSxcbiAgICAgIG9yZGVyOiBbeyBjc3M6ICctd2Via2l0LWJveC1vcmRpbmFsLWdyb3VwJywganM6ICdXZWJraXRCb3hPcmRpbmFsR3JvdXAnIH1dXG4gICAgfSxcbiAgICBhbHRlcm5hdGl2ZVZhbHVlczoge1xuICAgICAgLy8gT0xEIC0gaU9TIDYtLCBTYWZhcmkgMy4xLTZcbiAgICAgIGFsaWduSXRlbXM6IHtcbiAgICAgICAgJ2ZsZXgtc3RhcnQnOiBbJ3N0YXJ0J10sXG4gICAgICAgICdmbGV4LWVuZCc6IFsnZW5kJ11cbiAgICAgIH0sXG4gICAgICBkaXNwbGF5OiB7XG4gICAgICAgIGZsZXg6IFsnLXdlYmtpdC1ib3gnXVxuICAgICAgfSxcbiAgICAgIGZsZXhEaXJlY3Rpb246IHtcbiAgICAgICAgcm93OiBbJ2hvcml6b250YWwnXSxcbiAgICAgICAgY29sdW1uOiBbJ3ZlcnRpY2FsJ11cbiAgICAgIH0sXG4gICAgICBqdXN0aWZ5Q29udGVudDoge1xuICAgICAgICAnZmxleC1zdGFydCc6IFsnc3RhcnQnXSxcbiAgICAgICAgJ2ZsZXgtZW5kJzogWydlbmQnXSxcbiAgICAgICAgJ3NwYWNlLWJldHdlZW4nOiBbJ2p1c3RpZnknXVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBDU1MgcHJvcGVydGllcyB3aGljaCBhY2NlcHQgbnVtYmVycyBidXQgYXJlIG5vdCBpbiB1bml0cyBvZiBcInB4XCIuXG4gKiBDb3BpZWQgZnJvbSBSZWFjdCBjb3JlIEp1bmUgMjIsIDIwMTUuXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9cbiAqIGJhODFiNjBhZDhlOTNiNzQ3YmU0MmEwM2I3OTcwNjU5MzJjNDljOTYvXG4gKiBzcmMvcmVuZGVyZXJzL2RvbS9zaGFyZWQvQ1NTUHJvcGVydHkuanNcbiAqL1xudmFyIGlzVW5pdGxlc3NOdW1iZXIgPSB7XG4gIGJveEZsZXg6IHRydWUsXG4gIGJveEZsZXhHcm91cDogdHJ1ZSxcbiAgY29sdW1uQ291bnQ6IHRydWUsXG4gIGZsZXg6IHRydWUsXG4gIGZsZXhHcm93OiB0cnVlLFxuICBmbGV4UG9zaXRpdmU6IHRydWUsXG4gIGZsZXhTaHJpbms6IHRydWUsXG4gIGZsZXhOZWdhdGl2ZTogdHJ1ZSxcbiAgZm9udFdlaWdodDogdHJ1ZSxcbiAgbGluZUNsYW1wOiB0cnVlLFxuICBsaW5lSGVpZ2h0OiB0cnVlLFxuICBvcGFjaXR5OiB0cnVlLFxuICBvcmRlcjogdHJ1ZSxcbiAgb3JwaGFuczogdHJ1ZSxcbiAgdGFiU2l6ZTogdHJ1ZSxcbiAgd2lkb3dzOiB0cnVlLFxuICB6SW5kZXg6IHRydWUsXG4gIHpvb206IHRydWUsXG5cbiAgLy8gU1ZHLXJlbGF0ZWQgcHJvcGVydGllc1xuICBmaWxsT3BhY2l0eTogdHJ1ZSxcbiAgc3Ryb2tlRGFzaG9mZnNldDogdHJ1ZSxcbiAgc3Ryb2tlT3BhY2l0eTogdHJ1ZSxcbiAgc3Ryb2tlV2lkdGg6IHRydWVcbn07XG5cbnZhciBkb21TdHlsZSA9IHt9O1xudmFyIHByZWZpeGVkUHJvcGVydHlDYWNoZSA9IHt9O1xudmFyIHByZWZpeGVkVmFsdWVDYWNoZSA9IHt9O1xudmFyIHByZWZpeEluZm8gPSB7XG4gIGNzc1ByZWZpeDogJycsXG4gIGpzUHJlZml4OiAnJ1xufTtcblxuaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICBkb21TdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKS5zdHlsZTtcblxuICAvLyBvbGRlciBGaXJlZm94IHZlcnNpb25zIG1heSBoYXZlIG5vIGZsb2F0IHByb3BlcnR5IGluIHN0eWxlIG9iamVjdFxuICAvLyBzbyB3ZSBuZWVkIHRvIGFkZCBpdCBtYW51YWxseVxuICBpZiAoZG9tU3R5bGUuZmxvYXQgPT09IHVuZGVmaW5lZCkge1xuICAgIGRvbVN0eWxlLmZsb2F0ID0gJyc7XG4gIH1cblxuICAvLyBCYXNlZCBvbiBodHRwOi8vZGF2aWR3YWxzaC5uYW1lL3ZlbmRvci1wcmVmaXhcbiAgdmFyIHByZWZpeE1hdGNoO1xuICB2YXIgd2luZG93U3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAnJyk7XG5cbiAgLy8gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwod2luZG93U3R5bGVzKSBmYWlscyB3aXRoXG4gIC8vIFwiVW5jYXVnaHQgVHlwZUVycm9yOiB1bmRlZmluZWQgaXMgbm90IGEgZnVuY3Rpb25cIlxuICAvLyBpbiBvbGRlciB2ZXJzaW9ucyBBbmRyb2lkIChLaXRLYXQpIHdlYiB2aWV3c1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHdpbmRvd1N0eWxlcy5sZW5ndGg7IGkrKykge1xuICAgIHByZWZpeE1hdGNoID0gd2luZG93U3R5bGVzW2ldLm1hdGNoKFZFTkRPUl9QUkVGSVhfUkVHRVgpO1xuXG4gICAgaWYgKHByZWZpeE1hdGNoKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICB2YXIgY3NzVmVuZG9yUHJlZml4ID0gcHJlZml4TWF0Y2ggJiYgcHJlZml4TWF0Y2hbMF07XG5cbiAgcHJlZml4SW5mbyA9IGNzc1ZlbmRvclByZWZpeCAmJiBpbmZvQnlDc3NQcmVmaXhbY3NzVmVuZG9yUHJlZml4XSA/IGluZm9CeUNzc1ByZWZpeFtjc3NWZW5kb3JQcmVmaXhdIDogcHJlZml4SW5mbztcbn1cblxudmFyIF9jYW1lbENhc2VSZWdleCA9IC8oW2Etel0pPyhbQS1aXSkvZztcbnZhciBfY2FtZWxDYXNlUmVwbGFjZXIgPSBmdW5jdGlvbiBfY2FtZWxDYXNlUmVwbGFjZXIobWF0Y2gsIHAxLCBwMikge1xuICByZXR1cm4gcDEgKyAnLScgKyBwMi50b0xvd2VyQ2FzZSgpO1xufTtcbnZhciBfY2FtZWxDYXNlVG9EYXNoQ2FzZSA9IGZ1bmN0aW9uIF9jYW1lbENhc2VUb0Rhc2hDYXNlKHMpIHtcbiAgcmV0dXJuIHMucmVwbGFjZShfY2FtZWxDYXNlUmVnZXgsIF9jYW1lbENhc2VSZXBsYWNlcik7XG59O1xuXG52YXIgZ2V0UHJlZml4ZWRQcm9wZXJ0eU5hbWUgPSBmdW5jdGlvbiBnZXRQcmVmaXhlZFByb3BlcnR5TmFtZShwcm9wZXJ0eSkge1xuICBpZiAocHJlZml4ZWRQcm9wZXJ0eUNhY2hlLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgIHJldHVybiBwcmVmaXhlZFByb3BlcnR5Q2FjaGVbcHJvcGVydHldO1xuICB9XG5cbiAgdmFyIHVucHJlZml4ZWQgPSB7XG4gICAgY3NzOiBfY2FtZWxDYXNlVG9EYXNoQ2FzZShwcm9wZXJ0eSksXG4gICAganM6IHByb3BlcnR5LFxuICAgIGlzRGVmYXVsdEZvclNlcnZlcjogdHJ1ZVxuICB9O1xuXG4gIC8vIFRyeSB0aGUgcHJlZml4ZWQgdmVyc2lvbiBmaXJzdC4gQ2hyb21lIGluIHBhcnRpY3VsYXIgaGFzIHRoZSBgZmlsdGVyYCBhbmRcbiAgLy8gYHdlYmtpdEZpbHRlcmAgcHJvcGVydGllcyBhdmFpbGFsYmUgb24gdGhlIHN0eWxlIG9iamVjdCwgYnV0IG9ubHkgdGhlXG4gIC8vIHByZWZpeGVkIHZlcnNpb24gYWN0dWFsbHkgd29ya3MuXG4gIHZhciBwb3NzaWJsZVByb3BlcnR5TmFtZXMgPSBbXG4gIC8vIFByZWZpeGVkXG4gIHtcbiAgICBjc3M6IHByZWZpeEluZm8uY3NzUHJlZml4ICsgX2NhbWVsQ2FzZVRvRGFzaENhc2UocHJvcGVydHkpLFxuICAgIGpzOiBwcmVmaXhJbmZvLmpzUHJlZml4ICsgcHJvcGVydHlbMF0udG9VcHBlckNhc2UoKSArIHByb3BlcnR5LnNsaWNlKDEpXG4gIH0sIHVucHJlZml4ZWRdO1xuXG4gIC8vIEFsdGVybmF0aXZlIHByb3BlcnR5IG5hbWVzXG4gIGlmIChwcmVmaXhJbmZvLmFsdGVybmF0aXZlUHJvcGVydGllcyAmJiBwcmVmaXhJbmZvLmFsdGVybmF0aXZlUHJvcGVydGllc1twcm9wZXJ0eV0pIHtcbiAgICBwb3NzaWJsZVByb3BlcnR5TmFtZXMgPSBwb3NzaWJsZVByb3BlcnR5TmFtZXMuY29uY2F0KHByZWZpeEluZm8uYWx0ZXJuYXRpdmVQcm9wZXJ0aWVzW3Byb3BlcnR5XSk7XG4gIH1cblxuICB2YXIgd29ya2luZ1Byb3BlcnR5ID0gYXJyYXlGaW5kKHBvc3NpYmxlUHJvcGVydHlOYW1lcywgZnVuY3Rpb24gKHBvc3NpYmxlUHJvcGVydHlOYW1lKSB7XG4gICAgaWYgKHBvc3NpYmxlUHJvcGVydHlOYW1lLmpzIGluIGRvbVN0eWxlKSB7XG4gICAgICByZXR1cm4gcG9zc2libGVQcm9wZXJ0eU5hbWU7XG4gICAgfVxuICB9KSB8fCBmYWxzZTtcblxuICByZXR1cm4gcHJlZml4ZWRQcm9wZXJ0eUNhY2hlW3Byb3BlcnR5XSA9IHdvcmtpbmdQcm9wZXJ0eTtcbn07XG5cbi8vIFdlIGFyZSB1bi1wcmVmaXhpbmcgdmFsdWVzIGJlZm9yZSBjaGVja2luZyBmb3IgaXNVbml0bGVzc051bWJlcixcbi8vIG90aGVyd2lzZSB3ZSBhcmUgYXQgcmlzayBvZiBiZWluZyBpbiBhIHNpdHVhdGlvbiB3aGVyZSBzb21lb25lXG4vLyBleHBsaWNpdGx5IHBhc3NlcyBzb21ldGhpbmcgbGlrZSBgTW96Qm94RmxleDogMWAgYW5kIHRoYXQgd2lsbFxuLy8gaW4gdHVybiBnZXQgdHJhbnNmb3JtZWQgaW50byBgTW96Qm94RmxleDogMXB4YC5cbnZhciBfZ2V0VW5wcmVmaXhlZFByb3BlcnR5ID0gZnVuY3Rpb24gX2dldFVucHJlZml4ZWRQcm9wZXJ0eShwcm9wZXJ0eSkge1xuICB2YXIgbm9QcmVmaXhQcm9wZXJ0eSA9IHByb3BlcnR5O1xuXG4gIHZlbmRvclByZWZpeGVzLnNvbWUoZnVuY3Rpb24gKHByZWZpeCkge1xuICAgIC8vIExldCdzIGNoZWNrIGlmIHRoZSBwcm9wZXJ0eSBzdGFydHMgd2l0aCBhIHZlbmRvciBwcmVmaXhcbiAgICBpZiAocHJvcGVydHkuaW5kZXhPZihwcmVmaXgpID09PSAwKSB7XG4gICAgICBub1ByZWZpeFByb3BlcnR5ID0gbm9QcmVmaXhQcm9wZXJ0eS5yZXBsYWNlKHByZWZpeCwgJycpO1xuXG4gICAgICAvLyBXZSBoYXZlIHJlbW92ZWQgdGhlIHZlbmRvciBwcmVmaXgsIGhvd2V2ZXIgdGhlIGZpcnN0XG4gICAgICAvLyBjaGFyYWN0ZXIgaXMgZ29pbmcgdG8gYmUgdXBwZXJjYXNlIGhlbmNlIHdvbid0IG1hdGNoXG4gICAgICAvLyBhbnkgb2YgdGhlIGBpc1VuaXRsZXNzTnVtYmVyYCBrZXlzIGFzIHRoZXkgYWxsIHN0YXJ0XG4gICAgICAvLyB3aXRoIGxvd2VyIGNhc2UuIExldCdzIGVuc3VyZSB0aGF0IHRoZSBmaXJzdCBjaGFyIGlzXG4gICAgICAvLyBsb3dlciBjYXNlLlxuICAgICAgbm9QcmVmaXhQcm9wZXJ0eSA9IG5vUHJlZml4UHJvcGVydHkuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBub1ByZWZpeFByb3BlcnR5LnNsaWNlKDEpO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBub1ByZWZpeFByb3BlcnR5O1xufTtcblxuLy8gUmVhY3QgaXMgcGxhbm5pbmcgdG8gZGVwcmVjYXRlIGFkZGluZyBweCBhdXRvbWF0aWNhbGx5XG4vLyAoaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8xODczKSwgYW5kIGlmIHRoZXkgZG8sIHRoaXNcbi8vIHNob3VsZCBjaGFuZ2UgdG8gYSB3YXJuaW5nIG9yIGJlIHJlbW92ZWQgaW4gZmF2b3Igb2YgUmVhY3QncyB3YXJuaW5nLlxuLy8gU2FtZSBnb2VzIGZvciBiZWxvdy5cbnZhciBfYWRkUGl4ZWxTdWZmaXhUb1ZhbHVlSWZOZWVkZWQgPSBmdW5jdGlvbiBfYWRkUGl4ZWxTdWZmaXhUb1ZhbHVlSWZOZWVkZWQob3JpZ2luYWxQcm9wZXJ0eSwgdmFsdWUpIHtcbiAgdmFyIHVuUHJlZml4ZWRQcm9wZXJ0eSA9IF9nZXRVbnByZWZpeGVkUHJvcGVydHkob3JpZ2luYWxQcm9wZXJ0eSk7XG5cbiAgaWYgKHZhbHVlICE9PSAwICYmICFpc05hTih2YWx1ZSkgJiYgIWlzVW5pdGxlc3NOdW1iZXJbdW5QcmVmaXhlZFByb3BlcnR5XSkge1xuICAgIHJldHVybiB2YWx1ZSArICdweCc7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufTtcblxudmFyIF9nZXRQcmVmaXhlZFZhbHVlID0gZnVuY3Rpb24gX2dldFByZWZpeGVkVmFsdWUoY29tcG9uZW50LCBwcm9wZXJ0eSwgdmFsdWUsIG9yaWdpbmFsUHJvcGVydHkpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIC8vIGRvbid0IHRlc3QgbnVtYmVycyAocHVyZSBvciBzdHJpbmd5KSwgYnV0IGRvIGFkZCAncHgnIHByZWZpeCBpZiBuZWVkZWRcbiAgICBpZiAoIWlzTmFOKHZhbHVlKSAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIF9hZGRQaXhlbFN1ZmZpeFRvVmFsdWVJZk5lZWRlZChvcmlnaW5hbFByb3BlcnR5LCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBkb24ndCB0ZXN0IG51bWJlcnMgd2l0aCB1bml0cyAoZS5nLiAxMGVtKVxuICAgIGlmICghaXNOYU4ocGFyc2VJbnQodmFsdWUsIDEwKSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH1cblxuICB2YXIgY2FjaGVLZXkgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLmpvaW4oJyB8fCAnKSA6IHByb3BlcnR5ICsgdmFsdWU7XG5cbiAgaWYgKHByZWZpeGVkVmFsdWVDYWNoZS5oYXNPd25Qcm9wZXJ0eShjYWNoZUtleSkpIHtcbiAgICByZXR1cm4gcHJlZml4ZWRWYWx1ZUNhY2hlW2NhY2hlS2V5XTtcbiAgfVxuXG4gIHZhciBwb3NzaWJsZVZhbHVlcztcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgLy8gQWRkIHB4IGZvciB0aGUgc2FtZSB2YWx1ZXMgUmVhY3Qgd291bGQsIG90aGVyd2lzZSB0aGUgdGVzdGluZyBiZWxvdyB3aWxsXG4gICAgLy8gZmFpbCBhbmQgaXQgd2lsbCB0cnkgdG8gZmFsbGJhY2suXG4gICAgcG9zc2libGVWYWx1ZXMgPSB2YWx1ZS5tYXAoZnVuY3Rpb24gKHYpIHtcbiAgICAgIHJldHVybiBfYWRkUGl4ZWxTdWZmaXhUb1ZhbHVlSWZOZWVkZWQob3JpZ2luYWxQcm9wZXJ0eSwgdik7XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgcHJlZml4ZWQgdmVyc2lvbnNcbiAgICBwb3NzaWJsZVZhbHVlcyA9IHBvc3NpYmxlVmFsdWVzLmNvbmNhdCh2YWx1ZS5maWx0ZXIoZnVuY3Rpb24gKHYpIHtcbiAgICAgIHJldHVybiAhaXNOYU4odik7XG4gICAgfSkgLy8gRG9uJ3QgcHJlZml4IG51bWJlcnNcbiAgICAubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICByZXR1cm4gcHJlZml4SW5mby5jc3NQcmVmaXggKyB2O1xuICAgIH0pKTtcbiAgfSBlbHNlIHtcbiAgICBwb3NzaWJsZVZhbHVlcyA9IFtcbiAgICAvLyBVbnByZWZpeGVkXG4gICAgdmFsdWUsXG4gICAgLy8gUHJlZml4ZWRcbiAgICBwcmVmaXhJbmZvLmNzc1ByZWZpeCArIHZhbHVlXTtcbiAgfVxuXG4gIC8vIEFsdGVybmF0aXZlIHZhbHVlc1xuICBpZiAocHJlZml4SW5mby5hbHRlcm5hdGl2ZVZhbHVlcyAmJiBwcmVmaXhJbmZvLmFsdGVybmF0aXZlVmFsdWVzW29yaWdpbmFsUHJvcGVydHldICYmIHByZWZpeEluZm8uYWx0ZXJuYXRpdmVWYWx1ZXNbb3JpZ2luYWxQcm9wZXJ0eV1bdmFsdWVdKSB7XG4gICAgcG9zc2libGVWYWx1ZXMgPSBwb3NzaWJsZVZhbHVlcy5jb25jYXQocHJlZml4SW5mby5hbHRlcm5hdGl2ZVZhbHVlc1tvcmlnaW5hbFByb3BlcnR5XVt2YWx1ZV0pO1xuICB9XG5cbiAgLy8gVGVzdCBwb3NzaWJsZSB2YWx1ZSBpbiBvcmRlclxuICB2YXIgd29ya2luZ1ZhbHVlID0gYXJyYXlGaW5kKHBvc3NpYmxlVmFsdWVzLCBmdW5jdGlvbiAocG9zc2libGVWYWx1ZSkge1xuICAgIGRvbVN0eWxlW3Byb3BlcnR5XSA9ICcnO1xuICAgIGRvbVN0eWxlW3Byb3BlcnR5XSA9IHBvc3NpYmxlVmFsdWU7XG5cbiAgICAvLyBOb3RlIHRoYXQgd2UganVzdCBtYWtlIHN1cmUgaXQgaXMgbm90IGFuIGVtcHR5IHN0cmluZy4gQnJvd3NlcnMgd2lsbFxuICAgIC8vIHNvbWV0aW1lcyByZXdyaXRlIHZhbHVlcywgYnV0IHN0aWxsIGFjY2VwdCB0aGVtLiBUaGV5IHdpbGwgc2V0IHRoZSB2YWx1ZVxuICAgIC8vIHRvIGFuIGVtcHR5IHN0cmluZyBpZiBub3Qgc3VwcG9ydGVkLlxuICAgIC8vIEUuZy4gZm9yIGJvcmRlciwgXCJzb2xpZCAxcHggYmxhY2tcIiBiZWNvbWVzIFwiMXB4IHNvbGlkIGJsYWNrXCJcbiAgICAvLyAgICAgIGJ1dCBcImZvb2JhclwiIGJlY29tZXMgXCJcIiwgc2luY2UgaXQgaXMgbm90IHN1cHBvcnRlZC5cbiAgICByZXR1cm4gISFkb21TdHlsZVtwcm9wZXJ0eV07XG4gIH0pO1xuXG4gIGlmICh3b3JraW5nVmFsdWUpIHtcbiAgICBwcmVmaXhlZFZhbHVlQ2FjaGVbY2FjaGVLZXldID0gd29ya2luZ1ZhbHVlO1xuICB9IGVsc2Uge1xuICAgIC8vIFVuc3VwcG9ydGVkLCBhc3N1bWUgdW5wcmVmaXhlZCB3b3JrcywgYnV0IHdhcm5cbiAgICBwcmVmaXhlZFZhbHVlQ2FjaGVbY2FjaGVLZXldID0gdmFsdWU7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgICAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSB7XG4gICAgICAgIHZhciBjb21wb25lbnRDb250ZXh0ID0gY29tcG9uZW50ID8gJyBpbiBjb21wb25lbnQgXCInICsgY29tcG9uZW50LmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lICsgJ1wiJyA6ICcnO1xuXG4gICAgICAgIGNvbnNvbGUud2FybignVW5zdXBwb3J0ZWQgQ1NTIHZhbHVlIFwiJyArIHZhbHVlICsgJ1wiIGZvciBwcm9wZXJ0eSBcIicgKyBwcm9wZXJ0eSArICckXCInICsgY29tcG9uZW50Q29udGV4dCk7XG4gICAgICB9XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcHJlZml4ZWRWYWx1ZUNhY2hlW2NhY2hlS2V5XTtcbn07XG5cbi8vIFJldHVybnMgYSBuZXcgc3R5bGUgb2JqZWN0IHdpdGggdmVuZG9yIHByZWZpeGVzIGFkZGVkIHRvIHByb3BlcnR5IG5hbWVzXG4vLyBhbmQgdmFsdWVzLlxudmFyIGdldFByZWZpeGVkU3R5bGUgPSBmdW5jdGlvbiBnZXRQcmVmaXhlZFN0eWxlKGNvbXBvbmVudCwgLy8gUmVhY3RDb21wb25lbnRcbnN0eWxlKSB7XG4gIHZhciBtb2RlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gJ2pzJyA6IGFyZ3VtZW50c1syXTtcblxuICBpZiAoIUV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhzdHlsZSkucmVkdWNlKGZ1bmN0aW9uIChuZXdTdHlsZSwga2V5KSB7XG4gICAgICB2YXIgdmFsdWUgPSBzdHlsZVtrZXldO1xuICAgICAgdmFyIG5ld0tleSA9IG1vZGUgPT09ICdjc3MnID8gX2NhbWVsQ2FzZVRvRGFzaENhc2Uoa2V5KSA6IGtleTtcbiAgICAgIHZhciBuZXdWYWx1ZSA9IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWVbMF0gOiB2YWx1ZTtcbiAgICAgIG5ld1N0eWxlW25ld0tleV0gPSBuZXdWYWx1ZTtcbiAgICAgIHJldHVybiBuZXdTdHlsZTtcbiAgICB9LCB7fSk7XG4gIH1cblxuICB2YXIgcHJlZml4ZWRTdHlsZSA9IHt9O1xuICBPYmplY3Qua2V5cyhzdHlsZSkuZm9yRWFjaChmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICB2YXIgdmFsdWUgPSBzdHlsZVtwcm9wZXJ0eV07XG5cbiAgICB2YXIgbmV3UHJvcGVydHkgPSBnZXRQcmVmaXhlZFByb3BlcnR5TmFtZShwcm9wZXJ0eSk7XG4gICAgaWYgKG5ld1Byb3BlcnR5ID09PSBmYWxzZSkge1xuICAgICAgLy8gSWdub3JlIHVuc3VwcG9ydGVkIHByb3BlcnRpZXNcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSB7XG4gICAgICAgICAgdmFyIGNvbXBvbmVudENvbnRleHQgPSBjb21wb25lbnQgPyAnIGluIGNvbXBvbmVudCBcIicgKyBjb21wb25lbnQuY29uc3RydWN0b3IuZGlzcGxheU5hbWUgKyAnXCInIDogJyc7XG5cbiAgICAgICAgICBjb25zb2xlLndhcm4oJ1Vuc3VwcG9ydGVkIENTUyBwcm9wZXJ0eSBcIicgKyBwcm9wZXJ0eSArICckXCInICsgY29tcG9uZW50Q29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbmV3VmFsdWUgPSBfZ2V0UHJlZml4ZWRWYWx1ZShjb21wb25lbnQsIG5ld1Byb3BlcnR5LmpzLCB2YWx1ZSwgcHJvcGVydHkpO1xuXG4gICAgcHJlZml4ZWRTdHlsZVtuZXdQcm9wZXJ0eVttb2RlXV0gPSBuZXdWYWx1ZTtcbiAgfSk7XG4gIHJldHVybiBwcmVmaXhlZFN0eWxlO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdldFByZWZpeGVkUHJvcGVydHlOYW1lOiBnZXRQcmVmaXhlZFByb3BlcnR5TmFtZSxcbiAgZ2V0UHJlZml4ZWRTdHlsZTogZ2V0UHJlZml4ZWRTdHlsZSxcbiAgY3NzUHJlZml4OiBwcmVmaXhJbmZvLmNzc1ByZWZpeCxcbiAganNQcmVmaXg6IHByZWZpeEluZm8uanNQcmVmaXhcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBhbGxQcmludFN0eWxlcyA9IHt9O1xudmFyIGxpc3RlbmVycyA9IFtdO1xuXG52YXIgc3Vic2NyaWJlID0gZnVuY3Rpb24gc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gIGlmIChsaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPT09IC0xKSB7XG4gICAgbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHZhciBsaXN0ZW5lckluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuXG4gICAgICBpZiAobGlzdGVuZXJJbmRleCA+IC0xKSB7XG4gICAgICAgIGxpc3RlbmVycy5zcGxpY2UobGlzdGVuZXJJbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcblxudmFyIF9lbWl0Q2hhbmdlID0gZnVuY3Rpb24gX2VtaXRDaGFuZ2UoKSB7XG4gIGxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgIHJldHVybiBsaXN0ZW5lcigpO1xuICB9KTtcbn07XG5cbnZhciBfYXBwZW5kSW1wb3J0YW50VG9FYWNoVmFsdWUgPSBmdW5jdGlvbiBfYXBwZW5kSW1wb3J0YW50VG9FYWNoVmFsdWUoc3R5bGVPYmopIHtcbiAgdmFyIGltcG9ydGFudFN0eWxlT2JqID0ge307XG5cbiAgT2JqZWN0LmtleXMoc3R5bGVPYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciB2YWx1ZSA9IHN0eWxlT2JqW2tleV07XG5cbiAgICAvLyBUaGlzIGJyZWFrcyB1bml0bGVzcyB2YWx1ZXMgYnV0IHRoZXknbGwgYmUgZGVwcmVjYXRlZCBzb29uIGFueXdheVxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTg3M1xuICAgIHZhbHVlID0gdmFsdWUgKyBcIiAhaW1wb3J0YW50XCI7XG4gICAgaW1wb3J0YW50U3R5bGVPYmpba2V5XSA9IHZhbHVlO1xuICB9KTtcblxuICByZXR1cm4gaW1wb3J0YW50U3R5bGVPYmo7XG59O1xuXG52YXIgYWRkUHJpbnRTdHlsZXMgPSBmdW5jdGlvbiBhZGRQcmludFN0eWxlcyhDb21wb25lbnQpIHtcbiAgaWYgKCFDb21wb25lbnQucHJpbnRTdHlsZXMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgcHJpbnRTdHlsZUNsYXNzID0ge307XG5cbiAgT2JqZWN0LmtleXMoQ29tcG9uZW50LnByaW50U3R5bGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgc3R5bGVzID0gQ29tcG9uZW50LnByaW50U3R5bGVzW2tleV07XG4gICAgdmFyIGNsYXNzTmFtZSA9IFwiUmFkaXVtLVwiICsgQ29tcG9uZW50LmRpc3BsYXlOYW1lICsgXCItXCIgKyBrZXk7XG4gICAgYWxsUHJpbnRTdHlsZXNbXCIuXCIgKyBjbGFzc05hbWVdID0gX2FwcGVuZEltcG9ydGFudFRvRWFjaFZhbHVlKHN0eWxlcyk7XG4gICAgcHJpbnRTdHlsZUNsYXNzW2tleV0gPSBjbGFzc05hbWU7XG4gIH0pO1xuXG4gIC8vIEFsbG93cyBmb3IgbGF6eSBsb2FkaW5nIG9mIEpTIHRoYXQgdGhlbiBjYWxscyBSYWRpdW0gdG8gdXBkYXRlIHRoZVxuICAvLyBwcmludCBzdHlsZXNcbiAgX2VtaXRDaGFuZ2UoKTtcbiAgcmV0dXJuIHByaW50U3R5bGVDbGFzcztcbn07XG5cbnZhciBnZXRQcmludFN0eWxlcyA9IGZ1bmN0aW9uIGdldFByaW50U3R5bGVzKCkge1xuICByZXR1cm4gYWxsUHJpbnRTdHlsZXM7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYWRkUHJpbnRTdHlsZXM6IGFkZFByaW50U3R5bGVzLFxuICBnZXRQcmludFN0eWxlczogZ2V0UHJpbnRTdHlsZXMsXG4gIHN1YnNjcmliZTogc3Vic2NyaWJlXG59OyIsIid1c2Ugc3RyaWN0JztcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIE1vdXNlVXBMaXN0ZW5lciA9IHJlcXVpcmUoJy4vbW91c2UtdXAtbGlzdGVuZXInKTtcbnZhciBnZXRTdGF0ZSA9IHJlcXVpcmUoJy4vZ2V0LXN0YXRlJyk7XG52YXIgZ2V0U3RhdGVLZXkgPSByZXF1aXJlKCcuL2dldC1zdGF0ZS1rZXknKTtcbnZhciBQcmVmaXhlciA9IHJlcXVpcmUoJy4vcHJlZml4ZXInKTtcbnZhciBDb25maWcgPSByZXF1aXJlKCcuL2NvbmZpZycpO1xuXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCdleGVudicpO1xudmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCk7XG5cbi8vIGJhYmVsLWVzbGludCAzLjEuNyBmYWlscyBoZXJlIGZvciBzb21lIHJlYXNvbiwgZXJyb3I6XG4vLyAgIDA6MCAgZXJyb3IgIENhbm5vdCBjYWxsIG1ldGhvZCAnaXNTZXF1ZW5jZUV4cHJlc3Npb24nIG9mIHVuZGVmaW5lZFxuLy9cbi8vIGRlY2xhcmUgY2xhc3MgUmFkaXVtQ29tcG9uZW50IGV4dGVuZHMgUmVhY3RDb21wb25lbnQge1xuLy8gICBfbGFzdE1vdXNlRG93bjogbnVtYmVyLFxuLy8gICBfcmFkaXVtTWVkaWFRdWVyeUxpc3RlbmVyc0J5UXVlcnk6IE9iamVjdDxzdHJpbmcsIHtyZW1vdmU6ICgpID0+IHZvaWR9Pixcbi8vICAgX3JhZGl1bU1vdXNlVXBMaXN0ZW5lcjoge3JlbW92ZTogKCkgPT4gdm9pZH0sXG4vLyB9XG5cbnZhciBtZWRpYVF1ZXJ5TGlzdEJ5UXVlcnlTdHJpbmcgPSB7fTtcblxudmFyIF9pc1NwZWNpYWxLZXkgPSBmdW5jdGlvbiBfaXNTcGVjaWFsS2V5KGtleSkge1xuICByZXR1cm4ga2V5WzBdID09PSAnOicgfHwga2V5WzBdID09PSAnQCc7XG59O1xuXG52YXIgX2dldFN0eWxlU3RhdGUgPSBmdW5jdGlvbiBfZ2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIGdldFN0YXRlKGNvbXBvbmVudC5zdGF0ZSwga2V5LCB2YWx1ZSk7XG59O1xuXG52YXIgX3NldFN0eWxlU3RhdGUgPSBmdW5jdGlvbiBfc2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgbmV3U3RhdGUpIHtcbiAgdmFyIGV4aXN0aW5nID0gY29tcG9uZW50Ll9sYXN0UmFkaXVtU3RhdGUgfHwgY29tcG9uZW50LnN0YXRlICYmIGNvbXBvbmVudC5zdGF0ZS5fcmFkaXVtU3R5bGVTdGF0ZSB8fCB7fTtcblxuICB2YXIgc3RhdGUgPSB7IF9yYWRpdW1TdHlsZVN0YXRlOiBfZXh0ZW5kcyh7fSwgZXhpc3RpbmcpIH07XG4gIHN0YXRlLl9yYWRpdW1TdHlsZVN0YXRlW2tleV0gPSBfZXh0ZW5kcyh7fSwgc3RhdGUuX3JhZGl1bVN0eWxlU3RhdGVba2V5XSwgbmV3U3RhdGUpO1xuXG4gIGNvbXBvbmVudC5fbGFzdFJhZGl1bVN0YXRlID0gc3RhdGUuX3JhZGl1bVN0eWxlU3RhdGU7XG4gIGNvbXBvbmVudC5zZXRTdGF0ZShzdGF0ZSk7XG59O1xuXG4vLyBNZXJnZSBzdHlsZSBvYmplY3RzLiBTcGVjaWFsIGNhc2luZyBmb3IgcHJvcHMgc3RhcnRpbmcgd2l0aCAnOyc7IHRoZSB2YWx1ZXNcbi8vIHNob3VsZCBiZSBvYmplY3RzLCBhbmQgYXJlIG1lcmdlZCB3aXRoIG90aGVycyBvZiB0aGUgc2FtZSBuYW1lIChpbnN0ZWFkIG9mXG4vLyBvdmVyd3JpdGluZykuXG52YXIgX21lcmdlU3R5bGVzID0gZnVuY3Rpb24gX21lcmdlU3R5bGVzKHN0eWxlcykge1xuICB2YXIgcmVzdWx0ID0ge307XG5cbiAgc3R5bGVzLmZvckVhY2goZnVuY3Rpb24gKHN0eWxlKSB7XG4gICAgaWYgKCFzdHlsZSB8fCB0eXBlb2Ygc3R5bGUgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkoc3R5bGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgT2JqZWN0LmtleXMoc3R5bGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKF9pc1NwZWNpYWxLZXkoa2V5KSAmJiByZXN1bHRba2V5XSkge1xuICAgICAgICByZXN1bHRba2V5XSA9IF9tZXJnZVN0eWxlcyhbcmVzdWx0W2tleV0sIHN0eWxlW2tleV1dKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gc3R5bGVba2V5XTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbnZhciBfbW91c2VVcCA9IGZ1bmN0aW9uIF9tb3VzZVVwKGNvbXBvbmVudCkge1xuICBPYmplY3Qua2V5cyhjb21wb25lbnQuc3RhdGUuX3JhZGl1bVN0eWxlU3RhdGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmIChfZ2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgJzphY3RpdmUnKSkge1xuICAgICAgX3NldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksIHsgJzphY3RpdmUnOiBmYWxzZSB9KTtcbiAgICB9XG4gIH0pO1xufTtcblxudmFyIF9vbk1lZGlhUXVlcnlDaGFuZ2UgPSBmdW5jdGlvbiBfb25NZWRpYVF1ZXJ5Q2hhbmdlKGNvbXBvbmVudCwgcXVlcnksIG1lZGlhUXVlcnlMaXN0KSB7XG4gIHZhciBzdGF0ZSA9IHt9O1xuICBzdGF0ZVtxdWVyeV0gPSBtZWRpYVF1ZXJ5TGlzdC5tYXRjaGVzO1xuICBfc2V0U3R5bGVTdGF0ZShjb21wb25lbnQsICdfYWxsJywgc3RhdGUpO1xufTtcblxudmFyIF9yZXNvbHZlTWVkaWFRdWVyeVN0eWxlcyA9IGZ1bmN0aW9uIF9yZXNvbHZlTWVkaWFRdWVyeVN0eWxlcyhjb21wb25lbnQsIHN0eWxlKSB7XG4gIGlmICghQ29uZmlnLmNhbk1hdGNoTWVkaWEoKSkge1xuICAgIHJldHVybiBzdHlsZTtcbiAgfVxuXG4gIE9iamVjdC5rZXlzKHN0eWxlKS5maWx0ZXIoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gbmFtZVswXSA9PT0gJ0AnO1xuICB9KS5tYXAoZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgdmFyIG1lZGlhUXVlcnlTdHlsZXMgPSBzdHlsZVtxdWVyeV07XG4gICAgcXVlcnkgPSBxdWVyeS5yZXBsYWNlKCdAbWVkaWEgJywgJycpO1xuXG4gICAgLy8gQ3JlYXRlIGEgZ2xvYmFsIE1lZGlhUXVlcnlMaXN0IGlmIG9uZSBkb2Vzbid0IGFscmVhZHkgZXhpc3RcbiAgICB2YXIgbXFsID0gbWVkaWFRdWVyeUxpc3RCeVF1ZXJ5U3RyaW5nW3F1ZXJ5XTtcbiAgICBpZiAoIW1xbCkge1xuICAgICAgbWVkaWFRdWVyeUxpc3RCeVF1ZXJ5U3RyaW5nW3F1ZXJ5XSA9IG1xbCA9IENvbmZpZy5tYXRjaE1lZGlhKHF1ZXJ5KTtcbiAgICB9XG5cbiAgICAvLyBLZWVwIHRyYWNrIG9mIHdoaWNoIGtleXMgYWxyZWFkeSBoYXZlIGxpc3RlbmVyc1xuICAgIGlmICghY29tcG9uZW50Ll9yYWRpdW1NZWRpYVF1ZXJ5TGlzdGVuZXJzQnlRdWVyeSkge1xuICAgICAgY29tcG9uZW50Ll9yYWRpdW1NZWRpYVF1ZXJ5TGlzdGVuZXJzQnlRdWVyeSA9IHt9O1xuICAgIH1cblxuICAgIGlmICghY29tcG9uZW50Ll9yYWRpdW1NZWRpYVF1ZXJ5TGlzdGVuZXJzQnlRdWVyeVtxdWVyeV0pIHtcbiAgICAgIHZhciBsaXN0ZW5lciA9IF9vbk1lZGlhUXVlcnlDaGFuZ2UuYmluZChudWxsLCBjb21wb25lbnQsIHF1ZXJ5KTtcbiAgICAgIG1xbC5hZGRMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICBjb21wb25lbnQuX3JhZGl1bU1lZGlhUXVlcnlMaXN0ZW5lcnNCeVF1ZXJ5W3F1ZXJ5XSA9IHtcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICAgICAgbXFsLnJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBBcHBseSBtZWRpYSBxdWVyeSBzdGF0ZXNcbiAgICBpZiAobXFsLm1hdGNoZXMpIHtcbiAgICAgIHN0eWxlID0gX21lcmdlU3R5bGVzKFtzdHlsZSwgbWVkaWFRdWVyeVN0eWxlc10pO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHN0eWxlO1xufTtcblxuLy8gV3JhcHBlciBhcm91bmQgUmVhY3QuY2xvbmVFbGVtZW50LiBUbyBhdm9pZCBwcm9jZXNzaW5nIHRoZSBzYW1lIGVsZW1lbnRcbi8vIHR3aWNlLCB3aGVuZXZlciB3ZSBjbG9uZSBhbiBlbGVtZW50IGFkZCBhIHNwZWNpYWwgbm9uLWVudW1lcmFibGUgcHJvcCB0b1xuLy8gbWFrZSBzdXJlIHdlIGRvbid0IHByb2Nlc3MgdGhpcyBlbGVtZW50IGFnYWluLlxudmFyIF9jbG9uZUVsZW1lbnQgPSBmdW5jdGlvbiBfY2xvbmVFbGVtZW50KHJlbmRlcmVkRWxlbWVudCwgbmV3UHJvcHMsIG5ld0NoaWxkcmVuKSB7XG4gIC8vIE9ubHkgYWRkIGZsYWcgaWYgdGhpcyBpcyBhIG5vcm1hbCBET00gZWxlbWVudFxuICBpZiAodHlwZW9mIHJlbmRlcmVkRWxlbWVudC50eXBlID09PSAnc3RyaW5nJykge1xuICAgIG5ld1Byb3BzID0gX2V4dGVuZHMoe30sIG5ld1Byb3BzLCB7IF9yYWRpdW1EaWRSZXNvbHZlU3R5bGVzOiB0cnVlIH0pO1xuICB9XG5cbiAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChyZW5kZXJlZEVsZW1lbnQsIG5ld1Byb3BzLCBuZXdDaGlsZHJlbik7XG59O1xuXG4vL1xuLy8gVGhlIG51Y2xldXMgb2YgUmFkaXVtLiByZXNvbHZlU3R5bGVzIGlzIGNhbGxlZCBvbiB0aGUgcmVuZGVyZWQgZWxlbWVudHNcbi8vIGJlZm9yZSB0aGV5IGFyZSByZXR1cm5lZCBpbiByZW5kZXIuIEl0IGl0ZXJhdGVzIG92ZXIgdGhlIGVsZW1lbnRzIGFuZFxuLy8gY2hpbGRyZW4sIHJld3JpdGluZyBwcm9wcyB0byBhZGQgZXZlbnQgaGFuZGxlcnMgcmVxdWlyZWQgdG8gY2FwdHVyZSB1c2VyXG4vLyBpbnRlcmFjdGlvbnMgKGUuZy4gbW91c2Ugb3ZlcikuIEl0IGFsc28gcmVwbGFjZXMgdGhlIHN0eWxlIHByb3AgYmVjYXVzZSBpdFxuLy8gYWRkcyBpbiB0aGUgdmFyaW91cyBpbnRlcmFjdGlvbiBzdHlsZXMgKGUuZy4gOmhvdmVyKS5cbi8vXG52YXIgcmVzb2x2ZVN0eWxlcyA9IGZ1bmN0aW9uIHJlc29sdmVTdHlsZXMoY29tcG9uZW50LCAvLyBSZWFjdENvbXBvbmVudCwgZmxvdytlc2xpbnQgY29tcGxhaW5pbmdcbnJlbmRlcmVkRWxlbWVudCwgLy8gUmVhY3RFbGVtZW50XG5leGlzdGluZ0tleU1hcCkge1xuICAvLyBSZWFjdEVsZW1lbnRcbiAgZXhpc3RpbmdLZXlNYXAgPSBleGlzdGluZ0tleU1hcCB8fCB7fTtcblxuICBpZiAoIXJlbmRlcmVkRWxlbWVudCB8fFxuICAvLyBCYWlsIGlmIHdlJ3ZlIGFscmVhZHkgcHJvY2Vzc2VkIHRoaXMgZWxlbWVudC4gVGhpcyBlbnN1cmVzIHRoYXQgb25seSB0aGVcbiAgLy8gb3duZXIgb2YgYW4gZWxlbWVudCBwcm9jZXNzZXMgdGhhdCBlbGVtZW50LCBzaW5jZSB0aGUgb3duZXIncyByZW5kZXJcbiAgLy8gZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgZmlyc3QgKHdoaWNoIHdpbGwgYWx3YXlzIGJlIHRoZSBjYXNlLCBzaW5jZSB5b3VcbiAgLy8gY2FuJ3Qga25vdyB3aGF0IGVsc2UgdG8gcmVuZGVyIHVudGlsIHlvdSByZW5kZXIgdGhlIHBhcmVudCBjb21wb25lbnQpLlxuICByZW5kZXJlZEVsZW1lbnQucHJvcHMgJiYgcmVuZGVyZWRFbGVtZW50LnByb3BzLl9yYWRpdW1EaWRSZXNvbHZlU3R5bGVzKSB7XG4gICAgcmV0dXJuIHJlbmRlcmVkRWxlbWVudDtcbiAgfVxuXG4gIC8vIFJlY3Vyc2Ugb3ZlciBjaGlsZHJlbiBmaXJzdCBpbiBjYXNlIHdlIGJhaWwgZWFybHkuIE5vdGUgdGhhdCBjaGlsZHJlbiBvbmx5XG4gIC8vIGluY2x1ZGUgdGhvc2UgcmVuZGVyZWQgaW4gYHRoaXNgIGNvbXBvbmVudC4gQ2hpbGQgbm9kZXMgaW4gb3RoZXIgY29tcG9uZW50c1xuICAvLyB3aWxsIG5vdCBiZSBoZXJlLCBzbyBlYWNoIGNvbXBvbmVudCBuZWVkcyB0byB1c2UgUmFkaXVtLlxuICB2YXIgb2xkQ2hpbGRyZW4gPSByZW5kZXJlZEVsZW1lbnQucHJvcHMuY2hpbGRyZW47XG4gIHZhciBuZXdDaGlsZHJlbiA9IG9sZENoaWxkcmVuO1xuICBpZiAob2xkQ2hpbGRyZW4pIHtcbiAgICB2YXIgY2hpbGRyZW5UeXBlID0gdHlwZW9mIG9sZENoaWxkcmVuO1xuICAgIGlmIChjaGlsZHJlblR5cGUgPT09ICdzdHJpbmcnIHx8IGNoaWxkcmVuVHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIC8vIERvbid0IGRvIGFueXRoaW5nIHdpdGggYSBzaW5nbGUgcHJpbWl0aXZlIGNoaWxkXG4gICAgICBuZXdDaGlsZHJlbiA9IG9sZENoaWxkcmVuO1xuICAgIH0gZWxzZSBpZiAoY2hpbGRyZW5UeXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBXcmFwIHRoZSBmdW5jdGlvbiwgcmVzb2x2aW5nIHN0eWxlcyBvbiB0aGUgcmVzdWx0XG4gICAgICBuZXdDaGlsZHJlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG9sZENoaWxkcmVuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGlmIChSZWFjdC5pc1ZhbGlkRWxlbWVudChyZXN1bHQpKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmVTdHlsZXMoY29tcG9uZW50LCByZXN1bHQsIGV4aXN0aW5nS2V5TWFwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKFJlYWN0LkNoaWxkcmVuLmNvdW50KG9sZENoaWxkcmVuKSA9PT0gMSAmJiBvbGRDaGlsZHJlbi50eXBlKSB7XG4gICAgICAvLyBJZiBhIFJlYWN0IEVsZW1lbnQgaXMgYW4gb25seSBjaGlsZCwgZG9uJ3Qgd3JhcCBpdCBpbiBhbiBhcnJheSBmb3JcbiAgICAgIC8vIFJlYWN0LkNoaWxkcmVuLm1hcCgpIGZvciBSZWFjdC5DaGlsZHJlbi5vbmx5KCkgY29tcGF0aWJpbGl0eS5cbiAgICAgIHZhciBvbmx5Q2hpbGQgPSBSZWFjdC5DaGlsZHJlbi5vbmx5KG9sZENoaWxkcmVuKTtcbiAgICAgIG5ld0NoaWxkcmVuID0gcmVzb2x2ZVN0eWxlcyhjb21wb25lbnQsIG9ubHlDaGlsZCwgZXhpc3RpbmdLZXlNYXApO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdDaGlsZHJlbiA9IFJlYWN0LkNoaWxkcmVuLm1hcChvbGRDaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIGlmIChSZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZCkpIHtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZVN0eWxlcyhjb21wb25lbnQsIGNoaWxkLCBleGlzdGluZ0tleU1hcCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICB2YXIgcHJvcHMgPSByZW5kZXJlZEVsZW1lbnQucHJvcHM7XG4gIHZhciBuZXdQcm9wcyA9IHt9O1xuXG4gIC8vIFJlY3Vyc2Ugb3ZlciBwcm9wcywganVzdCBsaWtlIGNoaWxkcmVuXG4gIE9iamVjdC5rZXlzKHByb3BzKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgLy8gV2UgYWxyZWFkeSByZWN1cnNlIG92ZXIgY2hpbGRyZW4gYWJvdmVcbiAgICBpZiAocHJvcCA9PT0gJ2NoaWxkcmVuJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wXTtcbiAgICBpZiAoUmVhY3QuaXNWYWxpZEVsZW1lbnQocHJvcFZhbHVlKSkge1xuICAgICAgbmV3UHJvcHNbcHJvcF0gPSByZXNvbHZlU3R5bGVzKGNvbXBvbmVudCwgcHJvcFZhbHVlLCBleGlzdGluZ0tleU1hcCk7XG4gICAgfVxuICB9KTtcblxuICB2YXIgaGFzUmVzb2x2ZWRQcm9wcyA9IE9iamVjdC5rZXlzKG5ld1Byb3BzKS5sZW5ndGggPiAwO1xuXG4gIC8vIEJhaWwgZWFybHkgaWYgZWxlbWVudCBpcyBub3QgYSBzaW1wbGUgUmVhY3RET01FbGVtZW50LlxuICBpZiAoIVJlYWN0LmlzVmFsaWRFbGVtZW50KHJlbmRlcmVkRWxlbWVudCkgfHwgdHlwZW9mIHJlbmRlcmVkRWxlbWVudC50eXBlICE9PSAnc3RyaW5nJykge1xuICAgIGlmIChvbGRDaGlsZHJlbiA9PT0gbmV3Q2hpbGRyZW4gJiYgIWhhc1Jlc29sdmVkUHJvcHMpIHtcbiAgICAgIHJldHVybiByZW5kZXJlZEVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9jbG9uZUVsZW1lbnQocmVuZGVyZWRFbGVtZW50LCBoYXNSZXNvbHZlZFByb3BzID8gbmV3UHJvcHMgOiB7fSwgbmV3Q2hpbGRyZW4pO1xuICB9XG5cbiAgdmFyIHN0eWxlID0gcHJvcHMuc3R5bGU7XG5cbiAgLy8gQ29udmVuaWVudCBzeW50YXggZm9yIG11bHRpcGxlIHN0eWxlczogYHN0eWxlPXtbc3R5bGUxLCBzdHlsZTIsIGV0Y119YFxuICAvLyBJZ25vcmVzIG5vbi1vYmplY3RzLCBzbyB5b3UgY2FuIGRvIGB0aGlzLnN0YXRlLmlzQ29vbCAmJiBzdHlsZXMuY29vbGAuXG4gIGlmIChBcnJheS5pc0FycmF5KHN0eWxlKSkge1xuICAgIHN0eWxlID0gX21lcmdlU3R5bGVzKHN0eWxlKTtcbiAgfVxuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgLy8gV2FybiBpZiB5b3UgdXNlIGxvbmdoYW5kIGFuZCBzaG9ydGhhbmQgcHJvcGVydGllcyBpbiB0aGUgc2FtZSBzdHlsZVxuICAgIC8vIG9iamVjdC5cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvU2hvcnRoYW5kX3Byb3BlcnRpZXNcblxuICAgIHZhciBzaG9ydGhhbmRQcm9wZXJ0eUV4cGFuc2lvbnMgPSB7XG4gICAgICAnYmFja2dyb3VuZCc6IFsnYmFja2dyb3VuZEF0dGFjaG1lbnQnLCAnYmFja2dyb3VuZEJsZW5kTW9kZScsICdiYWNrZ3JvdW5kQ2xpcCcsICdiYWNrZ3JvdW5kQ29sb3InLCAnYmFja2dyb3VuZEltYWdlJywgJ2JhY2tncm91bmRPcmlnaW4nLCAnYmFja2dyb3VuZFBvc2l0aW9uJywgJ2JhY2tncm91bmRQb3NpdGlvblgnLCAnYmFja2dyb3VuZFBvc2l0aW9uWScsICdiYWNrZ3JvdW5kUmVwZWF0JywgJ2JhY2tncm91bmRSZXBlYXRYJywgJ2JhY2tncm91bmRSZXBlYXRZJywgJ2JhY2tncm91bmRTaXplJ10sXG4gICAgICAnYm9yZGVyJzogWydib3JkZXJCb3R0b20nLCAnYm9yZGVyQm90dG9tQ29sb3InLCAnYm9yZGVyQm90dG9tU3R5bGUnLCAnYm9yZGVyQm90dG9tV2lkdGgnLCAnYm9yZGVyQ29sb3InLCAnYm9yZGVyTGVmdCcsICdib3JkZXJMZWZ0Q29sb3InLCAnYm9yZGVyTGVmdFN0eWxlJywgJ2JvcmRlckxlZnRXaWR0aCcsICdib3JkZXJSaWdodCcsICdib3JkZXJSaWdodENvbG9yJywgJ2JvcmRlclJpZ2h0U3R5bGUnLCAnYm9yZGVyUmlnaHRXaWR0aCcsICdib3JkZXJTdHlsZScsICdib3JkZXJUb3AnLCAnYm9yZGVyVG9wQ29sb3InLCAnYm9yZGVyVG9wU3R5bGUnLCAnYm9yZGVyVG9wV2lkdGgnLCAnYm9yZGVyV2lkdGgnXSxcbiAgICAgICdib3JkZXJJbWFnZSc6IFsnYm9yZGVySW1hZ2VPdXRzZXQnLCAnYm9yZGVySW1hZ2VSZXBlYXQnLCAnYm9yZGVySW1hZ2VTbGljZScsICdib3JkZXJJbWFnZVNvdXJjZScsICdib3JkZXJJbWFnZVdpZHRoJ10sXG4gICAgICAnYm9yZGVyUmFkaXVzJzogWydib3JkZXJCb3R0b21MZWZ0UmFkaXVzJywgJ2JvcmRlckJvdHRvbVJpZ2h0UmFkaXVzJywgJ2JvcmRlclRvcExlZnRSYWRpdXMnLCAnYm9yZGVyVG9wUmlnaHRSYWRpdXMnXSxcbiAgICAgICdmb250JzogWydmb250RmFtaWx5JywgJ2ZvbnRLZXJuaW5nJywgJ2ZvbnRTaXplJywgJ2ZvbnRTdHJldGNoJywgJ2ZvbnRTdHlsZScsICdmb250VmFyaWFudCcsICdmb250VmFyaWFudExpZ2F0dXJlcycsICdmb250V2VpZ2h0JywgJ2xpbmVIZWlnaHQnXSxcbiAgICAgICdsaXN0U3R5bGUnOiBbJ2xpc3RTdHlsZUltYWdlJywgJ2xpc3RTdHlsZVBvc2l0aW9uJywgJ2xpc3RTdHlsZVR5cGUnXSxcbiAgICAgICdtYXJnaW4nOiBbJ21hcmdpbkJvdHRvbScsICdtYXJnaW5MZWZ0JywgJ21hcmdpblJpZ2h0JywgJ21hcmdpblRvcCddLFxuICAgICAgJ3BhZGRpbmcnOiBbJ3BhZGRpbmdCb3R0b20nLCAncGFkZGluZ0xlZnQnLCAncGFkZGluZ1JpZ2h0JywgJ3BhZGRpbmdUb3AnXSxcbiAgICAgICd0cmFuc2l0aW9uJzogWyd0cmFuc2l0aW9uRGVsYXknLCAndHJhbnNpdGlvbkR1cmF0aW9uJywgJ3RyYW5zaXRpb25Qcm9wZXJ0eScsICd0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24nXVxuICAgIH07XG5cbiAgICB2YXIgY2hlY2tQcm9wcyA9IGZ1bmN0aW9uIGNoZWNrUHJvcHMocykge1xuICAgICAgaWYgKHR5cGVvZiBzICE9PSAnb2JqZWN0JyB8fCAhcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBzdHlsZUtleXMgPSBPYmplY3Qua2V5cyhzKTtcbiAgICAgIHN0eWxlS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChzdHlsZUtleSkge1xuICAgICAgICBpZiAoc2hvcnRoYW5kUHJvcGVydHlFeHBhbnNpb25zW3N0eWxlS2V5XSAmJiBzaG9ydGhhbmRQcm9wZXJ0eUV4cGFuc2lvbnNbc3R5bGVLZXldLnNvbWUoZnVuY3Rpb24gKHNwKSB7XG4gICAgICAgICAgcmV0dXJuIHN0eWxlS2V5cy5pbmRleE9mKHNwKSAhPT0gLTE7XG4gICAgICAgIH0pKSB7XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICAgIGNvbnNvbGUud2FybignUmFkaXVtOiBwcm9wZXJ0eSBcIicgKyBzdHlsZUtleSArICdcIiBpbiBzdHlsZSBvYmplY3QnLCBzdHlsZSwgJzogZG8gbm90IG1peCBsb25naGFuZCBhbmQgJyArICdzaG9ydGhhbmQgcHJvcGVydGllcyBpbiB0aGUgc2FtZSBzdHlsZSBvYmplY3QuIENoZWNrIHRoZSByZW5kZXIgJyArICdtZXRob2Qgb2YgJyArIGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSArICcuJywgJ1NlZSBodHRwczovL2dpdGh1Yi5jb20vRm9ybWlkYWJsZUxhYnMvcmFkaXVtL2lzc3Vlcy85NSBmb3IgbW9yZSAnICsgJ2luZm9ybWF0aW9uLicpO1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc3R5bGVLZXlzLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgICAgcmV0dXJuIGNoZWNrUHJvcHMoc1trXSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNoZWNrUHJvcHMoc3R5bGUpO1xuICB9XG5cbiAgLy8gQmFpbCBlYXJseSBpZiBubyBpbnRlcmFjdGl2ZSBzdHlsZXMuXG4gIGlmICghc3R5bGUgfHwgIU9iamVjdC5rZXlzKHN0eWxlKS5zb21lKF9pc1NwZWNpYWxLZXkpKSB7XG4gICAgaWYgKHN0eWxlKSB7XG4gICAgICAvLyBTdGlsbCBwZXJmb3JtIHZlbmRvciBwcmVmaXhpbmcsIHRob3VnaC5cbiAgICAgIG5ld1Byb3BzLnN0eWxlID0gUHJlZml4ZXIuZ2V0UHJlZml4ZWRTdHlsZShjb21wb25lbnQsIHN0eWxlKTtcbiAgICAgIHJldHVybiBfY2xvbmVFbGVtZW50KHJlbmRlcmVkRWxlbWVudCwgbmV3UHJvcHMsIG5ld0NoaWxkcmVuKTtcbiAgICB9IGVsc2UgaWYgKG5ld0NoaWxkcmVuIHx8IGhhc1Jlc29sdmVkUHJvcHMpIHtcbiAgICAgIHJldHVybiBfY2xvbmVFbGVtZW50KHJlbmRlcmVkRWxlbWVudCwgbmV3UHJvcHMsIG5ld0NoaWxkcmVuKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVuZGVyZWRFbGVtZW50O1xuICB9XG5cbiAgLy8gV2UgbmVlZCBhIHVuaXF1ZSBrZXkgdG8gY29ycmVsYXRlIHN0YXRlIGNoYW5nZXMgZHVlIHRvIHVzZXIgaW50ZXJhY3Rpb25cbiAgLy8gd2l0aCB0aGUgcmVuZGVyZWQgZWxlbWVudCwgc28gd2Uga25vdyB0byBhcHBseSB0aGUgcHJvcGVyIGludGVyYWN0aXZlXG4gIC8vIHN0eWxlcy5cbiAgdmFyIG9yaWdpbmFsS2V5ID0gcmVuZGVyZWRFbGVtZW50LnJlZiB8fCByZW5kZXJlZEVsZW1lbnQua2V5O1xuICB2YXIga2V5ID0gZ2V0U3RhdGVLZXkob3JpZ2luYWxLZXkpO1xuXG4gIGlmIChleGlzdGluZ0tleU1hcFtrZXldKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdSYWRpdW0gcmVxdWlyZXMgZWFjaCBlbGVtZW50IHdpdGggaW50ZXJhY3RpdmUgc3R5bGVzIHRvIGhhdmUgYSB1bmlxdWUgJyArICdrZXksIHNldCB1c2luZyBlaXRoZXIgdGhlIHJlZiBvciBrZXkgcHJvcC4gJyArIChvcmlnaW5hbEtleSA/ICdLZXkgXCInICsgb3JpZ2luYWxLZXkgKyAnXCIgaXMgYSBkdXBsaWNhdGUuJyA6ICdNdWx0aXBsZSBlbGVtZW50cyBoYXZlIG5vIGtleSBzcGVjaWZpZWQuJykpO1xuICB9XG5cbiAgZXhpc3RpbmdLZXlNYXBba2V5XSA9IHRydWU7XG5cbiAgLy8gTWVkaWEgcXVlcmllcyBjYW4gY29udGFpbiBwc2V1ZG8gc3R5bGVzLCBsaWtlIDpob3ZlclxuICBzdHlsZSA9IF9yZXNvbHZlTWVkaWFRdWVyeVN0eWxlcyhjb21wb25lbnQsIHN0eWxlKTtcblxuICB2YXIgbmV3U3R5bGUgPSB7fTtcbiAgT2JqZWN0LmtleXMoc3R5bGUpLmZvckVhY2goZnVuY3Rpb24gKHN0eWxlS2V5KSB7XG4gICAgaWYgKCFfaXNTcGVjaWFsS2V5KHN0eWxlS2V5KSkge1xuICAgICAgbmV3U3R5bGVbc3R5bGVLZXldID0gc3R5bGVbc3R5bGVLZXldO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gT25seSBhZGQgaGFuZGxlcnMgaWYgbmVjZXNzYXJ5XG4gIGlmIChzdHlsZVsnOmhvdmVyJ10gfHwgc3R5bGVbJzphY3RpdmUnXSkge1xuICAgIC8vIEFsd2F5cyBjYWxsIHRoZSBleGlzdGluZyBoYW5kbGVyIGlmIG9uZSBpcyBhbHJlYWR5IGRlZmluZWQuXG4gICAgLy8gVGhpcyBjb2RlLCBhbmQgdGhlIHZlcnkgc2ltaWxhciBvbmVzIGJlbG93LCBjb3VsZCBiZSBhYnN0cmFjdGVkIGEgYml0XG4gICAgLy8gbW9yZSwgYnV0IGl0IGh1cnRzIHJlYWRhYmlsaXR5IElNTy5cbiAgICB2YXIgZXhpc3RpbmdPbk1vdXNlRW50ZXIgPSBwcm9wcy5vbk1vdXNlRW50ZXI7XG4gICAgbmV3UHJvcHMub25Nb3VzZUVudGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGV4aXN0aW5nT25Nb3VzZUVudGVyICYmIGV4aXN0aW5nT25Nb3VzZUVudGVyKGUpO1xuICAgICAgX3NldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksIHsgJzpob3Zlcic6IHRydWUgfSk7XG4gICAgfTtcblxuICAgIHZhciBleGlzdGluZ09uTW91c2VMZWF2ZSA9IHByb3BzLm9uTW91c2VMZWF2ZTtcbiAgICBuZXdQcm9wcy5vbk1vdXNlTGVhdmUgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZXhpc3RpbmdPbk1vdXNlTGVhdmUgJiYgZXhpc3RpbmdPbk1vdXNlTGVhdmUoZSk7XG4gICAgICBfc2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgeyAnOmhvdmVyJzogZmFsc2UgfSk7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChzdHlsZVsnOmFjdGl2ZSddKSB7XG4gICAgdmFyIGV4aXN0aW5nT25Nb3VzZURvd24gPSBwcm9wcy5vbk1vdXNlRG93bjtcbiAgICBuZXdQcm9wcy5vbk1vdXNlRG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBleGlzdGluZ09uTW91c2VEb3duICYmIGV4aXN0aW5nT25Nb3VzZURvd24oZSk7XG4gICAgICBjb21wb25lbnQuX2xhc3RNb3VzZURvd24gPSBEYXRlLm5vdygpO1xuICAgICAgX3NldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksIHsgJzphY3RpdmUnOiB0cnVlIH0pO1xuICAgIH07XG4gIH1cblxuICBpZiAoc3R5bGVbJzpmb2N1cyddKSB7XG4gICAgdmFyIGV4aXN0aW5nT25Gb2N1cyA9IHByb3BzLm9uRm9jdXM7XG4gICAgbmV3UHJvcHMub25Gb2N1cyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBleGlzdGluZ09uRm9jdXMgJiYgZXhpc3RpbmdPbkZvY3VzKGUpO1xuICAgICAgX3NldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksIHsgJzpmb2N1cyc6IHRydWUgfSk7XG4gICAgfTtcblxuICAgIHZhciBleGlzdGluZ09uQmx1ciA9IHByb3BzLm9uQmx1cjtcbiAgICBuZXdQcm9wcy5vbkJsdXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZXhpc3RpbmdPbkJsdXIgJiYgZXhpc3RpbmdPbkJsdXIoZSk7XG4gICAgICBfc2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgeyAnOmZvY3VzJzogZmFsc2UgfSk7XG4gICAgfTtcbiAgfVxuXG4gIC8vIE1lcmdlIHRoZSBzdHlsZXMgaW4gdGhlIG9yZGVyIHRoZXkgd2VyZSBkZWZpbmVkXG4gIHZhciBpbnRlcmFjdGlvblN0eWxlcyA9IE9iamVjdC5rZXlzKHN0eWxlKS5maWx0ZXIoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gbmFtZSA9PT0gJzphY3RpdmUnICYmIF9nZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCAnOmFjdGl2ZScpIHx8IG5hbWUgPT09ICc6aG92ZXInICYmIF9nZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCAnOmhvdmVyJykgfHwgbmFtZSA9PT0gJzpmb2N1cycgJiYgX2dldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksICc6Zm9jdXMnKTtcbiAgfSkubWFwKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuIHN0eWxlW25hbWVdO1xuICB9KTtcblxuICBpZiAoaW50ZXJhY3Rpb25TdHlsZXMubGVuZ3RoKSB7XG4gICAgbmV3U3R5bGUgPSBfbWVyZ2VTdHlsZXMoW25ld1N0eWxlXS5jb25jYXQoaW50ZXJhY3Rpb25TdHlsZXMpKTtcbiAgfVxuXG4gIGlmIChzdHlsZVsnOmFjdGl2ZSddICYmICFjb21wb25lbnQuX3JhZGl1bU1vdXNlVXBMaXN0ZW5lciAmJiBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VFdmVudExpc3RlbmVycykge1xuICAgIGNvbXBvbmVudC5fcmFkaXVtTW91c2VVcExpc3RlbmVyID0gTW91c2VVcExpc3RlbmVyLnN1YnNjcmliZShfbW91c2VVcC5iaW5kKG51bGwsIGNvbXBvbmVudCkpO1xuICB9XG5cbiAgbmV3UHJvcHMuc3R5bGUgPSBQcmVmaXhlci5nZXRQcmVmaXhlZFN0eWxlKGNvbXBvbmVudCwgbmV3U3R5bGUpO1xuXG4gIHJldHVybiBfY2xvbmVFbGVtZW50KHJlbmRlcmVkRWxlbWVudCwgbmV3UHJvcHMsIG5ld0NoaWxkcmVuKTtcbn07XG5cbi8vIEV4cG9zaW5nIG1ldGhvZHMgZm9yIHRlc3RzIGlzIHVnbHksIGJ1dCB0aGUgYWx0ZXJuYXRpdmUsIHJlLXJlcXVpcmluZyB0aGVcbi8vIG1vZHVsZSBlYWNoIHRpbWUsIGlzIHRvbyBzbG93XG5yZXNvbHZlU3R5bGVzLl9fY2xlYXJTdGF0ZUZvclRlc3RzID0gZnVuY3Rpb24gKCkge1xuICBtZWRpYVF1ZXJ5TGlzdEJ5UXVlcnlTdHJpbmcgPSB7fTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gcmVzb2x2ZVN0eWxlczsiLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIGZpbmQoYXJyYXksIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICBpZiAodHlwZW9mIEFycmF5LnByb3RvdHlwZS5maW5kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGFycmF5LmZpbmQocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgfVxuXG4gIGNvbnRleHQgPSBjb250ZXh0IHx8IHRoaXM7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHZhciBpO1xuXG4gIGlmICh0eXBlb2YgcHJlZGljYXRlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihwcmVkaWNhdGUgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAocHJlZGljYXRlLmNhbGwoY29udGV4dCwgYXJyYXlbaV0sIGksIGFycmF5KSkge1xuICAgICAgcmV0dXJuIGFycmF5W2ldO1xuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZpbmQ7XG4iLCIvKiFcbiAgQ29weXJpZ2h0IChjKSAyMDE1IEplZCBXYXRzb24uXG4gIEJhc2VkIG9uIGNvZGUgdGhhdCBpcyBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBjYW5Vc2VET00gPSAhIShcblx0XHR0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuXHRcdHdpbmRvdy5kb2N1bWVudCAmJlxuXHRcdHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50XG5cdCk7XG5cblx0dmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0ge1xuXG5cdFx0Y2FuVXNlRE9NOiBjYW5Vc2VET00sXG5cblx0XHRjYW5Vc2VXb3JrZXJzOiB0eXBlb2YgV29ya2VyICE9PSAndW5kZWZpbmVkJyxcblxuXHRcdGNhblVzZUV2ZW50TGlzdGVuZXJzOlxuXHRcdFx0Y2FuVXNlRE9NICYmICEhKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyIHx8IHdpbmRvdy5hdHRhY2hFdmVudCksXG5cblx0XHRjYW5Vc2VWaWV3cG9ydDogY2FuVXNlRE9NICYmICEhd2luZG93LnNjcmVlblxuXG5cdH07XG5cblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcblx0XHRkZWZpbmUoZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIEV4ZWN1dGlvbkVudmlyb25tZW50O1xuXHRcdH0pO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBFeGVjdXRpb25FbnZpcm9ubWVudDtcblx0fSBlbHNlIHtcblx0XHR3aW5kb3cuRXhlY3V0aW9uRW52aXJvbm1lbnQgPSBFeGVjdXRpb25FbnZpcm9ubWVudDtcblx0fVxuXG59KCkpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cbm1vZHVsZS5leHBvcnRzLkRpc3BhdGNoZXIgPSByZXF1aXJlKCcuL2xpYi9EaXNwYXRjaGVyJyk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIERpc3BhdGNoZXJcbiAqIFxuICogQHByZXZlbnRNdW5nZVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcblxudmFyIF9wcmVmaXggPSAnSURfJztcblxuLyoqXG4gKiBEaXNwYXRjaGVyIGlzIHVzZWQgdG8gYnJvYWRjYXN0IHBheWxvYWRzIHRvIHJlZ2lzdGVyZWQgY2FsbGJhY2tzLiBUaGlzIGlzXG4gKiBkaWZmZXJlbnQgZnJvbSBnZW5lcmljIHB1Yi1zdWIgc3lzdGVtcyBpbiB0d28gd2F5czpcbiAqXG4gKiAgIDEpIENhbGxiYWNrcyBhcmUgbm90IHN1YnNjcmliZWQgdG8gcGFydGljdWxhciBldmVudHMuIEV2ZXJ5IHBheWxvYWQgaXNcbiAqICAgICAgZGlzcGF0Y2hlZCB0byBldmVyeSByZWdpc3RlcmVkIGNhbGxiYWNrLlxuICogICAyKSBDYWxsYmFja3MgY2FuIGJlIGRlZmVycmVkIGluIHdob2xlIG9yIHBhcnQgdW50aWwgb3RoZXIgY2FsbGJhY2tzIGhhdmVcbiAqICAgICAgYmVlbiBleGVjdXRlZC5cbiAqXG4gKiBGb3IgZXhhbXBsZSwgY29uc2lkZXIgdGhpcyBoeXBvdGhldGljYWwgZmxpZ2h0IGRlc3RpbmF0aW9uIGZvcm0sIHdoaWNoXG4gKiBzZWxlY3RzIGEgZGVmYXVsdCBjaXR5IHdoZW4gYSBjb3VudHJ5IGlzIHNlbGVjdGVkOlxuICpcbiAqICAgdmFyIGZsaWdodERpc3BhdGNoZXIgPSBuZXcgRGlzcGF0Y2hlcigpO1xuICpcbiAqICAgLy8gS2VlcHMgdHJhY2sgb2Ygd2hpY2ggY291bnRyeSBpcyBzZWxlY3RlZFxuICogICB2YXIgQ291bnRyeVN0b3JlID0ge2NvdW50cnk6IG51bGx9O1xuICpcbiAqICAgLy8gS2VlcHMgdHJhY2sgb2Ygd2hpY2ggY2l0eSBpcyBzZWxlY3RlZFxuICogICB2YXIgQ2l0eVN0b3JlID0ge2NpdHk6IG51bGx9O1xuICpcbiAqICAgLy8gS2VlcHMgdHJhY2sgb2YgdGhlIGJhc2UgZmxpZ2h0IHByaWNlIG9mIHRoZSBzZWxlY3RlZCBjaXR5XG4gKiAgIHZhciBGbGlnaHRQcmljZVN0b3JlID0ge3ByaWNlOiBudWxsfVxuICpcbiAqIFdoZW4gYSB1c2VyIGNoYW5nZXMgdGhlIHNlbGVjdGVkIGNpdHksIHdlIGRpc3BhdGNoIHRoZSBwYXlsb2FkOlxuICpcbiAqICAgZmxpZ2h0RGlzcGF0Y2hlci5kaXNwYXRjaCh7XG4gKiAgICAgYWN0aW9uVHlwZTogJ2NpdHktdXBkYXRlJyxcbiAqICAgICBzZWxlY3RlZENpdHk6ICdwYXJpcydcbiAqICAgfSk7XG4gKlxuICogVGhpcyBwYXlsb2FkIGlzIGRpZ2VzdGVkIGJ5IGBDaXR5U3RvcmVgOlxuICpcbiAqICAgZmxpZ2h0RGlzcGF0Y2hlci5yZWdpc3RlcihmdW5jdGlvbihwYXlsb2FkKSB7XG4gKiAgICAgaWYgKHBheWxvYWQuYWN0aW9uVHlwZSA9PT0gJ2NpdHktdXBkYXRlJykge1xuICogICAgICAgQ2l0eVN0b3JlLmNpdHkgPSBwYXlsb2FkLnNlbGVjdGVkQ2l0eTtcbiAqICAgICB9XG4gKiAgIH0pO1xuICpcbiAqIFdoZW4gdGhlIHVzZXIgc2VsZWN0cyBhIGNvdW50cnksIHdlIGRpc3BhdGNoIHRoZSBwYXlsb2FkOlxuICpcbiAqICAgZmxpZ2h0RGlzcGF0Y2hlci5kaXNwYXRjaCh7XG4gKiAgICAgYWN0aW9uVHlwZTogJ2NvdW50cnktdXBkYXRlJyxcbiAqICAgICBzZWxlY3RlZENvdW50cnk6ICdhdXN0cmFsaWEnXG4gKiAgIH0pO1xuICpcbiAqIFRoaXMgcGF5bG9hZCBpcyBkaWdlc3RlZCBieSBib3RoIHN0b3JlczpcbiAqXG4gKiAgIENvdW50cnlTdG9yZS5kaXNwYXRjaFRva2VuID0gZmxpZ2h0RGlzcGF0Y2hlci5yZWdpc3RlcihmdW5jdGlvbihwYXlsb2FkKSB7XG4gKiAgICAgaWYgKHBheWxvYWQuYWN0aW9uVHlwZSA9PT0gJ2NvdW50cnktdXBkYXRlJykge1xuICogICAgICAgQ291bnRyeVN0b3JlLmNvdW50cnkgPSBwYXlsb2FkLnNlbGVjdGVkQ291bnRyeTtcbiAqICAgICB9XG4gKiAgIH0pO1xuICpcbiAqIFdoZW4gdGhlIGNhbGxiYWNrIHRvIHVwZGF0ZSBgQ291bnRyeVN0b3JlYCBpcyByZWdpc3RlcmVkLCB3ZSBzYXZlIGEgcmVmZXJlbmNlXG4gKiB0byB0aGUgcmV0dXJuZWQgdG9rZW4uIFVzaW5nIHRoaXMgdG9rZW4gd2l0aCBgd2FpdEZvcigpYCwgd2UgY2FuIGd1YXJhbnRlZVxuICogdGhhdCBgQ291bnRyeVN0b3JlYCBpcyB1cGRhdGVkIGJlZm9yZSB0aGUgY2FsbGJhY2sgdGhhdCB1cGRhdGVzIGBDaXR5U3RvcmVgXG4gKiBuZWVkcyB0byBxdWVyeSBpdHMgZGF0YS5cbiAqXG4gKiAgIENpdHlTdG9yZS5kaXNwYXRjaFRva2VuID0gZmxpZ2h0RGlzcGF0Y2hlci5yZWdpc3RlcihmdW5jdGlvbihwYXlsb2FkKSB7XG4gKiAgICAgaWYgKHBheWxvYWQuYWN0aW9uVHlwZSA9PT0gJ2NvdW50cnktdXBkYXRlJykge1xuICogICAgICAgLy8gYENvdW50cnlTdG9yZS5jb3VudHJ5YCBtYXkgbm90IGJlIHVwZGF0ZWQuXG4gKiAgICAgICBmbGlnaHREaXNwYXRjaGVyLndhaXRGb3IoW0NvdW50cnlTdG9yZS5kaXNwYXRjaFRva2VuXSk7XG4gKiAgICAgICAvLyBgQ291bnRyeVN0b3JlLmNvdW50cnlgIGlzIG5vdyBndWFyYW50ZWVkIHRvIGJlIHVwZGF0ZWQuXG4gKlxuICogICAgICAgLy8gU2VsZWN0IHRoZSBkZWZhdWx0IGNpdHkgZm9yIHRoZSBuZXcgY291bnRyeVxuICogICAgICAgQ2l0eVN0b3JlLmNpdHkgPSBnZXREZWZhdWx0Q2l0eUZvckNvdW50cnkoQ291bnRyeVN0b3JlLmNvdW50cnkpO1xuICogICAgIH1cbiAqICAgfSk7XG4gKlxuICogVGhlIHVzYWdlIG9mIGB3YWl0Rm9yKClgIGNhbiBiZSBjaGFpbmVkLCBmb3IgZXhhbXBsZTpcbiAqXG4gKiAgIEZsaWdodFByaWNlU3RvcmUuZGlzcGF0Y2hUb2tlbiA9XG4gKiAgICAgZmxpZ2h0RGlzcGF0Y2hlci5yZWdpc3RlcihmdW5jdGlvbihwYXlsb2FkKSB7XG4gKiAgICAgICBzd2l0Y2ggKHBheWxvYWQuYWN0aW9uVHlwZSkge1xuICogICAgICAgICBjYXNlICdjb3VudHJ5LXVwZGF0ZSc6XG4gKiAgICAgICAgIGNhc2UgJ2NpdHktdXBkYXRlJzpcbiAqICAgICAgICAgICBmbGlnaHREaXNwYXRjaGVyLndhaXRGb3IoW0NpdHlTdG9yZS5kaXNwYXRjaFRva2VuXSk7XG4gKiAgICAgICAgICAgRmxpZ2h0UHJpY2VTdG9yZS5wcmljZSA9XG4gKiAgICAgICAgICAgICBnZXRGbGlnaHRQcmljZVN0b3JlKENvdW50cnlTdG9yZS5jb3VudHJ5LCBDaXR5U3RvcmUuY2l0eSk7XG4gKiAgICAgICAgICAgYnJlYWs7XG4gKiAgICAgfVxuICogICB9KTtcbiAqXG4gKiBUaGUgYGNvdW50cnktdXBkYXRlYCBwYXlsb2FkIHdpbGwgYmUgZ3VhcmFudGVlZCB0byBpbnZva2UgdGhlIHN0b3JlcydcbiAqIHJlZ2lzdGVyZWQgY2FsbGJhY2tzIGluIG9yZGVyOiBgQ291bnRyeVN0b3JlYCwgYENpdHlTdG9yZWAsIHRoZW5cbiAqIGBGbGlnaHRQcmljZVN0b3JlYC5cbiAqL1xuXG52YXIgRGlzcGF0Y2hlciA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIERpc3BhdGNoZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERpc3BhdGNoZXIpO1xuXG4gICAgdGhpcy5fY2FsbGJhY2tzID0ge307XG4gICAgdGhpcy5faXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuICAgIHRoaXMuX2lzSGFuZGxlZCA9IHt9O1xuICAgIHRoaXMuX2lzUGVuZGluZyA9IHt9O1xuICAgIHRoaXMuX2xhc3RJRCA9IDE7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGEgY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aXRoIGV2ZXJ5IGRpc3BhdGNoZWQgcGF5bG9hZC4gUmV0dXJuc1xuICAgKiBhIHRva2VuIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCBgd2FpdEZvcigpYC5cbiAgICovXG5cbiAgRGlzcGF0Y2hlci5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbiByZWdpc3RlcihjYWxsYmFjaykge1xuICAgIHZhciBpZCA9IF9wcmVmaXggKyB0aGlzLl9sYXN0SUQrKztcbiAgICB0aGlzLl9jYWxsYmFja3NbaWRdID0gY2FsbGJhY2s7XG4gICAgcmV0dXJuIGlkO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgY2FsbGJhY2sgYmFzZWQgb24gaXRzIHRva2VuLlxuICAgKi9cblxuICBEaXNwYXRjaGVyLnByb3RvdHlwZS51bnJlZ2lzdGVyID0gZnVuY3Rpb24gdW5yZWdpc3RlcihpZCkge1xuICAgICF0aGlzLl9jYWxsYmFja3NbaWRdID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0Rpc3BhdGNoZXIudW5yZWdpc3RlciguLi4pOiBgJXNgIGRvZXMgbm90IG1hcCB0byBhIHJlZ2lzdGVyZWQgY2FsbGJhY2suJywgaWQpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzW2lkXTtcbiAgfTtcblxuICAvKipcbiAgICogV2FpdHMgZm9yIHRoZSBjYWxsYmFja3Mgc3BlY2lmaWVkIHRvIGJlIGludm9rZWQgYmVmb3JlIGNvbnRpbnVpbmcgZXhlY3V0aW9uXG4gICAqIG9mIHRoZSBjdXJyZW50IGNhbGxiYWNrLiBUaGlzIG1ldGhvZCBzaG91bGQgb25seSBiZSB1c2VkIGJ5IGEgY2FsbGJhY2sgaW5cbiAgICogcmVzcG9uc2UgdG8gYSBkaXNwYXRjaGVkIHBheWxvYWQuXG4gICAqL1xuXG4gIERpc3BhdGNoZXIucHJvdG90eXBlLndhaXRGb3IgPSBmdW5jdGlvbiB3YWl0Rm9yKGlkcykge1xuICAgICF0aGlzLl9pc0Rpc3BhdGNoaW5nID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0Rpc3BhdGNoZXIud2FpdEZvciguLi4pOiBNdXN0IGJlIGludm9rZWQgd2hpbGUgZGlzcGF0Y2hpbmcuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBpZHMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICB2YXIgaWQgPSBpZHNbaWldO1xuICAgICAgaWYgKHRoaXMuX2lzUGVuZGluZ1tpZF0pIHtcbiAgICAgICAgIXRoaXMuX2lzSGFuZGxlZFtpZF0gPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRGlzcGF0Y2hlci53YWl0Rm9yKC4uLik6IENpcmN1bGFyIGRlcGVuZGVuY3kgZGV0ZWN0ZWQgd2hpbGUgJyArICd3YWl0aW5nIGZvciBgJXNgLicsIGlkKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgIXRoaXMuX2NhbGxiYWNrc1tpZF0gPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRGlzcGF0Y2hlci53YWl0Rm9yKC4uLik6IGAlc2AgZG9lcyBub3QgbWFwIHRvIGEgcmVnaXN0ZXJlZCBjYWxsYmFjay4nLCBpZCkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgICAgdGhpcy5faW52b2tlQ2FsbGJhY2soaWQpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogRGlzcGF0Y2hlcyBhIHBheWxvYWQgdG8gYWxsIHJlZ2lzdGVyZWQgY2FsbGJhY2tzLlxuICAgKi9cblxuICBEaXNwYXRjaGVyLnByb3RvdHlwZS5kaXNwYXRjaCA9IGZ1bmN0aW9uIGRpc3BhdGNoKHBheWxvYWQpIHtcbiAgICAhIXRoaXMuX2lzRGlzcGF0Y2hpbmcgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRGlzcGF0Y2guZGlzcGF0Y2goLi4uKTogQ2Fubm90IGRpc3BhdGNoIGluIHRoZSBtaWRkbGUgb2YgYSBkaXNwYXRjaC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgdGhpcy5fc3RhcnREaXNwYXRjaGluZyhwYXlsb2FkKTtcbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy5fY2FsbGJhY2tzKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc1BlbmRpbmdbaWRdKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW52b2tlQ2FsbGJhY2soaWQpO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLl9zdG9wRGlzcGF0Y2hpbmcoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIElzIHRoaXMgRGlzcGF0Y2hlciBjdXJyZW50bHkgZGlzcGF0Y2hpbmcuXG4gICAqL1xuXG4gIERpc3BhdGNoZXIucHJvdG90eXBlLmlzRGlzcGF0Y2hpbmcgPSBmdW5jdGlvbiBpc0Rpc3BhdGNoaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9pc0Rpc3BhdGNoaW5nO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDYWxsIHRoZSBjYWxsYmFjayBzdG9yZWQgd2l0aCB0aGUgZ2l2ZW4gaWQuIEFsc28gZG8gc29tZSBpbnRlcm5hbFxuICAgKiBib29ra2VlcGluZy5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuXG4gIERpc3BhdGNoZXIucHJvdG90eXBlLl9pbnZva2VDYWxsYmFjayA9IGZ1bmN0aW9uIF9pbnZva2VDYWxsYmFjayhpZCkge1xuICAgIHRoaXMuX2lzUGVuZGluZ1tpZF0gPSB0cnVlO1xuICAgIHRoaXMuX2NhbGxiYWNrc1tpZF0odGhpcy5fcGVuZGluZ1BheWxvYWQpO1xuICAgIHRoaXMuX2lzSGFuZGxlZFtpZF0gPSB0cnVlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdXAgYm9va2tlZXBpbmcgbmVlZGVkIHdoZW4gZGlzcGF0Y2hpbmcuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cblxuICBEaXNwYXRjaGVyLnByb3RvdHlwZS5fc3RhcnREaXNwYXRjaGluZyA9IGZ1bmN0aW9uIF9zdGFydERpc3BhdGNoaW5nKHBheWxvYWQpIHtcbiAgICBmb3IgKHZhciBpZCBpbiB0aGlzLl9jYWxsYmFja3MpIHtcbiAgICAgIHRoaXMuX2lzUGVuZGluZ1tpZF0gPSBmYWxzZTtcbiAgICAgIHRoaXMuX2lzSGFuZGxlZFtpZF0gPSBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5fcGVuZGluZ1BheWxvYWQgPSBwYXlsb2FkO1xuICAgIHRoaXMuX2lzRGlzcGF0Y2hpbmcgPSB0cnVlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDbGVhciBib29ra2VlcGluZyB1c2VkIGZvciBkaXNwYXRjaGluZy5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuXG4gIERpc3BhdGNoZXIucHJvdG90eXBlLl9zdG9wRGlzcGF0Y2hpbmcgPSBmdW5jdGlvbiBfc3RvcERpc3BhdGNoaW5nKCkge1xuICAgIGRlbGV0ZSB0aGlzLl9wZW5kaW5nUGF5bG9hZDtcbiAgICB0aGlzLl9pc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG4gIH07XG5cbiAgcmV0dXJuIERpc3BhdGNoZXI7XG59KSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERpc3BhdGNoZXI7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGludmFyaWFudFxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIFVzZSBpbnZhcmlhbnQoKSB0byBhc3NlcnQgc3RhdGUgd2hpY2ggeW91ciBwcm9ncmFtIGFzc3VtZXMgdG8gYmUgdHJ1ZS5cbiAqXG4gKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50c1xuICogdG8gcHJvdmlkZSBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGJyb2tlIGFuZCB3aGF0IHlvdSB3ZXJlXG4gKiBleHBlY3RpbmcuXG4gKlxuICogVGhlIGludmFyaWFudCBtZXNzYWdlIHdpbGwgYmUgc3RyaXBwZWQgaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBpbnZhcmlhbnRcbiAqIHdpbGwgcmVtYWluIHRvIGVuc3VyZSBsb2dpYyBkb2VzIG5vdCBkaWZmZXIgaW4gcHJvZHVjdGlvbi5cbiAqL1xuXG52YXIgaW52YXJpYW50ID0gZnVuY3Rpb24gKGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFjb25kaXRpb24pIHtcbiAgICB2YXIgZXJyb3I7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcignTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcignSW52YXJpYW50IFZpb2xhdGlvbjogJyArIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgfSkpO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7IiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgdGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufVxubW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG5FdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbihuKSB7XG4gIGlmICghaXNOdW1iZXIobikgfHwgbiA8IDAgfHwgaXNOYU4obikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCduIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBlciwgaGFuZGxlciwgbGVuLCBhcmdzLCBpLCBsaXN0ZW5lcnM7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgdGhpcy5fZXZlbnRzID0ge307XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAodHlwZSA9PT0gJ2Vycm9yJykge1xuICAgIGlmICghdGhpcy5fZXZlbnRzLmVycm9yIHx8XG4gICAgICAgIChpc09iamVjdCh0aGlzLl9ldmVudHMuZXJyb3IpICYmICF0aGlzLl9ldmVudHMuZXJyb3IubGVuZ3RoKSkge1xuICAgICAgZXIgPSBhcmd1bWVudHNbMV07XG4gICAgICBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICAgIH1cbiAgICAgIHRocm93IFR5cGVFcnJvcignVW5jYXVnaHQsIHVuc3BlY2lmaWVkIFwiZXJyb3JcIiBldmVudC4nKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChpc1VuZGVmaW5lZChoYW5kbGVyKSlcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcbiAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIC8vIGZhc3QgY2FzZXNcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vIHNsb3dlclxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgYXJncyA9IG5ldyBBcnJheShsZW4gLSAxKTtcbiAgICAgICAgZm9yIChpID0gMTsgaSA8IGxlbjsgaSsrKVxuICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdChoYW5kbGVyKSkge1xuICAgIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgYXJncyA9IG5ldyBBcnJheShsZW4gLSAxKTtcbiAgICBmb3IgKGkgPSAxOyBpIDwgbGVuOyBpKyspXG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcblxuICAgIGxpc3RlbmVycyA9IGhhbmRsZXIuc2xpY2UoKTtcbiAgICBsZW4gPSBsaXN0ZW5lcnMubGVuZ3RoO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKylcbiAgICAgIGxpc3RlbmVyc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBtO1xuXG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gIGlmICh0aGlzLl9ldmVudHMubmV3TGlzdGVuZXIpXG4gICAgdGhpcy5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG4gICAgICAgICAgICAgIGlzRnVuY3Rpb24obGlzdGVuZXIubGlzdGVuZXIpID9cbiAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG4gIGVsc2UgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZVxuICAgIC8vIEFkZGluZyB0aGUgc2Vjb25kIGVsZW1lbnQsIG5lZWQgdG8gY2hhbmdlIHRvIGFycmF5LlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IFt0aGlzLl9ldmVudHNbdHlwZV0sIGxpc3RlbmVyXTtcblxuICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xuICBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSAmJiAhdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCkge1xuICAgIHZhciBtO1xuICAgIGlmICghaXNVbmRlZmluZWQodGhpcy5fbWF4TGlzdGVuZXJzKSkge1xuICAgICAgbSA9IHRoaXMuX21heExpc3RlbmVycztcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzO1xuICAgIH1cblxuICAgIGlmIChtICYmIG0gPiAwICYmIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGggPiBtKSB7XG4gICAgICB0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkID0gdHJ1ZTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJyhub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5ICcgK1xuICAgICAgICAgICAgICAgICAgICAnbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1VzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LicsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGgpO1xuICAgICAgaWYgKHR5cGVvZiBjb25zb2xlLnRyYWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIG5vdCBzdXBwb3J0ZWQgaW4gSUUgMTBcbiAgICAgICAgY29uc29sZS50cmFjZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICB2YXIgZmlyZWQgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBnKCkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgZyk7XG5cbiAgICBpZiAoIWZpcmVkKSB7XG4gICAgICBmaXJlZCA9IHRydWU7XG4gICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfVxuXG4gIGcubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgdGhpcy5vbih0eXBlLCBnKTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZmYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIGxpc3QsIHBvc2l0aW9uLCBsZW5ndGgsIGk7XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgbGlzdCA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgbGVuZ3RoID0gbGlzdC5sZW5ndGg7XG4gIHBvc2l0aW9uID0gLTE7XG5cbiAgaWYgKGxpc3QgPT09IGxpc3RlbmVyIHx8XG4gICAgICAoaXNGdW5jdGlvbihsaXN0Lmxpc3RlbmVyKSAmJiBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuXG4gIH0gZWxzZSBpZiAoaXNPYmplY3QobGlzdCkpIHtcbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSA+IDA7KSB7XG4gICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHxcbiAgICAgICAgICAobGlzdFtpXS5saXN0ZW5lciAmJiBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpIHtcbiAgICAgIGxpc3QubGVuZ3RoID0gMDtcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpc3Quc3BsaWNlKHBvc2l0aW9uLCAxKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBrZXksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICByZXR1cm4gdGhpcztcblxuICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gIGlmICghdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICBlbHNlIGlmICh0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgZm9yIChrZXkgaW4gdGhpcy5fZXZlbnRzKSB7XG4gICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChpc0Z1bmN0aW9uKGxpc3RlbmVycykpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gTElGTyBvcmRlclxuICAgIHdoaWxlIChsaXN0ZW5lcnMubGVuZ3RoKVxuICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbbGlzdGVuZXJzLmxlbmd0aCAtIDFdKTtcbiAgfVxuICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciByZXQ7XG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0ID0gW107XG4gIGVsc2UgaWYgKGlzRnVuY3Rpb24odGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICByZXQgPSBbdGhpcy5fZXZlbnRzW3R5cGVdXTtcbiAgZWxzZVxuICAgIHJldCA9IHRoaXMuX2V2ZW50c1t0eXBlXS5zbGljZSgpO1xuICByZXR1cm4gcmV0O1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIHZhciByZXQ7XG4gIGlmICghZW1pdHRlci5fZXZlbnRzIHx8ICFlbWl0dGVyLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0ID0gMDtcbiAgZWxzZSBpZiAoaXNGdW5jdGlvbihlbWl0dGVyLl9ldmVudHNbdHlwZV0pKVxuICAgIHJldCA9IDE7XG4gIGVsc2VcbiAgICByZXQgPSBlbWl0dGVyLl9ldmVudHNbdHlwZV0ubGVuZ3RoO1xuICByZXR1cm4gcmV0O1xufTtcblxuZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ251bWJlcic7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xufVxuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgc2V0VGltZW91dChkcmFpblF1ZXVlLCAwKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbi8vIFRPRE8oc2h0eWxtYW4pXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTQgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQ29uc3RydWN0cyBhbiBlbnVtZXJhdGlvbiB3aXRoIGtleXMgZXF1YWwgdG8gdGhlaXIgdmFsdWUuXG4gKlxuICogRm9yIGV4YW1wbGU6XG4gKlxuICogICB2YXIgQ09MT1JTID0ga2V5TWlycm9yKHtibHVlOiBudWxsLCByZWQ6IG51bGx9KTtcbiAqICAgdmFyIG15Q29sb3IgPSBDT0xPUlMuYmx1ZTtcbiAqICAgdmFyIGlzQ29sb3JWYWxpZCA9ICEhQ09MT1JTW215Q29sb3JdO1xuICpcbiAqIFRoZSBsYXN0IGxpbmUgY291bGQgbm90IGJlIHBlcmZvcm1lZCBpZiB0aGUgdmFsdWVzIG9mIHRoZSBnZW5lcmF0ZWQgZW51bSB3ZXJlXG4gKiBub3QgZXF1YWwgdG8gdGhlaXIga2V5cy5cbiAqXG4gKiAgIElucHV0OiAge2tleTE6IHZhbDEsIGtleTI6IHZhbDJ9XG4gKiAgIE91dHB1dDoge2tleTE6IGtleTEsIGtleTI6IGtleTJ9XG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9ialxuICogQHJldHVybiB7b2JqZWN0fVxuICovXG52YXIga2V5TWlycm9yID0gZnVuY3Rpb24ob2JqKSB7XG4gIHZhciByZXQgPSB7fTtcbiAgdmFyIGtleTtcbiAgaWYgKCEob2JqIGluc3RhbmNlb2YgT2JqZWN0ICYmICFBcnJheS5pc0FycmF5KG9iaikpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdrZXlNaXJyb3IoLi4uKTogQXJndW1lbnQgbXVzdCBiZSBhbiBvYmplY3QuJyk7XG4gIH1cbiAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgaWYgKCFvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHJldFtrZXldID0ga2V5O1xuICB9XG4gIHJldHVybiByZXQ7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGtleU1pcnJvcjtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCk7XG5cbnZhciBTdHlsZSA9IHJlcXVpcmUoJy4vc3R5bGUuanMnKTtcbnZhciBwcmludFN0eWxlcyA9IHJlcXVpcmUoJy4uL3ByaW50LXN0eWxlcy5qcycpO1xuXG52YXIgUHJpbnRTdHlsZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdQcmludFN0eWxlJyxcblxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0U3R5bGVzU3RhdGUoKTtcbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb24gPSBwcmludFN0eWxlcy5zdWJzY3JpYmUodGhpcy5fb25DaGFuZ2UpO1xuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbi5yZW1vdmUoKTtcbiAgfSxcblxuICBfb25DaGFuZ2U6IGZ1bmN0aW9uIF9vbkNoYW5nZSgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHRoaXMuX2dldFN0eWxlc1N0YXRlKCkpO1xuICB9LFxuXG4gIF9nZXRTdHlsZXNTdGF0ZTogZnVuY3Rpb24gX2dldFN0eWxlc1N0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzdHlsZXM6IHByaW50U3R5bGVzLmdldFByaW50U3R5bGVzKClcbiAgICB9O1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlLCB7IHJ1bGVzOiB7XG4gICAgICAgIG1lZGlhUXVlcmllczoge1xuICAgICAgICAgIHByaW50OiB0aGlzLnN0YXRlLnN0eWxlc1xuICAgICAgICB9XG4gICAgICB9IH0pO1xuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBQcmludFN0eWxlOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIGNyZWF0ZU1hcmt1cEZvclN0eWxlcyA9IHJlcXVpcmUoJy4uL2NyZWF0ZS1tYXJrdXAtZm9yLXN0eWxlcycpO1xudmFyIFByZWZpeGVyID0gcmVxdWlyZSgnLi4vcHJlZml4ZXInKTtcblxudmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCk7XG5cbnZhciBidWlsZENzc1N0cmluZyA9IGZ1bmN0aW9uIGJ1aWxkQ3NzU3RyaW5nKGNvbXBvbmVudCwgc2VsZWN0b3IsIHJ1bGVzKSB7XG4gIGlmICghc2VsZWN0b3IgfHwgIXJ1bGVzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHByZWZpeGVkUnVsZXMgPSBQcmVmaXhlci5nZXRQcmVmaXhlZFN0eWxlKGNvbXBvbmVudCwgcnVsZXMsICdjc3MnKTtcbiAgdmFyIHNlcmlhbGl6ZWRSdWxlcyA9IGNyZWF0ZU1hcmt1cEZvclN0eWxlcyhwcmVmaXhlZFJ1bGVzKTtcblxuICByZXR1cm4gc2VsZWN0b3IgKyAneycgKyBzZXJpYWxpemVkUnVsZXMgKyAnfSc7XG59O1xuXG52YXIgU3R5bGUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnU3R5bGUnLFxuXG4gIHByb3BUeXBlczoge1xuICAgIHJ1bGVzOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICAgIHNjb3BlU2VsZWN0b3I6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmdcbiAgfSxcblxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2NvcGVTZWxlY3RvcjogJydcbiAgICB9O1xuICB9LFxuXG4gIF9idWlsZFN0eWxlczogZnVuY3Rpb24gX2J1aWxkU3R5bGVzKHN0eWxlcykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICByZXR1cm4gT2JqZWN0LmtleXMoc3R5bGVzKS5yZWR1Y2UoZnVuY3Rpb24gKGFjY3VtdWxhdG9yLCBzZWxlY3Rvcikge1xuICAgICAgdmFyIHJ1bGVzID0gc3R5bGVzW3NlbGVjdG9yXTtcblxuICAgICAgaWYgKHNlbGVjdG9yID09PSAnbWVkaWFRdWVyaWVzJykge1xuICAgICAgICBhY2N1bXVsYXRvciArPSBfdGhpcy5fYnVpbGRNZWRpYVF1ZXJ5U3RyaW5nKHJ1bGVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBjb21wbGV0ZVNlbGVjdG9yID0gKF90aGlzLnByb3BzLnNjb3BlU2VsZWN0b3IgPyBfdGhpcy5wcm9wcy5zY29wZVNlbGVjdG9yICsgJyAnIDogJycpICsgc2VsZWN0b3I7XG4gICAgICAgIGFjY3VtdWxhdG9yICs9IGJ1aWxkQ3NzU3RyaW5nKF90aGlzLCBjb21wbGV0ZVNlbGVjdG9yLCBydWxlcyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9LCAnJyk7XG4gIH0sXG5cbiAgX2J1aWxkTWVkaWFRdWVyeVN0cmluZzogZnVuY3Rpb24gX2J1aWxkTWVkaWFRdWVyeVN0cmluZyhtZWRpYVF1ZXJ5T2JqKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgY29udGV4dE1lZGlhUXVlcmllcyA9IHRoaXMuX2dldENvbnRleHRNZWRpYVF1ZXJpZXMoKTtcbiAgICB2YXIgbWVkaWFRdWVyeVN0cmluZyA9ICcnO1xuXG4gICAgT2JqZWN0LmtleXMobWVkaWFRdWVyeU9iaikuZm9yRWFjaChmdW5jdGlvbiAocXVlcnkpIHtcbiAgICAgIHZhciBjb21wbGV0ZVF1ZXJ5ID0gY29udGV4dE1lZGlhUXVlcmllc1txdWVyeV0gPyBjb250ZXh0TWVkaWFRdWVyaWVzW3F1ZXJ5XSA6IHF1ZXJ5O1xuICAgICAgbWVkaWFRdWVyeVN0cmluZyArPSAnQG1lZGlhICcgKyBjb21wbGV0ZVF1ZXJ5ICsgJ3snICsgX3RoaXMyLl9idWlsZFN0eWxlcyhtZWRpYVF1ZXJ5T2JqW3F1ZXJ5XSkgKyAnfSc7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbWVkaWFRdWVyeVN0cmluZztcbiAgfSxcblxuICBfZ2V0Q29udGV4dE1lZGlhUXVlcmllczogZnVuY3Rpb24gX2dldENvbnRleHRNZWRpYVF1ZXJpZXMoKSB7XG4gICAgdmFyIGNvbnRleHRNZWRpYVF1ZXJpZXMgPSB7fTtcbiAgICBpZiAodGhpcy5jb250ZXh0ICYmIHRoaXMuY29udGV4dC5tZWRpYVF1ZXJpZXMpIHtcbiAgICAgIE9iamVjdC5rZXlzKHRoaXMuY29udGV4dC5tZWRpYVF1ZXJpZXMpLmZvckVhY2goKGZ1bmN0aW9uIChxdWVyeSkge1xuICAgICAgICBjb250ZXh0TWVkaWFRdWVyaWVzW3F1ZXJ5XSA9IHRoaXMuY29udGV4dC5tZWRpYVF1ZXJpZXNbcXVlcnldLm1lZGlhO1xuICAgICAgfSkuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbnRleHRNZWRpYVF1ZXJpZXM7XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnJ1bGVzKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgc3R5bGVzID0gdGhpcy5fYnVpbGRTdHlsZXModGhpcy5wcm9wcy5ydWxlcyk7XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgnc3R5bGUnLCB7IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7IF9faHRtbDogc3R5bGVzIH0gfSk7XG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN0eWxlOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZXhlbnYnKTtcblxudmFyIF9tYXRjaE1lZGlhRnVuY3Rpb24gPSBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgd2luZG93ICYmIHdpbmRvdy5tYXRjaE1lZGlhICYmIGZ1bmN0aW9uIChtZWRpYVF1ZXJ5U3RyaW5nKSB7XG4gIHJldHVybiB3aW5kb3cubWF0Y2hNZWRpYShtZWRpYVF1ZXJ5U3RyaW5nKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjYW5NYXRjaE1lZGlhOiBmdW5jdGlvbiBjYW5NYXRjaE1lZGlhKCkge1xuICAgIHJldHVybiB0eXBlb2YgX21hdGNoTWVkaWFGdW5jdGlvbiA9PT0gJ2Z1bmN0aW9uJztcbiAgfSxcblxuICBtYXRjaE1lZGlhOiBmdW5jdGlvbiBtYXRjaE1lZGlhKHF1ZXJ5KSB7XG4gICAgcmV0dXJuIF9tYXRjaE1lZGlhRnVuY3Rpb24ocXVlcnkpO1xuICB9LFxuXG4gIHNldE1hdGNoTWVkaWE6IGZ1bmN0aW9uIHNldE1hdGNoTWVkaWEobmV4dE1hdGNoTWVkaWFGdW5jdGlvbikge1xuICAgIF9tYXRjaE1lZGlhRnVuY3Rpb24gPSBuZXh0TWF0Y2hNZWRpYUZ1bmN0aW9uO1xuICB9XG59OyIsIid1c2Ugc3RyaWN0JztcblxudmFyIGNyZWF0ZU1hcmt1cEZvclN0eWxlcyA9IGZ1bmN0aW9uIGNyZWF0ZU1hcmt1cEZvclN0eWxlcyhzdHlsZSwgc3BhY2VzKSB7XG4gIHNwYWNlcyA9IHNwYWNlcyB8fCAnJztcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHN0eWxlKS5tYXAoZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgcmV0dXJuIHNwYWNlcyArIHByb3BlcnR5ICsgJzogJyArIHN0eWxlW3Byb3BlcnR5XSArICc7JztcbiAgfSkuam9pbignXFxuJyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZU1hcmt1cEZvclN0eWxlczsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbnZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBkZXNjID0gcGFyZW50ID0gZ2V0dGVyID0gdW5kZWZpbmVkOyBfYWdhaW4gPSBmYWxzZTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciByZXNvbHZlU3R5bGVzID0gcmVxdWlyZSgnLi9yZXNvbHZlLXN0eWxlcy5qcycpO1xudmFyIHByaW50U3R5bGVzID0gcmVxdWlyZSgnLi9wcmludC1zdHlsZXMuanMnKTtcblxudmFyIGVuaGFuY2VXaXRoUmFkaXVtID0gZnVuY3Rpb24gZW5oYW5jZVdpdGhSYWRpdW0oQ29tcG9zZWRDb21wb25lbnQpIHtcbiAgdmFyIFJhZGl1bUVuaGFuY2VyID0gKGZ1bmN0aW9uIChfQ29tcG9zZWRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoUmFkaXVtRW5oYW5jZXIsIF9Db21wb3NlZENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBSYWRpdW1FbmhhbmNlcigpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSYWRpdW1FbmhhbmNlcik7XG5cbiAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFJhZGl1bUVuaGFuY2VyLnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLnN0YXRlIHx8IHt9O1xuICAgICAgdGhpcy5zdGF0ZS5fcmFkaXVtU3R5bGVTdGF0ZSA9IHt9O1xuXG4gICAgICBpZiAoUmFkaXVtRW5oYW5jZXIucHJpbnRTdHlsZUNsYXNzKSB7XG4gICAgICAgIHRoaXMucHJpbnRTdHlsZUNsYXNzID0gUmFkaXVtRW5oYW5jZXIucHJpbnRTdHlsZUNsYXNzO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENsYXNzIGluaGVyaXRhbmNlIHVzZXMgT2JqZWN0LmNyZWF0ZSBhbmQgYmVjYXVzZSBvZiBfX3Byb3RvX18gaXNzdWVzXG4gICAgLy8gd2l0aCBJRSA8MTAgYW55IHN0YXRpYyBwcm9wZXJ0aWVzIG9mIHRoZSBzdXBlcmNsYXNzIGFyZW4ndCBpbmhlcml0ZWQgYW5kXG4gICAgLy8gc28gbmVlZCB0byBiZSBtYW51YWxseSBwb3B1bGF0ZWRcbiAgICAvLyBTZWUgaHR0cDovL2JhYmVsanMuaW8vZG9jcy9hZHZhbmNlZC9jYXZlYXRzLyNjbGFzc2VzLTEwLWFuZC1iZWxvdy1cbiAgICAvLyBUaGlzIGFsc28gZml4ZXMgUmVhY3QgSG90IExvYWRlciBieSBleHBvc2luZyB0aGUgb3JpZ2luYWwgY29tcG9uZW50cyB0b3AgbGV2ZWxcbiAgICAvLyBwcm90b3R5cGUgbWV0aG9kcyBvbiB0aGUgUmFkaXVtIGVuaGFuY2VkIHByb3RvdHlwZSBhcyBkaXNjdXNzZWQgaW4gIzIxOS5cblxuICAgIF9jcmVhdGVDbGFzcyhSYWRpdW1FbmhhbmNlciwgW3tcbiAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgcmVuZGVyZWRFbGVtZW50ID0gX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmFkaXVtRW5oYW5jZXIucHJvdG90eXBlKSwgJ3JlbmRlcicsIHRoaXMpLmNhbGwodGhpcyk7XG4gICAgICAgIHJldHVybiByZXNvbHZlU3R5bGVzKHRoaXMsIHJlbmRlcmVkRWxlbWVudCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBpZiAoX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmFkaXVtRW5oYW5jZXIucHJvdG90eXBlKSwgJ2NvbXBvbmVudFdpbGxVbm1vdW50JywgdGhpcykpIHtcbiAgICAgICAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihSYWRpdW1FbmhhbmNlci5wcm90b3R5cGUpLCAnY29tcG9uZW50V2lsbFVubW91bnQnLCB0aGlzKS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3JhZGl1bU1vdXNlVXBMaXN0ZW5lcikge1xuICAgICAgICAgIHRoaXMuX3JhZGl1bU1vdXNlVXBMaXN0ZW5lci5yZW1vdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9yYWRpdW1NZWRpYVF1ZXJ5TGlzdGVuZXJzQnlRdWVyeSkge1xuICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuX3JhZGl1bU1lZGlhUXVlcnlMaXN0ZW5lcnNCeVF1ZXJ5KS5mb3JFYWNoKGZ1bmN0aW9uIChxdWVyeSkge1xuICAgICAgICAgICAgdGhpcy5fcmFkaXVtTWVkaWFRdWVyeUxpc3RlbmVyc0J5UXVlcnlbcXVlcnldLnJlbW92ZSgpO1xuICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFJhZGl1bUVuaGFuY2VyO1xuICB9KShDb21wb3NlZENvbXBvbmVudCk7XG5cbiAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoQ29tcG9zZWRDb21wb25lbnQucHJvdG90eXBlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoIVJhZGl1bUVuaGFuY2VyLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoQ29tcG9zZWRDb21wb25lbnQucHJvdG90eXBlLCBrZXkpO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJhZGl1bUVuaGFuY2VyLnByb3RvdHlwZSwga2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH0pO1xuXG4gIFJhZGl1bUVuaGFuY2VyLmRpc3BsYXlOYW1lID0gQ29tcG9zZWRDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9zZWRDb21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50JztcblxuICBSYWRpdW1FbmhhbmNlci5wcmludFN0eWxlQ2xhc3MgPSBwcmludFN0eWxlcy5hZGRQcmludFN0eWxlcyhSYWRpdW1FbmhhbmNlcik7XG5cbiAgcmV0dXJuIFJhZGl1bUVuaGFuY2VyO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBlbmhhbmNlV2l0aFJhZGl1bTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBnZXRTdGF0ZUtleSA9IGZ1bmN0aW9uIGdldFN0YXRlS2V5KGVsZW1lbnRLZXkpIHtcbiAgcmV0dXJuIGVsZW1lbnRLZXkgPT09IG51bGwgfHwgZWxlbWVudEtleSA9PT0gdW5kZWZpbmVkID8gJ21haW4nIDogZWxlbWVudEtleS50b1N0cmluZygpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBnZXRTdGF0ZUtleTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBnZXRTdGF0ZUtleSA9IHJlcXVpcmUoJy4vZ2V0LXN0YXRlLWtleScpO1xuXG52YXIgVkFMSURfS0VZUyA9IFsnOmFjdGl2ZScsICc6Zm9jdXMnLCAnOmhvdmVyJ107XG5cbnZhciBnZXRTdGF0ZSA9IGZ1bmN0aW9uIGdldFN0YXRlKHN0YXRlLCBlbGVtZW50S2V5LCB2YWx1ZSkge1xuICBpZiAoVkFMSURfS0VZUy5pbmRleE9mKHZhbHVlKSA9PT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1JhZGl1bS5nZXRTdGF0ZSBpbnZhbGlkIHZhbHVlIHBhcmFtOiBgJyArIHZhbHVlICsgJ2AnKTtcbiAgfVxuXG4gIHZhciBrZXkgPSBnZXRTdGF0ZUtleShlbGVtZW50S2V5KTtcblxuICByZXR1cm4gISEoc3RhdGUgJiYgc3RhdGUuX3JhZGl1bVN0eWxlU3RhdGUgJiYgc3RhdGUuX3JhZGl1bVN0eWxlU3RhdGVba2V5XSAmJiBzdGF0ZS5fcmFkaXVtU3R5bGVTdGF0ZVtrZXldW3ZhbHVlXSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFN0YXRlOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIEVuaGFuY2VyID0gcmVxdWlyZSgnLi9lbmhhbmNlcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChDb21wb3NlZENvbXBvbmVudCkge1xuICByZXR1cm4gRW5oYW5jZXIoQ29tcG9zZWRDb21wb25lbnQpO1xufTtcbm1vZHVsZS5leHBvcnRzLlN0eWxlID0gcmVxdWlyZSgnLi9jb21wb25lbnRzL3N0eWxlJyk7XG5tb2R1bGUuZXhwb3J0cy5QcmludFN0eWxlU2hlZXQgPSByZXF1aXJlKCcuL2NvbXBvbmVudHMvcHJpbnQtc3R5bGUtc2hlZXQnKTtcbm1vZHVsZS5leHBvcnRzLmdldFN0YXRlID0gcmVxdWlyZSgnLi9nZXQtc3RhdGUnKTtcbm1vZHVsZS5leHBvcnRzLmtleWZyYW1lcyA9IHJlcXVpcmUoJy4va2V5ZnJhbWVzJyk7XG5tb2R1bGUuZXhwb3J0cy5Db25maWcgPSByZXF1aXJlKCcuL2NvbmZpZycpOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIGNyZWF0ZU1hcmt1cEZvclN0eWxlcyA9IHJlcXVpcmUoJy4vY3JlYXRlLW1hcmt1cC1mb3Itc3R5bGVzJyk7XG52YXIgUHJlZml4ZXIgPSByZXF1aXJlKCcuL3ByZWZpeGVyJyk7XG5cbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJ2V4ZW52Jyk7XG5cbnZhciBpc0FuaW1hdGlvblN1cHBvcnRlZCA9IEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiBQcmVmaXhlci5nZXRQcmVmaXhlZFByb3BlcnR5TmFtZSgnYW5pbWF0aW9uJykgIT09IGZhbHNlO1xuXG52YXIgYW5pbWF0aW9uSW5kZXggPSAxO1xudmFyIGFuaW1hdGlvblN0eWxlU2hlZXQgPSBudWxsO1xudmFyIGtleWZyYW1lc1ByZWZpeGVkID0gJ2tleWZyYW1lcyc7XG5cbmlmIChpc0FuaW1hdGlvblN1cHBvcnRlZCkge1xuICBhbmltYXRpb25TdHlsZVNoZWV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChhbmltYXRpb25TdHlsZVNoZWV0KTtcblxuICAvLyBUZXN0IGlmIHByZWZpeCBuZWVkZWQgZm9yIGtleWZyYW1lcyAoY29waWVkIGZyb20gUHJlZml4RnJlZSlcbiAgYW5pbWF0aW9uU3R5bGVTaGVldC50ZXh0Q29udGVudCA9ICdAa2V5ZnJhbWVzIHt9JztcbiAgaWYgKCFhbmltYXRpb25TdHlsZVNoZWV0LnNoZWV0LmNzc1J1bGVzLmxlbmd0aCkge1xuICAgIGtleWZyYW1lc1ByZWZpeGVkID0gUHJlZml4ZXIuY3NzUHJlZml4ICsgJ2tleWZyYW1lcyc7XG4gIH1cbn1cblxuLy8gU2ltcGxlIGFuaW1hdGlvbiBoZWxwZXIgdGhhdCBpbmplY3RzIENTUyBpbnRvIGEgc3R5bGUgb2JqZWN0IGNvbnRhaW5pbmcgdGhlXG4vLyBrZXlmcmFtZXMsIGFuZCByZXR1cm5zIGEgc3RyaW5nIHdpdGggdGhlIGdlbmVyYXRlZCBhbmltYXRpb24gbmFtZS5cbnZhciBrZXlmcmFtZXMgPSBmdW5jdGlvbiBrZXlmcmFtZXMoa2V5ZnJhbWVSdWxlcywgY29tcG9uZW50KSB7XG4gIHZhciBuYW1lID0gJ0FuaW1hdGlvbicgKyBhbmltYXRpb25JbmRleDtcbiAgYW5pbWF0aW9uSW5kZXggKz0gMTtcblxuICBpZiAoIWlzQW5pbWF0aW9uU3VwcG9ydGVkKSB7XG4gICAgcmV0dXJuIG5hbWU7XG4gIH1cblxuICB2YXIgcnVsZSA9ICdAJyArIGtleWZyYW1lc1ByZWZpeGVkICsgJyAnICsgbmFtZSArICcge1xcbicgKyBPYmplY3Qua2V5cyhrZXlmcmFtZVJ1bGVzKS5tYXAoZnVuY3Rpb24gKHBlcmNlbnRhZ2UpIHtcbiAgICB2YXIgcHJvcHMgPSBrZXlmcmFtZVJ1bGVzW3BlcmNlbnRhZ2VdO1xuICAgIHZhciBwcmVmaXhlZFByb3BzID0gUHJlZml4ZXIuZ2V0UHJlZml4ZWRTdHlsZShjb21wb25lbnQsIHByb3BzLCAnY3NzJyk7XG4gICAgdmFyIHNlcmlhbGl6ZWRQcm9wcyA9IGNyZWF0ZU1hcmt1cEZvclN0eWxlcyhwcmVmaXhlZFByb3BzLCAnICAnKTtcbiAgICByZXR1cm4gJyAgJyArIHBlcmNlbnRhZ2UgKyAnIHtcXG4gICcgKyBzZXJpYWxpemVkUHJvcHMgKyAnXFxuICB9JztcbiAgfSkuam9pbignXFxuJykgKyAnXFxufVxcbic7XG5cbiAgLy8gZm9yIGZsb3dcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKCFhbmltYXRpb25TdHlsZVNoZWV0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdrZXlmcmFtZXMgbm90IGluaXRpYWxpemVkIHByb3Blcmx5Jyk7XG4gIH1cblxuICBhbmltYXRpb25TdHlsZVNoZWV0LnNoZWV0Lmluc2VydFJ1bGUocnVsZSwgYW5pbWF0aW9uU3R5bGVTaGVldC5zaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICByZXR1cm4gbmFtZTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ga2V5ZnJhbWVzOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIF9jYWxsYmFja3MgPSBbXTtcbnZhciBfbW91c2VVcExpc3RlbmVySXNBY3RpdmUgPSBmYWxzZTtcblxudmFyIF9oYW5kbGVNb3VzZVVwID0gZnVuY3Rpb24gX2hhbmRsZU1vdXNlVXAoZXYpIHtcbiAgX2NhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKGV2KTtcbiAgfSk7XG59O1xuXG52YXIgc3Vic2NyaWJlID0gZnVuY3Rpb24gc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4gIGlmIChfY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spID09PSAtMSkge1xuICAgIF9jYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gIH1cblxuICBpZiAoIV9tb3VzZVVwTGlzdGVuZXJJc0FjdGl2ZSkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgX2hhbmRsZU1vdXNlVXApO1xuICAgIF9tb3VzZVVwTGlzdGVuZXJJc0FjdGl2ZSA9IHRydWU7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgdmFyIGluZGV4ID0gX2NhbGxiYWNrcy5pbmRleE9mKGNhbGxiYWNrKTtcbiAgICAgIF9jYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcblxuICAgICAgaWYgKF9jYWxsYmFja3MubGVuZ3RoID09PSAwICYmIF9tb3VzZVVwTGlzdGVuZXJJc0FjdGl2ZSkge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIF9oYW5kbGVNb3VzZVVwKTtcbiAgICAgICAgX21vdXNlVXBMaXN0ZW5lcklzQWN0aXZlID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHN1YnNjcmliZTogc3Vic2NyaWJlXG59OyIsIi8qKlxuICogQmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL2pzc3R5bGVzL2Nzcy12ZW5kb3IsIGJ1dCB3aXRob3V0IGhhdmluZyB0b1xuICogY29udmVydCBiZXR3ZWVuIGRpZmZlcmVudCBjYXNlcyBhbGwgdGhlIHRpbWUuXG4gKlxuICogXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCdleGVudicpO1xudmFyIGFycmF5RmluZCA9IHJlcXVpcmUoJ2FycmF5LWZpbmQnKTtcblxudmFyIFZFTkRPUl9QUkVGSVhfUkVHRVggPSAvLShtb3p8d2Via2l0fG1zfG8pLS87XG5cbnZhciB2ZW5kb3JQcmVmaXhlcyA9IFsnV2Via2l0JywgJ21zJywgJ01veicsICdPJ107XG5cbnZhciBpbmZvQnlDc3NQcmVmaXggPSB7XG4gICctbW96LSc6IHtcbiAgICBjc3NQcmVmaXg6ICctbW96LScsXG4gICAganNQcmVmaXg6ICdNb3onLFxuICAgIGFsdGVybmF0aXZlUHJvcGVydGllczoge1xuICAgICAgLy8gT0xEIC0gRmlyZWZveCAxOS1cbiAgICAgIGFsaWduSXRlbXM6IFt7IGNzczogJy1tb3otYm94LWFsaWduJywganM6ICdNb3pCb3hBbGlnbicgfV0sXG4gICAgICBmbGV4OiBbeyBjc3M6ICctbW96LWJveC1mbGV4JywganM6ICdNb3pCb3hGbGV4JyB9XSxcbiAgICAgIGZsZXhEaXJlY3Rpb246IFt7IGNzczogJy1tb3otYm94LW9yaWVudCcsIGpzOiAnTW96Qm94T3JpZW50JyB9XSxcbiAgICAgIGp1c3RpZnlDb250ZW50OiBbeyBjc3M6ICctbW96LWJveC1wYWNrJywganM6ICdNb3pCb3hQYWNrJyB9XSxcbiAgICAgIG9yZGVyOiBbeyBjc3M6ICctbW96LWJveC1vcmRpbmFsLWdyb3VwJywganM6ICdNb3pCb3hPcmRpbmFsR3JvdXAnIH1dXG4gICAgfSxcbiAgICBhbHRlcm5hdGl2ZVZhbHVlczoge1xuICAgICAgLy8gT0xEIC0gRmlyZWZveCAxOS1cbiAgICAgIGFsaWduSXRlbXM6IHtcbiAgICAgICAgJ2ZsZXgtc3RhcnQnOiBbJ3N0YXJ0J10sXG4gICAgICAgICdmbGV4LWVuZCc6IFsnZW5kJ11cbiAgICAgIH0sXG4gICAgICBkaXNwbGF5OiB7XG4gICAgICAgIGZsZXg6IFsnLW1vei1ib3gnXVxuICAgICAgfSxcbiAgICAgIGZsZXhEaXJlY3Rpb246IHtcbiAgICAgICAgY29sdW1uOiBbJ3ZlcnRpY2FsJ10sXG4gICAgICAgIHJvdzogWydob3Jpem9udGFsJ11cbiAgICAgIH0sXG4gICAgICBqdXN0aWZ5Q29udGVudDoge1xuICAgICAgICAnZmxleC1zdGFydCc6IFsnc3RhcnQnXSxcbiAgICAgICAgJ2ZsZXgtZW5kJzogWydlbmQnXSxcbiAgICAgICAgJ3NwYWNlLWJldHdlZW4nOiBbJ2p1c3RpZnknXVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgJy1tcy0nOiB7XG4gICAgY3NzUHJlZml4OiAnLW1zLScsXG4gICAganNQcmVmaXg6ICdtcycsXG4gICAgYWx0ZXJuYXRpdmVQcm9wZXJ0aWVzOiB7XG4gICAgICAvLyBUV0VFTkVSIC0gSUUgMTBcbiAgICAgIGFsaWduQ29udGVudDogW3sgY3NzOiAnLW1zLWZsZXgtbGluZS1wYWNrJywganM6ICdtc0ZsZXhMaW5lUGFjaycgfV0sXG4gICAgICBhbGlnbkl0ZW1zOiBbeyBjc3M6ICctbXMtZmxleC1hbGlnbicsIGpzOiAnbXNGbGV4QWxpZ24nIH1dLFxuICAgICAgYWxpZ25TZWxmOiBbeyBjc3M6ICctbXMtZmxleC1hbGlnbi1pdGVtJywganM6ICdtc0ZsZXhBbGlnbkl0ZW0nIH1dLFxuICAgICAganVzdGlmeUNvbnRlbnQ6IFt7IGNzczogJy1tcy1mbGV4LXBhY2snLCBqczogJ21zRmxleFBhY2snIH1dLFxuICAgICAgb3JkZXI6IFt7IGNzczogJy1tcy1mbGV4LW9yZGVyJywganM6ICdtc0ZsZXhPcmRlcicgfV1cbiAgICB9LFxuICAgIGFsdGVybmF0aXZlVmFsdWVzOiB7XG4gICAgICAvLyBUV0VFTkVSIC0gSUUgMTBcbiAgICAgIGFsaWduQ29udGVudDoge1xuICAgICAgICAnZmxleC1zdGFydCc6IFsnc3RhcnQnXSxcbiAgICAgICAgJ2ZsZXgtZW5kJzogWydlbmQnXSxcbiAgICAgICAgJ3NwYWNlLWJldHdlZW4nOiBbJ2p1c3RpZnknXSxcbiAgICAgICAgJ3NwYWNlLWFyb3VuZCc6IFsnZGlzdHJpYnV0ZSddXG4gICAgICB9LFxuICAgICAgYWxpZ25JdGVtczoge1xuICAgICAgICAnZmxleC1zdGFydCc6IFsnc3RhcnQnXSxcbiAgICAgICAgJ2ZsZXgtZW5kJzogWydlbmQnXVxuICAgICAgfSxcbiAgICAgIGFsaWduU2VsZjoge1xuICAgICAgICAnZmxleC1zdGFydCc6IFsnc3RhcnQnXSxcbiAgICAgICAgJ2ZsZXgtZW5kJzogWydlbmQnXVxuICAgICAgfSxcbiAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgZmxleDogWyctbXMtZmxleGJveCddLFxuICAgICAgICAnaW5saW5lLWZsZXgnOiBbJy1tcy1pbmxpbmUtZmxleGJveCddXG4gICAgICB9LFxuICAgICAganVzdGlmeUNvbnRlbnQ6IHtcbiAgICAgICAgJ2ZsZXgtc3RhcnQnOiBbJ3N0YXJ0J10sXG4gICAgICAgICdmbGV4LWVuZCc6IFsnZW5kJ10sXG4gICAgICAgICdzcGFjZS1iZXR3ZWVuJzogWydqdXN0aWZ5J10sXG4gICAgICAgICdzcGFjZS1hcm91bmQnOiBbJ2Rpc3RyaWJ1dGUnXVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgJy1vLSc6IHtcbiAgICBjc3NQcmVmaXg6ICctby0nLFxuICAgIGpzUHJlZml4OiAnTydcbiAgfSxcbiAgJy13ZWJraXQtJzoge1xuICAgIGNzc1ByZWZpeDogJy13ZWJraXQtJyxcbiAgICBqc1ByZWZpeDogJ1dlYmtpdCcsXG4gICAgYWx0ZXJuYXRpdmVQcm9wZXJ0aWVzOiB7XG4gICAgICAvLyBPTEQgLSBpT1MgNi0sIFNhZmFyaSAzLjEtNlxuICAgICAgYWxpZ25JdGVtczogW3sgY3NzOiAnLXdlYmtpdC1ib3gtYWxpZ24nLCBqczogJ1dlYmtpdEJveEFsaWduJyB9XSxcbiAgICAgIGZsZXg6IFt7IGNzczogJy13ZWJraXQtYm94LWZsZXgnLCBqczogJ01vekJveEZsZXgnIH1dLFxuICAgICAgZmxleERpcmVjdGlvbjogW3sgY3NzOiAnLXdlYmtpdC1ib3gtb3JpZW50JywganM6ICdXZWJraXRCb3hPcmllbnQnIH1dLFxuICAgICAganVzdGlmeUNvbnRlbnQ6IFt7IGNzczogJy13ZWJraXQtYm94LXBhY2snLCBqczogJ1dlYmtpdEJveFBhY2snIH1dLFxuICAgICAgb3JkZXI6IFt7IGNzczogJy13ZWJraXQtYm94LW9yZGluYWwtZ3JvdXAnLCBqczogJ1dlYmtpdEJveE9yZGluYWxHcm91cCcgfV1cbiAgICB9LFxuICAgIGFsdGVybmF0aXZlVmFsdWVzOiB7XG4gICAgICAvLyBPTEQgLSBpT1MgNi0sIFNhZmFyaSAzLjEtNlxuICAgICAgYWxpZ25JdGVtczoge1xuICAgICAgICAnZmxleC1zdGFydCc6IFsnc3RhcnQnXSxcbiAgICAgICAgJ2ZsZXgtZW5kJzogWydlbmQnXVxuICAgICAgfSxcbiAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgZmxleDogWyctd2Via2l0LWJveCddXG4gICAgICB9LFxuICAgICAgZmxleERpcmVjdGlvbjoge1xuICAgICAgICByb3c6IFsnaG9yaXpvbnRhbCddLFxuICAgICAgICBjb2x1bW46IFsndmVydGljYWwnXVxuICAgICAgfSxcbiAgICAgIGp1c3RpZnlDb250ZW50OiB7XG4gICAgICAgICdmbGV4LXN0YXJ0JzogWydzdGFydCddLFxuICAgICAgICAnZmxleC1lbmQnOiBbJ2VuZCddLFxuICAgICAgICAnc3BhY2UtYmV0d2Vlbic6IFsnanVzdGlmeSddXG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIENTUyBwcm9wZXJ0aWVzIHdoaWNoIGFjY2VwdCBudW1iZXJzIGJ1dCBhcmUgbm90IGluIHVuaXRzIG9mIFwicHhcIi5cbiAqIENvcGllZCBmcm9tIFJlYWN0IGNvcmUgSnVuZSAyMiwgMjAxNS5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9ibG9iL1xuICogYmE4MWI2MGFkOGU5M2I3NDdiZTQyYTAzYjc5NzA2NTkzMmM0OWM5Ni9cbiAqIHNyYy9yZW5kZXJlcnMvZG9tL3NoYXJlZC9DU1NQcm9wZXJ0eS5qc1xuICovXG52YXIgaXNVbml0bGVzc051bWJlciA9IHtcbiAgYm94RmxleDogdHJ1ZSxcbiAgYm94RmxleEdyb3VwOiB0cnVlLFxuICBjb2x1bW5Db3VudDogdHJ1ZSxcbiAgZmxleDogdHJ1ZSxcbiAgZmxleEdyb3c6IHRydWUsXG4gIGZsZXhQb3NpdGl2ZTogdHJ1ZSxcbiAgZmxleFNocmluazogdHJ1ZSxcbiAgZmxleE5lZ2F0aXZlOiB0cnVlLFxuICBmb250V2VpZ2h0OiB0cnVlLFxuICBsaW5lQ2xhbXA6IHRydWUsXG4gIGxpbmVIZWlnaHQ6IHRydWUsXG4gIG9wYWNpdHk6IHRydWUsXG4gIG9yZGVyOiB0cnVlLFxuICBvcnBoYW5zOiB0cnVlLFxuICB0YWJTaXplOiB0cnVlLFxuICB3aWRvd3M6IHRydWUsXG4gIHpJbmRleDogdHJ1ZSxcbiAgem9vbTogdHJ1ZSxcblxuICAvLyBTVkctcmVsYXRlZCBwcm9wZXJ0aWVzXG4gIGZpbGxPcGFjaXR5OiB0cnVlLFxuICBzdHJva2VEYXNob2Zmc2V0OiB0cnVlLFxuICBzdHJva2VPcGFjaXR5OiB0cnVlLFxuICBzdHJva2VXaWR0aDogdHJ1ZVxufTtcblxudmFyIGRvbVN0eWxlID0ge307XG52YXIgcHJlZml4ZWRQcm9wZXJ0eUNhY2hlID0ge307XG52YXIgcHJlZml4ZWRWYWx1ZUNhY2hlID0ge307XG52YXIgcHJlZml4SW5mbyA9IHtcbiAgY3NzUHJlZml4OiAnJyxcbiAganNQcmVmaXg6ICcnXG59O1xuXG5pZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gIGRvbVN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpLnN0eWxlO1xuXG4gIC8vIG9sZGVyIEZpcmVmb3ggdmVyc2lvbnMgbWF5IGhhdmUgbm8gZmxvYXQgcHJvcGVydHkgaW4gc3R5bGUgb2JqZWN0XG4gIC8vIHNvIHdlIG5lZWQgdG8gYWRkIGl0IG1hbnVhbGx5XG4gIGlmIChkb21TdHlsZS5mbG9hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZG9tU3R5bGUuZmxvYXQgPSAnJztcbiAgfVxuXG4gIC8vIEJhc2VkIG9uIGh0dHA6Ly9kYXZpZHdhbHNoLm5hbWUvdmVuZG9yLXByZWZpeFxuICB2YXIgcHJlZml4TWF0Y2g7XG4gIHZhciB3aW5kb3dTdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICcnKTtcblxuICAvLyBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh3aW5kb3dTdHlsZXMpIGZhaWxzIHdpdGhcbiAgLy8gXCJVbmNhdWdodCBUeXBlRXJyb3I6IHVuZGVmaW5lZCBpcyBub3QgYSBmdW5jdGlvblwiXG4gIC8vIGluIG9sZGVyIHZlcnNpb25zIEFuZHJvaWQgKEtpdEthdCkgd2ViIHZpZXdzXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgd2luZG93U3R5bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgcHJlZml4TWF0Y2ggPSB3aW5kb3dTdHlsZXNbaV0ubWF0Y2goVkVORE9SX1BSRUZJWF9SRUdFWCk7XG5cbiAgICBpZiAocHJlZml4TWF0Y2gpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHZhciBjc3NWZW5kb3JQcmVmaXggPSBwcmVmaXhNYXRjaCAmJiBwcmVmaXhNYXRjaFswXTtcblxuICBwcmVmaXhJbmZvID0gY3NzVmVuZG9yUHJlZml4ICYmIGluZm9CeUNzc1ByZWZpeFtjc3NWZW5kb3JQcmVmaXhdID8gaW5mb0J5Q3NzUHJlZml4W2Nzc1ZlbmRvclByZWZpeF0gOiBwcmVmaXhJbmZvO1xufVxuXG52YXIgX2NhbWVsQ2FzZVJlZ2V4ID0gLyhbYS16XSk/KFtBLVpdKS9nO1xudmFyIF9jYW1lbENhc2VSZXBsYWNlciA9IGZ1bmN0aW9uIF9jYW1lbENhc2VSZXBsYWNlcihtYXRjaCwgcDEsIHAyKSB7XG4gIHJldHVybiBwMSArICctJyArIHAyLnRvTG93ZXJDYXNlKCk7XG59O1xudmFyIF9jYW1lbENhc2VUb0Rhc2hDYXNlID0gZnVuY3Rpb24gX2NhbWVsQ2FzZVRvRGFzaENhc2Uocykge1xuICByZXR1cm4gcy5yZXBsYWNlKF9jYW1lbENhc2VSZWdleCwgX2NhbWVsQ2FzZVJlcGxhY2VyKTtcbn07XG5cbnZhciBnZXRQcmVmaXhlZFByb3BlcnR5TmFtZSA9IGZ1bmN0aW9uIGdldFByZWZpeGVkUHJvcGVydHlOYW1lKHByb3BlcnR5KSB7XG4gIGlmIChwcmVmaXhlZFByb3BlcnR5Q2FjaGUuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XG4gICAgcmV0dXJuIHByZWZpeGVkUHJvcGVydHlDYWNoZVtwcm9wZXJ0eV07XG4gIH1cblxuICB2YXIgdW5wcmVmaXhlZCA9IHtcbiAgICBjc3M6IF9jYW1lbENhc2VUb0Rhc2hDYXNlKHByb3BlcnR5KSxcbiAgICBqczogcHJvcGVydHksXG4gICAgaXNEZWZhdWx0Rm9yU2VydmVyOiB0cnVlXG4gIH07XG5cbiAgLy8gVHJ5IHRoZSBwcmVmaXhlZCB2ZXJzaW9uIGZpcnN0LiBDaHJvbWUgaW4gcGFydGljdWxhciBoYXMgdGhlIGBmaWx0ZXJgIGFuZFxuICAvLyBgd2Via2l0RmlsdGVyYCBwcm9wZXJ0aWVzIGF2YWlsYWxiZSBvbiB0aGUgc3R5bGUgb2JqZWN0LCBidXQgb25seSB0aGVcbiAgLy8gcHJlZml4ZWQgdmVyc2lvbiBhY3R1YWxseSB3b3Jrcy5cbiAgdmFyIHBvc3NpYmxlUHJvcGVydHlOYW1lcyA9IFtcbiAgLy8gUHJlZml4ZWRcbiAge1xuICAgIGNzczogcHJlZml4SW5mby5jc3NQcmVmaXggKyBfY2FtZWxDYXNlVG9EYXNoQ2FzZShwcm9wZXJ0eSksXG4gICAganM6IHByZWZpeEluZm8uanNQcmVmaXggKyBwcm9wZXJ0eVswXS50b1VwcGVyQ2FzZSgpICsgcHJvcGVydHkuc2xpY2UoMSlcbiAgfSwgdW5wcmVmaXhlZF07XG5cbiAgLy8gQWx0ZXJuYXRpdmUgcHJvcGVydHkgbmFtZXNcbiAgaWYgKHByZWZpeEluZm8uYWx0ZXJuYXRpdmVQcm9wZXJ0aWVzICYmIHByZWZpeEluZm8uYWx0ZXJuYXRpdmVQcm9wZXJ0aWVzW3Byb3BlcnR5XSkge1xuICAgIHBvc3NpYmxlUHJvcGVydHlOYW1lcyA9IHBvc3NpYmxlUHJvcGVydHlOYW1lcy5jb25jYXQocHJlZml4SW5mby5hbHRlcm5hdGl2ZVByb3BlcnRpZXNbcHJvcGVydHldKTtcbiAgfVxuXG4gIHZhciB3b3JraW5nUHJvcGVydHkgPSBhcnJheUZpbmQocG9zc2libGVQcm9wZXJ0eU5hbWVzLCBmdW5jdGlvbiAocG9zc2libGVQcm9wZXJ0eU5hbWUpIHtcbiAgICBpZiAocG9zc2libGVQcm9wZXJ0eU5hbWUuanMgaW4gZG9tU3R5bGUpIHtcbiAgICAgIHJldHVybiBwb3NzaWJsZVByb3BlcnR5TmFtZTtcbiAgICB9XG4gIH0pIHx8IGZhbHNlO1xuXG4gIHJldHVybiBwcmVmaXhlZFByb3BlcnR5Q2FjaGVbcHJvcGVydHldID0gd29ya2luZ1Byb3BlcnR5O1xufTtcblxuLy8gV2UgYXJlIHVuLXByZWZpeGluZyB2YWx1ZXMgYmVmb3JlIGNoZWNraW5nIGZvciBpc1VuaXRsZXNzTnVtYmVyLFxuLy8gb3RoZXJ3aXNlIHdlIGFyZSBhdCByaXNrIG9mIGJlaW5nIGluIGEgc2l0dWF0aW9uIHdoZXJlIHNvbWVvbmVcbi8vIGV4cGxpY2l0bHkgcGFzc2VzIHNvbWV0aGluZyBsaWtlIGBNb3pCb3hGbGV4OiAxYCBhbmQgdGhhdCB3aWxsXG4vLyBpbiB0dXJuIGdldCB0cmFuc2Zvcm1lZCBpbnRvIGBNb3pCb3hGbGV4OiAxcHhgLlxudmFyIF9nZXRVbnByZWZpeGVkUHJvcGVydHkgPSBmdW5jdGlvbiBfZ2V0VW5wcmVmaXhlZFByb3BlcnR5KHByb3BlcnR5KSB7XG4gIHZhciBub1ByZWZpeFByb3BlcnR5ID0gcHJvcGVydHk7XG5cbiAgdmVuZG9yUHJlZml4ZXMuc29tZShmdW5jdGlvbiAocHJlZml4KSB7XG4gICAgLy8gTGV0J3MgY2hlY2sgaWYgdGhlIHByb3BlcnR5IHN0YXJ0cyB3aXRoIGEgdmVuZG9yIHByZWZpeFxuICAgIGlmIChwcm9wZXJ0eS5pbmRleE9mKHByZWZpeCkgPT09IDApIHtcbiAgICAgIG5vUHJlZml4UHJvcGVydHkgPSBub1ByZWZpeFByb3BlcnR5LnJlcGxhY2UocHJlZml4LCAnJyk7XG5cbiAgICAgIC8vIFdlIGhhdmUgcmVtb3ZlZCB0aGUgdmVuZG9yIHByZWZpeCwgaG93ZXZlciB0aGUgZmlyc3RcbiAgICAgIC8vIGNoYXJhY3RlciBpcyBnb2luZyB0byBiZSB1cHBlcmNhc2UgaGVuY2Ugd29uJ3QgbWF0Y2hcbiAgICAgIC8vIGFueSBvZiB0aGUgYGlzVW5pdGxlc3NOdW1iZXJgIGtleXMgYXMgdGhleSBhbGwgc3RhcnRcbiAgICAgIC8vIHdpdGggbG93ZXIgY2FzZS4gTGV0J3MgZW5zdXJlIHRoYXQgdGhlIGZpcnN0IGNoYXIgaXNcbiAgICAgIC8vIGxvd2VyIGNhc2UuXG4gICAgICBub1ByZWZpeFByb3BlcnR5ID0gbm9QcmVmaXhQcm9wZXJ0eS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIG5vUHJlZml4UHJvcGVydHkuc2xpY2UoMSk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIG5vUHJlZml4UHJvcGVydHk7XG59O1xuXG4vLyBSZWFjdCBpcyBwbGFubmluZyB0byBkZXByZWNhdGUgYWRkaW5nIHB4IGF1dG9tYXRpY2FsbHlcbi8vIChodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzE4NzMpLCBhbmQgaWYgdGhleSBkbywgdGhpc1xuLy8gc2hvdWxkIGNoYW5nZSB0byBhIHdhcm5pbmcgb3IgYmUgcmVtb3ZlZCBpbiBmYXZvciBvZiBSZWFjdCdzIHdhcm5pbmcuXG4vLyBTYW1lIGdvZXMgZm9yIGJlbG93LlxudmFyIF9hZGRQaXhlbFN1ZmZpeFRvVmFsdWVJZk5lZWRlZCA9IGZ1bmN0aW9uIF9hZGRQaXhlbFN1ZmZpeFRvVmFsdWVJZk5lZWRlZChvcmlnaW5hbFByb3BlcnR5LCB2YWx1ZSkge1xuICB2YXIgdW5QcmVmaXhlZFByb3BlcnR5ID0gX2dldFVucHJlZml4ZWRQcm9wZXJ0eShvcmlnaW5hbFByb3BlcnR5KTtcblxuICBpZiAodmFsdWUgIT09IDAgJiYgIWlzTmFOKHZhbHVlKSAmJiAhaXNVbml0bGVzc051bWJlclt1blByZWZpeGVkUHJvcGVydHldKSB7XG4gICAgcmV0dXJuIHZhbHVlICsgJ3B4JztcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59O1xuXG52YXIgX2dldFByZWZpeGVkVmFsdWUgPSBmdW5jdGlvbiBfZ2V0UHJlZml4ZWRWYWx1ZShjb21wb25lbnQsIHByb3BlcnR5LCB2YWx1ZSwgb3JpZ2luYWxQcm9wZXJ0eSkge1xuICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgLy8gZG9uJ3QgdGVzdCBudW1iZXJzIChwdXJlIG9yIHN0cmluZ3kpLCBidXQgZG8gYWRkICdweCcgcHJlZml4IGlmIG5lZWRlZFxuICAgIGlmICghaXNOYU4odmFsdWUpICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4gX2FkZFBpeGVsU3VmZml4VG9WYWx1ZUlmTmVlZGVkKG9yaWdpbmFsUHJvcGVydHksIHZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRvbid0IHRlc3QgbnVtYmVycyB3aXRoIHVuaXRzIChlLmcuIDEwZW0pXG4gICAgaWYgKCFpc05hTihwYXJzZUludCh2YWx1ZSwgMTApKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIHZhciBjYWNoZUtleSA9IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUuam9pbignIHx8ICcpIDogcHJvcGVydHkgKyB2YWx1ZTtcblxuICBpZiAocHJlZml4ZWRWYWx1ZUNhY2hlLmhhc093blByb3BlcnR5KGNhY2hlS2V5KSkge1xuICAgIHJldHVybiBwcmVmaXhlZFZhbHVlQ2FjaGVbY2FjaGVLZXldO1xuICB9XG5cbiAgdmFyIHBvc3NpYmxlVmFsdWVzO1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAvLyBBZGQgcHggZm9yIHRoZSBzYW1lIHZhbHVlcyBSZWFjdCB3b3VsZCwgb3RoZXJ3aXNlIHRoZSB0ZXN0aW5nIGJlbG93IHdpbGxcbiAgICAvLyBmYWlsIGFuZCBpdCB3aWxsIHRyeSB0byBmYWxsYmFjay5cbiAgICBwb3NzaWJsZVZhbHVlcyA9IHZhbHVlLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgcmV0dXJuIF9hZGRQaXhlbFN1ZmZpeFRvVmFsdWVJZk5lZWRlZChvcmlnaW5hbFByb3BlcnR5LCB2KTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBwcmVmaXhlZCB2ZXJzaW9uc1xuICAgIHBvc3NpYmxlVmFsdWVzID0gcG9zc2libGVWYWx1ZXMuY29uY2F0KHZhbHVlLmZpbHRlcihmdW5jdGlvbiAodikge1xuICAgICAgcmV0dXJuICFpc05hTih2KTtcbiAgICB9KSAvLyBEb24ndCBwcmVmaXggbnVtYmVyc1xuICAgIC5tYXAoZnVuY3Rpb24gKHYpIHtcbiAgICAgIHJldHVybiBwcmVmaXhJbmZvLmNzc1ByZWZpeCArIHY7XG4gICAgfSkpO1xuICB9IGVsc2Uge1xuICAgIHBvc3NpYmxlVmFsdWVzID0gW1xuICAgIC8vIFVucHJlZml4ZWRcbiAgICB2YWx1ZSxcbiAgICAvLyBQcmVmaXhlZFxuICAgIHByZWZpeEluZm8uY3NzUHJlZml4ICsgdmFsdWVdO1xuICB9XG5cbiAgLy8gQWx0ZXJuYXRpdmUgdmFsdWVzXG4gIGlmIChwcmVmaXhJbmZvLmFsdGVybmF0aXZlVmFsdWVzICYmIHByZWZpeEluZm8uYWx0ZXJuYXRpdmVWYWx1ZXNbb3JpZ2luYWxQcm9wZXJ0eV0gJiYgcHJlZml4SW5mby5hbHRlcm5hdGl2ZVZhbHVlc1tvcmlnaW5hbFByb3BlcnR5XVt2YWx1ZV0pIHtcbiAgICBwb3NzaWJsZVZhbHVlcyA9IHBvc3NpYmxlVmFsdWVzLmNvbmNhdChwcmVmaXhJbmZvLmFsdGVybmF0aXZlVmFsdWVzW29yaWdpbmFsUHJvcGVydHldW3ZhbHVlXSk7XG4gIH1cblxuICAvLyBUZXN0IHBvc3NpYmxlIHZhbHVlIGluIG9yZGVyXG4gIHZhciB3b3JraW5nVmFsdWUgPSBhcnJheUZpbmQocG9zc2libGVWYWx1ZXMsIGZ1bmN0aW9uIChwb3NzaWJsZVZhbHVlKSB7XG4gICAgZG9tU3R5bGVbcHJvcGVydHldID0gJyc7XG4gICAgZG9tU3R5bGVbcHJvcGVydHldID0gcG9zc2libGVWYWx1ZTtcblxuICAgIC8vIE5vdGUgdGhhdCB3ZSBqdXN0IG1ha2Ugc3VyZSBpdCBpcyBub3QgYW4gZW1wdHkgc3RyaW5nLiBCcm93c2VycyB3aWxsXG4gICAgLy8gc29tZXRpbWVzIHJld3JpdGUgdmFsdWVzLCBidXQgc3RpbGwgYWNjZXB0IHRoZW0uIFRoZXkgd2lsbCBzZXQgdGhlIHZhbHVlXG4gICAgLy8gdG8gYW4gZW1wdHkgc3RyaW5nIGlmIG5vdCBzdXBwb3J0ZWQuXG4gICAgLy8gRS5nLiBmb3IgYm9yZGVyLCBcInNvbGlkIDFweCBibGFja1wiIGJlY29tZXMgXCIxcHggc29saWQgYmxhY2tcIlxuICAgIC8vICAgICAgYnV0IFwiZm9vYmFyXCIgYmVjb21lcyBcIlwiLCBzaW5jZSBpdCBpcyBub3Qgc3VwcG9ydGVkLlxuICAgIHJldHVybiAhIWRvbVN0eWxlW3Byb3BlcnR5XTtcbiAgfSk7XG5cbiAgaWYgKHdvcmtpbmdWYWx1ZSkge1xuICAgIHByZWZpeGVkVmFsdWVDYWNoZVtjYWNoZUtleV0gPSB3b3JraW5nVmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgLy8gVW5zdXBwb3J0ZWQsIGFzc3VtZSB1bnByZWZpeGVkIHdvcmtzLCBidXQgd2FyblxuICAgIHByZWZpeGVkVmFsdWVDYWNoZVtjYWNoZUtleV0gPSB2YWx1ZTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gICAgICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudENvbnRleHQgPSBjb21wb25lbnQgPyAnIGluIGNvbXBvbmVudCBcIicgKyBjb21wb25lbnQuY29uc3RydWN0b3IuZGlzcGxheU5hbWUgKyAnXCInIDogJyc7XG5cbiAgICAgICAgY29uc29sZS53YXJuKCdVbnN1cHBvcnRlZCBDU1MgdmFsdWUgXCInICsgdmFsdWUgKyAnXCIgZm9yIHByb3BlcnR5IFwiJyArIHByb3BlcnR5ICsgJyRcIicgKyBjb21wb25lbnRDb250ZXh0KTtcbiAgICAgIH1cbiAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwcmVmaXhlZFZhbHVlQ2FjaGVbY2FjaGVLZXldO1xufTtcblxuLy8gUmV0dXJucyBhIG5ldyBzdHlsZSBvYmplY3Qgd2l0aCB2ZW5kb3IgcHJlZml4ZXMgYWRkZWQgdG8gcHJvcGVydHkgbmFtZXNcbi8vIGFuZCB2YWx1ZXMuXG52YXIgZ2V0UHJlZml4ZWRTdHlsZSA9IGZ1bmN0aW9uIGdldFByZWZpeGVkU3R5bGUoY29tcG9uZW50LCAvLyBSZWFjdENvbXBvbmVudFxuc3R5bGUpIHtcbiAgdmFyIG1vZGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyAnanMnIDogYXJndW1lbnRzWzJdO1xuXG4gIGlmICghRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHN0eWxlKS5yZWR1Y2UoZnVuY3Rpb24gKG5ld1N0eWxlLCBrZXkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHN0eWxlW2tleV07XG4gICAgICB2YXIgbmV3S2V5ID0gbW9kZSA9PT0gJ2NzcycgPyBfY2FtZWxDYXNlVG9EYXNoQ2FzZShrZXkpIDoga2V5O1xuICAgICAgdmFyIG5ld1ZhbHVlID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZVswXSA6IHZhbHVlO1xuICAgICAgbmV3U3R5bGVbbmV3S2V5XSA9IG5ld1ZhbHVlO1xuICAgICAgcmV0dXJuIG5ld1N0eWxlO1xuICAgIH0sIHt9KTtcbiAgfVxuXG4gIHZhciBwcmVmaXhlZFN0eWxlID0ge307XG4gIE9iamVjdC5rZXlzKHN0eWxlKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xuICAgIHZhciB2YWx1ZSA9IHN0eWxlW3Byb3BlcnR5XTtcblxuICAgIHZhciBuZXdQcm9wZXJ0eSA9IGdldFByZWZpeGVkUHJvcGVydHlOYW1lKHByb3BlcnR5KTtcbiAgICBpZiAobmV3UHJvcGVydHkgPT09IGZhbHNlKSB7XG4gICAgICAvLyBJZ25vcmUgdW5zdXBwb3J0ZWQgcHJvcGVydGllc1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgICAgICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIHtcbiAgICAgICAgICB2YXIgY29tcG9uZW50Q29udGV4dCA9IGNvbXBvbmVudCA/ICcgaW4gY29tcG9uZW50IFwiJyArIGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSArICdcIicgOiAnJztcblxuICAgICAgICAgIGNvbnNvbGUud2FybignVW5zdXBwb3J0ZWQgQ1NTIHByb3BlcnR5IFwiJyArIHByb3BlcnR5ICsgJyRcIicgKyBjb21wb25lbnRDb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBuZXdWYWx1ZSA9IF9nZXRQcmVmaXhlZFZhbHVlKGNvbXBvbmVudCwgbmV3UHJvcGVydHkuanMsIHZhbHVlLCBwcm9wZXJ0eSk7XG5cbiAgICBwcmVmaXhlZFN0eWxlW25ld1Byb3BlcnR5W21vZGVdXSA9IG5ld1ZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIHByZWZpeGVkU3R5bGU7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0UHJlZml4ZWRQcm9wZXJ0eU5hbWU6IGdldFByZWZpeGVkUHJvcGVydHlOYW1lLFxuICBnZXRQcmVmaXhlZFN0eWxlOiBnZXRQcmVmaXhlZFN0eWxlLFxuICBjc3NQcmVmaXg6IHByZWZpeEluZm8uY3NzUHJlZml4LFxuICBqc1ByZWZpeDogcHJlZml4SW5mby5qc1ByZWZpeFxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGFsbFByaW50U3R5bGVzID0ge307XG52YXIgbGlzdGVuZXJzID0gW107XG5cbnZhciBzdWJzY3JpYmUgPSBmdW5jdGlvbiBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgaWYgKGxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA9PT0gLTEpIHtcbiAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgdmFyIGxpc3RlbmVySW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG5cbiAgICAgIGlmIChsaXN0ZW5lckluZGV4ID4gLTEpIHtcbiAgICAgICAgbGlzdGVuZXJzLnNwbGljZShsaXN0ZW5lckluZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuXG52YXIgX2VtaXRDaGFuZ2UgPSBmdW5jdGlvbiBfZW1pdENoYW5nZSgpIHtcbiAgbGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgcmV0dXJuIGxpc3RlbmVyKCk7XG4gIH0pO1xufTtcblxudmFyIF9hcHBlbmRJbXBvcnRhbnRUb0VhY2hWYWx1ZSA9IGZ1bmN0aW9uIF9hcHBlbmRJbXBvcnRhbnRUb0VhY2hWYWx1ZShzdHlsZU9iaikge1xuICB2YXIgaW1wb3J0YW50U3R5bGVPYmogPSB7fTtcblxuICBPYmplY3Qua2V5cyhzdHlsZU9iaikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHZhbHVlID0gc3R5bGVPYmpba2V5XTtcblxuICAgIC8vIFRoaXMgYnJlYWtzIHVuaXRsZXNzIHZhbHVlcyBidXQgdGhleSdsbCBiZSBkZXByZWNhdGVkIHNvb24gYW55d2F5XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8xODczXG4gICAgdmFsdWUgPSB2YWx1ZSArIFwiICFpbXBvcnRhbnRcIjtcbiAgICBpbXBvcnRhbnRTdHlsZU9ialtrZXldID0gdmFsdWU7XG4gIH0pO1xuXG4gIHJldHVybiBpbXBvcnRhbnRTdHlsZU9iajtcbn07XG5cbnZhciBhZGRQcmludFN0eWxlcyA9IGZ1bmN0aW9uIGFkZFByaW50U3R5bGVzKENvbXBvbmVudCkge1xuICBpZiAoIUNvbXBvbmVudC5wcmludFN0eWxlcykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBwcmludFN0eWxlQ2xhc3MgPSB7fTtcblxuICBPYmplY3Qua2V5cyhDb21wb25lbnQucHJpbnRTdHlsZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBzdHlsZXMgPSBDb21wb25lbnQucHJpbnRTdHlsZXNba2V5XTtcbiAgICB2YXIgY2xhc3NOYW1lID0gXCJSYWRpdW0tXCIgKyBDb21wb25lbnQuZGlzcGxheU5hbWUgKyBcIi1cIiArIGtleTtcbiAgICBhbGxQcmludFN0eWxlc1tcIi5cIiArIGNsYXNzTmFtZV0gPSBfYXBwZW5kSW1wb3J0YW50VG9FYWNoVmFsdWUoc3R5bGVzKTtcbiAgICBwcmludFN0eWxlQ2xhc3Nba2V5XSA9IGNsYXNzTmFtZTtcbiAgfSk7XG5cbiAgLy8gQWxsb3dzIGZvciBsYXp5IGxvYWRpbmcgb2YgSlMgdGhhdCB0aGVuIGNhbGxzIFJhZGl1bSB0byB1cGRhdGUgdGhlXG4gIC8vIHByaW50IHN0eWxlc1xuICBfZW1pdENoYW5nZSgpO1xuICByZXR1cm4gcHJpbnRTdHlsZUNsYXNzO1xufTtcblxudmFyIGdldFByaW50U3R5bGVzID0gZnVuY3Rpb24gZ2V0UHJpbnRTdHlsZXMoKSB7XG4gIHJldHVybiBhbGxQcmludFN0eWxlcztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBhZGRQcmludFN0eWxlczogYWRkUHJpbnRTdHlsZXMsXG4gIGdldFByaW50U3R5bGVzOiBnZXRQcmludFN0eWxlcyxcbiAgc3Vic2NyaWJlOiBzdWJzY3JpYmVcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgTW91c2VVcExpc3RlbmVyID0gcmVxdWlyZSgnLi9tb3VzZS11cC1saXN0ZW5lcicpO1xudmFyIGdldFN0YXRlID0gcmVxdWlyZSgnLi9nZXQtc3RhdGUnKTtcbnZhciBnZXRTdGF0ZUtleSA9IHJlcXVpcmUoJy4vZ2V0LXN0YXRlLWtleScpO1xudmFyIFByZWZpeGVyID0gcmVxdWlyZSgnLi9wcmVmaXhlcicpO1xudmFyIENvbmZpZyA9IHJlcXVpcmUoJy4vY29uZmlnJyk7XG5cbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJ2V4ZW52Jyk7XG52YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKTtcblxuLy8gYmFiZWwtZXNsaW50IDMuMS43IGZhaWxzIGhlcmUgZm9yIHNvbWUgcmVhc29uLCBlcnJvcjpcbi8vICAgMDowICBlcnJvciAgQ2Fubm90IGNhbGwgbWV0aG9kICdpc1NlcXVlbmNlRXhwcmVzc2lvbicgb2YgdW5kZWZpbmVkXG4vL1xuLy8gZGVjbGFyZSBjbGFzcyBSYWRpdW1Db21wb25lbnQgZXh0ZW5kcyBSZWFjdENvbXBvbmVudCB7XG4vLyAgIF9sYXN0TW91c2VEb3duOiBudW1iZXIsXG4vLyAgIF9yYWRpdW1NZWRpYVF1ZXJ5TGlzdGVuZXJzQnlRdWVyeTogT2JqZWN0PHN0cmluZywge3JlbW92ZTogKCkgPT4gdm9pZH0+LFxuLy8gICBfcmFkaXVtTW91c2VVcExpc3RlbmVyOiB7cmVtb3ZlOiAoKSA9PiB2b2lkfSxcbi8vIH1cblxudmFyIG1lZGlhUXVlcnlMaXN0QnlRdWVyeVN0cmluZyA9IHt9O1xuXG52YXIgX2lzU3BlY2lhbEtleSA9IGZ1bmN0aW9uIF9pc1NwZWNpYWxLZXkoa2V5KSB7XG4gIHJldHVybiBrZXlbMF0gPT09ICc6JyB8fCBrZXlbMF0gPT09ICdAJztcbn07XG5cbnZhciBfZ2V0U3R5bGVTdGF0ZSA9IGZ1bmN0aW9uIF9nZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCB2YWx1ZSkge1xuICByZXR1cm4gZ2V0U3RhdGUoY29tcG9uZW50LnN0YXRlLCBrZXksIHZhbHVlKTtcbn07XG5cbnZhciBfc2V0U3R5bGVTdGF0ZSA9IGZ1bmN0aW9uIF9zZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCBuZXdTdGF0ZSkge1xuICB2YXIgZXhpc3RpbmcgPSBjb21wb25lbnQuX2xhc3RSYWRpdW1TdGF0ZSB8fCBjb21wb25lbnQuc3RhdGUgJiYgY29tcG9uZW50LnN0YXRlLl9yYWRpdW1TdHlsZVN0YXRlIHx8IHt9O1xuXG4gIHZhciBzdGF0ZSA9IHsgX3JhZGl1bVN0eWxlU3RhdGU6IF9leHRlbmRzKHt9LCBleGlzdGluZykgfTtcbiAgc3RhdGUuX3JhZGl1bVN0eWxlU3RhdGVba2V5XSA9IF9leHRlbmRzKHt9LCBzdGF0ZS5fcmFkaXVtU3R5bGVTdGF0ZVtrZXldLCBuZXdTdGF0ZSk7XG5cbiAgY29tcG9uZW50Ll9sYXN0UmFkaXVtU3RhdGUgPSBzdGF0ZS5fcmFkaXVtU3R5bGVTdGF0ZTtcbiAgY29tcG9uZW50LnNldFN0YXRlKHN0YXRlKTtcbn07XG5cbi8vIE1lcmdlIHN0eWxlIG9iamVjdHMuIFNwZWNpYWwgY2FzaW5nIGZvciBwcm9wcyBzdGFydGluZyB3aXRoICc7JzsgdGhlIHZhbHVlc1xuLy8gc2hvdWxkIGJlIG9iamVjdHMsIGFuZCBhcmUgbWVyZ2VkIHdpdGggb3RoZXJzIG9mIHRoZSBzYW1lIG5hbWUgKGluc3RlYWQgb2Zcbi8vIG92ZXJ3cml0aW5nKS5cbnZhciBfbWVyZ2VTdHlsZXMgPSBmdW5jdGlvbiBfbWVyZ2VTdHlsZXMoc3R5bGVzKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcblxuICBzdHlsZXMuZm9yRWFjaChmdW5jdGlvbiAoc3R5bGUpIHtcbiAgICBpZiAoIXN0eWxlIHx8IHR5cGVvZiBzdHlsZSAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShzdHlsZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBPYmplY3Qua2V5cyhzdHlsZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoX2lzU3BlY2lhbEtleShrZXkpICYmIHJlc3VsdFtrZXldKSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gX21lcmdlU3R5bGVzKFtyZXN1bHRba2V5XSwgc3R5bGVba2V5XV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSBzdHlsZVtrZXldO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxudmFyIF9tb3VzZVVwID0gZnVuY3Rpb24gX21vdXNlVXAoY29tcG9uZW50KSB7XG4gIE9iamVjdC5rZXlzKGNvbXBvbmVudC5zdGF0ZS5fcmFkaXVtU3R5bGVTdGF0ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKF9nZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCAnOmFjdGl2ZScpKSB7XG4gICAgICBfc2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgeyAnOmFjdGl2ZSc6IGZhbHNlIH0pO1xuICAgIH1cbiAgfSk7XG59O1xuXG52YXIgX29uTWVkaWFRdWVyeUNoYW5nZSA9IGZ1bmN0aW9uIF9vbk1lZGlhUXVlcnlDaGFuZ2UoY29tcG9uZW50LCBxdWVyeSwgbWVkaWFRdWVyeUxpc3QpIHtcbiAgdmFyIHN0YXRlID0ge307XG4gIHN0YXRlW3F1ZXJ5XSA9IG1lZGlhUXVlcnlMaXN0Lm1hdGNoZXM7XG4gIF9zZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwgJ19hbGwnLCBzdGF0ZSk7XG59O1xuXG52YXIgX3Jlc29sdmVNZWRpYVF1ZXJ5U3R5bGVzID0gZnVuY3Rpb24gX3Jlc29sdmVNZWRpYVF1ZXJ5U3R5bGVzKGNvbXBvbmVudCwgc3R5bGUpIHtcbiAgaWYgKCFDb25maWcuY2FuTWF0Y2hNZWRpYSgpKSB7XG4gICAgcmV0dXJuIHN0eWxlO1xuICB9XG5cbiAgT2JqZWN0LmtleXMoc3R5bGUpLmZpbHRlcihmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiBuYW1lWzBdID09PSAnQCc7XG4gIH0pLm1hcChmdW5jdGlvbiAocXVlcnkpIHtcbiAgICB2YXIgbWVkaWFRdWVyeVN0eWxlcyA9IHN0eWxlW3F1ZXJ5XTtcbiAgICBxdWVyeSA9IHF1ZXJ5LnJlcGxhY2UoJ0BtZWRpYSAnLCAnJyk7XG5cbiAgICAvLyBDcmVhdGUgYSBnbG9iYWwgTWVkaWFRdWVyeUxpc3QgaWYgb25lIGRvZXNuJ3QgYWxyZWFkeSBleGlzdFxuICAgIHZhciBtcWwgPSBtZWRpYVF1ZXJ5TGlzdEJ5UXVlcnlTdHJpbmdbcXVlcnldO1xuICAgIGlmICghbXFsKSB7XG4gICAgICBtZWRpYVF1ZXJ5TGlzdEJ5UXVlcnlTdHJpbmdbcXVlcnldID0gbXFsID0gQ29uZmlnLm1hdGNoTWVkaWEocXVlcnkpO1xuICAgIH1cblxuICAgIC8vIEtlZXAgdHJhY2sgb2Ygd2hpY2gga2V5cyBhbHJlYWR5IGhhdmUgbGlzdGVuZXJzXG4gICAgaWYgKCFjb21wb25lbnQuX3JhZGl1bU1lZGlhUXVlcnlMaXN0ZW5lcnNCeVF1ZXJ5KSB7XG4gICAgICBjb21wb25lbnQuX3JhZGl1bU1lZGlhUXVlcnlMaXN0ZW5lcnNCeVF1ZXJ5ID0ge307XG4gICAgfVxuXG4gICAgaWYgKCFjb21wb25lbnQuX3JhZGl1bU1lZGlhUXVlcnlMaXN0ZW5lcnNCeVF1ZXJ5W3F1ZXJ5XSkge1xuICAgICAgdmFyIGxpc3RlbmVyID0gX29uTWVkaWFRdWVyeUNoYW5nZS5iaW5kKG51bGwsIGNvbXBvbmVudCwgcXVlcnkpO1xuICAgICAgbXFsLmFkZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICAgIGNvbXBvbmVudC5fcmFkaXVtTWVkaWFRdWVyeUxpc3RlbmVyc0J5UXVlcnlbcXVlcnldID0ge1xuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgICAgICBtcWwucmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIEFwcGx5IG1lZGlhIHF1ZXJ5IHN0YXRlc1xuICAgIGlmIChtcWwubWF0Y2hlcykge1xuICAgICAgc3R5bGUgPSBfbWVyZ2VTdHlsZXMoW3N0eWxlLCBtZWRpYVF1ZXJ5U3R5bGVzXSk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gc3R5bGU7XG59O1xuXG4vLyBXcmFwcGVyIGFyb3VuZCBSZWFjdC5jbG9uZUVsZW1lbnQuIFRvIGF2b2lkIHByb2Nlc3NpbmcgdGhlIHNhbWUgZWxlbWVudFxuLy8gdHdpY2UsIHdoZW5ldmVyIHdlIGNsb25lIGFuIGVsZW1lbnQgYWRkIGEgc3BlY2lhbCBub24tZW51bWVyYWJsZSBwcm9wIHRvXG4vLyBtYWtlIHN1cmUgd2UgZG9uJ3QgcHJvY2VzcyB0aGlzIGVsZW1lbnQgYWdhaW4uXG52YXIgX2Nsb25lRWxlbWVudCA9IGZ1bmN0aW9uIF9jbG9uZUVsZW1lbnQocmVuZGVyZWRFbGVtZW50LCBuZXdQcm9wcywgbmV3Q2hpbGRyZW4pIHtcbiAgLy8gT25seSBhZGQgZmxhZyBpZiB0aGlzIGlzIGEgbm9ybWFsIERPTSBlbGVtZW50XG4gIGlmICh0eXBlb2YgcmVuZGVyZWRFbGVtZW50LnR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgbmV3UHJvcHMgPSBfZXh0ZW5kcyh7fSwgbmV3UHJvcHMsIHsgX3JhZGl1bURpZFJlc29sdmVTdHlsZXM6IHRydWUgfSk7XG4gIH1cblxuICByZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KHJlbmRlcmVkRWxlbWVudCwgbmV3UHJvcHMsIG5ld0NoaWxkcmVuKTtcbn07XG5cbi8vXG4vLyBUaGUgbnVjbGV1cyBvZiBSYWRpdW0uIHJlc29sdmVTdHlsZXMgaXMgY2FsbGVkIG9uIHRoZSByZW5kZXJlZCBlbGVtZW50c1xuLy8gYmVmb3JlIHRoZXkgYXJlIHJldHVybmVkIGluIHJlbmRlci4gSXQgaXRlcmF0ZXMgb3ZlciB0aGUgZWxlbWVudHMgYW5kXG4vLyBjaGlsZHJlbiwgcmV3cml0aW5nIHByb3BzIHRvIGFkZCBldmVudCBoYW5kbGVycyByZXF1aXJlZCB0byBjYXB0dXJlIHVzZXJcbi8vIGludGVyYWN0aW9ucyAoZS5nLiBtb3VzZSBvdmVyKS4gSXQgYWxzbyByZXBsYWNlcyB0aGUgc3R5bGUgcHJvcCBiZWNhdXNlIGl0XG4vLyBhZGRzIGluIHRoZSB2YXJpb3VzIGludGVyYWN0aW9uIHN0eWxlcyAoZS5nLiA6aG92ZXIpLlxuLy9cbnZhciByZXNvbHZlU3R5bGVzID0gZnVuY3Rpb24gcmVzb2x2ZVN0eWxlcyhjb21wb25lbnQsIC8vIFJlYWN0Q29tcG9uZW50LCBmbG93K2VzbGludCBjb21wbGFpbmluZ1xucmVuZGVyZWRFbGVtZW50LCAvLyBSZWFjdEVsZW1lbnRcbmV4aXN0aW5nS2V5TWFwKSB7XG4gIC8vIFJlYWN0RWxlbWVudFxuICBleGlzdGluZ0tleU1hcCA9IGV4aXN0aW5nS2V5TWFwIHx8IHt9O1xuXG4gIGlmICghcmVuZGVyZWRFbGVtZW50IHx8XG4gIC8vIEJhaWwgaWYgd2UndmUgYWxyZWFkeSBwcm9jZXNzZWQgdGhpcyBlbGVtZW50LiBUaGlzIGVuc3VyZXMgdGhhdCBvbmx5IHRoZVxuICAvLyBvd25lciBvZiBhbiBlbGVtZW50IHByb2Nlc3NlcyB0aGF0IGVsZW1lbnQsIHNpbmNlIHRoZSBvd25lcidzIHJlbmRlclxuICAvLyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBmaXJzdCAod2hpY2ggd2lsbCBhbHdheXMgYmUgdGhlIGNhc2UsIHNpbmNlIHlvdVxuICAvLyBjYW4ndCBrbm93IHdoYXQgZWxzZSB0byByZW5kZXIgdW50aWwgeW91IHJlbmRlciB0aGUgcGFyZW50IGNvbXBvbmVudCkuXG4gIHJlbmRlcmVkRWxlbWVudC5wcm9wcyAmJiByZW5kZXJlZEVsZW1lbnQucHJvcHMuX3JhZGl1bURpZFJlc29sdmVTdHlsZXMpIHtcbiAgICByZXR1cm4gcmVuZGVyZWRFbGVtZW50O1xuICB9XG5cbiAgLy8gUmVjdXJzZSBvdmVyIGNoaWxkcmVuIGZpcnN0IGluIGNhc2Ugd2UgYmFpbCBlYXJseS4gTm90ZSB0aGF0IGNoaWxkcmVuIG9ubHlcbiAgLy8gaW5jbHVkZSB0aG9zZSByZW5kZXJlZCBpbiBgdGhpc2AgY29tcG9uZW50LiBDaGlsZCBub2RlcyBpbiBvdGhlciBjb21wb25lbnRzXG4gIC8vIHdpbGwgbm90IGJlIGhlcmUsIHNvIGVhY2ggY29tcG9uZW50IG5lZWRzIHRvIHVzZSBSYWRpdW0uXG4gIHZhciBvbGRDaGlsZHJlbiA9IHJlbmRlcmVkRWxlbWVudC5wcm9wcy5jaGlsZHJlbjtcbiAgdmFyIG5ld0NoaWxkcmVuID0gb2xkQ2hpbGRyZW47XG4gIGlmIChvbGRDaGlsZHJlbikge1xuICAgIHZhciBjaGlsZHJlblR5cGUgPSB0eXBlb2Ygb2xkQ2hpbGRyZW47XG4gICAgaWYgKGNoaWxkcmVuVHlwZSA9PT0gJ3N0cmluZycgfHwgY2hpbGRyZW5UeXBlID09PSAnbnVtYmVyJykge1xuICAgICAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgd2l0aCBhIHNpbmdsZSBwcmltaXRpdmUgY2hpbGRcbiAgICAgIG5ld0NoaWxkcmVuID0gb2xkQ2hpbGRyZW47XG4gICAgfSBlbHNlIGlmIChjaGlsZHJlblR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIFdyYXAgdGhlIGZ1bmN0aW9uLCByZXNvbHZpbmcgc3R5bGVzIG9uIHRoZSByZXN1bHRcbiAgICAgIG5ld0NoaWxkcmVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gb2xkQ2hpbGRyZW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgaWYgKFJlYWN0LmlzVmFsaWRFbGVtZW50KHJlc3VsdCkpIHtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZVN0eWxlcyhjb21wb25lbnQsIHJlc3VsdCwgZXhpc3RpbmdLZXlNYXApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoUmVhY3QuQ2hpbGRyZW4uY291bnQob2xkQ2hpbGRyZW4pID09PSAxICYmIG9sZENoaWxkcmVuLnR5cGUpIHtcbiAgICAgIC8vIElmIGEgUmVhY3QgRWxlbWVudCBpcyBhbiBvbmx5IGNoaWxkLCBkb24ndCB3cmFwIGl0IGluIGFuIGFycmF5IGZvclxuICAgICAgLy8gUmVhY3QuQ2hpbGRyZW4ubWFwKCkgZm9yIFJlYWN0LkNoaWxkcmVuLm9ubHkoKSBjb21wYXRpYmlsaXR5LlxuICAgICAgdmFyIG9ubHlDaGlsZCA9IFJlYWN0LkNoaWxkcmVuLm9ubHkob2xkQ2hpbGRyZW4pO1xuICAgICAgbmV3Q2hpbGRyZW4gPSByZXNvbHZlU3R5bGVzKGNvbXBvbmVudCwgb25seUNoaWxkLCBleGlzdGluZ0tleU1hcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0NoaWxkcmVuID0gUmVhY3QuQ2hpbGRyZW4ubWFwKG9sZENoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgaWYgKFJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICAgIHJldHVybiByZXNvbHZlU3R5bGVzKGNvbXBvbmVudCwgY2hpbGQsIGV4aXN0aW5nS2V5TWFwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHZhciBwcm9wcyA9IHJlbmRlcmVkRWxlbWVudC5wcm9wcztcbiAgdmFyIG5ld1Byb3BzID0ge307XG5cbiAgLy8gUmVjdXJzZSBvdmVyIHByb3BzLCBqdXN0IGxpa2UgY2hpbGRyZW5cbiAgT2JqZWN0LmtleXMocHJvcHMpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICAvLyBXZSBhbHJlYWR5IHJlY3Vyc2Ugb3ZlciBjaGlsZHJlbiBhYm92ZVxuICAgIGlmIChwcm9wID09PSAnY2hpbGRyZW4nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BdO1xuICAgIGlmIChSZWFjdC5pc1ZhbGlkRWxlbWVudChwcm9wVmFsdWUpKSB7XG4gICAgICBuZXdQcm9wc1twcm9wXSA9IHJlc29sdmVTdHlsZXMoY29tcG9uZW50LCBwcm9wVmFsdWUsIGV4aXN0aW5nS2V5TWFwKTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBoYXNSZXNvbHZlZFByb3BzID0gT2JqZWN0LmtleXMobmV3UHJvcHMpLmxlbmd0aCA+IDA7XG5cbiAgLy8gQmFpbCBlYXJseSBpZiBlbGVtZW50IGlzIG5vdCBhIHNpbXBsZSBSZWFjdERPTUVsZW1lbnQuXG4gIGlmICghUmVhY3QuaXNWYWxpZEVsZW1lbnQocmVuZGVyZWRFbGVtZW50KSB8fCB0eXBlb2YgcmVuZGVyZWRFbGVtZW50LnR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKG9sZENoaWxkcmVuID09PSBuZXdDaGlsZHJlbiAmJiAhaGFzUmVzb2x2ZWRQcm9wcykge1xuICAgICAgcmV0dXJuIHJlbmRlcmVkRWxlbWVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gX2Nsb25lRWxlbWVudChyZW5kZXJlZEVsZW1lbnQsIGhhc1Jlc29sdmVkUHJvcHMgPyBuZXdQcm9wcyA6IHt9LCBuZXdDaGlsZHJlbik7XG4gIH1cblxuICB2YXIgc3R5bGUgPSBwcm9wcy5zdHlsZTtcblxuICAvLyBDb252ZW5pZW50IHN5bnRheCBmb3IgbXVsdGlwbGUgc3R5bGVzOiBgc3R5bGU9e1tzdHlsZTEsIHN0eWxlMiwgZXRjXX1gXG4gIC8vIElnbm9yZXMgbm9uLW9iamVjdHMsIHNvIHlvdSBjYW4gZG8gYHRoaXMuc3RhdGUuaXNDb29sICYmIHN0eWxlcy5jb29sYC5cbiAgaWYgKEFycmF5LmlzQXJyYXkoc3R5bGUpKSB7XG4gICAgc3R5bGUgPSBfbWVyZ2VTdHlsZXMoc3R5bGUpO1xuICB9XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAvLyBXYXJuIGlmIHlvdSB1c2UgbG9uZ2hhbmQgYW5kIHNob3J0aGFuZCBwcm9wZXJ0aWVzIGluIHRoZSBzYW1lIHN0eWxlXG4gICAgLy8gb2JqZWN0LlxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9TaG9ydGhhbmRfcHJvcGVydGllc1xuXG4gICAgdmFyIHNob3J0aGFuZFByb3BlcnR5RXhwYW5zaW9ucyA9IHtcbiAgICAgICdiYWNrZ3JvdW5kJzogWydiYWNrZ3JvdW5kQXR0YWNobWVudCcsICdiYWNrZ3JvdW5kQmxlbmRNb2RlJywgJ2JhY2tncm91bmRDbGlwJywgJ2JhY2tncm91bmRDb2xvcicsICdiYWNrZ3JvdW5kSW1hZ2UnLCAnYmFja2dyb3VuZE9yaWdpbicsICdiYWNrZ3JvdW5kUG9zaXRpb24nLCAnYmFja2dyb3VuZFBvc2l0aW9uWCcsICdiYWNrZ3JvdW5kUG9zaXRpb25ZJywgJ2JhY2tncm91bmRSZXBlYXQnLCAnYmFja2dyb3VuZFJlcGVhdFgnLCAnYmFja2dyb3VuZFJlcGVhdFknLCAnYmFja2dyb3VuZFNpemUnXSxcbiAgICAgICdib3JkZXInOiBbJ2JvcmRlckJvdHRvbScsICdib3JkZXJCb3R0b21Db2xvcicsICdib3JkZXJCb3R0b21TdHlsZScsICdib3JkZXJCb3R0b21XaWR0aCcsICdib3JkZXJDb2xvcicsICdib3JkZXJMZWZ0JywgJ2JvcmRlckxlZnRDb2xvcicsICdib3JkZXJMZWZ0U3R5bGUnLCAnYm9yZGVyTGVmdFdpZHRoJywgJ2JvcmRlclJpZ2h0JywgJ2JvcmRlclJpZ2h0Q29sb3InLCAnYm9yZGVyUmlnaHRTdHlsZScsICdib3JkZXJSaWdodFdpZHRoJywgJ2JvcmRlclN0eWxlJywgJ2JvcmRlclRvcCcsICdib3JkZXJUb3BDb2xvcicsICdib3JkZXJUb3BTdHlsZScsICdib3JkZXJUb3BXaWR0aCcsICdib3JkZXJXaWR0aCddLFxuICAgICAgJ2JvcmRlckltYWdlJzogWydib3JkZXJJbWFnZU91dHNldCcsICdib3JkZXJJbWFnZVJlcGVhdCcsICdib3JkZXJJbWFnZVNsaWNlJywgJ2JvcmRlckltYWdlU291cmNlJywgJ2JvcmRlckltYWdlV2lkdGgnXSxcbiAgICAgICdib3JkZXJSYWRpdXMnOiBbJ2JvcmRlckJvdHRvbUxlZnRSYWRpdXMnLCAnYm9yZGVyQm90dG9tUmlnaHRSYWRpdXMnLCAnYm9yZGVyVG9wTGVmdFJhZGl1cycsICdib3JkZXJUb3BSaWdodFJhZGl1cyddLFxuICAgICAgJ2ZvbnQnOiBbJ2ZvbnRGYW1pbHknLCAnZm9udEtlcm5pbmcnLCAnZm9udFNpemUnLCAnZm9udFN0cmV0Y2gnLCAnZm9udFN0eWxlJywgJ2ZvbnRWYXJpYW50JywgJ2ZvbnRWYXJpYW50TGlnYXR1cmVzJywgJ2ZvbnRXZWlnaHQnLCAnbGluZUhlaWdodCddLFxuICAgICAgJ2xpc3RTdHlsZSc6IFsnbGlzdFN0eWxlSW1hZ2UnLCAnbGlzdFN0eWxlUG9zaXRpb24nLCAnbGlzdFN0eWxlVHlwZSddLFxuICAgICAgJ21hcmdpbic6IFsnbWFyZ2luQm90dG9tJywgJ21hcmdpbkxlZnQnLCAnbWFyZ2luUmlnaHQnLCAnbWFyZ2luVG9wJ10sXG4gICAgICAncGFkZGluZyc6IFsncGFkZGluZ0JvdHRvbScsICdwYWRkaW5nTGVmdCcsICdwYWRkaW5nUmlnaHQnLCAncGFkZGluZ1RvcCddLFxuICAgICAgJ3RyYW5zaXRpb24nOiBbJ3RyYW5zaXRpb25EZWxheScsICd0cmFuc2l0aW9uRHVyYXRpb24nLCAndHJhbnNpdGlvblByb3BlcnR5JywgJ3RyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiddXG4gICAgfTtcblxuICAgIHZhciBjaGVja1Byb3BzID0gZnVuY3Rpb24gY2hlY2tQcm9wcyhzKSB7XG4gICAgICBpZiAodHlwZW9mIHMgIT09ICdvYmplY3QnIHx8ICFzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0eWxlS2V5cyA9IE9iamVjdC5rZXlzKHMpO1xuICAgICAgc3R5bGVLZXlzLmZvckVhY2goZnVuY3Rpb24gKHN0eWxlS2V5KSB7XG4gICAgICAgIGlmIChzaG9ydGhhbmRQcm9wZXJ0eUV4cGFuc2lvbnNbc3R5bGVLZXldICYmIHNob3J0aGFuZFByb3BlcnR5RXhwYW5zaW9uc1tzdHlsZUtleV0uc29tZShmdW5jdGlvbiAoc3ApIHtcbiAgICAgICAgICByZXR1cm4gc3R5bGVLZXlzLmluZGV4T2Yoc3ApICE9PSAtMTtcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdSYWRpdW06IHByb3BlcnR5IFwiJyArIHN0eWxlS2V5ICsgJ1wiIGluIHN0eWxlIG9iamVjdCcsIHN0eWxlLCAnOiBkbyBub3QgbWl4IGxvbmdoYW5kIGFuZCAnICsgJ3Nob3J0aGFuZCBwcm9wZXJ0aWVzIGluIHRoZSBzYW1lIHN0eWxlIG9iamVjdC4gQ2hlY2sgdGhlIHJlbmRlciAnICsgJ21ldGhvZCBvZiAnICsgY29tcG9uZW50LmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lICsgJy4nLCAnU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Gb3JtaWRhYmxlTGFicy9yYWRpdW0vaXNzdWVzLzk1IGZvciBtb3JlICcgKyAnaW5mb3JtYXRpb24uJyk7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzdHlsZUtleXMuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICByZXR1cm4gY2hlY2tQcm9wcyhzW2tdKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgY2hlY2tQcm9wcyhzdHlsZSk7XG4gIH1cblxuICAvLyBCYWlsIGVhcmx5IGlmIG5vIGludGVyYWN0aXZlIHN0eWxlcy5cbiAgaWYgKCFzdHlsZSB8fCAhT2JqZWN0LmtleXMoc3R5bGUpLnNvbWUoX2lzU3BlY2lhbEtleSkpIHtcbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgIC8vIFN0aWxsIHBlcmZvcm0gdmVuZG9yIHByZWZpeGluZywgdGhvdWdoLlxuICAgICAgbmV3UHJvcHMuc3R5bGUgPSBQcmVmaXhlci5nZXRQcmVmaXhlZFN0eWxlKGNvbXBvbmVudCwgc3R5bGUpO1xuICAgICAgcmV0dXJuIF9jbG9uZUVsZW1lbnQocmVuZGVyZWRFbGVtZW50LCBuZXdQcm9wcywgbmV3Q2hpbGRyZW4pO1xuICAgIH0gZWxzZSBpZiAobmV3Q2hpbGRyZW4gfHwgaGFzUmVzb2x2ZWRQcm9wcykge1xuICAgICAgcmV0dXJuIF9jbG9uZUVsZW1lbnQocmVuZGVyZWRFbGVtZW50LCBuZXdQcm9wcywgbmV3Q2hpbGRyZW4pO1xuICAgIH1cblxuICAgIHJldHVybiByZW5kZXJlZEVsZW1lbnQ7XG4gIH1cblxuICAvLyBXZSBuZWVkIGEgdW5pcXVlIGtleSB0byBjb3JyZWxhdGUgc3RhdGUgY2hhbmdlcyBkdWUgdG8gdXNlciBpbnRlcmFjdGlvblxuICAvLyB3aXRoIHRoZSByZW5kZXJlZCBlbGVtZW50LCBzbyB3ZSBrbm93IHRvIGFwcGx5IHRoZSBwcm9wZXIgaW50ZXJhY3RpdmVcbiAgLy8gc3R5bGVzLlxuICB2YXIgb3JpZ2luYWxLZXkgPSByZW5kZXJlZEVsZW1lbnQucmVmIHx8IHJlbmRlcmVkRWxlbWVudC5rZXk7XG4gIHZhciBrZXkgPSBnZXRTdGF0ZUtleShvcmlnaW5hbEtleSk7XG5cbiAgaWYgKGV4aXN0aW5nS2V5TWFwW2tleV0pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1JhZGl1bSByZXF1aXJlcyBlYWNoIGVsZW1lbnQgd2l0aCBpbnRlcmFjdGl2ZSBzdHlsZXMgdG8gaGF2ZSBhIHVuaXF1ZSAnICsgJ2tleSwgc2V0IHVzaW5nIGVpdGhlciB0aGUgcmVmIG9yIGtleSBwcm9wLiAnICsgKG9yaWdpbmFsS2V5ID8gJ0tleSBcIicgKyBvcmlnaW5hbEtleSArICdcIiBpcyBhIGR1cGxpY2F0ZS4nIDogJ011bHRpcGxlIGVsZW1lbnRzIGhhdmUgbm8ga2V5IHNwZWNpZmllZC4nKSk7XG4gIH1cblxuICBleGlzdGluZ0tleU1hcFtrZXldID0gdHJ1ZTtcblxuICAvLyBNZWRpYSBxdWVyaWVzIGNhbiBjb250YWluIHBzZXVkbyBzdHlsZXMsIGxpa2UgOmhvdmVyXG4gIHN0eWxlID0gX3Jlc29sdmVNZWRpYVF1ZXJ5U3R5bGVzKGNvbXBvbmVudCwgc3R5bGUpO1xuXG4gIHZhciBuZXdTdHlsZSA9IHt9O1xuICBPYmplY3Qua2V5cyhzdHlsZSkuZm9yRWFjaChmdW5jdGlvbiAoc3R5bGVLZXkpIHtcbiAgICBpZiAoIV9pc1NwZWNpYWxLZXkoc3R5bGVLZXkpKSB7XG4gICAgICBuZXdTdHlsZVtzdHlsZUtleV0gPSBzdHlsZVtzdHlsZUtleV07XG4gICAgfVxuICB9KTtcblxuICAvLyBPbmx5IGFkZCBoYW5kbGVycyBpZiBuZWNlc3NhcnlcbiAgaWYgKHN0eWxlWyc6aG92ZXInXSB8fCBzdHlsZVsnOmFjdGl2ZSddKSB7XG4gICAgLy8gQWx3YXlzIGNhbGwgdGhlIGV4aXN0aW5nIGhhbmRsZXIgaWYgb25lIGlzIGFscmVhZHkgZGVmaW5lZC5cbiAgICAvLyBUaGlzIGNvZGUsIGFuZCB0aGUgdmVyeSBzaW1pbGFyIG9uZXMgYmVsb3csIGNvdWxkIGJlIGFic3RyYWN0ZWQgYSBiaXRcbiAgICAvLyBtb3JlLCBidXQgaXQgaHVydHMgcmVhZGFiaWxpdHkgSU1PLlxuICAgIHZhciBleGlzdGluZ09uTW91c2VFbnRlciA9IHByb3BzLm9uTW91c2VFbnRlcjtcbiAgICBuZXdQcm9wcy5vbk1vdXNlRW50ZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZXhpc3RpbmdPbk1vdXNlRW50ZXIgJiYgZXhpc3RpbmdPbk1vdXNlRW50ZXIoZSk7XG4gICAgICBfc2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgeyAnOmhvdmVyJzogdHJ1ZSB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGV4aXN0aW5nT25Nb3VzZUxlYXZlID0gcHJvcHMub25Nb3VzZUxlYXZlO1xuICAgIG5ld1Byb3BzLm9uTW91c2VMZWF2ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBleGlzdGluZ09uTW91c2VMZWF2ZSAmJiBleGlzdGluZ09uTW91c2VMZWF2ZShlKTtcbiAgICAgIF9zZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCB7ICc6aG92ZXInOiBmYWxzZSB9KTtcbiAgICB9O1xuICB9XG5cbiAgaWYgKHN0eWxlWyc6YWN0aXZlJ10pIHtcbiAgICB2YXIgZXhpc3RpbmdPbk1vdXNlRG93biA9IHByb3BzLm9uTW91c2VEb3duO1xuICAgIG5ld1Byb3BzLm9uTW91c2VEb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGV4aXN0aW5nT25Nb3VzZURvd24gJiYgZXhpc3RpbmdPbk1vdXNlRG93bihlKTtcbiAgICAgIGNvbXBvbmVudC5fbGFzdE1vdXNlRG93biA9IERhdGUubm93KCk7XG4gICAgICBfc2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgeyAnOmFjdGl2ZSc6IHRydWUgfSk7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChzdHlsZVsnOmZvY3VzJ10pIHtcbiAgICB2YXIgZXhpc3RpbmdPbkZvY3VzID0gcHJvcHMub25Gb2N1cztcbiAgICBuZXdQcm9wcy5vbkZvY3VzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGV4aXN0aW5nT25Gb2N1cyAmJiBleGlzdGluZ09uRm9jdXMoZSk7XG4gICAgICBfc2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgeyAnOmZvY3VzJzogdHJ1ZSB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGV4aXN0aW5nT25CbHVyID0gcHJvcHMub25CbHVyO1xuICAgIG5ld1Byb3BzLm9uQmx1ciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBleGlzdGluZ09uQmx1ciAmJiBleGlzdGluZ09uQmx1cihlKTtcbiAgICAgIF9zZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCB7ICc6Zm9jdXMnOiBmYWxzZSB9KTtcbiAgICB9O1xuICB9XG5cbiAgLy8gTWVyZ2UgdGhlIHN0eWxlcyBpbiB0aGUgb3JkZXIgdGhleSB3ZXJlIGRlZmluZWRcbiAgdmFyIGludGVyYWN0aW9uU3R5bGVzID0gT2JqZWN0LmtleXMoc3R5bGUpLmZpbHRlcihmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiBuYW1lID09PSAnOmFjdGl2ZScgJiYgX2dldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksICc6YWN0aXZlJykgfHwgbmFtZSA9PT0gJzpob3ZlcicgJiYgX2dldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksICc6aG92ZXInKSB8fCBuYW1lID09PSAnOmZvY3VzJyAmJiBfZ2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgJzpmb2N1cycpO1xuICB9KS5tYXAoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gc3R5bGVbbmFtZV07XG4gIH0pO1xuXG4gIGlmIChpbnRlcmFjdGlvblN0eWxlcy5sZW5ndGgpIHtcbiAgICBuZXdTdHlsZSA9IF9tZXJnZVN0eWxlcyhbbmV3U3R5bGVdLmNvbmNhdChpbnRlcmFjdGlvblN0eWxlcykpO1xuICB9XG5cbiAgaWYgKHN0eWxlWyc6YWN0aXZlJ10gJiYgIWNvbXBvbmVudC5fcmFkaXVtTW91c2VVcExpc3RlbmVyICYmIEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZUV2ZW50TGlzdGVuZXJzKSB7XG4gICAgY29tcG9uZW50Ll9yYWRpdW1Nb3VzZVVwTGlzdGVuZXIgPSBNb3VzZVVwTGlzdGVuZXIuc3Vic2NyaWJlKF9tb3VzZVVwLmJpbmQobnVsbCwgY29tcG9uZW50KSk7XG4gIH1cblxuICBuZXdQcm9wcy5zdHlsZSA9IFByZWZpeGVyLmdldFByZWZpeGVkU3R5bGUoY29tcG9uZW50LCBuZXdTdHlsZSk7XG5cbiAgcmV0dXJuIF9jbG9uZUVsZW1lbnQocmVuZGVyZWRFbGVtZW50LCBuZXdQcm9wcywgbmV3Q2hpbGRyZW4pO1xufTtcblxuLy8gRXhwb3NpbmcgbWV0aG9kcyBmb3IgdGVzdHMgaXMgdWdseSwgYnV0IHRoZSBhbHRlcm5hdGl2ZSwgcmUtcmVxdWlyaW5nIHRoZVxuLy8gbW9kdWxlIGVhY2ggdGltZSwgaXMgdG9vIHNsb3dcbnJlc29sdmVTdHlsZXMuX19jbGVhclN0YXRlRm9yVGVzdHMgPSBmdW5jdGlvbiAoKSB7XG4gIG1lZGlhUXVlcnlMaXN0QnlRdWVyeVN0cmluZyA9IHt9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSByZXNvbHZlU3R5bGVzOyIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gZmluZChhcnJheSwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gIGlmICh0eXBlb2YgQXJyYXkucHJvdG90eXBlLmZpbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYXJyYXkuZmluZChwcmVkaWNhdGUsIGNvbnRleHQpO1xuICB9XG5cbiAgY29udGV4dCA9IGNvbnRleHQgfHwgdGhpcztcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgdmFyIGk7XG5cbiAgaWYgKHR5cGVvZiBwcmVkaWNhdGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHByZWRpY2F0ZSArICcgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGlmIChwcmVkaWNhdGUuY2FsbChjb250ZXh0LCBhcnJheVtpXSwgaSwgYXJyYXkpKSB7XG4gICAgICByZXR1cm4gYXJyYXlbaV07XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZmluZDtcbiIsIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTUgSmVkIFdhdHNvbi5cbiAgQmFzZWQgb24gY29kZSB0aGF0IGlzIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4qL1xuXG4oZnVuY3Rpb24gKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGNhblVzZURPTSA9ICEhKFxuXHRcdHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG5cdFx0d2luZG93LmRvY3VtZW50ICYmXG5cdFx0d2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnRcblx0KTtcblxuXHR2YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSB7XG5cblx0XHRjYW5Vc2VET006IGNhblVzZURPTSxcblxuXHRcdGNhblVzZVdvcmtlcnM6IHR5cGVvZiBXb3JrZXIgIT09ICd1bmRlZmluZWQnLFxuXG5cdFx0Y2FuVXNlRXZlbnRMaXN0ZW5lcnM6XG5cdFx0XHRjYW5Vc2VET00gJiYgISEod2luZG93LmFkZEV2ZW50TGlzdGVuZXIgfHwgd2luZG93LmF0dGFjaEV2ZW50KSxcblxuXHRcdGNhblVzZVZpZXdwb3J0OiBjYW5Vc2VET00gJiYgISF3aW5kb3cuc2NyZWVuXG5cblx0fTtcblxuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdGRlZmluZShmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gRXhlY3V0aW9uRW52aXJvbm1lbnQ7XG5cdFx0fSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IEV4ZWN1dGlvbkVudmlyb25tZW50O1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5FeGVjdXRpb25FbnZpcm9ubWVudCA9IEV4ZWN1dGlvbkVudmlyb25tZW50O1xuXHR9XG5cbn0oKSk7XG4iXX0=
