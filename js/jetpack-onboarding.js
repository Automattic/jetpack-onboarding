(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-onboarding-constants"),DataActions={requestStarted:function(){AppDispatcher.dispatch({actionType:JPSConstants.SAVE_STARTED})},requestFinished:function(){AppDispatcher.dispatch({actionType:JPSConstants.SAVE_FINISHED})}};module.exports=DataActions;

},{"../constants/jetpack-onboarding-constants":22,"../dispatcher/app-dispatcher":24}],2:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-onboarding-constants"),FlashActions={notice:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SET_FLASH,message:t,severity:JPSConstants.FLASH_SEVERITY_NOTICE})},error:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SET_FLASH,message:t,severity:JPSConstants.FLASH_SEVERITY_ERROR})},unset:function(){AppDispatcher.dispatch({actionType:JPSConstants.UNSET_FLASH})}};module.exports=FlashActions;

},{"../constants/jetpack-onboarding-constants":22,"../dispatcher/app-dispatcher":24}],3:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-onboarding-constants"),Paths=require("../constants/jetpack-onboarding-paths"),FlashActions=require("./flash-actions"),SiteActions=require("./site-actions"),WPAjax=require("../utils/wp-ajax"),SpinnerActions=require("./spinner-actions"),SetupProgressStore=require("../stores/setup-progress-store"),SiteStore=require("../stores/site-store"),SetupProgressActions={resetData:function(){WPAjax.post(JPS.site_actions.reset_data).fail(function(t){FlashActions.error("Failed to save data: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.RESET_DATA})},completeStep:function(t,e){var n=SetupProgressStore.getStepFromSlug(t);return AppDispatcher.dispatch({actionType:JPSConstants.STEP_COMPLETE,slug:t}),this._recordComplete(n,e)},completeAndNextStep:function(t,e){SpinnerActions.show("Loading"),this.completeStep(t,e).always(function(){AppDispatcher.dispatch({actionType:JPSConstants.STEP_NEXT}),SpinnerActions.hide()})},_recordComplete:function(t,e){return"undefined"==typeof e&&(e={}),e.completion=SetupProgressStore.getProgressPercent(),WPAjax.post(JPS.step_actions.complete,{step:t.slug,data:e}).fail(function(t){FlashActions.error(t)})},skipStep:function(){FlashActions.unset();var t=SetupProgressStore.getCurrentStep();t.skipped?AppDispatcher.dispatch({actionType:JPSConstants.STEP_SKIP}):(SpinnerActions.show("Loading"),WPAjax.post(JPS.step_actions.skip,{step:t.slug}).fail(function(t){FlashActions.error(t)}).always(function(){SpinnerActions.hide(),AppDispatcher.dispatch({actionType:JPSConstants.STEP_SKIP})}))},getStarted:function(){SpinnerActions.show("Loading"),WPAjax.post(JPS.step_actions.start).fail(function(t){FlashActions.error(t)}).always(function(){SpinnerActions.hide(),AppDispatcher.dispatch({actionType:JPSConstants.STEP_GET_STARTED})})},disableJPS:function(){SpinnerActions.show(""),WPAjax.post(JPS.step_actions.disable).fail(function(t){FlashActions.error(t)}).always(function(){window.location.reload()})},setCurrentStep:function(t){FlashActions.unset(),AppDispatcher.dispatch({actionType:JPSConstants.STEP_SELECT,slug:t})},selectNextStep:function(){FlashActions.unset(),AppDispatcher.dispatch({actionType:JPSConstants.STEP_NEXT})},submitTitleStep:function(){SiteActions.saveTitleAndDescription().done(function(){this.completeAndNextStep(Paths.SITE_TITLE_STEP_SLUG)}.bind(this))},submitLayoutStep:function(t){SiteActions.setLayout(t).done(function(){this.completeAndNextStep(Paths.LAYOUT_STEP_SLUG)}.bind(this))},createContactPage:function(t){return SpinnerActions.show("Creating Page"),SiteActions.createContactUsPage(t).done(function(){this.completeStep(Paths.CONTACT_PAGE_STEP_SLUG)}.bind(this)).always(function(){SpinnerActions.hide()})},skipContactPageBuild:function(){this.completeAndNextStep(Paths.CONTACT_PAGE_STEP_SLUG)},submitJetpackJumpstart:function(){SiteActions.enableJumpstart().done(function(){this.completeStep(Paths.JETPACK_MODULES_STEP_SLUG)}.bind(this))},setActiveTheme:function(t){SiteActions.setActiveTheme(t).done(function(){this.completeStep(Paths.DESIGN_STEP_SLUG,{themeId:t.id})}.bind(this))},saveDesignStep:function(){this.completeAndNextStep(Paths.DESIGN_STEP_SLUG,{themeId:SiteStore.getActiveThemeId()})}};module.exports=SetupProgressActions;

},{"../constants/jetpack-onboarding-constants":22,"../constants/jetpack-onboarding-paths":23,"../dispatcher/app-dispatcher":24,"../stores/setup-progress-store":28,"../stores/site-store":29,"../utils/wp-ajax":32,"./flash-actions":2,"./site-actions":4,"./spinner-actions":5}],4:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-onboarding-constants"),SiteStore=require("../stores/site-store"),FlashActions=require("./flash-actions.js"),SpinnerActions=require("./spinner-actions.js"),WPAjax=require("../utils/wp-ajax"),SiteActions={setTitle:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_TITLE,title:t})},setDescription:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_DESCRIPTION,description:t})},saveTitleAndDescription:function(){var t=SiteStore.getTitle(),e=SiteStore.getDescription();return WPAjax.post(JPS.site_actions.set_title,{title:t,description:e}).fail(function(t){FlashActions.error("Error setting title: "+t)}),jQuery("#wp-admin-bar-site-name .ab-item").html(t),AppDispatcher.dispatch({actionType:JPSConstants.SITE_SAVE_TITLE_AND_DESCRIPTION,title:t}),jQuery.Deferred().resolve()},setContactPageId:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_CONTACT_PAGE_ID,contactPageID:t})},_installTheme:function(t){return t.installed?jQuery.Deferred().resolve():(SpinnerActions.show("Installing '"+t.name+"'"),WPAjax.post(JPS.site_actions.install_theme,{themeId:t.id}).done(function(){t.installed=!0,AppDispatcher.dispatch({actionType:JPSConstants.SITE_INSTALL_THEME,theme:t})}).fail(function(t){FlashActions.error("Server error installing theme: "+t)}).always(function(){SpinnerActions.hide()}))},_activateTheme:function(t){WPAjax.post(JPS.site_actions.set_theme,{themeId:t.id}).fail(function(t){FlashActions.error("Server error setting theme: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_THEME,themeId:t.id})},setActiveTheme:function(t){return this._installTheme(t).done(function(){this._activateTheme(t)}.bind(this)),jQuery.Deferred().resolve()},setLayout:function(t){return WPAjax.post(JPS.site_actions.set_layout,{layout:t}).fail(function(t){FlashActions.error("Error setting layout: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_SET_LAYOUT,layout:t}),jQuery.Deferred().resolve()},createContactUsPage:function(t){return WPAjax.post(JPS.site_actions.build_contact_page,{buildContactPage:t}).done(function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_CREATE_CONTACT_US_PAGE,data:t})}).fail(function(t){FlashActions.error("Error creating contact us page: "+t)})},skipContactPageBuild:function(){return AppDispatcher.dispatch({actionType:JPSConstants.SITE_CREATE_CONTACT_US_PAGE}),jQuery.Deferred().resolve()},configureJetpack:function(t){return SpinnerActions.show("Connecting to WordPress.com"),WPAjax.post(JPS.site_actions.configure_jetpack,{return_to_step:t}).done(function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_CONFIGURED}),t.next?window.location.replace(t.next):SpinnerActions.hide()}).fail(function(t){FlashActions.error("Error enabling Jetpack: "+t),SpinnerActions.hide()})},activateJetpackModule:function(t){return WPAjax.post(JPS.site_actions.activate_jetpack_modules,{modules:[t]}).fail(function(t){FlashActions.error("Error activating Jetpack module: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_MODULE_ENABLED,slug:t}),jQuery.Deferred().resolve()},deactivateJetpackModule:function(t){return WPAjax.post(JPS.site_actions.deactivate_jetpack_modules,{modules:[t]}).fail(function(t){FlashActions.error("Error deactivating Jetpack module: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_MODULE_DISABLED,slug:t}),jQuery.Deferred().resolve()},loadAllJetpackModules:function(){return 0===SiteStore.getJetpackAdditionalModules().length?WPAjax.post(JPS.site_actions.list_jetpack_modules).done(function(t){AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_ADD_MODULES,modules:t})}).fail(function(t){FlashActions.error("Error fetching all Jetpack modules: "+t)}):jQuery.Deferred().resolve()},enableJumpstart:function(){return WPAjax.post(JPS.site_actions.activate_jetpack_modules,{modules:SiteStore.getJumpstartModuleSlugs()}).fail(function(t){FlashActions.error("Error activating Jetpack modules: "+t)}),AppDispatcher.dispatch({actionType:JPSConstants.SITE_JETPACK_JUMPSTART_ENABLED}),jQuery.Deferred().resolve()}};module.exports=SiteActions;

},{"../constants/jetpack-onboarding-constants":22,"../dispatcher/app-dispatcher":24,"../stores/site-store":29,"../utils/wp-ajax":32,"./flash-actions.js":2,"./spinner-actions.js":5}],5:[function(require,module,exports){
var AppDispatcher=require("../dispatcher/app-dispatcher"),JPSConstants=require("../constants/jetpack-onboarding-constants"),SpinnerActions={show:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SHOW_SPINNER,message:t})},hide:function(){AppDispatcher.dispatch({actionType:JPSConstants.HIDE_SPINNER})},showAsync:function(t){AppDispatcher.dispatch({actionType:JPSConstants.SHOW_ASYNC_SPINNER,message:t})},hideAsync:function(){AppDispatcher.dispatch({actionType:JPSConstants.HIDE_ASYNC_SPINNER})}};module.exports=SpinnerActions;

},{"../constants/jetpack-onboarding-constants":22,"../dispatcher/app-dispatcher":24}],6:[function(require,module,exports){
(function (global){
function getSiteState(){return{site_title:SiteStore.getTitle()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Button=require("@automattic/dops-react/js/components/button"),SiteStore=require("../stores/site-store"),WelcomeSection=require("./welcome-section"),SettingsItem=React.createClass({displayName:"SettingsItem",styles:{item:{padding:"1em",marginBottom:"1em",listStyle:"none",background:"#f5f5f5",border:"1px solid #ddd"},heading:{margin:0,fontSize:"1.2em",fontWeight:800}},render:function(){return React.createElement("li",{style:this.styles.item},React.createElement("h5",{style:this.styles.heading},this.props.title),this.props.children)}}),AdvancedSettingsStep=React.createClass({displayName:"AdvancedSettingsStep",styles:{wrapper:{marginLeft:0}},getInitialState:function(){return getSiteState()},componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSiteState())},render:function(){return React.createElement(WelcomeSection,null,React.createElement("h3",null,"Let's launch ",React.createElement("em",null,this.state.site_title)),React.createElement("h4",null,"Advanced settings"),React.createElement("ul",{style:this.styles.wrapper},React.createElement(SettingsItem,{title:"Fine-tune your site's layout and appearance"},"Customize your site’s colors, fonts, sidebars and other settings.",React.createElement("br",null),React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.customize_url},"Customize my site"),"  ",React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.themes_url},"Browse and add themes")),("blog"==SiteStore.getLayout()||"site-blog"==SiteStore.getLayout())&&React.createElement(SettingsItem,{title:"Create your first blog post"},'An epic essay or just "Hello World!"',React.createElement("br",null),React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.new_blog_post_url},"Write a new blog post"),"  ",React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.manage_posts_url},"Manage posts")),React.createElement(SettingsItem,{title:"Create a static page"},'"About me", "Our Services" or anything else you can imagine.',React.createElement("br",null),React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.new_page_url},"Create a new page"),"  ",React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.manage_pages_url},"Manage pages")),React.createElement(SettingsItem,{title:"Extend your site's functionality"},"WordPress offers thousands of plugins from Jetpack and the WordPress community.",React.createElement("br",null),React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.plugins_url},"Manage plugins"),"  ",SiteStore.getJetpackConfigured()&&React.createElement(Button,{color:"blue",href:JPS.steps.advanced_settings.jetpack_modules_url},"Manage Jetpack modules")),React.createElement(SettingsItem,{title:"Learn more"},React.createElement("a",{href:"https://codex.wordpress.org/First_Steps_With_WordPress"},"First Steps with WordPress")," - an online guide from the creators of WordPress")))}});module.exports=AdvancedSettingsStep;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../stores/site-store":29,"./welcome-section":20,"@automattic/dops-react/js/components/button":34}],7:[function(require,module,exports){
(function (global){
function getSiteContactState(){return{site_title:SiteStore.getTitle(),contactPageURL:SiteStore.getContactPageURL(),contactPageScreenshot:JPS.base_url+"/img/contact-us-screenshot.png"}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteStore=require("../stores/site-store"),Button=require("@automattic/dops-react/js/components/button"),WelcomeSection=require("./welcome-section"),styles=require("../styles"),SetupProgressActions=require("../actions/setup-progress-actions"),ContactPageStep=React.createClass({displayName:"ContactPageStep",componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSiteContactState())},getInitialState:function(){return getSiteContactState()},handleBuildContact:function(e){e.preventDefault(),SetupProgressActions.createContactPage()},handleSubmit:function(e){e.preventDefault(),SetupProgressActions.skipContactPageBuild()},handleContinue:function(e){e.preventDefault(),SetupProgressActions.selectNextStep()},render:function(){return this.state.contactPageURL?React.createElement(WelcomeSection,{id:"welcome__layout"},React.createElement("h3",null,"Let's launch ",React.createElement("em",null,this.state.site_title)),React.createElement("h4",null,"Help visitors get in touch, great for buisnesses, blogs and personal sites"),React.createElement("p",{style:styles.content},"View your starter ",React.createElement("a",{href:this.state.contactPageURL,target:"_blank"},"Contact Us")," page.",React.createElement("br",null),React.createElement("small",null,"(The form requires a free Jetpack connection)"),React.createElement("p",{className:"submit"},React.createElement(Button,{color:"blue",onClick:this.handleContinue},"Next Step →")))):React.createElement(WelcomeSection,{id:"welcome__layout"},React.createElement("h3",null,"Let's launch ",React.createElement("em",null,this.state.site_title)),React.createElement("h4",null,"Help visitors get in touch, great for businesses, blogs and personal sites"),React.createElement("img",{style:styles.screenshot,src:this.state.contactPageScreenshot}),React.createElement("p",{style:styles.content},"Build a ",React.createElement("em",null,"starter"),' "Contact Us" page?',React.createElement("br",null),React.createElement("small",null,"(requires a free Jetpack connection)")),React.createElement(Button,{color:"green",style:{marginRight:15},onClick:this.handleBuildContact},"Yes"),React.createElement(Button,{onClick:this.handleSubmit},"No Thanks"))}});module.exports=ContactPageStep;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/site-store":29,"../styles":31,"./welcome-section":20,"@automattic/dops-react/js/components/button":34}],8:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,ContentBox=React.createClass({displayName:"ContentBox",render:function(){return React.createElement("div",{className:"welcome__content_box"},this.props.children,React.createElement("div",{className:"clear"}))}});module.exports=ContentBox;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],9:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Dashicon=React.createClass({displayName:"Dashicon",propTypes:{name:React.PropTypes.string.isRequired,style:React.PropTypes.object,onMouseOver:React.PropTypes.func,onMouseOut:React.PropTypes.func},render:function(){return React.createElement("span",{style:this.props.style,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut,className:"dashicons dashicons-"+this.props.name},this.props.children)}});module.exports=Dashicon;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],10:[function(require,module,exports){
(function (global){
function getThemeState(){return{themes:SiteStore.getThemes(),site_title:SiteStore.getTitle()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteStore=require("../stores/site-store"),SetupProgressActions=require("../actions/setup-progress-actions"),Tooltip=require("./tooltip"),WelcomeSection=require("./welcome-section"),ContentBox=require("./content-box"),styles=require("../styles"),Button=require("@automattic/dops-react/js/components/button"),DesignStep=React.createClass({displayName:"DesignStep",componentDidMount:function(){SiteStore.addChangeListener(this._onChange),this._loadPopularThemes()},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getThemeState())},getInitialState:function(){var e=getThemeState();return e.popularThemes=[],e},handleActivateTheme:function(e){e.preventDefault(),this.setState({tooltipTheme:null,tooltipPosition:null});var t=jQuery(e.currentTarget),n=t.data("theme-id"),o=this.findTheme(n),a=!o.installed,i=SetupProgressActions.setActiveTheme(o);a&&i.done(function(){this._loadPopularThemes()}.bind(this))},findTheme:function(e){return _.findWhere(this.state.themes,{id:e})||_.findWhere(this.state.popularThemes,{id:e})},handleContinue:function(e){e.preventDefault(),SetupProgressActions.saveDesignStep()},handleShowTooltip:function(e){e.preventDefault();var t=jQuery(e.currentTarget),n=this.findTheme(t.data("theme-id")),o=t.position(),a=t.outerWidth(),i=t.outerHeight(),l={top:o.top+i/2,left:o.left+a};this.setState({tooltipTheme:n,tooltipPosition:l})},handleHideTooltip:function(e){e.preventDefault(),this.setState({tooltipTheme:null,tooltipPosition:null})},handleGetPopularThemes:function(e){e.preventDefault(),this._loadPopularThemes()},_loadPopularThemes:function(){SiteStore.getPopularThemes().done(function(e){this.setState({popularThemes:e})}.bind(this))},render:function(){return React.createElement(WelcomeSection,{id:"welcome__design"},React.createElement("h3",null,"Let's launch ",React.createElement("em",null,this.state.site_title)),React.createElement("h4",null,"Pick a design"),React.createElement("p",{style:styles.content},'A "theme" controls the design of your site - colours, fonts and layout.'),React.createElement("p",{style:styles.content},"Click any theme below to choose it for your site. And don't worry - you can easily change this later."),React.createElement("p",{className:"submit"},React.createElement(Button,{color:"blue",onClick:this.handleContinue},"Next Step →")),React.createElement(ContentBox,null,React.createElement("h3",null,"Installed themes"),React.createElement("div",{className:"theme-browser rendered"},this._renderThemeList())),React.createElement(ContentBox,null,React.createElement("h3",null,"Popular themes from WordPress.org",React.createElement(Button,{color:"blue",style:{"float":"right"},onClick:this.handleGetPopularThemes},"Load more themes")),React.createElement("div",{className:"theme-browser rendered"},this._renderPopularThemeList())),React.createElement("div",{style:{clear:"both"}}),this.state.tooltipTheme&&this._renderTooltip())},_renderTooltip:function(){var e=this.state.tooltipTheme,t=this.state.tooltipPosition;return React.createElement(Tooltip,{left:t.left,top:t.top,width:320,title:e.name},React.createElement("p",null,"By ",e.author),React.createElement("p",{dangerouslySetInnerHTML:{__html:_.unescape(e.description)}}))},_renderTheme:function(e){return React.createElement("div",{key:e.id,className:"theme"+(e.active?" active":""),"data-theme-id":e.id,onClick:this.handleActivateTheme,onMouseEnter:this.handleShowTooltip,onMouseLeave:this.handleHideTooltip,"aria-describedby":e.id+"-action "+e.id+"-name"},e.screenshot?React.createElement("div",{className:"theme-screenshot"},React.createElement("img",{src:e.screenshot,alt:""})):React.createElement("div",{className:"theme-screenshot blank"}),!e.active&&React.createElement("span",{className:"more-details"},e.installed?"Click to select":"Click to install"),React.createElement("h3",{className:"theme-name",id:e.id+"-name"},React.createElement("span",null,e.active?"Selected:":"")," ",e.name))},_renderPopularThemeList:function(){return this.state.popularThemes.map(this._renderTheme)},_renderThemeList:function(){return this.state.themes.map(this._renderTheme)}});module.exports=DesignStep;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/site-store":29,"../styles":31,"./content-box":8,"./tooltip":18,"./welcome-section":20,"@automattic/dops-react/js/components/button":34}],11:[function(require,module,exports){
(function (global){
function getFlashState(){return FlashStore.getFlash()}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,FlashStore=require("../stores/flash-store"),Flash=React.createClass({displayName:"Flash",componentDidMount:function(){FlashStore.addChangeListener(this._onChange)},componentWillUnmount:function(){FlashStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getFlashState())},getInitialState:function(){return getFlashState()},render:function(){return this.state.message?React.createElement("div",{className:this.state.severity+" updated"},this.state.message):null}});module.exports=Flash;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../stores/flash-store":27}],12:[function(require,module,exports){
(function (global){
function getSetupState(){return{}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SetupProgressStore=require("../stores/setup-progress-store"),SetupProgressActions=require("../actions/setup-progress-actions"),Button=require("@automattic/dops-react/js/components/button"),m=require("@automattic/dops-react/js/utils/m"),Radium=require("radium"),GetStarted=React.createClass({displayName:"GetStarted",componentDidMount:function(){SetupProgressStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SetupProgressStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSetupState())},getInitialState:function(){return getSetupState()},handleGetStarted:function(e){e.preventDefault(),SetupProgressActions.getStarted()},handleNoThanks:function(e){e.preventDefault(),SetupProgressActions.disableJPS()},_isIE8:function(){jQuery("html").is(".ie8")},styles:{wrapper:{textAlign:"center",backgroundRepeat:"no-repeat",backgroundPosition:"center bottom",backgroundSize:"520px auto",position:"fixed",top:0,left:160,width:"100%",height:"100%",backgroundColor:"#fff",paddingTop:100,zIndex:999,"@media (max-width: 960px)":{left:36},"@media (max-width: 782px)":{left:0}},wrapperIE8:{backgroundImage:"none"},innerwrapper:{margin:"0 0 0 -160px","@media (max-width: 960px)":{margin:"0 0 0 -36px"},"@media (max-width: 782px)":{margin:"0"}},subhead:{margin:"20px 0 15px",color:"#666",fontSize:18,lineHeight:1.6,textAlign:"center","@media (max-width: 600px)":{marginBottom:15,fontSize:15},"@media (max-width: 320px)":{fontSize:13}},button:{borderRadius:6,fontFamily:"proxima-nova, 'Open Sans', Helvetica, sans-serif",fontSize:16,lineHeight:1,padding:"0.64286em 0.85714em 0.53571em"},greenButton:{borderWidth:"1px",borderStyle:"solid",borderColor:"rgb(62, 108, 32)",background:"rgb(81, 141, 42)",boxShadow:"rgb(62, 108, 32) 0px 3px 0px, rgba(0, 0, 0, 0.4) 0px 4px 3px",color:"#fff",":hover":{color:"#fff",background:"rgb(129, 168, 68)",borderColor:"rgb(129, 168, 68)"}},grayButton:{background:"linear-gradient(rgb(255, 255, 255), rgb(249, 249, 249))",boxShadow:"rgb(150, 150, 150) 0px 3px 0px, rgba(0, 0, 0, 0.4) 0px 4px 3px",color:"#333"}},render:function(){return React.createElement("div",{key:"welcome-intro",style:[this.styles.wrapper,this._isIE8()&&this.styles.wrapperIE8]},React.createElement("div",{key:"welcome-intro-innerwrapper",style:this.styles.innerwrapper},React.createElement("h3",{style:{fontSize:30,marginTop:30}},"Welcome to WordPress"),React.createElement("p",{style:this.styles.subhead},"Would you like help designing your site?"),React.createElement("p",null,React.createElement(Button,{style:m(this.styles.button,this.styles.greenButton),onClick:this.handleGetStarted},"Yes"),"   ",React.createElement(Button,{style:m(this.styles.button,this.styles.grayButton),onClick:this.handleNoThanks},"No thanks"))))}});module.exports=Radium(GetStarted);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/setup-progress-store":28,"@automattic/dops-react/js/components/button":34,"@automattic/dops-react/js/utils/m":38,"radium":52}],13:[function(require,module,exports){
(function (global){
function getJetpackProgress(){return{jetpackConfigured:SiteStore.getJetpackConfigured()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteStore=require("../stores/site-store"),SiteActions=require("../actions/site-actions"),Paths=require("../constants/jetpack-onboarding-paths"),JetpackJumpstartMenu=React.createClass({displayName:"JetpackJumpstartMenu",componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getJetpackProgress())},getInitialState:function(){return getJetpackProgress()},handleClickConnect:function(e){e.preventDefault(),SiteActions.configureJetpack(Paths.JETPACK_MODULES_STEP_SLUG)},style:{color:"black",fontSize:12,marginTop:5,marginLeft:20},primaryConnectBtn:{marginTop:10,marginBottom:20},render:function(){return React.createElement("div",{style:this.style},this.state.jetpackConfigured?React.createElement("div",null):React.createElement("div",null,"Boost traffic, enhance security, and improve performance with a connection to WordPress.com",React.createElement("br",null),React.createElement("a",{className:"button button-primary button-large",style:this.primaryConnectBtn,href:"#",onClick:this.handleClickConnect},"Connect to WordPress.com")))}});module.exports=JetpackJumpstartMenu;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/site-actions":4,"../constants/jetpack-onboarding-paths":23,"../stores/site-store":29}],14:[function(require,module,exports){
(function (global){
function getJetpackState(){return{site_title:SiteStore.getTitle(),jetpackConfigured:SiteStore.getJetpackConfigured(),jumpstartEnabled:SiteStore.getJetpackJumpstartEnabled(),modulesEnabled:SiteStore.getActiveModuleSlugs()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Radium=require("radium"),SkipButton=require("./skip-button"),SiteStore=require("../stores/site-store"),SiteActions=require("../actions/site-actions"),Paths=require("../constants/jetpack-onboarding-paths"),ContentBox=require("./content-box"),styles=require("../styles"),WelcomeSection=require("./welcome-section"),SetupProgressActions=require("../actions/setup-progress-actions"),SpinnerStore=require("../stores/spinner-store"),Button=require("@automattic/dops-react/js/components/button"),JetpackLogo=React.createClass({displayName:"JetpackLogo",styles:{jetpackLogoWrapper:{display:"block",textAlign:"center",height:70,color:"white",marginLeft:5,backgroundColor:"#81a844"},jetpackLogo:{display:"inline-block",position:"relative",width:214,marginRight:6,background:"url("+JPS.jetpack.logo_url+") center center no-repeat",backgroundSize:"183px auto",color:"#fff",fontWeight:"normal",padding:"5px 0px"},jetpackLogoName:{textIndent:-9999,visibility:"hidden"}},render:function(){return React.createElement("span",{style:[this.styles.jetpackLogoWrapper,this.props.style]},"Powered by",React.createElement("br",null),React.createElement("a",{href:"/wp-admin/admin.php?page=jetpack",title:"Jetpack",style:this.styles.jetpackLogo},React.createElement("span",{style:this.styles.jetpackLogoName},"Jetpack")))}});JetpackLogo=Radium(JetpackLogo);var JetpackJumpstart=React.createClass({displayName:"JetpackJumpstart",styles:{jetpackLogo:{"float":"right","@media (max-width: 782px)":{"float":"none",marginLeft:0}},jumpstartModule:{"float":"left",position:"relative",height:160,padding:10,"@media (min-width: 782px)":{width:"33%"}},jumpstartModuleDesc:{display:"block",marginTop:5,lineHeight:"150%"},overlayContent:{marginTop:10,marginBottom:10},overlayBefore:{display:"block",position:"absolute",width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.2)"},overlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",minHeight:"100%",zIndex:700},overlayBody:{textAlign:"center",position:"absolute",borderRadius:3,boxShadow:"0 0 4px rgba(0,0,0,0.2)",zIndex:800,left:"50%",top:"50%",padding:15,transform:"translate(-50%,-50%)",width:"70%",backgroundColor:"#fff"},moreLink:{textAlign:"center"}},componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getJetpackState())},getInitialState:function(){var e=getJetpackState();return e.showMoreModules=!1,e},handleJetpackConnect:function(e){e.preventDefault(),SiteActions.configureJetpack(Paths.JETPACK_MODULES_STEP_SLUG)},handleChangeModuleStatus:function(e){var t=jQuery(e.currentTarget),a=t.data("module-slug");SiteStore.isJetpackModuleEnabled(a)?SiteActions.deactivateJetpackModule(a):SiteActions.activateJetpackModule(a)},handleEnableAllModules:function(e){e.preventDefault(),SiteActions.enableJumpstart()},handleNext:function(e){e.preventDefault(),SetupProgressActions.completeAndNextStep(Paths.JETPACK_MODULES_STEP_SLUG)},handleShowMoreModules:function(e){e.preventDefault(),SiteActions.loadAllJetpackModules().done(function(){this.setState({showMoreModules:!0})}.bind(this))},handleShowFewerModules:function(e){e.preventDefault(),this.setState({showMoreModules:!1})},_renderModule:function(e){var t=SiteStore.isJetpackModuleEnabled(e.slug),a="jp-module-"+e.slug;return React.createElement("div",{key:"modules-"+e.slug,style:this.styles.jumpstartModule},React.createElement("input",{id:a,type:"checkbox",checked:t,"data-module-slug":e.slug,onChange:this.handleChangeModuleStatus}),React.createElement("label",{htmlFor:a},React.createElement("strong",null,e.name)),React.createElement("div",{style:this.styles.jumpstartModuleDesc},React.createElement("div",{dangerouslySetInnerHTML:{__html:e.description}}),t&&e.configure_url&&React.createElement("div",null,React.createElement("a",{target:"_configure",href:e.configure_url},"configure"))))},render:function(){var e,t,a;this.state.jetpackConfigured||SpinnerStore.showing()||(e=React.createElement("div",{style:this.styles.overlayBefore}),t=React.createElement("div",{style:this.styles.overlay}),a=React.createElement("div",{style:this.styles.overlayBody},React.createElement("p",{style:this.styles.overlayContent},"These modules require a WordPress.com account - it's free!"),React.createElement(Button,{color:"green",size:"big",theme:"jetpack",onClick:this.handleJetpackConnect},"Connect to WordPress.com"),React.createElement("p",{style:this.styles.overlayContent},React.createElement(SkipButton,null))));var o=SiteStore.getJumpstartModules().map(this._renderModule),n=SiteStore.getJetpackAdditionalModules().map(this._renderModule);return React.createElement(WelcomeSection,null,React.createElement("h3",null,"Let's launch ",React.createElement("em",null,this.state.site_title)),React.createElement("h4",null,"Enable Jetpack features"),this.state.jetpackConfigured&&React.createElement("div",null,React.createElement(JetpackLogo,{style:this.styles.jetpackLogo}),React.createElement("p",{style:styles.content},"Congratulations! You've enabled Jetpack and unlocked dozens of powerful features."),React.createElement("p",{style:styles.content},"Check the boxes below to enable our most popular features."),React.createElement("div",{className:"clear"})),React.createElement("div",{className:"welcome__connect"},React.createElement("div",{style:{position:"relative"}},e,t,a,this.state.jetpackConfigured&&React.createElement("div",{className:"submit"},React.createElement(Button,{style:{"float":"right"},color:"blue",onClick:this.handleNext},"Next Step →"),React.createElement("div",{className:"clear"})),React.createElement(ContentBox,null,React.createElement("h3",null,"Popular features   ",React.createElement(Button,{disabled:this.state.jumpstartEnabled,color:"blue",onClick:this.handleEnableAllModules},this.state.jumpstartEnabled?"Enabled All":"Enable all (recommended)")),o),this.state.showMoreModules?React.createElement("p",{style:this.styles.moreLink},React.createElement("a",{href:"#",onClick:this.handleShowFewerModules},"hide additional features")):React.createElement("p",{style:this.styles.moreLink},React.createElement("a",{href:"#",onClick:this.handleShowMoreModules},"show additional features")),this.state.showMoreModules&&React.createElement(ContentBox,null,React.createElement("h3",null,"Additional modules"),n))))}});module.exports=Radium(JetpackJumpstart);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../actions/site-actions":4,"../constants/jetpack-onboarding-paths":23,"../stores/site-store":29,"../stores/spinner-store":30,"../styles":31,"./content-box":8,"./skip-button":17,"./welcome-section":20,"@automattic/dops-react/js/components/button":34,"radium":52}],15:[function(require,module,exports){
(function (global){
function getSiteLayoutState(){return{site_title:SiteStore.getTitle(),layout:SiteStore.getLayout()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteStore=require("../stores/site-store"),Button=require("@automattic/dops-react/js/components/button"),WelcomeSection=require("./welcome-section"),styles=require("../styles"),SetupProgressActions=require("../actions/setup-progress-actions"),LayoutStep=React.createClass({displayName:"LayoutStep",componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSiteLayoutState())},getInitialState:function(){return getSiteLayoutState()},handleSetLayout:function(e){this.setState({layout:jQuery(e.currentTarget).val()})},handleSubmit:function(e){e.preventDefault(),SetupProgressActions.submitLayoutStep(this.state.layout)},render:function(){return React.createElement(WelcomeSection,{id:"welcome__layout"},React.createElement("h3",null,"Let's launch ",React.createElement("em",null,this.state.site_title)),React.createElement("h4",null,"Select a Layout"),React.createElement("p",{style:styles.content},"WordPress can be a blog, a web site with a hierarchy of static pages, or a combination of the two."),React.createElement("form",{onSubmit:this.handleSubmit},React.createElement("label",null,React.createElement("input",{type:"radio",name:"site_layout",value:"website",checked:"website"===this.state.layout,onChange:this.handleSetLayout})," Static Website",React.createElement("p",{className:"description"},"A web site with a hierarchy of pages")),React.createElement("br",null),React.createElement("label",null,React.createElement("input",{type:"radio",name:"site_layout",value:"site-blog",checked:"site-blog"===this.state.layout,onChange:this.handleSetLayout})," Static Website with a blog",React.createElement("p",{className:"description"},"A web site with pages that also has a blog or news section")),React.createElement("br",null),React.createElement("label",null,React.createElement("input",{type:"radio",name:"site_layout",value:"blog",checked:"blog"===this.state.layout,onChange:this.handleSetLayout})," Just a blog",React.createElement("p",{className:"description"},"A web site that will constantly show new content (articles, photos, videos, etc.)")),React.createElement("p",{className:"submit"},React.createElement(Button,{color:"blue"},"Next Step →"))))}});module.exports=LayoutStep;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/site-store":29,"../styles":31,"./welcome-section":20,"@automattic/dops-react/js/components/button":34}],16:[function(require,module,exports){
(function (global){
function getSiteTitleState(){return{title:SiteStore.getTitle(),description:SiteStore.getDescription()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SiteActions=require("../actions/site-actions"),SiteStore=require("../stores/site-store"),WelcomeSection=require("./welcome-section"),styles=require("../styles"),Button=require("@automattic/dops-react/js/components/button"),SetupProgressActions=require("../actions/setup-progress-actions"),SiteTitleStep=React.createClass({displayName:"SiteTitleStep",componentDidMount:function(){SiteStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SiteStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSiteTitleState())},getInitialState:function(){return getSiteTitleState()},handleChangeTitle:function(e){SiteActions.setTitle(e.currentTarget.value)},handleChangeDescription:function(e){SiteActions.setDescription(e.currentTarget.value)},handleSubmit:function(e){e.preventDefault(),SetupProgressActions.submitTitleStep()},render:function(){return React.createElement(WelcomeSection,{id:"welcome__site-title"},React.createElement("h3",null,"Let's launch your new website"),React.createElement("h4",null,"Enter a Title and Description"),React.createElement("p",{style:styles.content},"Make your site stand out with a catchy name."),React.createElement("form",{onSubmit:this.handleSubmit},React.createElement("table",{className:"form-table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("th",null,React.createElement("label",{htmlFor:"site_title"},"Site Title")),React.createElement("td",null,React.createElement("input",{type:"text",name:"site_title",id:"site-title",autoComplete:"off",onChange:this.handleChangeTitle,value:this.state.title,placeholder:"Site Title (this can be changed later)",required:!0}),React.createElement("p",{className:"description"},"The name of your site. This title appears at the top of pages and in search results."))),React.createElement("tr",null,React.createElement("th",null,React.createElement("label",{htmlFor:"site_description"},"Site Description")),React.createElement("td",null,React.createElement("input",{type:"text",name:"site_description",id:"site-description",autoComplete:"off",onChange:this.handleChangeDescription,value:this.state.description,placeholder:"Site Description",required:!0}),React.createElement("p",{className:"description"},'A motto or tagline. This appears below the title on your site, and next to the title in search results. Try to be brief and descriptive, e.g. "Your online bait and tackle store"'))))),React.createElement("p",{className:"submit"},React.createElement(Button,{color:"blue"},"Next Step →"))))}});module.exports=SiteTitleStep;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../actions/site-actions":4,"../stores/site-store":29,"../styles":31,"./welcome-section":20,"@automattic/dops-react/js/components/button":34}],17:[function(require,module,exports){
(function (global){
function getSetupProgress(){return{completed:SetupProgressStore.getCurrentStep().completed}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,SetupProgressStore=require("../stores/setup-progress-store"),SetupProgressActions=require("../actions/setup-progress-actions"),SkipButton=React.createClass({displayName:"SkipButton",style:{color:"#bbb",fontSize:"90%",marginLeft:20,borderBottom:"1px dotted #bbb"},componentDidMount:function(){SetupProgressStore.addChangeListener(this._onChange)},componentWillUnmount:function(){SetupProgressStore.removeChangeListener(this._onChange)},_onChange:function(){this.setState(getSetupProgress())},getInitialState:function(){return getSetupProgress()},handleSkip:function(e){e.preventDefault(),SetupProgressActions.skipStep()},render:function(){var e=this.state.completed;return e?null:React.createElement("a",{style:this.style,href:"#",onClick:this.handleSkip},"Not now")}});module.exports=SkipButton;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../stores/setup-progress-store":28}],18:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Tooltip=React.createClass({displayName:"Tooltip",propTypes:{left:React.PropTypes.number.isRequired,top:React.PropTypes.number.isRequired,width:React.PropTypes.number.isRequired,title:React.PropTypes.string.isRequired},handleDismiss:function(e){e.preventDefault()},componentDidMount:function(){this._recomputePosition()},componentWillReceiveProps:function(){this._recomputePosition()},getInitialState:function(){return{realTop:this.props.top}},_recomputePosition:function(){var e=jQuery(React.findDOMNode(this.refs.wrapper));this.setState({realTop:this.props.top-e.outerHeight()/2})},render:function(){return React.createElement("div",{ref:"wrapper",className:"wp-pointer wp-pointer-left",style:{position:"absolute",width:this.props.width,top:this.state.realTop,left:this.props.left,zIndex:9999}},React.createElement("div",{className:"wp-pointer-content"},React.createElement("h3",null,this.props.title),React.createElement("p",null,this.props.children)),React.createElement("div",{className:"wp-pointer-arrow"},React.createElement("div",{className:"wp-pointer-arrow-inner"})))}});module.exports=Tooltip;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],19:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Radium=require("radium"),ProgressBar=require("@automattic/dops-react/js/components/progress-bar"),SetupProgressActions=require("../actions/setup-progress-actions"),Dashicon=require("./dashicon"),stepShape=React.PropTypes.shape({name:React.PropTypes.string.isRequired,slug:React.PropTypes.string}),WelcomeMenu=React.createClass({displayName:"WelcomeMenu",propTypes:{currentStep:stepShape.isRequired,clickable:React.PropTypes.bool,allSteps:React.PropTypes.arrayOf(stepShape).isRequired,progressPercent:React.PropTypes.number.isRequired},getDefaultProps:function(){return{clickable:!0}},styles:{wrapper:{"float":"right",width:"28%",height:"100%",background:"#fafafa",border:"1px solid #eee"},title:{margin:0,padding:12,overflow:"hidden",background:"#444",color:"#fff",fontSize:12,textTransform:"uppercase"},list:{margin:"13px 10px",listStyle:"none","@media (max-width: 600px)":{margin:"5px 4px"}},menuItem:{marginBottom:6,position:"relative",color:"#333",lineHeight:1.7,"@media (max-width: 782px)":{fontSize:"small"},"@media (max-width: 600px)":{fontSize:"smaller"}},menuItemCompleted:{color:"#4AB866"},icon:{fontSize:16,top:3,position:"relative"},menuItemLink:{color:"inherit",borderBottom:"1px dashed"},menuItemCurrent:{color:"#0074A2"}},selectStep:function(e){e.preventDefault();var t=jQuery(e.currentTarget).data("step-slug");SetupProgressActions.setCurrentStep(t)},render:function(){var e=this.props.allSteps.map(function(e){var t,r,s,a;return this.props.clickable&&this.props.currentStep&&(r=this.props.currentStep.slug==e.slug),t=!e["static"]&&this.props.clickable?React.createElement("a",{href:"#",style:this.styles.menuItemLink,"data-step-slug":e.slug,onClick:this.selectStep},e.name):e.name,e.menuView&&this.props.clickable&&(s=React.createElement(e.menuView,null)),a=e.completed?"yes":"arrow-right-alt2",React.createElement("li",{key:e.slug,style:[this.styles.menuItem,e.completed&&this.styles.menuItemCompleted,r&&this.styles.menuItemCurrent]},React.createElement(Dashicon,{style:this.styles.icon,name:a}),t," ",e.skipped?"(skipped)":null,s)}.bind(this));return React.createElement("div",{style:[this.styles.wrapper,this.props.style]},React.createElement("h3",{style:this.styles.title},React.createElement("span",{style:{"float":"left",marginRight:10}},"Your Progress"),React.createElement("div",null,React.createElement(ProgressBar,{style:{"float":"left"},progressPercent:this.props.progressPercent}))),React.createElement("ol",{style:this.styles.list},e))}});module.exports=Radium(WelcomeMenu);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"./dashicon":9,"@automattic/dops-react/js/components/progress-bar":35,"radium":52}],20:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,WelcomeSection=React.createClass({displayName:"WelcomeSection",render:function(){var e=this.props,t=function(e,t){var o={},r=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var n in e)r.call(e,n)&&!r.call(t,n)&&(o[n]=e[n]);return o}(e,{});return React.createElement("div",React.__spread({},t,{className:"welcome__section"}),this.props.children)}});module.exports=WelcomeSection;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],21:[function(require,module,exports){
(function (global){
function getSetupProgress(){return{newUser:SetupProgressStore.isNewUser(),showSpinner:SpinnerStore.showing(),spinnerMessage:SpinnerStore.getMessage(),currentStep:SetupProgressStore.getCurrentStep(),allSteps:SetupProgressStore.getAllSteps(),progressPercent:SetupProgressStore.getProgressPercent()}}var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,WelcomeMenu=require("./welcome-menu"),SetupProgressStore=require("../stores/setup-progress-store"),Reset=require("@automattic/dops-react/js/components/reset"),SetupProgressActions=require("../actions/setup-progress-actions"),Flash=require("./flash"),styles=require("../styles"),GetStarted=require("./get-started"),SpinnerStore=require("../stores/spinner-store"),SpinnerActions=require("../actions/spinner-actions"),DataStore=require("../stores/data-store"),WelcomeWidget=React.createClass({displayName:"WelcomeWidget",styles:{wrapper:{position:"relative"},loadingOverlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",minHeight:"100%",zIndex:999,backgroundColor:"rgba(255,255,255,0.6)"},loadingMessage:{position:"absolute",width:"50%",minWidth:300,borderRadius:2,padding:20,border:"1px solid black",backgroundColor:"white",textAlign:"center",left:"50%",top:100,transform:"translate(-50%,-50%)"},container:{"float":"left",width:"70%",padding:"0 10px"},menu:{marginTop:25}},componentDidMount:function(){SetupProgressStore.addChangeListener(this._onChange),SpinnerStore.addChangeListener(this._onSpinnerChange),DataStore.addChangeListener(this._onDataChange)},componentWillUnmount:function(){SetupProgressStore.removeChangeListener(this._onChange),SpinnerStore.removeChangeListener(this._onSpinnerChange),DataStore.removeChangeListener(this._onDataChange)},_onChange:function(){this.setState(getSetupProgress())},_onSpinnerChange:function(){this.setState({showSpinner:SpinnerStore.showing(),spinnerMessage:SpinnerStore.getMessage()})},_onDataChange:function(){this.setState({saving:DataStore.isSaving()})},getInitialState:function(){return getSetupProgress()},handleReset:function(e){e.preventDefault(),SetupProgressActions.resetData()},handleShowSpinner:function(e){e.preventDefault(),SpinnerActions.show("Testing spinner")},handleHideSpinner:function(e){e.preventDefault(),SpinnerActions.hide()},render:function(){return React.createElement(Reset,{css:styles.css},this._renderDebug(),React.createElement("div",{style:this.styles.wrapper},this._renderSpinner(),React.createElement("div",{style:this.styles.container},React.createElement(Flash,null),this._renderSection()),React.createElement(WelcomeMenu,{style:this.styles.menu,clickable:!this.state.newUser,currentStep:this.state.currentStep,allSteps:this.state.allSteps,progressPercent:this.state.progressPercent}),React.createElement("div",{className:"clear"})))},_renderSection:function(){return this.state.newUser?React.createElement(GetStarted,null):this._renderCurrentView()},_renderDebug:function(){return null},_renderSpinner:function(){return this.state.showSpinner?React.createElement("div",{style:this.styles.loadingOverlay},React.createElement("div",{style:this.styles.loadingMessage},React.createElement("img",{src:JPS.base_url+"/img/spinner-2x.gif",width:"16px",height:"16px"}),"  ",this.state.spinnerMessage)):null},_renderCurrentView:function(){return this.state.currentStep?React.createElement(this.state.currentStep.welcomeView,null):React.createElement("h3",null,"Nothing")}});module.exports=WelcomeWidget;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../actions/setup-progress-actions":3,"../actions/spinner-actions":5,"../stores/data-store":26,"../stores/setup-progress-store":28,"../stores/spinner-store":30,"../styles":31,"./flash":11,"./get-started":12,"./welcome-menu":19,"@automattic/dops-react/js/components/reset":36}],22:[function(require,module,exports){
var keyMirror=require("keymirror");module.exports=keyMirror({STEP_COMPLETE:null,STEP_GET_STARTED:null,STEP_SELECT:null,STEP_NEXT:null,STEP_SKIP:null,SITE_SET_TITLE:null,SITE_SET_DESCRIPTION:null,SITE_SAVE_TITLE_AND_DESCRIPTION:null,SITE_CONTACT_PAGE_ID:null,SITE_SET_THEME:null,SITE_INSTALL_THEME:null,SITE_JETPACK_CONFIGURED:null,SITE_JETPACK_MODULE_ENABLED:null,SITE_JETPACK_MODULE_DISABLED:null,SITE_JETPACK_JUMPSTART_ENABLED:null,SITE_JETPACK_ADD_MODULES:null,SITE_SET_LAYOUT:null,SAVE_STARTED:null,SAVE_FINISHED:null,SET_FLASH:null,UNSET_FLASH:null,FLASH_SEVERITY_NOTICE:null,FLASH_SEVERITY_ERROR:null,RESET_DATA:null,SHOW_SPINNER:null,HIDE_SPINNER:null});

},{"keymirror":44}],23:[function(require,module,exports){
module.exports={SITE_TITLE_STEP_SLUG:"title",LAYOUT_STEP_SLUG:"layout",TRAFFIC_STEP_SLUG:"traffic",STATS_MONITORING_STEP_SLUG:"stats-monitoring",DESIGN_STEP_SLUG:"design",ADVANCED_STEP_SLUG:"advanced",JETPACK_MODULES_STEP_SLUG:"jetpack",CONTACT_PAGE_STEP_SLUG:"contact-page"};

},{}],24:[function(require,module,exports){
var Dispatcher=require("flux").Dispatcher;module.exports=new Dispatcher;

},{"flux":41}],25:[function(require,module,exports){
var WelcomePanel=require("./welcome-panel");WelcomePanel();

},{"./welcome-panel":33}],26:[function(require,module,exports){
function incrementSaveCounter(){_currentSaves+=1}function decrementSaveCounter(){_currentSaves-=1}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-onboarding-constants"),_currentSaves=0,jpoTimeout,CHANGE_EVENT="change";jQuery(window).on("beforeunload",function(){return DataStore.isSaving()?(jpoTimeout=setTimeout(function(){},1e3),"Your site changes are still saving."):void 0}),jQuery(window).on("unload",function(){clearTimeout(jpoTimeout)});var DataStore=_.extend({},EventEmitter.prototype,{isSaving:function(){return _currentSaves>0},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)},emitChange:function(){this.emit(CHANGE_EVENT)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SAVE_STARTED:incrementSaveCounter(),DataStore.emitChange();break;case JPSConstants.SAVE_FINISHED:decrementSaveCounter(),DataStore.emitChange()}}),module.exports=DataStore;

},{"../constants/jetpack-onboarding-constants":22,"../dispatcher/app-dispatcher":24,"events":39}],27:[function(require,module,exports){
function setFlash(e,t){message=e,severity=t}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-onboarding-constants"),CHANGE_EVENT="change",message,severity,FlashStore=_.extend({},EventEmitter.prototype,{getFlash:function(){var e;switch(severity){case JPSConstants.FLASH_SEVERITY_ERROR:e="error";break;case JPSConstants.FLASH_SEVERITY_NOTICE:e="notice"}return{message:message,severity:e}},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)},emitChange:function(){this.emit(CHANGE_EVENT)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SET_FLASH:setFlash(e.message,e.severity),FlashStore.emitChange();break;case JPSConstants.UNSET_FLASH:setFlash(null,null),FlashStore.emitChange()}}),module.exports=FlashStore;

},{"../constants/jetpack-onboarding-constants":22,"../dispatcher/app-dispatcher":24,"events":39}],28:[function(require,module,exports){
function setSteps(e){e.forEach(function(e){"undefined"==typeof e.completed&&(e.completed=JPS.step_status[e.slug]&&JPS.step_status[e.slug].completed||!1),"undefined"==typeof e.skipped&&(e.skipped=JPS.step_status[e.slug]&&JPS.step_status[e.slug].skipped||!1),"undefined"==typeof e["static"]&&(e["static"]=!1),"undefined"==typeof e.neverSkip&&(e.neverSkip=!1),"undefined"==typeof e.includeInProgress&&(e.includeInProgress=!0)}),_steps=e,ensureValidStepSlug()}function setStarted(){_started=!0,selectNextPendingStep()}function complete(e){var t=getStepFromSlug(e);t.completed=!0,t.skipped=!1}function skip(){var e=currentStepSlug(),t=getStepFromSlug(e);t.skipped=!0,selectNextPendingStep()}function getStepFromSlug(e){var t=null;return _.each(_steps,function(n){n.slug===e&&(t=n)}),t}function ensureValidStepSlug(){var e=currentStepSlug();if(!e||!getStepFromSlug(e)){var t=getNextPendingStep();null!==t&&(window.location.hash="welcome/steps/"+t.slug)}}function selectNextPendingStep(){var e=getNextPendingStep();null!==e&&select(e.slug)}function getNextPendingStep(){var e=currentStepIndex();return e&&_steps[e+1]&&_steps[e+1].neverSkip===!0?_steps[e+1]:_.findWhere(_steps,{completed:!1,skipped:!1})}function currentStepSlug(){if(0===window.location.hash.indexOf("#welcome/steps")){var e=window.location.hash.split("/"),t=e[e.length-1];return t}return null}function currentStepIndex(){for(var e=currentStepSlug(),t=0;t<_steps.length;t++)if(_steps[t].slug===e)return t;return!1}function select(e){window.location.hash="welcome/steps/"+e,WPAjax.post(JPS.step_actions.view,{step:e},{quiet:!0})}function reset(){JPS.step_status={},_.where(_steps,{"static":!1}).forEach(function(e){e.completed=!1,e.skipped=!1}),_started=!1}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-onboarding-constants"),WPAjax=require("../utils/wp-ajax"),CHANGE_EVENT="change",_steps,_started=JPS.started,SetupProgressStore=_.extend({},EventEmitter.prototype,{init:function(e){setSteps(e)},getAllSteps:function(){return _steps},isNewUser:function(){return!_started},emitChange:function(){this.emit(CHANGE_EVENT)},getCurrentStep:function(){return getStepFromSlug(currentStepSlug())},getNextPendingStep:function(){return getNextPendingStep()},getStepFromSlug:function(e){return getStepFromSlug(e)},getProgressPercent:function(){var e=_.where(_steps,{includeInProgress:!0}).length,t=_.where(_steps,{includeInProgress:!0,completed:!0}).length,n=t/e*90+10,s=10*Math.round(n/10);return s},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.STEP_GET_STARTED:setStarted(),SetupProgressStore.emitChange();break;case JPSConstants.STEP_SELECT:select(e.slug),SetupProgressStore.emitChange();break;case JPSConstants.STEP_NEXT:selectNextPendingStep(),SetupProgressStore.emitChange();break;case JPSConstants.STEP_COMPLETE:complete(e.slug),SetupProgressStore.emitChange();break;case JPSConstants.RESET_DATA:reset(),SetupProgressStore.emitChange();break;case JPSConstants.STEP_SKIP:skip(),SetupProgressStore.emitChange()}}),module.exports=SetupProgressStore;

},{"../constants/jetpack-onboarding-constants":22,"../dispatcher/app-dispatcher":24,"../utils/wp-ajax":32,"events":39}],29:[function(require,module,exports){
function setTitle(e){JPS.bloginfo.name=e}function setDescription(e){JPS.bloginfo.description=e}function setActiveTheme(e){JPS.themes.forEach(function(t){t.id==e?t.active=!0:t.active=!1})}function installedTheme(e){JPS.themes.unshift(e),JPS.themes=JPS.themes.slice(0,3)}function setJetpackModuleActivated(e){-1===_.indexOf(JPS.jetpack.active_modules,e)&&JPS.jetpack.active_modules.push(e)}function setJetpackModuleDectivated(e){var t=_.indexOf(JPS.jetpack.active_modules,e);t>=0&&JPS.jetpack.active_modules.splice(t,1)}function setJetpackAdditionalModules(e){JPS.jetpack.additional_modules=_.filter(e,function(e){return-1==_.indexOf(JPS.jetpack.jumpstart_modules.map(function(e){return e.slug}),e.slug)})}function setLayout(e){layout=e}function setJetpackConfigured(){JPS.jetpack.configured=!0}function setJetpackJumpstartActivated(){JPS.jetpack.jumpstart_modules.forEach(function(e){setJetpackModuleActivated(e.slug)})}function setContactUsPage(e){JPS.steps.contact_page=e}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-onboarding-constants"),WPAjax=require("../utils/wp-ajax"),CHANGE_EVENT="change",layout=JPS.steps.layout.current,SiteStore=_.extend({},EventEmitter.prototype,{getTitle:function(){return JPS.bloginfo.name},getDescription:function(){return JPS.bloginfo.description},getContactPageURL:function(){return JPS.steps.contact_page&&JPS.steps.contact_page.url},getThemes:function(){return JPS.themes},getActiveThemeId:function(){for(var e=0;e<JPS.themes.length;e++){var t=JPS.themes[e];if(t.active)return t.id}return null},getJetpackConfigured:function(){return JPS.jetpack.configured},getActiveModuleSlugs:function(){return JPS.jetpack.active_modules},isJetpackModuleEnabled:function(e){return _.indexOf(JPS.jetpack.active_modules,e)>=0},getJetpackAdditionalModules:function(){return JPS.jetpack.additional_modules},getJumpstartModuleSlugs:function(){return JPS.jetpack.jumpstart_modules.map(function(e){return e.slug})},getJumpstartModules:function(){return JPS.jetpack.jumpstart_modules},getPopularThemes:function(){return WPAjax.post(JPS.site_actions.get_popular_themes,{},{quiet:!0})},getJetpackJumpstartEnabled:function(){for(var e=0;e<JPS.jetpack.jumpstart_modules.length;e++){var t=JPS.jetpack.jumpstart_modules[e];if(!this.isJetpackModuleEnabled(t.slug))return!1}return!0},getLayout:function(){return layout},emitChange:function(){this.emit(CHANGE_EVENT)},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SITE_SET_TITLE:setTitle(e.title),SiteStore.emitChange();break;case JPSConstants.SITE_SET_DESCRIPTION:setDescription(e.description),SiteStore.emitChange();break;case JPSConstants.SITE_SET_THEME:setActiveTheme(e.themeId),SiteStore.emitChange();break;case JPSConstants.SITE_INSTALL_THEME:installedTheme(e.theme),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_CONFIGURED:setJetpackConfigured(),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_ADD_MODULES:setJetpackAdditionalModules(e.modules),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_MODULE_ENABLED:setJetpackModuleActivated(e.slug),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_MODULE_DISABLED:setJetpackModuleDectivated(e.slug),SiteStore.emitChange();break;case JPSConstants.SITE_JETPACK_JUMPSTART_ENABLED:setJetpackJumpstartActivated(),SiteStore.emitChange();break;case JPSConstants.SITE_SET_LAYOUT:setLayout(e.layout),SiteStore.emitChange();break;case JPSConstants.SITE_CREATE_CONTACT_US_PAGE:setContactUsPage(e.data),SiteStore.emitChange()}}),module.exports=SiteStore;

},{"../constants/jetpack-onboarding-constants":22,"../dispatcher/app-dispatcher":24,"../utils/wp-ajax":32,"events":39}],30:[function(require,module,exports){
function show(e){spinnerEnabled=!0,spinnerMessage=e}function hide(){spinnerEnabled=!1,spinnerMessage=null}var AppDispatcher=require("../dispatcher/app-dispatcher"),EventEmitter=require("events").EventEmitter,JPSConstants=require("../constants/jetpack-onboarding-constants"),CHANGE_EVENT="change",spinnerEnabled=!1,spinnerMessage=null,SpinnerStore=_.extend({},EventEmitter.prototype,{showing:function(){return spinnerEnabled},getMessage:function(){return spinnerMessage},addChangeListener:function(e){this.on(CHANGE_EVENT,e)},removeChangeListener:function(e){this.removeListener(CHANGE_EVENT,e)},emitChange:function(){this.emit(CHANGE_EVENT)}});AppDispatcher.register(function(e){switch(e.actionType){case JPSConstants.SHOW_SPINNER:show(e.message),SpinnerStore.emitChange();break;case JPSConstants.HIDE_SPINNER:hide(),SpinnerStore.emitChange()}}),module.exports=SpinnerStore;

},{"../constants/jetpack-onboarding-constants":22,"../dispatcher/app-dispatcher":24,"events":39}],31:[function(require,module,exports){
module.exports={h3:{fontWeight:"normal"},content:{fontSize:"larger",color:"#777",lineHeight:1.5,margin:"1em 0"},screenshot:{"float":"right",width:300,border:"1px solid #ccc"},css:{h4:{marginBottom:10},h5:{marginTop:0,fontSize:"1em",fontWeight:400},"input, select":{margin:1,padding:"3px 5px"},'input[type="text"]':{width:"100%"},".submit":{margin:"0px !important",padding:"5px 5px !important",backgroundColor:"#EEE",textAlign:"right"}}};

},{}],32:[function(require,module,exports){
var DataActions=require("../actions/data-actions"),WPAjax=function(){return{post:function(e,t,n){n="undefined"!=typeof n?n:{},t="undefined"!=typeof t?t:{};var a=_.extend(t,{action:e,nonce:JPS.nonce}),r=jQuery.Deferred();return n.quiet||DataActions.requestStarted(),jQuery.post(ajaxurl,a).success(function(e){e.success?r.resolve(e.data):r.reject(e.data)}).fail(function(){r.reject("Server error")}).always(function(){n.quiet||DataActions.requestFinished()}),r}}}();module.exports=WPAjax;

},{"../actions/data-actions":1}],33:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,WelcomeWidget=require("./components/welcome-widget"),Paths=require("./constants/jetpack-onboarding-paths"),SetupProgressStore=require("./stores/setup-progress-store");module.exports=function(){jQuery(document).ready(function(){SetupProgressStore.init([{name:"Site title",slug:Paths.SITE_TITLE_STEP_SLUG,welcomeView:require("./components/site-title-step")},{name:"Pick a layout",slug:Paths.LAYOUT_STEP_SLUG,welcomeView:require("./components/layout-step")},{name:"Contact Info",slug:Paths.CONTACT_PAGE_STEP_SLUG,welcomeView:require("./components/contact-step")},{name:"Pick a design",slug:Paths.DESIGN_STEP_SLUG,welcomeView:require("./components/design-step")},{name:"Enable Jetpack",slug:Paths.JETPACK_MODULES_STEP_SLUG,neverSkip:!0,welcomeView:require("./components/jetpack-jumpstart-step"),menuView:require("./components/jetpack-jumpstart-menu")},{name:"Advanced settings",slug:Paths.ADVANCED_STEP_SLUG,welcomeView:require("./components/advanced-settings-step"),includeInProgress:!1}]),React.render(React.createElement(WelcomeWidget,{}),document.getElementById("jpo-welcome-panel"))})};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./components/advanced-settings-step":6,"./components/contact-step":7,"./components/design-step":10,"./components/jetpack-jumpstart-menu":13,"./components/jetpack-jumpstart-step":14,"./components/layout-step":15,"./components/site-title-step":16,"./components/welcome-widget":21,"./constants/jetpack-onboarding-paths":23,"./stores/setup-progress-store":28}],34:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,styles=require("../styles"),Radium=require("radium"),Button=React.createClass({displayName:"Button",propTypes:{size:React.PropTypes.oneOf(["tiny","normal","big"]),color:React.PropTypes.oneOf(["gray","blue","green"]),theme:React.PropTypes.oneOf(["wp","jetpack"]),inline:React.PropTypes.bool,onClick:React.PropTypes.func,disabled:React.PropTypes.bool,href:React.PropTypes.string},getDefaultProps:function(){return{size:"normal",inline:!0,color:"gray",theme:"wp",disabled:!1}},handleCallbackHref:function(e){e.preventDefault(),window.location=this.props.href},styles:{basic:{borderRadius:3,boxShadow:"inset 0 1px 0 rgba(255, 255, 255, 0.3)",borderWidth:1,borderStyle:"solid",cursor:"pointer",display:"block",fontSize:14,fontWeight:"bold",padding:"10px 20px",textAlign:"center",textDecoration:"none",WebkitFontSmoothing:"antialiased",transition:"background 0.2s"},sizes:{tiny:{fontSize:10,padding:"2px 10px"},normal:{fontSize:13,padding:"5px 10px"},big:{fontSize:16,padding:"20px 40px"}},colors:{gray:{background:"linear-gradient(#fff, #f9f9f9)",borderColor:styles.colors.lightGray,color:styles.colors.darkGray,":hover":{color:styles.colors.gray}},blue:{background:styles.colors.blue,borderColor:"rgba(0,0,0,0.6)",color:"white",":hover":{background:styles.colors.lighterBlue}},green:{background:styles.colors.green,color:"white",borderColor:"rgba(0,0,0,0.6)",":hover":{background:styles.colors.lighterGreen}}},themes:{wp:{},jetpack:{padding:"18px 24px 15px",borderRadius:6,borderStyle:"none",boxShadow:"0 6px 0 #3e6c20,0 6px 3px rgba(0,0,0,0.4)"}},inline:{display:"inline-block"},disabled:{background:"#f9f9f9",borderColor:styles.colors.lightGray,color:styles.colors.lightGray,":hover":{background:"#f9f9f9",borderColor:styles.colors.lightGray,color:styles.colors.lightGray}}},render:function(){var e,o=this.props,r=o.size,t=o.color,l=o.inline,s=o.onClick,i=o.theme,n=o.href,a=function(e,o){var r={},t=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var l in e)t.call(e,l)&&!t.call(o,l)&&(r[l]=e[l]);return r}(o,{size:1,color:1,inline:1,onClick:1,theme:1,href:1}),c=[this.styles.basic,this.styles.sizes[r],this.styles.colors[t],this.styles.themes[i],this.props.disabled&&this.styles.disabled,l&&this.styles.inline,this.props.style];return e=n&&!s?this.handleCallbackHref:s,React.createElement("button",React.__spread({},a,{style:c,onClick:e,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut}),this.props.children)}});module.exports=Radium(Button);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../styles":37,"radium":52}],35:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Radium=require("radium"),ProgressBar=React.createClass({displayName:"ProgressBar",propTypes:{style:React.PropTypes.object,progressPercent:React.PropTypes.number.isRequired},styles:{wrapper:{fontWeight:400,fontSize:"80%"},progress:{background:"#4ab866",width:"0%",transition:"width 0.5s",display:"block",height:"100%"},bar:{display:"inline-block",width:80,height:12,margin:"0 8px -2px 0",padding:2,borderRadius:2,background:"#f5f5f5"}},render:function(){return React.createElement("div",{style:[this.styles.wrapper,this.props.style]},React.createElement("div",{style:this.styles.bar},React.createElement("span",{style:[this.styles.progress,{width:this.props.progressPercent+"%"}]})),this.props.progressPercent,"% complete")}});module.exports=Radium(ProgressBar);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"radium":52}],36:[function(require,module,exports){
(function (global){
var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Radium=require("radium"),m=require("../utils/m"),idCounter=0,Reset=React.createClass({displayName:"Reset",propTypes:{css:React.PropTypes.object},style:{resets:{"*":{boxSizing:"border-box"},"div, ul, ol, li, h1, h2, h3, h4, h5, h6, form, fieldset, legend, input, button, textarea, p, blockquote, th, td":{margin:0,padding:0},img:{border:"none",maxWidth:"100%"},td:{verticalAlign:"top"},".slideDown-enter":{overflowY:"hidden",maxHeight:0,transition:"all .5s ease-out"},".slideDown-enter-active":{overflowY:"hidden",maxHeight:400},".slideDown-leave":{overflowY:"hidden",maxHeight:400,transition:"all .5s ease-out"},".slideDown-leave-active":{overflowY:"hidden",maxHeight:0},".slideRTL-enter":{position:"absolute",left:"100%",transition:"all .2s linear"},".slideRTL-enter-active":{position:"absolute",left:"0%"},".slideRTL-leave":{position:"absolute",left:"0%",transition:"all .2s linear"},".slideRTL-leave-active":{position:"absolute",left:"-100%"},".slideLTR-enter":{position:"absolute",left:"-100%",transition:"all .2s linear"},".slideLTR-enter-active":{position:"absolute",left:"0%"},".slideLTR-leave":{position:"absolute",left:"0%",transition:"all .2s linear"},".slideLTR-leave-active":{position:"absolute",left:"100%"}}},render:function(){var e=this.props,t=function(e,t){var i={},l=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var o in e)l.call(e,o)&&!l.call(t,o)&&(i[o]=e[o]);return i}(e,{}),i=this._generateId();return React.createElement("div",React.__spread({id:i},t),React.createElement(Radium.Style,{scopeSelector:"#"+i,rules:m(this.style.resets,this.props.css)}),this.props.children)},_generateId:function(){return"dopsid"+idCounter++}});module.exports=Reset;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../utils/m":38,"radium":52}],37:[function(require,module,exports){
var styles={right:{"float":"right"},left:{"float":"left"},third:{width:"33%"},full:{width:"100%"},half:{width:"48%"},hidden:{display:"none"},clear:{clear:"both",display:"block"},accountStatus:{textTransform:"capitalize"},accountStatusNoticon:{borderRadius:"50%",width:16,height:16,marginRight:10,color:"#fff",background:"#81bf16"},box:{borderRadius:2,padding:"5px 10px",background:"#f5f5f5"},light:{color:"#999"},colors:{akismetGreen:"#5e8e14",blue:"#029dd6",lighterBlue:"#13AEE7",black:"#333",darkGray:"#444",gray:"#787878",lightGray:"#bbb",veryLightGray:"#eee",offWhite:"#f9f9f9",accountActive:"#81bf16",accountInactive:"#bbb",green:"#518d2a",lighterGreen:"#57972d"},fonts:{sans:'Open Sans, "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif',serif:"Merriweather, Georgia, serif",mono:'"Courier New", Courier, monospace'},input:{width:"100%",boxShadow:"none",background:"#fff",border:"1px solid #d5d5d5",fontSize:12,padding:"8px 10px"},select:{borderRadius:3,backgroundColor:"#fff",fontSize:12,height:35,width:"100%",border:"1px solid #d5d5d5",padding:"3px 5px",minWidth:0},checkbox:{marginRight:10},errorField:{border:"1px solid #dd3d36"},errorLabel:{border:"1px solid #dd3d36",color:"#a00",display:"block",fontSize:12,margin:"5px 0 0 0",padding:5}};styles.css={"> *":{font:"14px/1.5 "+styles.fonts.sans,color:styles.colors.black},a:{color:styles.colors.blue,textDecoration:"none"},"a:hover":{textDecoration:"underline"},h1:{fontSize:34},h2:{color:styles.colors.gray,fontSize:16},h3:{fontSize:18},"h1, h2, h3":{fontFamily:styles.fonts.serif,fontWeight:500}},module.exports=styles;

},{}],38:[function(require,module,exports){
module.exports=function(){for(var e={},r=0;r<arguments.length;++r)arguments[r]&&jQuery.extend(e,arguments[r]);return e};

},{}],39:[function(require,module,exports){
function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,n,s,i,r,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],isUndefined(n))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];n.apply(this,i)}else if(isObject(n)){for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];for(o=n.slice(),s=o.length,r=0;s>r;r++)o[r].apply(this,i)}return!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned){var n;n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function n(){this.removeListener(e,n),s||(s=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var s=!1;return n.listener=t,this.on(e,n),this},EventEmitter.prototype.removeListener=function(e,t){var n,s,i,r;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,s=-1,n===t||isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(n)){for(r=i;r-->0;)if(n[r]===t||n[r].listener&&n[r].listener===t){s=r;break}if(0>s)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],isFunction(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?isFunction(e._events[t])?1:e._events[t].length:0};

},{}],40:[function(require,module,exports){
function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(!draining){var e=setTimeout(cleanUpNextTick);draining=!0;for(var n=queue.length;n;){for(currentQueue=queue,queue=[];++queueIndex<n;)currentQueue[queueIndex].run();queueIndex=-1,n=queue.length}currentQueue=null,draining=!1,clearTimeout(e)}}function Item(e,n){this.fun=e,this.array=n}function noop(){}var process=module.exports={},queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];queue.push(new Item(e,n)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}],41:[function(require,module,exports){
module.exports.Dispatcher=require("./lib/Dispatcher");

},{"./lib/Dispatcher":42}],42:[function(require,module,exports){
(function (process){
"use strict";function _classCallCheck(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var invariant=require("fbjs/lib/invariant"),_prefix="ID_",Dispatcher=function(){function i(){_classCallCheck(this,i),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return i.prototype.register=function(i){var t=_prefix+this._lastID++;return this._callbacks[t]=i,t},i.prototype.unregister=function(i){this._callbacks[i]?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"Dispatcher.unregister(...): `%s` does not map to a registered callback.",i):invariant(!1),delete this._callbacks[i]},i.prototype.waitFor=function(i){this._isDispatching?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"Dispatcher.waitFor(...): Must be invoked while dispatching."):invariant(!1);for(var t=0;t<i.length;t++){var s=i[t];this._isPending[s]?this._isHandled[s]?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",s):invariant(!1):(this._callbacks[s]?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",s):invariant(!1),this._invokeCallback(s))}},i.prototype.dispatch=function(i){this._isDispatching?"production"!==process.env.NODE_ENV?invariant(!1,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."):invariant(!1):void 0,this._startDispatching(i);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},i.prototype.isDispatching=function(){return this._isDispatching},i.prototype._invokeCallback=function(i){this._isPending[i]=!0,this._callbacks[i](this._pendingPayload),this._isHandled[i]=!0},i.prototype._startDispatching=function(i){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=i,this._isDispatching=!0},i.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},i}();module.exports=Dispatcher;

}).call(this,require('_process'))

},{"_process":40,"fbjs/lib/invariant":43}],43:[function(require,module,exports){
(function (process){
"use strict";var invariant=function(r,e,n,i,o,a,t,s){if("production"!==process.env.NODE_ENV&&void 0===e)throw new Error("invariant requires an error message argument");if(!r){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[n,i,o,a,t,s],d=0;u=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return v[d++]}))}throw u.framesToPop=1,u}};module.exports=invariant;

}).call(this,require('_process'))

},{"_process":40}],44:[function(require,module,exports){
"use strict";var keyMirror=function(r){var e,o={};if(!(r instanceof Object)||Array.isArray(r))throw new Error("keyMirror(...): Argument must be an object.");for(e in r)r.hasOwnProperty(e)&&(o[e]=e);return o};module.exports=keyMirror;

},{}],45:[function(require,module,exports){
(function (global){
"use strict";var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,Style=require("./style.js"),printStyles=require("../print-styles.js"),PrintStyle=React.createClass({displayName:"PrintStyle",getInitialState:function(){return this._getStylesState()},componentDidMount:function(){this.subscription=printStyles.subscribe(this._onChange)},componentWillUnmount:function(){this.subscription.remove()},_onChange:function(){this.setState(this._getStylesState())},_getStylesState:function(){return{styles:printStyles.getPrintStyles()}},render:function(){return React.createElement(Style,{rules:{mediaQueries:{print:this.state.styles}}})}});module.exports=PrintStyle;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../print-styles.js":56,"./style.js":46}],46:[function(require,module,exports){
(function (global){
"use strict";var createMarkupForStyles=require("../create-markup-for-styles"),Prefixer=require("../prefixer"),React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,buildCssString=function(e,t,r){if(t&&r){var i=Prefixer.getPrefixedStyle(e,r,"css"),s=createMarkupForStyles(i);return t+"{"+s+"}"}},Style=React.createClass({displayName:"Style",propTypes:{rules:React.PropTypes.object,scopeSelector:React.PropTypes.string},getDefaultProps:function(){return{scopeSelector:""}},_buildStyles:function(e){var t=this;return Object.keys(e).reduce(function(r,i){var s=e[i];if("mediaQueries"===i)r+=t._buildMediaQueryString(s);else{var n=(t.props.scopeSelector?t.props.scopeSelector+" ":"")+i;r+=buildCssString(t,n,s)}return r},"")},_buildMediaQueryString:function(e){var t=this,r=this._getContextMediaQueries(),i="";return Object.keys(e).forEach(function(s){var n=r[s]?r[s]:s;i+="@media "+n+"{"+t._buildStyles(e[s])+"}"}),i},_getContextMediaQueries:function(){var e={};return this.context&&this.context.mediaQueries&&Object.keys(this.context.mediaQueries).forEach(function(t){e[t]=this.context.mediaQueries[t].media}.bind(this)),e},render:function(){if(!this.props.rules)return null;var e=this._buildStyles(this.props.rules);return React.createElement("style",{dangerouslySetInnerHTML:{__html:e}})}});module.exports=Style;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../create-markup-for-styles":48,"../prefixer":55}],47:[function(require,module,exports){
"use strict";var ExecutionEnvironment=require("exenv"),_matchMediaFunction=ExecutionEnvironment.canUseDOM&&window&&window.matchMedia&&function(n){return window.matchMedia(n)};module.exports={canMatchMedia:function(){return"function"==typeof _matchMediaFunction},matchMedia:function(n){return _matchMediaFunction(n)},setMatchMedia:function(n){_matchMediaFunction=n}};

},{"exenv":59}],48:[function(require,module,exports){
"use strict";var createMarkupForStyles=function(e,r){return r=r||"",Object.keys(e).map(function(t){return r+t+": "+e[t]+";"}).join("\n")};module.exports=createMarkupForStyles;

},{}],49:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),_get=function(t,e,r){for(var o=!0;o;){var n=t,i=e,s=r;a=u=l=void 0,o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(n);if(null===u)return void 0;t=u,e=i,r=s,o=!0}},resolveStyles=require("./resolve-styles.js"),printStyles=require("./print-styles.js"),enhanceWithRadium=function(t){var e=function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments),this.state=this.state||{},this.state._radiumStyleState={},e.printStyleClass&&(this.printStyleClass=e.printStyleClass)}return _inherits(e,t),_createClass(e,[{key:"render",value:function(){var t=_get(Object.getPrototypeOf(e.prototype),"render",this).call(this);return resolveStyles(this,t)}},{key:"componentWillUnmount",value:function(){_get(Object.getPrototypeOf(e.prototype),"componentWillUnmount",this)&&_get(Object.getPrototypeOf(e.prototype),"componentWillUnmount",this).call(this),this._radiumMouseUpListener&&this._radiumMouseUpListener.remove(),this._radiumMediaQueryListenersByQuery&&Object.keys(this._radiumMediaQueryListenersByQuery).forEach(function(t){this._radiumMediaQueryListenersByQuery[t].remove()},this)}}]),e}(t);return Object.getOwnPropertyNames(t.prototype).forEach(function(r){if(!e.prototype.hasOwnProperty(r)){var o=Object.getOwnPropertyDescriptor(t.prototype,r);Object.defineProperty(e.prototype,r,o)}}),e.displayName=t.displayName||t.name||"Component",e.printStyleClass=printStyles.addPrintStyles(e),e};module.exports=enhanceWithRadium;

},{"./print-styles.js":56,"./resolve-styles.js":57}],50:[function(require,module,exports){
"use strict";var getStateKey=function(t){return null===t||void 0===t?"main":t.toString()};module.exports=getStateKey;

},{}],51:[function(require,module,exports){
"use strict";var getStateKey=require("./get-state-key"),VALID_KEYS=[":active",":focus",":hover"],getState=function(t,e,a){if(-1===VALID_KEYS.indexOf(a))throw new Error("Radium.getState invalid value param: `"+a+"`");var r=getStateKey(e);return!!(t&&t._radiumStyleState&&t._radiumStyleState[r]&&t._radiumStyleState[r][a])};module.exports=getState;

},{"./get-state-key":50}],52:[function(require,module,exports){
"use strict";var Enhancer=require("./enhancer");module.exports=function(e){return Enhancer(e)},module.exports.Style=require("./components/style"),module.exports.PrintStyleSheet=require("./components/print-style-sheet"),module.exports.getState=require("./get-state"),module.exports.keyframes=require("./keyframes"),module.exports.Config=require("./config");

},{"./components/print-style-sheet":45,"./components/style":46,"./config":47,"./enhancer":49,"./get-state":51,"./keyframes":53}],53:[function(require,module,exports){
"use strict";var createMarkupForStyles=require("./create-markup-for-styles"),Prefixer=require("./prefixer"),ExecutionEnvironment=require("exenv"),isAnimationSupported=ExecutionEnvironment.canUseDOM&&Prefixer.getPrefixedPropertyName("animation")!==!1,animationIndex=1,animationStyleSheet=null,keyframesPrefixed="keyframes";isAnimationSupported&&(animationStyleSheet=document.createElement("style"),document.head.appendChild(animationStyleSheet),animationStyleSheet.textContent="@keyframes {}",animationStyleSheet.sheet.cssRules.length||(keyframesPrefixed=Prefixer.cssPrefix+"keyframes"));var keyframes=function(e,t){var n="Animation"+animationIndex;if(animationIndex+=1,!isAnimationSupported)return n;var r="@"+keyframesPrefixed+" "+n+" {\n"+Object.keys(e).map(function(n){var r=e[n],i=Prefixer.getPrefixedStyle(t,r,"css"),a=createMarkupForStyles(i,"  ");return"  "+n+" {\n  "+a+"\n  }"}).join("\n")+"\n}\n";if(!animationStyleSheet)throw new Error("keyframes not initialized properly");return animationStyleSheet.sheet.insertRule(r,animationStyleSheet.sheet.cssRules.length),n};module.exports=keyframes;

},{"./create-markup-for-styles":48,"./prefixer":55,"exenv":59}],54:[function(require,module,exports){
"use strict";var _callbacks=[],_mouseUpListenerIsActive=!1,_handleMouseUp=function(e){_callbacks.forEach(function(s){s(e)})},subscribe=function(e){return-1===_callbacks.indexOf(e)&&_callbacks.push(e),_mouseUpListenerIsActive||(window.addEventListener("mouseup",_handleMouseUp),_mouseUpListenerIsActive=!0),{remove:function(){var s=_callbacks.indexOf(e);_callbacks.splice(s,1),0===_callbacks.length&&_mouseUpListenerIsActive&&(window.removeEventListener("mouseup",_handleMouseUp),_mouseUpListenerIsActive=!1)}}};module.exports={subscribe:subscribe};

},{}],55:[function(require,module,exports){
(function (process){
"use strict";var ExecutionEnvironment=require("exenv"),arrayFind=require("array-find"),VENDOR_PREFIX_REGEX=/-(moz|webkit|ms|o)-/,vendorPrefixes=["Webkit","ms","Moz","O"],infoByCssPrefix={"-moz-":{cssPrefix:"-moz-",jsPrefix:"Moz",alternativeProperties:{alignItems:[{css:"-moz-box-align",js:"MozBoxAlign"}],flex:[{css:"-moz-box-flex",js:"MozBoxFlex"}],flexDirection:[{css:"-moz-box-orient",js:"MozBoxOrient"}],justifyContent:[{css:"-moz-box-pack",js:"MozBoxPack"}],order:[{css:"-moz-box-ordinal-group",js:"MozBoxOrdinalGroup"}]},alternativeValues:{alignItems:{"flex-start":["start"],"flex-end":["end"]},display:{flex:["-moz-box"]},flexDirection:{column:["vertical"],row:["horizontal"]},justifyContent:{"flex-start":["start"],"flex-end":["end"],"space-between":["justify"]}}},"-ms-":{cssPrefix:"-ms-",jsPrefix:"ms",alternativeProperties:{alignContent:[{css:"-ms-flex-line-pack",js:"msFlexLinePack"}],alignItems:[{css:"-ms-flex-align",js:"msFlexAlign"}],alignSelf:[{css:"-ms-flex-align-item",js:"msFlexAlignItem"}],justifyContent:[{css:"-ms-flex-pack",js:"msFlexPack"}],order:[{css:"-ms-flex-order",js:"msFlexOrder"}]},alternativeValues:{alignContent:{"flex-start":["start"],"flex-end":["end"],"space-between":["justify"],"space-around":["distribute"]},alignItems:{"flex-start":["start"],"flex-end":["end"]},alignSelf:{"flex-start":["start"],"flex-end":["end"]},display:{flex:["-ms-flexbox"],"inline-flex":["-ms-inline-flexbox"]},justifyContent:{"flex-start":["start"],"flex-end":["end"],"space-between":["justify"],"space-around":["distribute"]}}},"-o-":{cssPrefix:"-o-",jsPrefix:"O"},"-webkit-":{cssPrefix:"-webkit-",jsPrefix:"Webkit",alternativeProperties:{alignItems:[{css:"-webkit-box-align",js:"WebkitBoxAlign"}],flex:[{css:"-webkit-box-flex",js:"MozBoxFlex"}],flexDirection:[{css:"-webkit-box-orient",js:"WebkitBoxOrient"}],justifyContent:[{css:"-webkit-box-pack",js:"WebkitBoxPack"}],order:[{css:"-webkit-box-ordinal-group",js:"WebkitBoxOrdinalGroup"}]},alternativeValues:{alignItems:{"flex-start":["start"],"flex-end":["end"]},display:{flex:["-webkit-box"]},flexDirection:{row:["horizontal"],column:["vertical"]},justifyContent:{"flex-start":["start"],"flex-end":["end"],"space-between":["justify"]}}}},isUnitlessNumber={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},domStyle={},prefixedPropertyCache={},prefixedValueCache={},prefixInfo={cssPrefix:"",jsPrefix:""};if(ExecutionEnvironment.canUseDOM){domStyle=document.createElement("p").style,void 0===domStyle["float"]&&(domStyle["float"]="");for(var prefixMatch,windowStyles=window.getComputedStyle(document.documentElement,""),i=0;i<windowStyles.length&&!(prefixMatch=windowStyles[i].match(VENDOR_PREFIX_REGEX));i++);var cssVendorPrefix=prefixMatch&&prefixMatch[0];prefixInfo=cssVendorPrefix&&infoByCssPrefix[cssVendorPrefix]?infoByCssPrefix[cssVendorPrefix]:prefixInfo}var _camelCaseRegex=/([a-z])?([A-Z])/g,_camelCaseReplacer=function(e,r,t){return r+"-"+t.toLowerCase()},_camelCaseToDashCase=function(e){return e.replace(_camelCaseRegex,_camelCaseReplacer)},getPrefixedPropertyName=function(e){if(prefixedPropertyCache.hasOwnProperty(e))return prefixedPropertyCache[e];var r={css:_camelCaseToDashCase(e),js:e,isDefaultForServer:!0},t=[{css:prefixInfo.cssPrefix+_camelCaseToDashCase(e),js:prefixInfo.jsPrefix+e[0].toUpperCase()+e.slice(1)},r];prefixInfo.alternativeProperties&&prefixInfo.alternativeProperties[e]&&(t=t.concat(prefixInfo.alternativeProperties[e]));var i=arrayFind(t,function(e){return e.js in domStyle?e:void 0})||!1;return prefixedPropertyCache[e]=i},_getUnprefixedProperty=function(e){var r=e;return vendorPrefixes.some(function(t){return 0===e.indexOf(t)?(r=r.replace(t,""),r=r.charAt(0).toLowerCase()+r.slice(1),!0):void 0}),r},_addPixelSuffixToValueIfNeeded=function(e,r){var t=_getUnprefixedProperty(e);return 0===r||isNaN(r)||isUnitlessNumber[t]?r:r+"px"},_getPrefixedValue=function(e,r,t,i){if(!Array.isArray(t)){if(!isNaN(t)&&null!==t)return _addPixelSuffixToValueIfNeeded(i,t);if("string"!=typeof t){if(null===t||void 0===t)return t;t=t.toString()}if(!isNaN(parseInt(t,10)))return t}var s=Array.isArray(t)?t.join(" || "):r+t;if(prefixedValueCache.hasOwnProperty(s))return prefixedValueCache[s];var n;Array.isArray(t)?(n=t.map(function(e){return _addPixelSuffixToValueIfNeeded(i,e)}),n=n.concat(t.filter(function(e){return!isNaN(e)}).map(function(e){return prefixInfo.cssPrefix+e}))):n=[t,prefixInfo.cssPrefix+t],prefixInfo.alternativeValues&&prefixInfo.alternativeValues[i]&&prefixInfo.alternativeValues[i][t]&&(n=n.concat(prefixInfo.alternativeValues[i][t]));var o=arrayFind(n,function(e){return domStyle[r]="",domStyle[r]=e,!!domStyle[r]});if(o)prefixedValueCache[s]=o;else if(prefixedValueCache[s]=t,"production"!==process.env.NODE_ENV&&console&&console.warn){var a=e?' in component "'+e.constructor.displayName+'"':"";console.warn('Unsupported CSS value "'+t+'" for property "'+r+'$"'+a)}return prefixedValueCache[s]},getPrefixedStyle=function(e,r){var t=arguments.length<=2||void 0===arguments[2]?"js":arguments[2];if(!ExecutionEnvironment.canUseDOM)return Object.keys(r).reduce(function(e,i){var s=r[i],n="css"===t?_camelCaseToDashCase(i):i,o=Array.isArray(s)?s[0]:s;return e[n]=o,e},{});var i={};return Object.keys(r).forEach(function(s){var n=r[s],o=getPrefixedPropertyName(s);if(o!==!1||"production"===process.env.NODE_ENV){var a=_getPrefixedValue(e,o.js,n,s);i[o[t]]=a}else if(console&&console.warn){var f=e?' in component "'+e.constructor.displayName+'"':"";console.warn('Unsupported CSS property "'+s+'$"'+f)}}),i};module.exports={getPrefixedPropertyName:getPrefixedPropertyName,getPrefixedStyle:getPrefixedStyle,cssPrefix:prefixInfo.cssPrefix,jsPrefix:prefixInfo.jsPrefix};

}).call(this,require('_process'))

},{"_process":40,"array-find":58,"exenv":59}],56:[function(require,module,exports){
"use strict";var allPrintStyles={},listeners=[],subscribe=function(t){return-1===listeners.indexOf(t)&&listeners.push(t),{remove:function(){var e=listeners.indexOf(t);e>-1&&listeners.splice(e,1)}}},_emitChange=function(){listeners.forEach(function(t){return t()})},_appendImportantToEachValue=function(t){var e={};return Object.keys(t).forEach(function(n){var r=t[n];r+=" !important",e[n]=r}),e},addPrintStyles=function(t){if(t.printStyles){var e={};return Object.keys(t.printStyles).forEach(function(n){var r=t.printStyles[n],i="Radium-"+t.displayName+"-"+n;allPrintStyles["."+i]=_appendImportantToEachValue(r),e[n]=i}),_emitChange(),e}},getPrintStyles=function(){return allPrintStyles};module.exports={addPrintStyles:addPrintStyles,getPrintStyles:getPrintStyles,subscribe:subscribe};

},{}],57:[function(require,module,exports){
(function (process,global){
"use strict";var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},MouseUpListener=require("./mouse-up-listener"),getState=require("./get-state"),getStateKey=require("./get-state-key"),Prefixer=require("./prefixer"),Config=require("./config"),ExecutionEnvironment=require("exenv"),React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,mediaQueryListByQueryString={},_isSpecialKey=function(e){return":"===e[0]||"@"===e[0]},_getStyleState=function(e,t,r){return getState(e.state,t,r)},_setStyleState=function(e,t,r){var o=e._lastRadiumState||e.state&&e.state._radiumStyleState||{},n={_radiumStyleState:_extends({},o)};n._radiumStyleState[t]=_extends({},n._radiumStyleState[t],r),e._lastRadiumState=n._radiumStyleState,e.setState(n)},_mergeStyles=function e(t){var r={};return t.forEach(function(t){t&&"object"==typeof t&&!Array.isArray(t)&&Object.keys(t).forEach(function(o){_isSpecialKey(o)&&r[o]?r[o]=e([r[o],t[o]]):r[o]=t[o]})}),r},_mouseUp=function(e){Object.keys(e.state._radiumStyleState).forEach(function(t){_getStyleState(e,t,":active")&&_setStyleState(e,t,{":active":!1})})},_onMediaQueryChange=function(e,t,r){var o={};o[t]=r.matches,_setStyleState(e,"_all",o)},_resolveMediaQueryStyles=function(e,t){return Config.canMatchMedia()?(Object.keys(t).filter(function(e){return"@"===e[0]}).map(function(r){var o=t[r];r=r.replace("@media ","");var n=mediaQueryListByQueryString[r];if(n||(mediaQueryListByQueryString[r]=n=Config.matchMedia(r)),e._radiumMediaQueryListenersByQuery||(e._radiumMediaQueryListenersByQuery={}),!e._radiumMediaQueryListenersByQuery[r]){var i=_onMediaQueryChange.bind(null,e,r);n.addListener(i),e._radiumMediaQueryListenersByQuery[r]={remove:function(){n.removeListener(i)}}}n.matches&&(t=_mergeStyles([t,o]))}),t):t},_cloneElement=function(e,t,r){return"string"==typeof e.type&&(t=_extends({},t,{_radiumDidResolveStyles:!0})),React.cloneElement(e,t,r)},resolveStyles=function t(e,r,o){if(o=o||{},!r||r.props&&r.props._radiumDidResolveStyles)return r;var n=r.props.children,i=n;if(n){var a=typeof n;if("string"===a||"number"===a)i=n;else if("function"===a)i=function(){var r=n.apply(this,arguments);return React.isValidElement(r)?t(e,r,o):r};else if(1===React.Children.count(n)&&n.type){var s=React.Children.only(n);i=t(e,s,o)}else i=React.Children.map(n,function(r){return React.isValidElement(r)?t(e,r,o):r})}var u=r.props,d={};Object.keys(u).forEach(function(r){if("children"!==r){var n=u[r];React.isValidElement(n)&&(d[r]=t(e,n,o))}});var c=Object.keys(d).length>0;if(!React.isValidElement(r)||"string"!=typeof r.type)return n!==i||c?_cloneElement(r,c?d:{},i):r;var l=u.style;if(Array.isArray(l)&&(l=_mergeStyles(l)),"production"!==process.env.NODE_ENV){var y={background:["backgroundAttachment","backgroundBlendMode","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPosition","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundRepeatX","backgroundRepeatY","backgroundSize"],border:["borderBottom","borderBottomColor","borderBottomStyle","borderBottomWidth","borderColor","borderLeft","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRight","borderRightColor","borderRightStyle","borderRightWidth","borderStyle","borderTop","borderTopColor","borderTopStyle","borderTopWidth","borderWidth"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],font:["fontFamily","fontKerning","fontSize","fontStretch","fontStyle","fontVariant","fontVariantLigatures","fontWeight","lineHeight"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"]},f=function k(t){if("object"==typeof t&&t){var r=Object.keys(t);r.forEach(function(t){y[t]&&y[t].some(function(e){return-1!==r.indexOf(e)})&&"production"!==process.env.NODE_ENV&&console.warn('Radium: property "'+t+'" in style object',l,": do not mix longhand and shorthand properties in the same style object. Check the render method of "+e.constructor.displayName+".","See https://github.com/FormidableLabs/radium/issues/95 for more information.")}),r.forEach(function(e){return k(t[e])})}};f(l)}if(!l||!Object.keys(l).some(_isSpecialKey))return l?(d.style=Prefixer.getPrefixedStyle(e,l),_cloneElement(r,d,i)):i||c?_cloneElement(r,d,i):r;var m=r.ref||r.key,g=getStateKey(m);if(o[g])throw new Error("Radium requires each element with interactive styles to have a unique key, set using either the ref or key prop. "+(m?'Key "'+m+'" is a duplicate.':"Multiple elements have no key specified."));o[g]=!0,l=_resolveMediaQueryStyles(e,l);var S={};if(Object.keys(l).forEach(function(e){_isSpecialKey(e)||(S[e]=l[e])}),l[":hover"]||l[":active"]){var p=u.onMouseEnter;d.onMouseEnter=function(t){p&&p(t),_setStyleState(e,g,{":hover":!0})};var b=u.onMouseLeave;d.onMouseLeave=function(t){b&&b(t),_setStyleState(e,g,{":hover":!1})}}if(l[":active"]){var h=u.onMouseDown;d.onMouseDown=function(t){h&&h(t),e._lastMouseDown=Date.now(),_setStyleState(e,g,{":active":!0})}}if(l[":focus"]){var v=u.onFocus;d.onFocus=function(t){v&&v(t),_setStyleState(e,g,{":focus":!0})};var _=u.onBlur;d.onBlur=function(t){_&&_(t),_setStyleState(e,g,{":focus":!1})}}var R=Object.keys(l).filter(function(t){return":active"===t&&_getStyleState(e,g,":active")||":hover"===t&&_getStyleState(e,g,":hover")||":focus"===t&&_getStyleState(e,g,":focus")}).map(function(e){return l[e]});return R.length&&(S=_mergeStyles([S].concat(R))),l[":active"]&&!e._radiumMouseUpListener&&ExecutionEnvironment.canUseEventListeners&&(e._radiumMouseUpListener=MouseUpListener.subscribe(_mouseUp.bind(null,e))),d.style=Prefixer.getPrefixedStyle(e,S),_cloneElement(r,d,i)};resolveStyles.__clearStateForTests=function(){mediaQueryListByQueryString={}},module.exports=resolveStyles;

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./config":47,"./get-state":51,"./get-state-key":50,"./mouse-up-listener":54,"./prefixer":55,"_process":40,"exenv":59}],58:[function(require,module,exports){
"use strict";function find(n,t,r){if("function"==typeof Array.prototype.find)return n.find(t,r);r=r||this;var f,i=n.length;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(f=0;i>f;f++)if(t.call(r,n[f],f,n))return n[f]}module.exports=find;

},{}],59:[function(require,module,exports){
!function(){"use strict";var e=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:e,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:e&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:e&&!!window.screen};"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:window.ExecutionEnvironment=n}();

},{}]},{},[25])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stb25ib2FyZGluZy9jbGllbnQvYWN0aW9ucy9kYXRhLWFjdGlvbnMuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stb25ib2FyZGluZy9jbGllbnQvYWN0aW9ucy9mbGFzaC1hY3Rpb25zLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLW9uYm9hcmRpbmcvY2xpZW50L2FjdGlvbnMvc2V0dXAtcHJvZ3Jlc3MtYWN0aW9ucy5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1vbmJvYXJkaW5nL2NsaWVudC9hY3Rpb25zL3NpdGUtYWN0aW9ucy5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1vbmJvYXJkaW5nL2NsaWVudC9hY3Rpb25zL3NwaW5uZXItYWN0aW9ucy5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1vbmJvYXJkaW5nL2NsaWVudC9jb21wb25lbnRzL2FkdmFuY2VkLXNldHRpbmdzLXN0ZXAuanN4IiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLW9uYm9hcmRpbmcvY2xpZW50L2NvbXBvbmVudHMvY29udGFjdC1zdGVwLmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1vbmJvYXJkaW5nL2NsaWVudC9jb21wb25lbnRzL2NvbnRlbnQtYm94LmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1vbmJvYXJkaW5nL2NsaWVudC9jb21wb25lbnRzL2Rhc2hpY29uLmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1vbmJvYXJkaW5nL2NsaWVudC9jb21wb25lbnRzL2Rlc2lnbi1zdGVwLmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1vbmJvYXJkaW5nL2NsaWVudC9jb21wb25lbnRzL2ZsYXNoLmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1vbmJvYXJkaW5nL2NsaWVudC9jb21wb25lbnRzL2dldC1zdGFydGVkLmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1vbmJvYXJkaW5nL2NsaWVudC9jb21wb25lbnRzL2pldHBhY2stanVtcHN0YXJ0LW1lbnUuanN4IiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLW9uYm9hcmRpbmcvY2xpZW50L2NvbXBvbmVudHMvamV0cGFjay1qdW1wc3RhcnQtc3RlcC5qc3giLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stb25ib2FyZGluZy9jbGllbnQvY29tcG9uZW50cy9sYXlvdXQtc3RlcC5qc3giLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stb25ib2FyZGluZy9jbGllbnQvY29tcG9uZW50cy9zaXRlLXRpdGxlLXN0ZXAuanN4IiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLW9uYm9hcmRpbmcvY2xpZW50L2NvbXBvbmVudHMvc2tpcC1idXR0b24uanN4IiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLW9uYm9hcmRpbmcvY2xpZW50L2NvbXBvbmVudHMvdG9vbHRpcC5qc3giLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stb25ib2FyZGluZy9jbGllbnQvY29tcG9uZW50cy93ZWxjb21lLW1lbnUuanN4IiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLW9uYm9hcmRpbmcvY2xpZW50L2NvbXBvbmVudHMvd2VsY29tZS1zZWN0aW9uLmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1vbmJvYXJkaW5nL2NsaWVudC9jb21wb25lbnRzL3dlbGNvbWUtd2lkZ2V0LmpzeCIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1vbmJvYXJkaW5nL2NsaWVudC9jb25zdGFudHMvamV0cGFjay1vbmJvYXJkaW5nLWNvbnN0YW50cy5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1vbmJvYXJkaW5nL2NsaWVudC9jb25zdGFudHMvamV0cGFjay1vbmJvYXJkaW5nLXBhdGhzLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLW9uYm9hcmRpbmcvY2xpZW50L2Rpc3BhdGNoZXIvYXBwLWRpc3BhdGNoZXIuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stb25ib2FyZGluZy9jbGllbnQvamV0cGFjay1vbmJvYXJkaW5nLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLW9uYm9hcmRpbmcvY2xpZW50L3N0b3Jlcy9kYXRhLXN0b3JlLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLW9uYm9hcmRpbmcvY2xpZW50L3N0b3Jlcy9mbGFzaC1zdG9yZS5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1vbmJvYXJkaW5nL2NsaWVudC9zdG9yZXMvc2V0dXAtcHJvZ3Jlc3Mtc3RvcmUuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stb25ib2FyZGluZy9jbGllbnQvc3RvcmVzL3NpdGUtc3RvcmUuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stb25ib2FyZGluZy9jbGllbnQvc3RvcmVzL3NwaW5uZXItc3RvcmUuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stb25ib2FyZGluZy9jbGllbnQvc3R5bGVzLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLW9uYm9hcmRpbmcvY2xpZW50L3V0aWxzL3dwLWFqYXguanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stb25ib2FyZGluZy9jbGllbnQvd2VsY29tZS1wYW5lbC5qc3giLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stb25ib2FyZGluZy9ub2RlX21vZHVsZXMvQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9qcy9jb21wb25lbnRzL2J1dHRvbi5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1vbmJvYXJkaW5nL25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvcHJvZ3Jlc3MtYmFyLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLW9uYm9hcmRpbmcvbm9kZV9tb2R1bGVzL0BhdXRvbWF0dGljL2RvcHMtcmVhY3QvanMvY29tcG9uZW50cy9yZXNldC5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1vbmJvYXJkaW5nL25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL3N0eWxlcy5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1vbmJvYXJkaW5nL25vZGVfbW9kdWxlcy9AYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL3V0aWxzL20uanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stb25ib2FyZGluZy9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1vbmJvYXJkaW5nL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stb25ib2FyZGluZy9ub2RlX21vZHVsZXMvZmx1eC9pbmRleC5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1vbmJvYXJkaW5nL25vZGVfbW9kdWxlcy9mbHV4L2xpYi9EaXNwYXRjaGVyLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLW9uYm9hcmRpbmcvbm9kZV9tb2R1bGVzL2ZsdXgvbm9kZV9tb2R1bGVzL2ZianMvbGliL2ludmFyaWFudC5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1vbmJvYXJkaW5nL25vZGVfbW9kdWxlcy9rZXltaXJyb3IvaW5kZXguanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stb25ib2FyZGluZy9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9jb21wb25lbnRzL3ByaW50LXN0eWxlLXNoZWV0LmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLW9uYm9hcmRpbmcvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvY29tcG9uZW50cy9zdHlsZS5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1vbmJvYXJkaW5nL25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL2NvbmZpZy5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1vbmJvYXJkaW5nL25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL2NyZWF0ZS1tYXJrdXAtZm9yLXN0eWxlcy5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1vbmJvYXJkaW5nL25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL2VuaGFuY2VyLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLW9uYm9hcmRpbmcvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvZ2V0LXN0YXRlLWtleS5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1vbmJvYXJkaW5nL25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL2dldC1zdGF0ZS5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1vbmJvYXJkaW5nL25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL2luZGV4LmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLW9uYm9hcmRpbmcvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIva2V5ZnJhbWVzLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLW9uYm9hcmRpbmcvbm9kZV9tb2R1bGVzL3JhZGl1bS9saWIvbW91c2UtdXAtbGlzdGVuZXIuanMiLCIvVXNlcnMvZGFuL3dvcmtzcGFjZS93cC9zcmMvd3AtY29udGVudC9wbHVnaW5zL2pldHBhY2stb25ib2FyZGluZy9ub2RlX21vZHVsZXMvcmFkaXVtL2xpYi9wcmVmaXhlci5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1vbmJvYXJkaW5nL25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL3ByaW50LXN0eWxlcy5qcyIsIi9Vc2Vycy9kYW4vd29ya3NwYWNlL3dwL3NyYy93cC1jb250ZW50L3BsdWdpbnMvamV0cGFjay1vbmJvYXJkaW5nL25vZGVfbW9kdWxlcy9yYWRpdW0vbGliL3Jlc29sdmUtc3R5bGVzLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLW9uYm9hcmRpbmcvbm9kZV9tb2R1bGVzL3JhZGl1bS9ub2RlX21vZHVsZXMvYXJyYXktZmluZC9maW5kLmpzIiwiL1VzZXJzL2Rhbi93b3Jrc3BhY2Uvd3Avc3JjL3dwLWNvbnRlbnQvcGx1Z2lucy9qZXRwYWNrLW9uYm9hcmRpbmcvbm9kZV9tb2R1bGVzL3JhZGl1bS9ub2RlX21vZHVsZXMvZXhlbnYvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxHQUFJLGVBQWdCLFFBQVEsZ0NBQzNCLGFBQWUsUUFBUSw2Q0FFcEIsYUFDSCxlQUFnQixXQUNmLGNBQWMsVUFDYixXQUFZLGFBQWEsZ0JBSTNCLGdCQUFpQixXQUNoQixjQUFjLFVBQ2IsV0FBWSxhQUFhLGlCQUs1QixRQUFPLFFBQVU7OztBQ2pCakIsR0FBSSxlQUFnQixRQUFRLGdDQUMzQixhQUFlLFFBQVEsNkNBRXBCLGNBQ0gsT0FBUSxTQUFTLEdBQ2hCLGNBQWMsVUFDYixXQUFZLGFBQWEsVUFDekIsUUFBUyxFQUNULFNBQVUsYUFBYSx5QkFJekIsTUFBTyxTQUFTLEdBQ2YsY0FBYyxVQUNiLFdBQVksYUFBYSxVQUN6QixRQUFTLEVBQ1QsU0FBVSxhQUFhLHdCQUl6QixNQUFPLFdBQ04sY0FBYyxVQUNiLFdBQVksYUFBYSxlQUs1QixRQUFPLFFBQVU7OztBQzNCakIsR0FBSSxlQUFnQixRQUFRLGdDQUMzQixhQUFlLFFBQVEsNkNBQ3ZCLE1BQVEsUUFBUSx5Q0FDaEIsYUFBZSxRQUFRLG1CQUN2QixZQUFjLFFBQVEsa0JBQ3RCLE9BQVMsUUFBUSxvQkFDakIsZUFBaUIsUUFBUSxxQkFDekIsbUJBQXFCLFFBQVEsa0NBQzdCLFVBQVksUUFBUSx3QkFFakIsc0JBQ0gsVUFBVyxXQUNWLE9BQ0EsS0FBSyxJQUFJLGFBQWEsWUFDdEIsS0FBSyxTQUFTLEdBQ2IsYUFBYSxNQUFNLHdCQUEwQixLQUU5QyxjQUFjLFVBQ2IsV0FBWSxhQUFhLGNBSTNCLGFBQWMsU0FBUyxFQUFNLEdBQzVCLEdBQUksR0FBTyxtQkFBbUIsZ0JBQWdCLEVBUzlDLE9BUEEsZUFBYyxVQUNiLFdBQVksYUFBYSxjQUN6QixLQUFNLElBS0EsS0FBSyxnQkFBZ0IsRUFBTSxJQUduQyxvQkFB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bUJBQVgsU0FBMEIsT0FBTyxRQUNsRCxPQUFPLFFBQVUsRUFFakIsT0FBTyxxQkFBdUIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwidmFyIEFwcERpc3BhdGNoZXIgPSByZXF1aXJlKCcuLi9kaXNwYXRjaGVyL2FwcC1kaXNwYXRjaGVyJyksXG5cdEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLW9uYm9hcmRpbmctY29uc3RhbnRzJyk7XG5cbnZhciBEYXRhQWN0aW9ucyA9IHtcblx0cmVxdWVzdFN0YXJ0ZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNBVkVfU1RBUlRFRFxuXHRcdH0pO1xuXHR9LFxuXG5cdHJlcXVlc3RGaW5pc2hlZDogZnVuY3Rpb24oKSB7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0FWRV9GSU5JU0hFRFxuXHRcdH0pO1xuXHR9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IERhdGFBY3Rpb25zOyIsInZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuXHRKUFNDb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1vbmJvYXJkaW5nLWNvbnN0YW50cycpO1xuXG52YXIgRmxhc2hBY3Rpb25zID0ge1xuXHRub3RpY2U6IGZ1bmN0aW9uKG1zZykge1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNFVF9GTEFTSCxcblx0XHRcdG1lc3NhZ2U6IG1zZyxcblx0XHRcdHNldmVyaXR5OiBKUFNDb25zdGFudHMuRkxBU0hfU0VWRVJJVFlfTk9USUNFXG5cdFx0fSk7XG5cdH0sXG5cblx0ZXJyb3I6IGZ1bmN0aW9uKG1zZykge1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNFVF9GTEFTSCxcblx0XHRcdG1lc3NhZ2U6IG1zZyxcblx0XHRcdHNldmVyaXR5OiBKUFNDb25zdGFudHMuRkxBU0hfU0VWRVJJVFlfRVJST1Jcblx0XHR9KTtcblx0fSxcblxuXHR1bnNldDogZnVuY3Rpb24oKSB7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuVU5TRVRfRkxBU0hcblx0XHR9KTtcblx0fVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBGbGFzaEFjdGlvbnM7IiwidmFyIEFwcERpc3BhdGNoZXIgPSByZXF1aXJlKCcuLi9kaXNwYXRjaGVyL2FwcC1kaXNwYXRjaGVyJyksXG5cdEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLW9uYm9hcmRpbmctY29uc3RhbnRzJyksXG5cdFBhdGhzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stb25ib2FyZGluZy1wYXRocycpLFxuXHRGbGFzaEFjdGlvbnMgPSByZXF1aXJlKCcuL2ZsYXNoLWFjdGlvbnMnKSxcblx0U2l0ZUFjdGlvbnMgPSByZXF1aXJlKCcuL3NpdGUtYWN0aW9ucycpLFxuXHRXUEFqYXggPSByZXF1aXJlKCcuLi91dGlscy93cC1hamF4JyksXG5cdFNwaW5uZXJBY3Rpb25zID0gcmVxdWlyZSgnLi9zcGlubmVyLWFjdGlvbnMnKSxcblx0U2V0dXBQcm9ncmVzc1N0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NldHVwLXByb2dyZXNzLXN0b3JlJyksXG5cdFNpdGVTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zaXRlLXN0b3JlJyk7XG5cbnZhciBTZXR1cFByb2dyZXNzQWN0aW9ucyA9IHtcblx0cmVzZXREYXRhOiBmdW5jdGlvbigpIHtcblx0XHRXUEFqYXguXG5cdFx0cG9zdChKUFMuc2l0ZV9hY3Rpb25zLnJlc2V0X2RhdGEpLlxuXHRcdGZhaWwoZnVuY3Rpb24obXNnKSB7XG5cdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IoXCJGYWlsZWQgdG8gc2F2ZSBkYXRhOiBcIiArIG1zZyk7XG5cdFx0fSk7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuUkVTRVRfREFUQVxuXHRcdH0pO1xuXHR9LFxuXG5cdGNvbXBsZXRlU3RlcDogZnVuY3Rpb24oc2x1ZywgbWV0YSkge1xuXHRcdHZhciBzdGVwID0gU2V0dXBQcm9ncmVzc1N0b3JlLmdldFN0ZXBGcm9tU2x1ZyhzbHVnKTtcblxuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNURVBfQ09NUExFVEUsXG5cdFx0XHRzbHVnOiBzbHVnXG5cdFx0fSk7XG5cblx0XHQvLyBOT1RFOiB0aGlzIG5lZWRzIHRvIGNvbWUgYWZ0ZXIgdGhlIGRpc3BhdGNoLCBzbyB0aGF0IHRoZSBjb21wbGV0aW9uICUgXG5cdFx0Ly8gaXMgYWxyZWFkeSB1cGRhdGVkIGFuZCBjYW4gYmUgaW5jbHVkZWQgaW4gdGhlIG1ldGFkYXRhXG5cdFx0cmV0dXJuIHRoaXMuX3JlY29yZENvbXBsZXRlKHN0ZXAsIG1ldGEpO1xuXHR9LFxuXG5cdGNvbXBsZXRlQW5kTmV4dFN0ZXA6IGZ1bmN0aW9uKHNsdWcsIG1ldGEpIHtcblx0XHRTcGlubmVyQWN0aW9ucy5zaG93KFwiTG9hZGluZ1wiKTtcblx0XHR0aGlzLmNvbXBsZXRlU3RlcChzbHVnLCBtZXRhKS5hbHdheXMoZnVuY3Rpb24oKSB7XG5cdFx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNURVBfTkVYVFxuXHRcdFx0fSk7XG5cdFx0XHRTcGlubmVyQWN0aW9ucy5oaWRlKCk7XG5cdFx0fSk7XG5cdH0sXG5cblx0X3JlY29yZENvbXBsZXRlOiBmdW5jdGlvbihzdGVwLCBtZXRhKSB7XG5cdFx0aWYgKHR5cGVvZihtZXRhKSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdG1ldGEgPSB7fTtcblx0XHR9XG5cblx0XHRtZXRhLmNvbXBsZXRpb24gPSBTZXR1cFByb2dyZXNzU3RvcmUuZ2V0UHJvZ3Jlc3NQZXJjZW50KCk7XG5cblx0XHRyZXR1cm4gV1BBamF4LlxuXHRcdHBvc3QoSlBTLnN0ZXBfYWN0aW9ucy5jb21wbGV0ZSwge1xuXHRcdFx0c3RlcDogc3RlcC5zbHVnLFxuXHRcdFx0ZGF0YTogbWV0YVxuXHRcdH0pLlxuXHRcdGZhaWwoZnVuY3Rpb24obXNnKSB7XG5cdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IobXNnKTtcblx0XHR9KTtcblx0fSxcblxuXHQvLyBtYXJrIGN1cnJlbnQgc3RlcCBhcyBza2lwcGVkIGFuZCBtb3ZlIG9uXG5cdHNraXBTdGVwOiBmdW5jdGlvbigpIHtcblx0XHRGbGFzaEFjdGlvbnMudW5zZXQoKTtcblxuXHRcdHZhciBzdGVwID0gU2V0dXBQcm9ncmVzc1N0b3JlLmdldEN1cnJlbnRTdGVwKCk7XG5cblx0XHRpZiAoIXN0ZXAuc2tpcHBlZCkge1xuXHRcdFx0U3Bpbm5lckFjdGlvbnMuc2hvdyhcIkxvYWRpbmdcIik7XG5cdFx0XHRXUEFqYXguXG5cdFx0XHRwb3N0KEpQUy5zdGVwX2FjdGlvbnMuc2tpcCwge1xuXHRcdFx0XHRzdGVwOiBzdGVwLnNsdWdcblx0XHRcdH0pLlxuXHRcdFx0ZmFpbChmdW5jdGlvbihtc2cpIHtcblx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKG1zZyk7XG5cdFx0XHR9KS5hbHdheXMoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFNwaW5uZXJBY3Rpb25zLmhpZGUoKTtcblx0XHRcdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNURVBfU0tJUFxuXHRcdFx0XHR9KTtcdFxuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU1RFUF9TS0lQXG5cdFx0XHR9KTtcdFxuXHRcdH1cblxuXHRcdFxuXHR9LFxuXG5cdGdldFN0YXJ0ZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNwaW5uZXJBY3Rpb25zLnNob3coXCJMb2FkaW5nXCIpO1xuXHRcdFdQQWpheC5cblx0XHRwb3N0KEpQUy5zdGVwX2FjdGlvbnMuc3RhcnQpLlxuXHRcdGZhaWwoZnVuY3Rpb24obXNnKSB7XG5cdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IobXNnKTtcblx0XHR9KS5cblx0XHRhbHdheXMoZnVuY3Rpb24oKSB7XG5cdFx0XHRTcGlubmVyQWN0aW9ucy5oaWRlKCk7XG5cdFx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNURVBfR0VUX1NUQVJURURcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9LFxuXG5cdGRpc2FibGVKUFM6IGZ1bmN0aW9uKCkge1xuXHRcdFNwaW5uZXJBY3Rpb25zLnNob3coXCJcIik7XG5cdFx0V1BBamF4LlxuXHRcdHBvc3QoSlBTLnN0ZXBfYWN0aW9ucy5kaXNhYmxlKS5cblx0XHRmYWlsKGZ1bmN0aW9uKG1zZykge1xuXHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKG1zZyk7XG5cdFx0fSkuXG5cdFx0YWx3YXlzKGZ1bmN0aW9uKCkge1xuXHRcdFx0d2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuXHRcdH0pO1xuXHR9LFxuXG5cdHNldEN1cnJlbnRTdGVwOiBmdW5jdGlvbihzbHVnKSB7XG5cdFx0Rmxhc2hBY3Rpb25zLnVuc2V0KCk7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU1RFUF9TRUxFQ1QsXG5cdFx0XHRzbHVnOiBzbHVnXG5cdFx0fSk7XG5cdH0sXG5cblx0Ly8gbW92ZXMgb24gdG8gdGhlIG5leHQgc3RlcCwgYnV0IGRvZXNuJ3QgbWFyayBpdCBhcyBcInNraXBwZWRcIlxuXHRzZWxlY3ROZXh0U3RlcDogZnVuY3Rpb24oKSB7XG5cdFx0Rmxhc2hBY3Rpb25zLnVuc2V0KCk7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU1RFUF9ORVhUXG5cdFx0fSk7XG5cdH0sXG5cblx0c3VibWl0VGl0bGVTdGVwOiBmdW5jdGlvbigpIHtcblx0XHRTaXRlQWN0aW9ucy5zYXZlVGl0bGVBbmREZXNjcmlwdGlvbigpLmRvbmUoZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmNvbXBsZXRlQW5kTmV4dFN0ZXAoUGF0aHMuU0lURV9USVRMRV9TVEVQX1NMVUcpO1xuXHRcdH0uYmluZCh0aGlzKSk7XG5cdH0sXG5cblx0c3VibWl0TGF5b3V0U3RlcDogZnVuY3Rpb24obGF5b3V0KSB7XG5cdFx0U2l0ZUFjdGlvbnMuc2V0TGF5b3V0KGxheW91dCkuZG9uZShmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuY29tcGxldGVBbmROZXh0U3RlcChQYXRocy5MQVlPVVRfU1RFUF9TTFVHKTtcblx0XHR9LmJpbmQodGhpcykpO1xuXHR9LFxuXG5cdGNyZWF0ZUNvbnRhY3RQYWdlOiBmdW5jdGlvbihjb250YWN0UGFnZSkge1xuXHRcdFNwaW5uZXJBY3Rpb25zLnNob3coXCJDcmVhdGluZyBQYWdlXCIpO1xuXHRcdHJldHVybiBTaXRlQWN0aW9ucy5jcmVhdGVDb250YWN0VXNQYWdlKGNvbnRhY3RQYWdlKS5cblx0XHRcdGRvbmUoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aGlzLmNvbXBsZXRlU3RlcChQYXRocy5DT05UQUNUX1BBR0VfU1RFUF9TTFVHKTtcblx0XHRcdH0uYmluZCh0aGlzKSkuXG5cdFx0XHRhbHdheXMoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRTcGlubmVyQWN0aW9ucy5oaWRlKCk7XG5cdFx0XHR9KTtcblxuXHRcdC8vIGRvbmUoZnVuY3Rpb24oKSB7XG5cdFx0Ly8gXHR0aGlzLmNvbXBsZXRlQW5kTmV4dFN0ZXAoUGF0aHMuQ09OVEFDVF9QQUdFX1NURVBfU0xVRyk7XG5cdFx0Ly8gfS5iaW5kKHRoaXMpKTtcblx0fSxcblxuXHRza2lwQ29udGFjdFBhZ2VCdWlsZDogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5jb21wbGV0ZUFuZE5leHRTdGVwKFBhdGhzLkNPTlRBQ1RfUEFHRV9TVEVQX1NMVUcpO1xuXHR9LFxuXG5cdHN1Ym1pdEpldHBhY2tKdW1wc3RhcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVBY3Rpb25zLmVuYWJsZUp1bXBzdGFydCgpLmRvbmUoZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmNvbXBsZXRlU3RlcChQYXRocy5KRVRQQUNLX01PRFVMRVNfU1RFUF9TTFVHKTtcblx0XHR9LmJpbmQodGhpcykpO1xuXHR9LFxuXG5cdHNldEFjdGl2ZVRoZW1lOiBmdW5jdGlvbih0aGVtZSkge1xuXHRcdFNpdGVBY3Rpb25zLnNldEFjdGl2ZVRoZW1lKHRoZW1lKS5kb25lKGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5jb21wbGV0ZVN0ZXAoUGF0aHMuREVTSUdOX1NURVBfU0xVRywge1xuXHRcdFx0XHR0aGVtZUlkOiB0aGVtZS5pZFxuXHRcdFx0fSk7XG5cdFx0fS5iaW5kKHRoaXMpKTtcblx0fSxcblxuXHRzYXZlRGVzaWduU3RlcDogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5jb21wbGV0ZUFuZE5leHRTdGVwKFBhdGhzLkRFU0lHTl9TVEVQX1NMVUcsIHtcblx0XHRcdHRoZW1lSWQ6IFNpdGVTdG9yZS5nZXRBY3RpdmVUaGVtZUlkKClcblx0XHR9KTtcblx0fVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTZXR1cFByb2dyZXNzQWN0aW9uczsiLCJ2YXIgQXBwRGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4uL2Rpc3BhdGNoZXIvYXBwLWRpc3BhdGNoZXInKSxcblx0SlBTQ29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stb25ib2FyZGluZy1jb25zdGFudHMnKSxcblx0U2l0ZVN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NpdGUtc3RvcmUnKSxcblx0Rmxhc2hBY3Rpb25zID0gcmVxdWlyZSgnLi9mbGFzaC1hY3Rpb25zLmpzJyksXG5cdFNwaW5uZXJBY3Rpb25zID0gcmVxdWlyZSgnLi9zcGlubmVyLWFjdGlvbnMuanMnKSxcblx0V1BBamF4ID0gcmVxdWlyZSgnLi4vdXRpbHMvd3AtYWpheCcpO1xuXG52YXIgU2l0ZUFjdGlvbnMgPSB7XG5cdHNldFRpdGxlOiBmdW5jdGlvbih0aXRsZSkge1xuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNJVEVfU0VUX1RJVExFLFxuXHRcdFx0dGl0bGU6IHRpdGxlXG5cdCAgICB9KTtcblx0fSxcblxuXHRzZXREZXNjcmlwdGlvbjogZnVuY3Rpb24oZGVzY3JpcHRpb24pIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSVRFX1NFVF9ERVNDUklQVElPTixcblx0XHRcdGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvblxuXHQgICAgfSk7XG5cdH0sXG5cblx0c2F2ZVRpdGxlQW5kRGVzY3JpcHRpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aXRsZSA9IFNpdGVTdG9yZS5nZXRUaXRsZSgpO1xuXHRcdHZhciBkZXNjcmlwdGlvbiA9IFNpdGVTdG9yZS5nZXREZXNjcmlwdGlvbigpO1xuXHRcdFxuXHRcdFdQQWpheC5cblx0XHRcdHBvc3QoIEpQUy5zaXRlX2FjdGlvbnMuc2V0X3RpdGxlLCB7IHRpdGxlOiB0aXRsZSwgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uIH0gKS5cblx0XHRcdGZhaWwoIGZ1bmN0aW9uICggbXNnICkge1xuXHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IoXCJFcnJvciBzZXR0aW5nIHRpdGxlOiBcIittc2cpO1xuXHRcdFx0fSk7XG5cblx0XHRqUXVlcnkoJyN3cC1hZG1pbi1iYXItc2l0ZS1uYW1lIC5hYi1pdGVtJykuaHRtbCh0aXRsZSk7XG5cdFx0Ly8gRmxhc2hBY3Rpb25zLm5vdGljZSggXCJTZXQgdGl0bGUgdG8gJ1wiK3RpdGxlK1wiJyBhbmQgZGVzY3JpcHRpb24gdG8gJ1wiK2Rlc2NyaXB0aW9uK1wiJ1wiICk7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9TQVZFX1RJVExFX0FORF9ERVNDUklQVElPTixcblx0XHRcdHRpdGxlOiB0aXRsZVxuXHQgICAgfSk7XG5cblx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCkucmVzb2x2ZSgpOyAvLyBYWFggSEFDS1xuXHR9LFxuXG5cdHNldENvbnRhY3RQYWdlSWQ6IGZ1bmN0aW9uKGNvbnRhY3RQYWdlSUQpIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSVRFX0NPTlRBQ1RfUEFHRV9JRCxcblx0XHRcdGNvbnRhY3RQYWdlSUQ6IGNvbnRhY3RQYWdlSURcblx0XHR9KTtcblx0fSxcblxuXHRfaW5zdGFsbFRoZW1lOiBmdW5jdGlvbiAoIHRoZW1lICkge1xuXHRcdGlmICggISB0aGVtZS5pbnN0YWxsZWQgKSB7XG5cdFx0XHRTcGlubmVyQWN0aW9ucy5zaG93KFwiSW5zdGFsbGluZyAnXCIrdGhlbWUubmFtZStcIidcIik7XG5cdFx0XHRyZXR1cm4gV1BBamF4LlxuXHRcdFx0XHRwb3N0KCBKUFMuc2l0ZV9hY3Rpb25zLmluc3RhbGxfdGhlbWUsIHsgdGhlbWVJZDogdGhlbWUuaWQgfSApLlxuXHRcdFx0XHRkb25lKCBmdW5jdGlvbiAoICkge1xuXHRcdFx0XHRcdHRoZW1lLmluc3RhbGxlZCA9IHRydWU7XG5cdFx0XHRcdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRcdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9JTlNUQUxMX1RIRU1FLFxuXHRcdFx0XHRcdFx0dGhlbWU6IHRoZW1lXG5cdFx0XHRcdCAgICB9KTtcblx0XHRcdFx0fSkuXG5cdFx0XHRcdGZhaWwoIGZ1bmN0aW9uICggbXNnICkge1xuXHRcdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihcIlNlcnZlciBlcnJvciBpbnN0YWxsaW5nIHRoZW1lOiBcIittc2cpO1xuXHRcdFx0XHR9KS5cblx0XHRcdFx0YWx3YXlzKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRTcGlubmVyQWN0aW9ucy5oaWRlKCk7XG5cdFx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCkucmVzb2x2ZSgpO1xuXHRcdH1cblx0fSxcblxuXHRfYWN0aXZhdGVUaGVtZTogZnVuY3Rpb24gKCB0aGVtZSApIHtcblx0XHRXUEFqYXguXG5cdFx0XHRwb3N0KCBKUFMuc2l0ZV9hY3Rpb25zLnNldF90aGVtZSwgeyB0aGVtZUlkOiB0aGVtZS5pZCB9ICkuXG5cdFx0XHRmYWlsKCBmdW5jdGlvbiAoIG1zZyApIHtcblx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKFwiU2VydmVyIGVycm9yIHNldHRpbmcgdGhlbWU6IFwiK21zZyk7XG5cdFx0XHR9KTtcblxuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNJVEVfU0VUX1RIRU1FLFxuXHRcdFx0dGhlbWVJZDogdGhlbWUuaWRcblx0ICAgIH0pO1xuXHR9LFxuXG5cdHNldEFjdGl2ZVRoZW1lOiBmdW5jdGlvbiggdGhlbWUgKSB7XG5cblx0XHR0aGlzLl9pbnN0YWxsVGhlbWUodGhlbWUpLlxuXHRcdFx0ZG9uZSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMuX2FjdGl2YXRlVGhlbWUodGhlbWUpO1xuXHRcdFx0fS5iaW5kKHRoaXMpKTtcblxuXHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoKS5yZXNvbHZlKCk7IC8vIFhYWCBIQUNLXG5cdH0sXG5cblx0c2V0TGF5b3V0OiBmdW5jdGlvbiggbGF5b3V0TmFtZSApIHtcblx0XG5cdFx0V1BBamF4LlxuXHRcdFx0cG9zdCggSlBTLnNpdGVfYWN0aW9ucy5zZXRfbGF5b3V0LCB7IGxheW91dDogbGF5b3V0TmFtZSB9ICkuXG5cdFx0XHRmYWlsKCBmdW5jdGlvbiAobXNnICkge1xuXHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IoXCJFcnJvciBzZXR0aW5nIGxheW91dDogXCIrbXNnKTtcblx0XHRcdH0pO1xuXG5cdFx0Ly8gRmxhc2hBY3Rpb25zLm5vdGljZShcIlNldCBsYXlvdXQgdG8gXCIrbGF5b3V0TmFtZSk7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9TRVRfTEFZT1VULFxuXHRcdFx0bGF5b3V0OiBsYXlvdXROYW1lXG5cdCAgICB9KTtcblxuXHQgICAgcmV0dXJuIGpRdWVyeS5EZWZlcnJlZCgpLnJlc29sdmUoKTsgLy8gWFhYIEhBQ0tcblx0fSxcblxuXHRjcmVhdGVDb250YWN0VXNQYWdlOiBmdW5jdGlvbiggY29udGFjdFBhZ2UgKSB7XG5cblx0XHRyZXR1cm4gV1BBamF4LlxuXHRcdFx0cG9zdCggSlBTLnNpdGVfYWN0aW9ucy5idWlsZF9jb250YWN0X3BhZ2UsIHsgYnVpbGRDb250YWN0UGFnZTogY29udGFjdFBhZ2UgfSApLlxuXHRcdFx0ZG9uZSggZnVuY3Rpb24oIHBhZ2VfaW5mbyApIHtcblx0XHRcdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNJVEVfQ1JFQVRFX0NPTlRBQ1RfVVNfUEFHRSxcblx0XHRcdFx0XHRkYXRhOiBwYWdlX2luZm9cblx0XHRcdFx0fSk7XHRcdFxuXHRcdFx0fSkuXG5cdFx0XHRmYWlsKCBmdW5jdGlvbiggbXNnICkge1xuXHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBjb250YWN0IHVzIHBhZ2U6IFwiK21zZyk7XG5cdFx0XHR9KTtcblx0fSxcblxuXHRza2lwQ29udGFjdFBhZ2VCdWlsZDogZnVuY3Rpb24oKSB7XG5cdFx0Ly8gRmxhc2hBY3Rpb25zLm5vdGljZSggXCJCdWlsZCB0aGUgY29udGFjdCB1cyBwYWdlXCIgKTtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSVRFX0NSRUFURV9DT05UQUNUX1VTX1BBR0Vcblx0XHR9KTtcblxuXHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoKS5yZXNvbHZlKCk7IC8vIFhYWCBIQUNLXG5cdH0sXG5cblx0Y29uZmlndXJlSmV0cGFjazogZnVuY3Rpb24ocmV0dXJuX3RvX3N0ZXApIHtcblx0XHRTcGlubmVyQWN0aW9ucy5zaG93KFwiQ29ubmVjdGluZyB0byBXb3JkUHJlc3MuY29tXCIpO1xuXHRcdHJldHVybiBXUEFqYXguXG5cdFx0XHRwb3N0KCBKUFMuc2l0ZV9hY3Rpb25zLmNvbmZpZ3VyZV9qZXRwYWNrLCB7IHJldHVybl90b19zdGVwOiByZXR1cm5fdG9fc3RlcCB9ICkuXG5cdFx0XHRkb25lKCBmdW5jdGlvbiAoIGRhdGEgKSB7XG5cdFx0XHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSVRFX0pFVFBBQ0tfQ09ORklHVVJFRFxuXHRcdFx0ICAgIH0pO1xuXG5cdFx0XHRcdGlmICggZGF0YS5uZXh0ICkge1xuXHRcdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGRhdGEubmV4dCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0U3Bpbm5lckFjdGlvbnMuaGlkZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KS5cblx0XHRcdGZhaWwoIGZ1bmN0aW9uICggbXNnICkge1xuXHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IoXCJFcnJvciBlbmFibGluZyBKZXRwYWNrOiBcIittc2cpO1xuXHRcdFx0XHRTcGlubmVyQWN0aW9ucy5oaWRlKCk7XG5cdFx0XHR9KTtcblx0fSxcblxuXHRhY3RpdmF0ZUpldHBhY2tNb2R1bGU6IGZ1bmN0aW9uKG1vZHVsZV9zbHVnKSB7XG5cblx0XHRXUEFqYXguXG5cdFx0XHRwb3N0KCBKUFMuc2l0ZV9hY3Rpb25zLmFjdGl2YXRlX2pldHBhY2tfbW9kdWxlcywgeyBtb2R1bGVzOiBbbW9kdWxlX3NsdWddIH0pLlxuXHRcdFx0ZmFpbCggZnVuY3Rpb24gKCBtc2cgKSB7XG5cdFx0XHRcdEZsYXNoQWN0aW9ucy5lcnJvcihcIkVycm9yIGFjdGl2YXRpbmcgSmV0cGFjayBtb2R1bGU6IFwiK21zZyk7XG5cdFx0XHR9KTtcblxuXHRcdEFwcERpc3BhdGNoZXIuZGlzcGF0Y2goe1xuXHRcdFx0YWN0aW9uVHlwZTogSlBTQ29uc3RhbnRzLlNJVEVfSkVUUEFDS19NT0RVTEVfRU5BQkxFRCxcblx0XHRcdHNsdWc6IG1vZHVsZV9zbHVnXG5cdCAgICB9KTtcblxuXHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoKS5yZXNvbHZlKCk7IC8vIFhYWCBIQUNLXG5cdH0sXG5cblx0ZGVhY3RpdmF0ZUpldHBhY2tNb2R1bGU6IGZ1bmN0aW9uKG1vZHVsZV9zbHVnKSB7XG5cblx0XHRXUEFqYXguXG5cdFx0XHRwb3N0KCBKUFMuc2l0ZV9hY3Rpb25zLmRlYWN0aXZhdGVfamV0cGFja19tb2R1bGVzLCB7IG1vZHVsZXM6IFttb2R1bGVfc2x1Z10gfSkuXG5cdFx0XHRmYWlsKCBmdW5jdGlvbiAoIG1zZyApIHtcblx0XHRcdFx0Rmxhc2hBY3Rpb25zLmVycm9yKFwiRXJyb3IgZGVhY3RpdmF0aW5nIEpldHBhY2sgbW9kdWxlOiBcIittc2cpO1xuXHRcdFx0fSk7XG5cblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSVRFX0pFVFBBQ0tfTU9EVUxFX0RJU0FCTEVELFxuXHRcdFx0c2x1ZzogbW9kdWxlX3NsdWdcblx0ICAgIH0pO1xuXG5cdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZCgpLnJlc29sdmUoKTsgLy8gWFhYIEhBQ0tcblx0fSxcblxuXHRsb2FkQWxsSmV0cGFja01vZHVsZXM6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggU2l0ZVN0b3JlLmdldEpldHBhY2tBZGRpdGlvbmFsTW9kdWxlcygpLmxlbmd0aCA9PT0gMCApIHtcblx0XHRcdHJldHVybiBXUEFqYXguXG5cdFx0XHRcdHBvc3QoIEpQUy5zaXRlX2FjdGlvbnMubGlzdF9qZXRwYWNrX21vZHVsZXMgKS5cblx0XHRcdFx0ZG9uZSggZnVuY3Rpb24gKCBhbGxfbW9kdWxlcyApIHtcblx0XHRcdFx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdFx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSVRFX0pFVFBBQ0tfQUREX01PRFVMRVMsXG5cdFx0XHRcdFx0XHRtb2R1bGVzOiBhbGxfbW9kdWxlc1xuXHRcdFx0XHQgICAgfSk7XG5cdFx0XHRcdH0pLlxuXHRcdFx0XHRmYWlsKCBmdW5jdGlvbiAoIG1zZyApIHtcblx0XHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBhbGwgSmV0cGFjayBtb2R1bGVzOiBcIittc2cpO1xuXHRcdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZCgpLnJlc29sdmUoKTsgLy8gWFhYIEhBQ0tcblx0XHR9XG5cdH0sXG5cblx0ZW5hYmxlSnVtcHN0YXJ0OiBmdW5jdGlvbigpIHtcblx0XHRXUEFqYXguXG5cdFx0XHRwb3N0KCBKUFMuc2l0ZV9hY3Rpb25zLmFjdGl2YXRlX2pldHBhY2tfbW9kdWxlcywgeyBtb2R1bGVzOiBTaXRlU3RvcmUuZ2V0SnVtcHN0YXJ0TW9kdWxlU2x1Z3MoKSB9KS5cblx0XHRcdGZhaWwoIGZ1bmN0aW9uICggbXNnICkge1xuXHRcdFx0XHRGbGFzaEFjdGlvbnMuZXJyb3IoXCJFcnJvciBhY3RpdmF0aW5nIEpldHBhY2sgbW9kdWxlczogXCIrbXNnKTtcblx0XHRcdH0pO1xuXG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0lURV9KRVRQQUNLX0pVTVBTVEFSVF9FTkFCTEVEXG5cdCAgICB9KTtcblxuXHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoKS5yZXNvbHZlKCk7IC8vIFhYWCBIQUNLXG5cdH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gU2l0ZUFjdGlvbnM7IiwidmFyIEFwcERpc3BhdGNoZXIgPSByZXF1aXJlKCcuLi9kaXNwYXRjaGVyL2FwcC1kaXNwYXRjaGVyJyksXG5cdEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLW9uYm9hcmRpbmctY29uc3RhbnRzJyk7XG5cbnZhciBTcGlubmVyQWN0aW9ucyA9IHtcblx0c2hvdzogZnVuY3Rpb24obXNnKSB7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuU0hPV19TUElOTkVSLFxuXHRcdFx0bWVzc2FnZTogbXNnXG5cdFx0fSk7XG5cdH0sXG5cblx0aGlkZTogZnVuY3Rpb24oKSB7XG5cdFx0QXBwRGlzcGF0Y2hlci5kaXNwYXRjaCh7XG5cdFx0XHRhY3Rpb25UeXBlOiBKUFNDb25zdGFudHMuSElERV9TUElOTkVSLFxuXHRcdH0pO1x0XG5cdH0sXG5cblx0c2hvd0FzeW5jOiBmdW5jdGlvbihtc2cpIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5TSE9XX0FTWU5DX1NQSU5ORVIsXG5cdFx0XHRtZXNzYWdlOiBtc2dcblx0XHR9KTtcdFx0XG5cdH0sXG5cblx0aGlkZUFzeW5jOiBmdW5jdGlvbigpIHtcblx0XHRBcHBEaXNwYXRjaGVyLmRpc3BhdGNoKHtcblx0XHRcdGFjdGlvblR5cGU6IEpQU0NvbnN0YW50cy5ISURFX0FTWU5DX1NQSU5ORVJcblx0XHR9KTtcdFx0XHRcblx0fVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTcGlubmVyQWN0aW9uczsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKSxcblx0QnV0dG9uID0gcmVxdWlyZSgnQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9qcy9jb21wb25lbnRzL2J1dHRvbicpLFxuXHRTaXRlU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2l0ZS1zdG9yZScpLFxuXHRXZWxjb21lU2VjdGlvbiA9IHJlcXVpcmUoJy4vd2VsY29tZS1zZWN0aW9uJyk7XG5cbmZ1bmN0aW9uIGdldFNpdGVTdGF0ZSgpIHtcblx0cmV0dXJuIHtcblx0XHRzaXRlX3RpdGxlOiBTaXRlU3RvcmUuZ2V0VGl0bGUoKVxuXHR9O1xufVxuXG52YXIgU2V0dGluZ3NJdGVtID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIlNldHRpbmdzSXRlbVwiLFxuXHRzdHlsZXM6IHtcblx0XHRpdGVtOiB7XG5cdFx0XHRwYWRkaW5nOiAnMWVtJyxcblx0XHRcdG1hcmdpbkJvdHRvbTogJzFlbScsXG5cdFx0XHRsaXN0U3R5bGU6ICdub25lJyxcblx0XHRcdGJhY2tncm91bmQ6ICcjZjVmNWY1Jyxcblx0XHRcdGJvcmRlcjogJzFweCBzb2xpZCAjZGRkJ1xuXHRcdH0sXG5cblx0XHRoZWFkaW5nOiB7XG5cdFx0XHRtYXJnaW46IDAsXG5cdFx0XHRmb250U2l6ZTogJzEuMmVtJyxcblx0XHRcdGZvbnRXZWlnaHQ6IDgwMFxuXHRcdH1cblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwge3N0eWxlOiB0aGlzLnN0eWxlcy5pdGVtfSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoNVwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLmhlYWRpbmd9LCB0aGlzLnByb3BzLnRpdGxlKSwgXG5cdFx0XHRcdHRoaXMucHJvcHMuY2hpbGRyZW5cdFx0XHRcdFxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG52YXIgQWR2YW5jZWRTZXR0aW5nc1N0ZXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiQWR2YW5jZWRTZXR0aW5nc1N0ZXBcIixcblxuXHRzdHlsZXM6IHtcblx0XHR3cmFwcGVyOiB7XG5cdFx0XHRtYXJnaW5MZWZ0OiAwXG5cdFx0fVxuXHR9LFxuXG4gIFx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZ2V0U2l0ZVN0YXRlKCk7XG5cdH0sXG5cblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0X29uQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICBcdHRoaXMuc2V0U3RhdGUoZ2V0U2l0ZVN0YXRlKCkpO1xuICBcdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChXZWxjb21lU2VjdGlvbiwgbnVsbCwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCBcIkxldCdzIGxhdW5jaCBcIiwgUmVhY3QuY3JlYXRlRWxlbWVudChcImVtXCIsIG51bGwsIHRoaXMuc3RhdGUuc2l0ZV90aXRsZSkpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImg0XCIsIG51bGwsIFwiQWR2YW5jZWQgc2V0dGluZ3NcIiksIFxuXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLndyYXBwZXJ9LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFNldHRpbmdzSXRlbSwge3RpdGxlOiBcIkZpbmUtdHVuZSB5b3VyIHNpdGUncyBsYXlvdXQgYW5kIGFwcGVhcmFuY2VcIn0sIFxuXHRcdFx0XHRcdFx0XCJDdXN0b21pemUgeW91ciBzaXRl4oCZcyBjb2xvcnMsIGZvbnRzLCBzaWRlYmFycyBhbmQgb3RoZXIgc2V0dGluZ3MuXCIsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImJyXCIsIG51bGwpLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7Y29sb3I6IFwiYmx1ZVwiLCBocmVmOiBKUFMuc3RlcHMuYWR2YW5jZWRfc2V0dGluZ3MuY3VzdG9taXplX3VybH0sIFwiQ3VzdG9taXplIG15IHNpdGVcIiksIFxuXHRcdFx0XHRcdFx0XCLCoMKgXCIsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtjb2xvcjogXCJibHVlXCIsIGhyZWY6IEpQUy5zdGVwcy5hZHZhbmNlZF9zZXR0aW5ncy50aGVtZXNfdXJsfSwgXCJCcm93c2UgYW5kIGFkZCB0aGVtZXNcIilcblx0XHRcdFx0XHQpLCBcblxuXHRcdFx0XHRcdChTaXRlU3RvcmUuZ2V0TGF5b3V0KCkgPT0gJ2Jsb2cnIHx8IFNpdGVTdG9yZS5nZXRMYXlvdXQoKSA9PSAnc2l0ZS1ibG9nJykgJiYgKFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChTZXR0aW5nc0l0ZW0sIHt0aXRsZTogXCJDcmVhdGUgeW91ciBmaXJzdCBibG9nIHBvc3RcIn0sIFxuXHRcdFx0XHRcdFx0XHRcIkFuIGVwaWMgZXNzYXkgb3IganVzdCBcXFwiSGVsbG8gV29ybGQhXFxcIlwiLCBcblx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImJyXCIsIG51bGwpLCBcblx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtjb2xvcjogXCJibHVlXCIsIGhyZWY6IEpQUy5zdGVwcy5hZHZhbmNlZF9zZXR0aW5ncy5uZXdfYmxvZ19wb3N0X3VybH0sIFwiV3JpdGUgYSBuZXcgYmxvZyBwb3N0XCIpLCBcblx0XHRcdFx0XHRcdFx0XCLCoMKgXCIsIFxuXHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2NvbG9yOiBcImJsdWVcIiwgaHJlZjogSlBTLnN0ZXBzLmFkdmFuY2VkX3NldHRpbmdzLm1hbmFnZV9wb3N0c191cmx9LCBcIk1hbmFnZSBwb3N0c1wiKVxuXHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdCksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2V0dGluZ3NJdGVtLCB7dGl0bGU6IFwiQ3JlYXRlIGEgc3RhdGljIHBhZ2VcIn0sIFxuXHRcdFx0XHRcdFx0XCJcXFwiQWJvdXQgbWVcXFwiLCBcXFwiT3VyIFNlcnZpY2VzXFxcIiBvciBhbnl0aGluZyBlbHNlIHlvdSBjYW4gaW1hZ2luZS5cIiwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCksIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtjb2xvcjogXCJibHVlXCIsIGhyZWY6IEpQUy5zdGVwcy5hZHZhbmNlZF9zZXR0aW5ncy5uZXdfcGFnZV91cmx9LCBcIkNyZWF0ZSBhIG5ldyBwYWdlXCIpLCBcblx0XHRcdFx0XHRcdFwiwqDCoFwiLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7Y29sb3I6IFwiYmx1ZVwiLCBocmVmOiBKUFMuc3RlcHMuYWR2YW5jZWRfc2V0dGluZ3MubWFuYWdlX3BhZ2VzX3VybH0sIFwiTWFuYWdlIHBhZ2VzXCIpXG5cdFx0XHRcdFx0KSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChTZXR0aW5nc0l0ZW0sIHt0aXRsZTogXCJFeHRlbmQgeW91ciBzaXRlJ3MgZnVuY3Rpb25hbGl0eVwifSwgXG5cdFx0XHRcdFx0XHRcIldvcmRQcmVzcyBvZmZlcnMgdGhvdXNhbmRzIG9mIHBsdWdpbnMgZnJvbSBKZXRwYWNrIGFuZCB0aGUgV29yZFByZXNzIGNvbW11bml0eS5cIiwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCksIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtjb2xvcjogXCJibHVlXCIsIGhyZWY6IEpQUy5zdGVwcy5hZHZhbmNlZF9zZXR0aW5ncy5wbHVnaW5zX3VybH0sIFwiTWFuYWdlIHBsdWdpbnNcIiksIFxuXHRcdFx0XHRcdFx0XCLCoMKgXCIsIFxuXHRcdFx0XHRcdFx0U2l0ZVN0b3JlLmdldEpldHBhY2tDb25maWd1cmVkKCkgJiYgKFxuXHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2NvbG9yOiBcImJsdWVcIiwgaHJlZjogSlBTLnN0ZXBzLmFkdmFuY2VkX3NldHRpbmdzLmpldHBhY2tfbW9kdWxlc191cmx9LCBcIk1hbmFnZSBKZXRwYWNrIG1vZHVsZXNcIilcblx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHQpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFNldHRpbmdzSXRlbSwge3RpdGxlOiBcIkxlYXJuIG1vcmVcIn0sIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge2hyZWY6IFwiaHR0cHM6Ly9jb2RleC53b3JkcHJlc3Mub3JnL0ZpcnN0X1N0ZXBzX1dpdGhfV29yZFByZXNzXCJ9LCBcIkZpcnN0IFN0ZXBzIHdpdGggV29yZFByZXNzXCIpLCBcIiAtIGFuIG9ubGluZSBndWlkZSBmcm9tIHRoZSBjcmVhdG9ycyBvZiBXb3JkUHJlc3NcIlxuXHRcdFx0XHRcdClcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFkdmFuY2VkU2V0dGluZ3NTdGVwOyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpLFxuXHRTaXRlU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2l0ZS1zdG9yZScpLFxuXHRCdXR0b24gPSByZXF1aXJlKCdAYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvYnV0dG9uJyksXG5cdFdlbGNvbWVTZWN0aW9uID0gcmVxdWlyZSgnLi93ZWxjb21lLXNlY3Rpb24nKSxcblx0c3R5bGVzID0gcmVxdWlyZSgnLi4vc3R5bGVzJyksXG5cdFNldHVwUHJvZ3Jlc3NBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zZXR1cC1wcm9ncmVzcy1hY3Rpb25zJyk7XG5cbmZ1bmN0aW9uIGdldFNpdGVDb250YWN0U3RhdGUoKSB7XG5cdHJldHVybiB7XG5cdFx0c2l0ZV90aXRsZTogU2l0ZVN0b3JlLmdldFRpdGxlKCksXG5cdFx0Y29udGFjdFBhZ2VVUkw6IFNpdGVTdG9yZS5nZXRDb250YWN0UGFnZVVSTCgpLFxuXHRcdGNvbnRhY3RQYWdlU2NyZWVuc2hvdCA6IEpQUy5iYXNlX3VybCArIFwiL2ltZy9jb250YWN0LXVzLXNjcmVlbnNob3QucG5nXCJcblx0fTtcbn1cblxudmFyIENvbnRhY3RQYWdlU3RlcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJDb250YWN0UGFnZVN0ZXBcIixcblxuXHRjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0U2l0ZVN0b3JlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0fSxcblxuXHRjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0U2l0ZVN0b3JlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0fSxcblxuXHRfb25DaGFuZ2U6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuc2V0U3RhdGUoZ2V0U2l0ZUNvbnRhY3RTdGF0ZSgpKTtcblx0fSxcblxuXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBnZXRTaXRlQ29udGFjdFN0YXRlKCk7XG5cdH0sXG5cblx0aGFuZGxlQnVpbGRDb250YWN0OiBmdW5jdGlvbiggZSApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0U2V0dXBQcm9ncmVzc0FjdGlvbnMuY3JlYXRlQ29udGFjdFBhZ2UoKTtcblx0fSxcblxuXHRoYW5kbGVTdWJtaXQ6IGZ1bmN0aW9uKCBlICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRTZXR1cFByb2dyZXNzQWN0aW9ucy5za2lwQ29udGFjdFBhZ2VCdWlsZCgpO1xuXHR9LFxuXG5cdGhhbmRsZUNvbnRpbnVlOiBmdW5jdGlvbiggZSApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0U2V0dXBQcm9ncmVzc0FjdGlvbnMuc2VsZWN0TmV4dFN0ZXAoKTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggISB0aGlzLnN0YXRlLmNvbnRhY3RQYWdlVVJMICkge1xuXHRcdFx0cmV0dXJuKFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFdlbGNvbWVTZWN0aW9uLCB7aWQ6IFwid2VsY29tZV9fbGF5b3V0XCJ9LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJMZXQncyBsYXVuY2ggXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJlbVwiLCBudWxsLCB0aGlzLnN0YXRlLnNpdGVfdGl0bGUpKSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImg0XCIsIG51bGwsIFwiSGVscCB2aXNpdG9ycyBnZXQgaW4gdG91Y2gsIGdyZWF0IGZvciBidXNpbmVzc2VzLCBibG9ncyBhbmQgcGVyc29uYWwgc2l0ZXNcIiksIFxuXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7c3R5bGU6IHN0eWxlcy5zY3JlZW5zaG90LCBzcmM6IHRoaXMuc3RhdGUuY29udGFjdFBhZ2VTY3JlZW5zaG90fSksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtzdHlsZTogc3R5bGVzLmNvbnRlbnR9LCBcIkJ1aWxkIGEgXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJlbVwiLCBudWxsLCBcInN0YXJ0ZXJcIiksIFwiIFxcXCJDb250YWN0IFVzXFxcIiBwYWdlP1wiLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiclwiLCBudWxsKSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwic21hbGxcIiwgbnVsbCwgXCIocmVxdWlyZXMgYSBmcmVlIEpldHBhY2sgY29ubmVjdGlvbilcIilcblx0XHRcdFx0XHQpLCBcblxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7Y29sb3I6IFwiZ3JlZW5cIiwgc3R5bGU6IHsgbWFyZ2luUmlnaHQ6IDE1fSwgb25DbGljazogdGhpcy5oYW5kbGVCdWlsZENvbnRhY3R9LCBcIlllc1wiKSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtvbkNsaWNrOiB0aGlzLmhhbmRsZVN1Ym1pdH0sIFwiTm8gVGhhbmtzXCIpXG5cdFx0XHRcdClcblx0XHRcdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybihcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChXZWxjb21lU2VjdGlvbiwge2lkOiBcIndlbGNvbWVfX2xheW91dFwifSwgXG5cblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJMZXQncyBsYXVuY2ggXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJlbVwiLCBudWxsLCB0aGlzLnN0YXRlLnNpdGVfdGl0bGUpKSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImg0XCIsIG51bGwsIFwiSGVscCB2aXNpdG9ycyBnZXQgaW4gdG91Y2gsIGdyZWF0IGZvciBidWlzbmVzc2VzLCBibG9ncyBhbmQgcGVyc29uYWwgc2l0ZXNcIiksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtzdHlsZTogc3R5bGVzLmNvbnRlbnR9LCBcIlZpZXcgeW91ciBzdGFydGVyIFwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7aHJlZjogdGhpcy5zdGF0ZS5jb250YWN0UGFnZVVSTCwgdGFyZ2V0OiBcIl9ibGFua1wifSwgXCJDb250YWN0IFVzXCIpLCBcIiBwYWdlLlwiLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiclwiLCBudWxsKSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwic21hbGxcIiwgbnVsbCwgXCIoVGhlIGZvcm0gcmVxdWlyZXMgYSBmcmVlIEpldHBhY2sgY29ubmVjdGlvbilcIiksIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJzdWJtaXRcIn0sIFxuXHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2NvbG9yOiBcImJsdWVcIiwgb25DbGljazogdGhpcy5oYW5kbGVDb250aW51ZX0sIFwiTmV4dCBTdGVwIOKGklwiKVxuXHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KVxuXHRcdFx0KTtcblx0XHR9XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbnRhY3RQYWdlU3RlcDsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKTtcblxudmFyIENvbnRlbnRCb3ggPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiQ29udGVudEJveFwiLFxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwid2VsY29tZV9fY29udGVudF9ib3hcIn0sIFxuXHRcdFx0XHR0aGlzLnByb3BzLmNoaWxkcmVuLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcImNsZWFyXCJ9KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbnRlbnRCb3g7IiwiLy8gc2ltcGxlIG5vdGljb24gd3JhcHBlclxuXG52YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKTtcblxudmFyIERhc2hpY29uID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIkRhc2hpY29uXCIsXG5cdFxuXHRwcm9wVHlwZXM6IHtcblx0XHRuYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG5cdFx0c3R5bGU6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdFx0b25Nb3VzZU92ZXI6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHRcdG9uTW91c2VPdXQ6IFJlYWN0LlByb3BUeXBlcy5mdW5jXG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuXHRcdFx0XHRzdHlsZTogdGhpcy5wcm9wcy5zdHlsZSwgXG5cdFx0XHRcdG9uTW91c2VPdmVyOiB0aGlzLnByb3BzLm9uTW91c2VPdmVyLCBcblx0XHRcdFx0b25Nb3VzZU91dDogdGhpcy5wcm9wcy5vbk1vdXNlT3V0LCBcblx0XHRcdFx0Y2xhc3NOYW1lOiBcImRhc2hpY29ucyBkYXNoaWNvbnMtXCIrdGhpcy5wcm9wcy5uYW1lfSwgXG5cblx0XHRcdFx0dGhpcy5wcm9wcy5jaGlsZHJlblxuXHRcdFx0XHRcblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBEYXNoaWNvbjsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKSxcblx0U2l0ZVN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NpdGUtc3RvcmUnKSxcblx0U2V0dXBQcm9ncmVzc0FjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3NldHVwLXByb2dyZXNzLWFjdGlvbnMnKSxcblx0VG9vbHRpcCA9IHJlcXVpcmUoJy4vdG9vbHRpcCcpLFxuXHRXZWxjb21lU2VjdGlvbiA9IHJlcXVpcmUoJy4vd2VsY29tZS1zZWN0aW9uJyksXG5cdENvbnRlbnRCb3ggPSByZXF1aXJlKCcuL2NvbnRlbnQtYm94JyksXG5cdHN0eWxlcyA9IHJlcXVpcmUoJy4uL3N0eWxlcycpLFxuXHRCdXR0b24gPSByZXF1aXJlKCdAYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvYnV0dG9uJyk7XG5cbmZ1bmN0aW9uIGdldFRoZW1lU3RhdGUoKSB7XG5cdHJldHVybiB7IHRoZW1lczogU2l0ZVN0b3JlLmdldFRoZW1lcygpLCBzaXRlX3RpdGxlOiBTaXRlU3RvcmUuZ2V0VGl0bGUoKSB9O1xufVxuXG52YXIgRGVzaWduU3RlcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogXCJEZXNpZ25TdGVwXCIsXG5cblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdFx0dGhpcy5fbG9hZFBvcHVsYXJUaGVtZXMoKTtcblx0fSxcblxuXHRjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0U2l0ZVN0b3JlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0fSxcblxuXHRfb25DaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICAgIFx0dGhpcy5zZXRTdGF0ZShnZXRUaGVtZVN0YXRlKCkpO1xuICBcdH0sXG5cblx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW5pdGlhbFN0YXRlID0gZ2V0VGhlbWVTdGF0ZSgpO1xuXHRcdGluaXRpYWxTdGF0ZS5wb3B1bGFyVGhlbWVzID0gW107XG5cdFx0cmV0dXJuIGluaXRpYWxTdGF0ZTtcblx0fSxcblxuXHRoYW5kbGVBY3RpdmF0ZVRoZW1lOiBmdW5jdGlvbiAoIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFxuXHRcdHRoaXMuc2V0U3RhdGUoe3Rvb2x0aXBUaGVtZTogbnVsbCwgdG9vbHRpcFBvc2l0aW9uOiBudWxsfSk7XG5cblx0XHR2YXIgJGVsID0galF1ZXJ5KGUuY3VycmVudFRhcmdldCksXG5cdFx0XHR0aGVtZUlkID0gJGVsLmRhdGEoJ3RoZW1lLWlkJyksXG5cdFx0XHR0aGVtZSA9IHRoaXMuZmluZFRoZW1lKHRoZW1lSWQpLFxuXHRcdFx0bmVlZHNJbnN0YWxsYXRpb24gPSAhdGhlbWUuaW5zdGFsbGVkO1xuXG5cdFx0dmFyIHJlc3BvbnNlID0gU2V0dXBQcm9ncmVzc0FjdGlvbnMuc2V0QWN0aXZlVGhlbWUodGhlbWUpO1xuXG5cdFx0Ly8gaWYgd2UganVzdCBpbnN0YWxsZWQgYSB0aGVtZSBmcm9tIHRoZSBcInBvcHVsYXJcIiBsaXN0LCBsZXQncyBsb2FkIHNvbWUgbmV3XG5cdFx0Ly8gc2VsZWN0aW9ucyBvbmNlIGluc3RhbGxhdGlvbiBpcyBmaW5pc2hlZFxuXHRcdGlmICggbmVlZHNJbnN0YWxsYXRpb24gKSB7XG5cdFx0XHRyZXNwb25zZS5kb25lKCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHRoaXMuX2xvYWRQb3B1bGFyVGhlbWVzKCk7XG5cdFx0XHR9LmJpbmQodGhpcykpO1xuXHRcdH1cblx0fSxcblxuXHRmaW5kVGhlbWU6IGZ1bmN0aW9uICggdGhlbWVJZCApXHR7XG5cdFx0cmV0dXJuIF8uZmluZFdoZXJlKHRoaXMuc3RhdGUudGhlbWVzLCB7aWQ6IHRoZW1lSWR9KSB8fCBfLmZpbmRXaGVyZSh0aGlzLnN0YXRlLnBvcHVsYXJUaGVtZXMsIHtpZDogdGhlbWVJZH0pO1xuXHR9LFxuXG5cdGhhbmRsZUNvbnRpbnVlOiBmdW5jdGlvbiAoIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFNldHVwUHJvZ3Jlc3NBY3Rpb25zLnNhdmVEZXNpZ25TdGVwKCk7XG5cdH0sXG5cblx0aGFuZGxlU2hvd1Rvb2x0aXA6IGZ1bmN0aW9uICggZSApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHR2YXIgJGVsICAgPSBqUXVlcnkoZS5jdXJyZW50VGFyZ2V0KSxcblx0XHRcdHRoZW1lID0gdGhpcy5maW5kVGhlbWUoJGVsLmRhdGEoJ3RoZW1lLWlkJykpLFxuXHRcdFx0b2Zmc2V0ID0gJGVsLnBvc2l0aW9uKCksXG5cdFx0XHR3aWR0aCA9ICRlbC5vdXRlcldpZHRoKCksXG5cdFx0XHRoZWlnaHQgPSAkZWwub3V0ZXJIZWlnaHQoKTtcblx0XHRcblx0XHQvL2Rlc2NyaWJlcyBhIHBvc2l0aW9uIGluIHRoZSBtaWRkbGUgb2YgdGhlIHJpZ2h0IHNpZGVcblx0XHR2YXIgcG9zaXRpb24gPSB7XG5cdFx0XHR0b3A6IG9mZnNldC50b3AgKyAoaGVpZ2h0LzIpLFxuXHRcdFx0bGVmdDogb2Zmc2V0LmxlZnQgKyB3aWR0aFxuXHRcdH07XG5cblx0XHR0aGlzLnNldFN0YXRlKHt0b29sdGlwVGhlbWU6IHRoZW1lLCB0b29sdGlwUG9zaXRpb246IHBvc2l0aW9ufSk7XG5cdH0sXG5cblx0aGFuZGxlSGlkZVRvb2x0aXA6IGZ1bmN0aW9uICggZSApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0dGhpcy5zZXRTdGF0ZSh7dG9vbHRpcFRoZW1lOiBudWxsLCB0b29sdGlwUG9zaXRpb246IG51bGx9KTtcblx0fSxcblxuXHRoYW5kbGVHZXRQb3B1bGFyVGhlbWVzOiBmdW5jdGlvbiAoIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHRoaXMuX2xvYWRQb3B1bGFyVGhlbWVzKCk7XHRcdFxuXHR9LFxuXG5cdF9sb2FkUG9wdWxhclRoZW1lczogZnVuY3Rpb24oKSB7XG5cdFx0U2l0ZVN0b3JlLmdldFBvcHVsYXJUaGVtZXMoKS5kb25lKGZ1bmN0aW9uKHRoZW1lcykge1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7cG9wdWxhclRoZW1lczogdGhlbWVzfSk7XG5cdFx0fS5iaW5kKHRoaXMpKTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoV2VsY29tZVNlY3Rpb24sIHtpZDogXCJ3ZWxjb21lX19kZXNpZ25cIn0sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJMZXQncyBsYXVuY2ggXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJlbVwiLCBudWxsLCB0aGlzLnN0YXRlLnNpdGVfdGl0bGUpKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoNFwiLCBudWxsLCBcIlBpY2sgYSBkZXNpZ25cIiksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7c3R5bGU6IHN0eWxlcy5jb250ZW50fSwgXCJBIFxcXCJ0aGVtZVxcXCIgY29udHJvbHMgdGhlIGRlc2lnbiBvZiB5b3VyIHNpdGUgLSBjb2xvdXJzLCBmb250cyBhbmQgbGF5b3V0LlwiKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtzdHlsZTogc3R5bGVzLmNvbnRlbnR9LCBcIkNsaWNrIGFueSB0aGVtZSBiZWxvdyB0byBjaG9vc2UgaXQgZm9yIHlvdXIgc2l0ZS4gQW5kIGRvbid0IHdvcnJ5IC0geW91IGNhbiBlYXNpbHkgY2hhbmdlIHRoaXMgbGF0ZXIuXCIpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJzdWJtaXRcIn0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7Y29sb3I6IFwiYmx1ZVwiLCBvbkNsaWNrOiB0aGlzLmhhbmRsZUNvbnRpbnVlfSwgXCJOZXh0IFN0ZXAg4oaSXCIpXG5cdFx0XHRcdCksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRlbnRCb3gsIG51bGwsIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCBcIkluc3RhbGxlZCB0aGVtZXNcIiksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ0aGVtZS1icm93c2VyIHJlbmRlcmVkXCJ9LCBcblx0XHRcdFx0XHRcdHRoaXMuX3JlbmRlclRoZW1lTGlzdCgpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpLCBcblx0XHRcdFx0XG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGVudEJveCwgbnVsbCwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiUG9wdWxhciB0aGVtZXMgZnJvbSBXb3JkUHJlc3Mub3JnXCIsIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7Y29sb3I6IFwiYmx1ZVwiLCBzdHlsZToge2Zsb2F0OiAncmlnaHQnfSwgb25DbGljazogdGhpcy5oYW5kbGVHZXRQb3B1bGFyVGhlbWVzfSwgXCJMb2FkIG1vcmUgdGhlbWVzXCIpXG5cdFx0XHRcdFx0KSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcInRoZW1lLWJyb3dzZXIgcmVuZGVyZWRcIn0sIFxuXHRcdFx0XHRcdFx0dGhpcy5fcmVuZGVyUG9wdWxhclRoZW1lTGlzdCgpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpLCBcblxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZToge2NsZWFyOiAnYm90aCd9fSksIFxuXHRcdFx0XHR0aGlzLnN0YXRlLnRvb2x0aXBUaGVtZSAmJiB0aGlzLl9yZW5kZXJUb29sdGlwKClcblx0XHRcdClcblx0XHQpO1xuXHR9LFxuXG5cdF9yZW5kZXJUb29sdGlwOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGhlbWUgPSB0aGlzLnN0YXRlLnRvb2x0aXBUaGVtZSwgcG9zaXRpb24gPSB0aGlzLnN0YXRlLnRvb2x0aXBQb3NpdGlvbjtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChUb29sdGlwLCB7XG5cdFx0XHRcdGxlZnQ6IHBvc2l0aW9uLmxlZnQsIFxuXHRcdFx0XHR0b3A6IHBvc2l0aW9uLnRvcCwgXG5cdFx0XHRcdHdpZHRoOiAzMjAsIFxuXHRcdFx0XHR0aXRsZTogdGhlbWUubmFtZX0sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCBudWxsLCBcIkJ5IFwiLCB0aGVtZS5hdXRob3IpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7X19odG1sOiBfLnVuZXNjYXBlKHRoZW1lLmRlc2NyaXB0aW9uKX19KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0X3JlbmRlclRoZW1lOiBmdW5jdGlvbih0aGVtZSkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtrZXk6IHRoZW1lLmlkLCBcblx0XHRcdFx0Y2xhc3NOYW1lOiAndGhlbWUnICsgKHRoZW1lLmFjdGl2ZSA/ICcgYWN0aXZlJyA6ICcnKSwgXG5cdFx0XHRcdFwiZGF0YS10aGVtZS1pZFwiOiB0aGVtZS5pZCwgXG5cdFx0XHRcdG9uQ2xpY2s6IHRoaXMuaGFuZGxlQWN0aXZhdGVUaGVtZSwgXG5cdFx0XHRcdG9uTW91c2VFbnRlcjogdGhpcy5oYW5kbGVTaG93VG9vbHRpcCwgXG5cdFx0XHRcdG9uTW91c2VMZWF2ZTogdGhpcy5oYW5kbGVIaWRlVG9vbHRpcCwgXG5cdFx0XHRcdFwiYXJpYS1kZXNjcmliZWRieVwiOiB0aGVtZS5pZCsnLWFjdGlvbiAnK3RoZW1lLmlkKyctbmFtZSd9LCBcblxuXHRcdFx0XHR0aGVtZS5zY3JlZW5zaG90ID8gKFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ0aGVtZS1zY3JlZW5zaG90XCJ9LCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwge3NyYzogdGhlbWUuc2NyZWVuc2hvdCwgYWx0OiBcIlwifSlcblx0XHRcdFx0XHQpXG5cdFx0XHRcdCkgOiAoXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcInRoZW1lLXNjcmVlbnNob3QgYmxhbmtcIn0pXG5cdFx0XHRcdCksIFxuXHRcdFx0XHQhdGhlbWUuYWN0aXZlICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7Y2xhc3NOYW1lOiBcIm1vcmUtZGV0YWlsc1wifSwgdGhlbWUuaW5zdGFsbGVkID8gJ0NsaWNrIHRvIHNlbGVjdCcgOiAnQ2xpY2sgdG8gaW5zdGFsbCcpKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCB7Y2xhc3NOYW1lOiBcInRoZW1lLW5hbWVcIiwgaWQ6IHRoZW1lLmlkKyctbmFtZSd9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCB0aGVtZS5hY3RpdmUgPyAnU2VsZWN0ZWQ6JyA6ICcnKSwgXCIgXCIsIHRoZW1lLm5hbWUpXG5cdFx0XHQpXG5cdFx0KTtcblx0fSxcblxuXHRfcmVuZGVyUG9wdWxhclRoZW1lTGlzdDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuc3RhdGUucG9wdWxhclRoZW1lcy5tYXAoIHRoaXMuX3JlbmRlclRoZW1lICk7XG5cdH0sXG5cblx0X3JlbmRlclRoZW1lTGlzdDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuc3RhdGUudGhlbWVzLm1hcCggdGhpcy5fcmVuZGVyVGhlbWUgKTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gRGVzaWduU3RlcDsiLCIvKipcbiAqIERpc3BsYXlzIGEgZmxhc2ggbWVzc2FnZSwgaWYgc2V0LlxuICogSlNPTiBzdHJ1Y3R1cmU6XG4gKiB7IHNldmVyaXR5OiAnbm90aWNlJywgbWVzc2FnZTogJ015IG1lc3NhZ2UnIH1cbiAqXG4gKiBWYWxpZCBzZXZlcml0aWVzOlxuICogLSBlcnJvciwgbm90aWNlXG4gKi9cblxudmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCksXG5cdEZsYXNoU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvZmxhc2gtc3RvcmUnKTtcblxuZnVuY3Rpb24gZ2V0Rmxhc2hTdGF0ZSgpIHtcblx0cmV0dXJuIEZsYXNoU3RvcmUuZ2V0Rmxhc2goKTtcbn1cblxudmFyIEZsYXNoID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIkZsYXNoXCIsXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRGbGFzaFN0b3JlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0fSxcblxuXHRjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0Rmxhc2hTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0X29uQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICBcdHRoaXMuc2V0U3RhdGUoZ2V0Rmxhc2hTdGF0ZSgpKTtcbiAgXHR9LFxuXG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGdldEZsYXNoU3RhdGUoKTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggdGhpcy5zdGF0ZS5tZXNzYWdlICkge1xuXHRcdFx0cmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IHRoaXMuc3RhdGUuc2V2ZXJpdHkgKyAnIHVwZGF0ZWQnfSwgdGhpcy5zdGF0ZS5tZXNzYWdlKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gRmxhc2g7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCksXG5cdFNldHVwUHJvZ3Jlc3NTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zZXR1cC1wcm9ncmVzcy1zdG9yZScpLFxuXHRTZXR1cFByb2dyZXNzQWN0aW9ucyA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvc2V0dXAtcHJvZ3Jlc3MtYWN0aW9ucycpLFxuXHRCdXR0b24gPSByZXF1aXJlKCdAYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvYnV0dG9uJyksXG5cdG0gPSByZXF1aXJlKCdAYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL3V0aWxzL20nKSxcblx0UmFkaXVtID0gcmVxdWlyZSgncmFkaXVtJyk7XG5cbmZ1bmN0aW9uIGdldFNldHVwU3RhdGUoKSB7XG5cdHJldHVybiB7fTtcbn1cblxudmFyIEdldFN0YXJ0ZWQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiR2V0U3RhcnRlZFwiLFxuXHRjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0U2V0dXBQcm9ncmVzc1N0b3JlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0fSxcblxuXHRjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0U2V0dXBQcm9ncmVzc1N0b3JlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0fSxcblxuXHRfb25DaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICAgIFx0dGhpcy5zZXRTdGF0ZShnZXRTZXR1cFN0YXRlKCkpO1xuICBcdH0sXG5cblx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZ2V0U2V0dXBTdGF0ZSgpO1xuXHR9LFxuXG5cdGhhbmRsZUdldFN0YXJ0ZWQ6IGZ1bmN0aW9uKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0U2V0dXBQcm9ncmVzc0FjdGlvbnMuZ2V0U3RhcnRlZCgpO1xuXHR9LFxuXG5cdGhhbmRsZU5vVGhhbmtzOiBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFNldHVwUHJvZ3Jlc3NBY3Rpb25zLmRpc2FibGVKUFMoKTtcdFxuXHR9LFxuXG5cdF9pc0lFODogZnVuY3Rpb24oKSB7XG5cdFx0alF1ZXJ5KCdodG1sJykuaXMoJy5pZTgnKTtcblx0fSxcblxuXHRzdHlsZXM6IHtcblx0XHR3cmFwcGVyOiB7XG5cdFx0XHR0ZXh0QWxpZ246ICdjZW50ZXInLFxuXHRcdFx0Ly8gYmFja2dyb3VuZEltYWdlOiAndXJsKCcrSlBTLmJhc2VfdXJsKycvaW1nL2pwby13ZWxjb21lLnBuZyknLFxuXHRcdFx0YmFja2dyb3VuZFJlcGVhdDogJ25vLXJlcGVhdCcsXG5cdFx0XHRiYWNrZ3JvdW5kUG9zaXRpb246ICdjZW50ZXIgYm90dG9tJyxcblx0XHRcdGJhY2tncm91bmRTaXplOiAnNTIwcHggYXV0bycsXG5cdFx0XHRwb3NpdGlvbjogJ2ZpeGVkJyxcblx0XHQgICAgdG9wOiAwLFxuXHRcdFx0bGVmdDogMTYwLFxuXHRcdFx0d2lkdGg6ICcxMDAlJyxcblx0XHRcdGhlaWdodDogJzEwMCUnLFxuXHRcdFx0YmFja2dyb3VuZENvbG9yOiAnI2ZmZicsXG5cdFx0XHRwYWRkaW5nVG9wOiAxMDAsXG5cdFx0XHR6SW5kZXg6IDk5OSxcblx0XHRcdCdAbWVkaWEgKG1heC13aWR0aDogOTYwcHgpJzoge1xuXHRcdFx0XHRsZWZ0OiAzNlxuXHRcdFx0fSxcblx0XHRcdCdAbWVkaWEgKG1heC13aWR0aDogNzgycHgpJzoge1xuXHRcdFx0XHRsZWZ0OiAwXG5cdFx0XHR9XG5cdFx0fSxcblx0XHR3cmFwcGVySUU4OiB7XG5cdFx0XHRiYWNrZ3JvdW5kSW1hZ2U6ICdub25lJ1xuXHRcdH0sXG5cdFx0aW5uZXJ3cmFwcGVyOiB7XG5cdFx0XHRtYXJnaW46ICcwIDAgMCAtMTYwcHgnLFxuXHRcdFx0J0BtZWRpYSAobWF4LXdpZHRoOiA5NjBweCknOiB7XG5cdFx0XHRcdG1hcmdpbjogJzAgMCAwIC0zNnB4J1xuXHRcdFx0fSxcblx0XHRcdCdAbWVkaWEgKG1heC13aWR0aDogNzgycHgpJzoge1xuXHRcdFx0XHRtYXJnaW46ICcwJ1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0c3ViaGVhZDoge1xuXHRcdFx0bWFyZ2luOiAnMjBweCAwIDE1cHgnLFxuXHRcdFx0Y29sb3I6ICcjNjY2Jyxcblx0XHRcdGZvbnRTaXplOiAxOCxcblx0XHRcdGxpbmVIZWlnaHQ6IDEuNixcblx0XHRcdHRleHRBbGlnbjogJ2NlbnRlcicsXG5cdFx0XHQnQG1lZGlhIChtYXgtd2lkdGg6IDYwMHB4KSc6IHtcblx0XHRcdFx0bWFyZ2luQm90dG9tOiAxNSxcblx0XHRcdFx0Zm9udFNpemU6IDE1XG5cdFx0XHR9LFxuXHRcdFx0J0BtZWRpYSAobWF4LXdpZHRoOiAzMjBweCknOiB7XG5cdFx0XHRcdGZvbnRTaXplOiAxM1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0YnV0dG9uOiB7XG5cdFx0XHRib3JkZXJSYWRpdXM6IDYsXG5cdFx0XHRmb250RmFtaWx5OiAncHJveGltYS1ub3ZhLCBcXCdPcGVuIFNhbnNcXCcsIEhlbHZldGljYSwgc2Fucy1zZXJpZicsXG5cdFx0XHRmb250U2l6ZTogMTYsXG5cdFx0XHRsaW5lSGVpZ2h0OiAxLFxuXHRcdFx0cGFkZGluZzogJzAuNjQyODZlbSAwLjg1NzE0ZW0gMC41MzU3MWVtJyxcblx0XHR9LFxuXG5cdFx0Z3JlZW5CdXR0b246IHtcblx0XHRcdGJvcmRlcldpZHRoOiAnMXB4Jyxcblx0XHRcdGJvcmRlclN0eWxlOiAnc29saWQnLFxuXHRcdFx0Ym9yZGVyQ29sb3I6ICdyZ2IoNjIsIDEwOCwgMzIpJyxcblx0XHRcdGJhY2tncm91bmQ6ICdyZ2IoODEsIDE0MSwgNDIpJyxcblx0XHRcdGJveFNoYWRvdzogJ3JnYig2MiwgMTA4LCAzMikgMHB4IDNweCAwcHgsIHJnYmEoMCwgMCwgMCwgMC40KSAwcHggNHB4IDNweCcsXG5cdFx0XHRjb2xvcjogJyNmZmYnLFxuXHRcdFx0Jzpob3Zlcic6IHtcblx0XHRcdFx0Y29sb3I6ICcjZmZmJyxcblx0XHRcdFx0YmFja2dyb3VuZDogJ3JnYigxMjksIDE2OCwgNjgpJyxcblx0XHRcdFx0Ym9yZGVyQ29sb3I6ICdyZ2IoMTI5LCAxNjgsIDY4KScsXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRncmF5QnV0dG9uOiB7XG5cdFx0XHRiYWNrZ3JvdW5kOiAnbGluZWFyLWdyYWRpZW50KHJnYigyNTUsIDI1NSwgMjU1KSwgcmdiKDI0OSwgMjQ5LCAyNDkpKScsXG5cdFx0XHRib3hTaGFkb3c6ICdyZ2IoMTUwLCAxNTAsIDE1MCkgMHB4IDNweCAwcHgsIHJnYmEoMCwgMCwgMCwgMC40KSAwcHggNHB4IDNweCcsXG5cdFx0XHRjb2xvcjogJyMzMzMnXG5cdFx0fVxuXG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7a2V5OiBcIndlbGNvbWUtaW50cm9cIiwgc3R5bGU6IFt0aGlzLnN0eWxlcy53cmFwcGVyLCB0aGlzLl9pc0lFOCgpICYmIHRoaXMuc3R5bGVzLndyYXBwZXJJRThdfSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2tleTogXCJ3ZWxjb21lLWludHJvLWlubmVyd3JhcHBlclwiLCBzdHlsZTogdGhpcy5zdHlsZXMuaW5uZXJ3cmFwcGVyfSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIHtzdHlsZToge2ZvbnRTaXplOiAzMCwgbWFyZ2luVG9wOiAzMH19LCBcIldlbGNvbWUgdG8gV29yZFByZXNzXCIpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLnN1YmhlYWR9LCBcIldvdWxkIHlvdSBsaWtlIGhlbHAgZGVzaWduaW5nIHlvdXIgc2l0ZT9cIiksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtzdHlsZTogIG0oIHRoaXMuc3R5bGVzLmJ1dHRvbiwgdGhpcy5zdHlsZXMuZ3JlZW5CdXR0b24pLCBvbkNsaWNrOiB0aGlzLmhhbmRsZUdldFN0YXJ0ZWR9LCBcIlllc1wiKSwgXG5cdFx0XHRcdFx0XCLCoMKgwqBcIiwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge3N0eWxlOiAgbSggdGhpcy5zdHlsZXMuYnV0dG9uLCB0aGlzLnN0eWxlcy5ncmF5QnV0dG9uKSwgb25DbGljazogdGhpcy5oYW5kbGVOb1RoYW5rc30sIFwiTm8gdGhhbmtzXCIpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmFkaXVtKEdldFN0YXJ0ZWQpOyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpLFxuXHRTaXRlU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2l0ZS1zdG9yZScpLFxuXHRTaXRlQWN0aW9ucyA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvc2l0ZS1hY3Rpb25zJyksXG5cdFBhdGhzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stb25ib2FyZGluZy1wYXRocycpO1xuXG5mdW5jdGlvbiBnZXRKZXRwYWNrUHJvZ3Jlc3MoKSB7XG5cdHJldHVybiB7IFxuXHRcdGpldHBhY2tDb25maWd1cmVkOiBTaXRlU3RvcmUuZ2V0SmV0cGFja0NvbmZpZ3VyZWQoKVxuXHR9O1xufVxuXG52YXIgSmV0cGFja0p1bXBzdGFydE1lbnUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiSmV0cGFja0p1bXBzdGFydE1lbnVcIixcblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFNpdGVTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkNoYW5nZSk7XG5cdH0sXG5cblx0X29uQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICBcdHRoaXMuc2V0U3RhdGUoZ2V0SmV0cGFja1Byb2dyZXNzKCkpO1xuICBcdH0sXG5cbiAgXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBnZXRKZXRwYWNrUHJvZ3Jlc3MoKTtcblx0fSxcblxuXHRoYW5kbGVDbGlja0Nvbm5lY3Q6IGZ1bmN0aW9uKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0U2l0ZUFjdGlvbnMuY29uZmlndXJlSmV0cGFjayhQYXRocy5KRVRQQUNLX01PRFVMRVNfU1RFUF9TTFVHKTtcblx0fSxcblxuXHRzdHlsZToge1xuXHRcdGNvbG9yOiAnYmxhY2snLFxuXHRcdGZvbnRTaXplOiAxMixcblx0XHRtYXJnaW5Ub3A6IDUsXG5cdFx0bWFyZ2luTGVmdDogMjAsXG5cdH0sXG5cblx0cHJpbWFyeUNvbm5lY3RCdG46IHtcblx0XHRtYXJnaW5Ub3A6IDEwLFxuXHRcdG1hcmdpbkJvdHRvbTogMjAsXG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7c3R5bGU6IHRoaXMuc3R5bGV9LCBcblx0XHRcdFx0dGhpcy5zdGF0ZS5qZXRwYWNrQ29uZmlndXJlZCA/IChcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwpXG5cdFx0XHRcdCkgOiAoXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFwiQm9vc3QgdHJhZmZpYywgZW5oYW5jZSBzZWN1cml0eSwgYW5kIGltcHJvdmUgcGVyZm9ybWFuY2Ugd2l0aCBhIGNvbm5lY3Rpb24gdG8gV29yZFByZXNzLmNvbVwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCksIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge2NsYXNzTmFtZTogXCJidXR0b24gYnV0dG9uLXByaW1hcnkgYnV0dG9uLWxhcmdlXCIsIHN0eWxlOiB0aGlzLnByaW1hcnlDb25uZWN0QnRuLCBocmVmOiBcIiNcIiwgb25DbGljazogdGhpcy5oYW5kbGVDbGlja0Nvbm5lY3R9LCBcIkNvbm5lY3QgdG8gV29yZFByZXNzLmNvbVwiKVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KVxuXHRcdFx0XHRcblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBKZXRwYWNrSnVtcHN0YXJ0TWVudTsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKSxcblx0UmFkaXVtID0gcmVxdWlyZSgncmFkaXVtJyksXG5cdFNraXBCdXR0b24gPSByZXF1aXJlKCcuL3NraXAtYnV0dG9uJyksXG5cdFNpdGVTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zaXRlLXN0b3JlJyksXG5cdFNpdGVBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zaXRlLWFjdGlvbnMnKSxcblx0UGF0aHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvamV0cGFjay1vbmJvYXJkaW5nLXBhdGhzJyksIFxuXHRDb250ZW50Qm94ID0gcmVxdWlyZSgnLi9jb250ZW50LWJveCcpLFxuXHRzdHlsZXMgPSByZXF1aXJlKCcuLi9zdHlsZXMnKSxcblx0V2VsY29tZVNlY3Rpb24gPSByZXF1aXJlKCcuL3dlbGNvbWUtc2VjdGlvbicpLFxuXHRTZXR1cFByb2dyZXNzQWN0aW9ucyA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvc2V0dXAtcHJvZ3Jlc3MtYWN0aW9ucycpLFxuXHRTcGlubmVyU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc3Bpbm5lci1zdG9yZScpLFxuXHRCdXR0b24gPSByZXF1aXJlKCdAYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvYnV0dG9uJyk7XG5cblxudmFyIEpldHBhY2tMb2dvID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIkpldHBhY2tMb2dvXCIsXG5cdHN0eWxlczoge1xuXHRcdGpldHBhY2tMb2dvV3JhcHBlcjoge1xuXHRcdFx0ZGlzcGxheTogJ2Jsb2NrJyxcblx0XHRcdHRleHRBbGlnbjogJ2NlbnRlcicsXG5cdFx0XHRoZWlnaHQ6IDcwLFxuXHRcdFx0Y29sb3I6ICd3aGl0ZScsXG5cdFx0XHRtYXJnaW5MZWZ0OiA1LFxuXHRcdFx0YmFja2dyb3VuZENvbG9yOiAnIzgxYTg0NCdcblx0XHR9LFxuXHRcdGpldHBhY2tMb2dvOiB7XG5cdFx0XHRkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcblx0XHRcdHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuXHRcdFx0d2lkdGg6IDIxNCxcblx0XHRcdG1hcmdpblJpZ2h0OiA2LFxuXHRcdFx0YmFja2dyb3VuZDogJ3VybCgnK0pQUy5qZXRwYWNrLmxvZ29fdXJsKycpIGNlbnRlciBjZW50ZXIgbm8tcmVwZWF0Jyxcblx0XHRcdGJhY2tncm91bmRTaXplOiAnMTgzcHggYXV0bycsXG5cdFx0XHRjb2xvcjogJyNmZmYnLFxuXHRcdFx0Zm9udFdlaWdodDogJ25vcm1hbCcsXG5cdFx0XHRwYWRkaW5nOiAnNXB4IDBweCdcblx0XHR9LFxuXHRcdGpldHBhY2tMb2dvTmFtZToge1xuXHRcdFx0dGV4dEluZGVudDogLTk5OTksXG5cdFx0XHR2aXNpYmlsaXR5OiAnaGlkZGVuJ1xuXHRcdH1cblxuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtzdHlsZTogW3RoaXMuc3R5bGVzLmpldHBhY2tMb2dvV3JhcHBlciwgdGhpcy5wcm9wcy5zdHlsZV19LCBcblx0XHRcdFx0XCJQb3dlcmVkIGJ5XCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiclwiLCBudWxsKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtocmVmOiBcIi93cC1hZG1pbi9hZG1pbi5waHA/cGFnZT1qZXRwYWNrXCIsIHRpdGxlOiBcIkpldHBhY2tcIiwgc3R5bGU6IHRoaXMuc3R5bGVzLmpldHBhY2tMb2dvfSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge3N0eWxlOiB0aGlzLnN0eWxlcy5qZXRwYWNrTG9nb05hbWV9LCBcIkpldHBhY2tcIilcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5KZXRwYWNrTG9nbyA9IFJhZGl1bShKZXRwYWNrTG9nbyk7XG5cbmZ1bmN0aW9uIGdldEpldHBhY2tTdGF0ZSgpIHtcblx0cmV0dXJuIHtcblx0XHRzaXRlX3RpdGxlOiBTaXRlU3RvcmUuZ2V0VGl0bGUoKSxcblx0XHRqZXRwYWNrQ29uZmlndXJlZDogU2l0ZVN0b3JlLmdldEpldHBhY2tDb25maWd1cmVkKCksXG5cdFx0anVtcHN0YXJ0RW5hYmxlZDogU2l0ZVN0b3JlLmdldEpldHBhY2tKdW1wc3RhcnRFbmFibGVkKCksXG5cdFx0bW9kdWxlc0VuYWJsZWQ6IFNpdGVTdG9yZS5nZXRBY3RpdmVNb2R1bGVTbHVncygpXHRcblx0fTtcbn1cblxudmFyIEpldHBhY2tKdW1wc3RhcnQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiSmV0cGFja0p1bXBzdGFydFwiLFxuXG5cdHN0eWxlczoge1xuXHRcdGpldHBhY2tMb2dvOiB7XG5cdFx0XHRmbG9hdDogJ3JpZ2h0Jyxcblx0XHRcdCdAbWVkaWEgKG1heC13aWR0aDogNzgycHgpJzoge1xuXHRcdFx0XHRmbG9hdDogJ25vbmUnLFxuXHRcdFx0XHRtYXJnaW5MZWZ0OiAwXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRqdW1wc3RhcnRNb2R1bGU6IHtcblx0XHRcdGZsb2F0OiAnbGVmdCcsXG5cdFx0XHRwb3NpdGlvbjogJ3JlbGF0aXZlJyxcblx0XHRcdGhlaWdodDogMTYwLFxuXHRcdFx0cGFkZGluZzogMTAsXG5cdFx0XHQnQG1lZGlhIChtaW4td2lkdGg6IDc4MnB4KSc6IHtcblx0XHRcdFx0d2lkdGg6ICczMyUnXG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGp1bXBzdGFydE1vZHVsZURlc2M6IHtcblx0XHRcdGRpc3BsYXk6ICdibG9jaycsXG5cdFx0XHRtYXJnaW5Ub3A6IDUsXG5cdFx0XHRsaW5lSGVpZ2h0OiAnMTUwJSdcblx0XHR9LFxuXG5cdFx0b3ZlcmxheUNvbnRlbnQ6IHtcblx0XHRcdG1hcmdpblRvcDogMTAsXG5cdFx0XHRtYXJnaW5Cb3R0b206IDEwXG5cdFx0fSxcblxuXHRcdG92ZXJsYXlCZWZvcmU6IHtcblx0XHRcdGRpc3BsYXk6ICdibG9jaycsXG5cdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcblx0XHRcdHdpZHRoOiAnMTAwJScsXG5cdFx0XHRoZWlnaHQ6ICcxMDAlJyxcblx0XHRcdGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwwLDAsMC4yKSdcblx0XHR9LFxuXG5cdFx0b3ZlcmxheToge1xuXHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdFx0XHR0b3A6IDAsXG5cdFx0XHRsZWZ0OiAwLFxuXHRcdFx0d2lkdGg6ICcxMDAlJyxcblx0XHRcdGhlaWdodDogJzEwMCUnLFxuXHRcdFx0bWluSGVpZ2h0OiAnMTAwJScsXG5cdFx0XHR6SW5kZXg6IDcwMFxuXHRcdH0sXG5cblx0XHRvdmVybGF5Qm9keToge1xuXHRcdFx0dGV4dEFsaWduOiAnY2VudGVyJyxcblx0XHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuXHRcdFx0Ym9yZGVyUmFkaXVzOiAzLFxuXHRcdFx0Ym94U2hhZG93OiAnMCAwIDRweCByZ2JhKDAsMCwwLDAuMiknLFxuXHRcdFx0ekluZGV4OiA4MDAsXG5cdFx0XHRsZWZ0OiAnNTAlJyxcblx0XHQgIFx0dG9wOiAnNTAlJyxcblx0XHQgIFx0cGFkZGluZzogMTUsXG5cdFx0ICBcdHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtNTAlLC01MCUpJyxcblx0XHRcdHdpZHRoOiAnNzAlJyxcblx0XHRcdGJhY2tncm91bmRDb2xvcjogJyNmZmYnXG5cdFx0fSxcblxuXHRcdG1vcmVMaW5rOiB7XG5cdFx0XHR0ZXh0QWxpZ246ICdjZW50ZXInXG5cdFx0fVxuXHR9LFxuXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdF9vbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgXHR0aGlzLnNldFN0YXRlKGdldEpldHBhY2tTdGF0ZSgpKTtcbiAgXHR9LFxuXG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHN0YXRlID0gZ2V0SmV0cGFja1N0YXRlKCk7XG5cdFx0c3RhdGUuc2hvd01vcmVNb2R1bGVzID0gZmFsc2U7XG5cdFx0cmV0dXJuIHN0YXRlO1xuXHR9LFxuXG5cdGhhbmRsZUpldHBhY2tDb25uZWN0OiBmdW5jdGlvbiAoZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFNpdGVBY3Rpb25zLmNvbmZpZ3VyZUpldHBhY2soUGF0aHMuSkVUUEFDS19NT0RVTEVTX1NURVBfU0xVRyk7XG5cdH0sXG5cblx0aGFuZGxlQ2hhbmdlTW9kdWxlU3RhdHVzOiBmdW5jdGlvbiAoZSkge1xuXHRcdHZhciAkdGFyZ2V0ID0galF1ZXJ5KGUuY3VycmVudFRhcmdldCksXG5cdFx0XHRtb2R1bGVfc2x1ZyA9ICR0YXJnZXQuZGF0YSgnbW9kdWxlLXNsdWcnKTtcblxuXHRcdGlmICggU2l0ZVN0b3JlLmlzSmV0cGFja01vZHVsZUVuYWJsZWQobW9kdWxlX3NsdWcpICkge1xuXHRcdFx0U2l0ZUFjdGlvbnMuZGVhY3RpdmF0ZUpldHBhY2tNb2R1bGUobW9kdWxlX3NsdWcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRTaXRlQWN0aW9ucy5hY3RpdmF0ZUpldHBhY2tNb2R1bGUobW9kdWxlX3NsdWcpO1xuXHRcdH1cblx0fSxcblxuXHRoYW5kbGVFbmFibGVBbGxNb2R1bGVzOiBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFNpdGVBY3Rpb25zLmVuYWJsZUp1bXBzdGFydCgpO1xuXHR9LFxuXG5cdGhhbmRsZU5leHQ6IGZ1bmN0aW9uIChlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0U2V0dXBQcm9ncmVzc0FjdGlvbnMuY29tcGxldGVBbmROZXh0U3RlcChQYXRocy5KRVRQQUNLX01PRFVMRVNfU1RFUF9TTFVHKTtcblx0fSxcblxuXHRoYW5kbGVTaG93TW9yZU1vZHVsZXM6IGZ1bmN0aW9uIChlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFxuXHRcdFNpdGVBY3Rpb25zLmxvYWRBbGxKZXRwYWNrTW9kdWxlcygpLmRvbmUoZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHtzaG93TW9yZU1vZHVsZXM6IHRydWV9KTtcblx0XHR9LmJpbmQodGhpcykpO1xuXHR9LFxuXG5cdGhhbmRsZVNob3dGZXdlck1vZHVsZXM6IGZ1bmN0aW9uIChlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHRoaXMuc2V0U3RhdGUoe3Nob3dNb3JlTW9kdWxlczogZmFsc2V9KTtcblx0fSxcblxuXHRfcmVuZGVyTW9kdWxlOiBmdW5jdGlvbihtb2R1bGUpIHtcblx0XHR2YXIgaXNBY3RpdmUgPSBTaXRlU3RvcmUuaXNKZXRwYWNrTW9kdWxlRW5hYmxlZChtb2R1bGUuc2x1Zyk7XG5cdFx0dmFyIG1vZHVsZUlkID0gJ2pwLW1vZHVsZS0nK21vZHVsZS5zbHVnO1xuXHRcdFxuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtrZXk6ICdtb2R1bGVzLScrbW9kdWxlLnNsdWcsIHN0eWxlOiB0aGlzLnN0eWxlcy5qdW1wc3RhcnRNb2R1bGV9LCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtpZDogbW9kdWxlSWQsIHR5cGU6IFwiY2hlY2tib3hcIiwgY2hlY2tlZDogaXNBY3RpdmUsIFwiZGF0YS1tb2R1bGUtc2x1Z1wiOiBtb2R1bGUuc2x1Zywgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlTW9kdWxlU3RhdHVzfSksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwge2h0bWxGb3I6IG1vZHVsZUlkfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInN0cm9uZ1wiLCBudWxsLCBtb2R1bGUubmFtZSkpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLmp1bXBzdGFydE1vZHVsZURlc2N9LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtkYW5nZXJvdXNseVNldElubmVySFRNTDoge19faHRtbDogbW9kdWxlLmRlc2NyaXB0aW9ufX0pLCBcblx0XHRcdFx0XHRpc0FjdGl2ZSAmJiBtb2R1bGUuY29uZmlndXJlX3VybCAmJiAoXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHt0YXJnZXQ6IFwiX2NvbmZpZ3VyZVwiLCBocmVmOiBtb2R1bGUuY29uZmlndXJlX3VybH0sIFwiY29uZmlndXJlXCIpKVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgbW9kdWxlT3ZlcmxheUJlZm9yZSwgbW9kdWxlT3ZlcmxheSwgbW9kdWxlT3ZlcmxheUJvZHk7XG5cblxuXHRcdGlmICggISB0aGlzLnN0YXRlLmpldHBhY2tDb25maWd1cmVkICYmICFTcGlubmVyU3RvcmUuc2hvd2luZygpICkge1xuXHRcdFx0bW9kdWxlT3ZlcmxheUJlZm9yZSA9IChcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLm92ZXJsYXlCZWZvcmV9KVxuXHRcdFx0KTtcblx0XHRcdG1vZHVsZU92ZXJsYXkgPSAoXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge3N0eWxlOiB0aGlzLnN0eWxlcy5vdmVybGF5fSlcblx0XHRcdCk7XG5cdFx0XHRtb2R1bGVPdmVybGF5Qm9keSA9IChcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLm92ZXJsYXlCb2R5fSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge3N0eWxlOiB0aGlzLnN0eWxlcy5vdmVybGF5Q29udGVudH0sIFwiVGhlc2UgbW9kdWxlcyByZXF1aXJlIGEgV29yZFByZXNzLmNvbSBhY2NvdW50IC0gaXQncyBmcmVlIVwiKSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtjb2xvcjogXCJncmVlblwiLCBzaXplOiBcImJpZ1wiLCB0aGVtZTogXCJqZXRwYWNrXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlSmV0cGFja0Nvbm5lY3R9LCBcIkNvbm5lY3QgdG8gV29yZFByZXNzLmNvbVwiKSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge3N0eWxlOiB0aGlzLnN0eWxlcy5vdmVybGF5Q29udGVudH0sIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChTa2lwQnV0dG9uLCBudWxsKVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KVxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHR2YXIgbW9kdWxlRGVzY3JpcHRpb25zID0gU2l0ZVN0b3JlLmdldEp1bXBzdGFydE1vZHVsZXMoKS5tYXAodGhpcy5fcmVuZGVyTW9kdWxlKTtcblx0XHR2YXIgbW9yZU1vZHVsZURlc2NyaXB0aW9ucyA9IFNpdGVTdG9yZS5nZXRKZXRwYWNrQWRkaXRpb25hbE1vZHVsZXMoKS5tYXAodGhpcy5fcmVuZGVyTW9kdWxlKTtcblxuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFdlbGNvbWVTZWN0aW9uLCBudWxsLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiTGV0J3MgbGF1bmNoIFwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZW1cIiwgbnVsbCwgdGhpcy5zdGF0ZS5zaXRlX3RpdGxlKSksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDRcIiwgbnVsbCwgXCJFbmFibGUgSmV0cGFjayBmZWF0dXJlc1wiKSwgXG5cdFx0XHRcdHRoaXMuc3RhdGUuamV0cGFja0NvbmZpZ3VyZWQgJiYgKFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEpldHBhY2tMb2dvLCB7c3R5bGU6IHRoaXMuc3R5bGVzLmpldHBhY2tMb2dvfSksIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge3N0eWxlOiBzdHlsZXMuY29udGVudH0sIFwiQ29uZ3JhdHVsYXRpb25zISBZb3UndmUgZW5hYmxlZCBKZXRwYWNrIGFuZCB1bmxvY2tlZCBkb3plbnMgb2YgcG93ZXJmdWwgZmVhdHVyZXMuXCIpLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtzdHlsZTogc3R5bGVzLmNvbnRlbnR9LCBcIkNoZWNrIHRoZSBib3hlcyBiZWxvdyB0byBlbmFibGUgb3VyIG1vc3QgcG9wdWxhciBmZWF0dXJlcy5cIiksIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcImNsZWFyXCJ9KVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJ3ZWxjb21lX19jb25uZWN0XCJ9LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZToge3Bvc2l0aW9uOiAncmVsYXRpdmUnfX0sIFxuXHRcdFx0XHRcdFx0bW9kdWxlT3ZlcmxheUJlZm9yZSwgXG5cdFx0XHRcdFx0XHRtb2R1bGVPdmVybGF5LCBcblx0XHRcdFx0XHRcdG1vZHVsZU92ZXJsYXlCb2R5LCBcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0dGhpcy5zdGF0ZS5qZXRwYWNrQ29uZmlndXJlZCAmJiAoXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge2NsYXNzTmFtZTogXCJzdWJtaXRcIn0sIFxuXHRcdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7c3R5bGU6IHtmbG9hdDogJ3JpZ2h0J30sIGNvbG9yOiBcImJsdWVcIiwgb25DbGljazogdGhpcy5oYW5kbGVOZXh0fSwgXCJOZXh0IFN0ZXAg4oaSXCIpLCBcblx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwiY2xlYXJcIn0pXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCksIFxuXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRlbnRCb3gsIG51bGwsIFxuXHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJQb3B1bGFyIGZlYXR1cmVzXCIgKyAnICcgK1xuXHRcdFx0XHRcdFx0XHRcdFwiwqDCoFwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2Rpc2FibGVkOiB0aGlzLnN0YXRlLmp1bXBzdGFydEVuYWJsZWQsIGNvbG9yOiBcImJsdWVcIiwgb25DbGljazogdGhpcy5oYW5kbGVFbmFibGVBbGxNb2R1bGVzfSwgdGhpcy5zdGF0ZS5qdW1wc3RhcnRFbmFibGVkID8gJ0VuYWJsZWQgQWxsJyA6ICdFbmFibGUgYWxsIChyZWNvbW1lbmRlZCknKVxuXHRcdFx0XHRcdFx0XHQpLCBcblx0XHRcdFx0XHRcdFx0bW9kdWxlRGVzY3JpcHRpb25zXG5cdFx0XHRcdFx0XHQpLCBcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0dGhpcy5zdGF0ZS5zaG93TW9yZU1vZHVsZXMgPyAoXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtzdHlsZTogdGhpcy5zdHlsZXMubW9yZUxpbmt9LCBcblx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7aHJlZjogXCIjXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlU2hvd0Zld2VyTW9kdWxlc30sIFwiaGlkZSBhZGRpdGlvbmFsIGZlYXR1cmVzXCIpXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCkgOiAoXG5cdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtzdHlsZTogdGhpcy5zdHlsZXMubW9yZUxpbmt9LCBcblx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7aHJlZjogXCIjXCIsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlU2hvd01vcmVNb2R1bGVzfSwgXCJzaG93IGFkZGl0aW9uYWwgZmVhdHVyZXNcIilcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0KSwgXG5cblx0XHRcdFx0XHRcdHRoaXMuc3RhdGUuc2hvd01vcmVNb2R1bGVzICYmIChcblx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChDb250ZW50Qm94LCBudWxsLCBcblx0XHRcdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJBZGRpdGlvbmFsIG1vZHVsZXNcIiksIFxuXHRcdFx0XHRcdFx0XHRcdG1vcmVNb2R1bGVEZXNjcmlwdGlvbnNcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJhZGl1bShKZXRwYWNrSnVtcHN0YXJ0KTsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKSxcblx0U2l0ZVN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NpdGUtc3RvcmUnKSxcblx0QnV0dG9uID0gcmVxdWlyZSgnQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9qcy9jb21wb25lbnRzL2J1dHRvbicpLFxuXHRXZWxjb21lU2VjdGlvbiA9IHJlcXVpcmUoJy4vd2VsY29tZS1zZWN0aW9uJyksXG5cdHN0eWxlcyA9IHJlcXVpcmUoJy4uL3N0eWxlcycpLFxuXHRTZXR1cFByb2dyZXNzQWN0aW9ucyA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvc2V0dXAtcHJvZ3Jlc3MtYWN0aW9ucycpO1xuXG5mdW5jdGlvbiBnZXRTaXRlTGF5b3V0U3RhdGUoKSB7XG5cdHJldHVybiB7XG5cdFx0c2l0ZV90aXRsZTogU2l0ZVN0b3JlLmdldFRpdGxlKCksXG5cdFx0bGF5b3V0OiBTaXRlU3RvcmUuZ2V0TGF5b3V0KClcblx0fTtcbn1cblxudmFyIExheW91dFN0ZXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiTGF5b3V0U3RlcFwiLFxuXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdF9vbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgXHR0aGlzLnNldFN0YXRlKGdldFNpdGVMYXlvdXRTdGF0ZSgpKTtcbiAgXHR9LFxuXG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGdldFNpdGVMYXlvdXRTdGF0ZSgpO1xuXHR9LFxuXG5cdGhhbmRsZVNldExheW91dDogZnVuY3Rpb24oIGUgKSB7XG5cdFx0dGhpcy5zZXRTdGF0ZSh7IGxheW91dDogalF1ZXJ5KGUuY3VycmVudFRhcmdldCkudmFsKCkgfSk7XG5cdH0sXG5cblx0aGFuZGxlU3VibWl0OiBmdW5jdGlvbiggZSApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0U2V0dXBQcm9ncmVzc0FjdGlvbnMuc3VibWl0TGF5b3V0U3RlcCh0aGlzLnN0YXRlLmxheW91dCk7XG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChXZWxjb21lU2VjdGlvbiwge2lkOiBcIndlbGNvbWVfX2xheW91dFwifSwgXG5cdFx0XHRcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiTGV0J3MgbGF1bmNoIFwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZW1cIiwgbnVsbCwgdGhpcy5zdGF0ZS5zaXRlX3RpdGxlKSksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDRcIiwgbnVsbCwgXCJTZWxlY3QgYSBMYXlvdXRcIiksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7c3R5bGU6IHN0eWxlcy5jb250ZW50fSwgXCJXb3JkUHJlc3MgY2FuIGJlIGEgYmxvZywgYSB3ZWIgc2l0ZSB3aXRoIGEgaGllcmFyY2h5IG9mIHN0YXRpYyBwYWdlcywgb3IgYSBjb21iaW5hdGlvbiBvZiB0aGUgdHdvLlwiKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIsIHtvblN1Ym1pdDogdGhpcy5oYW5kbGVTdWJtaXR9LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge3R5cGU6IFwicmFkaW9cIiwgbmFtZTogXCJzaXRlX2xheW91dFwiLCB2YWx1ZTogXCJ3ZWJzaXRlXCIsIGNoZWNrZWQ6IHRoaXMuc3RhdGUubGF5b3V0ID09PSAnd2Vic2l0ZScsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVNldExheW91dH0pLCBcIiBTdGF0aWMgV2Vic2l0ZVwiLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwiZGVzY3JpcHRpb25cIn0sIFwiQSB3ZWIgc2l0ZSB3aXRoIGEgaGllcmFyY2h5IG9mIHBhZ2VzXCIpXG5cdFx0XHRcdFx0KSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImJyXCIsIG51bGwpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge3R5cGU6IFwicmFkaW9cIiwgbmFtZTogXCJzaXRlX2xheW91dFwiLCB2YWx1ZTogXCJzaXRlLWJsb2dcIiwgY2hlY2tlZDogdGhpcy5zdGF0ZS5sYXlvdXQgPT09ICdzaXRlLWJsb2cnLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVTZXRMYXlvdXR9KSwgXCIgU3RhdGljIFdlYnNpdGUgd2l0aCBhIGJsb2dcIiwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcImRlc2NyaXB0aW9uXCJ9LCBcIkEgd2ViIHNpdGUgd2l0aCBwYWdlcyB0aGF0IGFsc28gaGFzIGEgYmxvZyBvciBuZXdzIHNlY3Rpb25cIilcblx0XHRcdFx0XHQpLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7dHlwZTogXCJyYWRpb1wiLCBuYW1lOiBcInNpdGVfbGF5b3V0XCIsIHZhbHVlOiBcImJsb2dcIiwgY2hlY2tlZDogdGhpcy5zdGF0ZS5sYXlvdXQgPT09ICdibG9nJywgb25DaGFuZ2U6IHRoaXMuaGFuZGxlU2V0TGF5b3V0fSksIFwiIEp1c3QgYSBibG9nXCIsIFxuXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJkZXNjcmlwdGlvblwifSwgXCJBIHdlYiBzaXRlIHRoYXQgd2lsbCBjb25zdGFudGx5IHNob3cgbmV3IGNvbnRlbnQgKGFydGljbGVzLCBwaG90b3MsIHZpZGVvcywgZXRjLilcIilcblx0XHRcdFx0XHQpLCBcblxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtjbGFzc05hbWU6IFwic3VibWl0XCJ9LCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7Y29sb3I6IFwiYmx1ZVwifSwgXCJOZXh0IFN0ZXAg4oaSXCIpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gTGF5b3V0U3RlcDsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKSxcblx0U2l0ZUFjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3NpdGUtYWN0aW9ucycpLFxuXHRTaXRlU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvc2l0ZS1zdG9yZScpLFxuXHRXZWxjb21lU2VjdGlvbiA9IHJlcXVpcmUoJy4vd2VsY29tZS1zZWN0aW9uJyksXG5cdHN0eWxlcyA9IHJlcXVpcmUoJy4uL3N0eWxlcycpLFxuXHRCdXR0b24gPSByZXF1aXJlKCdAYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvYnV0dG9uJyksXG5cdFNldHVwUHJvZ3Jlc3NBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zZXR1cC1wcm9ncmVzcy1hY3Rpb25zJyk7XG5cbmZ1bmN0aW9uIGdldFNpdGVUaXRsZVN0YXRlKCkge1xuXHRyZXR1cm4ge1xuXHRcdHRpdGxlOiBTaXRlU3RvcmUuZ2V0VGl0bGUoKSxcblx0XHRkZXNjcmlwdGlvbjogU2l0ZVN0b3JlLmdldERlc2NyaXB0aW9uKClcblx0fTtcbn1cblxudmFyIFNpdGVUaXRsZVN0ZXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiU2l0ZVRpdGxlU3RlcFwiLFxuXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTaXRlU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHR9LFxuXG5cdF9vbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgXHR0aGlzLnNldFN0YXRlKGdldFNpdGVUaXRsZVN0YXRlKCkpO1xuICBcdH0sXG5cblx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZ2V0U2l0ZVRpdGxlU3RhdGUoKTtcblx0fSxcblxuXHRoYW5kbGVDaGFuZ2VUaXRsZTogZnVuY3Rpb24oZSkge1xuXHRcdFNpdGVBY3Rpb25zLnNldFRpdGxlKGUuY3VycmVudFRhcmdldC52YWx1ZSk7XG5cdH0sXG5cblx0aGFuZGxlQ2hhbmdlRGVzY3JpcHRpb246IGZ1bmN0aW9uKGUpIHtcblx0XHRTaXRlQWN0aW9ucy5zZXREZXNjcmlwdGlvbihlLmN1cnJlbnRUYXJnZXQudmFsdWUpO1xuXHR9LFxuXG5cdGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRTZXR1cFByb2dyZXNzQWN0aW9ucy5zdWJtaXRUaXRsZVN0ZXAoKTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAoXG5cblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoV2VsY29tZVNlY3Rpb24sIHtpZDogXCJ3ZWxjb21lX19zaXRlLXRpdGxlXCJ9LCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiTGV0J3MgbGF1bmNoIHlvdXIgbmV3IHdlYnNpdGVcIiksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDRcIiwgbnVsbCwgXCJFbnRlciBhIFRpdGxlIGFuZCBEZXNjcmlwdGlvblwiKSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtzdHlsZTogc3R5bGVzLmNvbnRlbnR9LCBcblx0XHRcdFx0XHRcIk1ha2UgeW91ciBzaXRlIHN0YW5kIG91dCB3aXRoIGEgY2F0Y2h5IG5hbWUuXCJcblx0XHRcdFx0KSwgXG5cdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIsIHtvblN1Ym1pdDogdGhpcy5oYW5kbGVTdWJtaXR9LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwidGFibGVcIiwge2NsYXNzTmFtZTogXCJmb3JtLXRhYmxlXCJ9LCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiLCBudWxsLCBcblx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInRyXCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiLCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwge2h0bWxGb3I6IFwic2l0ZV90aXRsZVwifSwgXCJTaXRlIFRpdGxlXCIpKSwgXG5cdFx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInRkXCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHt0eXBlOiBcInRleHRcIiwgbmFtZTogXCJzaXRlX3RpdGxlXCIsIGlkOiBcInNpdGUtdGl0bGVcIiwgYXV0b0NvbXBsZXRlOiBcIm9mZlwiLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2VUaXRsZSwgdmFsdWU6IHRoaXMuc3RhdGUudGl0bGUsIFxuXHRcdFx0XHRcdCAgICAgICBwbGFjZWhvbGRlcjogXCJTaXRlIFRpdGxlICh0aGlzIGNhbiBiZSBjaGFuZ2VkIGxhdGVyKVwiLCByZXF1aXJlZDogdHJ1ZX0pLCBcblx0XHRcdFx0XHQgICAgICAgXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwge2NsYXNzTmFtZTogXCJkZXNjcmlwdGlvblwifSwgXCJUaGUgbmFtZSBvZiB5b3VyIHNpdGUuIFRoaXMgdGl0bGUgYXBwZWFycyBhdCB0aGUgdG9wIG9mIHBhZ2VzIGFuZCBpbiBzZWFyY2ggcmVzdWx0cy5cIilcblx0XHRcdFx0XHQgICAgICAgXHRcdClcblx0XHRcdFx0XHQgICAgICBcdCksIFxuXHRcdFx0XHRcdCAgICAgIFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInRyXCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiLCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwge2h0bWxGb3I6IFwic2l0ZV9kZXNjcmlwdGlvblwifSwgXCJTaXRlIERlc2NyaXB0aW9uXCIpKSwgXG5cdFx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInRkXCIsIG51bGwsIFxuXHRcdFx0XHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHt0eXBlOiBcInRleHRcIiwgbmFtZTogXCJzaXRlX2Rlc2NyaXB0aW9uXCIsIGlkOiBcInNpdGUtZGVzY3JpcHRpb25cIiwgYXV0b0NvbXBsZXRlOiBcIm9mZlwiLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2VEZXNjcmlwdGlvbiwgdmFsdWU6IHRoaXMuc3RhdGUuZGVzY3JpcHRpb24sIFxuXHRcdFx0XHRcdCAgICAgICBwbGFjZWhvbGRlcjogXCJTaXRlIERlc2NyaXB0aW9uXCIsIHJlcXVpcmVkOiB0cnVlfSksIFxuXHRcdFx0XHRcdCAgICAgICBcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcImRlc2NyaXB0aW9uXCJ9LCBcIkEgbW90dG8gb3IgdGFnbGluZS4gVGhpcyBhcHBlYXJzIGJlbG93IHRoZSB0aXRsZSBvbiB5b3VyIHNpdGUsIGFuZCBuZXh0IHRvIHRoZSB0aXRsZSBpbiBzZWFyY2ggcmVzdWx0cy4gVHJ5IHRvIGJlIGJyaWVmIGFuZCBkZXNjcmlwdGl2ZSwgZS5nLiBcXFwiWW91ciBvbmxpbmUgYmFpdCBhbmQgdGFja2xlIHN0b3JlXFxcIlwiKVxuXHRcdFx0XHRcdCAgICAgICBcdFx0KVxuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0KSwgXG5cblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7Y2xhc3NOYW1lOiBcInN1Ym1pdFwifSwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge2NvbG9yOiBcImJsdWVcIn0sIFwiTmV4dCBTdGVwIOKGklwiKVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNpdGVUaXRsZVN0ZXA7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCksXG5cdFNldHVwUHJvZ3Jlc3NTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zZXR1cC1wcm9ncmVzcy1zdG9yZScpLFxuXHRTZXR1cFByb2dyZXNzQWN0aW9ucyA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvc2V0dXAtcHJvZ3Jlc3MtYWN0aW9ucycpO1xuXG5mdW5jdGlvbiBnZXRTZXR1cFByb2dyZXNzKCkge1xuXHRyZXR1cm4ge1xuXHRcdGNvbXBsZXRlZDogU2V0dXBQcm9ncmVzc1N0b3JlLmdldEN1cnJlbnRTdGVwKCkuY29tcGxldGVkXG5cdH07XG59XG5cbnZhciBTa2lwQnV0dG9uID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIlNraXBCdXR0b25cIixcblxuXHRzdHlsZToge1xuXHRcdGNvbG9yOiAnI2JiYicsXG5cdFx0Zm9udFNpemU6ICc5MCUnLFxuXHRcdG1hcmdpbkxlZnQ6IDIwLFxuXHRcdGJvcmRlckJvdHRvbTogJzFweCBkb3R0ZWQgI2JiYidcblx0fSxcblxuXHRjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0U2V0dXBQcm9ncmVzc1N0b3JlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0fSxcblxuXHRjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24oKSB7XG5cdFx0U2V0dXBQcm9ncmVzc1N0b3JlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMuX29uQ2hhbmdlKTtcblx0fSxcblxuXHRfb25DaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICAgIFx0dGhpcy5zZXRTdGF0ZShnZXRTZXR1cFByb2dyZXNzKCkpO1xuICBcdH0sXG5cbiAgXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBnZXRTZXR1cFByb2dyZXNzKCk7XG5cdH0sXG5cblx0aGFuZGxlU2tpcDogZnVuY3Rpb24gKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0U2V0dXBQcm9ncmVzc0FjdGlvbnMuc2tpcFN0ZXAoKTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBjb21wbGV0ZWQgPSAodGhpcy5zdGF0ZS5jb21wbGV0ZWQpO1xuXHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge3N0eWxlOiB0aGlzLnN0eWxlLCBocmVmOiBcIiNcIiwgb25DbGljazogdGhpcy5oYW5kbGVTa2lwfSwgXCJOb3Qgbm93XCIpKTtcblx0XHR9XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNraXBCdXR0b247IiwiXG52YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKTtcblxudmFyIFRvb2x0aXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiVG9vbHRpcFwiLFxuXHRwcm9wVHlwZXM6IHtcblx0XHRsZWZ0OiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsICAvLyBlLmcuIDYwMFxuXHRcdHRvcDogUmVhY3QuUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLCAgIC8vZS5nLiAxNTdcblx0XHR3aWR0aDogUmVhY3QuUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLCAvL2UuZy4gMzIwXG5cdFx0dGl0bGU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCwgIC8vIGUuZy4gRGlzdHJhY3Rpb24tRnJlZSBXcml0aW5nXG5cdH0sXG5cblx0aGFuZGxlRGlzbWlzczogZnVuY3Rpb24gKCBlICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0fSxcblxuXHRjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX3JlY29tcHV0ZVBvc2l0aW9uKCk7XG5cdH0sXG5cblx0Y29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX3JlY29tcHV0ZVBvc2l0aW9uKCk7XG5cdH0sXG5cblx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHJlYWxUb3A6IHRoaXMucHJvcHMudG9wXG5cdFx0fTtcblx0fSxcblxuXHRfcmVjb21wdXRlUG9zaXRpb246IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgJHdyYXBwZXIgPSBqUXVlcnkoUmVhY3QuZmluZERPTU5vZGUodGhpcy5yZWZzLndyYXBwZXIpKTtcblxuXHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0cmVhbFRvcDogdGhpcy5wcm9wcy50b3AgLSAoJHdyYXBwZXIub3V0ZXJIZWlnaHQoKS8yKVxuXHRcdH0pO1xuXHR9LFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge3JlZjogXCJ3cmFwcGVyXCIsIGNsYXNzTmFtZTogXCJ3cC1wb2ludGVyIHdwLXBvaW50ZXItbGVmdFwiLCBzdHlsZToge3Bvc2l0aW9uOiAnYWJzb2x1dGUnLCB3aWR0aDogdGhpcy5wcm9wcy53aWR0aCwgdG9wOiB0aGlzLnN0YXRlLnJlYWxUb3AsIGxlZnQ6IHRoaXMucHJvcHMubGVmdCwgekluZGV4OiA5OTk5fX0sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwid3AtcG9pbnRlci1jb250ZW50XCJ9LCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgdGhpcy5wcm9wcy50aXRsZSksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIG51bGwsIHRoaXMucHJvcHMuY2hpbGRyZW4pXG5cdFx0XHRcdCksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwid3AtcG9pbnRlci1hcnJvd1wifSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7Y2xhc3NOYW1lOiBcIndwLXBvaW50ZXItYXJyb3ctaW5uZXJcIn0pXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBUb29sdGlwOyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpLFxuXHRSYWRpdW0gPSByZXF1aXJlKCdyYWRpdW0nKSxcblx0UHJvZ3Jlc3NCYXIgPSByZXF1aXJlKCdAYXV0b21hdHRpYy9kb3BzLXJlYWN0L2pzL2NvbXBvbmVudHMvcHJvZ3Jlc3MtYmFyJyksXG5cdFNldHVwUHJvZ3Jlc3NBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zZXR1cC1wcm9ncmVzcy1hY3Rpb25zJyksXG5cdERhc2hpY29uID0gcmVxdWlyZSgnLi9kYXNoaWNvbicpO1xuXG52YXIgc3RlcFNoYXBlID0gUmVhY3QuUHJvcFR5cGVzLnNoYXBlKHtcblx0bmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuXHRzbHVnOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXG59KTtcblxuLyoqXG4gKiBUaGUgbWVudSB3aGljaCBhbGxvd3MgdGhlIHVzZXIgdG8gc3dpdGNoIHN0ZXBzXG4gKiovXG52YXIgV2VsY29tZU1lbnUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiV2VsY29tZU1lbnVcIixcblx0XG5cdHByb3BUeXBlczoge1xuXHRcdGN1cnJlbnRTdGVwOiBzdGVwU2hhcGUuaXNSZXF1aXJlZCxcblx0XHRjbGlja2FibGU6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuXHRcdGFsbFN0ZXBzOiBSZWFjdC5Qcm9wVHlwZXMuYXJyYXlPZihzdGVwU2hhcGUpLmlzUmVxdWlyZWQsXG5cdFx0cHJvZ3Jlc3NQZXJjZW50OiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcblx0fSxcblxuXHRnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRjbGlja2FibGU6IHRydWVcblx0XHR9O1xuXHR9LFxuXG5cdHN0eWxlczoge1xuXHRcdHdyYXBwZXI6IHtcblx0XHRcdGZsb2F0OiAncmlnaHQnLFxuXHRcdFx0d2lkdGg6ICcyOCUnLFxuXHRcdFx0aGVpZ2h0OiAnMTAwJScsXG5cdFx0XHRiYWNrZ3JvdW5kOiAnI2ZhZmFmYScsXG5cdFx0XHRib3JkZXI6ICcxcHggc29saWQgI2VlZScsXG5cdFx0fSxcblx0XHR0aXRsZToge1xuXHRcdFx0bWFyZ2luOiAwLFxuXHRcdFx0cGFkZGluZzogMTIsXG5cdFx0XHRvdmVyZmxvdzogJ2hpZGRlbicsXG5cdFx0XHRiYWNrZ3JvdW5kOiAnIzQ0NCcsXG5cdFx0XHRjb2xvcjogJyNmZmYnLFxuXHRcdFx0Zm9udFNpemU6IDEyLFxuXHRcdFx0dGV4dFRyYW5zZm9ybTogJ3VwcGVyY2FzZSdcblx0XHR9LFxuXHRcdGxpc3Q6IHtcblx0XHRcdG1hcmdpbjogJzEzcHggMTBweCcsXG5cdFx0XHRsaXN0U3R5bGU6ICdub25lJyxcblx0XHRcdCdAbWVkaWEgKG1heC13aWR0aDogNjAwcHgpJzoge1xuXHRcdFx0XHRtYXJnaW46ICc1cHggNHB4J1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0bWVudUl0ZW06IHtcblx0XHRcdG1hcmdpbkJvdHRvbTogNixcblx0XHRcdHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuXHRcdFx0Y29sb3I6ICcjMzMzJyxcblx0XHRcdGxpbmVIZWlnaHQ6IDEuNyxcblx0XHRcdCdAbWVkaWEgKG1heC13aWR0aDogNzgycHgpJzoge1xuXHRcdFx0XHRmb250U2l6ZTogJ3NtYWxsJ1xuXHRcdFx0fSxcblx0XHRcdCdAbWVkaWEgKG1heC13aWR0aDogNjAwcHgpJzoge1xuXHRcdFx0XHRmb250U2l6ZTogJ3NtYWxsZXInXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRtZW51SXRlbUNvbXBsZXRlZDoge1xuXHRcdFx0Y29sb3I6ICcjNEFCODY2J1xuXHRcdH0sXG5cdFx0aWNvbjoge1xuXHRcdFx0Zm9udFNpemU6IDE2LFxuXHRcdFx0dG9wOiAzLFxuXHRcdFx0cG9zaXRpb246ICdyZWxhdGl2ZSdcblx0XHR9LFxuXHRcdG1lbnVJdGVtTGluazoge1xuXHRcdFx0Y29sb3I6ICdpbmhlcml0Jyxcblx0XHRcdGJvcmRlckJvdHRvbTogJzFweCBkYXNoZWQnXG5cdFx0fSxcblx0XHRtZW51SXRlbUN1cnJlbnQ6IHtcblx0XHRcdGNvbG9yOiAnIzAwNzRBMidcblx0XHR9XG5cdH0sXG5cblx0c2VsZWN0U3RlcDogZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcblx0XHR2YXIgc2x1ZyA9IGpRdWVyeShlLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ3N0ZXAtc2x1ZycpO1xuXG5cdFx0U2V0dXBQcm9ncmVzc0FjdGlvbnMuc2V0Q3VycmVudFN0ZXAoc2x1Zyk7XG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBtZW51SXRlbXMgPSB0aGlzLnByb3BzLmFsbFN0ZXBzLm1hcChmdW5jdGlvbiAoIHN0ZXAgKSB7XG5cdFx0XHR2YXIgdGl0bGUsIGN1cnJlbnQsIG1lbnVWaWV3LCBpY29uTmFtZTtcblxuXHRcdFx0aWYgKCB0aGlzLnByb3BzLmNsaWNrYWJsZSAmJiB0aGlzLnByb3BzLmN1cnJlbnRTdGVwICkge1xuXHRcdFx0XHRjdXJyZW50ID0gKCB0aGlzLnByb3BzLmN1cnJlbnRTdGVwLnNsdWcgPT0gc3RlcC5zbHVnICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggIXN0ZXAuc3RhdGljICYmIHRoaXMucHJvcHMuY2xpY2thYmxlICkge1xuXHRcdFx0XHR0aXRsZSA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtocmVmOiBcIiNcIiwgc3R5bGU6IHRoaXMuc3R5bGVzLm1lbnVJdGVtTGluaywgXCJkYXRhLXN0ZXAtc2x1Z1wiOiBzdGVwLnNsdWcsIG9uQ2xpY2s6IHRoaXMuc2VsZWN0U3RlcH0sIHN0ZXAubmFtZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aXRsZSA9IHN0ZXAubmFtZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBzdGVwLm1lbnVWaWV3ICYmIHRoaXMucHJvcHMuY2xpY2thYmxlICkge1xuXHRcdFx0XHRtZW51VmlldyA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoc3RlcC5tZW51VmlldywgbnVsbCk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGljb25OYW1lID0gc3RlcC5jb21wbGV0ZWQgPyAneWVzJyA6ICdhcnJvdy1yaWdodC1hbHQyJztcblxuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIHtrZXk6IHN0ZXAuc2x1Zywgc3R5bGU6IFt0aGlzLnN0eWxlcy5tZW51SXRlbSwgc3RlcC5jb21wbGV0ZWQgJiYgdGhpcy5zdHlsZXMubWVudUl0ZW1Db21wbGV0ZWQsIGN1cnJlbnQgJiYgdGhpcy5zdHlsZXMubWVudUl0ZW1DdXJyZW50XX0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGFzaGljb24sIHtzdHlsZTogdGhpcy5zdHlsZXMuaWNvbiwgbmFtZTogaWNvbk5hbWV9KSwgXG5cdFx0XHRcdFx0dGl0bGUsIFwiIFwiLCBzdGVwLnNraXBwZWQgPyAnKHNraXBwZWQpJyA6IG51bGwsIFxuXHRcdFx0XHRcdG1lbnVWaWV3XG5cdFx0XHRcdClcblx0XHRcdCk7XG5cdFx0fS5iaW5kKHRoaXMpICk7XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7c3R5bGU6IFt0aGlzLnN0eWxlcy53cmFwcGVyLCB0aGlzLnByb3BzLnN0eWxlXX0sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwge3N0eWxlOiB0aGlzLnN0eWxlcy50aXRsZX0sIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtzdHlsZToge2Zsb2F0OiAnbGVmdCcsIG1hcmdpblJpZ2h0OiAxMH19LCBcIllvdXIgUHJvZ3Jlc3NcIiksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgXG5cdFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFByb2dyZXNzQmFyLCB7c3R5bGU6IHsgZmxvYXQ6ICdsZWZ0J30sIHByb2dyZXNzUGVyY2VudDogdGhpcy5wcm9wcy5wcm9ncmVzc1BlcmNlbnR9KVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KSwgXG5cdFx0XHRcdFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwib2xcIiwge3N0eWxlOiB0aGlzLnN0eWxlcy5saXN0fSwgXG5cdFx0XHRcdFx0bWVudUl0ZW1zXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSYWRpdW0oV2VsY29tZU1lbnUpOyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpO1xuXG52YXIgV2VsY29tZVNlY3Rpb24gPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiV2VsY29tZVNlY3Rpb25cIixcblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgJF9fMD0gIHRoaXMucHJvcHMsb3RoZXI9KGZ1bmN0aW9uKHNvdXJjZSwgZXhjbHVzaW9uKSB7dmFyIHJlc3QgPSB7fTt2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtpZiAoc291cmNlID09IG51bGwpIHt0aHJvdyBuZXcgVHlwZUVycm9yKCk7fWZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtpZiAoaGFzT3duLmNhbGwoc291cmNlLCBrZXkpICYmICFoYXNPd24uY2FsbChleGNsdXNpb24sIGtleSkpIHtyZXN0W2tleV0gPSBzb3VyY2Vba2V5XTt9fXJldHVybiByZXN0O30pKCRfXzAse30pO1xuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIFJlYWN0Ll9fc3ByZWFkKHt9LCAgb3RoZXIsIHtjbGFzc05hbWU6IFwid2VsY29tZV9fc2VjdGlvblwifSksIFxuXHRcdFx0XHR0aGlzLnByb3BzLmNoaWxkcmVuXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gV2VsY29tZVNlY3Rpb247IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCksXG5cdFdlbGNvbWVNZW51ID0gcmVxdWlyZSgnLi93ZWxjb21lLW1lbnUnKSxcblx0U2V0dXBQcm9ncmVzc1N0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NldHVwLXByb2dyZXNzLXN0b3JlJyksXG5cdFJlc2V0ID0gcmVxdWlyZSgnQGF1dG9tYXR0aWMvZG9wcy1yZWFjdC9qcy9jb21wb25lbnRzL3Jlc2V0JyksXG5cdFNldHVwUHJvZ3Jlc3NBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9zZXR1cC1wcm9ncmVzcy1hY3Rpb25zJyksXG5cdEZsYXNoID0gcmVxdWlyZSgnLi9mbGFzaCcpLFxuXHRzdHlsZXMgPSByZXF1aXJlKCcuLi9zdHlsZXMnKSxcblx0R2V0U3RhcnRlZCA9IHJlcXVpcmUoJy4vZ2V0LXN0YXJ0ZWQnKSxcblx0U3Bpbm5lclN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3NwaW5uZXItc3RvcmUnKSxcblx0U3Bpbm5lckFjdGlvbnMgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3NwaW5uZXItYWN0aW9ucycpLFxuXHREYXRhU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvZGF0YS1zdG9yZScpO1xuXG5mdW5jdGlvbiBnZXRTZXR1cFByb2dyZXNzKCkge1xuXHRyZXR1cm4geyBcblx0XHRuZXdVc2VyOiBTZXR1cFByb2dyZXNzU3RvcmUuaXNOZXdVc2VyKCksIFxuXHRcdHNob3dTcGlubmVyOiBTcGlubmVyU3RvcmUuc2hvd2luZygpLCBcblx0XHRzcGlubmVyTWVzc2FnZTogU3Bpbm5lclN0b3JlLmdldE1lc3NhZ2UoKSwgXG5cdFx0Y3VycmVudFN0ZXA6IFNldHVwUHJvZ3Jlc3NTdG9yZS5nZXRDdXJyZW50U3RlcCgpLCBcblx0XHRhbGxTdGVwczogU2V0dXBQcm9ncmVzc1N0b3JlLmdldEFsbFN0ZXBzKCksIFxuXHRcdHByb2dyZXNzUGVyY2VudDogU2V0dXBQcm9ncmVzc1N0b3JlLmdldFByb2dyZXNzUGVyY2VudCgpIFxuXHR9O1xufVxuXG4vLyBUT0RPOiB2aXN1YWwgXCJzYXZpbmdcIiBmb3IgdGhpcy5zdGF0ZS5zYXZpbmdcbnZhciBXZWxjb21lV2lkZ2V0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIldlbGNvbWVXaWRnZXRcIixcblxuXHRzdHlsZXM6IHtcblx0XHR3cmFwcGVyOiB7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH0sXG5cdFx0bG9hZGluZ092ZXJsYXk6IHtcblx0XHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuXHRcdFx0dG9wOiAwLFxuXHRcdFx0bGVmdDogMCxcblx0XHRcdHdpZHRoOiAnMTAwJScsXG5cdFx0XHRoZWlnaHQ6ICcxMDAlJyxcblx0XHRcdG1pbkhlaWdodDogJzEwMCUnLFxuXHRcdFx0ekluZGV4OiA5OTksXG5cdFx0XHRiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDI1NSwyNTUsMjU1LDAuNiknXG5cdFx0fSxcblx0XHRsb2FkaW5nTWVzc2FnZToge1xuXHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdFx0XHR3aWR0aDogJzUwJScsXG5cdFx0XHRtaW5XaWR0aDogMzAwLFxuXHRcdFx0Ym9yZGVyUmFkaXVzOiAyLFxuXHRcdFx0cGFkZGluZzogMjAsXG5cdFx0XHRib3JkZXI6ICcxcHggc29saWQgYmxhY2snLFxuXHRcdFx0YmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuXHRcdFx0dGV4dEFsaWduOiAnY2VudGVyJyxcblx0XHRcdGxlZnQ6ICc1MCUnLFxuXHRcdFx0dG9wOiAxMDAsXG5cdFx0XHR0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTUwJSwtNTAlKSdcblx0XHR9LFxuXHRcdGNvbnRhaW5lcjoge1xuXHRcdFx0ZmxvYXQ6ICdsZWZ0Jyxcblx0XHRcdHdpZHRoOiAnNzAlJyxcblx0XHRcdHBhZGRpbmc6ICcwIDEwcHgnXG5cdFx0fSxcblx0XHRtZW51OiB7XG5cdFx0XHRtYXJnaW5Ub3A6IDI1XG5cdFx0fVxuXHR9LFxuXG5cdGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTZXR1cFByb2dyZXNzU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHRcdFNwaW5uZXJTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vblNwaW5uZXJDaGFuZ2UpO1xuXHRcdERhdGFTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkRhdGFDaGFuZ2UpO1xuXHR9LFxuXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcblx0XHRTZXR1cFByb2dyZXNzU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5fb25DaGFuZ2UpO1xuXHRcdFNwaW5uZXJTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vblNwaW5uZXJDaGFuZ2UpO1xuXHRcdERhdGFTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLl9vbkRhdGFDaGFuZ2UpO1xuXHR9LFxuXG5cdF9vbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgXHR0aGlzLnNldFN0YXRlKGdldFNldHVwUHJvZ3Jlc3MoKSk7XG4gIFx0fSxcblxuICBcdF9vblNwaW5uZXJDaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICBcdFx0dGhpcy5zZXRTdGF0ZSh7IHNob3dTcGlubmVyOiBTcGlubmVyU3RvcmUuc2hvd2luZygpLCBzcGlubmVyTWVzc2FnZTogU3Bpbm5lclN0b3JlLmdldE1lc3NhZ2UoKSB9KTtcbiAgXHR9LFxuXG4gIFx0X29uRGF0YUNoYW5nZTogZnVuY3Rpb24oKSB7XG4gIFx0XHR0aGlzLnNldFN0YXRlKHsgc2F2aW5nOiBEYXRhU3RvcmUuaXNTYXZpbmcoKSB9KTtcbiAgXHR9LFxuXG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGdldFNldHVwUHJvZ3Jlc3MoKTtcblx0fSxcblxuXHRoYW5kbGVSZXNldDogZnVuY3Rpb24oIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFNldHVwUHJvZ3Jlc3NBY3Rpb25zLnJlc2V0RGF0YSgpO1xuXHR9LFxuXG5cdGhhbmRsZVNob3dTcGlubmVyOiBmdW5jdGlvbiAoIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFNwaW5uZXJBY3Rpb25zLnNob3coXCJUZXN0aW5nIHNwaW5uZXJcIik7XG5cdH0sXG5cblx0aGFuZGxlSGlkZVNwaW5uZXI6IGZ1bmN0aW9uICggZSApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0U3Bpbm5lckFjdGlvbnMuaGlkZSgpO1xuXHR9LFxuXHRcblxuICBcdHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gIFx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChSZXNldCwge2Nzczogc3R5bGVzLmNzc30sIFxuXHRcdFx0XHR0aGlzLl9yZW5kZXJEZWJ1ZygpLCBcblx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLndyYXBwZXJ9LCBcblx0XHRcdFx0XHR0aGlzLl9yZW5kZXJTcGlubmVyKCksIFxuXHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge3N0eWxlOiB0aGlzLnN0eWxlcy5jb250YWluZXJ9LCBcblx0XHRcdFx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoRmxhc2gsIG51bGwpLCBcblx0XHRcdFx0XHRcdHRoaXMuX3JlbmRlclNlY3Rpb24oKVxuXHRcdFx0XHRcdCksIFxuXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChXZWxjb21lTWVudSwge3N0eWxlOiB0aGlzLnN0eWxlcy5tZW51LCBjbGlja2FibGU6ICF0aGlzLnN0YXRlLm5ld1VzZXIsIGN1cnJlbnRTdGVwOiB0aGlzLnN0YXRlLmN1cnJlbnRTdGVwLCBhbGxTdGVwczogdGhpcy5zdGF0ZS5hbGxTdGVwcywgcHJvZ3Jlc3NQZXJjZW50OiB0aGlzLnN0YXRlLnByb2dyZXNzUGVyY2VudH0pLCBcblx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtjbGFzc05hbWU6IFwiY2xlYXJcIn0pXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpO1xuXHR9LFxuXG5cdF9yZW5kZXJTZWN0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoIHRoaXMuc3RhdGUubmV3VXNlciApIHtcbiAgXHRcdFx0cmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEdldFN0YXJ0ZWQsIG51bGwpKTtcbiAgXHRcdH0gZWxzZSB7XG4gIFx0XHRcdHJldHVybiB0aGlzLl9yZW5kZXJDdXJyZW50VmlldygpO1xuICBcdFx0fVxuXHR9LFxuXG5cdF9yZW5kZXJEZWJ1ZzogZnVuY3Rpb24oKSB7XG5cdFx0Ly8gaWYgKCBKUFMuZGVidWcgKSB7XG4gIC8vIFx0XHRcdHJldHVybiAoPGRpdj5cbiAgLy8gXHRcdFx0XHQ8YSBocmVmPVwiI1wiIGNsYXNzTmFtZT1cImJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMuaGFuZGxlUmVzZXR9PlJlc2V0IFdpemFyZDwvYT5cbiAgLy8gXHRcdFx0XHQ8YSBocmVmPVwiI1wiIGNsYXNzTmFtZT1cImJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMuaGFuZGxlU2hvd1NwaW5uZXJ9PlNob3cgc3Bpbm5lcjwvYT5cbiAgLy8gXHRcdFx0XHQ8YSBocmVmPVwiI1wiIGNsYXNzTmFtZT1cImJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMuaGFuZGxlSGlkZVNwaW5uZXJ9PkhpZGUgc3Bpbm5lcjwvYT5cbiAgLy8gXHRcdFx0PC9kaXY+KTtcbiAgLy8gXHRcdH0gZWxzZSB7XG4gIFx0XHRcdHJldHVybiBudWxsO1xuICBcdFx0Ly8gfVxuXHR9LFxuXG5cdF9yZW5kZXJTcGlubmVyOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoIHRoaXMuc3RhdGUuc2hvd1NwaW5uZXIgKSB7XG4gIFx0XHRcdHJldHVybiAoXG4gIFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7c3R5bGU6IHRoaXMuc3R5bGVzLmxvYWRpbmdPdmVybGF5fSwgXG4gIFx0XHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZTogdGhpcy5zdHlsZXMubG9hZGluZ01lc3NhZ2V9LCBcbiAgXHRcdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7c3JjOiBKUFMuYmFzZV91cmwrXCIvaW1nL3NwaW5uZXItMnguZ2lmXCIsIHdpZHRoOiBcIjE2cHhcIiwgaGVpZ2h0OiBcIjE2cHhcIn0pLCBcbiAgXHRcdFx0XHRcdFx0XCLCoMKgXCIsIHRoaXMuc3RhdGUuc3Bpbm5lck1lc3NhZ2VcbiAgXHRcdFx0XHRcdClcbiAgXHRcdFx0XHQpXG4gIFx0XHRcdCk7XG5cbiAgXHRcdH0gZWxzZSB7XG4gIFx0XHRcdHJldHVybiBudWxsO1xuICBcdFx0fVxuXHR9LFxuXG5cdF9yZW5kZXJDdXJyZW50VmlldzogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCB0aGlzLnN0YXRlLmN1cnJlbnRTdGVwICkge1xuICBcdFx0XHRyZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQodGhpcy5zdGF0ZS5jdXJyZW50U3RlcC53ZWxjb21lVmlldywgbnVsbCkpO1xuICBcdFx0fSBlbHNlIHtcbiAgXHRcdFx0cmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJOb3RoaW5nXCIpKTtcbiAgXHRcdH1cblx0fSxcblxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gV2VsY29tZVdpZGdldDsiLCJ2YXIga2V5TWlycm9yID0gcmVxdWlyZSgna2V5bWlycm9yJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ga2V5TWlycm9yKHtcblx0U1RFUF9DT01QTEVURTogbnVsbCxcblx0U1RFUF9HRVRfU1RBUlRFRDogbnVsbCxcblx0U1RFUF9TRUxFQ1Q6IG51bGwsXG5cdFNURVBfTkVYVDogbnVsbCxcblx0U1RFUF9TS0lQOiBudWxsLFxuXHRTSVRFX1NFVF9USVRMRTogbnVsbCxcblx0U0lURV9TRVRfREVTQ1JJUFRJT046IG51bGwsXG5cdFNJVEVfU0FWRV9USVRMRV9BTkRfREVTQ1JJUFRJT046IG51bGwsXG5cdFNJVEVfQ09OVEFDVF9QQUdFX0lEOiBudWxsLFxuXHRTSVRFX1NFVF9USEVNRTogbnVsbCxcblx0U0lURV9JTlNUQUxMX1RIRU1FOiBudWxsLFxuXHRTSVRFX0pFVFBBQ0tfQ09ORklHVVJFRDogbnVsbCxcblx0U0lURV9KRVRQQUNLX01PRFVMRV9FTkFCTEVEOiBudWxsLFxuXHRTSVRFX0pFVFBBQ0tfTU9EVUxFX0RJU0FCTEVEOiBudWxsLFxuXHRTSVRFX0pFVFBBQ0tfSlVNUFNUQVJUX0VOQUJMRUQ6IG51bGwsXG5cdFNJVEVfSkVUUEFDS19BRERfTU9EVUxFUzogbnVsbCxcblx0U0lURV9TRVRfTEFZT1VUOiBudWxsLFxuXG5cdFNBVkVfU1RBUlRFRDogbnVsbCxcblx0U0FWRV9GSU5JU0hFRDogbnVsbCxcblxuXHRTRVRfRkxBU0g6IG51bGwsXG5cdFVOU0VUX0ZMQVNIOiBudWxsLFxuXHRGTEFTSF9TRVZFUklUWV9OT1RJQ0U6IG51bGwsXG5cdEZMQVNIX1NFVkVSSVRZX0VSUk9SOiBudWxsLFxuXG5cdFJFU0VUX0RBVEE6IG51bGwsXG5cblx0U0hPV19TUElOTkVSOiBudWxsLFxuXHRISURFX1NQSU5ORVI6IG51bGxcbn0pOyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHQvLyBzdGVwc1xuXHRTSVRFX1RJVExFX1NURVBfU0xVRzogJ3RpdGxlJyxcblx0TEFZT1VUX1NURVBfU0xVRzogJ2xheW91dCcsXG5cdFRSQUZGSUNfU1RFUF9TTFVHOiAndHJhZmZpYycsXG5cdFNUQVRTX01PTklUT1JJTkdfU1RFUF9TTFVHOiAnc3RhdHMtbW9uaXRvcmluZycsXG5cdERFU0lHTl9TVEVQX1NMVUc6ICdkZXNpZ24nLFxuXHRBRFZBTkNFRF9TVEVQX1NMVUc6ICdhZHZhbmNlZCcsXG5cdEpFVFBBQ0tfTU9EVUxFU19TVEVQX1NMVUc6ICdqZXRwYWNrJyxcblx0Q09OVEFDVF9QQUdFX1NURVBfU0xVRzogJ2NvbnRhY3QtcGFnZSdcbn07IiwiLypcbiAqIENvcHlyaWdodCAoYykgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQXBwRGlzcGF0Y2hlclxuICpcbiAqIEEgc2luZ2xldG9uIHRoYXQgb3BlcmF0ZXMgYXMgdGhlIGNlbnRyYWwgaHViIGZvciBhcHBsaWNhdGlvbiB1cGRhdGVzLlxuICovXG5cbnZhciBEaXNwYXRjaGVyID0gcmVxdWlyZSgnZmx1eCcpLkRpc3BhdGNoZXI7XG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IERpc3BhdGNoZXIoKTsiLCJ2YXIgV2VsY29tZVBhbmVsID0gcmVxdWlyZSgnLi93ZWxjb21lLXBhbmVsJyk7XG5cbldlbGNvbWVQYW5lbCgpOyIsInZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuXHRFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXIsXG5cdEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLW9uYm9hcmRpbmctY29uc3RhbnRzJyk7XG5cbi8qXG4gKiBUaGlzIGlzIGEgcmVmY291bnRlZCBzYXZlIG1vbml0b3Igd2hpY2ggd2FybnMgaWYgeW91IHRyeSB0byBsZWF2ZSB0aGUgcGFnZSB3aGlsZSB0aGUgZGF0YSBpcyBzdGlsbCBzYXZpbmdcbiAqL1xuXG52YXIgX2N1cnJlbnRTYXZlcyA9IDAsIGpwb1RpbWVvdXQsIENIQU5HRV9FVkVOVCA9ICdjaGFuZ2UnO1xuXG5qUXVlcnkod2luZG93KS5vbignYmVmb3JldW5sb2FkJywgZnVuY3Rpb24oKSB7XG5cdGlmKERhdGFTdG9yZS5pc1NhdmluZygpKSB7XG5cdFx0anBvVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgLy8gYWxlcnQoJ1lvdSBzdGF5ZWQnKTtcblx0ICAgICAgICAvLyBub29wXG5cdCAgICB9LCAxMDAwKTtcblx0ICAgIHJldHVybiBcIllvdXIgc2l0ZSBjaGFuZ2VzIGFyZSBzdGlsbCBzYXZpbmcuXCI7XG5cdH1cbn0pO1xuXG5qUXVlcnkod2luZG93KS5vbigndW5sb2FkJywgZnVuY3Rpb24oKSB7XG5cdGNsZWFyVGltZW91dChqcG9UaW1lb3V0KTtcbn0pO1xuXG5mdW5jdGlvbiBpbmNyZW1lbnRTYXZlQ291bnRlcigpIHtcblx0X2N1cnJlbnRTYXZlcyA9IF9jdXJyZW50U2F2ZXMgKyAxO1xufVxuXG5mdW5jdGlvbiBkZWNyZW1lbnRTYXZlQ291bnRlcigpIHtcblx0X2N1cnJlbnRTYXZlcyA9IF9jdXJyZW50U2F2ZXMgLSAxO1xufVxuXG52YXIgRGF0YVN0b3JlID0gXy5leHRlbmQoe30sIEV2ZW50RW1pdHRlci5wcm90b3R5cGUsIHtcblx0aXNTYXZpbmc6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBfY3VycmVudFNhdmVzID4gMDtcblx0fSxcblxuXHRhZGRDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0XHR0aGlzLm9uKENIQU5HRV9FVkVOVCwgY2FsbGJhY2spO1xuXHR9LFxuXG5cdHJlbW92ZUNoYW5nZUxpc3RlbmVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRcdHRoaXMucmVtb3ZlTGlzdGVuZXIoQ0hBTkdFX0VWRU5ULCBjYWxsYmFjayk7XG5cdH0sXG5cblx0ZW1pdENoYW5nZTogZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLmVtaXQoQ0hBTkdFX0VWRU5UKTtcblx0fSxcbn0pO1xuXG5BcHBEaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuXG4gIHN3aXRjaChhY3Rpb24uYWN0aW9uVHlwZSkge1xuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNBVkVfU1RBUlRFRDpcbiAgICBcdGluY3JlbWVudFNhdmVDb3VudGVyKCk7XG5cdFx0RGF0YVN0b3JlLmVtaXRDaGFuZ2UoKTtcblx0XHRicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNBVkVfRklOSVNIRUQ6XG4gICAgXHRkZWNyZW1lbnRTYXZlQ291bnRlcigpO1xuICAgICBcdERhdGFTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgIFx0YnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgLy8gbm8gb3BcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gRGF0YVN0b3JlOyIsInZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuXHRFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXIsXG5cdEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLW9uYm9hcmRpbmctY29uc3RhbnRzJyk7XG5cbnZhciBDSEFOR0VfRVZFTlQgPSAnY2hhbmdlJztcbnZhciBtZXNzYWdlLCBzZXZlcml0eTtcblxuZnVuY3Rpb24gc2V0Rmxhc2gobmV3TWVzc2FnZSwgbmV3U2V2ZXJpdHkpIHtcblx0bWVzc2FnZSA9IG5ld01lc3NhZ2U7XG5cdHNldmVyaXR5ID0gbmV3U2V2ZXJpdHk7XG59XG5cbnZhciBGbGFzaFN0b3JlID0gXy5leHRlbmQoe30sIEV2ZW50RW1pdHRlci5wcm90b3R5cGUsIHtcblx0Z2V0Rmxhc2g6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBzZXZlcml0eVN0cmluZztcblxuXHRcdHN3aXRjaChzZXZlcml0eSkge1xuXHRcdFx0Y2FzZSBKUFNDb25zdGFudHMuRkxBU0hfU0VWRVJJVFlfRVJST1I6XG5cdFx0XHRcdHNldmVyaXR5U3RyaW5nID0gJ2Vycm9yJztcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIEpQU0NvbnN0YW50cy5GTEFTSF9TRVZFUklUWV9OT1RJQ0U6XG5cdFx0XHRcdHNldmVyaXR5U3RyaW5nID0gJ25vdGljZSc7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0Ly9ub29wXG5cdFx0fVxuXHRcdHJldHVybiB7bWVzc2FnZTogbWVzc2FnZSwgc2V2ZXJpdHk6IHNldmVyaXR5U3RyaW5nfTtcblxuXHR9LFxuXG5cdGFkZENoYW5nZUxpc3RlbmVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRcdHRoaXMub24oQ0hBTkdFX0VWRU5ULCBjYWxsYmFjayk7XG5cdH0sXG5cblx0cmVtb3ZlQ2hhbmdlTGlzdGVuZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdFx0dGhpcy5yZW1vdmVMaXN0ZW5lcihDSEFOR0VfRVZFTlQsIGNhbGxiYWNrKTtcblx0fSxcblxuXHRlbWl0Q2hhbmdlOiBmdW5jdGlvbigpIHtcblx0ICAgIHRoaXMuZW1pdChDSEFOR0VfRVZFTlQpO1xuXHR9LFxufSk7XG5cbkFwcERpc3BhdGNoZXIucmVnaXN0ZXIoZnVuY3Rpb24oYWN0aW9uKSB7XG5cbiAgc3dpdGNoKGFjdGlvbi5hY3Rpb25UeXBlKSB7XG4gICAgY2FzZSBKUFNDb25zdGFudHMuU0VUX0ZMQVNIOlxuXHRcdHNldEZsYXNoKGFjdGlvbi5tZXNzYWdlLCBhY3Rpb24uc2V2ZXJpdHkpO1xuXHRcdEZsYXNoU3RvcmUuZW1pdENoYW5nZSgpO1xuXHRcdGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuVU5TRVRfRkxBU0g6XG4gICAgIFx0c2V0Rmxhc2gobnVsbCwgbnVsbCk7XG4gICAgIFx0Rmxhc2hTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgIFx0YnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgLy8gbm8gb3BcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gRmxhc2hTdG9yZTsiLCIvKlxuICogU3RvcmUgd2hpY2ggbWFuYWdlcyBhbmQgcGVyc2lzdHMgc2V0dXAgd2l6YXJkIHByb2dyZXNzXG4gKi9cblxudmFyIEFwcERpc3BhdGNoZXIgPSByZXF1aXJlKCcuLi9kaXNwYXRjaGVyL2FwcC1kaXNwYXRjaGVyJyksXG4gIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcixcbiAgSlBTQ29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2pldHBhY2stb25ib2FyZGluZy1jb25zdGFudHMnKSxcbiAgV1BBamF4ID0gcmVxdWlyZSgnLi4vdXRpbHMvd3AtYWpheCcpO1xuXG52YXIgQ0hBTkdFX0VWRU5UID0gJ2NoYW5nZSc7XG5cbnZhciBfc3RlcHMsIF9zdGFydGVkID0gSlBTLnN0YXJ0ZWQ7IFxuXG5mdW5jdGlvbiBzZXRTdGVwcyhzdGVwcykge1xuXG4gIC8vIHNldCB0aGUgY29tcGxldGlvbiBzdGF0dXMgb2YgZWFjaCBzdGVwIHRvIHRoZSBzYXZlZCB2YWx1ZXNcbiAgc3RlcHMuZm9yRWFjaCggZnVuY3Rpb24oc3RlcCkge1xuICAgIFxuICAgIC8vIGRlZmF1bHQgdmFsdWVzIGZvciBza2lwcGVkLCBjb21wbGV0ZWQgYW5kIHN0YXRpY1xuICAgIGlmICggdHlwZW9mKCBzdGVwLmNvbXBsZXRlZCApID09PSAndW5kZWZpbmVkJyApIHtcbiAgICAgIHN0ZXAuY29tcGxldGVkID0gKEpQUy5zdGVwX3N0YXR1c1tzdGVwLnNsdWddICYmIEpQUy5zdGVwX3N0YXR1c1tzdGVwLnNsdWddLmNvbXBsZXRlZCkgfHwgZmFsc2U7ICBcbiAgICB9XG5cbiAgICBpZiAoIHR5cGVvZiggc3RlcC5za2lwcGVkICkgPT09ICd1bmRlZmluZWQnICkge1xuICAgICAgc3RlcC5za2lwcGVkID0gKEpQUy5zdGVwX3N0YXR1c1tzdGVwLnNsdWddICYmIEpQUy5zdGVwX3N0YXR1c1tzdGVwLnNsdWddLnNraXBwZWQpIHx8IGZhbHNlOyAgXG4gICAgfVxuXG4gICAgaWYgKCB0eXBlb2YoIHN0ZXAuc3RhdGljICkgPT09ICd1bmRlZmluZWQnICkge1xuICAgICAgc3RlcC5zdGF0aWMgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBzZXQgdG8gJ3RydWUnIGlmIHlvdSB3YW50IHRoZSB3aXphcmQgdG8gbW92ZSB0byB0aGlzIHN0ZXAgZXZlbiBpZiBpdCdzIGJlZW4gY29tcGxldGVkXG4gICAgLy8gYnkgZGVmYXVsdCBjb21wbGV0ZWQgc3RlcHMgYXJlIHNraXBwZWRcbiAgICBpZiAoIHR5cGVvZiggc3RlcC5uZXZlclNraXAgKSA9PT0gJ3VuZGVmaW5lZCcgKSB7XG4gICAgICBzdGVwLm5ldmVyU2tpcCA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIGRlZmF1bHQgdmFsdWUgZm9yIGluY2x1ZGVJblByb2dyZXNzXG4gICAgaWYgKCB0eXBlb2YoIHN0ZXAuaW5jbHVkZUluUHJvZ3Jlc3MgKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHN0ZXAuaW5jbHVkZUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgIH1cbiAgfSk7IFxuICBcbiAgX3N0ZXBzID0gc3RlcHM7XG4gIFxuICAvLyBzZXQgbG9jYXRpb24gdG8gZmlyc3QgcGVuZGluZyBzdGVwLCBpZiBub3Qgc2V0XG4gIGVuc3VyZVZhbGlkU3RlcFNsdWcoKTsgXG59XG5cbmZ1bmN0aW9uIHNldFN0YXJ0ZWQoKSB7XG4gIF9zdGFydGVkID0gdHJ1ZTtcbiAgc2VsZWN0TmV4dFBlbmRpbmdTdGVwKCk7XG59XG5cbmZ1bmN0aW9uIGNvbXBsZXRlKHN0ZXBTbHVnKSB7XG4gIHZhciBzdGVwID0gZ2V0U3RlcEZyb21TbHVnKHN0ZXBTbHVnKTtcbiAgc3RlcC5jb21wbGV0ZWQgPSB0cnVlO1xuICBzdGVwLnNraXBwZWQgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gc2tpcCgpIHtcbiAgdmFyIHN0ZXBTbHVnID0gY3VycmVudFN0ZXBTbHVnKCk7XG4gIHZhciBzdGVwID0gZ2V0U3RlcEZyb21TbHVnKHN0ZXBTbHVnKTtcbiAgc3RlcC5za2lwcGVkID0gdHJ1ZTtcbiAgc2VsZWN0TmV4dFBlbmRpbmdTdGVwKCk7XG59XG5cbmZ1bmN0aW9uIGdldFN0ZXBGcm9tU2x1Zyggc3RlcFNsdWcgKSB7XG4gIHZhciBjdXJyZW50U3RlcCA9IG51bGw7XG4gIF8uZWFjaCggX3N0ZXBzLCBmdW5jdGlvbiggc3RlcCApIHtcbiAgICBpZiggc3RlcC5zbHVnID09PSBzdGVwU2x1ZyApIHtcbiAgICAgIGN1cnJlbnRTdGVwID0gc3RlcDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gY3VycmVudFN0ZXA7XG59XG5cbmZ1bmN0aW9uIGVuc3VyZVZhbGlkU3RlcFNsdWcoKSB7XG4gIHZhciBzdGVwU2x1ZyA9IGN1cnJlbnRTdGVwU2x1ZygpO1xuICBpZiAoICEgKCBzdGVwU2x1ZyAmJiBnZXRTdGVwRnJvbVNsdWcoIHN0ZXBTbHVnICkgKSApIHtcblxuICAgIHZhciBwZW5kaW5nU3RlcCA9IGdldE5leHRQZW5kaW5nU3RlcCgpO1xuICAgIGlmICggcGVuZGluZ1N0ZXAgIT09IG51bGwgKSB7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9ICd3ZWxjb21lL3N0ZXBzLycrcGVuZGluZ1N0ZXAuc2x1ZztcbiAgICB9ICAgIFxuICB9XG59XG5cbmZ1bmN0aW9uIHNlbGVjdE5leHRQZW5kaW5nU3RlcCgpIHtcbiAgdmFyIHBlbmRpbmdTdGVwID0gZ2V0TmV4dFBlbmRpbmdTdGVwKCk7XG4gIGlmICggcGVuZGluZ1N0ZXAgIT09IG51bGwgKSB7XG4gICAgc2VsZWN0KHBlbmRpbmdTdGVwLnNsdWcpOyAvLyBhbHNvIHNldHMgdGhlIHdpbmRvdyBsb2NhdGlvbiBoYXNoXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0TmV4dFBlbmRpbmdTdGVwKCkge1xuICAvLyBpZiB0aGUgX25leHRfIHN0ZXAgaXMgbmV2ZXJTa2lwLCB3ZSBwcm9jZWVkIHRvIGl0XG4gIHZhciBzdGVwSW5kZXggPSBjdXJyZW50U3RlcEluZGV4KCk7XG4gIGlmICggc3RlcEluZGV4ICkge1xuICAgIGlmICggX3N0ZXBzW3N0ZXBJbmRleCsxXSAmJiBfc3RlcHNbc3RlcEluZGV4KzFdLm5ldmVyU2tpcCA9PT0gdHJ1ZSApIHtcbiAgICAgIHJldHVybiBfc3RlcHNbc3RlcEluZGV4KzFdO1xuICAgIH1cbiAgfVxuXG4gIC8vIG90aGVyd2lzZSBmaW5kIHRoZSBuZXh0IHVuY29tcGxldGVkLCB1bnNraXBwZWQgc3RlcFxuICByZXR1cm4gXy5maW5kV2hlcmUoIF9zdGVwcywgeyBjb21wbGV0ZWQ6IGZhbHNlLCBza2lwcGVkOiBmYWxzZSB9ICk7XG59XG5cbmZ1bmN0aW9uIGN1cnJlbnRTdGVwU2x1ZygpIHtcbiAgaWYgKCB3aW5kb3cubG9jYXRpb24uaGFzaC5pbmRleE9mKCcjd2VsY29tZS9zdGVwcycpID09PSAwICkge1xuICAgIHZhciBwYXJ0cyA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNwbGl0KCcvJyk7XG4gICAgdmFyIHN0ZXBTbHVnID0gcGFydHNbcGFydHMubGVuZ3RoLTFdO1xuICAgIHJldHVybiBzdGVwU2x1ZztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5mdW5jdGlvbiBjdXJyZW50U3RlcEluZGV4KCkge1xuICB2YXIgc2x1ZyA9IGN1cnJlbnRTdGVwU2x1ZygpO1xuICBmb3IgKCB2YXIgaT0wOyBpPF9zdGVwcy5sZW5ndGg7IGkrKyApIHtcbiAgICBpZiAoIF9zdGVwc1tpXS5zbHVnID09PSBzbHVnICkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gc2VsZWN0KHN0ZXBTbHVnKSB7XG4gIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gJ3dlbGNvbWUvc3RlcHMvJytzdGVwU2x1ZztcbiAgLy8gcmVjb3JkIGFuYWx5dGljc1xuICBXUEFqYXgucG9zdChKUFMuc3RlcF9hY3Rpb25zLnZpZXcsIHsgc3RlcDogc3RlcFNsdWcgfSwgeyBxdWlldDogdHJ1ZSB9KTtcbn1cblxuLy9yZXNldCBldmVyeXRoaW5nIGJhY2sgdG8gZGVmYXVsdHNcbmZ1bmN0aW9uIHJlc2V0KCkge1xuICBKUFMuc3RlcF9zdGF0dXMgPSB7fTtcbiAgXy53aGVyZSggX3N0ZXBzLCB7IHN0YXRpYzogZmFsc2V9ICkuZm9yRWFjaCggZnVuY3Rpb24gKCBzdGVwICkgeyBcbiAgICBzdGVwLmNvbXBsZXRlZCA9IGZhbHNlO1xuICAgIHN0ZXAuc2tpcHBlZCA9IGZhbHNlO1xuICB9ICk7XG4gIF9zdGFydGVkID0gZmFsc2U7XG59XG5cbnZhciBTZXR1cFByb2dyZXNzU3RvcmUgPSBfLmV4dGVuZCh7fSwgRXZlbnRFbWl0dGVyLnByb3RvdHlwZSwge1xuXG4gIGluaXQ6IGZ1bmN0aW9uKHN0ZXBzKSB7XG4gICAgc2V0U3RlcHMoc3RlcHMpO1xuICB9LFxuXG4gIGdldEFsbFN0ZXBzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gX3N0ZXBzO1xuICB9LFxuXG4gIGlzTmV3VXNlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICFfc3RhcnRlZDtcbiAgfSxcblxuICBlbWl0Q2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmVtaXQoIENIQU5HRV9FVkVOVCApO1xuICB9LFxuXG4gIGdldEN1cnJlbnRTdGVwOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZ2V0U3RlcEZyb21TbHVnKCBjdXJyZW50U3RlcFNsdWcoKSApO1xuICB9LFxuXG4gIGdldE5leHRQZW5kaW5nU3RlcDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGdldE5leHRQZW5kaW5nU3RlcCgpOyAvLyBkZWxlZ2F0ZVxuICB9LFxuXG4gIGdldFN0ZXBGcm9tU2x1ZzogZnVuY3Rpb24oc2x1Zykge1xuICAgIHJldHVybiBnZXRTdGVwRnJvbVNsdWcoIHNsdWcgKTsgLy8gZGVsZWdhdGVcbiAgfSxcblxuICBnZXRQcm9ncmVzc1BlcmNlbnQ6IGZ1bmN0aW9uKCkge1xuICBcdHZhciBudW1TdGVwcyA9IF8ud2hlcmUoIF9zdGVwcywgeyBpbmNsdWRlSW5Qcm9ncmVzczogdHJ1ZSB9ICkubGVuZ3RoO1xuICAgIHZhciBjb21wbGV0ZWRTdGVwcyA9IF8ud2hlcmUoIF9zdGVwcywgeyBpbmNsdWRlSW5Qcm9ncmVzczogdHJ1ZSwgY29tcGxldGVkOiB0cnVlIH0gKS5sZW5ndGg7XG4gICAgdmFyIHBlcmNlbnRDb21wbGV0ZSA9IChjb21wbGV0ZWRTdGVwcyAvIG51bVN0ZXBzKSAqIDkwICsgMTA7XG4gICAgdmFyIG91dHB1dCA9IE1hdGgucm91bmQocGVyY2VudENvbXBsZXRlIC8gMTApICogMTA7XG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfSxcblxuICBhZGRDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICB0aGlzLm9uKCBDSEFOR0VfRVZFTlQsIGNhbGxiYWNrICk7XG4gIH0sXG5cbiAgcmVtb3ZlQ2hhbmdlTGlzdGVuZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lciggQ0hBTkdFX0VWRU5ULCBjYWxsYmFjayApO1xuICB9XG59KTtcblxuLy8gUmVnaXN0ZXIgY2FsbGJhY2sgdG8gaGFuZGxlIGFsbCB1cGRhdGVzXG5BcHBEaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuICBcbiAgc3dpdGNoKGFjdGlvbi5hY3Rpb25UeXBlKSB7XG4gICAgY2FzZSBKUFNDb25zdGFudHMuU1RFUF9HRVRfU1RBUlRFRDpcbiAgICAgIHNldFN0YXJ0ZWQoKTtcbiAgICAgIFNldHVwUHJvZ3Jlc3NTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNURVBfU0VMRUNUOlxuICAgICAgc2VsZWN0KGFjdGlvbi5zbHVnKTtcbiAgICAgIFNldHVwUHJvZ3Jlc3NTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNURVBfTkVYVDpcbiAgICAgIHNlbGVjdE5leHRQZW5kaW5nU3RlcCgpO1xuICAgICAgU2V0dXBQcm9ncmVzc1N0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU1RFUF9DT01QTEVURTpcbiAgICAgIGNvbXBsZXRlKGFjdGlvbi5zbHVnKTtcbiAgICAgIFNldHVwUHJvZ3Jlc3NTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlJFU0VUX0RBVEE6XG4gICAgICByZXNldCgpO1xuICAgICAgU2V0dXBQcm9ncmVzc1N0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU1RFUF9TS0lQOlxuICAgICAgc2tpcCgpO1xuICAgICAgU2V0dXBQcm9ncmVzc1N0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIG5vIG9wXG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNldHVwUHJvZ3Jlc3NTdG9yZTsiLCIvKlxuICogU3RvcmUgd2hpY2ggbWFuYWdlcyBhbmQgcGVyc2lzdHMgc2l0ZSBpbmZvcm1hdGlvblxuICovXG5cbnZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuICBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXIsXG4gIEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLW9uYm9hcmRpbmctY29uc3RhbnRzJyksXG4gIFdQQWpheCA9IHJlcXVpcmUoJy4uL3V0aWxzL3dwLWFqYXgnKTtcblxudmFyIENIQU5HRV9FVkVOVCA9ICdjaGFuZ2UnO1xuXG52YXIgbGF5b3V0ID0gSlBTLnN0ZXBzLmxheW91dC5jdXJyZW50O1xuXG5mdW5jdGlvbiBzZXRUaXRsZShuZXdUaXRsZSkge1xuXHRKUFMuYmxvZ2luZm8ubmFtZSA9IG5ld1RpdGxlO1xufVxuXG5mdW5jdGlvbiBzZXREZXNjcmlwdGlvbihuZXdEZXNjcmlwdGlvbikge1xuXHRKUFMuYmxvZ2luZm8uZGVzY3JpcHRpb24gPSBuZXdEZXNjcmlwdGlvbjtcbn1cblxuZnVuY3Rpb24gc2V0QWN0aXZlVGhlbWUoYWN0aXZlVGhlbWVJZCkge1xuICBKUFMudGhlbWVzLmZvckVhY2goIGZ1bmN0aW9uKCB0aGVtZSApIHtcbiAgICBpZiAoIHRoZW1lLmlkID09IGFjdGl2ZVRoZW1lSWQgKSB7XG4gICAgICB0aGVtZS5hY3RpdmUgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGVtZS5hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG4gIH0gKTtcbn1cblxuZnVuY3Rpb24gaW5zdGFsbGVkVGhlbWUodGhlbWUpIHtcbiAgSlBTLnRoZW1lcy51bnNoaWZ0KHRoZW1lKTtcbiAgSlBTLnRoZW1lcyA9IEpQUy50aGVtZXMuc2xpY2UoMCwgMyk7XG59XG5cbmZ1bmN0aW9uIHNldEpldHBhY2tNb2R1bGVBY3RpdmF0ZWQoc2x1Zykge1xuICBpZiAoIF8uaW5kZXhPZiggSlBTLmpldHBhY2suYWN0aXZlX21vZHVsZXMsIHNsdWcgKSA9PT0gLTEgKSB7XG4gICAgSlBTLmpldHBhY2suYWN0aXZlX21vZHVsZXMucHVzaChzbHVnKTsgIFxuICB9XG59XG5cbmZ1bmN0aW9uIHNldEpldHBhY2tNb2R1bGVEZWN0aXZhdGVkKHNsdWcpIHtcbiAgdmFyIGluZGV4ID0gXy5pbmRleE9mKCBKUFMuamV0cGFjay5hY3RpdmVfbW9kdWxlcywgc2x1ZyApO1xuICBpZiAoIGluZGV4ID49IDApIHtcbiAgICBKUFMuamV0cGFjay5hY3RpdmVfbW9kdWxlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNldEpldHBhY2tBZGRpdGlvbmFsTW9kdWxlcyhtb2R1bGVzKSB7XG4gIEpQUy5qZXRwYWNrLmFkZGl0aW9uYWxfbW9kdWxlcyA9IF8uZmlsdGVyKG1vZHVsZXMsIGZ1bmN0aW9uKG1vZHVsZSkge1xuICAgIHJldHVybiBfLmluZGV4T2YoSlBTLmpldHBhY2suanVtcHN0YXJ0X21vZHVsZXMubWFwKGZ1bmN0aW9uKG1vZCl7cmV0dXJuIG1vZC5zbHVnO30pLCBtb2R1bGUuc2x1ZykgPT0gLTE7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzZXRMYXlvdXQobGF5b3V0TmFtZSkge1xuICBsYXlvdXQgPSBsYXlvdXROYW1lOyAvLyBYWFggVE9ETzogZ2V0IHRoaXMgdmFsdWUgZHluYW1pY2FsbHkgZnJvbSB0aGUgc2VydmVyIVxufVxuXG5mdW5jdGlvbiBzZXRKZXRwYWNrQ29uZmlndXJlZCgpIHtcbiAgSlBTLmpldHBhY2suY29uZmlndXJlZCA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIHNldEpldHBhY2tKdW1wc3RhcnRBY3RpdmF0ZWQoKSB7XG4gIEpQUy5qZXRwYWNrLmp1bXBzdGFydF9tb2R1bGVzLmZvckVhY2goIGZ1bmN0aW9uKCBtb2R1bGUgKSB7XG4gICAgc2V0SmV0cGFja01vZHVsZUFjdGl2YXRlZCggbW9kdWxlLnNsdWcgKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNldENvbnRhY3RVc1BhZ2UoIHBhZ2VJbmZvICkge1xuICBKUFMuc3RlcHMuY29udGFjdF9wYWdlID0gcGFnZUluZm87XG59XG5cbnZhciBTaXRlU3RvcmUgPSBfLmV4dGVuZCh7fSwgRXZlbnRFbWl0dGVyLnByb3RvdHlwZSwge1xuXG4gIGdldFRpdGxlOiBmdW5jdGlvbigpIHtcbiAgXHRyZXR1cm4gSlBTLmJsb2dpbmZvLm5hbWU7XG4gIH0sXG5cbiAgZ2V0RGVzY3JpcHRpb246IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBKUFMuYmxvZ2luZm8uZGVzY3JpcHRpb247XG4gIH0sXG5cbiAgZ2V0Q29udGFjdFBhZ2VVUkw6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBKUFMuc3RlcHMuY29udGFjdF9wYWdlICYmIEpQUy5zdGVwcy5jb250YWN0X3BhZ2UudXJsO1xuICB9LFxuXG4gIGdldFRoZW1lczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIEpQUy50aGVtZXM7XG4gIH0sXG5cbiAgZ2V0QWN0aXZlVGhlbWVJZDogZnVuY3Rpb24oKSB7XG4gICAgZm9yKHZhciBpPTA7IGkgPCBKUFMudGhlbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdGhlbWUgPSBKUFMudGhlbWVzW2ldO1xuICAgICAgaWYgKCB0aGVtZS5hY3RpdmUgKSB7XG4gICAgICAgIHJldHVybiB0aGVtZS5pZDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG5cbiAgZ2V0SmV0cGFja0NvbmZpZ3VyZWQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBKUFMuamV0cGFjay5jb25maWd1cmVkO1xuICB9LFxuXG4gIGdldEFjdGl2ZU1vZHVsZVNsdWdzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gSlBTLmpldHBhY2suYWN0aXZlX21vZHVsZXM7XG4gIH0sXG5cbiAgaXNKZXRwYWNrTW9kdWxlRW5hYmxlZDogZnVuY3Rpb24oc2x1Zykge1xuICAgIHJldHVybiAoIF8uaW5kZXhPZiggSlBTLmpldHBhY2suYWN0aXZlX21vZHVsZXMsIHNsdWcgKSA+PSAwICk7XG4gIH0sXG5cbiAgZ2V0SmV0cGFja0FkZGl0aW9uYWxNb2R1bGVzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gSlBTLmpldHBhY2suYWRkaXRpb25hbF9tb2R1bGVzO1xuICB9LFxuXG4gIGdldEp1bXBzdGFydE1vZHVsZVNsdWdzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gSlBTLmpldHBhY2suanVtcHN0YXJ0X21vZHVsZXMubWFwKGZ1bmN0aW9uKG1vZHVsZSkgeyByZXR1cm4gbW9kdWxlLnNsdWc7IH0pO1xuICB9LFxuXG4gIGdldEp1bXBzdGFydE1vZHVsZXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBKUFMuamV0cGFjay5qdW1wc3RhcnRfbW9kdWxlcztcbiAgfSxcblxuICBnZXRQb3B1bGFyVGhlbWVzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gV1BBamF4LnBvc3QoSlBTLnNpdGVfYWN0aW9ucy5nZXRfcG9wdWxhcl90aGVtZXMsIHt9LCB7cXVpZXQ6IHRydWV9KTtcbiAgfSxcblxuICBnZXRKZXRwYWNrSnVtcHN0YXJ0RW5hYmxlZDogZnVuY3Rpb24oKSB7XG4gICAgZm9yKHZhciBpPTA7IGkgPCBKUFMuamV0cGFjay5qdW1wc3RhcnRfbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG1vZHVsZSA9IEpQUy5qZXRwYWNrLmp1bXBzdGFydF9tb2R1bGVzW2ldO1xuICAgICAgaWYgKCAhIHRoaXMuaXNKZXRwYWNrTW9kdWxlRW5hYmxlZCggbW9kdWxlLnNsdWcgKSApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcblxuICBnZXRMYXlvdXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBsYXlvdXQ7XG4gIH0sXG5cbiAgZW1pdENoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5lbWl0KENIQU5HRV9FVkVOVCk7XG4gIH0sXG5cbiAgYWRkQ2hhbmdlTGlzdGVuZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5vbihDSEFOR0VfRVZFTlQsIGNhbGxiYWNrKTtcbiAgfSxcblxuICByZW1vdmVDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKENIQU5HRV9FVkVOVCwgY2FsbGJhY2spO1xuICB9XG59KTtcblxuLy8gUmVnaXN0ZXIgY2FsbGJhY2sgdG8gaGFuZGxlIGFsbCB1cGRhdGVzXG5BcHBEaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuXG4gIHN3aXRjaChhY3Rpb24uYWN0aW9uVHlwZSkge1xuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfU0VUX1RJVExFOlxuICAgICAgc2V0VGl0bGUoYWN0aW9uLnRpdGxlKTtcbiAgICAgIFNpdGVTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfU0VUX0RFU0NSSVBUSU9OOlxuICAgICAgc2V0RGVzY3JpcHRpb24oYWN0aW9uLmRlc2NyaXB0aW9uKTtcbiAgICAgIFNpdGVTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfU0VUX1RIRU1FOlxuICAgICAgc2V0QWN0aXZlVGhlbWUoYWN0aW9uLnRoZW1lSWQpO1xuICAgICAgU2l0ZVN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU0lURV9JTlNUQUxMX1RIRU1FOlxuICAgICAgaW5zdGFsbGVkVGhlbWUoYWN0aW9uLnRoZW1lKTtcbiAgICAgIFNpdGVTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfSkVUUEFDS19DT05GSUdVUkVEOlxuICAgICAgc2V0SmV0cGFja0NvbmZpZ3VyZWQoKTtcbiAgICAgIFNpdGVTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfSkVUUEFDS19BRERfTU9EVUxFUzpcbiAgICAgIHNldEpldHBhY2tBZGRpdGlvbmFsTW9kdWxlcyhhY3Rpb24ubW9kdWxlcyk7XG4gICAgICBTaXRlU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TSVRFX0pFVFBBQ0tfTU9EVUxFX0VOQUJMRUQ6XG4gICAgICBzZXRKZXRwYWNrTW9kdWxlQWN0aXZhdGVkKGFjdGlvbi5zbHVnKTtcbiAgICAgIFNpdGVTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgSlBTQ29uc3RhbnRzLlNJVEVfSkVUUEFDS19NT0RVTEVfRElTQUJMRUQ6XG4gICAgICBzZXRKZXRwYWNrTW9kdWxlRGVjdGl2YXRlZChhY3Rpb24uc2x1Zyk7XG4gICAgICBTaXRlU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5TSVRFX0pFVFBBQ0tfSlVNUFNUQVJUX0VOQUJMRUQ6IFxuICAgICAgc2V0SmV0cGFja0p1bXBzdGFydEFjdGl2YXRlZCgpO1xuICAgICAgU2l0ZVN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU0lURV9TRVRfTEFZT1VUOlxuICAgICAgc2V0TGF5b3V0KGFjdGlvbi5sYXlvdXQpO1xuICAgICAgU2l0ZVN0b3JlLmVtaXRDaGFuZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBKUFNDb25zdGFudHMuU0lURV9DUkVBVEVfQ09OVEFDVF9VU19QQUdFOlxuICAgICAgc2V0Q29udGFjdFVzUGFnZShhY3Rpb24uZGF0YSk7XG4gICAgICBTaXRlU3RvcmUuZW1pdENoYW5nZSgpO1xuICAgICAgYnJlYWs7ICAgICAgXG5cbiAgICBkZWZhdWx0OlxuICAgICAgLy8gbm8gb3BcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU2l0ZVN0b3JlOyIsInZhciBBcHBEaXNwYXRjaGVyID0gcmVxdWlyZSgnLi4vZGlzcGF0Y2hlci9hcHAtZGlzcGF0Y2hlcicpLFxuXHRFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXIsXG5cdEpQU0NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9qZXRwYWNrLW9uYm9hcmRpbmctY29uc3RhbnRzJyk7XG5cbnZhciBDSEFOR0VfRVZFTlQgPSAnY2hhbmdlJztcblxudmFyIHNwaW5uZXJFbmFibGVkID0gZmFsc2UsXG5cdHNwaW5uZXJNZXNzYWdlID0gbnVsbDtcblxuZnVuY3Rpb24gc2hvdyhtZXNzYWdlKSB7XG5cdHNwaW5uZXJFbmFibGVkID0gdHJ1ZTtcblx0c3Bpbm5lck1lc3NhZ2UgPSBtZXNzYWdlO1xufVxuXG5mdW5jdGlvbiBoaWRlKCkge1xuXHRzcGlubmVyRW5hYmxlZCA9IGZhbHNlO1xuXHRzcGlubmVyTWVzc2FnZSA9IG51bGw7XG59XG5cbnZhciBTcGlubmVyU3RvcmUgPSBfLmV4dGVuZCh7fSwgRXZlbnRFbWl0dGVyLnByb3RvdHlwZSwge1xuXHRzaG93aW5nOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc3Bpbm5lckVuYWJsZWQ7XG5cdH0sXG5cblx0Z2V0TWVzc2FnZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNwaW5uZXJNZXNzYWdlO1xuXHR9LFxuXG5cdGFkZENoYW5nZUxpc3RlbmVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRcdHRoaXMub24oIENIQU5HRV9FVkVOVCwgY2FsbGJhY2sgKTtcblx0fSxcblxuXHRyZW1vdmVDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0XHR0aGlzLnJlbW92ZUxpc3RlbmVyKCBDSEFOR0VfRVZFTlQsIGNhbGxiYWNrICk7XG5cdH0sXG5cblx0ZW1pdENoYW5nZTogZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLmVtaXQoIENIQU5HRV9FVkVOVCApO1xuXHR9LFxufSk7XG5cbkFwcERpc3BhdGNoZXIucmVnaXN0ZXIoZnVuY3Rpb24oYWN0aW9uKSB7XG5cbiAgc3dpdGNoKGFjdGlvbi5hY3Rpb25UeXBlKSB7XG4gICAgY2FzZSBKUFNDb25zdGFudHMuU0hPV19TUElOTkVSOlxuXHRcdHNob3coYWN0aW9uLm1lc3NhZ2UpO1xuXHRcdFNwaW5uZXJTdG9yZS5lbWl0Q2hhbmdlKCk7XG5cdFx0YnJlYWs7XG5cbiAgICBjYXNlIEpQU0NvbnN0YW50cy5ISURFX1NQSU5ORVI6XG4gICAgIFx0aGlkZSgpO1xuICAgICBcdFNwaW5uZXJTdG9yZS5lbWl0Q2hhbmdlKCk7XG4gICAgIFx0YnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgLy8gbm8gb3BcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU3Bpbm5lclN0b3JlOyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHQnaDMnOiB7XG5cdFx0Zm9udFdlaWdodDogJ25vcm1hbCdcblx0fSxcblxuXHQnY29udGVudCc6IHtcblx0XHRmb250U2l6ZTogJ2xhcmdlcicsXG5cdFx0Y29sb3I6ICcjNzc3Jyxcblx0XHRsaW5lSGVpZ2h0OiAxLjUsXG4gIFx0XHRtYXJnaW46ICcxZW0gMCdcblx0fSxcblxuXHQnc2NyZWVuc2hvdCc6IHtcblx0XHRmbG9hdDogJ3JpZ2h0Jyxcblx0XHR3aWR0aDogMzAwLFxuXHRcdGJvcmRlcjogJzFweCBzb2xpZCAjY2NjJ1xuXHR9LFxuXG5cdGNzczoge1xuXHRcdGg0OiB7XG5cdFx0XHRtYXJnaW5Cb3R0b206IDEwLFxuXHRcdH0sXG5cblx0XHRoNToge1xuXHRcdFx0bWFyZ2luVG9wOiAwLFxuXHRcdFx0Zm9udFNpemU6ICcxZW0nLFxuXHRcdFx0Zm9udFdlaWdodDogNDAwXG5cdFx0fSxcblxuXHRcdCdpbnB1dCwgc2VsZWN0Jzoge1xuXHRcdFx0bWFyZ2luOiAxLFxuXHRcdFx0cGFkZGluZzogJzNweCA1cHgnXG5cdFx0fSxcblxuXHRcdCdpbnB1dFt0eXBlPVwidGV4dFwiXSc6IHtcblx0XHRcdHdpZHRoOiAnMTAwJSdcblx0XHR9LFxuXG5cdFx0Jy5zdWJtaXQnOiB7XG5cdFx0XHRtYXJnaW46ICcwcHggIWltcG9ydGFudCcsXG5cdFx0XHRwYWRkaW5nOiAnNXB4IDVweCAhaW1wb3J0YW50Jyxcblx0XHRcdGJhY2tncm91bmRDb2xvcjogJyNFRUUnLFxuXHRcdFx0dGV4dEFsaWduOiAncmlnaHQnXG5cdFx0fVxuXHR9XG59OyIsIi8qXG4gKiBBIHNpbXBsZSB3cmFwcGVyIGZvciBjYWxscyB0byBXUCdzIFwiYWpheHVybFwiLlxuICpcbiAqIFRoaXMgZXhpc3RzIGJlY2F1c2UgV1AncyB3cF9zZW5kX2pzb25fZXJyb3IgZG9lc24ndCBhY3R1YWxseSBzZW5kIGFuIGVycm9yIGNvZGUsIGJ1dCByYXRoZXJcbiAqIGEgMjAwIE9LIHJlc3BvbnNlIHdpdGggYSBzdHJ1Y3R1cmUgbGlrZSB0aGlzOlxuICoge3N1Y2Nlc3M6IGZhbHNlLCBkYXRhOiBcInNvbWV0aGluZyB3ZW50IHdyb25nXCJ9XG4gKlxuICogU28gdGhpcyBjbGFzcyBzbW9vdGhlcyB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIDUweCBlcnJvcnMgYW5kIFdQJ3MgZXJyb3Igb2JqZWN0LlxuICpcbiAqIEZvciBjb252ZW5pZW5jZSwgdGhpcyByZXR1cm5zIGEgalF1ZXJ5LkRlZmVycmVkIG9iamVjdCB3aGljaCBjYW4gaGF2ZSAuZG9uZSgpIFxuICogYW5kIC5mYWlsKCkgbWV0aG9kcyBjaGFpbmVkIG9udG8gaXQsIHNpbWlsYXIgdG8galF1ZXJ5LnBvc3QncyBcInN1Y2Nlc3NcIiBhbmQgXCJmYWlsXCJcbiAqXG4gKiBBbHNvLCBpdCBhY2NlcHRzIGFuIFwiYWN0aW9uXCIgcGFyYW0gaW5zdGVhZCBvZiBhIFVSTCwgc2luY2UgYWxsIFdQIGFqYXggcmVxdWVzdHNcbiAqIGFjdHVhbGx5IGdvIHZpYSB0aGUgc2FtZSBVUkwgd2l0aCBkaWZmZXJlbnQgcGFyYW1ldGVycywgYW5kIGl0IGludm9rZXMgY2FsbGJhY2tzIHdpdGhcbiAqIGp1c3QgdGhlIFwiZGF0YVwiIHBvcnRpb24gb2YgV1AncyBhamF4IHBheWxvYWQsIHJhdGhlciB0aGFuIHRoZSB3aG9sZSBzdHJ1Y3R1cmUuXG4gKiBcbiAqKi9cblxudmFyIERhdGFBY3Rpb25zID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9kYXRhLWFjdGlvbnMnKTtcblxudmFyIFdQQWpheCA9IChmdW5jdGlvbigpIHtcblxuXHRyZXR1cm4ge1xuXHRcdHBvc3Q6IGZ1bmN0aW9uKGFjdGlvbiwgcGF5bG9hZCwgb3B0aW9ucykge1xuXHRcdFx0b3B0aW9ucyA9IHR5cGVvZiBvcHRpb25zICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMgOiB7fTtcblx0XHRcdHBheWxvYWQgPSB0eXBlb2YgcGF5bG9hZCAhPT0gJ3VuZGVmaW5lZCcgPyBwYXlsb2FkIDoge307XG5cdFx0XHR2YXIgZGF0YSA9IF8uZXh0ZW5kKHBheWxvYWQsIHthY3Rpb246IGFjdGlvbiwgbm9uY2U6IEpQUy5ub25jZX0pO1xuXHRcdFx0XG5cdFx0XHR2YXIgZGVmZXJyZWQgPSBqUXVlcnkuRGVmZXJyZWQoKTtcblxuXHRcdFx0Ly8gcGFzc2luZyBxdWlldDogdHJ1ZSBhbGxvd3MgcGFnZSBuYXZpZ2F0aW9uIGJlZm9yZSB0aGlzIHJlcXVlc3QgaGFzIGZpbmlzaGVkLlxuXHRcdFx0Ly8gdGhpcyBpcyBhbHNvIGhhbmR5IHdoZW4geW91J3JlIGNhbGxpbmcgZnJvbSB3aXRoaW4gYSBEaXNwYXRjaCBjeWNsZSwgYXMgaXQgXG5cdFx0XHQvLyBubyBsb25nZXIgdHJpZ2dlcnMgYW4gYWRkaXRpb25hbCBEaXNwYXRjaCAod2hpY2ggd291bGQgY2F1c2UgYW4gZXJyb3IpXG5cdFx0XHRpZiAoICFvcHRpb25zLnF1aWV0ICkge1xuXHRcdFx0XHREYXRhQWN0aW9ucy5yZXF1ZXN0U3RhcnRlZCgpO1xuXHRcdFx0fVxuXG5cdFx0XHRqUXVlcnkucG9zdCggYWpheHVybCwgZGF0YSApXG5cdFx0XHRcdC5zdWNjZXNzKCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cdFx0XHRcdFx0aWYgKCAhIHJlc3BvbnNlLnN1Y2Nlc3MgKSB7XG5cdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QocmVzcG9uc2UuZGF0YSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocmVzcG9uc2UuZGF0YSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KVxuXHRcdFx0XHQuZmFpbCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KFwiU2VydmVyIGVycm9yXCIpO1xuXHRcdFx0XHR9KVxuXHRcdFx0XHQuYWx3YXlzKCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0aWYgKCAhb3B0aW9ucy5xdWlldCApIHtcblx0XHRcdFx0XHRcdERhdGFBY3Rpb25zLnJlcXVlc3RGaW5pc2hlZCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XHRcblxuXHRcdFx0cmV0dXJuIGRlZmVycmVkO1xuXHRcdH1cblx0fTtcblxufSkoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBXUEFqYXg7IiwidmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCksXG4gICAgV2VsY29tZVdpZGdldCA9IHJlcXVpcmUoJy4vY29tcG9uZW50cy93ZWxjb21lLXdpZGdldCcpLFxuICAgIFBhdGhzID0gcmVxdWlyZSgnLi9jb25zdGFudHMvamV0cGFjay1vbmJvYXJkaW5nLXBhdGhzJyksXG4gICAgU2V0dXBQcm9ncmVzc1N0b3JlID0gcmVxdWlyZSgnLi9zdG9yZXMvc2V0dXAtcHJvZ3Jlc3Mtc3RvcmUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICBqUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcblxuICAgIFx0U2V0dXBQcm9ncmVzc1N0b3JlLmluaXQoW1xuICAgIFx0XHQvLyBOT1RFOiBZb3UgY2FuIGhhdmUgXCJzdGF0aWM6IHRydWVcIiB0byBpbmNsdWRlIHVuLWNsaWNrYWJsZSBcbiAgICBcdFx0Ly8gcHJlZmlsbGVkIHN0ZXBzIHRoYXQgYWN0IGFzIHRob3VnaCB0aGV5J3ZlIGFscmVhZHkgYmVlbiBjb21wbGV0ZWRcblx0XHRcdC8vIHtcblx0XHRcdC8vIFx0bmFtZTogXCJTaWduIHVwXCIsXG5cdFx0XHQvLyBcdGNvbXBsZXRlZDogdHJ1ZSxcblx0XHRcdC8vIFx0c3RhdGljOiB0cnVlXG5cdFx0XHQvLyB9LFxuXHRcdFx0e1xuXHRcdFx0XHRuYW1lOiAnU2l0ZSB0aXRsZScsXG5cdFx0XHRcdHNsdWc6IFBhdGhzLlNJVEVfVElUTEVfU1RFUF9TTFVHLFxuXHRcdFx0XHR3ZWxjb21lVmlldzogcmVxdWlyZSgnLi9jb21wb25lbnRzL3NpdGUtdGl0bGUtc3RlcCcpXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRuYW1lOiAnUGljayBhIGxheW91dCcsXG5cdFx0XHRcdHNsdWc6IFBhdGhzLkxBWU9VVF9TVEVQX1NMVUcsXG5cdFx0XHRcdHdlbGNvbWVWaWV3OiByZXF1aXJlKCcuL2NvbXBvbmVudHMvbGF5b3V0LXN0ZXAnKVxuXHRcdFx0fSxcblx0XHQgICAge1xuXHRcdFx0ICAgIG5hbWU6IFwiQ29udGFjdCBJbmZvXCIsXG5cdFx0XHQgICAgc2x1ZzogUGF0aHMuQ09OVEFDVF9QQUdFX1NURVBfU0xVRyxcblx0XHRcdCAgICB3ZWxjb21lVmlldzogcmVxdWlyZSgnLi9jb21wb25lbnRzL2NvbnRhY3Qtc3RlcCcpXG5cdFx0ICAgIH0sXG5cdFx0ICAgIHtcblx0XHRcdCAgICBuYW1lOiBcIlBpY2sgYSBkZXNpZ25cIixcblx0XHRcdCAgICBzbHVnOiBQYXRocy5ERVNJR05fU1RFUF9TTFVHLFxuXHRcdFx0ICAgIHdlbGNvbWVWaWV3OiByZXF1aXJlKCcuL2NvbXBvbmVudHMvZGVzaWduLXN0ZXAnKVxuXHRcdCAgICB9LFxuXHRcdFx0e1xuXHRcdFx0XHRuYW1lOiAnRW5hYmxlIEpldHBhY2snLFxuXHRcdFx0XHRzbHVnOiBQYXRocy5KRVRQQUNLX01PRFVMRVNfU1RFUF9TTFVHLFxuXHRcdFx0XHRuZXZlclNraXA6IHRydWUsIC8vIGRvbid0IHNraXAgdGhpcyBldmVuIGlmIGl0J3MgYmVlbiBjb21wbGV0ZWRcblx0XHRcdFx0d2VsY29tZVZpZXc6IHJlcXVpcmUoJy4vY29tcG9uZW50cy9qZXRwYWNrLWp1bXBzdGFydC1zdGVwJyksXG5cdFx0XHRcdG1lbnVWaWV3OiByZXF1aXJlKCcuL2NvbXBvbmVudHMvamV0cGFjay1qdW1wc3RhcnQtbWVudScpXG5cdFx0XHR9LFxuXHRcdFx0eyBcblx0XHRcdFx0bmFtZTogXCJBZHZhbmNlZCBzZXR0aW5nc1wiLCBcblx0XHRcdFx0c2x1ZzogUGF0aHMuQURWQU5DRURfU1RFUF9TTFVHLFxuXHRcdFx0XHR3ZWxjb21lVmlldzogcmVxdWlyZSgnLi9jb21wb25lbnRzL2FkdmFuY2VkLXNldHRpbmdzLXN0ZXAnKSxcblx0XHRcdFx0aW5jbHVkZUluUHJvZ3Jlc3M6IGZhbHNlXG5cdFx0XHR9XG5cdFx0XSk7XG5cbiAgICAgICAgUmVhY3QucmVuZGVyKFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoV2VsY29tZVdpZGdldCwge30pLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnanBvLXdlbGNvbWUtcGFuZWwnKVxuICAgICAgICApO1xuICAgIH0pO1xufTsiLCJ2YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKSxcblx0c3R5bGVzID0gcmVxdWlyZSgnLi4vc3R5bGVzJyksXG5cdFJhZGl1bSA9IHJlcXVpcmUoJ3JhZGl1bScpO1xuXG52YXIgQnV0dG9uID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIkJ1dHRvblwiLFxuXG5cdHByb3BUeXBlczoge1xuXHRcdHNpemU6IFJlYWN0LlByb3BUeXBlcy5vbmVPZihbJ3RpbnknLCAnbm9ybWFsJywgJ2JpZyddKSxcblx0XHRjb2xvcjogUmVhY3QuUHJvcFR5cGVzLm9uZU9mKFsnZ3JheScsICdibHVlJywgJ2dyZWVuJ10pLFxuXHRcdHRoZW1lOiBSZWFjdC5Qcm9wVHlwZXMub25lT2YoWyd3cCcsICdqZXRwYWNrJ10pLFxuXHRcdGlubGluZTogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdFx0b25DbGljazogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdFx0ZGlzYWJsZWQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuXHRcdGhyZWY6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmdcblx0fSxcblxuXHRnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB7IHNpemU6ICdub3JtYWwnLCBpbmxpbmU6IHRydWUsIGNvbG9yOiAnZ3JheScsIHRoZW1lOiAnd3AnLCBkaXNhYmxlZDogZmFsc2UgfTtcblx0fSxcblxuXHRoYW5kbGVDYWxsYmFja0hyZWY6IGZ1bmN0aW9uKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0d2luZG93LmxvY2F0aW9uID0gdGhpcy5wcm9wcy5ocmVmO1xuXHR9LFxuXG5cdHN0eWxlczoge1xuXHRcdGJhc2ljOiB7XG5cdFx0XHRib3JkZXJSYWRpdXM6IDMsXG5cdFx0XHRib3hTaGFkb3c6ICdpbnNldCAwIDFweCAwIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zKScsXG5cdFx0XHRib3JkZXJXaWR0aDogMSxcblx0XHRcdGJvcmRlclN0eWxlOiAnc29saWQnLFxuXHRcdFx0Y3Vyc29yOiAncG9pbnRlcicsXG5cdFx0XHRkaXNwbGF5OiAnYmxvY2snLFxuXHRcdFx0Zm9udFNpemU6IDE0LFxuXHRcdFx0Zm9udFdlaWdodDogJ2JvbGQnLFxuXHRcdFx0cGFkZGluZzogJzEwcHggMjBweCcsXG5cdFx0XHR0ZXh0QWxpZ246ICdjZW50ZXInLFxuXHRcdFx0dGV4dERlY29yYXRpb246ICdub25lJyxcblx0XHRcdFdlYmtpdEZvbnRTbW9vdGhpbmc6ICdhbnRpYWxpYXNlZCcsXG5cdFx0XHR0cmFuc2l0aW9uOiAnYmFja2dyb3VuZCAwLjJzJ1xuXHRcdH0sXG5cblx0XHRzaXplczoge1xuXHRcdFx0dGlueToge1xuXHRcdFx0XHRmb250U2l6ZTogMTAsXG5cdFx0XHRcdHBhZGRpbmc6ICcycHggMTBweCcsXG5cdFx0XHR9LFxuXHRcdFx0bm9ybWFsOiB7XG5cdFx0XHRcdGZvbnRTaXplOiAxMyxcblx0XHRcdFx0cGFkZGluZzogJzVweCAxMHB4J1xuXHRcdFx0fSxcblx0XHRcdGJpZzoge1xuXHRcdFx0XHRmb250U2l6ZTogMTYsXG5cdFx0XHRcdHBhZGRpbmc6ICcyMHB4IDQwcHgnXG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGNvbG9yczoge1xuXHRcdFx0Z3JheToge1xuXHRcdFx0XHRiYWNrZ3JvdW5kOiAnbGluZWFyLWdyYWRpZW50KCNmZmYsICNmOWY5ZjkpJyxcblx0XHRcdFx0Ym9yZGVyQ29sb3I6IHN0eWxlcy5jb2xvcnMubGlnaHRHcmF5LFxuXHRcdFx0XHRjb2xvcjogc3R5bGVzLmNvbG9ycy5kYXJrR3JheSxcblx0XHRcdFx0Jzpob3Zlcic6IHtcblx0XHRcdFx0XHRjb2xvcjogc3R5bGVzLmNvbG9ycy5ncmF5XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRibHVlOiB7XG5cdFx0XHRcdGJhY2tncm91bmQ6IHN0eWxlcy5jb2xvcnMuYmx1ZSxcblx0XHRcdFx0Ym9yZGVyQ29sb3I6ICdyZ2JhKDAsMCwwLDAuNiknLFxuXHRcdFx0XHRjb2xvcjogJ3doaXRlJyxcblx0XHRcdFx0Jzpob3Zlcic6IHtcblx0XHRcdFx0XHRiYWNrZ3JvdW5kOiBzdHlsZXMuY29sb3JzLmxpZ2h0ZXJCbHVlLFxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0Z3JlZW46IHtcblx0XHRcdFx0YmFja2dyb3VuZDogc3R5bGVzLmNvbG9ycy5ncmVlbixcblx0XHRcdFx0Y29sb3I6ICd3aGl0ZScsXG5cdFx0XHRcdGJvcmRlckNvbG9yOiAncmdiYSgwLDAsMCwwLjYpJyxcblx0XHRcdFx0Jzpob3Zlcic6IHtcblx0XHRcdFx0XHRiYWNrZ3JvdW5kOiBzdHlsZXMuY29sb3JzLmxpZ2h0ZXJHcmVlbixcblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdHRoZW1lczoge1xuXHRcdFx0d3A6IHt9LFxuXHRcdFx0amV0cGFjazoge1xuXHRcdFx0XHRwYWRkaW5nOiAnMThweCAyNHB4IDE1cHgnLFxuXHRcdFx0XHRib3JkZXJSYWRpdXM6IDYsXG5cdFx0XHRcdGJvcmRlclN0eWxlOiAnbm9uZScsXG5cdFx0XHRcdGJveFNoYWRvdzogJzAgNnB4IDAgIzNlNmMyMCwwIDZweCAzcHggcmdiYSgwLDAsMCwwLjQpJ1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0XG5cdFx0aW5saW5lOiB7XG5cdFx0XHRkaXNwbGF5OiAnaW5saW5lLWJsb2NrJ1xuXHRcdH0sXG5cblx0XHRkaXNhYmxlZDoge1xuXHRcdFx0YmFja2dyb3VuZDogJyNmOWY5ZjknLFxuXHRcdFx0Ym9yZGVyQ29sb3I6IHN0eWxlcy5jb2xvcnMubGlnaHRHcmF5LFxuXHRcdFx0Y29sb3I6IHN0eWxlcy5jb2xvcnMubGlnaHRHcmF5LFxuXHRcdFx0Jzpob3Zlcic6IHtcblx0XHRcdFx0YmFja2dyb3VuZDogJyNmOWY5ZjknLFxuXHRcdFx0XHRib3JkZXJDb2xvcjogc3R5bGVzLmNvbG9ycy5saWdodEdyYXksXG5cdFx0XHRcdGNvbG9yOiBzdHlsZXMuY29sb3JzLmxpZ2h0R3JheSxcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblxuXHRcdHZhciAkX18wPSAgICAgICAgICB0aGlzLnByb3BzLHNpemU9JF9fMC5zaXplLGNvbG9yPSRfXzAuY29sb3IsaW5saW5lPSRfXzAuaW5saW5lLG9uQ2xpY2s9JF9fMC5vbkNsaWNrLHRoZW1lPSRfXzAudGhlbWUsaHJlZj0kX18wLmhyZWYsb3RoZXI9KGZ1bmN0aW9uKHNvdXJjZSwgZXhjbHVzaW9uKSB7dmFyIHJlc3QgPSB7fTt2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtpZiAoc291cmNlID09IG51bGwpIHt0aHJvdyBuZXcgVHlwZUVycm9yKCk7fWZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtpZiAoaGFzT3duLmNhbGwoc291cmNlLCBrZXkpICYmICFoYXNPd24uY2FsbChleGNsdXNpb24sIGtleSkpIHtyZXN0W2tleV0gPSBzb3VyY2Vba2V5XTt9fXJldHVybiByZXN0O30pKCRfXzAse3NpemU6MSxjb2xvcjoxLGlubGluZToxLG9uQ2xpY2s6MSx0aGVtZToxLGhyZWY6MX0pO1xuXG5cdFx0dmFyIGNhbGxiYWNrO1xuXG5cdFx0dmFyIGNvbWJpbmVkU3R5bGUgPSBbXG5cdFx0XHR0aGlzLnN0eWxlcy5iYXNpYywgXG5cdFx0XHR0aGlzLnN0eWxlcy5zaXplc1tzaXplXSxcblx0XHRcdHRoaXMuc3R5bGVzLmNvbG9yc1tjb2xvcl0sXG5cdFx0XHR0aGlzLnN0eWxlcy50aGVtZXNbdGhlbWVdLFxuXHRcdFx0dGhpcy5wcm9wcy5kaXNhYmxlZCAmJiB0aGlzLnN0eWxlcy5kaXNhYmxlZCxcblx0XHRcdGlubGluZSAmJiB0aGlzLnN0eWxlcy5pbmxpbmUsXG5cdFx0XHR0aGlzLnByb3BzLnN0eWxlXG5cdFx0XTtcblxuXHRcdGlmICggaHJlZiAmJiAhb25DbGljaykge1xuXHRcdFx0Y2FsbGJhY2sgPSB0aGlzLmhhbmRsZUNhbGxiYWNrSHJlZjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y2FsbGJhY2sgPSBvbkNsaWNrO1xuXHRcdH1cblxuXHRcdHJldHVybiAoXG5cdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIFJlYWN0Ll9fc3ByZWFkKHt9LCAgb3RoZXIsIHtzdHlsZTogY29tYmluZWRTdHlsZSwgb25DbGljazogY2FsbGJhY2ssIG9uTW91c2VPdmVyOiB0aGlzLmhhbmRsZU1vdXNlT3Zlciwgb25Nb3VzZU91dDogdGhpcy5oYW5kbGVNb3VzZU91dH0pLCBcblx0XHRcdFx0dGhpcy5wcm9wcy5jaGlsZHJlblxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJhZGl1bShCdXR0b24pOyIsInZhciBSZWFjdCA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydSZWFjdCddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnUmVhY3QnXSA6IG51bGwpLFxuXHRSYWRpdW0gPSByZXF1aXJlKCdyYWRpdW0nKTtcblxuLyoqXG4gKiBTaG93IHByb2dyZXNzIHRocm91Z2ggdGhlIHN0ZXBzXG4gKiBOT1RFOiBwcm9ncmVzc1BlcmNlbnQgTVVTVCBiZSByb3VuZGVkIHRvIHRoZSBuZWFyZXN0IDEwLCBpLmUuIDEwLCAyMCwgMzAsIDQwLi4uMTAwXG4gKiBUaGlzIGlzIHJlcXVpcmVkIGZvciB0aGUgQ1NTIHRvIHdvcmsgKHdpbGwgZml4IGxhdGVyLi4uKVxuICoqL1xudmFyIFByb2dyZXNzQmFyID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiBcIlByb2dyZXNzQmFyXCIsXG5cblx0cHJvcFR5cGVzOiB7XG5cdFx0c3R5bGU6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdFx0cHJvZ3Jlc3NQZXJjZW50OiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcblx0fSxcblxuXHRzdHlsZXM6IHtcblx0XHR3cmFwcGVyOiB7XG5cdFx0XHRmb250V2VpZ2h0OiA0MDAsXG5cdFx0XHRmb250U2l6ZTogJzgwJSdcblx0XHR9LFxuXHRcdHByb2dyZXNzOiB7XG5cdFx0XHRiYWNrZ3JvdW5kOiAnIzRhYjg2NicsXG5cdFx0XHR3aWR0aDogJzAlJyxcblx0XHRcdHRyYW5zaXRpb246ICd3aWR0aCAwLjVzJyxcblx0XHRcdGRpc3BsYXk6ICdibG9jaycsXG5cdFx0XHRoZWlnaHQ6ICcxMDAlJ1xuXHRcdH0sXG5cdFx0YmFyOiB7XG5cdFx0XHRkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcblx0XHRcdHdpZHRoOiA4MCxcblx0XHRcdGhlaWdodDogMTIsXG5cdFx0XHRtYXJnaW46ICcwIDhweCAtMnB4IDAnLFxuXHRcdFx0cGFkZGluZzogMixcblx0XHRcdGJvcmRlclJhZGl1czogMixcblx0XHRcdGJhY2tncm91bmQ6ICcjZjVmNWY1J1xuXHRcdH1cblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdC8vIHZhciBjbGFzc2VzID0gJ2dldHRpbmctc3RhcnRlZF9fcHJvZ3Jlc3MgcHJvZ3Jlc3NfJyt0aGlzLnByb3BzLnByb2dyZXNzUGVyY2VudDtcblx0XHRyZXR1cm4gKFxuXHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7c3R5bGU6IFt0aGlzLnN0eWxlcy53cmFwcGVyLCB0aGlzLnByb3BzLnN0eWxlXX0sIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtzdHlsZTogdGhpcy5zdHlsZXMuYmFyfSwgXG5cdFx0XHRcdFx0UmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge3N0eWxlOiBbdGhpcy5zdHlsZXMucHJvZ3Jlc3MsIHsgd2lkdGg6IHRoaXMucHJvcHMucHJvZ3Jlc3NQZXJjZW50KyclJyB9XX0pXG5cdFx0XHRcdCksIFxuXHRcdFx0XHR0aGlzLnByb3BzLnByb2dyZXNzUGVyY2VudCwgXCIlIGNvbXBsZXRlXCJcblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSYWRpdW0oUHJvZ3Jlc3NCYXIpOyIsIi8vIHRoaXMgY29tcG9uZW50IHByb3ZpZGVzIHNvbWUgYmFzaWMgcmVzZXRzIHNvIHRoYXQgdGhlIHJlc3Qgb2YgdGhlIHN0eWxpbmcgd29ya3MgYXMgaW50ZW5kZWQuXG4vLyB0aGlzIHByZXZlbnRzIG5vaXN5IGR1cGxpY2F0aW9uIG9mIHJlc2V0IGNvZGUgdGhyb3VnaG91dCB0aGUgY29kZWJhc2UuXG5cbi8vIHVzYWdlOlxuLy8gdXNlIHRoaXMgYXMgYSB3cmFwcGVyIGZvciBhIHRvcC1sZXZlbCBjb21wb25lbnQgdGhhdCB1c2VzIGRvcHMtcmVhY3QsIGUuZy5cbi8vXG4vLyByZW5kZXI6IGZ1bmN0aW9uKCkge1xuLy8gXHRyZXR1cm4gKFxuLy8gICAgICAgPFJlc2V0PlxuLy8gICAgICAgICAuLi4gdGhlIHJlc3Qgb2YgbXkgY29kZSBnb2VzIGhlcmUgLi4uXG4vLyAgICAgICA8L1Jlc2V0PlxuLy8gXHQpXG4vLyB9XG5cbi8vIHRvIGFkZCBhZGRpdGlvbmFsIENTUywgcGFzcyBpdCBpbiB1c2luZyB0aGUgXCJDU1NcIiBwcm9wZXJ0eVxuXG52YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKSxcblx0UmFkaXVtID0gcmVxdWlyZSgncmFkaXVtJyksXG5cdG0gPSByZXF1aXJlKCcuLi91dGlscy9tJyk7XG5cbnZhciBpZENvdW50ZXIgPSAwO1xuXG52YXIgUmVzZXQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6IFwiUmVzZXRcIixcblx0cHJvcFR5cGVzOiB7XG5cdFx0Y3NzOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0XG5cdH0sXG5cblx0c3R5bGU6IHtcblx0XHRyZXNldHM6IHtcblx0XHRcdCcqJzoge1xuXHRcdFx0XHRib3hTaXppbmc6ICdib3JkZXItYm94J1xuXHRcdFx0fSxcblx0XHRcdCdkaXYsIHVsLCBvbCwgbGksIGgxLCBoMiwgaDMsIGg0LCBoNSwgaDYsIGZvcm0sIGZpZWxkc2V0LCBsZWdlbmQsIGlucHV0LCBidXR0b24sIHRleHRhcmVhLCBwLCBibG9ja3F1b3RlLCB0aCwgdGQnOiB7IFxuXHRcdFx0XHRtYXJnaW46IDAsIHBhZGRpbmc6IDAgXG5cdFx0XHR9LFxuXHRcdFx0aW1nOiB7XG5cdFx0XHRcdGJvcmRlcjogJ25vbmUnLFxuXHRcdFx0XHRtYXhXaWR0aDogJzEwMCUnXG5cdFx0XHR9LFxuXHRcdFx0dGQ6IHtcblx0XHRcdFx0dmVydGljYWxBbGlnbjogJ3RvcCdcblx0XHRcdH0sXG5cblx0XHRcdC8vIHRoZXNlIHN1cHBvcnQgYW5pbWF0aW9uc1xuXHRcdFx0Jy5zbGlkZURvd24tZW50ZXInOiB7XG5cdFx0XHRcdG92ZXJmbG93WTogJ2hpZGRlbicsXG5cdFx0XHRcdG1heEhlaWdodDogMCxcblx0XHRcdFx0dHJhbnNpdGlvbjogJ2FsbCAuNXMgZWFzZS1vdXQnXG5cdFx0XHR9LFxuXG5cdFx0XHQnLnNsaWRlRG93bi1lbnRlci1hY3RpdmUnOiB7XG5cdFx0XHRcdG92ZXJmbG93WTogJ2hpZGRlbicsXG5cdFx0XHRcdG1heEhlaWdodDogNDAwXG5cdFx0XHR9LFxuXG5cdFx0XHQnLnNsaWRlRG93bi1sZWF2ZSc6IHtcblx0XHRcdFx0b3ZlcmZsb3dZOiAnaGlkZGVuJyxcblx0XHRcdFx0bWF4SGVpZ2h0OiA0MDAsXG5cdFx0XHRcdHRyYW5zaXRpb246ICdhbGwgLjVzIGVhc2Utb3V0J1xuXHRcdFx0fSxcblxuXHRcdFx0Jy5zbGlkZURvd24tbGVhdmUtYWN0aXZlJzoge1xuXHRcdFx0XHRvdmVyZmxvd1k6ICdoaWRkZW4nLFxuXHRcdFx0XHRtYXhIZWlnaHQ6IDBcblx0XHRcdH0sXG5cblx0XHRcdC8qKlxuXHRcdFx0ICogU2xpZGUgYWNyb3NzIHJpZ2h0LXRvLWxlZnRcblx0XHRcdCAqL1xuXG5cdFx0XHQnLnNsaWRlUlRMLWVudGVyJzoge1xuXHRcdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcblx0XHRcdFx0bGVmdDogJzEwMCUnLFxuXHRcdFx0XHR0cmFuc2l0aW9uOiAnYWxsIC4ycyBsaW5lYXInXG5cdFx0XHR9LFxuXG5cdFx0XHQnLnNsaWRlUlRMLWVudGVyLWFjdGl2ZSc6IHtcblx0XHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdFx0XHRcdGxlZnQ6ICcwJSdcblx0XHRcdH0sXG5cblx0XHRcdCcuc2xpZGVSVEwtbGVhdmUnOiB7XG5cdFx0XHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuXHRcdFx0XHRsZWZ0OiAnMCUnLFxuXHRcdFx0XHR0cmFuc2l0aW9uOiAnYWxsIC4ycyBsaW5lYXInXG5cdFx0XHR9LFxuXG5cdFx0XHQnLnNsaWRlUlRMLWxlYXZlLWFjdGl2ZSc6IHtcblx0XHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdFx0XHRcdGxlZnQ6ICctMTAwJSdcblx0XHRcdH0sXG5cblx0XHRcdC8qKlxuXHRcdFx0ICogU2xpZGUgYWNyb3NzIGxlZnQtdG8tcmlnaHRcblx0XHRcdCAqL1xuXG5cdFx0XHQnLnNsaWRlTFRSLWVudGVyJzoge1xuXHRcdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcblx0XHRcdFx0bGVmdDogJy0xMDAlJyxcblx0XHRcdFx0dHJhbnNpdGlvbjogJ2FsbCAuMnMgbGluZWFyJ1xuXHRcdFx0fSxcblxuXHRcdFx0Jy5zbGlkZUxUUi1lbnRlci1hY3RpdmUnOiB7XG5cdFx0XHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuXHRcdFx0XHRsZWZ0OiAnMCUnXG5cdFx0XHR9LFxuXG5cdFx0XHQnLnNsaWRlTFRSLWxlYXZlJzoge1xuXHRcdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcblx0XHRcdFx0bGVmdDogJzAlJyxcblx0XHRcdFx0dHJhbnNpdGlvbjogJ2FsbCAuMnMgbGluZWFyJ1xuXHRcdFx0fSxcblxuXHRcdFx0Jy5zbGlkZUxUUi1sZWF2ZS1hY3RpdmUnOiB7XG5cdFx0XHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuXHRcdFx0XHRsZWZ0OiAnMTAwJSdcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyICRfXzA9ICB0aGlzLnByb3BzLHByb3BzPShmdW5jdGlvbihzb3VyY2UsIGV4Y2x1c2lvbikge3ZhciByZXN0ID0ge307dmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7aWYgKHNvdXJjZSA9PSBudWxsKSB7dGhyb3cgbmV3IFR5cGVFcnJvcigpO31mb3IgKHZhciBrZXkgaW4gc291cmNlKSB7aWYgKGhhc093bi5jYWxsKHNvdXJjZSwga2V5KSAmJiAhaGFzT3duLmNhbGwoZXhjbHVzaW9uLCBrZXkpKSB7cmVzdFtrZXldID0gc291cmNlW2tleV07fX1yZXR1cm4gcmVzdDt9KSgkX18wLHt9KSxcblx0XHRcdGlkID0gdGhpcy5fZ2VuZXJhdGVJZCgpO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgUmVhY3QuX19zcHJlYWQoe2lkOiBpZH0sICBwcm9wcyksIFxuXHRcdFx0XHRSZWFjdC5jcmVhdGVFbGVtZW50KFJhZGl1bS5TdHlsZSwge3Njb3BlU2VsZWN0b3I6ICcjJytpZCwgcnVsZXM6IG0odGhpcy5zdHlsZS5yZXNldHMsIHRoaXMucHJvcHMuY3NzKX0pLCBcblx0XHRcdFx0dGhpcy5wcm9wcy5jaGlsZHJlblxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0X2dlbmVyYXRlSWQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAnZG9wc2lkJysoaWRDb3VudGVyKyspO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZXNldDsiLCJ2YXIgc3R5bGVzID0ge1xuXHQvL2xheW91dFxuXHRyaWdodDogeyBmbG9hdDogJ3JpZ2h0JyB9LFxuXHRcblx0bGVmdDogeyBmbG9hdDogJ2xlZnQnIH0sXG5cdFxuXHR0aGlyZDogeyB3aWR0aDogJzMzJScgfSxcblxuXHRmdWxsOiB7IHdpZHRoOiAnMTAwJScgfSxcblxuXHRoYWxmOiB7IHdpZHRoOiAnNDglJyB9LFxuXG5cdGhpZGRlbjogeyBkaXNwbGF5OiAnbm9uZScgfSxcblxuXHRjbGVhcjoge1xuXHRcdGNsZWFyOiAnYm90aCcsIFxuXHRcdGRpc3BsYXk6ICdibG9jaycgXG5cdH0sXG5cblx0Ly9hY2NvdW50IHN0YXR1cyBpbmRpY2F0b3Jcblx0YWNjb3VudFN0YXR1czoge1xuXHRcdHRleHRUcmFuc2Zvcm06ICdjYXBpdGFsaXplJ1xuXHR9LFxuXG5cdGFjY291bnRTdGF0dXNOb3RpY29uOiB7XG5cdFx0Ym9yZGVyUmFkaXVzOiBcIjUwJVwiLFxuXHRcdHdpZHRoOiAxNixcblx0XHRoZWlnaHQ6IDE2LFxuXHRcdG1hcmdpblJpZ2h0OiAxMCxcblx0XHRjb2xvcjogJyNmZmYnLFxuXHRcdGJhY2tncm91bmQ6ICcjODFiZjE2J1xuXHR9LFxuXG5cdC8vYm94IHdpZGdldFxuXHRib3g6IHtcblx0XHRib3JkZXJSYWRpdXM6IDIsXG5cdFx0cGFkZGluZzogJzVweCAxMHB4Jyxcblx0XHRiYWNrZ3JvdW5kOiAnI2Y1ZjVmNSdcblx0fSxcblxuXHQvL2Jhc2ljIHN0eWxpbmcgLSBmb250cyBhbmQgY29sb3JzXG5cdGxpZ2h0OiB7IGNvbG9yOiAnIzk5OScgfSxcblx0Y29sb3JzOiB7XG5cdFx0YWtpc21ldEdyZWVuOiAnIzVlOGUxNCcsXG5cdFx0Ymx1ZTogJyMwMjlkZDYnLFxuXHRcdGxpZ2h0ZXJCbHVlOiAnIzEzQUVFNycsXG5cdFx0YmxhY2s6ICcjMzMzJyxcblx0XHRkYXJrR3JheTogJyM0NDQnLFxuXHRcdGdyYXk6ICcjNzg3ODc4Jyxcblx0XHRsaWdodEdyYXk6ICcjYmJiJyxcblx0XHR2ZXJ5TGlnaHRHcmF5OiAnI2VlZScsXG5cdFx0b2ZmV2hpdGU6ICcjZjlmOWY5Jyxcblx0XHRhY2NvdW50QWN0aXZlOiAnIzgxYmYxNicsXG5cdFx0YWNjb3VudEluYWN0aXZlOiAnI2JiYicsXG5cdFx0Z3JlZW46ICcjNTE4ZDJhJyxcblx0XHRsaWdodGVyR3JlZW46ICcjNTc5NzJkJ1xuXHR9LFxuXG5cdGZvbnRzOiB7XG5cdFx0c2FuczogJ09wZW4gU2FucywgXCJPcGVuIFNhbnNcIiwgXCJIZWx2ZXRpY2EgTmV1ZVwiLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmJyxcblx0XHRzZXJpZjogJ01lcnJpd2VhdGhlciwgR2VvcmdpYSwgc2VyaWYnLFxuXHRcdG1vbm86ICdcIkNvdXJpZXIgTmV3XCIsIENvdXJpZXIsIG1vbm9zcGFjZSdcblx0fSxcblxuXHQvL2Zvcm1zXG5cdGlucHV0OiB7XG5cdFx0d2lkdGg6IFwiMTAwJVwiLFxuXHRcdGJveFNoYWRvdzogJ25vbmUnLFxuXHRcdGJhY2tncm91bmQ6ICcjZmZmJyxcblx0XHRib3JkZXI6ICcxcHggc29saWQgI2Q1ZDVkNScsXG5cdFx0Zm9udFNpemU6IDEyLFxuXHRcdHBhZGRpbmc6ICc4cHggMTBweCdcblx0fSxcblxuXHRzZWxlY3Q6IHtcblx0XHRib3JkZXJSYWRpdXM6IDMsXG5cdFx0YmFja2dyb3VuZENvbG9yOiAnI2ZmZicsXG5cdFx0Zm9udFNpemU6IDEyLFxuXHRcdGhlaWdodDogMzUsXG5cdFx0d2lkdGg6ICcxMDAlJyxcblx0XHRib3JkZXI6ICcxcHggc29saWQgI2Q1ZDVkNScsXG5cdFx0cGFkZGluZzogJzNweCA1cHgnLFxuXHRcdG1pbldpZHRoOiAwXG5cdH0sXG5cblx0Y2hlY2tib3g6IHtcblx0XHRtYXJnaW5SaWdodDogMTBcblx0fSxcblxuXHRlcnJvckZpZWxkOiB7XG5cdFx0Ym9yZGVyOiAnMXB4IHNvbGlkICNkZDNkMzYnXG5cdH0sXG5cdFxuXHRlcnJvckxhYmVsOiB7XG5cdFx0Ym9yZGVyOiAnMXB4IHNvbGlkICNkZDNkMzYnLFxuXHRcdGNvbG9yOiAnI2EwMCcsXG5cdFx0ZGlzcGxheTogJ2Jsb2NrJyxcblx0XHRmb250U2l6ZTogMTIsXG5cdFx0bWFyZ2luOiAnNXB4IDAgMCAwJyxcblx0XHRwYWRkaW5nOiA1XG5cdH0sXG5cblx0XG59O1xuXG4vLyBvcHRpb25hbCB0b3AtbGV2ZWwgc3R5bGVzIGZvciBwYXNzaW5nIGludG8gdGhlIFwicmVzZXRcIiBvYmplY3RcbnN0eWxlcy5jc3MgPSB7XG5cdCc+IConOiB7XG5cdFx0Zm9udDogJzE0cHgvMS41ICcgKyBzdHlsZXMuZm9udHMuc2Fucyxcblx0XHRjb2xvcjogc3R5bGVzLmNvbG9ycy5ibGFja1xuXHR9LFxuXHRhOiB7XG5cdFx0Y29sb3I6IHN0eWxlcy5jb2xvcnMuYmx1ZSxcblx0XHR0ZXh0RGVjb3JhdGlvbjogJ25vbmUnXG5cdH0sXG5cdCdhOmhvdmVyJzoge1xuXHRcdHRleHREZWNvcmF0aW9uOiAndW5kZXJsaW5lJ1xuXHR9LFxuXHRoMToge1xuXHRcdGZvbnRTaXplOiAzNFxuXHR9LFxuXHRoMjoge1xuXHRcdGNvbG9yOiBzdHlsZXMuY29sb3JzLmdyYXksXG5cdFx0Zm9udFNpemU6IDE2XG5cdH0sXG5cdGgzOiB7XG5cdFx0Zm9udFNpemU6IDE4XG5cdH0sXG5cdCdoMSwgaDIsIGgzJzoge1xuXHRcdGZvbnRGYW1pbHk6IHN0eWxlcy5mb250cy5zZXJpZixcblx0XHRmb250V2VpZ2h0OiA1MDBcblx0fVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBzdHlsZXM7IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0dmFyIHJlcyA9IHt9O1xuXHRmb3IgKCB2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyArK2kpIHtcblx0XHRpZiAoYXJndW1lbnRzW2ldKSB7XG5cdFx0XHRqUXVlcnkuZXh0ZW5kKHJlcywgYXJndW1lbnRzW2ldKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHJlcztcbn07IiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgdGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufVxubW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG5FdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbihuKSB7XG4gIGlmICghaXNOdW1iZXIobikgfHwgbiA8IDAgfHwgaXNOYU4obikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCduIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBlciwgaGFuZGxlciwgbGVuLCBhcmdzLCBpLCBsaXN0ZW5lcnM7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgdGhpcy5fZXZlbnRzID0ge307XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAodHlwZSA9PT0gJ2Vycm9yJykge1xuICAgIGlmICghdGhpcy5fZXZlbnRzLmVycm9yIHx8XG4gICAgICAgIChpc09iamVjdCh0aGlzLl9ldmVudHMuZXJyb3IpICYmICF0aGlzLl9ldmVudHMuZXJyb3IubGVuZ3RoKSkge1xuICAgICAgZXIgPSBhcmd1bWVudHNbMV07XG4gICAgICBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICAgIH1cbiAgICAgIHRocm93IFR5cGVFcnJvcignVW5jYXVnaHQsIHVuc3BlY2lmaWVkIFwiZXJyb3JcIiBldmVudC4nKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChpc1VuZGVmaW5lZChoYW5kbGVyKSlcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcbiAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIC8vIGZhc3QgY2FzZXNcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vIHNsb3dlclxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgYXJncyA9IG5ldyBBcnJheShsZW4gLSAxKTtcbiAgICAgICAgZm9yIChpID0gMTsgaSA8IGxlbjsgaSsrKVxuICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdChoYW5kbGVyKSkge1xuICAgIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgYXJncyA9IG5ldyBBcnJheShsZW4gLSAxKTtcbiAgICBmb3IgKGkgPSAxOyBpIDwgbGVuOyBpKyspXG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcblxuICAgIGxpc3RlbmVycyA9IGhhbmRsZXIuc2xpY2UoKTtcbiAgICBsZW4gPSBsaXN0ZW5lcnMubGVuZ3RoO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKylcbiAgICAgIGxpc3RlbmVyc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBtO1xuXG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gIGlmICh0aGlzLl9ldmVudHMubmV3TGlzdGVuZXIpXG4gICAgdGhpcy5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG4gICAgICAgICAgICAgIGlzRnVuY3Rpb24obGlzdGVuZXIubGlzdGVuZXIpID9cbiAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG4gIGVsc2UgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZVxuICAgIC8vIEFkZGluZyB0aGUgc2Vjb25kIGVsZW1lbnQsIG5lZWQgdG8gY2hhbmdlIHRvIGFycmF5LlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IFt0aGlzLl9ldmVudHNbdHlwZV0sIGxpc3RlbmVyXTtcblxuICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xuICBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSAmJiAhdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCkge1xuICAgIHZhciBtO1xuICAgIGlmICghaXNVbmRlZmluZWQodGhpcy5fbWF4TGlzdGVuZXJzKSkge1xuICAgICAgbSA9IHRoaXMuX21heExpc3RlbmVycztcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzO1xuICAgIH1cblxuICAgIGlmIChtICYmIG0gPiAwICYmIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGggPiBtKSB7XG4gICAgICB0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkID0gdHJ1ZTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJyhub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5ICcgK1xuICAgICAgICAgICAgICAgICAgICAnbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1VzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LicsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGgpO1xuICAgICAgaWYgKHR5cGVvZiBjb25zb2xlLnRyYWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIG5vdCBzdXBwb3J0ZWQgaW4gSUUgMTBcbiAgICAgICAgY29uc29sZS50cmFjZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICB2YXIgZmlyZWQgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBnKCkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgZyk7XG5cbiAgICBpZiAoIWZpcmVkKSB7XG4gICAgICBmaXJlZCA9IHRydWU7XG4gICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfVxuXG4gIGcubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgdGhpcy5vbih0eXBlLCBnKTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZmYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIGxpc3QsIHBvc2l0aW9uLCBsZW5ndGgsIGk7XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgbGlzdCA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgbGVuZ3RoID0gbGlzdC5sZW5ndGg7XG4gIHBvc2l0aW9uID0gLTE7XG5cbiAgaWYgKGxpc3QgPT09IGxpc3RlbmVyIHx8XG4gICAgICAoaXNGdW5jdGlvbihsaXN0Lmxpc3RlbmVyKSAmJiBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuXG4gIH0gZWxzZSBpZiAoaXNPYmplY3QobGlzdCkpIHtcbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSA+IDA7KSB7XG4gICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHxcbiAgICAgICAgICAobGlzdFtpXS5saXN0ZW5lciAmJiBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpIHtcbiAgICAgIGxpc3QubGVuZ3RoID0gMDtcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpc3Quc3BsaWNlKHBvc2l0aW9uLCAxKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBrZXksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICByZXR1cm4gdGhpcztcblxuICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gIGlmICghdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICBlbHNlIGlmICh0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgZm9yIChrZXkgaW4gdGhpcy5fZXZlbnRzKSB7XG4gICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChpc0Z1bmN0aW9uKGxpc3RlbmVycykpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gTElGTyBvcmRlclxuICAgIHdoaWxlIChsaXN0ZW5lcnMubGVuZ3RoKVxuICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbbGlzdGVuZXJzLmxlbmd0aCAtIDFdKTtcbiAgfVxuICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciByZXQ7XG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0ID0gW107XG4gIGVsc2UgaWYgKGlzRnVuY3Rpb24odGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICByZXQgPSBbdGhpcy5fZXZlbnRzW3R5cGVdXTtcbiAgZWxzZVxuICAgIHJldCA9IHRoaXMuX2V2ZW50c1t0eXBlXS5zbGljZSgpO1xuICByZXR1cm4gcmV0O1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIHZhciByZXQ7XG4gIGlmICghZW1pdHRlci5fZXZlbnRzIHx8ICFlbWl0dGVyLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0ID0gMDtcbiAgZWxzZSBpZiAoaXNGdW5jdGlvbihlbWl0dGVyLl9ldmVudHNbdHlwZV0pKVxuICAgIHJldCA9IDE7XG4gIGVsc2VcbiAgICByZXQgPSBlbWl0dGVyLl9ldmVudHNbdHlwZV0ubGVuZ3RoO1xuICByZXR1cm4gcmV0O1xufTtcblxuZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ251bWJlcic7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xufVxuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgc2V0VGltZW91dChkcmFpblF1ZXVlLCAwKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbi8vIFRPRE8oc2h0eWxtYW4pXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMuRGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4vbGliL0Rpc3BhdGNoZXInKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgRGlzcGF0Y2hlclxuICogXG4gKiBAcHJldmVudE11bmdlXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuXG52YXIgX3ByZWZpeCA9ICdJRF8nO1xuXG4vKipcbiAqIERpc3BhdGNoZXIgaXMgdXNlZCB0byBicm9hZGNhc3QgcGF5bG9hZHMgdG8gcmVnaXN0ZXJlZCBjYWxsYmFja3MuIFRoaXMgaXNcbiAqIGRpZmZlcmVudCBmcm9tIGdlbmVyaWMgcHViLXN1YiBzeXN0ZW1zIGluIHR3byB3YXlzOlxuICpcbiAqICAgMSkgQ2FsbGJhY2tzIGFyZSBub3Qgc3Vic2NyaWJlZCB0byBwYXJ0aWN1bGFyIGV2ZW50cy4gRXZlcnkgcGF5bG9hZCBpc1xuICogICAgICBkaXNwYXRjaGVkIHRvIGV2ZXJ5IHJlZ2lzdGVyZWQgY2FsbGJhY2suXG4gKiAgIDIpIENhbGxiYWNrcyBjYW4gYmUgZGVmZXJyZWQgaW4gd2hvbGUgb3IgcGFydCB1bnRpbCBvdGhlciBjYWxsYmFja3MgaGF2ZVxuICogICAgICBiZWVuIGV4ZWN1dGVkLlxuICpcbiAqIEZvciBleGFtcGxlLCBjb25zaWRlciB0aGlzIGh5cG90aGV0aWNhbCBmbGlnaHQgZGVzdGluYXRpb24gZm9ybSwgd2hpY2hcbiAqIHNlbGVjdHMgYSBkZWZhdWx0IGNpdHkgd2hlbiBhIGNvdW50cnkgaXMgc2VsZWN0ZWQ6XG4gKlxuICogICB2YXIgZmxpZ2h0RGlzcGF0Y2hlciA9IG5ldyBEaXNwYXRjaGVyKCk7XG4gKlxuICogICAvLyBLZWVwcyB0cmFjayBvZiB3aGljaCBjb3VudHJ5IGlzIHNlbGVjdGVkXG4gKiAgIHZhciBDb3VudHJ5U3RvcmUgPSB7Y291bnRyeTogbnVsbH07XG4gKlxuICogICAvLyBLZWVwcyB0cmFjayBvZiB3aGljaCBjaXR5IGlzIHNlbGVjdGVkXG4gKiAgIHZhciBDaXR5U3RvcmUgPSB7Y2l0eTogbnVsbH07XG4gKlxuICogICAvLyBLZWVwcyB0cmFjayBvZiB0aGUgYmFzZSBmbGlnaHQgcHJpY2Ugb2YgdGhlIHNlbGVjdGVkIGNpdHlcbiAqICAgdmFyIEZsaWdodFByaWNlU3RvcmUgPSB7cHJpY2U6IG51bGx9XG4gKlxuICogV2hlbiBhIHVzZXIgY2hhbmdlcyB0aGUgc2VsZWN0ZWQgY2l0eSwgd2UgZGlzcGF0Y2ggdGhlIHBheWxvYWQ6XG4gKlxuICogICBmbGlnaHREaXNwYXRjaGVyLmRpc3BhdGNoKHtcbiAqICAgICBhY3Rpb25UeXBlOiAnY2l0eS11cGRhdGUnLFxuICogICAgIHNlbGVjdGVkQ2l0eTogJ3BhcmlzJ1xuICogICB9KTtcbiAqXG4gKiBUaGlzIHBheWxvYWQgaXMgZGlnZXN0ZWQgYnkgYENpdHlTdG9yZWA6XG4gKlxuICogICBmbGlnaHREaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAqICAgICBpZiAocGF5bG9hZC5hY3Rpb25UeXBlID09PSAnY2l0eS11cGRhdGUnKSB7XG4gKiAgICAgICBDaXR5U3RvcmUuY2l0eSA9IHBheWxvYWQuc2VsZWN0ZWRDaXR5O1xuICogICAgIH1cbiAqICAgfSk7XG4gKlxuICogV2hlbiB0aGUgdXNlciBzZWxlY3RzIGEgY291bnRyeSwgd2UgZGlzcGF0Y2ggdGhlIHBheWxvYWQ6XG4gKlxuICogICBmbGlnaHREaXNwYXRjaGVyLmRpc3BhdGNoKHtcbiAqICAgICBhY3Rpb25UeXBlOiAnY291bnRyeS11cGRhdGUnLFxuICogICAgIHNlbGVjdGVkQ291bnRyeTogJ2F1c3RyYWxpYSdcbiAqICAgfSk7XG4gKlxuICogVGhpcyBwYXlsb2FkIGlzIGRpZ2VzdGVkIGJ5IGJvdGggc3RvcmVzOlxuICpcbiAqICAgQ291bnRyeVN0b3JlLmRpc3BhdGNoVG9rZW4gPSBmbGlnaHREaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAqICAgICBpZiAocGF5bG9hZC5hY3Rpb25UeXBlID09PSAnY291bnRyeS11cGRhdGUnKSB7XG4gKiAgICAgICBDb3VudHJ5U3RvcmUuY291bnRyeSA9IHBheWxvYWQuc2VsZWN0ZWRDb3VudHJ5O1xuICogICAgIH1cbiAqICAgfSk7XG4gKlxuICogV2hlbiB0aGUgY2FsbGJhY2sgdG8gdXBkYXRlIGBDb3VudHJ5U3RvcmVgIGlzIHJlZ2lzdGVyZWQsIHdlIHNhdmUgYSByZWZlcmVuY2VcbiAqIHRvIHRoZSByZXR1cm5lZCB0b2tlbi4gVXNpbmcgdGhpcyB0b2tlbiB3aXRoIGB3YWl0Rm9yKClgLCB3ZSBjYW4gZ3VhcmFudGVlXG4gKiB0aGF0IGBDb3VudHJ5U3RvcmVgIGlzIHVwZGF0ZWQgYmVmb3JlIHRoZSBjYWxsYmFjayB0aGF0IHVwZGF0ZXMgYENpdHlTdG9yZWBcbiAqIG5lZWRzIHRvIHF1ZXJ5IGl0cyBkYXRhLlxuICpcbiAqICAgQ2l0eVN0b3JlLmRpc3BhdGNoVG9rZW4gPSBmbGlnaHREaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAqICAgICBpZiAocGF5bG9hZC5hY3Rpb25UeXBlID09PSAnY291bnRyeS11cGRhdGUnKSB7XG4gKiAgICAgICAvLyBgQ291bnRyeVN0b3JlLmNvdW50cnlgIG1heSBub3QgYmUgdXBkYXRlZC5cbiAqICAgICAgIGZsaWdodERpc3BhdGNoZXIud2FpdEZvcihbQ291bnRyeVN0b3JlLmRpc3BhdGNoVG9rZW5dKTtcbiAqICAgICAgIC8vIGBDb3VudHJ5U3RvcmUuY291bnRyeWAgaXMgbm93IGd1YXJhbnRlZWQgdG8gYmUgdXBkYXRlZC5cbiAqXG4gKiAgICAgICAvLyBTZWxlY3QgdGhlIGRlZmF1bHQgY2l0eSBmb3IgdGhlIG5ldyBjb3VudHJ5XG4gKiAgICAgICBDaXR5U3RvcmUuY2l0eSA9IGdldERlZmF1bHRDaXR5Rm9yQ291bnRyeShDb3VudHJ5U3RvcmUuY291bnRyeSk7XG4gKiAgICAgfVxuICogICB9KTtcbiAqXG4gKiBUaGUgdXNhZ2Ugb2YgYHdhaXRGb3IoKWAgY2FuIGJlIGNoYWluZWQsIGZvciBleGFtcGxlOlxuICpcbiAqICAgRmxpZ2h0UHJpY2VTdG9yZS5kaXNwYXRjaFRva2VuID1cbiAqICAgICBmbGlnaHREaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAqICAgICAgIHN3aXRjaCAocGF5bG9hZC5hY3Rpb25UeXBlKSB7XG4gKiAgICAgICAgIGNhc2UgJ2NvdW50cnktdXBkYXRlJzpcbiAqICAgICAgICAgY2FzZSAnY2l0eS11cGRhdGUnOlxuICogICAgICAgICAgIGZsaWdodERpc3BhdGNoZXIud2FpdEZvcihbQ2l0eVN0b3JlLmRpc3BhdGNoVG9rZW5dKTtcbiAqICAgICAgICAgICBGbGlnaHRQcmljZVN0b3JlLnByaWNlID1cbiAqICAgICAgICAgICAgIGdldEZsaWdodFByaWNlU3RvcmUoQ291bnRyeVN0b3JlLmNvdW50cnksIENpdHlTdG9yZS5jaXR5KTtcbiAqICAgICAgICAgICBicmVhaztcbiAqICAgICB9XG4gKiAgIH0pO1xuICpcbiAqIFRoZSBgY291bnRyeS11cGRhdGVgIHBheWxvYWQgd2lsbCBiZSBndWFyYW50ZWVkIHRvIGludm9rZSB0aGUgc3RvcmVzJ1xuICogcmVnaXN0ZXJlZCBjYWxsYmFja3MgaW4gb3JkZXI6IGBDb3VudHJ5U3RvcmVgLCBgQ2l0eVN0b3JlYCwgdGhlblxuICogYEZsaWdodFByaWNlU3RvcmVgLlxuICovXG5cbnZhciBEaXNwYXRjaGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRGlzcGF0Y2hlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGlzcGF0Y2hlcik7XG5cbiAgICB0aGlzLl9jYWxsYmFja3MgPSB7fTtcbiAgICB0aGlzLl9pc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG4gICAgdGhpcy5faXNIYW5kbGVkID0ge307XG4gICAgdGhpcy5faXNQZW5kaW5nID0ge307XG4gICAgdGhpcy5fbGFzdElEID0gMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBjYWxsYmFjayB0byBiZSBpbnZva2VkIHdpdGggZXZlcnkgZGlzcGF0Y2hlZCBwYXlsb2FkLiBSZXR1cm5zXG4gICAqIGEgdG9rZW4gdGhhdCBjYW4gYmUgdXNlZCB3aXRoIGB3YWl0Rm9yKClgLlxuICAgKi9cblxuICBEaXNwYXRjaGVyLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uIHJlZ2lzdGVyKGNhbGxiYWNrKSB7XG4gICAgdmFyIGlkID0gX3ByZWZpeCArIHRoaXMuX2xhc3RJRCsrO1xuICAgIHRoaXMuX2NhbGxiYWNrc1tpZF0gPSBjYWxsYmFjaztcbiAgICByZXR1cm4gaWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBjYWxsYmFjayBiYXNlZCBvbiBpdHMgdG9rZW4uXG4gICAqL1xuXG4gIERpc3BhdGNoZXIucHJvdG90eXBlLnVucmVnaXN0ZXIgPSBmdW5jdGlvbiB1bnJlZ2lzdGVyKGlkKSB7XG4gICAgIXRoaXMuX2NhbGxiYWNrc1tpZF0gPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRGlzcGF0Y2hlci51bnJlZ2lzdGVyKC4uLik6IGAlc2AgZG9lcyBub3QgbWFwIHRvIGEgcmVnaXN0ZXJlZCBjYWxsYmFjay4nLCBpZCkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbaWRdO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXYWl0cyBmb3IgdGhlIGNhbGxiYWNrcyBzcGVjaWZpZWQgdG8gYmUgaW52b2tlZCBiZWZvcmUgY29udGludWluZyBleGVjdXRpb25cbiAgICogb2YgdGhlIGN1cnJlbnQgY2FsbGJhY2suIFRoaXMgbWV0aG9kIHNob3VsZCBvbmx5IGJlIHVzZWQgYnkgYSBjYWxsYmFjayBpblxuICAgKiByZXNwb25zZSB0byBhIGRpc3BhdGNoZWQgcGF5bG9hZC5cbiAgICovXG5cbiAgRGlzcGF0Y2hlci5wcm90b3R5cGUud2FpdEZvciA9IGZ1bmN0aW9uIHdhaXRGb3IoaWRzKSB7XG4gICAgIXRoaXMuX2lzRGlzcGF0Y2hpbmcgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRGlzcGF0Y2hlci53YWl0Rm9yKC4uLik6IE11c3QgYmUgaW52b2tlZCB3aGlsZSBkaXNwYXRjaGluZy4nKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGlkcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgIHZhciBpZCA9IGlkc1tpaV07XG4gICAgICBpZiAodGhpcy5faXNQZW5kaW5nW2lkXSkge1xuICAgICAgICAhdGhpcy5faXNIYW5kbGVkW2lkXSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdEaXNwYXRjaGVyLndhaXRGb3IoLi4uKTogQ2lyY3VsYXIgZGVwZW5kZW5jeSBkZXRlY3RlZCB3aGlsZSAnICsgJ3dhaXRpbmcgZm9yIGAlc2AuJywgaWQpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICAhdGhpcy5fY2FsbGJhY2tzW2lkXSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdEaXNwYXRjaGVyLndhaXRGb3IoLi4uKTogYCVzYCBkb2VzIG5vdCBtYXAgdG8gYSByZWdpc3RlcmVkIGNhbGxiYWNrLicsIGlkKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9pbnZva2VDYWxsYmFjayhpZCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBEaXNwYXRjaGVzIGEgcGF5bG9hZCB0byBhbGwgcmVnaXN0ZXJlZCBjYWxsYmFja3MuXG4gICAqL1xuXG4gIERpc3BhdGNoZXIucHJvdG90eXBlLmRpc3BhdGNoID0gZnVuY3Rpb24gZGlzcGF0Y2gocGF5bG9hZCkge1xuICAgICEhdGhpcy5faXNEaXNwYXRjaGluZyA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdEaXNwYXRjaC5kaXNwYXRjaCguLi4pOiBDYW5ub3QgZGlzcGF0Y2ggaW4gdGhlIG1pZGRsZSBvZiBhIGRpc3BhdGNoLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9zdGFydERpc3BhdGNoaW5nKHBheWxvYWQpO1xuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLl9jYWxsYmFja3MpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzUGVuZGluZ1tpZF0pIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbnZva2VDYWxsYmFjayhpZCk7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRoaXMuX3N0b3BEaXNwYXRjaGluZygpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogSXMgdGhpcyBEaXNwYXRjaGVyIGN1cnJlbnRseSBkaXNwYXRjaGluZy5cbiAgICovXG5cbiAgRGlzcGF0Y2hlci5wcm90b3R5cGUuaXNEaXNwYXRjaGluZyA9IGZ1bmN0aW9uIGlzRGlzcGF0Y2hpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzRGlzcGF0Y2hpbmc7XG4gIH07XG5cbiAgLyoqXG4gICAqIENhbGwgdGhlIGNhbGxiYWNrIHN0b3JlZCB3aXRoIHRoZSBnaXZlbiBpZC4gQWxzbyBkbyBzb21lIGludGVybmFsXG4gICAqIGJvb2trZWVwaW5nLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG5cbiAgRGlzcGF0Y2hlci5wcm90b3R5cGUuX2ludm9rZUNhbGxiYWNrID0gZnVuY3Rpb24gX2ludm9rZUNhbGxiYWNrKGlkKSB7XG4gICAgdGhpcy5faXNQZW5kaW5nW2lkXSA9IHRydWU7XG4gICAgdGhpcy5fY2FsbGJhY2tzW2lkXSh0aGlzLl9wZW5kaW5nUGF5bG9hZCk7XG4gICAgdGhpcy5faXNIYW5kbGVkW2lkXSA9IHRydWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB1cCBib29ra2VlcGluZyBuZWVkZWQgd2hlbiBkaXNwYXRjaGluZy5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuXG4gIERpc3BhdGNoZXIucHJvdG90eXBlLl9zdGFydERpc3BhdGNoaW5nID0gZnVuY3Rpb24gX3N0YXJ0RGlzcGF0Y2hpbmcocGF5bG9hZCkge1xuICAgIGZvciAodmFyIGlkIGluIHRoaXMuX2NhbGxiYWNrcykge1xuICAgICAgdGhpcy5faXNQZW5kaW5nW2lkXSA9IGZhbHNlO1xuICAgICAgdGhpcy5faXNIYW5kbGVkW2lkXSA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLl9wZW5kaW5nUGF5bG9hZCA9IHBheWxvYWQ7XG4gICAgdGhpcy5faXNEaXNwYXRjaGluZyA9IHRydWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIENsZWFyIGJvb2trZWVwaW5nIHVzZWQgZm9yIGRpc3BhdGNoaW5nLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG5cbiAgRGlzcGF0Y2hlci5wcm90b3R5cGUuX3N0b3BEaXNwYXRjaGluZyA9IGZ1bmN0aW9uIF9zdG9wRGlzcGF0Y2hpbmcoKSB7XG4gICAgZGVsZXRlIHRoaXMuX3BlbmRpbmdQYXlsb2FkO1xuICAgIHRoaXMuX2lzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcbiAgfTtcblxuICByZXR1cm4gRGlzcGF0Y2hlcjtcbn0pKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gRGlzcGF0Y2hlcjsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgaW52YXJpYW50XG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbnZhciBpbnZhcmlhbnQgPSBmdW5jdGlvbiAoY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIHZhciBlcnJvcjtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKCdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICsgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKCdJbnZhcmlhbnQgVmlvbGF0aW9uOiAnICsgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgZXJyb3IuZnJhbWVzVG9Qb3AgPSAxOyAvLyB3ZSBkb24ndCBjYXJlIGFib3V0IGludmFyaWFudCdzIG93biBmcmFtZVxuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTQgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQ29uc3RydWN0cyBhbiBlbnVtZXJhdGlvbiB3aXRoIGtleXMgZXF1YWwgdG8gdGhlaXIgdmFsdWUuXG4gKlxuICogRm9yIGV4YW1wbGU6XG4gKlxuICogICB2YXIgQ09MT1JTID0ga2V5TWlycm9yKHtibHVlOiBudWxsLCByZWQ6IG51bGx9KTtcbiAqICAgdmFyIG15Q29sb3IgPSBDT0xPUlMuYmx1ZTtcbiAqICAgdmFyIGlzQ29sb3JWYWxpZCA9ICEhQ09MT1JTW215Q29sb3JdO1xuICpcbiAqIFRoZSBsYXN0IGxpbmUgY291bGQgbm90IGJlIHBlcmZvcm1lZCBpZiB0aGUgdmFsdWVzIG9mIHRoZSBnZW5lcmF0ZWQgZW51bSB3ZXJlXG4gKiBub3QgZXF1YWwgdG8gdGhlaXIga2V5cy5cbiAqXG4gKiAgIElucHV0OiAge2tleTE6IHZhbDEsIGtleTI6IHZhbDJ9XG4gKiAgIE91dHB1dDoge2tleTE6IGtleTEsIGtleTI6IGtleTJ9XG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9ialxuICogQHJldHVybiB7b2JqZWN0fVxuICovXG52YXIga2V5TWlycm9yID0gZnVuY3Rpb24ob2JqKSB7XG4gIHZhciByZXQgPSB7fTtcbiAgdmFyIGtleTtcbiAgaWYgKCEob2JqIGluc3RhbmNlb2YgT2JqZWN0ICYmICFBcnJheS5pc0FycmF5KG9iaikpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdrZXlNaXJyb3IoLi4uKTogQXJndW1lbnQgbXVzdCBiZSBhbiBvYmplY3QuJyk7XG4gIH1cbiAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgaWYgKCFvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHJldFtrZXldID0ga2V5O1xuICB9XG4gIHJldHVybiByZXQ7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGtleU1pcnJvcjtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCk7XG5cbnZhciBTdHlsZSA9IHJlcXVpcmUoJy4vc3R5bGUuanMnKTtcbnZhciBwcmludFN0eWxlcyA9IHJlcXVpcmUoJy4uL3ByaW50LXN0eWxlcy5qcycpO1xuXG52YXIgUHJpbnRTdHlsZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdQcmludFN0eWxlJyxcblxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0U3R5bGVzU3RhdGUoKTtcbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb24gPSBwcmludFN0eWxlcy5zdWJzY3JpYmUodGhpcy5fb25DaGFuZ2UpO1xuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbi5yZW1vdmUoKTtcbiAgfSxcblxuICBfb25DaGFuZ2U6IGZ1bmN0aW9uIF9vbkNoYW5nZSgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHRoaXMuX2dldFN0eWxlc1N0YXRlKCkpO1xuICB9LFxuXG4gIF9nZXRTdHlsZXNTdGF0ZTogZnVuY3Rpb24gX2dldFN0eWxlc1N0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzdHlsZXM6IHByaW50U3R5bGVzLmdldFByaW50U3R5bGVzKClcbiAgICB9O1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlLCB7IHJ1bGVzOiB7XG4gICAgICAgIG1lZGlhUXVlcmllczoge1xuICAgICAgICAgIHByaW50OiB0aGlzLnN0YXRlLnN0eWxlc1xuICAgICAgICB9XG4gICAgICB9IH0pO1xuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBQcmludFN0eWxlOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIGNyZWF0ZU1hcmt1cEZvclN0eWxlcyA9IHJlcXVpcmUoJy4uL2NyZWF0ZS1tYXJrdXAtZm9yLXN0eWxlcycpO1xudmFyIFByZWZpeGVyID0gcmVxdWlyZSgnLi4vcHJlZml4ZXInKTtcblxudmFyIFJlYWN0ID0gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ1JlYWN0J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydSZWFjdCddIDogbnVsbCk7XG5cbnZhciBidWlsZENzc1N0cmluZyA9IGZ1bmN0aW9uIGJ1aWxkQ3NzU3RyaW5nKGNvbXBvbmVudCwgc2VsZWN0b3IsIHJ1bGVzKSB7XG4gIGlmICghc2VsZWN0b3IgfHwgIXJ1bGVzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHByZWZpeGVkUnVsZXMgPSBQcmVmaXhlci5nZXRQcmVmaXhlZFN0eWxlKGNvbXBvbmVudCwgcnVsZXMsICdjc3MnKTtcbiAgdmFyIHNlcmlhbGl6ZWRSdWxlcyA9IGNyZWF0ZU1hcmt1cEZvclN0eWxlcyhwcmVmaXhlZFJ1bGVzKTtcblxuICByZXR1cm4gc2VsZWN0b3IgKyAneycgKyBzZXJpYWxpemVkUnVsZXMgKyAnfSc7XG59O1xuXG52YXIgU3R5bGUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnU3R5bGUnLFxuXG4gIHByb3BUeXBlczoge1xuICAgIHJ1bGVzOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICAgIHNjb3BlU2VsZWN0b3I6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmdcbiAgfSxcblxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2NvcGVTZWxlY3RvcjogJydcbiAgICB9O1xuICB9LFxuXG4gIF9idWlsZFN0eWxlczogZnVuY3Rpb24gX2J1aWxkU3R5bGVzKHN0eWxlcykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICByZXR1cm4gT2JqZWN0LmtleXMoc3R5bGVzKS5yZWR1Y2UoZnVuY3Rpb24gKGFjY3VtdWxhdG9yLCBzZWxlY3Rvcikge1xuICAgICAgdmFyIHJ1bGVzID0gc3R5bGVzW3NlbGVjdG9yXTtcblxuICAgICAgaWYgKHNlbGVjdG9yID09PSAnbWVkaWFRdWVyaWVzJykge1xuICAgICAgICBhY2N1bXVsYXRvciArPSBfdGhpcy5fYnVpbGRNZWRpYVF1ZXJ5U3RyaW5nKHJ1bGVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBjb21wbGV0ZVNlbGVjdG9yID0gKF90aGlzLnByb3BzLnNjb3BlU2VsZWN0b3IgPyBfdGhpcy5wcm9wcy5zY29wZVNlbGVjdG9yICsgJyAnIDogJycpICsgc2VsZWN0b3I7XG4gICAgICAgIGFjY3VtdWxhdG9yICs9IGJ1aWxkQ3NzU3RyaW5nKF90aGlzLCBjb21wbGV0ZVNlbGVjdG9yLCBydWxlcyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9LCAnJyk7XG4gIH0sXG5cbiAgX2J1aWxkTWVkaWFRdWVyeVN0cmluZzogZnVuY3Rpb24gX2J1aWxkTWVkaWFRdWVyeVN0cmluZyhtZWRpYVF1ZXJ5T2JqKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgY29udGV4dE1lZGlhUXVlcmllcyA9IHRoaXMuX2dldENvbnRleHRNZWRpYVF1ZXJpZXMoKTtcbiAgICB2YXIgbWVkaWFRdWVyeVN0cmluZyA9ICcnO1xuXG4gICAgT2JqZWN0LmtleXMobWVkaWFRdWVyeU9iaikuZm9yRWFjaChmdW5jdGlvbiAocXVlcnkpIHtcbiAgICAgIHZhciBjb21wbGV0ZVF1ZXJ5ID0gY29udGV4dE1lZGlhUXVlcmllc1txdWVyeV0gPyBjb250ZXh0TWVkaWFRdWVyaWVzW3F1ZXJ5XSA6IHF1ZXJ5O1xuICAgICAgbWVkaWFRdWVyeVN0cmluZyArPSAnQG1lZGlhICcgKyBjb21wbGV0ZVF1ZXJ5ICsgJ3snICsgX3RoaXMyLl9idWlsZFN0eWxlcyhtZWRpYVF1ZXJ5T2JqW3F1ZXJ5XSkgKyAnfSc7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbWVkaWFRdWVyeVN0cmluZztcbiAgfSxcblxuICBfZ2V0Q29udGV4dE1lZGlhUXVlcmllczogZnVuY3Rpb24gX2dldENvbnRleHRNZWRpYVF1ZXJpZXMoKSB7XG4gICAgdmFyIGNvbnRleHRNZWRpYVF1ZXJpZXMgPSB7fTtcbiAgICBpZiAodGhpcy5jb250ZXh0ICYmIHRoaXMuY29udGV4dC5tZWRpYVF1ZXJpZXMpIHtcbiAgICAgIE9iamVjdC5rZXlzKHRoaXMuY29udGV4dC5tZWRpYVF1ZXJpZXMpLmZvckVhY2goKGZ1bmN0aW9uIChxdWVyeSkge1xuICAgICAgICBjb250ZXh0TWVkaWFRdWVyaWVzW3F1ZXJ5XSA9IHRoaXMuY29udGV4dC5tZWRpYVF1ZXJpZXNbcXVlcnldLm1lZGlhO1xuICAgICAgfSkuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbnRleHRNZWRpYVF1ZXJpZXM7XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnJ1bGVzKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgc3R5bGVzID0gdGhpcy5fYnVpbGRTdHlsZXModGhpcy5wcm9wcy5ydWxlcyk7XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgnc3R5bGUnLCB7IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7IF9faHRtbDogc3R5bGVzIH0gfSk7XG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN0eWxlOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZXhlbnYnKTtcblxudmFyIF9tYXRjaE1lZGlhRnVuY3Rpb24gPSBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgd2luZG93ICYmIHdpbmRvdy5tYXRjaE1lZGlhICYmIGZ1bmN0aW9uIChtZWRpYVF1ZXJ5U3RyaW5nKSB7XG4gIHJldHVybiB3aW5kb3cubWF0Y2hNZWRpYShtZWRpYVF1ZXJ5U3RyaW5nKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjYW5NYXRjaE1lZGlhOiBmdW5jdGlvbiBjYW5NYXRjaE1lZGlhKCkge1xuICAgIHJldHVybiB0eXBlb2YgX21hdGNoTWVkaWFGdW5jdGlvbiA9PT0gJ2Z1bmN0aW9uJztcbiAgfSxcblxuICBtYXRjaE1lZGlhOiBmdW5jdGlvbiBtYXRjaE1lZGlhKHF1ZXJ5KSB7XG4gICAgcmV0dXJuIF9tYXRjaE1lZGlhRnVuY3Rpb24ocXVlcnkpO1xuICB9LFxuXG4gIHNldE1hdGNoTWVkaWE6IGZ1bmN0aW9uIHNldE1hdGNoTWVkaWEobmV4dE1hdGNoTWVkaWFGdW5jdGlvbikge1xuICAgIF9tYXRjaE1lZGlhRnVuY3Rpb24gPSBuZXh0TWF0Y2hNZWRpYUZ1bmN0aW9uO1xuICB9XG59OyIsIid1c2Ugc3RyaWN0JztcblxudmFyIGNyZWF0ZU1hcmt1cEZvclN0eWxlcyA9IGZ1bmN0aW9uIGNyZWF0ZU1hcmt1cEZvclN0eWxlcyhzdHlsZSwgc3BhY2VzKSB7XG4gIHNwYWNlcyA9IHNwYWNlcyB8fCAnJztcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHN0eWxlKS5tYXAoZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgcmV0dXJuIHNwYWNlcyArIHByb3BlcnR5ICsgJzogJyArIHN0eWxlW3Byb3BlcnR5XSArICc7JztcbiAgfSkuam9pbignXFxuJyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZU1hcmt1cEZvclN0eWxlczsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbnZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBkZXNjID0gcGFyZW50ID0gZ2V0dGVyID0gdW5kZWZpbmVkOyBfYWdhaW4gPSBmYWxzZTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciByZXNvbHZlU3R5bGVzID0gcmVxdWlyZSgnLi9yZXNvbHZlLXN0eWxlcy5qcycpO1xudmFyIHByaW50U3R5bGVzID0gcmVxdWlyZSgnLi9wcmludC1zdHlsZXMuanMnKTtcblxudmFyIGVuaGFuY2VXaXRoUmFkaXVtID0gZnVuY3Rpb24gZW5oYW5jZVdpdGhSYWRpdW0oQ29tcG9zZWRDb21wb25lbnQpIHtcbiAgdmFyIFJhZGl1bUVuaGFuY2VyID0gKGZ1bmN0aW9uIChfQ29tcG9zZWRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoUmFkaXVtRW5oYW5jZXIsIF9Db21wb3NlZENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBSYWRpdW1FbmhhbmNlcigpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSYWRpdW1FbmhhbmNlcik7XG5cbiAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFJhZGl1bUVuaGFuY2VyLnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLnN0YXRlIHx8IHt9O1xuICAgICAgdGhpcy5zdGF0ZS5fcmFkaXVtU3R5bGVTdGF0ZSA9IHt9O1xuXG4gICAgICBpZiAoUmFkaXVtRW5oYW5jZXIucHJpbnRTdHlsZUNsYXNzKSB7XG4gICAgICAgIHRoaXMucHJpbnRTdHlsZUNsYXNzID0gUmFkaXVtRW5oYW5jZXIucHJpbnRTdHlsZUNsYXNzO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENsYXNzIGluaGVyaXRhbmNlIHVzZXMgT2JqZWN0LmNyZWF0ZSBhbmQgYmVjYXVzZSBvZiBfX3Byb3RvX18gaXNzdWVzXG4gICAgLy8gd2l0aCBJRSA8MTAgYW55IHN0YXRpYyBwcm9wZXJ0aWVzIG9mIHRoZSBzdXBlcmNsYXNzIGFyZW4ndCBpbmhlcml0ZWQgYW5kXG4gICAgLy8gc28gbmVlZCB0byBiZSBtYW51YWxseSBwb3B1bGF0ZWRcbiAgICAvLyBTZWUgaHR0cDovL2JhYmVsanMuaW8vZG9jcy9hZHZhbmNlZC9jYXZlYXRzLyNjbGFzc2VzLTEwLWFuZC1iZWxvdy1cbiAgICAvLyBUaGlzIGFsc28gZml4ZXMgUmVhY3QgSG90IExvYWRlciBieSBleHBvc2luZyB0aGUgb3JpZ2luYWwgY29tcG9uZW50cyB0b3AgbGV2ZWxcbiAgICAvLyBwcm90b3R5cGUgbWV0aG9kcyBvbiB0aGUgUmFkaXVtIGVuaGFuY2VkIHByb3RvdHlwZSBhcyBkaXNjdXNzZWQgaW4gIzIxOS5cblxuICAgIF9jcmVhdGVDbGFzcyhSYWRpdW1FbmhhbmNlciwgW3tcbiAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgcmVuZGVyZWRFbGVtZW50ID0gX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmFkaXVtRW5oYW5jZXIucHJvdG90eXBlKSwgJ3JlbmRlcicsIHRoaXMpLmNhbGwodGhpcyk7XG4gICAgICAgIHJldHVybiByZXNvbHZlU3R5bGVzKHRoaXMsIHJlbmRlcmVkRWxlbWVudCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBpZiAoX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmFkaXVtRW5oYW5jZXIucHJvdG90eXBlKSwgJ2NvbXBvbmVudFdpbGxVbm1vdW50JywgdGhpcykpIHtcbiAgICAgICAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihSYWRpdW1FbmhhbmNlci5wcm90b3R5cGUpLCAnY29tcG9uZW50V2lsbFVubW91bnQnLCB0aGlzKS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3JhZGl1bU1vdXNlVXBMaXN0ZW5lcikge1xuICAgICAgICAgIHRoaXMuX3JhZGl1bU1vdXNlVXBMaXN0ZW5lci5yZW1vdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9yYWRpdW1NZWRpYVF1ZXJ5TGlzdGVuZXJzQnlRdWVyeSkge1xuICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuX3JhZGl1bU1lZGlhUXVlcnlMaXN0ZW5lcnNCeVF1ZXJ5KS5mb3JFYWNoKGZ1bmN0aW9uIChxdWVyeSkge1xuICAgICAgICAgICAgdGhpcy5fcmFkaXVtTWVkaWFRdWVyeUxpc3RlbmVyc0J5UXVlcnlbcXVlcnldLnJlbW92ZSgpO1xuICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFJhZGl1bUVuaGFuY2VyO1xuICB9KShDb21wb3NlZENvbXBvbmVudCk7XG5cbiAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoQ29tcG9zZWRDb21wb25lbnQucHJvdG90eXBlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoIVJhZGl1bUVuaGFuY2VyLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoQ29tcG9zZWRDb21wb25lbnQucHJvdG90eXBlLCBrZXkpO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJhZGl1bUVuaGFuY2VyLnByb3RvdHlwZSwga2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH0pO1xuXG4gIFJhZGl1bUVuaGFuY2VyLmRpc3BsYXlOYW1lID0gQ29tcG9zZWRDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9zZWRDb21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50JztcblxuICBSYWRpdW1FbmhhbmNlci5wcmludFN0eWxlQ2xhc3MgPSBwcmludFN0eWxlcy5hZGRQcmludFN0eWxlcyhSYWRpdW1FbmhhbmNlcik7XG5cbiAgcmV0dXJuIFJhZGl1bUVuaGFuY2VyO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBlbmhhbmNlV2l0aFJhZGl1bTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBnZXRTdGF0ZUtleSA9IGZ1bmN0aW9uIGdldFN0YXRlS2V5KGVsZW1lbnRLZXkpIHtcbiAgcmV0dXJuIGVsZW1lbnRLZXkgPT09IG51bGwgfHwgZWxlbWVudEtleSA9PT0gdW5kZWZpbmVkID8gJ21haW4nIDogZWxlbWVudEtleS50b1N0cmluZygpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBnZXRTdGF0ZUtleTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBnZXRTdGF0ZUtleSA9IHJlcXVpcmUoJy4vZ2V0LXN0YXRlLWtleScpO1xuXG52YXIgVkFMSURfS0VZUyA9IFsnOmFjdGl2ZScsICc6Zm9jdXMnLCAnOmhvdmVyJ107XG5cbnZhciBnZXRTdGF0ZSA9IGZ1bmN0aW9uIGdldFN0YXRlKHN0YXRlLCBlbGVtZW50S2V5LCB2YWx1ZSkge1xuICBpZiAoVkFMSURfS0VZUy5pbmRleE9mKHZhbHVlKSA9PT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1JhZGl1bS5nZXRTdGF0ZSBpbnZhbGlkIHZhbHVlIHBhcmFtOiBgJyArIHZhbHVlICsgJ2AnKTtcbiAgfVxuXG4gIHZhciBrZXkgPSBnZXRTdGF0ZUtleShlbGVtZW50S2V5KTtcblxuICByZXR1cm4gISEoc3RhdGUgJiYgc3RhdGUuX3JhZGl1bVN0eWxlU3RhdGUgJiYgc3RhdGUuX3JhZGl1bVN0eWxlU3RhdGVba2V5XSAmJiBzdGF0ZS5fcmFkaXVtU3R5bGVTdGF0ZVtrZXldW3ZhbHVlXSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFN0YXRlOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIEVuaGFuY2VyID0gcmVxdWlyZSgnLi9lbmhhbmNlcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChDb21wb3NlZENvbXBvbmVudCkge1xuICByZXR1cm4gRW5oYW5jZXIoQ29tcG9zZWRDb21wb25lbnQpO1xufTtcbm1vZHVsZS5leHBvcnRzLlN0eWxlID0gcmVxdWlyZSgnLi9jb21wb25lbnRzL3N0eWxlJyk7XG5tb2R1bGUuZXhwb3J0cy5QcmludFN0eWxlU2hlZXQgPSByZXF1aXJlKCcuL2NvbXBvbmVudHMvcHJpbnQtc3R5bGUtc2hlZXQnKTtcbm1vZHVsZS5leHBvcnRzLmdldFN0YXRlID0gcmVxdWlyZSgnLi9nZXQtc3RhdGUnKTtcbm1vZHVsZS5leHBvcnRzLmtleWZyYW1lcyA9IHJlcXVpcmUoJy4va2V5ZnJhbWVzJyk7XG5tb2R1bGUuZXhwb3J0cy5Db25maWcgPSByZXF1aXJlKCcuL2NvbmZpZycpOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIGNyZWF0ZU1hcmt1cEZvclN0eWxlcyA9IHJlcXVpcmUoJy4vY3JlYXRlLW1hcmt1cC1mb3Itc3R5bGVzJyk7XG52YXIgUHJlZml4ZXIgPSByZXF1aXJlKCcuL3ByZWZpeGVyJyk7XG5cbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJ2V4ZW52Jyk7XG5cbnZhciBpc0FuaW1hdGlvblN1cHBvcnRlZCA9IEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiBQcmVmaXhlci5nZXRQcmVmaXhlZFByb3BlcnR5TmFtZSgnYW5pbWF0aW9uJykgIT09IGZhbHNlO1xuXG52YXIgYW5pbWF0aW9uSW5kZXggPSAxO1xudmFyIGFuaW1hdGlvblN0eWxlU2hlZXQgPSBudWxsO1xudmFyIGtleWZyYW1lc1ByZWZpeGVkID0gJ2tleWZyYW1lcyc7XG5cbmlmIChpc0FuaW1hdGlvblN1cHBvcnRlZCkge1xuICBhbmltYXRpb25TdHlsZVNoZWV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChhbmltYXRpb25TdHlsZVNoZWV0KTtcblxuICAvLyBUZXN0IGlmIHByZWZpeCBuZWVkZWQgZm9yIGtleWZyYW1lcyAoY29waWVkIGZyb20gUHJlZml4RnJlZSlcbiAgYW5pbWF0aW9uU3R5bGVTaGVldC50ZXh0Q29udGVudCA9ICdAa2V5ZnJhbWVzIHt9JztcbiAgaWYgKCFhbmltYXRpb25TdHlsZVNoZWV0LnNoZWV0LmNzc1J1bGVzLmxlbmd0aCkge1xuICAgIGtleWZyYW1lc1ByZWZpeGVkID0gUHJlZml4ZXIuY3NzUHJlZml4ICsgJ2tleWZyYW1lcyc7XG4gIH1cbn1cblxuLy8gU2ltcGxlIGFuaW1hdGlvbiBoZWxwZXIgdGhhdCBpbmplY3RzIENTUyBpbnRvIGEgc3R5bGUgb2JqZWN0IGNvbnRhaW5pbmcgdGhlXG4vLyBrZXlmcmFtZXMsIGFuZCByZXR1cm5zIGEgc3RyaW5nIHdpdGggdGhlIGdlbmVyYXRlZCBhbmltYXRpb24gbmFtZS5cbnZhciBrZXlmcmFtZXMgPSBmdW5jdGlvbiBrZXlmcmFtZXMoa2V5ZnJhbWVSdWxlcywgY29tcG9uZW50KSB7XG4gIHZhciBuYW1lID0gJ0FuaW1hdGlvbicgKyBhbmltYXRpb25JbmRleDtcbiAgYW5pbWF0aW9uSW5kZXggKz0gMTtcblxuICBpZiAoIWlzQW5pbWF0aW9uU3VwcG9ydGVkKSB7XG4gICAgcmV0dXJuIG5hbWU7XG4gIH1cblxuICB2YXIgcnVsZSA9ICdAJyArIGtleWZyYW1lc1ByZWZpeGVkICsgJyAnICsgbmFtZSArICcge1xcbicgKyBPYmplY3Qua2V5cyhrZXlmcmFtZVJ1bGVzKS5tYXAoZnVuY3Rpb24gKHBlcmNlbnRhZ2UpIHtcbiAgICB2YXIgcHJvcHMgPSBrZXlmcmFtZVJ1bGVzW3BlcmNlbnRhZ2VdO1xuICAgIHZhciBwcmVmaXhlZFByb3BzID0gUHJlZml4ZXIuZ2V0UHJlZml4ZWRTdHlsZShjb21wb25lbnQsIHByb3BzLCAnY3NzJyk7XG4gICAgdmFyIHNlcmlhbGl6ZWRQcm9wcyA9IGNyZWF0ZU1hcmt1cEZvclN0eWxlcyhwcmVmaXhlZFByb3BzLCAnICAnKTtcbiAgICByZXR1cm4gJyAgJyArIHBlcmNlbnRhZ2UgKyAnIHtcXG4gICcgKyBzZXJpYWxpemVkUHJvcHMgKyAnXFxuICB9JztcbiAgfSkuam9pbignXFxuJykgKyAnXFxufVxcbic7XG5cbiAgLy8gZm9yIGZsb3dcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKCFhbmltYXRpb25TdHlsZVNoZWV0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdrZXlmcmFtZXMgbm90IGluaXRpYWxpemVkIHByb3Blcmx5Jyk7XG4gIH1cblxuICBhbmltYXRpb25TdHlsZVNoZWV0LnNoZWV0Lmluc2VydFJ1bGUocnVsZSwgYW5pbWF0aW9uU3R5bGVTaGVldC5zaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICByZXR1cm4gbmFtZTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ga2V5ZnJhbWVzOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIF9jYWxsYmFja3MgPSBbXTtcbnZhciBfbW91c2VVcExpc3RlbmVySXNBY3RpdmUgPSBmYWxzZTtcblxudmFyIF9oYW5kbGVNb3VzZVVwID0gZnVuY3Rpb24gX2hhbmRsZU1vdXNlVXAoZXYpIHtcbiAgX2NhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKGV2KTtcbiAgfSk7XG59O1xuXG52YXIgc3Vic2NyaWJlID0gZnVuY3Rpb24gc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4gIGlmIChfY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spID09PSAtMSkge1xuICAgIF9jYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gIH1cblxuICBpZiAoIV9tb3VzZVVwTGlzdGVuZXJJc0FjdGl2ZSkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgX2hhbmRsZU1vdXNlVXApO1xuICAgIF9tb3VzZVVwTGlzdGVuZXJJc0FjdGl2ZSA9IHRydWU7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgdmFyIGluZGV4ID0gX2NhbGxiYWNrcy5pbmRleE9mKGNhbGxiYWNrKTtcbiAgICAgIF9jYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcblxuICAgICAgaWYgKF9jYWxsYmFja3MubGVuZ3RoID09PSAwICYmIF9tb3VzZVVwTGlzdGVuZXJJc0FjdGl2ZSkge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIF9oYW5kbGVNb3VzZVVwKTtcbiAgICAgICAgX21vdXNlVXBMaXN0ZW5lcklzQWN0aXZlID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHN1YnNjcmliZTogc3Vic2NyaWJlXG59OyIsIi8qKlxuICogQmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL2pzc3R5bGVzL2Nzcy12ZW5kb3IsIGJ1dCB3aXRob3V0IGhhdmluZyB0b1xuICogY29udmVydCBiZXR3ZWVuIGRpZmZlcmVudCBjYXNlcyBhbGwgdGhlIHRpbWUuXG4gKlxuICogXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCdleGVudicpO1xudmFyIGFycmF5RmluZCA9IHJlcXVpcmUoJ2FycmF5LWZpbmQnKTtcblxudmFyIFZFTkRPUl9QUkVGSVhfUkVHRVggPSAvLShtb3p8d2Via2l0fG1zfG8pLS87XG5cbnZhciB2ZW5kb3JQcmVmaXhlcyA9IFsnV2Via2l0JywgJ21zJywgJ01veicsICdPJ107XG5cbnZhciBpbmZvQnlDc3NQcmVmaXggPSB7XG4gICctbW96LSc6IHtcbiAgICBjc3NQcmVmaXg6ICctbW96LScsXG4gICAganNQcmVmaXg6ICdNb3onLFxuICAgIGFsdGVybmF0aXZlUHJvcGVydGllczoge1xuICAgICAgLy8gT0xEIC0gRmlyZWZveCAxOS1cbiAgICAgIGFsaWduSXRlbXM6IFt7IGNzczogJy1tb3otYm94LWFsaWduJywganM6ICdNb3pCb3hBbGlnbicgfV0sXG4gICAgICBmbGV4OiBbeyBjc3M6ICctbW96LWJveC1mbGV4JywganM6ICdNb3pCb3hGbGV4JyB9XSxcbiAgICAgIGZsZXhEaXJlY3Rpb246IFt7IGNzczogJy1tb3otYm94LW9yaWVudCcsIGpzOiAnTW96Qm94T3JpZW50JyB9XSxcbiAgICAgIGp1c3RpZnlDb250ZW50OiBbeyBjc3M6ICctbW96LWJveC1wYWNrJywganM6ICdNb3pCb3hQYWNrJyB9XSxcbiAgICAgIG9yZGVyOiBbeyBjc3M6ICctbW96LWJveC1vcmRpbmFsLWdyb3VwJywganM6ICdNb3pCb3hPcmRpbmFsR3JvdXAnIH1dXG4gICAgfSxcbiAgICBhbHRlcm5hdGl2ZVZhbHVlczoge1xuICAgICAgLy8gT0xEIC0gRmlyZWZveCAxOS1cbiAgICAgIGFsaWduSXRlbXM6IHtcbiAgICAgICAgJ2ZsZXgtc3RhcnQnOiBbJ3N0YXJ0J10sXG4gICAgICAgICdmbGV4LWVuZCc6IFsnZW5kJ11cbiAgICAgIH0sXG4gICAgICBkaXNwbGF5OiB7XG4gICAgICAgIGZsZXg6IFsnLW1vei1ib3gnXVxuICAgICAgfSxcbiAgICAgIGZsZXhEaXJlY3Rpb246IHtcbiAgICAgICAgY29sdW1uOiBbJ3ZlcnRpY2FsJ10sXG4gICAgICAgIHJvdzogWydob3Jpem9udGFsJ11cbiAgICAgIH0sXG4gICAgICBqdXN0aWZ5Q29udGVudDoge1xuICAgICAgICAnZmxleC1zdGFydCc6IFsnc3RhcnQnXSxcbiAgICAgICAgJ2ZsZXgtZW5kJzogWydlbmQnXSxcbiAgICAgICAgJ3NwYWNlLWJldHdlZW4nOiBbJ2p1c3RpZnknXVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgJy1tcy0nOiB7XG4gICAgY3NzUHJlZml4OiAnLW1zLScsXG4gICAganNQcmVmaXg6ICdtcycsXG4gICAgYWx0ZXJuYXRpdmVQcm9wZXJ0aWVzOiB7XG4gICAgICAvLyBUV0VFTkVSIC0gSUUgMTBcbiAgICAgIGFsaWduQ29udGVudDogW3sgY3NzOiAnLW1zLWZsZXgtbGluZS1wYWNrJywganM6ICdtc0ZsZXhMaW5lUGFjaycgfV0sXG4gICAgICBhbGlnbkl0ZW1zOiBbeyBjc3M6ICctbXMtZmxleC1hbGlnbicsIGpzOiAnbXNGbGV4QWxpZ24nIH1dLFxuICAgICAgYWxpZ25TZWxmOiBbeyBjc3M6ICctbXMtZmxleC1hbGlnbi1pdGVtJywganM6ICdtc0ZsZXhBbGlnbkl0ZW0nIH1dLFxuICAgICAganVzdGlmeUNvbnRlbnQ6IFt7IGNzczogJy1tcy1mbGV4LXBhY2snLCBqczogJ21zRmxleFBhY2snIH1dLFxuICAgICAgb3JkZXI6IFt7IGNzczogJy1tcy1mbGV4LW9yZGVyJywganM6ICdtc0ZsZXhPcmRlcicgfV1cbiAgICB9LFxuICAgIGFsdGVybmF0aXZlVmFsdWVzOiB7XG4gICAgICAvLyBUV0VFTkVSIC0gSUUgMTBcbiAgICAgIGFsaWduQ29udGVudDoge1xuICAgICAgICAnZmxleC1zdGFydCc6IFsnc3RhcnQnXSxcbiAgICAgICAgJ2ZsZXgtZW5kJzogWydlbmQnXSxcbiAgICAgICAgJ3NwYWNlLWJldHdlZW4nOiBbJ2p1c3RpZnknXSxcbiAgICAgICAgJ3NwYWNlLWFyb3VuZCc6IFsnZGlzdHJpYnV0ZSddXG4gICAgICB9LFxuICAgICAgYWxpZ25JdGVtczoge1xuICAgICAgICAnZmxleC1zdGFydCc6IFsnc3RhcnQnXSxcbiAgICAgICAgJ2ZsZXgtZW5kJzogWydlbmQnXVxuICAgICAgfSxcbiAgICAgIGFsaWduU2VsZjoge1xuICAgICAgICAnZmxleC1zdGFydCc6IFsnc3RhcnQnXSxcbiAgICAgICAgJ2ZsZXgtZW5kJzogWydlbmQnXVxuICAgICAgfSxcbiAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgZmxleDogWyctbXMtZmxleGJveCddLFxuICAgICAgICAnaW5saW5lLWZsZXgnOiBbJy1tcy1pbmxpbmUtZmxleGJveCddXG4gICAgICB9LFxuICAgICAganVzdGlmeUNvbnRlbnQ6IHtcbiAgICAgICAgJ2ZsZXgtc3RhcnQnOiBbJ3N0YXJ0J10sXG4gICAgICAgICdmbGV4LWVuZCc6IFsnZW5kJ10sXG4gICAgICAgICdzcGFjZS1iZXR3ZWVuJzogWydqdXN0aWZ5J10sXG4gICAgICAgICdzcGFjZS1hcm91bmQnOiBbJ2Rpc3RyaWJ1dGUnXVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgJy1vLSc6IHtcbiAgICBjc3NQcmVmaXg6ICctby0nLFxuICAgIGpzUHJlZml4OiAnTydcbiAgfSxcbiAgJy13ZWJraXQtJzoge1xuICAgIGNzc1ByZWZpeDogJy13ZWJraXQtJyxcbiAgICBqc1ByZWZpeDogJ1dlYmtpdCcsXG4gICAgYWx0ZXJuYXRpdmVQcm9wZXJ0aWVzOiB7XG4gICAgICAvLyBPTEQgLSBpT1MgNi0sIFNhZmFyaSAzLjEtNlxuICAgICAgYWxpZ25JdGVtczogW3sgY3NzOiAnLXdlYmtpdC1ib3gtYWxpZ24nLCBqczogJ1dlYmtpdEJveEFsaWduJyB9XSxcbiAgICAgIGZsZXg6IFt7IGNzczogJy13ZWJraXQtYm94LWZsZXgnLCBqczogJ01vekJveEZsZXgnIH1dLFxuICAgICAgZmxleERpcmVjdGlvbjogW3sgY3NzOiAnLXdlYmtpdC1ib3gtb3JpZW50JywganM6ICdXZWJraXRCb3hPcmllbnQnIH1dLFxuICAgICAganVzdGlmeUNvbnRlbnQ6IFt7IGNzczogJy13ZWJraXQtYm94LXBhY2snLCBqczogJ1dlYmtpdEJveFBhY2snIH1dLFxuICAgICAgb3JkZXI6IFt7IGNzczogJy13ZWJraXQtYm94LW9yZGluYWwtZ3JvdXAnLCBqczogJ1dlYmtpdEJveE9yZGluYWxHcm91cCcgfV1cbiAgICB9LFxuICAgIGFsdGVybmF0aXZlVmFsdWVzOiB7XG4gICAgICAvLyBPTEQgLSBpT1MgNi0sIFNhZmFyaSAzLjEtNlxuICAgICAgYWxpZ25JdGVtczoge1xuICAgICAgICAnZmxleC1zdGFydCc6IFsnc3RhcnQnXSxcbiAgICAgICAgJ2ZsZXgtZW5kJzogWydlbmQnXVxuICAgICAgfSxcbiAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgZmxleDogWyctd2Via2l0LWJveCddXG4gICAgICB9LFxuICAgICAgZmxleERpcmVjdGlvbjoge1xuICAgICAgICByb3c6IFsnaG9yaXpvbnRhbCddLFxuICAgICAgICBjb2x1bW46IFsndmVydGljYWwnXVxuICAgICAgfSxcbiAgICAgIGp1c3RpZnlDb250ZW50OiB7XG4gICAgICAgICdmbGV4LXN0YXJ0JzogWydzdGFydCddLFxuICAgICAgICAnZmxleC1lbmQnOiBbJ2VuZCddLFxuICAgICAgICAnc3BhY2UtYmV0d2Vlbic6IFsnanVzdGlmeSddXG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIENTUyBwcm9wZXJ0aWVzIHdoaWNoIGFjY2VwdCBudW1iZXJzIGJ1dCBhcmUgbm90IGluIHVuaXRzIG9mIFwicHhcIi5cbiAqIENvcGllZCBmcm9tIFJlYWN0IGNvcmUgSnVuZSAyMiwgMjAxNS5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9ibG9iL1xuICogYmE4MWI2MGFkOGU5M2I3NDdiZTQyYTAzYjc5NzA2NTkzMmM0OWM5Ni9cbiAqIHNyYy9yZW5kZXJlcnMvZG9tL3NoYXJlZC9DU1NQcm9wZXJ0eS5qc1xuICovXG52YXIgaXNVbml0bGVzc051bWJlciA9IHtcbiAgYm94RmxleDogdHJ1ZSxcbiAgYm94RmxleEdyb3VwOiB0cnVlLFxuICBjb2x1bW5Db3VudDogdHJ1ZSxcbiAgZmxleDogdHJ1ZSxcbiAgZmxleEdyb3c6IHRydWUsXG4gIGZsZXhQb3NpdGl2ZTogdHJ1ZSxcbiAgZmxleFNocmluazogdHJ1ZSxcbiAgZmxleE5lZ2F0aXZlOiB0cnVlLFxuICBmb250V2VpZ2h0OiB0cnVlLFxuICBsaW5lQ2xhbXA6IHRydWUsXG4gIGxpbmVIZWlnaHQ6IHRydWUsXG4gIG9wYWNpdHk6IHRydWUsXG4gIG9yZGVyOiB0cnVlLFxuICBvcnBoYW5zOiB0cnVlLFxuICB0YWJTaXplOiB0cnVlLFxuICB3aWRvd3M6IHRydWUsXG4gIHpJbmRleDogdHJ1ZSxcbiAgem9vbTogdHJ1ZSxcblxuICAvLyBTVkctcmVsYXRlZCBwcm9wZXJ0aWVzXG4gIGZpbGxPcGFjaXR5OiB0cnVlLFxuICBzdHJva2VEYXNob2Zmc2V0OiB0cnVlLFxuICBzdHJva2VPcGFjaXR5OiB0cnVlLFxuICBzdHJva2VXaWR0aDogdHJ1ZVxufTtcblxudmFyIGRvbVN0eWxlID0ge307XG52YXIgcHJlZml4ZWRQcm9wZXJ0eUNhY2hlID0ge307XG52YXIgcHJlZml4ZWRWYWx1ZUNhY2hlID0ge307XG52YXIgcHJlZml4SW5mbyA9IHtcbiAgY3NzUHJlZml4OiAnJyxcbiAganNQcmVmaXg6ICcnXG59O1xuXG5pZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gIGRvbVN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpLnN0eWxlO1xuXG4gIC8vIG9sZGVyIEZpcmVmb3ggdmVyc2lvbnMgbWF5IGhhdmUgbm8gZmxvYXQgcHJvcGVydHkgaW4gc3R5bGUgb2JqZWN0XG4gIC8vIHNvIHdlIG5lZWQgdG8gYWRkIGl0IG1hbnVhbGx5XG4gIGlmIChkb21TdHlsZS5mbG9hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZG9tU3R5bGUuZmxvYXQgPSAnJztcbiAgfVxuXG4gIC8vIEJhc2VkIG9uIGh0dHA6Ly9kYXZpZHdhbHNoLm5hbWUvdmVuZG9yLXByZWZpeFxuICB2YXIgcHJlZml4TWF0Y2g7XG4gIHZhciB3aW5kb3dTdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICcnKTtcblxuICAvLyBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh3aW5kb3dTdHlsZXMpIGZhaWxzIHdpdGhcbiAgLy8gXCJVbmNhdWdodCBUeXBlRXJyb3I6IHVuZGVmaW5lZCBpcyBub3QgYSBmdW5jdGlvblwiXG4gIC8vIGluIG9sZGVyIHZlcnNpb25zIEFuZHJvaWQgKEtpdEthdCkgd2ViIHZpZXdzXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgd2luZG93U3R5bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgcHJlZml4TWF0Y2ggPSB3aW5kb3dTdHlsZXNbaV0ubWF0Y2goVkVORE9SX1BSRUZJWF9SRUdFWCk7XG5cbiAgICBpZiAocHJlZml4TWF0Y2gpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHZhciBjc3NWZW5kb3JQcmVmaXggPSBwcmVmaXhNYXRjaCAmJiBwcmVmaXhNYXRjaFswXTtcblxuICBwcmVmaXhJbmZvID0gY3NzVmVuZG9yUHJlZml4ICYmIGluZm9CeUNzc1ByZWZpeFtjc3NWZW5kb3JQcmVmaXhdID8gaW5mb0J5Q3NzUHJlZml4W2Nzc1ZlbmRvclByZWZpeF0gOiBwcmVmaXhJbmZvO1xufVxuXG52YXIgX2NhbWVsQ2FzZVJlZ2V4ID0gLyhbYS16XSk/KFtBLVpdKS9nO1xudmFyIF9jYW1lbENhc2VSZXBsYWNlciA9IGZ1bmN0aW9uIF9jYW1lbENhc2VSZXBsYWNlcihtYXRjaCwgcDEsIHAyKSB7XG4gIHJldHVybiBwMSArICctJyArIHAyLnRvTG93ZXJDYXNlKCk7XG59O1xudmFyIF9jYW1lbENhc2VUb0Rhc2hDYXNlID0gZnVuY3Rpb24gX2NhbWVsQ2FzZVRvRGFzaENhc2Uocykge1xuICByZXR1cm4gcy5yZXBsYWNlKF9jYW1lbENhc2VSZWdleCwgX2NhbWVsQ2FzZVJlcGxhY2VyKTtcbn07XG5cbnZhciBnZXRQcmVmaXhlZFByb3BlcnR5TmFtZSA9IGZ1bmN0aW9uIGdldFByZWZpeGVkUHJvcGVydHlOYW1lKHByb3BlcnR5KSB7XG4gIGlmIChwcmVmaXhlZFByb3BlcnR5Q2FjaGUuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XG4gICAgcmV0dXJuIHByZWZpeGVkUHJvcGVydHlDYWNoZVtwcm9wZXJ0eV07XG4gIH1cblxuICB2YXIgdW5wcmVmaXhlZCA9IHtcbiAgICBjc3M6IF9jYW1lbENhc2VUb0Rhc2hDYXNlKHByb3BlcnR5KSxcbiAgICBqczogcHJvcGVydHksXG4gICAgaXNEZWZhdWx0Rm9yU2VydmVyOiB0cnVlXG4gIH07XG5cbiAgLy8gVHJ5IHRoZSBwcmVmaXhlZCB2ZXJzaW9uIGZpcnN0LiBDaHJvbWUgaW4gcGFydGljdWxhciBoYXMgdGhlIGBmaWx0ZXJgIGFuZFxuICAvLyBgd2Via2l0RmlsdGVyYCBwcm9wZXJ0aWVzIGF2YWlsYWxiZSBvbiB0aGUgc3R5bGUgb2JqZWN0LCBidXQgb25seSB0aGVcbiAgLy8gcHJlZml4ZWQgdmVyc2lvbiBhY3R1YWxseSB3b3Jrcy5cbiAgdmFyIHBvc3NpYmxlUHJvcGVydHlOYW1lcyA9IFtcbiAgLy8gUHJlZml4ZWRcbiAge1xuICAgIGNzczogcHJlZml4SW5mby5jc3NQcmVmaXggKyBfY2FtZWxDYXNlVG9EYXNoQ2FzZShwcm9wZXJ0eSksXG4gICAganM6IHByZWZpeEluZm8uanNQcmVmaXggKyBwcm9wZXJ0eVswXS50b1VwcGVyQ2FzZSgpICsgcHJvcGVydHkuc2xpY2UoMSlcbiAgfSwgdW5wcmVmaXhlZF07XG5cbiAgLy8gQWx0ZXJuYXRpdmUgcHJvcGVydHkgbmFtZXNcbiAgaWYgKHByZWZpeEluZm8uYWx0ZXJuYXRpdmVQcm9wZXJ0aWVzICYmIHByZWZpeEluZm8uYWx0ZXJuYXRpdmVQcm9wZXJ0aWVzW3Byb3BlcnR5XSkge1xuICAgIHBvc3NpYmxlUHJvcGVydHlOYW1lcyA9IHBvc3NpYmxlUHJvcGVydHlOYW1lcy5jb25jYXQocHJlZml4SW5mby5hbHRlcm5hdGl2ZVByb3BlcnRpZXNbcHJvcGVydHldKTtcbiAgfVxuXG4gIHZhciB3b3JraW5nUHJvcGVydHkgPSBhcnJheUZpbmQocG9zc2libGVQcm9wZXJ0eU5hbWVzLCBmdW5jdGlvbiAocG9zc2libGVQcm9wZXJ0eU5hbWUpIHtcbiAgICBpZiAocG9zc2libGVQcm9wZXJ0eU5hbWUuanMgaW4gZG9tU3R5bGUpIHtcbiAgICAgIHJldHVybiBwb3NzaWJsZVByb3BlcnR5TmFtZTtcbiAgICB9XG4gIH0pIHx8IGZhbHNlO1xuXG4gIHJldHVybiBwcmVmaXhlZFByb3BlcnR5Q2FjaGVbcHJvcGVydHldID0gd29ya2luZ1Byb3BlcnR5O1xufTtcblxuLy8gV2UgYXJlIHVuLXByZWZpeGluZyB2YWx1ZXMgYmVmb3JlIGNoZWNraW5nIGZvciBpc1VuaXRsZXNzTnVtYmVyLFxuLy8gb3RoZXJ3aXNlIHdlIGFyZSBhdCByaXNrIG9mIGJlaW5nIGluIGEgc2l0dWF0aW9uIHdoZXJlIHNvbWVvbmVcbi8vIGV4cGxpY2l0bHkgcGFzc2VzIHNvbWV0aGluZyBsaWtlIGBNb3pCb3hGbGV4OiAxYCBhbmQgdGhhdCB3aWxsXG4vLyBpbiB0dXJuIGdldCB0cmFuc2Zvcm1lZCBpbnRvIGBNb3pCb3hGbGV4OiAxcHhgLlxudmFyIF9nZXRVbnByZWZpeGVkUHJvcGVydHkgPSBmdW5jdGlvbiBfZ2V0VW5wcmVmaXhlZFByb3BlcnR5KHByb3BlcnR5KSB7XG4gIHZhciBub1ByZWZpeFByb3BlcnR5ID0gcHJvcGVydHk7XG5cbiAgdmVuZG9yUHJlZml4ZXMuc29tZShmdW5jdGlvbiAocHJlZml4KSB7XG4gICAgLy8gTGV0J3MgY2hlY2sgaWYgdGhlIHByb3BlcnR5IHN0YXJ0cyB3aXRoIGEgdmVuZG9yIHByZWZpeFxuICAgIGlmIChwcm9wZXJ0eS5pbmRleE9mKHByZWZpeCkgPT09IDApIHtcbiAgICAgIG5vUHJlZml4UHJvcGVydHkgPSBub1ByZWZpeFByb3BlcnR5LnJlcGxhY2UocHJlZml4LCAnJyk7XG5cbiAgICAgIC8vIFdlIGhhdmUgcmVtb3ZlZCB0aGUgdmVuZG9yIHByZWZpeCwgaG93ZXZlciB0aGUgZmlyc3RcbiAgICAgIC8vIGNoYXJhY3RlciBpcyBnb2luZyB0byBiZSB1cHBlcmNhc2UgaGVuY2Ugd29uJ3QgbWF0Y2hcbiAgICAgIC8vIGFueSBvZiB0aGUgYGlzVW5pdGxlc3NOdW1iZXJgIGtleXMgYXMgdGhleSBhbGwgc3RhcnRcbiAgICAgIC8vIHdpdGggbG93ZXIgY2FzZS4gTGV0J3MgZW5zdXJlIHRoYXQgdGhlIGZpcnN0IGNoYXIgaXNcbiAgICAgIC8vIGxvd2VyIGNhc2UuXG4gICAgICBub1ByZWZpeFByb3BlcnR5ID0gbm9QcmVmaXhQcm9wZXJ0eS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIG5vUHJlZml4UHJvcGVydHkuc2xpY2UoMSk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIG5vUHJlZml4UHJvcGVydHk7XG59O1xuXG4vLyBSZWFjdCBpcyBwbGFubmluZyB0byBkZXByZWNhdGUgYWRkaW5nIHB4IGF1dG9tYXRpY2FsbHlcbi8vIChodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzE4NzMpLCBhbmQgaWYgdGhleSBkbywgdGhpc1xuLy8gc2hvdWxkIGNoYW5nZSB0byBhIHdhcm5pbmcgb3IgYmUgcmVtb3ZlZCBpbiBmYXZvciBvZiBSZWFjdCdzIHdhcm5pbmcuXG4vLyBTYW1lIGdvZXMgZm9yIGJlbG93LlxudmFyIF9hZGRQaXhlbFN1ZmZpeFRvVmFsdWVJZk5lZWRlZCA9IGZ1bmN0aW9uIF9hZGRQaXhlbFN1ZmZpeFRvVmFsdWVJZk5lZWRlZChvcmlnaW5hbFByb3BlcnR5LCB2YWx1ZSkge1xuICB2YXIgdW5QcmVmaXhlZFByb3BlcnR5ID0gX2dldFVucHJlZml4ZWRQcm9wZXJ0eShvcmlnaW5hbFByb3BlcnR5KTtcblxuICBpZiAodmFsdWUgIT09IDAgJiYgIWlzTmFOKHZhbHVlKSAmJiAhaXNVbml0bGVzc051bWJlclt1blByZWZpeGVkUHJvcGVydHldKSB7XG4gICAgcmV0dXJuIHZhbHVlICsgJ3B4JztcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59O1xuXG52YXIgX2dldFByZWZpeGVkVmFsdWUgPSBmdW5jdGlvbiBfZ2V0UHJlZml4ZWRWYWx1ZShjb21wb25lbnQsIHByb3BlcnR5LCB2YWx1ZSwgb3JpZ2luYWxQcm9wZXJ0eSkge1xuICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgLy8gZG9uJ3QgdGVzdCBudW1iZXJzIChwdXJlIG9yIHN0cmluZ3kpLCBidXQgZG8gYWRkICdweCcgcHJlZml4IGlmIG5lZWRlZFxuICAgIGlmICghaXNOYU4odmFsdWUpICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4gX2FkZFBpeGVsU3VmZml4VG9WYWx1ZUlmTmVlZGVkKG9yaWdpbmFsUHJvcGVydHksIHZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRvbid0IHRlc3QgbnVtYmVycyB3aXRoIHVuaXRzIChlLmcuIDEwZW0pXG4gICAgaWYgKCFpc05hTihwYXJzZUludCh2YWx1ZSwgMTApKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIHZhciBjYWNoZUtleSA9IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUuam9pbignIHx8ICcpIDogcHJvcGVydHkgKyB2YWx1ZTtcblxuICBpZiAocHJlZml4ZWRWYWx1ZUNhY2hlLmhhc093blByb3BlcnR5KGNhY2hlS2V5KSkge1xuICAgIHJldHVybiBwcmVmaXhlZFZhbHVlQ2FjaGVbY2FjaGVLZXldO1xuICB9XG5cbiAgdmFyIHBvc3NpYmxlVmFsdWVzO1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAvLyBBZGQgcHggZm9yIHRoZSBzYW1lIHZhbHVlcyBSZWFjdCB3b3VsZCwgb3RoZXJ3aXNlIHRoZSB0ZXN0aW5nIGJlbG93IHdpbGxcbiAgICAvLyBmYWlsIGFuZCBpdCB3aWxsIHRyeSB0byBmYWxsYmFjay5cbiAgICBwb3NzaWJsZVZhbHVlcyA9IHZhbHVlLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgcmV0dXJuIF9hZGRQaXhlbFN1ZmZpeFRvVmFsdWVJZk5lZWRlZChvcmlnaW5hbFByb3BlcnR5LCB2KTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBwcmVmaXhlZCB2ZXJzaW9uc1xuICAgIHBvc3NpYmxlVmFsdWVzID0gcG9zc2libGVWYWx1ZXMuY29uY2F0KHZhbHVlLmZpbHRlcihmdW5jdGlvbiAodikge1xuICAgICAgcmV0dXJuICFpc05hTih2KTtcbiAgICB9KSAvLyBEb24ndCBwcmVmaXggbnVtYmVyc1xuICAgIC5tYXAoZnVuY3Rpb24gKHYpIHtcbiAgICAgIHJldHVybiBwcmVmaXhJbmZvLmNzc1ByZWZpeCArIHY7XG4gICAgfSkpO1xuICB9IGVsc2Uge1xuICAgIHBvc3NpYmxlVmFsdWVzID0gW1xuICAgIC8vIFVucHJlZml4ZWRcbiAgICB2YWx1ZSxcbiAgICAvLyBQcmVmaXhlZFxuICAgIHByZWZpeEluZm8uY3NzUHJlZml4ICsgdmFsdWVdO1xuICB9XG5cbiAgLy8gQWx0ZXJuYXRpdmUgdmFsdWVzXG4gIGlmIChwcmVmaXhJbmZvLmFsdGVybmF0aXZlVmFsdWVzICYmIHByZWZpeEluZm8uYWx0ZXJuYXRpdmVWYWx1ZXNbb3JpZ2luYWxQcm9wZXJ0eV0gJiYgcHJlZml4SW5mby5hbHRlcm5hdGl2ZVZhbHVlc1tvcmlnaW5hbFByb3BlcnR5XVt2YWx1ZV0pIHtcbiAgICBwb3NzaWJsZVZhbHVlcyA9IHBvc3NpYmxlVmFsdWVzLmNvbmNhdChwcmVmaXhJbmZvLmFsdGVybmF0aXZlVmFsdWVzW29yaWdpbmFsUHJvcGVydHldW3ZhbHVlXSk7XG4gIH1cblxuICAvLyBUZXN0IHBvc3NpYmxlIHZhbHVlIGluIG9yZGVyXG4gIHZhciB3b3JraW5nVmFsdWUgPSBhcnJheUZpbmQocG9zc2libGVWYWx1ZXMsIGZ1bmN0aW9uIChwb3NzaWJsZVZhbHVlKSB7XG4gICAgZG9tU3R5bGVbcHJvcGVydHldID0gJyc7XG4gICAgZG9tU3R5bGVbcHJvcGVydHldID0gcG9zc2libGVWYWx1ZTtcblxuICAgIC8vIE5vdGUgdGhhdCB3ZSBqdXN0IG1ha2Ugc3VyZSBpdCBpcyBub3QgYW4gZW1wdHkgc3RyaW5nLiBCcm93c2VycyB3aWxsXG4gICAgLy8gc29tZXRpbWVzIHJld3JpdGUgdmFsdWVzLCBidXQgc3RpbGwgYWNjZXB0IHRoZW0uIFRoZXkgd2lsbCBzZXQgdGhlIHZhbHVlXG4gICAgLy8gdG8gYW4gZW1wdHkgc3RyaW5nIGlmIG5vdCBzdXBwb3J0ZWQuXG4gICAgLy8gRS5nLiBmb3IgYm9yZGVyLCBcInNvbGlkIDFweCBibGFja1wiIGJlY29tZXMgXCIxcHggc29saWQgYmxhY2tcIlxuICAgIC8vICAgICAgYnV0IFwiZm9vYmFyXCIgYmVjb21lcyBcIlwiLCBzaW5jZSBpdCBpcyBub3Qgc3VwcG9ydGVkLlxuICAgIHJldHVybiAhIWRvbVN0eWxlW3Byb3BlcnR5XTtcbiAgfSk7XG5cbiAgaWYgKHdvcmtpbmdWYWx1ZSkge1xuICAgIHByZWZpeGVkVmFsdWVDYWNoZVtjYWNoZUtleV0gPSB3b3JraW5nVmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgLy8gVW5zdXBwb3J0ZWQsIGFzc3VtZSB1bnByZWZpeGVkIHdvcmtzLCBidXQgd2FyblxuICAgIHByZWZpeGVkVmFsdWVDYWNoZVtjYWNoZUtleV0gPSB2YWx1ZTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gICAgICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudENvbnRleHQgPSBjb21wb25lbnQgPyAnIGluIGNvbXBvbmVudCBcIicgKyBjb21wb25lbnQuY29uc3RydWN0b3IuZGlzcGxheU5hbWUgKyAnXCInIDogJyc7XG5cbiAgICAgICAgY29uc29sZS53YXJuKCdVbnN1cHBvcnRlZCBDU1MgdmFsdWUgXCInICsgdmFsdWUgKyAnXCIgZm9yIHByb3BlcnR5IFwiJyArIHByb3BlcnR5ICsgJyRcIicgKyBjb21wb25lbnRDb250ZXh0KTtcbiAgICAgIH1cbiAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwcmVmaXhlZFZhbHVlQ2FjaGVbY2FjaGVLZXldO1xufTtcblxuLy8gUmV0dXJucyBhIG5ldyBzdHlsZSBvYmplY3Qgd2l0aCB2ZW5kb3IgcHJlZml4ZXMgYWRkZWQgdG8gcHJvcGVydHkgbmFtZXNcbi8vIGFuZCB2YWx1ZXMuXG52YXIgZ2V0UHJlZml4ZWRTdHlsZSA9IGZ1bmN0aW9uIGdldFByZWZpeGVkU3R5bGUoY29tcG9uZW50LCAvLyBSZWFjdENvbXBvbmVudFxuc3R5bGUpIHtcbiAgdmFyIG1vZGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyAnanMnIDogYXJndW1lbnRzWzJdO1xuXG4gIGlmICghRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHN0eWxlKS5yZWR1Y2UoZnVuY3Rpb24gKG5ld1N0eWxlLCBrZXkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHN0eWxlW2tleV07XG4gICAgICB2YXIgbmV3S2V5ID0gbW9kZSA9PT0gJ2NzcycgPyBfY2FtZWxDYXNlVG9EYXNoQ2FzZShrZXkpIDoga2V5O1xuICAgICAgdmFyIG5ld1ZhbHVlID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZVswXSA6IHZhbHVlO1xuICAgICAgbmV3U3R5bGVbbmV3S2V5XSA9IG5ld1ZhbHVlO1xuICAgICAgcmV0dXJuIG5ld1N0eWxlO1xuICAgIH0sIHt9KTtcbiAgfVxuXG4gIHZhciBwcmVmaXhlZFN0eWxlID0ge307XG4gIE9iamVjdC5rZXlzKHN0eWxlKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xuICAgIHZhciB2YWx1ZSA9IHN0eWxlW3Byb3BlcnR5XTtcblxuICAgIHZhciBuZXdQcm9wZXJ0eSA9IGdldFByZWZpeGVkUHJvcGVydHlOYW1lKHByb3BlcnR5KTtcbiAgICBpZiAobmV3UHJvcGVydHkgPT09IGZhbHNlKSB7XG4gICAgICAvLyBJZ25vcmUgdW5zdXBwb3J0ZWQgcHJvcGVydGllc1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgICAgICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIHtcbiAgICAgICAgICB2YXIgY29tcG9uZW50Q29udGV4dCA9IGNvbXBvbmVudCA/ICcgaW4gY29tcG9uZW50IFwiJyArIGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSArICdcIicgOiAnJztcblxuICAgICAgICAgIGNvbnNvbGUud2FybignVW5zdXBwb3J0ZWQgQ1NTIHByb3BlcnR5IFwiJyArIHByb3BlcnR5ICsgJyRcIicgKyBjb21wb25lbnRDb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBuZXdWYWx1ZSA9IF9nZXRQcmVmaXhlZFZhbHVlKGNvbXBvbmVudCwgbmV3UHJvcGVydHkuanMsIHZhbHVlLCBwcm9wZXJ0eSk7XG5cbiAgICBwcmVmaXhlZFN0eWxlW25ld1Byb3BlcnR5W21vZGVdXSA9IG5ld1ZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIHByZWZpeGVkU3R5bGU7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0UHJlZml4ZWRQcm9wZXJ0eU5hbWU6IGdldFByZWZpeGVkUHJvcGVydHlOYW1lLFxuICBnZXRQcmVmaXhlZFN0eWxlOiBnZXRQcmVmaXhlZFN0eWxlLFxuICBjc3NQcmVmaXg6IHByZWZpeEluZm8uY3NzUHJlZml4LFxuICBqc1ByZWZpeDogcHJlZml4SW5mby5qc1ByZWZpeFxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGFsbFByaW50U3R5bGVzID0ge307XG52YXIgbGlzdGVuZXJzID0gW107XG5cbnZhciBzdWJzY3JpYmUgPSBmdW5jdGlvbiBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgaWYgKGxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA9PT0gLTEpIHtcbiAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgdmFyIGxpc3RlbmVySW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG5cbiAgICAgIGlmIChsaXN0ZW5lckluZGV4ID4gLTEpIHtcbiAgICAgICAgbGlzdGVuZXJzLnNwbGljZShsaXN0ZW5lckluZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuXG52YXIgX2VtaXRDaGFuZ2UgPSBmdW5jdGlvbiBfZW1pdENoYW5nZSgpIHtcbiAgbGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgcmV0dXJuIGxpc3RlbmVyKCk7XG4gIH0pO1xufTtcblxudmFyIF9hcHBlbmRJbXBvcnRhbnRUb0VhY2hWYWx1ZSA9IGZ1bmN0aW9uIF9hcHBlbmRJbXBvcnRhbnRUb0VhY2hWYWx1ZShzdHlsZU9iaikge1xuICB2YXIgaW1wb3J0YW50U3R5bGVPYmogPSB7fTtcblxuICBPYmplY3Qua2V5cyhzdHlsZU9iaikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHZhbHVlID0gc3R5bGVPYmpba2V5XTtcblxuICAgIC8vIFRoaXMgYnJlYWtzIHVuaXRsZXNzIHZhbHVlcyBidXQgdGhleSdsbCBiZSBkZXByZWNhdGVkIHNvb24gYW55d2F5XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8xODczXG4gICAgdmFsdWUgPSB2YWx1ZSArIFwiICFpbXBvcnRhbnRcIjtcbiAgICBpbXBvcnRhbnRTdHlsZU9ialtrZXldID0gdmFsdWU7XG4gIH0pO1xuXG4gIHJldHVybiBpbXBvcnRhbnRTdHlsZU9iajtcbn07XG5cbnZhciBhZGRQcmludFN0eWxlcyA9IGZ1bmN0aW9uIGFkZFByaW50U3R5bGVzKENvbXBvbmVudCkge1xuICBpZiAoIUNvbXBvbmVudC5wcmludFN0eWxlcykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBwcmludFN0eWxlQ2xhc3MgPSB7fTtcblxuICBPYmplY3Qua2V5cyhDb21wb25lbnQucHJpbnRTdHlsZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBzdHlsZXMgPSBDb21wb25lbnQucHJpbnRTdHlsZXNba2V5XTtcbiAgICB2YXIgY2xhc3NOYW1lID0gXCJSYWRpdW0tXCIgKyBDb21wb25lbnQuZGlzcGxheU5hbWUgKyBcIi1cIiArIGtleTtcbiAgICBhbGxQcmludFN0eWxlc1tcIi5cIiArIGNsYXNzTmFtZV0gPSBfYXBwZW5kSW1wb3J0YW50VG9FYWNoVmFsdWUoc3R5bGVzKTtcbiAgICBwcmludFN0eWxlQ2xhc3Nba2V5XSA9IGNsYXNzTmFtZTtcbiAgfSk7XG5cbiAgLy8gQWxsb3dzIGZvciBsYXp5IGxvYWRpbmcgb2YgSlMgdGhhdCB0aGVuIGNhbGxzIFJhZGl1bSB0byB1cGRhdGUgdGhlXG4gIC8vIHByaW50IHN0eWxlc1xuICBfZW1pdENoYW5nZSgpO1xuICByZXR1cm4gcHJpbnRTdHlsZUNsYXNzO1xufTtcblxudmFyIGdldFByaW50U3R5bGVzID0gZnVuY3Rpb24gZ2V0UHJpbnRTdHlsZXMoKSB7XG4gIHJldHVybiBhbGxQcmludFN0eWxlcztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBhZGRQcmludFN0eWxlczogYWRkUHJpbnRTdHlsZXMsXG4gIGdldFByaW50U3R5bGVzOiBnZXRQcmludFN0eWxlcyxcbiAgc3Vic2NyaWJlOiBzdWJzY3JpYmVcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgTW91c2VVcExpc3RlbmVyID0gcmVxdWlyZSgnLi9tb3VzZS11cC1saXN0ZW5lcicpO1xudmFyIGdldFN0YXRlID0gcmVxdWlyZSgnLi9nZXQtc3RhdGUnKTtcbnZhciBnZXRTdGF0ZUtleSA9IHJlcXVpcmUoJy4vZ2V0LXN0YXRlLWtleScpO1xudmFyIFByZWZpeGVyID0gcmVxdWlyZSgnLi9wcmVmaXhlcicpO1xudmFyIENvbmZpZyA9IHJlcXVpcmUoJy4vY29uZmlnJyk7XG5cbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJ2V4ZW52Jyk7XG52YXIgUmVhY3QgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snUmVhY3QnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ1JlYWN0J10gOiBudWxsKTtcblxuLy8gYmFiZWwtZXNsaW50IDMuMS43IGZhaWxzIGhlcmUgZm9yIHNvbWUgcmVhc29uLCBlcnJvcjpcbi8vICAgMDowICBlcnJvciAgQ2Fubm90IGNhbGwgbWV0aG9kICdpc1NlcXVlbmNlRXhwcmVzc2lvbicgb2YgdW5kZWZpbmVkXG4vL1xuLy8gZGVjbGFyZSBjbGFzcyBSYWRpdW1Db21wb25lbnQgZXh0ZW5kcyBSZWFjdENvbXBvbmVudCB7XG4vLyAgIF9sYXN0TW91c2VEb3duOiBudW1iZXIsXG4vLyAgIF9yYWRpdW1NZWRpYVF1ZXJ5TGlzdGVuZXJzQnlRdWVyeTogT2JqZWN0PHN0cmluZywge3JlbW92ZTogKCkgPT4gdm9pZH0+LFxuLy8gICBfcmFkaXVtTW91c2VVcExpc3RlbmVyOiB7cmVtb3ZlOiAoKSA9PiB2b2lkfSxcbi8vIH1cblxudmFyIG1lZGlhUXVlcnlMaXN0QnlRdWVyeVN0cmluZyA9IHt9O1xuXG52YXIgX2lzU3BlY2lhbEtleSA9IGZ1bmN0aW9uIF9pc1NwZWNpYWxLZXkoa2V5KSB7XG4gIHJldHVybiBrZXlbMF0gPT09ICc6JyB8fCBrZXlbMF0gPT09ICdAJztcbn07XG5cbnZhciBfZ2V0U3R5bGVTdGF0ZSA9IGZ1bmN0aW9uIF9nZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCB2YWx1ZSkge1xuICByZXR1cm4gZ2V0U3RhdGUoY29tcG9uZW50LnN0YXRlLCBrZXksIHZhbHVlKTtcbn07XG5cbnZhciBfc2V0U3R5bGVTdGF0ZSA9IGZ1bmN0aW9uIF9zZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCBuZXdTdGF0ZSkge1xuICB2YXIgZXhpc3RpbmcgPSBjb21wb25lbnQuX2xhc3RSYWRpdW1TdGF0ZSB8fCBjb21wb25lbnQuc3RhdGUgJiYgY29tcG9uZW50LnN0YXRlLl9yYWRpdW1TdHlsZVN0YXRlIHx8IHt9O1xuXG4gIHZhciBzdGF0ZSA9IHsgX3JhZGl1bVN0eWxlU3RhdGU6IF9leHRlbmRzKHt9LCBleGlzdGluZykgfTtcbiAgc3RhdGUuX3JhZGl1bVN0eWxlU3RhdGVba2V5XSA9IF9leHRlbmRzKHt9LCBzdGF0ZS5fcmFkaXVtU3R5bGVTdGF0ZVtrZXldLCBuZXdTdGF0ZSk7XG5cbiAgY29tcG9uZW50Ll9sYXN0UmFkaXVtU3RhdGUgPSBzdGF0ZS5fcmFkaXVtU3R5bGVTdGF0ZTtcbiAgY29tcG9uZW50LnNldFN0YXRlKHN0YXRlKTtcbn07XG5cbi8vIE1lcmdlIHN0eWxlIG9iamVjdHMuIFNwZWNpYWwgY2FzaW5nIGZvciBwcm9wcyBzdGFydGluZyB3aXRoICc7JzsgdGhlIHZhbHVlc1xuLy8gc2hvdWxkIGJlIG9iamVjdHMsIGFuZCBhcmUgbWVyZ2VkIHdpdGggb3RoZXJzIG9mIHRoZSBzYW1lIG5hbWUgKGluc3RlYWQgb2Zcbi8vIG92ZXJ3cml0aW5nKS5cbnZhciBfbWVyZ2VTdHlsZXMgPSBmdW5jdGlvbiBfbWVyZ2VTdHlsZXMoc3R5bGVzKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcblxuICBzdHlsZXMuZm9yRWFjaChmdW5jdGlvbiAoc3R5bGUpIHtcbiAgICBpZiAoIXN0eWxlIHx8IHR5cGVvZiBzdHlsZSAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShzdHlsZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBPYmplY3Qua2V5cyhzdHlsZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoX2lzU3BlY2lhbEtleShrZXkpICYmIHJlc3VsdFtrZXldKSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gX21lcmdlU3R5bGVzKFtyZXN1bHRba2V5XSwgc3R5bGVba2V5XV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSBzdHlsZVtrZXldO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxudmFyIF9tb3VzZVVwID0gZnVuY3Rpb24gX21vdXNlVXAoY29tcG9uZW50KSB7XG4gIE9iamVjdC5rZXlzKGNvbXBvbmVudC5zdGF0ZS5fcmFkaXVtU3R5bGVTdGF0ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKF9nZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCAnOmFjdGl2ZScpKSB7XG4gICAgICBfc2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgeyAnOmFjdGl2ZSc6IGZhbHNlIH0pO1xuICAgIH1cbiAgfSk7XG59O1xuXG52YXIgX29uTWVkaWFRdWVyeUNoYW5nZSA9IGZ1bmN0aW9uIF9vbk1lZGlhUXVlcnlDaGFuZ2UoY29tcG9uZW50LCBxdWVyeSwgbWVkaWFRdWVyeUxpc3QpIHtcbiAgdmFyIHN0YXRlID0ge307XG4gIHN0YXRlW3F1ZXJ5XSA9IG1lZGlhUXVlcnlMaXN0Lm1hdGNoZXM7XG4gIF9zZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwgJ19hbGwnLCBzdGF0ZSk7XG59O1xuXG52YXIgX3Jlc29sdmVNZWRpYVF1ZXJ5U3R5bGVzID0gZnVuY3Rpb24gX3Jlc29sdmVNZWRpYVF1ZXJ5U3R5bGVzKGNvbXBvbmVudCwgc3R5bGUpIHtcbiAgaWYgKCFDb25maWcuY2FuTWF0Y2hNZWRpYSgpKSB7XG4gICAgcmV0dXJuIHN0eWxlO1xuICB9XG5cbiAgT2JqZWN0LmtleXMoc3R5bGUpLmZpbHRlcihmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiBuYW1lWzBdID09PSAnQCc7XG4gIH0pLm1hcChmdW5jdGlvbiAocXVlcnkpIHtcbiAgICB2YXIgbWVkaWFRdWVyeVN0eWxlcyA9IHN0eWxlW3F1ZXJ5XTtcbiAgICBxdWVyeSA9IHF1ZXJ5LnJlcGxhY2UoJ0BtZWRpYSAnLCAnJyk7XG5cbiAgICAvLyBDcmVhdGUgYSBnbG9iYWwgTWVkaWFRdWVyeUxpc3QgaWYgb25lIGRvZXNuJ3QgYWxyZWFkeSBleGlzdFxuICAgIHZhciBtcWwgPSBtZWRpYVF1ZXJ5TGlzdEJ5UXVlcnlTdHJpbmdbcXVlcnldO1xuICAgIGlmICghbXFsKSB7XG4gICAgICBtZWRpYVF1ZXJ5TGlzdEJ5UXVlcnlTdHJpbmdbcXVlcnldID0gbXFsID0gQ29uZmlnLm1hdGNoTWVkaWEocXVlcnkpO1xuICAgIH1cblxuICAgIC8vIEtlZXAgdHJhY2sgb2Ygd2hpY2gga2V5cyBhbHJlYWR5IGhhdmUgbGlzdGVuZXJzXG4gICAgaWYgKCFjb21wb25lbnQuX3JhZGl1bU1lZGlhUXVlcnlMaXN0ZW5lcnNCeVF1ZXJ5KSB7XG4gICAgICBjb21wb25lbnQuX3JhZGl1bU1lZGlhUXVlcnlMaXN0ZW5lcnNCeVF1ZXJ5ID0ge307XG4gICAgfVxuXG4gICAgaWYgKCFjb21wb25lbnQuX3JhZGl1bU1lZGlhUXVlcnlMaXN0ZW5lcnNCeVF1ZXJ5W3F1ZXJ5XSkge1xuICAgICAgdmFyIGxpc3RlbmVyID0gX29uTWVkaWFRdWVyeUNoYW5nZS5iaW5kKG51bGwsIGNvbXBvbmVudCwgcXVlcnkpO1xuICAgICAgbXFsLmFkZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICAgIGNvbXBvbmVudC5fcmFkaXVtTWVkaWFRdWVyeUxpc3RlbmVyc0J5UXVlcnlbcXVlcnldID0ge1xuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgICAgICBtcWwucmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIEFwcGx5IG1lZGlhIHF1ZXJ5IHN0YXRlc1xuICAgIGlmIChtcWwubWF0Y2hlcykge1xuICAgICAgc3R5bGUgPSBfbWVyZ2VTdHlsZXMoW3N0eWxlLCBtZWRpYVF1ZXJ5U3R5bGVzXSk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gc3R5bGU7XG59O1xuXG4vLyBXcmFwcGVyIGFyb3VuZCBSZWFjdC5jbG9uZUVsZW1lbnQuIFRvIGF2b2lkIHByb2Nlc3NpbmcgdGhlIHNhbWUgZWxlbWVudFxuLy8gdHdpY2UsIHdoZW5ldmVyIHdlIGNsb25lIGFuIGVsZW1lbnQgYWRkIGEgc3BlY2lhbCBub24tZW51bWVyYWJsZSBwcm9wIHRvXG4vLyBtYWtlIHN1cmUgd2UgZG9uJ3QgcHJvY2VzcyB0aGlzIGVsZW1lbnQgYWdhaW4uXG52YXIgX2Nsb25lRWxlbWVudCA9IGZ1bmN0aW9uIF9jbG9uZUVsZW1lbnQocmVuZGVyZWRFbGVtZW50LCBuZXdQcm9wcywgbmV3Q2hpbGRyZW4pIHtcbiAgLy8gT25seSBhZGQgZmxhZyBpZiB0aGlzIGlzIGEgbm9ybWFsIERPTSBlbGVtZW50XG4gIGlmICh0eXBlb2YgcmVuZGVyZWRFbGVtZW50LnR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgbmV3UHJvcHMgPSBfZXh0ZW5kcyh7fSwgbmV3UHJvcHMsIHsgX3JhZGl1bURpZFJlc29sdmVTdHlsZXM6IHRydWUgfSk7XG4gIH1cblxuICByZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KHJlbmRlcmVkRWxlbWVudCwgbmV3UHJvcHMsIG5ld0NoaWxkcmVuKTtcbn07XG5cbi8vXG4vLyBUaGUgbnVjbGV1cyBvZiBSYWRpdW0uIHJlc29sdmVTdHlsZXMgaXMgY2FsbGVkIG9uIHRoZSByZW5kZXJlZCBlbGVtZW50c1xuLy8gYmVmb3JlIHRoZXkgYXJlIHJldHVybmVkIGluIHJlbmRlci4gSXQgaXRlcmF0ZXMgb3ZlciB0aGUgZWxlbWVudHMgYW5kXG4vLyBjaGlsZHJlbiwgcmV3cml0aW5nIHByb3BzIHRvIGFkZCBldmVudCBoYW5kbGVycyByZXF1aXJlZCB0byBjYXB0dXJlIHVzZXJcbi8vIGludGVyYWN0aW9ucyAoZS5nLiBtb3VzZSBvdmVyKS4gSXQgYWxzbyByZXBsYWNlcyB0aGUgc3R5bGUgcHJvcCBiZWNhdXNlIGl0XG4vLyBhZGRzIGluIHRoZSB2YXJpb3VzIGludGVyYWN0aW9uIHN0eWxlcyAoZS5nLiA6aG92ZXIpLlxuLy9cbnZhciByZXNvbHZlU3R5bGVzID0gZnVuY3Rpb24gcmVzb2x2ZVN0eWxlcyhjb21wb25lbnQsIC8vIFJlYWN0Q29tcG9uZW50LCBmbG93K2VzbGludCBjb21wbGFpbmluZ1xucmVuZGVyZWRFbGVtZW50LCAvLyBSZWFjdEVsZW1lbnRcbmV4aXN0aW5nS2V5TWFwKSB7XG4gIC8vIFJlYWN0RWxlbWVudFxuICBleGlzdGluZ0tleU1hcCA9IGV4aXN0aW5nS2V5TWFwIHx8IHt9O1xuXG4gIGlmICghcmVuZGVyZWRFbGVtZW50IHx8XG4gIC8vIEJhaWwgaWYgd2UndmUgYWxyZWFkeSBwcm9jZXNzZWQgdGhpcyBlbGVtZW50LiBUaGlzIGVuc3VyZXMgdGhhdCBvbmx5IHRoZVxuICAvLyBvd25lciBvZiBhbiBlbGVtZW50IHByb2Nlc3NlcyB0aGF0IGVsZW1lbnQsIHNpbmNlIHRoZSBvd25lcidzIHJlbmRlclxuICAvLyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBmaXJzdCAod2hpY2ggd2lsbCBhbHdheXMgYmUgdGhlIGNhc2UsIHNpbmNlIHlvdVxuICAvLyBjYW4ndCBrbm93IHdoYXQgZWxzZSB0byByZW5kZXIgdW50aWwgeW91IHJlbmRlciB0aGUgcGFyZW50IGNvbXBvbmVudCkuXG4gIHJlbmRlcmVkRWxlbWVudC5wcm9wcyAmJiByZW5kZXJlZEVsZW1lbnQucHJvcHMuX3JhZGl1bURpZFJlc29sdmVTdHlsZXMpIHtcbiAgICByZXR1cm4gcmVuZGVyZWRFbGVtZW50O1xuICB9XG5cbiAgLy8gUmVjdXJzZSBvdmVyIGNoaWxkcmVuIGZpcnN0IGluIGNhc2Ugd2UgYmFpbCBlYXJseS4gTm90ZSB0aGF0IGNoaWxkcmVuIG9ubHlcbiAgLy8gaW5jbHVkZSB0aG9zZSByZW5kZXJlZCBpbiBgdGhpc2AgY29tcG9uZW50LiBDaGlsZCBub2RlcyBpbiBvdGhlciBjb21wb25lbnRzXG4gIC8vIHdpbGwgbm90IGJlIGhlcmUsIHNvIGVhY2ggY29tcG9uZW50IG5lZWRzIHRvIHVzZSBSYWRpdW0uXG4gIHZhciBvbGRDaGlsZHJlbiA9IHJlbmRlcmVkRWxlbWVudC5wcm9wcy5jaGlsZHJlbjtcbiAgdmFyIG5ld0NoaWxkcmVuID0gb2xkQ2hpbGRyZW47XG4gIGlmIChvbGRDaGlsZHJlbikge1xuICAgIHZhciBjaGlsZHJlblR5cGUgPSB0eXBlb2Ygb2xkQ2hpbGRyZW47XG4gICAgaWYgKGNoaWxkcmVuVHlwZSA9PT0gJ3N0cmluZycgfHwgY2hpbGRyZW5UeXBlID09PSAnbnVtYmVyJykge1xuICAgICAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgd2l0aCBhIHNpbmdsZSBwcmltaXRpdmUgY2hpbGRcbiAgICAgIG5ld0NoaWxkcmVuID0gb2xkQ2hpbGRyZW47XG4gICAgfSBlbHNlIGlmIChjaGlsZHJlblR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIFdyYXAgdGhlIGZ1bmN0aW9uLCByZXNvbHZpbmcgc3R5bGVzIG9uIHRoZSByZXN1bHRcbiAgICAgIG5ld0NoaWxkcmVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gb2xkQ2hpbGRyZW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgaWYgKFJlYWN0LmlzVmFsaWRFbGVtZW50KHJlc3VsdCkpIHtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZVN0eWxlcyhjb21wb25lbnQsIHJlc3VsdCwgZXhpc3RpbmdLZXlNYXApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoUmVhY3QuQ2hpbGRyZW4uY291bnQob2xkQ2hpbGRyZW4pID09PSAxICYmIG9sZENoaWxkcmVuLnR5cGUpIHtcbiAgICAgIC8vIElmIGEgUmVhY3QgRWxlbWVudCBpcyBhbiBvbmx5IGNoaWxkLCBkb24ndCB3cmFwIGl0IGluIGFuIGFycmF5IGZvclxuICAgICAgLy8gUmVhY3QuQ2hpbGRyZW4ubWFwKCkgZm9yIFJlYWN0LkNoaWxkcmVuLm9ubHkoKSBjb21wYXRpYmlsaXR5LlxuICAgICAgdmFyIG9ubHlDaGlsZCA9IFJlYWN0LkNoaWxkcmVuLm9ubHkob2xkQ2hpbGRyZW4pO1xuICAgICAgbmV3Q2hpbGRyZW4gPSByZXNvbHZlU3R5bGVzKGNvbXBvbmVudCwgb25seUNoaWxkLCBleGlzdGluZ0tleU1hcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0NoaWxkcmVuID0gUmVhY3QuQ2hpbGRyZW4ubWFwKG9sZENoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgaWYgKFJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICAgIHJldHVybiByZXNvbHZlU3R5bGVzKGNvbXBvbmVudCwgY2hpbGQsIGV4aXN0aW5nS2V5TWFwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHZhciBwcm9wcyA9IHJlbmRlcmVkRWxlbWVudC5wcm9wcztcbiAgdmFyIG5ld1Byb3BzID0ge307XG5cbiAgLy8gUmVjdXJzZSBvdmVyIHByb3BzLCBqdXN0IGxpa2UgY2hpbGRyZW5cbiAgT2JqZWN0LmtleXMocHJvcHMpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICAvLyBXZSBhbHJlYWR5IHJlY3Vyc2Ugb3ZlciBjaGlsZHJlbiBhYm92ZVxuICAgIGlmIChwcm9wID09PSAnY2hpbGRyZW4nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BdO1xuICAgIGlmIChSZWFjdC5pc1ZhbGlkRWxlbWVudChwcm9wVmFsdWUpKSB7XG4gICAgICBuZXdQcm9wc1twcm9wXSA9IHJlc29sdmVTdHlsZXMoY29tcG9uZW50LCBwcm9wVmFsdWUsIGV4aXN0aW5nS2V5TWFwKTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBoYXNSZXNvbHZlZFByb3BzID0gT2JqZWN0LmtleXMobmV3UHJvcHMpLmxlbmd0aCA+IDA7XG5cbiAgLy8gQmFpbCBlYXJseSBpZiBlbGVtZW50IGlzIG5vdCBhIHNpbXBsZSBSZWFjdERPTUVsZW1lbnQuXG4gIGlmICghUmVhY3QuaXNWYWxpZEVsZW1lbnQocmVuZGVyZWRFbGVtZW50KSB8fCB0eXBlb2YgcmVuZGVyZWRFbGVtZW50LnR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKG9sZENoaWxkcmVuID09PSBuZXdDaGlsZHJlbiAmJiAhaGFzUmVzb2x2ZWRQcm9wcykge1xuICAgICAgcmV0dXJuIHJlbmRlcmVkRWxlbWVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gX2Nsb25lRWxlbWVudChyZW5kZXJlZEVsZW1lbnQsIGhhc1Jlc29sdmVkUHJvcHMgPyBuZXdQcm9wcyA6IHt9LCBuZXdDaGlsZHJlbik7XG4gIH1cblxuICB2YXIgc3R5bGUgPSBwcm9wcy5zdHlsZTtcblxuICAvLyBDb252ZW5pZW50IHN5bnRheCBmb3IgbXVsdGlwbGUgc3R5bGVzOiBgc3R5bGU9e1tzdHlsZTEsIHN0eWxlMiwgZXRjXX1gXG4gIC8vIElnbm9yZXMgbm9uLW9iamVjdHMsIHNvIHlvdSBjYW4gZG8gYHRoaXMuc3RhdGUuaXNDb29sICYmIHN0eWxlcy5jb29sYC5cbiAgaWYgKEFycmF5LmlzQXJyYXkoc3R5bGUpKSB7XG4gICAgc3R5bGUgPSBfbWVyZ2VTdHlsZXMoc3R5bGUpO1xuICB9XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAvLyBXYXJuIGlmIHlvdSB1c2UgbG9uZ2hhbmQgYW5kIHNob3J0aGFuZCBwcm9wZXJ0aWVzIGluIHRoZSBzYW1lIHN0eWxlXG4gICAgLy8gb2JqZWN0LlxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9TaG9ydGhhbmRfcHJvcGVydGllc1xuXG4gICAgdmFyIHNob3J0aGFuZFByb3BlcnR5RXhwYW5zaW9ucyA9IHtcbiAgICAgICdiYWNrZ3JvdW5kJzogWydiYWNrZ3JvdW5kQXR0YWNobWVudCcsICdiYWNrZ3JvdW5kQmxlbmRNb2RlJywgJ2JhY2tncm91bmRDbGlwJywgJ2JhY2tncm91bmRDb2xvcicsICdiYWNrZ3JvdW5kSW1hZ2UnLCAnYmFja2dyb3VuZE9yaWdpbicsICdiYWNrZ3JvdW5kUG9zaXRpb24nLCAnYmFja2dyb3VuZFBvc2l0aW9uWCcsICdiYWNrZ3JvdW5kUG9zaXRpb25ZJywgJ2JhY2tncm91bmRSZXBlYXQnLCAnYmFja2dyb3VuZFJlcGVhdFgnLCAnYmFja2dyb3VuZFJlcGVhdFknLCAnYmFja2dyb3VuZFNpemUnXSxcbiAgICAgICdib3JkZXInOiBbJ2JvcmRlckJvdHRvbScsICdib3JkZXJCb3R0b21Db2xvcicsICdib3JkZXJCb3R0b21TdHlsZScsICdib3JkZXJCb3R0b21XaWR0aCcsICdib3JkZXJDb2xvcicsICdib3JkZXJMZWZ0JywgJ2JvcmRlckxlZnRDb2xvcicsICdib3JkZXJMZWZ0U3R5bGUnLCAnYm9yZGVyTGVmdFdpZHRoJywgJ2JvcmRlclJpZ2h0JywgJ2JvcmRlclJpZ2h0Q29sb3InLCAnYm9yZGVyUmlnaHRTdHlsZScsICdib3JkZXJSaWdodFdpZHRoJywgJ2JvcmRlclN0eWxlJywgJ2JvcmRlclRvcCcsICdib3JkZXJUb3BDb2xvcicsICdib3JkZXJUb3BTdHlsZScsICdib3JkZXJUb3BXaWR0aCcsICdib3JkZXJXaWR0aCddLFxuICAgICAgJ2JvcmRlckltYWdlJzogWydib3JkZXJJbWFnZU91dHNldCcsICdib3JkZXJJbWFnZVJlcGVhdCcsICdib3JkZXJJbWFnZVNsaWNlJywgJ2JvcmRlckltYWdlU291cmNlJywgJ2JvcmRlckltYWdlV2lkdGgnXSxcbiAgICAgICdib3JkZXJSYWRpdXMnOiBbJ2JvcmRlckJvdHRvbUxlZnRSYWRpdXMnLCAnYm9yZGVyQm90dG9tUmlnaHRSYWRpdXMnLCAnYm9yZGVyVG9wTGVmdFJhZGl1cycsICdib3JkZXJUb3BSaWdodFJhZGl1cyddLFxuICAgICAgJ2ZvbnQnOiBbJ2ZvbnRGYW1pbHknLCAnZm9udEtlcm5pbmcnLCAnZm9udFNpemUnLCAnZm9udFN0cmV0Y2gnLCAnZm9udFN0eWxlJywgJ2ZvbnRWYXJpYW50JywgJ2ZvbnRWYXJpYW50TGlnYXR1cmVzJywgJ2ZvbnRXZWlnaHQnLCAnbGluZUhlaWdodCddLFxuICAgICAgJ2xpc3RTdHlsZSc6IFsnbGlzdFN0eWxlSW1hZ2UnLCAnbGlzdFN0eWxlUG9zaXRpb24nLCAnbGlzdFN0eWxlVHlwZSddLFxuICAgICAgJ21hcmdpbic6IFsnbWFyZ2luQm90dG9tJywgJ21hcmdpbkxlZnQnLCAnbWFyZ2luUmlnaHQnLCAnbWFyZ2luVG9wJ10sXG4gICAgICAncGFkZGluZyc6IFsncGFkZGluZ0JvdHRvbScsICdwYWRkaW5nTGVmdCcsICdwYWRkaW5nUmlnaHQnLCAncGFkZGluZ1RvcCddLFxuICAgICAgJ3RyYW5zaXRpb24nOiBbJ3RyYW5zaXRpb25EZWxheScsICd0cmFuc2l0aW9uRHVyYXRpb24nLCAndHJhbnNpdGlvblByb3BlcnR5JywgJ3RyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiddXG4gICAgfTtcblxuICAgIHZhciBjaGVja1Byb3BzID0gZnVuY3Rpb24gY2hlY2tQcm9wcyhzKSB7XG4gICAgICBpZiAodHlwZW9mIHMgIT09ICdvYmplY3QnIHx8ICFzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0eWxlS2V5cyA9IE9iamVjdC5rZXlzKHMpO1xuICAgICAgc3R5bGVLZXlzLmZvckVhY2goZnVuY3Rpb24gKHN0eWxlS2V5KSB7XG4gICAgICAgIGlmIChzaG9ydGhhbmRQcm9wZXJ0eUV4cGFuc2lvbnNbc3R5bGVLZXldICYmIHNob3J0aGFuZFByb3BlcnR5RXhwYW5zaW9uc1tzdHlsZUtleV0uc29tZShmdW5jdGlvbiAoc3ApIHtcbiAgICAgICAgICByZXR1cm4gc3R5bGVLZXlzLmluZGV4T2Yoc3ApICE9PSAtMTtcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdSYWRpdW06IHByb3BlcnR5IFwiJyArIHN0eWxlS2V5ICsgJ1wiIGluIHN0eWxlIG9iamVjdCcsIHN0eWxlLCAnOiBkbyBub3QgbWl4IGxvbmdoYW5kIGFuZCAnICsgJ3Nob3J0aGFuZCBwcm9wZXJ0aWVzIGluIHRoZSBzYW1lIHN0eWxlIG9iamVjdC4gQ2hlY2sgdGhlIHJlbmRlciAnICsgJ21ldGhvZCBvZiAnICsgY29tcG9uZW50LmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lICsgJy4nLCAnU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Gb3JtaWRhYmxlTGFicy9yYWRpdW0vaXNzdWVzLzk1IGZvciBtb3JlICcgKyAnaW5mb3JtYXRpb24uJyk7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzdHlsZUtleXMuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICByZXR1cm4gY2hlY2tQcm9wcyhzW2tdKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgY2hlY2tQcm9wcyhzdHlsZSk7XG4gIH1cblxuICAvLyBCYWlsIGVhcmx5IGlmIG5vIGludGVyYWN0aXZlIHN0eWxlcy5cbiAgaWYgKCFzdHlsZSB8fCAhT2JqZWN0LmtleXMoc3R5bGUpLnNvbWUoX2lzU3BlY2lhbEtleSkpIHtcbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgIC8vIFN0aWxsIHBlcmZvcm0gdmVuZG9yIHByZWZpeGluZywgdGhvdWdoLlxuICAgICAgbmV3UHJvcHMuc3R5bGUgPSBQcmVmaXhlci5nZXRQcmVmaXhlZFN0eWxlKGNvbXBvbmVudCwgc3R5bGUpO1xuICAgICAgcmV0dXJuIF9jbG9uZUVsZW1lbnQocmVuZGVyZWRFbGVtZW50LCBuZXdQcm9wcywgbmV3Q2hpbGRyZW4pO1xuICAgIH0gZWxzZSBpZiAobmV3Q2hpbGRyZW4gfHwgaGFzUmVzb2x2ZWRQcm9wcykge1xuICAgICAgcmV0dXJuIF9jbG9uZUVsZW1lbnQocmVuZGVyZWRFbGVtZW50LCBuZXdQcm9wcywgbmV3Q2hpbGRyZW4pO1xuICAgIH1cblxuICAgIHJldHVybiByZW5kZXJlZEVsZW1lbnQ7XG4gIH1cblxuICAvLyBXZSBuZWVkIGEgdW5pcXVlIGtleSB0byBjb3JyZWxhdGUgc3RhdGUgY2hhbmdlcyBkdWUgdG8gdXNlciBpbnRlcmFjdGlvblxuICAvLyB3aXRoIHRoZSByZW5kZXJlZCBlbGVtZW50LCBzbyB3ZSBrbm93IHRvIGFwcGx5IHRoZSBwcm9wZXIgaW50ZXJhY3RpdmVcbiAgLy8gc3R5bGVzLlxuICB2YXIgb3JpZ2luYWxLZXkgPSByZW5kZXJlZEVsZW1lbnQucmVmIHx8IHJlbmRlcmVkRWxlbWVudC5rZXk7XG4gIHZhciBrZXkgPSBnZXRTdGF0ZUtleShvcmlnaW5hbEtleSk7XG5cbiAgaWYgKGV4aXN0aW5nS2V5TWFwW2tleV0pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1JhZGl1bSByZXF1aXJlcyBlYWNoIGVsZW1lbnQgd2l0aCBpbnRlcmFjdGl2ZSBzdHlsZXMgdG8gaGF2ZSBhIHVuaXF1ZSAnICsgJ2tleSwgc2V0IHVzaW5nIGVpdGhlciB0aGUgcmVmIG9yIGtleSBwcm9wLiAnICsgKG9yaWdpbmFsS2V5ID8gJ0tleSBcIicgKyBvcmlnaW5hbEtleSArICdcIiBpcyBhIGR1cGxpY2F0ZS4nIDogJ011bHRpcGxlIGVsZW1lbnRzIGhhdmUgbm8ga2V5IHNwZWNpZmllZC4nKSk7XG4gIH1cblxuICBleGlzdGluZ0tleU1hcFtrZXldID0gdHJ1ZTtcblxuICAvLyBNZWRpYSBxdWVyaWVzIGNhbiBjb250YWluIHBzZXVkbyBzdHlsZXMsIGxpa2UgOmhvdmVyXG4gIHN0eWxlID0gX3Jlc29sdmVNZWRpYVF1ZXJ5U3R5bGVzKGNvbXBvbmVudCwgc3R5bGUpO1xuXG4gIHZhciBuZXdTdHlsZSA9IHt9O1xuICBPYmplY3Qua2V5cyhzdHlsZSkuZm9yRWFjaChmdW5jdGlvbiAoc3R5bGVLZXkpIHtcbiAgICBpZiAoIV9pc1NwZWNpYWxLZXkoc3R5bGVLZXkpKSB7XG4gICAgICBuZXdTdHlsZVtzdHlsZUtleV0gPSBzdHlsZVtzdHlsZUtleV07XG4gICAgfVxuICB9KTtcblxuICAvLyBPbmx5IGFkZCBoYW5kbGVycyBpZiBuZWNlc3NhcnlcbiAgaWYgKHN0eWxlWyc6aG92ZXInXSB8fCBzdHlsZVsnOmFjdGl2ZSddKSB7XG4gICAgLy8gQWx3YXlzIGNhbGwgdGhlIGV4aXN0aW5nIGhhbmRsZXIgaWYgb25lIGlzIGFscmVhZHkgZGVmaW5lZC5cbiAgICAvLyBUaGlzIGNvZGUsIGFuZCB0aGUgdmVyeSBzaW1pbGFyIG9uZXMgYmVsb3csIGNvdWxkIGJlIGFic3RyYWN0ZWQgYSBiaXRcbiAgICAvLyBtb3JlLCBidXQgaXQgaHVydHMgcmVhZGFiaWxpdHkgSU1PLlxuICAgIHZhciBleGlzdGluZ09uTW91c2VFbnRlciA9IHByb3BzLm9uTW91c2VFbnRlcjtcbiAgICBuZXdQcm9wcy5vbk1vdXNlRW50ZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZXhpc3RpbmdPbk1vdXNlRW50ZXIgJiYgZXhpc3RpbmdPbk1vdXNlRW50ZXIoZSk7XG4gICAgICBfc2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgeyAnOmhvdmVyJzogdHJ1ZSB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGV4aXN0aW5nT25Nb3VzZUxlYXZlID0gcHJvcHMub25Nb3VzZUxlYXZlO1xuICAgIG5ld1Byb3BzLm9uTW91c2VMZWF2ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBleGlzdGluZ09uTW91c2VMZWF2ZSAmJiBleGlzdGluZ09uTW91c2VMZWF2ZShlKTtcbiAgICAgIF9zZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCB7ICc6aG92ZXInOiBmYWxzZSB9KTtcbiAgICB9O1xuICB9XG5cbiAgaWYgKHN0eWxlWyc6YWN0aXZlJ10pIHtcbiAgICB2YXIgZXhpc3RpbmdPbk1vdXNlRG93biA9IHByb3BzLm9uTW91c2VEb3duO1xuICAgIG5ld1Byb3BzLm9uTW91c2VEb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGV4aXN0aW5nT25Nb3VzZURvd24gJiYgZXhpc3RpbmdPbk1vdXNlRG93bihlKTtcbiAgICAgIGNvbXBvbmVudC5fbGFzdE1vdXNlRG93biA9IERhdGUubm93KCk7XG4gICAgICBfc2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgeyAnOmFjdGl2ZSc6IHRydWUgfSk7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChzdHlsZVsnOmZvY3VzJ10pIHtcbiAgICB2YXIgZXhpc3RpbmdPbkZvY3VzID0gcHJvcHMub25Gb2N1cztcbiAgICBuZXdQcm9wcy5vbkZvY3VzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGV4aXN0aW5nT25Gb2N1cyAmJiBleGlzdGluZ09uRm9jdXMoZSk7XG4gICAgICBfc2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgeyAnOmZvY3VzJzogdHJ1ZSB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGV4aXN0aW5nT25CbHVyID0gcHJvcHMub25CbHVyO1xuICAgIG5ld1Byb3BzLm9uQmx1ciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBleGlzdGluZ09uQmx1ciAmJiBleGlzdGluZ09uQmx1cihlKTtcbiAgICAgIF9zZXRTdHlsZVN0YXRlKGNvbXBvbmVudCwga2V5LCB7ICc6Zm9jdXMnOiBmYWxzZSB9KTtcbiAgICB9O1xuICB9XG5cbiAgLy8gTWVyZ2UgdGhlIHN0eWxlcyBpbiB0aGUgb3JkZXIgdGhleSB3ZXJlIGRlZmluZWRcbiAgdmFyIGludGVyYWN0aW9uU3R5bGVzID0gT2JqZWN0LmtleXMoc3R5bGUpLmZpbHRlcihmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiBuYW1lID09PSAnOmFjdGl2ZScgJiYgX2dldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksICc6YWN0aXZlJykgfHwgbmFtZSA9PT0gJzpob3ZlcicgJiYgX2dldFN0eWxlU3RhdGUoY29tcG9uZW50LCBrZXksICc6aG92ZXInKSB8fCBuYW1lID09PSAnOmZvY3VzJyAmJiBfZ2V0U3R5bGVTdGF0ZShjb21wb25lbnQsIGtleSwgJzpmb2N1cycpO1xuICB9KS5tYXAoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gc3R5bGVbbmFtZV07XG4gIH0pO1xuXG4gIGlmIChpbnRlcmFjdGlvblN0eWxlcy5sZW5ndGgpIHtcbiAgICBuZXdTdHlsZSA9IF9tZXJnZVN0eWxlcyhbbmV3U3R5bGVdLmNvbmNhdChpbnRlcmFjdGlvblN0eWxlcykpO1xuICB9XG5cbiAgaWYgKHN0eWxlWyc6YWN0aXZlJ10gJiYgIWNvbXBvbmVudC5fcmFkaXVtTW91c2VVcExpc3RlbmVyICYmIEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZUV2ZW50TGlzdGVuZXJzKSB7XG4gICAgY29tcG9uZW50Ll9yYWRpdW1Nb3VzZVVwTGlzdGVuZXIgPSBNb3VzZVVwTGlzdGVuZXIuc3Vic2NyaWJlKF9tb3VzZVVwLmJpbmQobnVsbCwgY29tcG9uZW50KSk7XG4gIH1cblxuICBuZXdQcm9wcy5zdHlsZSA9IFByZWZpeGVyLmdldFByZWZpeGVkU3R5bGUoY29tcG9uZW50LCBuZXdTdHlsZSk7XG5cbiAgcmV0dXJuIF9jbG9uZUVsZW1lbnQocmVuZGVyZWRFbGVtZW50LCBuZXdQcm9wcywgbmV3Q2hpbGRyZW4pO1xufTtcblxuLy8gRXhwb3NpbmcgbWV0aG9kcyBmb3IgdGVzdHMgaXMgdWdseSwgYnV0IHRoZSBhbHRlcm5hdGl2ZSwgcmUtcmVxdWlyaW5nIHRoZVxuLy8gbW9kdWxlIGVhY2ggdGltZSwgaXMgdG9vIHNsb3dcbnJlc29sdmVTdHlsZXMuX19jbGVhclN0YXRlRm9yVGVzdHMgPSBmdW5jdGlvbiAoKSB7XG4gIG1lZGlhUXVlcnlMaXN0QnlRdWVyeVN0cmluZyA9IHt9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSByZXNvbHZlU3R5bGVzOyIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gZmluZChhcnJheSwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gIGlmICh0eXBlb2YgQXJyYXkucHJvdG90eXBlLmZpbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYXJyYXkuZmluZChwcmVkaWNhdGUsIGNvbnRleHQpO1xuICB9XG5cbiAgY29udGV4dCA9IGNvbnRleHQgfHwgdGhpcztcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgdmFyIGk7XG5cbiAgaWYgKHR5cGVvZiBwcmVkaWNhdGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHByZWRpY2F0ZSArICcgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGlmIChwcmVkaWNhdGUuY2FsbChjb250ZXh0LCBhcnJheVtpXSwgaSwgYXJyYXkpKSB7XG4gICAgICByZXR1cm4gYXJyYXlbaV07XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZmluZDtcbiIsIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTUgSmVkIFdhdHNvbi5cbiAgQmFzZWQgb24gY29kZSB0aGF0IGlzIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4qL1xuXG4oZnVuY3Rpb24gKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGNhblVzZURPTSA9ICEhKFxuXHRcdHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG5cdFx0d2luZG93LmRvY3VtZW50ICYmXG5cdFx0d2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnRcblx0KTtcblxuXHR2YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSB7XG5cblx0XHRjYW5Vc2VET006IGNhblVzZURPTSxcblxuXHRcdGNhblVzZVdvcmtlcnM6IHR5cGVvZiBXb3JrZXIgIT09ICd1bmRlZmluZWQnLFxuXG5cdFx0Y2FuVXNlRXZlbnRMaXN0ZW5lcnM6XG5cdFx0XHRjYW5Vc2VET00gJiYgISEod2luZG93LmFkZEV2ZW50TGlzdGVuZXIgfHwgd2luZG93LmF0dGFjaEV2ZW50KSxcblxuXHRcdGNhblVzZVZpZXdwb3J0OiBjYW5Vc2VET00gJiYgISF3aW5kb3cuc2NyZWVuXG5cblx0fTtcblxuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdGRlZmluZShmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gRXhlY3V0aW9uRW52aXJvbm1lbnQ7XG5cdFx0fSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IEV4ZWN1dGlvbkVudmlyb25tZW50O1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5FeGVjdXRpb25FbnZpcm9ubWVudCA9IEV4ZWN1dGlvbkVudmlyb25tZW50O1xuXHR9XG5cbn0oKSk7XG4iXX0=
